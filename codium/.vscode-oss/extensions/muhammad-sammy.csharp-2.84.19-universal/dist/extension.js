"use strict";var x8e=Object.create;var D2=Object.defineProperty;var O8e=Object.getOwnPropertyDescriptor;var I8e=Object.getOwnPropertyNames;var k8e=Object.getPrototypeOf,A8e=Object.prototype.hasOwnProperty;var Ti=(r,e)=>()=>(r&&(e=r(r=0)),e);var C=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),g1=(r,e)=>{for(var t in e)D2(r,t,{get:e[t],enumerable:!0})},ige=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of I8e(e))!A8e.call(r,i)&&i!==t&&D2(r,i,{get:()=>e[i],enumerable:!(n=O8e(e,i))||n.enumerable});return r};var ye=(r,e,t)=>(t=r!=null?x8e(k8e(r)):{},ige(e||!r||!r.__esModule?D2(t,"default",{value:r,enumerable:!0}):t,r)),rT=r=>ige(D2({},"__esModule",{value:!0}),r);var b1=C((h3t,pge)=>{var L8e="2.0.0",M8e=Number.MAX_SAFE_INTEGER||9007199254740991,N8e=16,F8e=250,q8e=["major","premajor","minor","preminor","patch","prepatch","prerelease"];pge.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:N8e,MAX_SAFE_BUILD_LENGTH:F8e,MAX_SAFE_INTEGER:M8e,RELEASE_TYPES:q8e,SEMVER_SPEC_VERSION:L8e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var w1=C((p3t,mge)=>{var j8e=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};mge.exports=j8e});var NR=C((Yw,gge)=>{var{MAX_SAFE_COMPONENT_LENGTH:T8,MAX_SAFE_BUILD_LENGTH:z8e,MAX_LENGTH:U8e}=b1(),H8e=w1();Yw=gge.exports={};var B8e=Yw.re=[],W8e=Yw.safeRe=[],pn=Yw.src=[],mn=Yw.t={},$8e=0,D8="[a-zA-Z0-9-]",V8e=[["\\s",1],["\\d",U8e],[D8,z8e]],G8e=r=>{for(let[e,t]of V8e)r=r.split(`${e}*`).join(`${e}{0,${t}}`).split(`${e}+`).join(`${e}{1,${t}}`);return r},to=(r,e,t)=>{let n=G8e(e),i=$8e++;H8e(r,i,e),mn[r]=i,pn[i]=e,B8e[i]=new RegExp(e,t?"g":void 0),W8e[i]=new RegExp(n,t?"g":void 0)};to("NUMERICIDENTIFIER","0|[1-9]\\d*");to("NUMERICIDENTIFIERLOOSE","\\d+");to("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${D8}*`);to("MAINVERSION",`(${pn[mn.NUMERICIDENTIFIER]})\\.(${pn[mn.NUMERICIDENTIFIER]})\\.(${pn[mn.NUMERICIDENTIFIER]})`);to("MAINVERSIONLOOSE",`(${pn[mn.NUMERICIDENTIFIERLOOSE]})\\.(${pn[mn.NUMERICIDENTIFIERLOOSE]})\\.(${pn[mn.NUMERICIDENTIFIERLOOSE]})`);to("PRERELEASEIDENTIFIER",`(?:${pn[mn.NUMERICIDENTIFIER]}|${pn[mn.NONNUMERICIDENTIFIER]})`);to("PRERELEASEIDENTIFIERLOOSE",`(?:${pn[mn.NUMERICIDENTIFIERLOOSE]}|${pn[mn.NONNUMERICIDENTIFIER]})`);to("PRERELEASE",`(?:-(${pn[mn.PRERELEASEIDENTIFIER]}(?:\\.${pn[mn.PRERELEASEIDENTIFIER]})*))`);to("PRERELEASELOOSE",`(?:-?(${pn[mn.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${pn[mn.PRERELEASEIDENTIFIERLOOSE]})*))`);to("BUILDIDENTIFIER",`${D8}+`);to("BUILD",`(?:\\+(${pn[mn.BUILDIDENTIFIER]}(?:\\.${pn[mn.BUILDIDENTIFIER]})*))`);to("FULLPLAIN",`v?${pn[mn.MAINVERSION]}${pn[mn.PRERELEASE]}?${pn[mn.BUILD]}?`);to("FULL",`^${pn[mn.FULLPLAIN]}$`);to("LOOSEPLAIN",`[v=\\s]*${pn[mn.MAINVERSIONLOOSE]}${pn[mn.PRERELEASELOOSE]}?${pn[mn.BUILD]}?`);to("LOOSE",`^${pn[mn.LOOSEPLAIN]}$`);to("GTLT","((?:<|>)?=?)");to("XRANGEIDENTIFIERLOOSE",`${pn[mn.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);to("XRANGEIDENTIFIER",`${pn[mn.NUMERICIDENTIFIER]}|x|X|\\*`);to("XRANGEPLAIN",`[v=\\s]*(${pn[mn.XRANGEIDENTIFIER]})(?:\\.(${pn[mn.XRANGEIDENTIFIER]})(?:\\.(${pn[mn.XRANGEIDENTIFIER]})(?:${pn[mn.PRERELEASE]})?${pn[mn.BUILD]}?)?)?`);to("XRANGEPLAINLOOSE",`[v=\\s]*(${pn[mn.XRANGEIDENTIFIERLOOSE]})(?:\\.(${pn[mn.XRANGEIDENTIFIERLOOSE]})(?:\\.(${pn[mn.XRANGEIDENTIFIERLOOSE]})(?:${pn[mn.PRERELEASELOOSE]})?${pn[mn.BUILD]}?)?)?`);to("XRANGE",`^${pn[mn.GTLT]}\\s*${pn[mn.XRANGEPLAIN]}$`);to("XRANGELOOSE",`^${pn[mn.GTLT]}\\s*${pn[mn.XRANGEPLAINLOOSE]}$`);to("COERCE",`(^|[^\\d])(\\d{1,${T8}})(?:\\.(\\d{1,${T8}}))?(?:\\.(\\d{1,${T8}}))?(?:$|[^\\d])`);to("COERCERTL",pn[mn.COERCE],!0);to("LONETILDE","(?:~>?)");to("TILDETRIM",`(\\s*)${pn[mn.LONETILDE]}\\s+`,!0);Yw.tildeTrimReplace="$1~";to("TILDE",`^${pn[mn.LONETILDE]}${pn[mn.XRANGEPLAIN]}$`);to("TILDELOOSE",`^${pn[mn.LONETILDE]}${pn[mn.XRANGEPLAINLOOSE]}$`);to("LONECARET","(?:\\^)");to("CARETTRIM",`(\\s*)${pn[mn.LONECARET]}\\s+`,!0);Yw.caretTrimReplace="$1^";to("CARET",`^${pn[mn.LONECARET]}${pn[mn.XRANGEPLAIN]}$`);to("CARETLOOSE",`^${pn[mn.LONECARET]}${pn[mn.XRANGEPLAINLOOSE]}$`);to("COMPARATORLOOSE",`^${pn[mn.GTLT]}\\s*(${pn[mn.LOOSEPLAIN]})$|^$`);to("COMPARATOR",`^${pn[mn.GTLT]}\\s*(${pn[mn.FULLPLAIN]})$|^$`);to("COMPARATORTRIM",`(\\s*)${pn[mn.GTLT]}\\s*(${pn[mn.LOOSEPLAIN]}|${pn[mn.XRANGEPLAIN]})`,!0);Yw.comparatorTrimReplace="$1$2$3";to("HYPHENRANGE",`^\\s*(${pn[mn.XRANGEPLAIN]})\\s+-\\s+(${pn[mn.XRANGEPLAIN]})\\s*$`);to("HYPHENRANGELOOSE",`^\\s*(${pn[mn.XRANGEPLAINLOOSE]})\\s+-\\s+(${pn[mn.XRANGEPLAINLOOSE]})\\s*$`);to("STAR","(<|>)?=?\\s*\\*");to("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");to("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var R2=C((m3t,vge)=>{var K8e=Object.freeze({loose:!0}),Y8e=Object.freeze({}),J8e=r=>r?typeof r!="object"?K8e:r:Y8e;vge.exports=J8e});var E8=C((g3t,bge)=>{var yge=/^[0-9]+$/,_ge=(r,e)=>{let t=yge.test(r),n=yge.test(e);return t&&n&&(r=+r,e=+e),r===e?0:t&&!n?-1:n&&!t?1:r<e?-1:1},X8e=(r,e)=>_ge(e,r);bge.exports={compareIdentifiers:_ge,rcompareIdentifiers:X8e}});var Qf=C((v3t,Tge)=>{var P2=w1(),{MAX_LENGTH:wge,MAX_SAFE_INTEGER:x2}=b1(),{safeRe:Sge,t:Cge}=NR(),Q8e=R2(),{compareIdentifiers:FR}=E8(),R8=class r{constructor(e,t){if(t=Q8e(t),e instanceof r){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>wge)throw new TypeError(`version is longer than ${wge} characters`);P2("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let n=e.trim().match(t.loose?Sge[Cge.LOOSE]:Sge[Cge.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>x2||this.major<0)throw new TypeError("Invalid major version");if(this.minor>x2||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>x2||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let o=+i;if(o>=0&&o<x2)return o}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(P2("SemVer.compare",this.version,this.options,e),!(e instanceof r)){if(typeof e=="string"&&e===this.version)return 0;e=new r(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof r||(e=new r(e,this.options)),FR(this.major,e.major)||FR(this.minor,e.minor)||FR(this.patch,e.patch)}comparePre(e){if(e instanceof r||(e=new r(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let n=this.prerelease[t],i=e.prerelease[t];if(P2("prerelease compare",t,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return FR(n,i)}while(++t)}compareBuild(e){e instanceof r||(e=new r(e,this.options));let t=0;do{let n=this.build[t],i=e.build[t];if(P2("prerelease compare",t,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return FR(n,i)}while(++t)}inc(e,t,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(!t&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(t===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(t){let o=[t,i];n===!1&&(o=[t]),FR(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};Tge.exports=R8});var oT=C((y3t,Ege)=>{var Dge=Qf(),Z8e=(r,e,t=!1)=>{if(r instanceof Dge)return r;try{return new Dge(r,e)}catch(n){if(!t)return null;throw n}};Ege.exports=Z8e});var Pge=C((_3t,Rge)=>{var eKe=oT(),tKe=(r,e)=>{let t=eKe(r,e);return t?t.version:null};Rge.exports=tKe});var Oge=C((b3t,xge)=>{var rKe=oT(),nKe=(r,e)=>{let t=rKe(r.trim().replace(/^[=v]+/,""),e);return t?t.version:null};xge.exports=nKe});var Age=C((w3t,kge)=>{var Ige=Qf(),iKe=(r,e,t,n,i)=>{typeof t=="string"&&(i=n,n=t,t=void 0);try{return new Ige(r instanceof Ige?r.version:r,t).inc(e,n,i).version}catch{return null}};kge.exports=iKe});var Nge=C((S3t,Mge)=>{var Lge=oT(),oKe=(r,e)=>{let t=Lge(r,null,!0),n=Lge(e,null,!0),i=t.compare(n);if(i===0)return null;let o=i>0,s=o?t:n,a=o?n:t,c=!!s.prerelease.length;if(!!a.prerelease.length&&!c)return!a.patch&&!a.minor?"major":s.patch?"patch":s.minor?"minor":"major";let l=c?"pre":"";return t.major!==n.major?l+"major":t.minor!==n.minor?l+"minor":t.patch!==n.patch?l+"patch":"prerelease"};Mge.exports=oKe});var qge=C((C3t,Fge)=>{var sKe=Qf(),aKe=(r,e)=>new sKe(r,e).major;Fge.exports=aKe});var zge=C((T3t,jge)=>{var cKe=Qf(),uKe=(r,e)=>new cKe(r,e).minor;jge.exports=uKe});var Hge=C((D3t,Uge)=>{var lKe=Qf(),dKe=(r,e)=>new lKe(r,e).patch;Uge.exports=dKe});var Wge=C((E3t,Bge)=>{var fKe=oT(),hKe=(r,e)=>{let t=fKe(r,e);return t&&t.prerelease.length?t.prerelease:null};Bge.exports=hKe});var Iv=C((R3t,Vge)=>{var $ge=Qf(),pKe=(r,e,t)=>new $ge(r,t).compare(new $ge(e,t));Vge.exports=pKe});var Kge=C((P3t,Gge)=>{var mKe=Iv(),gKe=(r,e,t)=>mKe(e,r,t);Gge.exports=gKe});var Jge=C((x3t,Yge)=>{var vKe=Iv(),yKe=(r,e)=>vKe(r,e,!0);Yge.exports=yKe});var O2=C((O3t,Qge)=>{var Xge=Qf(),_Ke=(r,e,t)=>{let n=new Xge(r,t),i=new Xge(e,t);return n.compare(i)||n.compareBuild(i)};Qge.exports=_Ke});var eve=C((I3t,Zge)=>{var bKe=O2(),wKe=(r,e)=>r.sort((t,n)=>bKe(t,n,e));Zge.exports=wKe});var rve=C((k3t,tve)=>{var SKe=O2(),CKe=(r,e)=>r.sort((t,n)=>SKe(n,t,e));tve.exports=CKe});var S1=C((A3t,nve)=>{var TKe=Iv(),DKe=(r,e,t)=>TKe(r,e,t)>0;nve.exports=DKe});var I2=C((L3t,ive)=>{var EKe=Iv(),RKe=(r,e,t)=>EKe(r,e,t)<0;ive.exports=RKe});var P8=C((M3t,ove)=>{var PKe=Iv(),xKe=(r,e,t)=>PKe(r,e,t)===0;ove.exports=xKe});var x8=C((N3t,sve)=>{var OKe=Iv(),IKe=(r,e,t)=>OKe(r,e,t)!==0;sve.exports=IKe});var k2=C((F3t,ave)=>{var kKe=Iv(),AKe=(r,e,t)=>kKe(r,e,t)>=0;ave.exports=AKe});var A2=C((q3t,cve)=>{var LKe=Iv(),MKe=(r,e,t)=>LKe(r,e,t)<=0;cve.exports=MKe});var O8=C((j3t,uve)=>{var NKe=P8(),FKe=x8(),qKe=S1(),jKe=k2(),zKe=I2(),UKe=A2(),HKe=(r,e,t,n)=>{switch(e){case"===":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r===t;case"!==":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r!==t;case"":case"=":case"==":return NKe(r,t,n);case"!=":return FKe(r,t,n);case">":return qKe(r,t,n);case">=":return jKe(r,t,n);case"<":return zKe(r,t,n);case"<=":return UKe(r,t,n);default:throw new TypeError(`Invalid operator: ${e}`)}};uve.exports=HKe});var dve=C((z3t,lve)=>{var BKe=Qf(),WKe=oT(),{safeRe:L2,t:M2}=NR(),$Ke=(r,e)=>{if(r instanceof BKe)return r;if(typeof r=="number"&&(r=String(r)),typeof r!="string")return null;e=e||{};let t=null;if(!e.rtl)t=r.match(L2[M2.COERCE]);else{let n;for(;(n=L2[M2.COERCERTL].exec(r))&&(!t||t.index+t[0].length!==r.length);)(!t||n.index+n[0].length!==t.index+t[0].length)&&(t=n),L2[M2.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;L2[M2.COERCERTL].lastIndex=-1}return t===null?null:WKe(`${t[2]}.${t[3]||"0"}.${t[4]||"0"}`,e)};lve.exports=$Ke});var hve=C((U3t,fve)=>{"use strict";fve.exports=function(r){r.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var N2=C((H3t,pve)=>{"use strict";pve.exports=ls;ls.Node=_0;ls.create=ls;function ls(r){var e=this;if(e instanceof ls||(e=new ls),e.tail=null,e.head=null,e.length=0,r&&typeof r.forEach=="function")r.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var t=0,n=arguments.length;t<n;t++)e.push(arguments[t]);return e}ls.prototype.removeNode=function(r){if(r.list!==this)throw new Error("removing node which does not belong to this list");var e=r.next,t=r.prev;return e&&(e.prev=t),t&&(t.next=e),r===this.head&&(this.head=e),r===this.tail&&(this.tail=t),r.list.length--,r.next=null,r.prev=null,r.list=null,e};ls.prototype.unshiftNode=function(r){if(r!==this.head){r.list&&r.list.removeNode(r);var e=this.head;r.list=this,r.next=e,e&&(e.prev=r),this.head=r,this.tail||(this.tail=r),this.length++}};ls.prototype.pushNode=function(r){if(r!==this.tail){r.list&&r.list.removeNode(r);var e=this.tail;r.list=this,r.prev=e,e&&(e.next=r),this.tail=r,this.head||(this.head=r),this.length++}};ls.prototype.push=function(){for(var r=0,e=arguments.length;r<e;r++)GKe(this,arguments[r]);return this.length};ls.prototype.unshift=function(){for(var r=0,e=arguments.length;r<e;r++)KKe(this,arguments[r]);return this.length};ls.prototype.pop=function(){if(this.tail){var r=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,r}};ls.prototype.shift=function(){if(this.head){var r=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,r}};ls.prototype.forEach=function(r,e){e=e||this;for(var t=this.head,n=0;t!==null;n++)r.call(e,t.value,n,this),t=t.next};ls.prototype.forEachReverse=function(r,e){e=e||this;for(var t=this.tail,n=this.length-1;t!==null;n--)r.call(e,t.value,n,this),t=t.prev};ls.prototype.get=function(r){for(var e=0,t=this.head;t!==null&&e<r;e++)t=t.next;if(e===r&&t!==null)return t.value};ls.prototype.getReverse=function(r){for(var e=0,t=this.tail;t!==null&&e<r;e++)t=t.prev;if(e===r&&t!==null)return t.value};ls.prototype.map=function(r,e){e=e||this;for(var t=new ls,n=this.head;n!==null;)t.push(r.call(e,n.value,this)),n=n.next;return t};ls.prototype.mapReverse=function(r,e){e=e||this;for(var t=new ls,n=this.tail;n!==null;)t.push(r.call(e,n.value,this)),n=n.prev;return t};ls.prototype.reduce=function(r,e){var t,n=this.head;if(arguments.length>1)t=e;else if(this.head)n=this.head.next,t=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)t=r(t,n.value,i),n=n.next;return t};ls.prototype.reduceReverse=function(r,e){var t,n=this.tail;if(arguments.length>1)t=e;else if(this.tail)n=this.tail.prev,t=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)t=r(t,n.value,i),n=n.prev;return t};ls.prototype.toArray=function(){for(var r=new Array(this.length),e=0,t=this.head;t!==null;e++)r[e]=t.value,t=t.next;return r};ls.prototype.toArrayReverse=function(){for(var r=new Array(this.length),e=0,t=this.tail;t!==null;e++)r[e]=t.value,t=t.prev;return r};ls.prototype.slice=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new ls;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<r;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)t.push(i.value);return t};ls.prototype.sliceReverse=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new ls;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>r;n--,i=i.prev)t.push(i.value);return t};ls.prototype.splice=function(r,e,...t){r>this.length&&(r=this.length-1),r<0&&(r=this.length+r);for(var n=0,i=this.head;i!==null&&n<r;n++)i=i.next;for(var o=[],n=0;i&&n<e;n++)o.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<t.length;n++)i=VKe(this,i,t[n]);return o};ls.prototype.reverse=function(){for(var r=this.head,e=this.tail,t=r;t!==null;t=t.prev){var n=t.prev;t.prev=t.next,t.next=n}return this.head=e,this.tail=r,this};function VKe(r,e,t){var n=e===r.head?new _0(t,null,e,r):new _0(t,e,e.next,r);return n.next===null&&(r.tail=n),n.prev===null&&(r.head=n),r.length++,n}function GKe(r,e){r.tail=new _0(e,r.tail,null,r),r.head||(r.head=r.tail),r.length++}function KKe(r,e){r.head=new _0(e,null,r.head,r),r.tail||(r.tail=r.head),r.length++}function _0(r,e,t,n){if(!(this instanceof _0))return new _0(r,e,t,n);this.list=n,this.value=r,e?(e.next=this,this.prev=e):this.prev=null,t?(t.prev=this,this.next=t):this.next=null}try{hve()(ls)}catch{}});var _ve=C((B3t,yve)=>{"use strict";var YKe=N2(),b0=Symbol("max"),Xw=Symbol("length"),qR=Symbol("lengthCalculator"),T1=Symbol("allowStale"),w0=Symbol("maxAge"),Jw=Symbol("dispose"),mve=Symbol("noDisposeOnSet"),gd=Symbol("lruList"),Vy=Symbol("cache"),vve=Symbol("updateAgeOnGet"),I8=()=>1,A8=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let t=this[b0]=e.max||1/0,n=e.length||I8;if(this[qR]=typeof n!="function"?I8:n,this[T1]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[w0]=e.maxAge||0,this[Jw]=e.dispose,this[mve]=e.noDisposeOnSet||!1,this[vve]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[b0]=e||1/0,C1(this)}get max(){return this[b0]}set allowStale(e){this[T1]=!!e}get allowStale(){return this[T1]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[w0]=e,C1(this)}get maxAge(){return this[w0]}set lengthCalculator(e){typeof e!="function"&&(e=I8),e!==this[qR]&&(this[qR]=e,this[Xw]=0,this[gd].forEach(t=>{t.length=this[qR](t.value,t.key),this[Xw]+=t.length})),C1(this)}get lengthCalculator(){return this[qR]}get length(){return this[Xw]}get itemCount(){return this[gd].length}rforEach(e,t){t=t||this;for(let n=this[gd].tail;n!==null;){let i=n.prev;gve(this,e,n,t),n=i}}forEach(e,t){t=t||this;for(let n=this[gd].head;n!==null;){let i=n.next;gve(this,e,n,t),n=i}}keys(){return this[gd].toArray().map(e=>e.key)}values(){return this[gd].toArray().map(e=>e.value)}reset(){this[Jw]&&this[gd]&&this[gd].length&&this[gd].forEach(e=>this[Jw](e.key,e.value)),this[Vy]=new Map,this[gd]=new YKe,this[Xw]=0}dump(){return this[gd].map(e=>F2(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[gd]}set(e,t,n){if(n=n||this[w0],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let i=n?Date.now():0,o=this[qR](t,e);if(this[Vy].has(e)){if(o>this[b0])return jR(this,this[Vy].get(e)),!1;let c=this[Vy].get(e).value;return this[Jw]&&(this[mve]||this[Jw](e,c.value)),c.now=i,c.maxAge=n,c.value=t,this[Xw]+=o-c.length,c.length=o,this.get(e),C1(this),!0}let s=new L8(e,t,o,i,n);return s.length>this[b0]?(this[Jw]&&this[Jw](e,t),!1):(this[Xw]+=s.length,this[gd].unshift(s),this[Vy].set(e,this[gd].head),C1(this),!0)}has(e){if(!this[Vy].has(e))return!1;let t=this[Vy].get(e).value;return!F2(this,t)}get(e){return k8(this,e,!0)}peek(e){return k8(this,e,!1)}pop(){let e=this[gd].tail;return e?(jR(this,e),e.value):null}del(e){jR(this,this[Vy].get(e))}load(e){this.reset();let t=Date.now();for(let n=e.length-1;n>=0;n--){let i=e[n],o=i.e||0;if(o===0)this.set(i.k,i.v);else{let s=o-t;s>0&&this.set(i.k,i.v,s)}}}prune(){this[Vy].forEach((e,t)=>k8(this,t,!1))}},k8=(r,e,t)=>{let n=r[Vy].get(e);if(n){let i=n.value;if(F2(r,i)){if(jR(r,n),!r[T1])return}else t&&(r[vve]&&(n.value.now=Date.now()),r[gd].unshiftNode(n));return i.value}},F2=(r,e)=>{if(!e||!e.maxAge&&!r[w0])return!1;let t=Date.now()-e.now;return e.maxAge?t>e.maxAge:r[w0]&&t>r[w0]},C1=r=>{if(r[Xw]>r[b0])for(let e=r[gd].tail;r[Xw]>r[b0]&&e!==null;){let t=e.prev;jR(r,e),e=t}},jR=(r,e)=>{if(e){let t=e.value;r[Jw]&&r[Jw](t.key,t.value),r[Xw]-=t.length,r[Vy].delete(t.key),r[gd].removeNode(e)}},L8=class{constructor(e,t,n,i,o){this.key=e,this.value=t,this.length=n,this.now=i,this.maxAge=o||0}},gve=(r,e,t,n)=>{let i=t.value;F2(r,i)&&(jR(r,t),r[T1]||(i=void 0)),i&&e.call(n,i.value,i.key,r)};yve.exports=A8});var kv=C((W3t,Cve)=>{var M8=class r{constructor(e,t){if(t=XKe(t),e instanceof r)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new r(e.raw,t);if(e instanceof N8)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!wve(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&i9e(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&r9e)|(this.options.loose&&n9e))+":"+e,i=bve.get(n);if(i)return i;let o=this.options.loose,s=o?lm[ap.HYPHENRANGELOOSE]:lm[ap.HYPHENRANGE];e=e.replace(s,p9e(this.options.includePrerelease)),Ba("hyphen replace",e),e=e.replace(lm[ap.COMPARATORTRIM],ZKe),Ba("comparator trim",e),e=e.replace(lm[ap.TILDETRIM],e9e),Ba("tilde trim",e),e=e.replace(lm[ap.CARETTRIM],t9e),Ba("caret trim",e);let a=e.split(" ").map(d=>o9e(d,this.options)).join(" ").split(/\s+/).map(d=>h9e(d,this.options));o&&(a=a.filter(d=>(Ba("loose invalid filter",d,this.options),!!d.match(lm[ap.COMPARATORLOOSE])))),Ba("range list",a);let c=new Map,u=a.map(d=>new N8(d,this.options));for(let d of u){if(wve(d))return[d];c.set(d.value,d)}c.size>1&&c.has("")&&c.delete("");let l=[...c.values()];return bve.set(n,l),l}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Range is required");return this.set.some(n=>Sve(n,t)&&e.set.some(i=>Sve(i,t)&&n.every(o=>i.every(s=>o.intersects(s,t)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new QKe(e,this.options)}catch{return!1}for(let t=0;t<this.set.length;t++)if(m9e(this.set[t],e,this.options))return!0;return!1}};Cve.exports=M8;var JKe=_ve(),bve=new JKe({max:1e3}),XKe=R2(),N8=D1(),Ba=w1(),QKe=Qf(),{safeRe:lm,t:ap,comparatorTrimReplace:ZKe,tildeTrimReplace:e9e,caretTrimReplace:t9e}=NR(),{FLAG_INCLUDE_PRERELEASE:r9e,FLAG_LOOSE:n9e}=b1(),wve=r=>r.value==="<0.0.0-0",i9e=r=>r.value==="",Sve=(r,e)=>{let t=!0,n=r.slice(),i=n.pop();for(;t&&n.length;)t=n.every(o=>i.intersects(o,e)),i=n.pop();return t},o9e=(r,e)=>(Ba("comp",r,e),r=c9e(r,e),Ba("caret",r),r=s9e(r,e),Ba("tildes",r),r=l9e(r,e),Ba("xrange",r),r=f9e(r,e),Ba("stars",r),r),cp=r=>!r||r.toLowerCase()==="x"||r==="*",s9e=(r,e)=>r.trim().split(/\s+/).map(t=>a9e(t,e)).join(" "),a9e=(r,e)=>{let t=e.loose?lm[ap.TILDELOOSE]:lm[ap.TILDE];return r.replace(t,(n,i,o,s,a)=>{Ba("tilde",r,n,i,o,s,a);let c;return cp(i)?c="":cp(o)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:cp(s)?c=`>=${i}.${o}.0 <${i}.${+o+1}.0-0`:a?(Ba("replaceTilde pr",a),c=`>=${i}.${o}.${s}-${a} <${i}.${+o+1}.0-0`):c=`>=${i}.${o}.${s} <${i}.${+o+1}.0-0`,Ba("tilde return",c),c})},c9e=(r,e)=>r.trim().split(/\s+/).map(t=>u9e(t,e)).join(" "),u9e=(r,e)=>{Ba("caret",r,e);let t=e.loose?lm[ap.CARETLOOSE]:lm[ap.CARET],n=e.includePrerelease?"-0":"";return r.replace(t,(i,o,s,a,c)=>{Ba("caret",r,i,o,s,a,c);let u;return cp(o)?u="":cp(s)?u=`>=${o}.0.0${n} <${+o+1}.0.0-0`:cp(a)?o==="0"?u=`>=${o}.${s}.0${n} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.0${n} <${+o+1}.0.0-0`:c?(Ba("replaceCaret pr",c),o==="0"?s==="0"?u=`>=${o}.${s}.${a}-${c} <${o}.${s}.${+a+1}-0`:u=`>=${o}.${s}.${a}-${c} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.${a}-${c} <${+o+1}.0.0-0`):(Ba("no pr"),o==="0"?s==="0"?u=`>=${o}.${s}.${a}${n} <${o}.${s}.${+a+1}-0`:u=`>=${o}.${s}.${a}${n} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.${a} <${+o+1}.0.0-0`),Ba("caret return",u),u})},l9e=(r,e)=>(Ba("replaceXRanges",r,e),r.split(/\s+/).map(t=>d9e(t,e)).join(" ")),d9e=(r,e)=>{r=r.trim();let t=e.loose?lm[ap.XRANGELOOSE]:lm[ap.XRANGE];return r.replace(t,(n,i,o,s,a,c)=>{Ba("xRange",r,n,i,o,s,a,c);let u=cp(o),l=u||cp(s),d=l||cp(a),f=d;return i==="="&&f&&(i=""),c=e.includePrerelease?"-0":"",u?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&f?(l&&(s=0),a=0,i===">"?(i=">=",l?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):i==="<="&&(i="<",l?o=+o+1:s=+s+1),i==="<"&&(c="-0"),n=`${i+o}.${s}.${a}${c}`):l?n=`>=${o}.0.0${c} <${+o+1}.0.0-0`:d&&(n=`>=${o}.${s}.0${c} <${o}.${+s+1}.0-0`),Ba("xRange return",n),n})},f9e=(r,e)=>(Ba("replaceStars",r,e),r.trim().replace(lm[ap.STAR],"")),h9e=(r,e)=>(Ba("replaceGTE0",r,e),r.trim().replace(lm[e.includePrerelease?ap.GTE0PRE:ap.GTE0],"")),p9e=r=>(e,t,n,i,o,s,a,c,u,l,d,f,p)=>(cp(n)?t="":cp(i)?t=`>=${n}.0.0${r?"-0":""}`:cp(o)?t=`>=${n}.${i}.0${r?"-0":""}`:s?t=`>=${t}`:t=`>=${t}${r?"-0":""}`,cp(u)?c="":cp(l)?c=`<${+u+1}.0.0-0`:cp(d)?c=`<${u}.${+l+1}.0-0`:f?c=`<=${u}.${l}.${d}-${f}`:r?c=`<${u}.${l}.${+d+1}-0`:c=`<=${c}`,`${t} ${c}`.trim()),m9e=(r,e,t)=>{for(let n=0;n<r.length;n++)if(!r[n].test(e))return!1;if(e.prerelease.length&&!t.includePrerelease){for(let n=0;n<r.length;n++)if(Ba(r[n].semver),r[n].semver!==N8.ANY&&r[n].semver.prerelease.length>0){let i=r[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var D1=C(($3t,xve)=>{var E1=Symbol("SemVer ANY"),j8=class r{static get ANY(){return E1}constructor(e,t){if(t=Tve(t),e instanceof r){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),q8("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===E1?this.value="":this.value=this.operator+this.semver.version,q8("comp",this)}parse(e){let t=this.options.loose?Dve[Eve.COMPARATORLOOSE]:Dve[Eve.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new Rve(n[2],this.options.loose):this.semver=E1}toString(){return this.value}test(e){if(q8("Comparator.test",e,this.options.loose),this.semver===E1||e===E1)return!0;if(typeof e=="string")try{e=new Rve(e,this.options)}catch{return!1}return F8(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new Pve(e.value,t).test(this.value):e.operator===""?e.value===""?!0:new Pve(this.value,t).test(e.semver):(t=Tve(t),t.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||F8(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||F8(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};xve.exports=j8;var Tve=R2(),{safeRe:Dve,t:Eve}=NR(),F8=O8(),q8=w1(),Rve=Qf(),Pve=kv()});var zR=C((V3t,Ove)=>{var g9e=kv(),v9e=(r,e,t)=>{try{e=new g9e(e,t)}catch{return!1}return e.test(r)};Ove.exports=v9e});var kve=C((G3t,Ive)=>{var y9e=kv(),_9e=(r,e)=>new y9e(r,e).set.map(t=>t.map(n=>n.value).join(" ").trim().split(" "));Ive.exports=_9e});var Lve=C((K3t,Ave)=>{var b9e=Qf(),w9e=kv(),S9e=(r,e,t)=>{let n=null,i=null,o=null;try{o=new w9e(e,t)}catch{return null}return r.forEach(s=>{o.test(s)&&(!n||i.compare(s)===-1)&&(n=s,i=new b9e(n,t))}),n};Ave.exports=S9e});var Nve=C((Y3t,Mve)=>{var C9e=Qf(),T9e=kv(),D9e=(r,e,t)=>{let n=null,i=null,o=null;try{o=new T9e(e,t)}catch{return null}return r.forEach(s=>{o.test(s)&&(!n||i.compare(s)===1)&&(n=s,i=new C9e(n,t))}),n};Mve.exports=D9e});var jve=C((J3t,qve)=>{var z8=Qf(),E9e=kv(),Fve=S1(),R9e=(r,e)=>{r=new E9e(r,e);let t=new z8("0.0.0");if(r.test(t)||(t=new z8("0.0.0-0"),r.test(t)))return t;t=null;for(let n=0;n<r.set.length;++n){let i=r.set[n],o=null;i.forEach(s=>{let a=new z8(s.semver.version);switch(s.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!o||Fve(a,o))&&(o=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${s.operator}`)}}),o&&(!t||Fve(t,o))&&(t=o)}return t&&r.test(t)?t:null};qve.exports=R9e});var Uve=C((X3t,zve)=>{var P9e=kv(),x9e=(r,e)=>{try{return new P9e(r,e).range||"*"}catch{return null}};zve.exports=x9e});var q2=C((Q3t,$ve)=>{var O9e=Qf(),Wve=D1(),{ANY:I9e}=Wve,k9e=kv(),A9e=zR(),Hve=S1(),Bve=I2(),L9e=A2(),M9e=k2(),N9e=(r,e,t,n)=>{r=new O9e(r,n),e=new k9e(e,n);let i,o,s,a,c;switch(t){case">":i=Hve,o=L9e,s=Bve,a=">",c=">=";break;case"<":i=Bve,o=M9e,s=Hve,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(A9e(r,e,n))return!1;for(let u=0;u<e.set.length;++u){let l=e.set[u],d=null,f=null;if(l.forEach(p=>{p.semver===I9e&&(p=new Wve(">=0.0.0")),d=d||p,f=f||p,i(p.semver,d.semver,n)?d=p:s(p.semver,f.semver,n)&&(f=p)}),d.operator===a||d.operator===c||(!f.operator||f.operator===a)&&o(r,f.semver))return!1;if(f.operator===c&&s(r,f.semver))return!1}return!0};$ve.exports=N9e});var Gve=C((Z3t,Vve)=>{var F9e=q2(),q9e=(r,e,t)=>F9e(r,e,">",t);Vve.exports=q9e});var Yve=C((eVt,Kve)=>{var j9e=q2(),z9e=(r,e,t)=>j9e(r,e,"<",t);Kve.exports=z9e});var Qve=C((tVt,Xve)=>{var Jve=kv(),U9e=(r,e,t)=>(r=new Jve(r,t),e=new Jve(e,t),r.intersects(e,t));Xve.exports=U9e});var eye=C((rVt,Zve)=>{var H9e=zR(),B9e=Iv();Zve.exports=(r,e,t)=>{let n=[],i=null,o=null,s=r.sort((l,d)=>B9e(l,d,t));for(let l of s)H9e(l,e,t)?(o=l,i||(i=l)):(o&&n.push([i,o]),o=null,i=null);i&&n.push([i,null]);let a=[];for(let[l,d]of n)l===d?a.push(l):!d&&l===s[0]?a.push("*"):d?l===s[0]?a.push(`<=${d}`):a.push(`${l} - ${d}`):a.push(`>=${l}`);let c=a.join(" || "),u=typeof e.raw=="string"?e.raw:String(e);return c.length<u.length?c:e}});var sye=C((nVt,oye)=>{var tye=kv(),H8=D1(),{ANY:U8}=H8,R1=zR(),B8=Iv(),W9e=(r,e,t={})=>{if(r===e)return!0;r=new tye(r,t),e=new tye(e,t);let n=!1;e:for(let i of r.set){for(let o of e.set){let s=V9e(i,o,t);if(n=n||s!==null,s)continue e}if(n)return!1}return!0},$9e=[new H8(">=0.0.0-0")],rye=[new H8(">=0.0.0")],V9e=(r,e,t)=>{if(r===e)return!0;if(r.length===1&&r[0].semver===U8){if(e.length===1&&e[0].semver===U8)return!0;t.includePrerelease?r=$9e:r=rye}if(e.length===1&&e[0].semver===U8){if(t.includePrerelease)return!0;e=rye}let n=new Set,i,o;for(let p of r)p.operator===">"||p.operator===">="?i=nye(i,p,t):p.operator==="<"||p.operator==="<="?o=iye(o,p,t):n.add(p.semver);if(n.size>1)return null;let s;if(i&&o){if(s=B8(i.semver,o.semver,t),s>0)return null;if(s===0&&(i.operator!==">="||o.operator!=="<="))return null}for(let p of n){if(i&&!R1(p,String(i),t)||o&&!R1(p,String(o),t))return null;for(let _ of e)if(!R1(p,String(_),t))return!1;return!0}let a,c,u,l,d=o&&!t.includePrerelease&&o.semver.prerelease.length?o.semver:!1,f=i&&!t.includePrerelease&&i.semver.prerelease.length?i.semver:!1;d&&d.prerelease.length===1&&o.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let p of e){if(l=l||p.operator===">"||p.operator===">=",u=u||p.operator==="<"||p.operator==="<=",i){if(f&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===f.major&&p.semver.minor===f.minor&&p.semver.patch===f.patch&&(f=!1),p.operator===">"||p.operator===">="){if(a=nye(i,p,t),a===p&&a!==i)return!1}else if(i.operator===">="&&!R1(i.semver,String(p),t))return!1}if(o){if(d&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===d.major&&p.semver.minor===d.minor&&p.semver.patch===d.patch&&(d=!1),p.operator==="<"||p.operator==="<="){if(c=iye(o,p,t),c===p&&c!==o)return!1}else if(o.operator==="<="&&!R1(o.semver,String(p),t))return!1}if(!p.operator&&(o||i)&&s!==0)return!1}return!(i&&u&&!o&&s!==0||o&&l&&!i&&s!==0||f||d)},nye=(r,e,t)=>{if(!r)return e;let n=B8(r.semver,e.semver,t);return n>0?r:n<0||e.operator===">"&&r.operator===">="?e:r},iye=(r,e,t)=>{if(!r)return e;let n=B8(r.semver,e.semver,t);return n<0?r:n>0||e.operator==="<"&&r.operator==="<="?e:r};oye.exports=W9e});var sT=C((iVt,uye)=>{var W8=NR(),aye=b1(),G9e=Qf(),cye=E8(),K9e=oT(),Y9e=Pge(),J9e=Oge(),X9e=Age(),Q9e=Nge(),Z9e=qge(),e7e=zge(),t7e=Hge(),r7e=Wge(),n7e=Iv(),i7e=Kge(),o7e=Jge(),s7e=O2(),a7e=eve(),c7e=rve(),u7e=S1(),l7e=I2(),d7e=P8(),f7e=x8(),h7e=k2(),p7e=A2(),m7e=O8(),g7e=dve(),v7e=D1(),y7e=kv(),_7e=zR(),b7e=kve(),w7e=Lve(),S7e=Nve(),C7e=jve(),T7e=Uve(),D7e=q2(),E7e=Gve(),R7e=Yve(),P7e=Qve(),x7e=eye(),O7e=sye();uye.exports={parse:K9e,valid:Y9e,clean:J9e,inc:X9e,diff:Q9e,major:Z9e,minor:e7e,patch:t7e,prerelease:r7e,compare:n7e,rcompare:i7e,compareLoose:o7e,compareBuild:s7e,sort:a7e,rsort:c7e,gt:u7e,lt:l7e,eq:d7e,neq:f7e,gte:h7e,lte:p7e,cmp:m7e,coerce:g7e,Comparator:v7e,Range:y7e,satisfies:_7e,toComparators:b7e,maxSatisfying:w7e,minSatisfying:S7e,minVersion:C7e,validRange:T7e,outside:D7e,gtr:E7e,ltr:R7e,intersects:P7e,simplifyRange:x7e,subset:O7e,SemVer:G9e,re:W8.re,src:W8.src,tokens:W8.t,SEMVER_SPEC_VERSION:aye.SEMVER_SPEC_VERSION,RELEASE_TYPES:aye.RELEASE_TYPES,compareIdentifiers:cye.compareIdentifiers,rcompareIdentifiers:cye.rcompareIdentifiers}});var fm=C(K8=>{"use strict";K8.fromCallback=function(r){return Object.defineProperty(function(...e){if(typeof e[e.length-1]=="function")r.apply(this,e);else return new Promise((t,n)=>{r.call(this,...e,(i,o)=>i!=null?n(i):t(o))})},"name",{value:r.name})};K8.fromPromise=function(r){return Object.defineProperty(function(...e){let t=e[e.length-1];if(typeof t!="function")return r.apply(this,e);r.apply(this,e.slice(0,-1)).then(n=>t(null,n),t)},"name",{value:r.name})}});var _ye=C((wVt,yye)=>{var lT=require("constants"),q7e=process.cwd,J2=null,j7e=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return J2||(J2=q7e.call(process)),J2};try{process.cwd()}catch{}typeof process.chdir=="function"&&(Y8=process.chdir,process.chdir=function(r){J2=null,Y8.call(process,r)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,Y8));var Y8;yye.exports=z7e;function z7e(r){lT.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&e(r),r.lutimes||t(r),r.chown=o(r.chown),r.fchown=o(r.fchown),r.lchown=o(r.lchown),r.chmod=n(r.chmod),r.fchmod=n(r.fchmod),r.lchmod=n(r.lchmod),r.chownSync=s(r.chownSync),r.fchownSync=s(r.fchownSync),r.lchownSync=s(r.lchownSync),r.chmodSync=i(r.chmodSync),r.fchmodSync=i(r.fchmodSync),r.lchmodSync=i(r.lchmodSync),r.stat=a(r.stat),r.fstat=a(r.fstat),r.lstat=a(r.lstat),r.statSync=c(r.statSync),r.fstatSync=c(r.fstatSync),r.lstatSync=c(r.lstatSync),r.chmod&&!r.lchmod&&(r.lchmod=function(l,d,f){f&&process.nextTick(f)},r.lchmodSync=function(){}),r.chown&&!r.lchown&&(r.lchown=function(l,d,f,p){p&&process.nextTick(p)},r.lchownSync=function(){}),j7e==="win32"&&(r.rename=typeof r.rename!="function"?r.rename:function(l){function d(f,p,_){var D=Date.now(),P=0;l(f,p,function M(A){if(A&&(A.code==="EACCES"||A.code==="EPERM"||A.code==="EBUSY")&&Date.now()-D<6e4){setTimeout(function(){r.stat(p,function(U,ne){U&&U.code==="ENOENT"?l(f,p,M):_(A)})},P),P<100&&(P+=10);return}_&&_(A)})}return Object.setPrototypeOf&&Object.setPrototypeOf(d,l),d}(r.rename)),r.read=typeof r.read!="function"?r.read:function(l){function d(f,p,_,D,P,M){var A;if(M&&typeof M=="function"){var U=0;A=function(ne,pe,ve){if(ne&&ne.code==="EAGAIN"&&U<10)return U++,l.call(r,f,p,_,D,P,A);M.apply(this,arguments)}}return l.call(r,f,p,_,D,P,A)}return Object.setPrototypeOf&&Object.setPrototypeOf(d,l),d}(r.read),r.readSync=typeof r.readSync!="function"?r.readSync:function(l){return function(d,f,p,_,D){for(var P=0;;)try{return l.call(r,d,f,p,_,D)}catch(M){if(M.code==="EAGAIN"&&P<10){P++;continue}throw M}}}(r.readSync);function e(l){l.lchmod=function(d,f,p){l.open(d,lT.O_WRONLY|lT.O_SYMLINK,f,function(_,D){if(_){p&&p(_);return}l.fchmod(D,f,function(P){l.close(D,function(M){p&&p(P||M)})})})},l.lchmodSync=function(d,f){var p=l.openSync(d,lT.O_WRONLY|lT.O_SYMLINK,f),_=!0,D;try{D=l.fchmodSync(p,f),_=!1}finally{if(_)try{l.closeSync(p)}catch{}else l.closeSync(p)}return D}}function t(l){lT.hasOwnProperty("O_SYMLINK")&&l.futimes?(l.lutimes=function(d,f,p,_){l.open(d,lT.O_SYMLINK,function(D,P){if(D){_&&_(D);return}l.futimes(P,f,p,function(M){l.close(P,function(A){_&&_(M||A)})})})},l.lutimesSync=function(d,f,p){var _=l.openSync(d,lT.O_SYMLINK),D,P=!0;try{D=l.futimesSync(_,f,p),P=!1}finally{if(P)try{l.closeSync(_)}catch{}else l.closeSync(_)}return D}):l.futimes&&(l.lutimes=function(d,f,p,_){_&&process.nextTick(_)},l.lutimesSync=function(){})}function n(l){return l&&function(d,f,p){return l.call(r,d,f,function(_){u(_)&&(_=null),p&&p.apply(this,arguments)})}}function i(l){return l&&function(d,f){try{return l.call(r,d,f)}catch(p){if(!u(p))throw p}}}function o(l){return l&&function(d,f,p,_){return l.call(r,d,f,p,function(D){u(D)&&(D=null),_&&_.apply(this,arguments)})}}function s(l){return l&&function(d,f,p){try{return l.call(r,d,f,p)}catch(_){if(!u(_))throw _}}}function a(l){return l&&function(d,f,p){typeof f=="function"&&(p=f,f=null);function _(D,P){P&&(P.uid<0&&(P.uid+=4294967296),P.gid<0&&(P.gid+=4294967296)),p&&p.apply(this,arguments)}return f?l.call(r,d,f,_):l.call(r,d,_)}}function c(l){return l&&function(d,f){var p=f?l.call(r,d,f):l.call(r,d);return p&&(p.uid<0&&(p.uid+=4294967296),p.gid<0&&(p.gid+=4294967296)),p}}function u(l){if(!l||l.code==="ENOSYS")return!0;var d=!process.getuid||process.getuid()!==0;return!!(d&&(l.code==="EINVAL"||l.code==="EPERM"))}}});var Sye=C((SVt,wye)=>{var bye=require("stream").Stream;wye.exports=U7e;function U7e(r){return{ReadStream:e,WriteStream:t};function e(n,i){if(!(this instanceof e))return new e(n,i);bye.call(this);var o=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var s=Object.keys(i),a=0,c=s.length;a<c;a++){var u=s[a];this[u]=i[u]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){o._read()});return}r.open(this.path,this.flags,this.mode,function(l,d){if(l){o.emit("error",l),o.readable=!1;return}o.fd=d,o.emit("open",d),o._read()})}function t(n,i){if(!(this instanceof t))return new t(n,i);bye.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var o=Object.keys(i),s=0,a=o.length;s<a;s++){var c=o[s];this[c]=i[c]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=r.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var Tye=C((CVt,Cye)=>{"use strict";Cye.exports=B7e;var H7e=Object.getPrototypeOf||function(r){return r.__proto__};function B7e(r){if(r===null||typeof r!="object")return r;if(r instanceof Object)var e={__proto__:H7e(r)};else var e=Object.create(null);return Object.getOwnPropertyNames(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}),e}});var Zf=C((TVt,Q8)=>{var Hc=require("fs"),W7e=_ye(),$7e=Sye(),V7e=Tye(),X2=require("util"),df,Z2;typeof Symbol=="function"&&typeof Symbol.for=="function"?(df=Symbol.for("graceful-fs.queue"),Z2=Symbol.for("graceful-fs.previous")):(df="___graceful-fs.queue",Z2="___graceful-fs.previous");function G7e(){}function Rye(r,e){Object.defineProperty(r,df,{get:function(){return e}})}var R0=G7e;X2.debuglog?R0=X2.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(R0=function(){var r=X2.format.apply(X2,arguments);r="GFS4: "+r.split(/\n/).join(`
GFS4: `),console.error(r)});Hc[df]||(Dye=global[df]||[],Rye(Hc,Dye),Hc.close=function(r){function e(t,n){return r.call(Hc,t,function(i){i||Eye(),typeof n=="function"&&n.apply(this,arguments)})}return Object.defineProperty(e,Z2,{value:r}),e}(Hc.close),Hc.closeSync=function(r){function e(t){r.apply(Hc,arguments),Eye()}return Object.defineProperty(e,Z2,{value:r}),e}(Hc.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){R0(Hc[df]),require("assert").equal(Hc[df].length,0)}));var Dye;global[df]||Rye(global,Hc[df]);Q8.exports=J8(V7e(Hc));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!Hc.__patched&&(Q8.exports=J8(Hc),Hc.__patched=!0);function J8(r){W7e(r),r.gracefulify=J8,r.createReadStream=pe,r.createWriteStream=ve;var e=r.readFile;r.readFile=t;function t(ee,De,ae){return typeof De=="function"&&(ae=De,De=null),ue(ee,De,ae);function ue(Fe,Me,ce,Ce){return e(Fe,Me,function(be){be&&(be.code==="EMFILE"||be.code==="ENFILE")?GR([ue,[Fe,Me,ce],be,Ce||Date.now(),Date.now()]):typeof ce=="function"&&ce.apply(this,arguments)})}}var n=r.writeFile;r.writeFile=i;function i(ee,De,ae,ue){return typeof ae=="function"&&(ue=ae,ae=null),Fe(ee,De,ae,ue);function Fe(Me,ce,Ce,be,xe){return n(Me,ce,Ce,function(Ne){Ne&&(Ne.code==="EMFILE"||Ne.code==="ENFILE")?GR([Fe,[Me,ce,Ce,be],Ne,xe||Date.now(),Date.now()]):typeof be=="function"&&be.apply(this,arguments)})}}var o=r.appendFile;o&&(r.appendFile=s);function s(ee,De,ae,ue){return typeof ae=="function"&&(ue=ae,ae=null),Fe(ee,De,ae,ue);function Fe(Me,ce,Ce,be,xe){return o(Me,ce,Ce,function(Ne){Ne&&(Ne.code==="EMFILE"||Ne.code==="ENFILE")?GR([Fe,[Me,ce,Ce,be],Ne,xe||Date.now(),Date.now()]):typeof be=="function"&&be.apply(this,arguments)})}}var a=r.copyFile;a&&(r.copyFile=c);function c(ee,De,ae,ue){return typeof ae=="function"&&(ue=ae,ae=0),Fe(ee,De,ae,ue);function Fe(Me,ce,Ce,be,xe){return a(Me,ce,Ce,function(Ne){Ne&&(Ne.code==="EMFILE"||Ne.code==="ENFILE")?GR([Fe,[Me,ce,Ce,be],Ne,xe||Date.now(),Date.now()]):typeof be=="function"&&be.apply(this,arguments)})}}var u=r.readdir;r.readdir=d;var l=/^v[0-5]\./;function d(ee,De,ae){typeof De=="function"&&(ae=De,De=null);var ue=l.test(process.version)?function(ce,Ce,be,xe){return u(ce,Fe(ce,Ce,be,xe))}:function(ce,Ce,be,xe){return u(ce,Ce,Fe(ce,Ce,be,xe))};return ue(ee,De,ae);function Fe(Me,ce,Ce,be){return function(xe,Ne){xe&&(xe.code==="EMFILE"||xe.code==="ENFILE")?GR([ue,[Me,ce,Ce],xe,be||Date.now(),Date.now()]):(Ne&&Ne.sort&&Ne.sort(),typeof Ce=="function"&&Ce.call(this,xe,Ne))}}}if(process.version.substr(0,4)==="v0.8"){var f=$7e(r);M=f.ReadStream,U=f.WriteStream}var p=r.ReadStream;p&&(M.prototype=Object.create(p.prototype),M.prototype.open=A);var _=r.WriteStream;_&&(U.prototype=Object.create(_.prototype),U.prototype.open=ne),Object.defineProperty(r,"ReadStream",{get:function(){return M},set:function(ee){M=ee},enumerable:!0,configurable:!0}),Object.defineProperty(r,"WriteStream",{get:function(){return U},set:function(ee){U=ee},enumerable:!0,configurable:!0});var D=M;Object.defineProperty(r,"FileReadStream",{get:function(){return D},set:function(ee){D=ee},enumerable:!0,configurable:!0});var P=U;Object.defineProperty(r,"FileWriteStream",{get:function(){return P},set:function(ee){P=ee},enumerable:!0,configurable:!0});function M(ee,De){return this instanceof M?(p.apply(this,arguments),this):M.apply(Object.create(M.prototype),arguments)}function A(){var ee=this;W(ee.path,ee.flags,ee.mode,function(De,ae){De?(ee.autoClose&&ee.destroy(),ee.emit("error",De)):(ee.fd=ae,ee.emit("open",ae),ee.read())})}function U(ee,De){return this instanceof U?(_.apply(this,arguments),this):U.apply(Object.create(U.prototype),arguments)}function ne(){var ee=this;W(ee.path,ee.flags,ee.mode,function(De,ae){De?(ee.destroy(),ee.emit("error",De)):(ee.fd=ae,ee.emit("open",ae))})}function pe(ee,De){return new r.ReadStream(ee,De)}function ve(ee,De){return new r.WriteStream(ee,De)}var V=r.open;r.open=W;function W(ee,De,ae,ue){return typeof ae=="function"&&(ue=ae,ae=null),Fe(ee,De,ae,ue);function Fe(Me,ce,Ce,be,xe){return V(Me,ce,Ce,function(Ne,$e){Ne&&(Ne.code==="EMFILE"||Ne.code==="ENFILE")?GR([Fe,[Me,ce,Ce,be],Ne,xe||Date.now(),Date.now()]):typeof be=="function"&&be.apply(this,arguments)})}}return r}function GR(r){R0("ENQUEUE",r[0].name,r[1]),Hc[df].push(r),X8()}var Q2;function Eye(){for(var r=Date.now(),e=0;e<Hc[df].length;++e)Hc[df][e].length>2&&(Hc[df][e][3]=r,Hc[df][e][4]=r);X8()}function X8(){if(clearTimeout(Q2),Q2=void 0,Hc[df].length!==0){var r=Hc[df].shift(),e=r[0],t=r[1],n=r[2],i=r[3],o=r[4];if(i===void 0)R0("RETRY",e.name,t),e.apply(null,t);else if(Date.now()-i>=6e4){R0("TIMEOUT",e.name,t);var s=t.pop();typeof s=="function"&&s.call(null,n)}else{var a=Date.now()-o,c=Math.max(o-i,1),u=Math.min(c*1.2,100);a>=u?(R0("RETRY",e.name,t),e.apply(null,t.concat([i]))):Hc[df].push(r)}Q2===void 0&&(Q2=setTimeout(X8,0))}}});var O1=C(dT=>{"use strict";var Pye=fm().fromCallback,up=Zf(),K7e=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(r=>typeof up[r]=="function");Object.keys(up).forEach(r=>{r!=="promises"&&(dT[r]=up[r])});K7e.forEach(r=>{dT[r]=Pye(up[r])});dT.exists=function(r,e){return typeof e=="function"?up.exists(r,e):new Promise(t=>up.exists(r,t))};dT.read=function(r,e,t,n,i,o){return typeof o=="function"?up.read(r,e,t,n,i,o):new Promise((s,a)=>{up.read(r,e,t,n,i,(c,u,l)=>{if(c)return a(c);s({bytesRead:u,buffer:l})})})};dT.write=function(r,e,...t){return typeof t[t.length-1]=="function"?up.write(r,e,...t):new Promise((n,i)=>{up.write(r,e,...t,(o,s,a)=>{if(o)return i(o);n({bytesWritten:s,buffer:a})})})};typeof up.writev=="function"&&(dT.writev=function(r,e,...t){return typeof t[t.length-1]=="function"?up.writev(r,e,...t):new Promise((n,i)=>{up.writev(r,e,...t,(o,s,a)=>{if(o)return i(o);n({bytesWritten:s,buffers:a})})})});typeof up.realpath.native=="function"&&(dT.realpath.native=Pye(up.realpath.native))});var Z8=C((EVt,xye)=>{xye.exports=r=>{let e=process.versions.node.split(".").map(t=>parseInt(t,10));return r=r.split(".").map(t=>parseInt(t,10)),e[0]>r[0]||e[0]===r[0]&&(e[1]>r[1]||e[1]===r[1]&&e[2]>=r[2])}});var Lye=C((RVt,eK)=>{"use strict";var KR=O1(),Qw=require("path"),Y7e=Z8(),Oye=Y7e("10.12.0"),Iye=r=>{if(process.platform==="win32"&&/[<>:"|?*]/.test(r.replace(Qw.parse(r).root,""))){let t=new Error(`Path contains invalid characters: ${r}`);throw t.code="EINVAL",t}},kye=r=>{let e={mode:511};return typeof r=="number"&&(r={mode:r}),{...e,...r}},Aye=r=>{let e=new Error(`operation not permitted, mkdir '${r}'`);return e.code="EPERM",e.errno=-4048,e.path=r,e.syscall="mkdir",e};eK.exports.makeDir=async(r,e)=>{if(Iye(r),e=kye(e),Oye){let n=Qw.resolve(r);return KR.mkdir(n,{mode:e.mode,recursive:!0})}let t=async n=>{try{await KR.mkdir(n,e.mode)}catch(i){if(i.code==="EPERM")throw i;if(i.code==="ENOENT"){if(Qw.dirname(n)===n)throw Aye(n);if(i.message.includes("null bytes"))throw i;return await t(Qw.dirname(n)),t(n)}try{if(!(await KR.stat(n)).isDirectory())throw new Error("The path is not a directory")}catch{throw i}}};return t(Qw.resolve(r))};eK.exports.makeDirSync=(r,e)=>{if(Iye(r),e=kye(e),Oye){let n=Qw.resolve(r);return KR.mkdirSync(n,{mode:e.mode,recursive:!0})}let t=n=>{try{KR.mkdirSync(n,e.mode)}catch(i){if(i.code==="EPERM")throw i;if(i.code==="ENOENT"){if(Qw.dirname(n)===n)throw Aye(n);if(i.message.includes("null bytes"))throw i;return t(Qw.dirname(n)),t(n)}try{if(!KR.statSync(n).isDirectory())throw new Error("The path is not a directory")}catch{throw i}}};return t(Qw.resolve(r))}});var Gy=C((PVt,Mye)=>{"use strict";var J7e=fm().fromPromise,{makeDir:X7e,makeDirSync:tK}=Lye(),rK=J7e(X7e);Mye.exports={mkdirs:rK,mkdirsSync:tK,mkdirp:rK,mkdirpSync:tK,ensureDir:rK,ensureDirSync:tK}});var nK=C((xVt,Nye)=>{"use strict";var YR=Zf();function Q7e(r,e,t,n){YR.open(r,"r+",(i,o)=>{if(i)return n(i);YR.futimes(o,e,t,s=>{YR.close(o,a=>{n&&n(s||a)})})})}function Z7e(r,e,t){let n=YR.openSync(r,"r+");return YR.futimesSync(n,e,t),YR.closeSync(n)}Nye.exports={utimesMillis:Q7e,utimesMillisSync:Z7e}});var I1=C((OVt,zye)=>{"use strict";var JR=O1(),hm=require("path"),eYe=require("util"),tYe=Z8(),ej=tYe("10.5.0"),Fye=r=>ej?JR.stat(r,{bigint:!0}):JR.stat(r),iK=r=>ej?JR.statSync(r,{bigint:!0}):JR.statSync(r);function rYe(r,e){return Promise.all([Fye(r),Fye(e).catch(t=>{if(t.code==="ENOENT")return null;throw t})]).then(([t,n])=>({srcStat:t,destStat:n}))}function nYe(r,e){let t,n=iK(r);try{t=iK(e)}catch(i){if(i.code==="ENOENT")return{srcStat:n,destStat:null};throw i}return{srcStat:n,destStat:t}}function iYe(r,e,t,n){eYe.callbackify(rYe)(r,e,(i,o)=>{if(i)return n(i);let{srcStat:s,destStat:a}=o;return a&&tj(s,a)?n(new Error("Source and destination must not be the same.")):s.isDirectory()&&oK(r,e)?n(new Error(rj(r,e,t))):n(null,{srcStat:s,destStat:a})})}function oYe(r,e,t){let{srcStat:n,destStat:i}=nYe(r,e);if(i&&tj(n,i))throw new Error("Source and destination must not be the same.");if(n.isDirectory()&&oK(r,e))throw new Error(rj(r,e,t));return{srcStat:n,destStat:i}}function qye(r,e,t,n,i){let o=hm.resolve(hm.dirname(r)),s=hm.resolve(hm.dirname(t));if(s===o||s===hm.parse(s).root)return i();let a=(c,u)=>c?c.code==="ENOENT"?i():i(c):tj(e,u)?i(new Error(rj(r,t,n))):qye(r,e,s,n,i);ej?JR.stat(s,{bigint:!0},a):JR.stat(s,a)}function jye(r,e,t,n){let i=hm.resolve(hm.dirname(r)),o=hm.resolve(hm.dirname(t));if(o===i||o===hm.parse(o).root)return;let s;try{s=iK(o)}catch(a){if(a.code==="ENOENT")return;throw a}if(tj(e,s))throw new Error(rj(r,t,n));return jye(r,e,o,n)}function tj(r,e){return!!(e.ino&&e.dev&&e.ino===r.ino&&e.dev===r.dev&&(ej||e.ino<Number.MAX_SAFE_INTEGER||e.size===r.size&&e.mode===r.mode&&e.nlink===r.nlink&&e.atimeMs===r.atimeMs&&e.mtimeMs===r.mtimeMs&&e.ctimeMs===r.ctimeMs&&e.birthtimeMs===r.birthtimeMs))}function oK(r,e){let t=hm.resolve(r).split(hm.sep).filter(i=>i),n=hm.resolve(e).split(hm.sep).filter(i=>i);return t.reduce((i,o,s)=>i&&n[s]===o,!0)}function rj(r,e,t){return`Cannot ${t} '${r}' to a subdirectory of itself, '${e}'.`}zye.exports={checkPaths:iYe,checkPathsSync:oYe,checkParentPaths:qye,checkParentPathsSync:jye,isSrcSubdir:oK}});var $ye=C((IVt,Wye)=>{"use strict";var eh=Zf(),k1=require("path"),sYe=Gy().mkdirsSync,aYe=nK().utimesMillisSync,A1=I1();function cYe(r,e,t){typeof t=="function"&&(t={filter:t}),t=t||{},t.clobber="clobber"in t?!!t.clobber:!0,t.overwrite="overwrite"in t?!!t.overwrite:t.clobber,t.preserveTimestamps&&process.arch==="ia32"&&console.warn(`fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;

    see https://github.com/jprichardson/node-fs-extra/issues/269`);let{srcStat:n,destStat:i}=A1.checkPathsSync(r,e,"copy");return A1.checkParentPathsSync(r,n,e,"copy"),uYe(i,r,e,t)}function uYe(r,e,t,n){if(n.filter&&!n.filter(e,t))return;let i=k1.dirname(t);return eh.existsSync(i)||sYe(i),Uye(r,e,t,n)}function Uye(r,e,t,n){if(!(n.filter&&!n.filter(e,t)))return lYe(r,e,t,n)}function lYe(r,e,t,n){let o=(n.dereference?eh.statSync:eh.lstatSync)(e);if(o.isDirectory())return vYe(o,r,e,t,n);if(o.isFile()||o.isCharacterDevice()||o.isBlockDevice())return dYe(o,r,e,t,n);if(o.isSymbolicLink())return bYe(r,e,t,n)}function dYe(r,e,t,n,i){return e?fYe(r,t,n,i):Hye(r,t,n,i)}function fYe(r,e,t,n){if(n.overwrite)return eh.unlinkSync(t),Hye(r,e,t,n);if(n.errorOnExist)throw new Error(`'${t}' already exists`)}function Hye(r,e,t,n){return eh.copyFileSync(e,t),n.preserveTimestamps&&hYe(r.mode,e,t),sK(t,r.mode)}function hYe(r,e,t){return pYe(r)&&mYe(t,r),gYe(e,t)}function pYe(r){return(r&128)===0}function mYe(r,e){return sK(r,e|128)}function sK(r,e){return eh.chmodSync(r,e)}function gYe(r,e){let t=eh.statSync(r);return aYe(e,t.atime,t.mtime)}function vYe(r,e,t,n,i){if(!e)return yYe(r.mode,t,n,i);if(e&&!e.isDirectory())throw new Error(`Cannot overwrite non-directory '${n}' with directory '${t}'.`);return Bye(t,n,i)}function yYe(r,e,t,n){return eh.mkdirSync(t),Bye(e,t,n),sK(t,r)}function Bye(r,e,t){eh.readdirSync(r).forEach(n=>_Ye(n,r,e,t))}function _Ye(r,e,t,n){let i=k1.join(e,r),o=k1.join(t,r),{destStat:s}=A1.checkPathsSync(i,o,"copy");return Uye(s,i,o,n)}function bYe(r,e,t,n){let i=eh.readlinkSync(e);if(n.dereference&&(i=k1.resolve(process.cwd(),i)),r){let o;try{o=eh.readlinkSync(t)}catch(s){if(s.code==="EINVAL"||s.code==="UNKNOWN")return eh.symlinkSync(i,t);throw s}if(n.dereference&&(o=k1.resolve(process.cwd(),o)),A1.isSrcSubdir(i,o))throw new Error(`Cannot copy '${i}' to a subdirectory of itself, '${o}'.`);if(eh.statSync(t).isDirectory()&&A1.isSrcSubdir(o,i))throw new Error(`Cannot overwrite '${o}' with '${i}'.`);return wYe(i,t)}else return eh.symlinkSync(i,t)}function wYe(r,e){return eh.unlinkSync(e),eh.symlinkSync(r,e)}Wye.exports=cYe});var aK=C((kVt,Vye)=>{"use strict";Vye.exports={copySync:$ye()}});var fT=C((AVt,Kye)=>{"use strict";var SYe=fm().fromPromise,Gye=O1();function CYe(r){return Gye.access(r).then(()=>!0).catch(()=>!1)}Kye.exports={pathExists:SYe(CYe),pathExistsSync:Gye.existsSync}});var n_e=C((LVt,r_e)=>{"use strict";var pm=Zf(),L1=require("path"),TYe=Gy().mkdirs,DYe=fT().pathExists,EYe=nK().utimesMillis,M1=I1();function RYe(r,e,t,n){typeof t=="function"&&!n?(n=t,t={}):typeof t=="function"&&(t={filter:t}),n=n||function(){},t=t||{},t.clobber="clobber"in t?!!t.clobber:!0,t.overwrite="overwrite"in t?!!t.overwrite:t.clobber,t.preserveTimestamps&&process.arch==="ia32"&&console.warn(`fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;

    see https://github.com/jprichardson/node-fs-extra/issues/269`),M1.checkPaths(r,e,"copy",(i,o)=>{if(i)return n(i);let{srcStat:s,destStat:a}=o;M1.checkParentPaths(r,s,e,"copy",c=>c?n(c):t.filter?Qye(Yye,a,r,e,t,n):Yye(a,r,e,t,n))})}function Yye(r,e,t,n,i){let o=L1.dirname(t);DYe(o,(s,a)=>{if(s)return i(s);if(a)return cK(r,e,t,n,i);TYe(o,c=>c?i(c):cK(r,e,t,n,i))})}function Qye(r,e,t,n,i,o){Promise.resolve(i.filter(t,n)).then(s=>s?r(e,t,n,i,o):o(),s=>o(s))}function cK(r,e,t,n,i){return n.filter?Qye(Jye,r,e,t,n,i):Jye(r,e,t,n,i)}function Jye(r,e,t,n,i){(n.dereference?pm.stat:pm.lstat)(e,(s,a)=>{if(s)return i(s);if(a.isDirectory())return LYe(a,r,e,t,n,i);if(a.isFile()||a.isCharacterDevice()||a.isBlockDevice())return PYe(a,r,e,t,n,i);if(a.isSymbolicLink())return FYe(r,e,t,n,i)})}function PYe(r,e,t,n,i,o){return e?xYe(r,t,n,i,o):Zye(r,t,n,i,o)}function xYe(r,e,t,n,i){if(n.overwrite)pm.unlink(t,o=>o?i(o):Zye(r,e,t,n,i));else return n.errorOnExist?i(new Error(`'${t}' already exists`)):i()}function Zye(r,e,t,n,i){pm.copyFile(e,t,o=>o?i(o):n.preserveTimestamps?OYe(r.mode,e,t,i):nj(t,r.mode,i))}function OYe(r,e,t,n){return IYe(r)?kYe(t,r,i=>i?n(i):Xye(r,e,t,n)):Xye(r,e,t,n)}function IYe(r){return(r&128)===0}function kYe(r,e,t){return nj(r,e|128,t)}function Xye(r,e,t,n){AYe(e,t,i=>i?n(i):nj(t,r,n))}function nj(r,e,t){return pm.chmod(r,e,t)}function AYe(r,e,t){pm.stat(r,(n,i)=>n?t(n):EYe(e,i.atime,i.mtime,t))}function LYe(r,e,t,n,i,o){return e?e&&!e.isDirectory()?o(new Error(`Cannot overwrite non-directory '${n}' with directory '${t}'.`)):e_e(t,n,i,o):MYe(r.mode,t,n,i,o)}function MYe(r,e,t,n,i){pm.mkdir(t,o=>{if(o)return i(o);e_e(e,t,n,s=>s?i(s):nj(t,r,i))})}function e_e(r,e,t,n){pm.readdir(r,(i,o)=>i?n(i):t_e(o,r,e,t,n))}function t_e(r,e,t,n,i){let o=r.pop();return o?NYe(r,o,e,t,n,i):i()}function NYe(r,e,t,n,i,o){let s=L1.join(t,e),a=L1.join(n,e);M1.checkPaths(s,a,"copy",(c,u)=>{if(c)return o(c);let{destStat:l}=u;cK(l,s,a,i,d=>d?o(d):t_e(r,t,n,i,o))})}function FYe(r,e,t,n,i){pm.readlink(e,(o,s)=>{if(o)return i(o);if(n.dereference&&(s=L1.resolve(process.cwd(),s)),r)pm.readlink(t,(a,c)=>a?a.code==="EINVAL"||a.code==="UNKNOWN"?pm.symlink(s,t,i):i(a):(n.dereference&&(c=L1.resolve(process.cwd(),c)),M1.isSrcSubdir(s,c)?i(new Error(`Cannot copy '${s}' to a subdirectory of itself, '${c}'.`)):r.isDirectory()&&M1.isSrcSubdir(c,s)?i(new Error(`Cannot overwrite '${c}' with '${s}'.`)):qYe(s,t,i)));else return pm.symlink(s,t,i)})}function qYe(r,e,t){pm.unlink(e,n=>n?t(n):pm.symlink(r,e,t))}r_e.exports=RYe});var uK=C((MVt,i_e)=>{"use strict";var jYe=fm().fromCallback;i_e.exports={copy:jYe(n_e())}});var h_e=C((NVt,f_e)=>{"use strict";var o_e=Zf(),u_e=require("path"),ma=require("assert"),N1=process.platform==="win32";function l_e(r){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(t=>{r[t]=r[t]||o_e[t],t=t+"Sync",r[t]=r[t]||o_e[t]}),r.maxBusyTries=r.maxBusyTries||3}function lK(r,e,t){let n=0;typeof e=="function"&&(t=e,e={}),ma(r,"rimraf: missing path"),ma.strictEqual(typeof r,"string","rimraf: path should be a string"),ma.strictEqual(typeof t,"function","rimraf: callback function required"),ma(e,"rimraf: invalid options argument provided"),ma.strictEqual(typeof e,"object","rimraf: options should be object"),l_e(e),s_e(r,e,function i(o){if(o){if((o.code==="EBUSY"||o.code==="ENOTEMPTY"||o.code==="EPERM")&&n<e.maxBusyTries){n++;let s=n*100;return setTimeout(()=>s_e(r,e,i),s)}o.code==="ENOENT"&&(o=null)}t(o)})}function s_e(r,e,t){ma(r),ma(e),ma(typeof t=="function"),e.lstat(r,(n,i)=>{if(n&&n.code==="ENOENT")return t(null);if(n&&n.code==="EPERM"&&N1)return a_e(r,e,n,t);if(i&&i.isDirectory())return ij(r,e,n,t);e.unlink(r,o=>{if(o){if(o.code==="ENOENT")return t(null);if(o.code==="EPERM")return N1?a_e(r,e,o,t):ij(r,e,o,t);if(o.code==="EISDIR")return ij(r,e,o,t)}return t(o)})})}function a_e(r,e,t,n){ma(r),ma(e),ma(typeof n=="function"),e.chmod(r,438,i=>{i?n(i.code==="ENOENT"?null:t):e.stat(r,(o,s)=>{o?n(o.code==="ENOENT"?null:t):s.isDirectory()?ij(r,e,t,n):e.unlink(r,n)})})}function c_e(r,e,t){let n;ma(r),ma(e);try{e.chmodSync(r,438)}catch(i){if(i.code==="ENOENT")return;throw t}try{n=e.statSync(r)}catch(i){if(i.code==="ENOENT")return;throw t}n.isDirectory()?oj(r,e,t):e.unlinkSync(r)}function ij(r,e,t,n){ma(r),ma(e),ma(typeof n=="function"),e.rmdir(r,i=>{i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")?zYe(r,e,n):i&&i.code==="ENOTDIR"?n(t):n(i)})}function zYe(r,e,t){ma(r),ma(e),ma(typeof t=="function"),e.readdir(r,(n,i)=>{if(n)return t(n);let o=i.length,s;if(o===0)return e.rmdir(r,t);i.forEach(a=>{lK(u_e.join(r,a),e,c=>{if(!s){if(c)return t(s=c);--o===0&&e.rmdir(r,t)}})})})}function d_e(r,e){let t;e=e||{},l_e(e),ma(r,"rimraf: missing path"),ma.strictEqual(typeof r,"string","rimraf: path should be a string"),ma(e,"rimraf: missing options"),ma.strictEqual(typeof e,"object","rimraf: options should be object");try{t=e.lstatSync(r)}catch(n){if(n.code==="ENOENT")return;n.code==="EPERM"&&N1&&c_e(r,e,n)}try{t&&t.isDirectory()?oj(r,e,null):e.unlinkSync(r)}catch(n){if(n.code==="ENOENT")return;if(n.code==="EPERM")return N1?c_e(r,e,n):oj(r,e,n);if(n.code!=="EISDIR")throw n;oj(r,e,n)}}function oj(r,e,t){ma(r),ma(e);try{e.rmdirSync(r)}catch(n){if(n.code==="ENOTDIR")throw t;if(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")UYe(r,e);else if(n.code!=="ENOENT")throw n}}function UYe(r,e){if(ma(r),ma(e),e.readdirSync(r).forEach(t=>d_e(u_e.join(r,t),e)),N1){let t=Date.now();do try{return e.rmdirSync(r,e)}catch{}while(Date.now()-t<500)}else return e.rmdirSync(r,e)}f_e.exports=lK;lK.sync=d_e});var F1=C((FVt,m_e)=>{"use strict";var HYe=fm().fromCallback,p_e=h_e();m_e.exports={remove:HYe(p_e),removeSync:p_e.sync}});var T_e=C((qVt,C_e)=>{"use strict";var BYe=fm().fromCallback,y_e=Zf(),b_e=require("path"),w_e=Gy(),S_e=F1(),g_e=BYe(function(e,t){t=t||function(){},y_e.readdir(e,(n,i)=>{if(n)return w_e.mkdirs(e,t);i=i.map(s=>b_e.join(e,s)),o();function o(){let s=i.pop();if(!s)return t();S_e.remove(s,a=>{if(a)return t(a);o()})}})});function v_e(r){let e;try{e=y_e.readdirSync(r)}catch{return w_e.mkdirsSync(r)}e.forEach(t=>{t=b_e.join(r,t),S_e.removeSync(t)})}C_e.exports={emptyDirSync:v_e,emptydirSync:v_e,emptyDir:g_e,emptydir:g_e}});var P_e=C((jVt,R_e)=>{"use strict";var WYe=fm().fromCallback,D_e=require("path"),hT=Zf(),E_e=Gy();function $Ye(r,e){function t(){hT.writeFile(r,"",n=>{if(n)return e(n);e()})}hT.stat(r,(n,i)=>{if(!n&&i.isFile())return e();let o=D_e.dirname(r);hT.stat(o,(s,a)=>{if(s)return s.code==="ENOENT"?E_e.mkdirs(o,c=>{if(c)return e(c);t()}):e(s);a.isDirectory()?t():hT.readdir(o,c=>{if(c)return e(c)})})})}function VYe(r){let e;try{e=hT.statSync(r)}catch{}if(e&&e.isFile())return;let t=D_e.dirname(r);try{hT.statSync(t).isDirectory()||hT.readdirSync(t)}catch(n){if(n&&n.code==="ENOENT")E_e.mkdirsSync(t);else throw n}hT.writeFileSync(r,"")}R_e.exports={createFile:WYe($Ye),createFileSync:VYe}});var A_e=C((zVt,k_e)=>{"use strict";var GYe=fm().fromCallback,O_e=require("path"),P0=Zf(),I_e=Gy(),x_e=fT().pathExists;function KYe(r,e,t){function n(i,o){P0.link(i,o,s=>{if(s)return t(s);t(null)})}x_e(e,(i,o)=>{if(i)return t(i);if(o)return t(null);P0.lstat(r,s=>{if(s)return s.message=s.message.replace("lstat","ensureLink"),t(s);let a=O_e.dirname(e);x_e(a,(c,u)=>{if(c)return t(c);if(u)return n(r,e);I_e.mkdirs(a,l=>{if(l)return t(l);n(r,e)})})})})}function YYe(r,e){if(P0.existsSync(e))return;try{P0.lstatSync(r)}catch(o){throw o.message=o.message.replace("lstat","ensureLink"),o}let n=O_e.dirname(e);return P0.existsSync(n)||I_e.mkdirsSync(n),P0.linkSync(r,e)}k_e.exports={createLink:GYe(KYe),createLinkSync:YYe}});var M_e=C((UVt,L_e)=>{"use strict";var pT=require("path"),q1=Zf(),JYe=fT().pathExists;function XYe(r,e,t){if(pT.isAbsolute(r))return q1.lstat(r,n=>n?(n.message=n.message.replace("lstat","ensureSymlink"),t(n)):t(null,{toCwd:r,toDst:r}));{let n=pT.dirname(e),i=pT.join(n,r);return JYe(i,(o,s)=>o?t(o):s?t(null,{toCwd:i,toDst:r}):q1.lstat(r,a=>a?(a.message=a.message.replace("lstat","ensureSymlink"),t(a)):t(null,{toCwd:r,toDst:pT.relative(n,r)})))}}function QYe(r,e){let t;if(pT.isAbsolute(r)){if(t=q1.existsSync(r),!t)throw new Error("absolute srcpath does not exist");return{toCwd:r,toDst:r}}else{let n=pT.dirname(e),i=pT.join(n,r);if(t=q1.existsSync(i),t)return{toCwd:i,toDst:r};if(t=q1.existsSync(r),!t)throw new Error("relative srcpath does not exist");return{toCwd:r,toDst:pT.relative(n,r)}}}L_e.exports={symlinkPaths:XYe,symlinkPathsSync:QYe}});var q_e=C((HVt,F_e)=>{"use strict";var N_e=Zf();function ZYe(r,e,t){if(t=typeof e=="function"?e:t,e=typeof e=="function"?!1:e,e)return t(null,e);N_e.lstat(r,(n,i)=>{if(n)return t(null,"file");e=i&&i.isDirectory()?"dir":"file",t(null,e)})}function eJe(r,e){let t;if(e)return e;try{t=N_e.lstatSync(r)}catch{return"file"}return t&&t.isDirectory()?"dir":"file"}F_e.exports={symlinkType:ZYe,symlinkTypeSync:eJe}});var $_e=C((BVt,W_e)=>{"use strict";var tJe=fm().fromCallback,z_e=require("path"),XR=Zf(),U_e=Gy(),rJe=U_e.mkdirs,nJe=U_e.mkdirsSync,H_e=M_e(),iJe=H_e.symlinkPaths,oJe=H_e.symlinkPathsSync,B_e=q_e(),sJe=B_e.symlinkType,aJe=B_e.symlinkTypeSync,j_e=fT().pathExists;function cJe(r,e,t,n){n=typeof t=="function"?t:n,t=typeof t=="function"?!1:t,j_e(e,(i,o)=>{if(i)return n(i);if(o)return n(null);iJe(r,e,(s,a)=>{if(s)return n(s);r=a.toDst,sJe(a.toCwd,t,(c,u)=>{if(c)return n(c);let l=z_e.dirname(e);j_e(l,(d,f)=>{if(d)return n(d);if(f)return XR.symlink(r,e,u,n);rJe(l,p=>{if(p)return n(p);XR.symlink(r,e,u,n)})})})})})}function uJe(r,e,t){if(XR.existsSync(e))return;let i=oJe(r,e);r=i.toDst,t=aJe(i.toCwd,t);let o=z_e.dirname(e);return XR.existsSync(o)||nJe(o),XR.symlinkSync(r,e,t)}W_e.exports={createSymlink:tJe(cJe),createSymlinkSync:uJe}});var G_e=C((WVt,V_e)=>{"use strict";var sj=P_e(),aj=A_e(),cj=$_e();V_e.exports={createFile:sj.createFile,createFileSync:sj.createFileSync,ensureFile:sj.createFile,ensureFileSync:sj.createFileSync,createLink:aj.createLink,createLinkSync:aj.createLinkSync,ensureLink:aj.createLink,ensureLinkSync:aj.createLinkSync,createSymlink:cj.createSymlink,createSymlinkSync:cj.createSymlinkSync,ensureSymlink:cj.createSymlink,ensureSymlinkSync:cj.createSymlinkSync}});var uj=C(($Vt,K_e)=>{function lJe(r,{EOL:e=`
`,finalEOL:t=!0,replacer:n=null,spaces:i}={}){let o=t?e:"";return JSON.stringify(r,n,i).replace(/\n/g,e)+o}function dJe(r){return Buffer.isBuffer(r)&&(r=r.toString("utf8")),r.replace(/^\uFEFF/,"")}K_e.exports={stringify:lJe,stripBom:dJe}});var Q_e=C((VVt,X_e)=>{var QR;try{QR=Zf()}catch{QR=require("fs")}var lj=fm(),{stringify:Y_e,stripBom:J_e}=uj();async function fJe(r,e={}){typeof e=="string"&&(e={encoding:e});let t=e.fs||QR,n="throws"in e?e.throws:!0,i=await lj.fromCallback(t.readFile)(r,e);i=J_e(i);let o;try{o=JSON.parse(i,e?e.reviver:null)}catch(s){if(n)throw s.message=`${r}: ${s.message}`,s;return null}return o}var hJe=lj.fromPromise(fJe);function pJe(r,e={}){typeof e=="string"&&(e={encoding:e});let t=e.fs||QR,n="throws"in e?e.throws:!0;try{let i=t.readFileSync(r,e);return i=J_e(i),JSON.parse(i,e.reviver)}catch(i){if(n)throw i.message=`${r}: ${i.message}`,i;return null}}async function mJe(r,e,t={}){let n=t.fs||QR,i=Y_e(e,t);await lj.fromCallback(n.writeFile)(r,i,t)}var gJe=lj.fromPromise(mJe);function vJe(r,e,t={}){let n=t.fs||QR,i=Y_e(e,t);return n.writeFileSync(r,i,t)}var yJe={readFile:hJe,readFileSync:pJe,writeFile:gJe,writeFileSync:vJe};X_e.exports=yJe});var ebe=C((GVt,Z_e)=>{"use strict";var dj=Q_e();Z_e.exports={readJson:dj.readFile,readJsonSync:dj.readFileSync,writeJson:dj.writeFile,writeJsonSync:dj.writeFileSync}});var fj=C((KVt,nbe)=>{"use strict";var _Je=fm().fromCallback,j1=Zf(),tbe=require("path"),rbe=Gy(),bJe=fT().pathExists;function wJe(r,e,t,n){typeof t=="function"&&(n=t,t="utf8");let i=tbe.dirname(r);bJe(i,(o,s)=>{if(o)return n(o);if(s)return j1.writeFile(r,e,t,n);rbe.mkdirs(i,a=>{if(a)return n(a);j1.writeFile(r,e,t,n)})})}function SJe(r,...e){let t=tbe.dirname(r);if(j1.existsSync(t))return j1.writeFileSync(r,...e);rbe.mkdirsSync(t),j1.writeFileSync(r,...e)}nbe.exports={outputFile:_Je(wJe),outputFileSync:SJe}});var obe=C((YVt,ibe)=>{"use strict";var{stringify:CJe}=uj(),{outputFile:TJe}=fj();async function DJe(r,e,t={}){let n=CJe(e,t);await TJe(r,n,t)}ibe.exports=DJe});var abe=C((JVt,sbe)=>{"use strict";var{stringify:EJe}=uj(),{outputFileSync:RJe}=fj();function PJe(r,e,t){let n=EJe(e,t);RJe(r,n,t)}sbe.exports=PJe});var ube=C((XVt,cbe)=>{"use strict";var xJe=fm().fromPromise,lp=ebe();lp.outputJson=xJe(obe());lp.outputJsonSync=abe();lp.outputJSON=lp.outputJson;lp.outputJSONSync=lp.outputJsonSync;lp.writeJSON=lp.writeJson;lp.writeJSONSync=lp.writeJsonSync;lp.readJSON=lp.readJson;lp.readJSONSync=lp.readJsonSync;cbe.exports=lp});var mbe=C((QVt,pbe)=>{"use strict";var fbe=Zf(),OJe=require("path"),IJe=aK().copySync,hbe=F1().removeSync,kJe=Gy().mkdirpSync,lbe=I1();function AJe(r,e,t){t=t||{};let n=t.overwrite||t.clobber||!1,{srcStat:i}=lbe.checkPathsSync(r,e,"move");return lbe.checkParentPathsSync(r,i,e,"move"),kJe(OJe.dirname(e)),LJe(r,e,n)}function LJe(r,e,t){if(t)return hbe(e),dbe(r,e,t);if(fbe.existsSync(e))throw new Error("dest already exists.");return dbe(r,e,t)}function dbe(r,e,t){try{fbe.renameSync(r,e)}catch(n){if(n.code!=="EXDEV")throw n;return MJe(r,e,t)}}function MJe(r,e,t){return IJe(r,e,{overwrite:t,errorOnExist:!0}),hbe(r)}pbe.exports=AJe});var vbe=C((ZVt,gbe)=>{"use strict";gbe.exports={moveSync:mbe()}});var Sbe=C((e4t,wbe)=>{"use strict";var NJe=Zf(),FJe=require("path"),qJe=uK().copy,bbe=F1().remove,jJe=Gy().mkdirp,zJe=fT().pathExists,ybe=I1();function UJe(r,e,t,n){typeof t=="function"&&(n=t,t={});let i=t.overwrite||t.clobber||!1;ybe.checkPaths(r,e,"move",(o,s)=>{if(o)return n(o);let{srcStat:a}=s;ybe.checkParentPaths(r,a,e,"move",c=>{if(c)return n(c);jJe(FJe.dirname(e),u=>u?n(u):HJe(r,e,i,n))})})}function HJe(r,e,t,n){if(t)return bbe(e,i=>i?n(i):_be(r,e,t,n));zJe(e,(i,o)=>i?n(i):o?n(new Error("dest already exists.")):_be(r,e,t,n))}function _be(r,e,t,n){NJe.rename(r,e,i=>i?i.code!=="EXDEV"?n(i):BJe(r,e,t,n):n())}function BJe(r,e,t,n){qJe(r,e,{overwrite:t,errorOnExist:!0},o=>o?n(o):bbe(r,n))}wbe.exports=UJe});var Tbe=C((t4t,Cbe)=>{"use strict";var WJe=fm().fromCallback;Cbe.exports={move:WJe(Sbe())}});var mT=C((r4t,dK)=>{"use strict";dK.exports={...O1(),...aK(),...uK(),...T_e(),...G_e(),...ube(),...Gy(),...vbe(),...Tbe(),...fj(),...fT(),...F1()};var Dbe=require("fs");Object.getOwnPropertyDescriptor(Dbe,"promises")&&Object.defineProperty(dK.exports,"promises",{get(){return Dbe.promises}})});var eP=C(wK=>{"use strict";Object.defineProperty(wK,"__esModule",{value:!0});function GJe(r){return typeof r=="function"}wK.isFunction=GJe});var H1=C(CK=>{"use strict";Object.defineProperty(CK,"__esModule",{value:!0});var SK=!1;CK.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(r){if(r){var e=new Error;console.warn(`DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: 
`+e.stack)}else SK&&console.log("RxJS: Back to a better error behavior. Thank you. <3");SK=r},get useDeprecatedSynchronousErrorHandling(){return SK}}});var vj=C(TK=>{"use strict";Object.defineProperty(TK,"__esModule",{value:!0});function KJe(r){setTimeout(function(){throw r},0)}TK.hostReportError=KJe});var EK=C(DK=>{"use strict";Object.defineProperty(DK,"__esModule",{value:!0});var YJe=H1(),JJe=vj();DK.empty={closed:!0,next:function(r){},error:function(r){if(YJe.config.useDeprecatedSynchronousErrorHandling)throw r;JJe.hostReportError(r)},complete:function(){}}});var fp=C(RK=>{"use strict";Object.defineProperty(RK,"__esModule",{value:!0});RK.isArray=function(){return Array.isArray||function(r){return r&&typeof r.length=="number"}}()});var yj=C(PK=>{"use strict";Object.defineProperty(PK,"__esModule",{value:!0});function XJe(r){return r!==null&&typeof r=="object"}PK.isObject=XJe});var OK=C(xK=>{"use strict";Object.defineProperty(xK,"__esModule",{value:!0});var QJe=function(){function r(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(t,n){return n+1+") "+t.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return r.prototype=Object.create(Error.prototype),r}();xK.UnsubscriptionError=QJe});var Ml=C(IK=>{"use strict";Object.defineProperty(IK,"__esModule",{value:!0});var ZJe=fp(),eXe=yj(),tXe=eP(),_j=OK(),rXe=function(){function r(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return r.prototype.unsubscribe=function(){var e;if(!this.closed){var t=this,n=t._parentOrParents,i=t._ctorUnsubscribe,o=t._unsubscribe,s=t._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof r)n.remove(this);else if(n!==null)for(var a=0;a<n.length;++a){var c=n[a];c.remove(this)}if(tXe.isFunction(o)){i&&(this._unsubscribe=void 0);try{o.call(this)}catch(d){e=d instanceof _j.UnsubscriptionError?xbe(d.errors):[d]}}if(ZJe.isArray(s))for(var a=-1,u=s.length;++a<u;){var l=s[a];if(eXe.isObject(l))try{l.unsubscribe()}catch(f){e=e||[],f instanceof _j.UnsubscriptionError?e=e.concat(xbe(f.errors)):e.push(f)}}if(e)throw new _j.UnsubscriptionError(e)}},r.prototype.add=function(e){var t=e;if(!e)return r.EMPTY;switch(typeof e){case"function":t=new r(e);case"object":if(t===this||t.closed||typeof t.unsubscribe!="function")return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof r)){var n=t;t=new r,t._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=t._parentOrParents;if(i===null)t._parentOrParents=this;else if(i instanceof r){if(i===this)return t;t._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return t;var o=this._subscriptions;return o===null?this._subscriptions=[t]:o.push(t),t},r.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);n!==-1&&t.splice(n,1)}},r.EMPTY=function(e){return e.closed=!0,e}(new r),r}();IK.Subscription=rXe;function xbe(r){return r.reduce(function(e,t){return e.concat(t instanceof _j.UnsubscriptionError?t.errors:t)},[])}});var bj=C(B1=>{"use strict";Object.defineProperty(B1,"__esModule",{value:!0});B1.rxSubscriber=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}();B1.$$rxSubscriber=B1.rxSubscriber});var gi=C(rP=>{"use strict";var Ibe=rP&&rP.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(rP,"__esModule",{value:!0});var Obe=eP(),kK=EK(),nXe=Ml(),iXe=bj(),tP=H1(),wj=vj(),kbe=function(r){Ibe(e,r);function e(t,n,i){var o=r.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=kK.empty;break;case 1:if(!t){o.destination=kK.empty;break}if(typeof t=="object"){t instanceof e?(o.syncErrorThrowable=t.syncErrorThrowable,o.destination=t,t.add(o)):(o.syncErrorThrowable=!0,o.destination=new AK(o,t));break}default:o.syncErrorThrowable=!0,o.destination=new AK(o,t,n,i);break}return o}return e.prototype[iXe.rxSubscriber]=function(){return this},e.create=function(t,n,i){var o=new e(t,n,i);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(nXe.Subscription);rP.Subscriber=kbe;var AK=function(r){Ibe(e,r);function e(t,n,i,o){var s=r.call(this)||this;s._parentSubscriber=t;var a,c=s;return Obe.isFunction(n)?a=n:n&&(a=n.next,i=n.error,o=n.complete,n!==kK.empty&&(c=Object.create(n),Obe.isFunction(c.unsubscribe)&&s.add(c.unsubscribe.bind(c)),c.unsubscribe=s.unsubscribe.bind(s))),s._context=c,s._next=a,s._error=i,s._complete=o,s}return e.prototype.next=function(t){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!tP.config.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,t):this.__tryOrSetError(n,this._next,t)&&this.unsubscribe()}},e.prototype.error=function(t){if(!this.isStopped){var n=this._parentSubscriber,i=tP.config.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,t),this.unsubscribe()):(this.__tryOrSetError(n,this._error,t),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=t,n.syncErrorThrown=!0):wj.hostReportError(t),this.unsubscribe();else{if(this.unsubscribe(),i)throw t;wj.hostReportError(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return t._complete.call(t._context)};!tP.config.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,n){try{t.call(this._context,n)}catch(i){if(this.unsubscribe(),tP.config.useDeprecatedSynchronousErrorHandling)throw i;wj.hostReportError(i)}},e.prototype.__tryOrSetError=function(t,n,i){if(!tP.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(o){return tP.config.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=o,t.syncErrorThrown=!0,!0):(wj.hostReportError(o),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(kbe);rP.SafeSubscriber=AK});var Sj=C(LK=>{"use strict";Object.defineProperty(LK,"__esModule",{value:!0});var oXe=gi();function sXe(r){for(;r;){var e=r,t=e.closed,n=e.destination,i=e.isStopped;if(t||i)return!1;n&&n instanceof oXe.Subscriber?r=n:r=null}return!0}LK.canReportError=sXe});var Lbe=C(NK=>{"use strict";Object.defineProperty(NK,"__esModule",{value:!0});var MK=gi(),Abe=bj(),aXe=EK();function cXe(r,e,t){if(r){if(r instanceof MK.Subscriber)return r;if(r[Abe.rxSubscriber])return r[Abe.rxSubscriber]()}return!r&&!e&&!t?new MK.Subscriber(aXe.empty):new MK.Subscriber(r,e,t)}NK.toSubscriber=cXe});var O0=C(FK=>{"use strict";Object.defineProperty(FK,"__esModule",{value:!0});FK.observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}()});var yT=C(qK=>{"use strict";Object.defineProperty(qK,"__esModule",{value:!0});function uXe(r){return r}qK.identity=uXe});var Tj=C(Cj=>{"use strict";Object.defineProperty(Cj,"__esModule",{value:!0});var lXe=yT();function dXe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return Mbe(r)}Cj.pipe=dXe;function Mbe(r){return r.length===0?lXe.identity:r.length===1?r[0]:function(t){return r.reduce(function(n,i){return i(n)},t)}}Cj.pipeFromArray=Mbe});var Ho=C(jK=>{"use strict";Object.defineProperty(jK,"__esModule",{value:!0});var fXe=Sj(),hXe=Lbe(),pXe=O0(),mXe=Tj(),Dj=H1(),gXe=function(){function r(e){this._isScalar=!1,e&&(this._subscribe=e)}return r.prototype.lift=function(e){var t=new r;return t.source=this,t.operator=e,t},r.prototype.subscribe=function(e,t,n){var i=this.operator,o=hXe.toSubscriber(e,t,n);if(i?o.add(i.call(o,this.source)):o.add(this.source||Dj.config.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),Dj.config.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},r.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){Dj.config.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),fXe.canReportError(e)?e.error(t):console.warn(t)}},r.prototype.forEach=function(e,t){var n=this;return t=Nbe(t),new t(function(i,o){var s;s=n.subscribe(function(a){try{e(a)}catch(c){o(c),s&&s.unsubscribe()}},o,i)})},r.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},r.prototype[pXe.observable]=function(){return this},r.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?this:mXe.pipeFromArray(e)(this)},r.prototype.toPromise=function(e){var t=this;return e=Nbe(e),new e(function(n,i){var o;t.subscribe(function(s){return o=s},function(s){return i(s)},function(){return n(o)})})},r.create=function(e){return new r(e)},r}();jK.Observable=gXe;function Nbe(r){if(r||(r=Dj.config.Promise||Promise),!r)throw new Error("no Promise impl found");return r}});var W1=C(zK=>{"use strict";Object.defineProperty(zK,"__esModule",{value:!0});var vXe=function(){function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return r.prototype=Object.create(Error.prototype),r}();zK.ObjectUnsubscribedError=vXe});var UK=C($1=>{"use strict";var yXe=$1&&$1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty($1,"__esModule",{value:!0});var _Xe=Ml(),bXe=function(r){yXe(e,r);function e(t,n){var i=r.call(this)||this;return i.subject=t,i.subscriber=n,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,n=t.observers;if(this.subject=null,!(!n||n.length===0||t.isStopped||t.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},e}(_Xe.Subscription);$1.SubjectSubscription=bXe});var th=C(I0=>{"use strict";var WK=I0&&I0.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(I0,"__esModule",{value:!0});var Fbe=Ho(),wXe=gi(),HK=Ml(),V1=W1(),SXe=UK(),CXe=bj(),qbe=function(r){WK(e,r);function e(t){var n=r.call(this,t)||this;return n.destination=t,n}return e}(wXe.Subscriber);I0.SubjectSubscriber=qbe;var jbe=function(r){WK(e,r);function e(){var t=r.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return e.prototype[CXe.rxSubscriber]=function(){return new qbe(this)},e.prototype.lift=function(t){var n=new BK(this,this);return n.operator=t,n},e.prototype.next=function(t){if(this.closed)throw new V1.ObjectUnsubscribedError;if(!this.isStopped)for(var n=this.observers,i=n.length,o=n.slice(),s=0;s<i;s++)o[s].next(t)},e.prototype.error=function(t){if(this.closed)throw new V1.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var n=this.observers,i=n.length,o=n.slice(),s=0;s<i;s++)o[s].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new V1.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,n=t.length,i=t.slice(),o=0;o<n;o++)i[o].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(t){if(this.closed)throw new V1.ObjectUnsubscribedError;return r.prototype._trySubscribe.call(this,t)},e.prototype._subscribe=function(t){if(this.closed)throw new V1.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),HK.Subscription.EMPTY):this.isStopped?(t.complete(),HK.Subscription.EMPTY):(this.observers.push(t),new SXe.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new Fbe.Observable;return t.source=this,t},e.create=function(t,n){return new BK(t,n)},e}(Fbe.Observable);I0.Subject=jbe;var BK=function(r){WK(e,r);function e(t,n){var i=r.call(this)||this;return i.destination=t,i.source=n,i}return e.prototype.next=function(t){var n=this.destination;n&&n.next&&n.next(t)},e.prototype.error=function(t){var n=this.destination;n&&n.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){var n=this.source;return n?this.source.subscribe(t):HK.Subscription.EMPTY},e}(jbe);I0.AnonymousSubject=BK});var Ej=C(G1=>{"use strict";var TXe=G1&&G1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(G1,"__esModule",{value:!0});var DXe=gi();function EXe(){return function(e){return e.lift(new RXe(e))}}G1.refCount=EXe;var RXe=function(){function r(e){this.connectable=e}return r.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var i=new PXe(e,n),o=t.subscribe(i);return i.closed||(i.connection=n.connect()),o},r}(),PXe=function(r){TXe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var t=this.connectable;if(!t){this.connection=null;return}this.connectable=null;var n=t._refCount;if(n<=0){this.connection=null;return}if(t._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,o=t._connection;this.connection=null,o&&(!i||o===i)&&o.unsubscribe()},e}(DXe.Subscriber)});var VK=C(nP=>{"use strict";var $K=nP&&nP.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(nP,"__esModule",{value:!0});var xXe=th(),OXe=Ho(),IXe=gi(),zbe=Ml(),kXe=Ej(),Ube=function(r){$K(e,r);function e(t,n){var i=r.call(this)||this;return i.source=t,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,t=this._connection=new zbe.Subscription,t.add(this.source.subscribe(new AXe(this.getSubject(),this))),t.closed&&(this._connection=null,t=zbe.Subscription.EMPTY)),t},e.prototype.refCount=function(){return kXe.refCount()(this)},e}(OXe.Observable);nP.ConnectableObservable=Ube;nP.connectableObservableDescriptor=function(){var r=Ube.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:r._subscribe},_isComplete:{value:r._isComplete,writable:!0},getSubject:{value:r.getSubject},connect:{value:r.connect},refCount:{value:r.refCount}}}();var AXe=function(r){$K(e,r);function e(t,n){var i=r.call(this,t)||this;return i.connectable=n,i}return e.prototype._error=function(t){this._unsubscribe(),r.prototype._error.call(this,t)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),r.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var n=t._connection;t._refCount=0,t._subject=null,t._connection=null,n&&n.unsubscribe()}},e}(xXe.SubjectSubscriber),R4t=function(){function r(e){this.connectable=e}return r.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var i=new LXe(e,n),o=t.subscribe(i);return i.closed||(i.connection=n.connect()),o},r}(),LXe=function(r){$K(e,r);function e(t,n){var i=r.call(this,t)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var t=this.connectable;if(!t){this.connection=null;return}this.connectable=null;var n=t._refCount;if(n<=0){this.connection=null;return}if(t._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,o=t._connection;this.connection=null,o&&(!i||o===i)&&o.unsubscribe()},e}(IXe.Subscriber)});var KK=C(iP=>{"use strict";var Rj=iP&&iP.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(iP,"__esModule",{value:!0});var Hbe=gi(),Bbe=Ml(),MXe=Ho(),NXe=th();function FXe(r,e,t,n){return function(i){return i.lift(new qXe(r,e,t,n))}}iP.groupBy=FXe;var qXe=function(){function r(e,t,n,i){this.keySelector=e,this.elementSelector=t,this.durationSelector=n,this.subjectSelector=i}return r.prototype.call=function(e,t){return t.subscribe(new jXe(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},r}(),jXe=function(r){Rj(e,r);function e(t,n,i,o,s){var a=r.call(this,t)||this;return a.keySelector=n,a.elementSelector=i,a.durationSelector=o,a.subjectSelector=s,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return e.prototype._next=function(t){var n;try{n=this.keySelector(t)}catch(i){this.error(i);return}this._group(t,n)},e.prototype._group=function(t,n){var i=this.groups;i||(i=this.groups=new Map);var o=i.get(n),s;if(this.elementSelector)try{s=this.elementSelector(t)}catch(u){this.error(u)}else s=t;if(!o){o=this.subjectSelector?this.subjectSelector():new NXe.Subject,i.set(n,o);var a=new GK(n,o,this);if(this.destination.next(a),this.durationSelector){var c=void 0;try{c=this.durationSelector(new GK(n,o))}catch(u){this.error(u);return}this.add(c.subscribe(new zXe(n,o,this)))}}o.closed||o.next(s)},e.prototype._error=function(t){var n=this.groups;n&&(n.forEach(function(i,o){i.error(t)}),n.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach(function(n,i){n.complete()}),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups.delete(t)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&r.prototype.unsubscribe.call(this))},e}(Hbe.Subscriber),zXe=function(r){Rj(e,r);function e(t,n,i){var o=r.call(this,n)||this;return o.key=t,o.group=n,o.parent=i,o}return e.prototype._next=function(t){this.complete()},e.prototype._unsubscribe=function(){var t=this,n=t.parent,i=t.key;this.key=this.parent=null,n&&n.removeGroup(i)},e}(Hbe.Subscriber),GK=function(r){Rj(e,r);function e(t,n,i){var o=r.call(this)||this;return o.key=t,o.groupSubject=n,o.refCountSubscription=i,o}return e.prototype._subscribe=function(t){var n=new Bbe.Subscription,i=this,o=i.refCountSubscription,s=i.groupSubject;return o&&!o.closed&&n.add(new UXe(o)),n.add(s.subscribe(t)),n},e}(MXe.Observable);iP.GroupedObservable=GK;var UXe=function(r){Rj(e,r);function e(t){var n=r.call(this)||this;return n.parent=t,t.count++,n}return e.prototype.unsubscribe=function(){var t=this.parent;!t.closed&&!this.closed&&(r.prototype.unsubscribe.call(this),t.count-=1,t.count===0&&t.attemptedToUnsubscribe&&t.unsubscribe())},e}(Bbe.Subscription)});var YK=C(K1=>{"use strict";var HXe=K1&&K1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(K1,"__esModule",{value:!0});var BXe=th(),WXe=W1(),$Xe=function(r){HXe(e,r);function e(t){var n=r.call(this)||this;return n._value=t,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(t){var n=r.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new WXe.ObjectUnsubscribedError;return this._value},e.prototype.next=function(t){r.prototype.next.call(this,this._value=t)},e}(BXe.Subject);K1.BehaviorSubject=$Xe});var Wbe=C(Y1=>{"use strict";var VXe=Y1&&Y1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Y1,"__esModule",{value:!0});var GXe=Ml(),KXe=function(r){VXe(e,r);function e(t,n){return r.call(this)||this}return e.prototype.schedule=function(t,n){return n===void 0&&(n=0),this},e}(GXe.Subscription);Y1.Action=KXe});var oP=C(J1=>{"use strict";var YXe=J1&&J1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(J1,"__esModule",{value:!0});var JXe=Wbe(),XXe=function(r){YXe(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(t,n){if(n===void 0&&(n=0),this.closed)return this;this.state=t;var i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(o,this.id,n),this},e.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),setInterval(t.flush.bind(t,this),i)},e.prototype.recycleAsyncId=function(t,n,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return n;clearInterval(n)},e.prototype.execute=function(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(t,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,n){var i=!1,o=void 0;try{this.work(t)}catch(s){i=!0,o=!!s&&s||new Error(s)}if(i)return this.unsubscribe(),o},e.prototype._unsubscribe=function(){var t=this.id,n=this.scheduler,i=n.actions,o=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,o!==-1&&i.splice(o,1),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null},e}(JXe.Action);J1.AsyncAction=XXe});var $be=C(X1=>{"use strict";var QXe=X1&&X1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(X1,"__esModule",{value:!0});var ZXe=oP(),eQe=function(r){QXe(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return e.prototype.schedule=function(t,n){return n===void 0&&(n=0),n>0?r.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},e.prototype.execute=function(t,n){return n>0||this.closed?r.prototype.execute.call(this,t,n):this._execute(t,n)},e.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?r.prototype.requestAsyncId.call(this,t,n,i):t.flush(this)},e}(ZXe.AsyncAction);X1.QueueAction=eQe});var XK=C(JK=>{"use strict";Object.defineProperty(JK,"__esModule",{value:!0});var tQe=function(){function r(e,t){t===void 0&&(t=r.now),this.SchedulerAction=e,this.now=t}return r.prototype.schedule=function(e,t,n){return t===void 0&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},r.now=function(){return Date.now()},r}();JK.Scheduler=tQe});var sP=C(Q1=>{"use strict";var rQe=Q1&&Q1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Q1,"__esModule",{value:!0});var Vbe=XK(),nQe=function(r){rQe(e,r);function e(t,n){n===void 0&&(n=Vbe.Scheduler.now);var i=r.call(this,t,function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(t,n,i){return n===void 0&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(t,n,i):r.prototype.schedule.call(this,t,n,i)},e.prototype.flush=function(t){var n=this.actions;if(this.active){n.push(t);return}var i;this.active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=n.shift());if(this.active=!1,i){for(;t=n.shift();)t.unsubscribe();throw i}},e}(Vbe.Scheduler);Q1.AsyncScheduler=nQe});var Gbe=C(Z1=>{"use strict";var iQe=Z1&&Z1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Z1,"__esModule",{value:!0});var oQe=sP(),sQe=function(r){iQe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(oQe.AsyncScheduler);Z1.QueueScheduler=sQe});var QK=C(eA=>{"use strict";Object.defineProperty(eA,"__esModule",{value:!0});var aQe=$be(),cQe=Gbe();eA.queueScheduler=new cQe.QueueScheduler(aQe.QueueAction);eA.queue=eA.queueScheduler});var Ky=C(tA=>{"use strict";Object.defineProperty(tA,"__esModule",{value:!0});var Kbe=Ho();tA.EMPTY=new Kbe.Observable(function(r){return r.complete()});function uQe(r){return r?lQe(r):tA.EMPTY}tA.empty=uQe;function lQe(r){return new Kbe.Observable(function(e){return r.schedule(function(){return e.complete()})})}});var Yy=C(ZK=>{"use strict";Object.defineProperty(ZK,"__esModule",{value:!0});function dQe(r){return r&&typeof r.schedule=="function"}ZK.isScheduler=dQe});var t9=C(e9=>{"use strict";Object.defineProperty(e9,"__esModule",{value:!0});e9.subscribeToArray=function(r){return function(e){for(var t=0,n=r.length;t<n&&!e.closed;t++)e.next(r[t]);e.complete()}}});var Pj=C(r9=>{"use strict";Object.defineProperty(r9,"__esModule",{value:!0});var fQe=Ho(),hQe=Ml();function pQe(r,e){return new fQe.Observable(function(t){var n=new hQe.Subscription,i=0;return n.add(e.schedule(function(){if(i===r.length){t.complete();return}t.next(r[i++]),t.closed||n.add(this.schedule())})),n})}r9.scheduleArray=pQe});var aP=C(n9=>{"use strict";Object.defineProperty(n9,"__esModule",{value:!0});var mQe=Ho(),gQe=t9(),vQe=Pj();function yQe(r,e){return e?vQe.scheduleArray(r,e):new mQe.Observable(gQe.subscribeToArray(r))}n9.fromArray=yQe});var rA=C(i9=>{"use strict";Object.defineProperty(i9,"__esModule",{value:!0});var _Qe=Yy(),bQe=aP(),wQe=Pj();function SQe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r[r.length-1];return _Qe.isScheduler(t)?(r.pop(),wQe.scheduleArray(r,t)):bQe.fromArray(r)}i9.of=SQe});var xj=C(o9=>{"use strict";Object.defineProperty(o9,"__esModule",{value:!0});var Ybe=Ho();function CQe(r,e){return e?new Ybe.Observable(function(t){return e.schedule(TQe,0,{error:r,subscriber:t})}):new Ybe.Observable(function(t){return t.error(r)})}o9.throwError=CQe;function TQe(r){var e=r.error,t=r.subscriber;t.error(e)}});var iA=C(nA=>{"use strict";Object.defineProperty(nA,"__esModule",{value:!0});var DQe=Ky(),EQe=rA(),RQe=xj(),PQe;(function(r){r.NEXT="N",r.ERROR="E",r.COMPLETE="C"})(PQe=nA.NotificationKind||(nA.NotificationKind={}));var xQe=function(){function r(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue=e==="N"}return r.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},r.prototype.do=function(e,t,n){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},r.prototype.accept=function(e,t,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,t,n)},r.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return EQe.of(this.value);case"E":return RQe.throwError(this.error);case"C":return DQe.empty()}throw new Error("unexpected notification kind value")},r.createNext=function(e){return typeof e<"u"?new r("N",e):r.undefinedValueNotification},r.createError=function(e){return new r("E",void 0,e)},r.createComplete=function(){return r.completeNotification},r.completeNotification=new r("C"),r.undefinedValueNotification=new r("N",void 0),r}();nA.Notification=xQe});var a9=C(_T=>{"use strict";var OQe=_T&&_T.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(_T,"__esModule",{value:!0});var IQe=gi(),s9=iA();function kQe(r,e){return e===void 0&&(e=0),function(n){return n.lift(new Jbe(r,e))}}_T.observeOn=kQe;var Jbe=function(){function r(e,t){t===void 0&&(t=0),this.scheduler=e,this.delay=t}return r.prototype.call=function(e,t){return t.subscribe(new Xbe(e,this.scheduler,this.delay))},r}();_T.ObserveOnOperator=Jbe;var Xbe=function(r){OQe(e,r);function e(t,n,i){i===void 0&&(i=0);var o=r.call(this,t)||this;return o.scheduler=n,o.delay=i,o}return e.dispatch=function(t){var n=t.notification,i=t.destination;n.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(t){var n=this.destination;n.add(this.scheduler.schedule(e.dispatch,this.delay,new Qbe(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(s9.Notification.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(s9.Notification.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(s9.Notification.createComplete()),this.unsubscribe()},e}(IQe.Subscriber);_T.ObserveOnSubscriber=Xbe;var Qbe=function(){function r(e,t){this.notification=e,this.destination=t}return r}();_T.ObserveOnMessage=Qbe});var Oj=C(oA=>{"use strict";var AQe=oA&&oA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(oA,"__esModule",{value:!0});var LQe=th(),MQe=QK(),NQe=Ml(),FQe=a9(),qQe=W1(),jQe=UK(),zQe=function(r){AQe(e,r);function e(t,n,i){t===void 0&&(t=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var o=r.call(this)||this;return o.scheduler=i,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=t<1?1:t,o._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return e.prototype.nextInfiniteTimeWindow=function(t){if(!this.isStopped){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift()}r.prototype.next.call(this,t)},e.prototype.nextTimeWindow=function(t){this.isStopped||(this._events.push(new UQe(this._getNow(),t)),this._trimBufferThenGetEvents()),r.prototype.next.call(this,t)},e.prototype._subscribe=function(t){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,s=i.length,a;if(this.closed)throw new qQe.ObjectUnsubscribedError;if(this.isStopped||this.hasError?a=NQe.Subscription.EMPTY:(this.observers.push(t),a=new jQe.SubjectSubscription(this,t)),o&&t.add(t=new FQe.ObserveOnSubscriber(t,o)),n)for(var c=0;c<s&&!t.closed;c++)t.next(i[c]);else for(var c=0;c<s&&!t.closed;c++)t.next(i[c].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),a},e.prototype._getNow=function(){return(this.scheduler||MQe.queue).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),n=this._bufferSize,i=this._windowTime,o=this._events,s=o.length,a=0;a<s&&!(t-o[a].time<i);)a++;return s>n&&(a=Math.max(a,s-n)),a>0&&o.splice(0,a),o},e}(LQe.Subject);oA.ReplaySubject=zQe;var UQe=function(){function r(e,t){this.time=e,this.value=t}return r}()});var aA=C(sA=>{"use strict";var HQe=sA&&sA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(sA,"__esModule",{value:!0});var BQe=th(),Zbe=Ml(),WQe=function(r){HQe(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return e.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),Zbe.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),Zbe.Subscription.EMPTY):r.prototype._subscribe.call(this,t)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(t){this.hasCompleted||r.prototype.error.call(this,t)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&r.prototype.next.call(this,this.value),r.prototype.complete.call(this)},e}(BQe.Subject);sA.AsyncSubject=WQe});var twe=C(kj=>{"use strict";Object.defineProperty(kj,"__esModule",{value:!0});var $Qe=1,VQe=function(){return Promise.resolve()}(),Ij={};function ewe(r){return r in Ij?(delete Ij[r],!0):!1}kj.Immediate={setImmediate:function(r){var e=$Qe++;return Ij[e]=!0,VQe.then(function(){return ewe(e)&&r()}),e},clearImmediate:function(r){ewe(r)}};kj.TestTools={pending:function(){return Object.keys(Ij).length}}});var nwe=C(cA=>{"use strict";var GQe=cA&&cA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(cA,"__esModule",{value:!0});var rwe=twe(),KQe=oP(),YQe=function(r){GQe(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return e.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),i!==null&&i>0?r.prototype.requestAsyncId.call(this,t,n,i):(t.actions.push(this),t.scheduled||(t.scheduled=rwe.Immediate.setImmediate(t.flush.bind(t,null))))},e.prototype.recycleAsyncId=function(t,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return r.prototype.recycleAsyncId.call(this,t,n,i);t.actions.length===0&&(rwe.Immediate.clearImmediate(n),t.scheduled=void 0)},e}(KQe.AsyncAction);cA.AsapAction=YQe});var iwe=C(uA=>{"use strict";var JQe=uA&&uA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(uA,"__esModule",{value:!0});var XQe=sP(),QQe=function(r){JQe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var n=this.actions,i,o=-1,s=n.length;t=t||n.shift();do if(i=t.execute(t.state,t.delay))break;while(++o<s&&(t=n.shift()));if(this.active=!1,i){for(;++o<s&&(t=n.shift());)t.unsubscribe();throw i}},e}(XQe.AsyncScheduler);uA.AsapScheduler=QQe});var c9=C(lA=>{"use strict";Object.defineProperty(lA,"__esModule",{value:!0});var ZQe=nwe(),eZe=iwe();lA.asapScheduler=new eZe.AsapScheduler(ZQe.AsapAction);lA.asap=lA.asapScheduler});var hp=C(dA=>{"use strict";Object.defineProperty(dA,"__esModule",{value:!0});var tZe=oP(),rZe=sP();dA.asyncScheduler=new rZe.AsyncScheduler(tZe.AsyncAction);dA.async=dA.asyncScheduler});var owe=C(fA=>{"use strict";var nZe=fA&&fA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(fA,"__esModule",{value:!0});var iZe=oP(),oZe=function(r){nZe(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return e.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),i!==null&&i>0?r.prototype.requestAsyncId.call(this,t,n,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(function(){return t.flush(null)})))},e.prototype.recycleAsyncId=function(t,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return r.prototype.recycleAsyncId.call(this,t,n,i);t.actions.length===0&&(cancelAnimationFrame(n),t.scheduled=void 0)},e}(iZe.AsyncAction);fA.AnimationFrameAction=oZe});var swe=C(hA=>{"use strict";var sZe=hA&&hA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(hA,"__esModule",{value:!0});var aZe=sP(),cZe=function(r){sZe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var n=this.actions,i,o=-1,s=n.length;t=t||n.shift();do if(i=t.execute(t.state,t.delay))break;while(++o<s&&(t=n.shift()));if(this.active=!1,i){for(;++o<s&&(t=n.shift());)t.unsubscribe();throw i}},e}(aZe.AsyncScheduler);hA.AnimationFrameScheduler=cZe});var awe=C(pA=>{"use strict";Object.defineProperty(pA,"__esModule",{value:!0});var uZe=owe(),lZe=swe();pA.animationFrameScheduler=new lZe.AnimationFrameScheduler(uZe.AnimationFrameAction);pA.animationFrame=pA.animationFrameScheduler});var lwe=C(cP=>{"use strict";var cwe=cP&&cP.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(cP,"__esModule",{value:!0});var dZe=oP(),fZe=sP(),hZe=function(r){cwe(e,r);function e(t,n){t===void 0&&(t=uwe),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=r.call(this,t,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var t=this,n=t.actions,i=t.maxFrames,o,s;(s=n[0])&&s.delay<=i&&(n.shift(),this.frame=s.delay,!(o=s.execute(s.state,s.delay))););if(o){for(;s=n.shift();)s.unsubscribe();throw o}},e.frameTimeFactor=10,e}(fZe.AsyncScheduler);cP.VirtualTimeScheduler=hZe;var uwe=function(r){cwe(e,r);function e(t,n,i){i===void 0&&(i=t.index+=1);var o=r.call(this,t,n)||this;return o.scheduler=t,o.work=n,o.index=i,o.active=!0,o.index=t.index=i,o}return e.prototype.schedule=function(t,n){if(n===void 0&&(n=0),!this.id)return r.prototype.schedule.call(this,t,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(t,n)},e.prototype.requestAsyncId=function(t,n,i){i===void 0&&(i=0),this.delay=t.frame+i;var o=t.actions;return o.push(this),o.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,n,i){i===void 0&&(i=0)},e.prototype._execute=function(t,n){if(this.active===!0)return r.prototype._execute.call(this,t,n)},e.sortActions=function(t,n){return t.delay===n.delay?t.index===n.index?0:t.index>n.index?1:-1:t.delay>n.delay?1:-1},e}(dZe.AsyncAction);cP.VirtualAction=uwe});var Aj=C(u9=>{"use strict";Object.defineProperty(u9,"__esModule",{value:!0});function pZe(){}u9.noop=pZe});var dwe=C(l9=>{"use strict";Object.defineProperty(l9,"__esModule",{value:!0});var mZe=Ho();function gZe(r){return!!r&&(r instanceof mZe.Observable||typeof r.lift=="function"&&typeof r.subscribe=="function")}l9.isObservable=gZe});var uP=C(d9=>{"use strict";Object.defineProperty(d9,"__esModule",{value:!0});var vZe=function(){function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return r.prototype=Object.create(Error.prototype),r}();d9.ArgumentOutOfRangeError=vZe});var lP=C(f9=>{"use strict";Object.defineProperty(f9,"__esModule",{value:!0});var yZe=function(){function r(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return r.prototype=Object.create(Error.prototype),r}();f9.EmptyError=yZe});var p9=C(h9=>{"use strict";Object.defineProperty(h9,"__esModule",{value:!0});var _Ze=function(){function r(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return r.prototype=Object.create(Error.prototype),r}();h9.TimeoutError=_Ze});var Sg=C(dP=>{"use strict";var bZe=dP&&dP.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(dP,"__esModule",{value:!0});var wZe=gi();function SZe(r,e){return function(n){if(typeof r!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new fwe(r,e))}}dP.map=SZe;var fwe=function(){function r(e,t){this.project=e,this.thisArg=t}return r.prototype.call=function(e,t){return t.subscribe(new CZe(e,this.project,this.thisArg))},r}();dP.MapOperator=fwe;var CZe=function(r){bZe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.project=n,o.count=0,o.thisArg=i||o,o}return e.prototype._next=function(t){var n;try{n=this.project.call(this.thisArg,t,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(wZe.Subscriber)});var mwe=C(m9=>{"use strict";Object.defineProperty(m9,"__esModule",{value:!0});var TZe=Ho(),hwe=aA(),DZe=Sg(),EZe=Sj(),RZe=fp(),PZe=Yy();function pwe(r,e,t){if(e)if(PZe.isScheduler(e))t=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return pwe(r,t).apply(void 0,n).pipe(DZe.map(function(o){return RZe.isArray(o)?e.apply(void 0,o):e(o)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=this,s,a={context:o,subject:s,callbackFunc:r,scheduler:t};return new TZe.Observable(function(c){if(t){var l={args:n,subscriber:c,params:a};return t.schedule(xZe,0,l)}else{if(!s){s=new hwe.AsyncSubject;var u=function(){for(var d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];s.next(d.length<=1?d[0]:d),s.complete()};try{r.apply(o,n.concat([u]))}catch(d){EZe.canReportError(s)?s.error(d):console.warn(d)}}return s.subscribe(c)}})}}m9.bindCallback=pwe;function xZe(r){var e=this,t=this,n=r.args,i=r.subscriber,o=r.params,s=o.callbackFunc,a=o.context,c=o.scheduler,u=o.subject;if(!u){u=o.subject=new hwe.AsyncSubject;var l=function(){for(var d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];var p=d.length<=1?d[0]:d;e.add(c.schedule(OZe,0,{value:p,subject:u}))};try{s.apply(a,n.concat([l]))}catch(d){u.error(d)}}this.add(u.subscribe(i))}function OZe(r){var e=r.value,t=r.subject;t.next(e),t.complete()}});var _we=C(g9=>{"use strict";Object.defineProperty(g9,"__esModule",{value:!0});var IZe=Ho(),vwe=aA(),kZe=Sg(),AZe=Sj(),LZe=Yy(),MZe=fp();function ywe(r,e,t){if(e)if(LZe.isScheduler(e))t=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return ywe(r,t).apply(void 0,n).pipe(kZe.map(function(o){return MZe.isArray(o)?e.apply(void 0,o):e(o)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o={subject:void 0,args:n,callbackFunc:r,scheduler:t,context:this};return new IZe.Observable(function(s){var a=o.context,c=o.subject;if(t)return t.schedule(NZe,0,{params:o,subscriber:s,context:a});if(!c){c=o.subject=new vwe.AsyncSubject;var u=function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];var f=l.shift();if(f){c.error(f);return}c.next(l.length<=1?l[0]:l),c.complete()};try{r.apply(a,n.concat([u]))}catch(l){AZe.canReportError(c)?c.error(l):console.warn(l)}}return c.subscribe(s)})}}g9.bindNodeCallback=ywe;function NZe(r){var e=this,t=r.params,n=r.subscriber,i=r.context,o=t.callbackFunc,s=t.args,a=t.scheduler,c=t.subject;if(!c){c=t.subject=new vwe.AsyncSubject;var u=function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];var f=l.shift();if(f)e.add(a.schedule(gwe,0,{err:f,subject:c}));else{var p=l.length<=1?l[0]:l;e.add(a.schedule(FZe,0,{value:p,subject:c}))}};try{o.apply(i,s.concat([u]))}catch(l){this.add(a.schedule(gwe,0,{err:l,subject:c}))}}this.add(c.subscribe(n))}function FZe(r){var e=r.value,t=r.subject;t.next(e),t.complete()}function gwe(r){var e=r.err,t=r.subject;t.error(e)}});var bT=C(mA=>{"use strict";var qZe=mA&&mA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(mA,"__esModule",{value:!0});var jZe=gi(),zZe=function(r){qZe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.notifyNext=function(t,n,i,o,s){this.destination.next(n)},e.prototype.notifyError=function(t,n){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(jZe.Subscriber);mA.OuterSubscriber=zZe});var bwe=C(gA=>{"use strict";var UZe=gA&&gA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(gA,"__esModule",{value:!0});var HZe=gi(),BZe=function(r){UZe(e,r);function e(t,n,i){var o=r.call(this)||this;return o.parent=t,o.outerValue=n,o.outerIndex=i,o.index=0,o}return e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(HZe.Subscriber);gA.InnerSubscriber=BZe});var wwe=C(v9=>{"use strict";Object.defineProperty(v9,"__esModule",{value:!0});var WZe=vj();v9.subscribeToPromise=function(r){return function(e){return r.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,WZe.hostReportError),e}}});var hP=C(fP=>{"use strict";Object.defineProperty(fP,"__esModule",{value:!0});function Swe(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}fP.getSymbolIterator=Swe;fP.iterator=Swe();fP.$$iterator=fP.iterator});var Cwe=C(y9=>{"use strict";Object.defineProperty(y9,"__esModule",{value:!0});var $Ze=hP();y9.subscribeToIterable=function(r){return function(e){var t=r[$Ze.iterator]();do{var n=void 0;try{n=t.next()}catch(i){return e.error(i),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}while(!0);return typeof t.return=="function"&&e.add(function(){t.return&&t.return()}),e}}});var Twe=C(_9=>{"use strict";Object.defineProperty(_9,"__esModule",{value:!0});var VZe=O0();_9.subscribeToObservable=function(r){return function(e){var t=r[VZe.observable]();if(typeof t.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)}}});var w9=C(b9=>{"use strict";Object.defineProperty(b9,"__esModule",{value:!0});b9.isArrayLike=function(r){return r&&typeof r.length=="number"&&typeof r!="function"}});var C9=C(S9=>{"use strict";Object.defineProperty(S9,"__esModule",{value:!0});function GZe(r){return!!r&&typeof r.subscribe!="function"&&typeof r.then=="function"}S9.isPromise=GZe});var vA=C(T9=>{"use strict";Object.defineProperty(T9,"__esModule",{value:!0});var KZe=t9(),YZe=wwe(),JZe=Cwe(),XZe=Twe(),QZe=w9(),ZZe=C9(),eet=yj(),tet=hP(),ret=O0();T9.subscribeTo=function(r){if(r&&typeof r[ret.observable]=="function")return XZe.subscribeToObservable(r);if(QZe.isArrayLike(r))return KZe.subscribeToArray(r);if(ZZe.isPromise(r))return YZe.subscribeToPromise(r);if(r&&typeof r[tet.iterator]=="function")return JZe.subscribeToIterable(r);var e=eet.isObject(r)?"an invalid object":"'"+r+"'",t="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(t)}});var wT=C(D9=>{"use strict";Object.defineProperty(D9,"__esModule",{value:!0});var net=bwe(),iet=vA(),oet=Ho();function set(r,e,t,n,i){if(i===void 0&&(i=new net.InnerSubscriber(r,t,n)),!i.closed)return e instanceof oet.Observable?e.subscribe(i):iet.subscribeTo(e)(i)}D9.subscribeToResult=set});var Lj=C(k0=>{"use strict";var aet=k0&&k0.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(k0,"__esModule",{value:!0});var cet=Yy(),uet=fp(),det=bT(),fet=wT(),het=aP(),Dwe={};function pet(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=void 0,n=void 0;return cet.isScheduler(r[r.length-1])&&(n=r.pop()),typeof r[r.length-1]=="function"&&(t=r.pop()),r.length===1&&uet.isArray(r[0])&&(r=r[0]),het.fromArray(r,n).lift(new Ewe(t))}k0.combineLatest=pet;var Ewe=function(){function r(e){this.resultSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new Rwe(e,this.resultSelector))},r}();k0.CombineLatestOperator=Ewe;var Rwe=function(r){aet(e,r);function e(t,n){var i=r.call(this,t)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(t){this.values.push(Dwe),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,n=t.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var o=t[i];this.add(fet.subscribeToResult(this,o,void 0,i))}}},e.prototype.notifyComplete=function(t){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(t,n,i){var o=this.values,s=o[i],a=this.toRespond?s===Dwe?--this.toRespond:this.toRespond:0;o[i]=n,a===0&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},e.prototype._tryResultSelector=function(t){var n;try{n=this.resultSelector.apply(this,t)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(det.OuterSubscriber);k0.CombineLatestSubscriber=Rwe});var Pwe=C(E9=>{"use strict";Object.defineProperty(E9,"__esModule",{value:!0});var met=Ho(),get=Ml(),vet=O0();function yet(r,e){return new met.Observable(function(t){var n=new get.Subscription;return n.add(e.schedule(function(){var i=r[vet.observable]();n.add(i.subscribe({next:function(o){n.add(e.schedule(function(){return t.next(o)}))},error:function(o){n.add(e.schedule(function(){return t.error(o)}))},complete:function(){n.add(e.schedule(function(){return t.complete()}))}}))})),n})}E9.scheduleObservable=yet});var xwe=C(R9=>{"use strict";Object.defineProperty(R9,"__esModule",{value:!0});var _et=Ho(),bet=Ml();function wet(r,e){return new _et.Observable(function(t){var n=new bet.Subscription;return n.add(e.schedule(function(){return r.then(function(i){n.add(e.schedule(function(){t.next(i),n.add(e.schedule(function(){return t.complete()}))}))},function(i){n.add(e.schedule(function(){return t.error(i)}))})})),n})}R9.schedulePromise=wet});var Owe=C(P9=>{"use strict";Object.defineProperty(P9,"__esModule",{value:!0});var Cet=Ho(),Tet=Ml(),Det=hP();function Eet(r,e){if(!r)throw new Error("Iterable cannot be null");return new Cet.Observable(function(t){var n=new Tet.Subscription,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(e.schedule(function(){i=r[Det.iterator](),n.add(e.schedule(function(){if(!t.closed){var o,s;try{var a=i.next();o=a.value,s=a.done}catch(c){t.error(c);return}s?t.complete():(t.next(o),this.schedule())}}))})),n})}P9.scheduleIterable=Eet});var Iwe=C(x9=>{"use strict";Object.defineProperty(x9,"__esModule",{value:!0});var Ret=O0();function Pet(r){return r&&typeof r[Ret.observable]=="function"}x9.isInteropObservable=Pet});var kwe=C(O9=>{"use strict";Object.defineProperty(O9,"__esModule",{value:!0});var xet=hP();function Oet(r){return r&&typeof r[xet.iterator]=="function"}O9.isIterable=Oet});var k9=C(I9=>{"use strict";Object.defineProperty(I9,"__esModule",{value:!0});var Iet=Pwe(),ket=xwe(),Aet=Pj(),Let=Owe(),Met=Iwe(),Net=C9(),Fet=w9(),qet=kwe();function jet(r,e){if(r!=null){if(Met.isInteropObservable(r))return Iet.scheduleObservable(r,e);if(Net.isPromise(r))return ket.schedulePromise(r,e);if(Fet.isArrayLike(r))return Aet.scheduleArray(r,e);if(qet.isIterable(r)||typeof r=="string")return Let.scheduleIterable(r,e)}throw new TypeError((r!==null&&typeof r||r)+" is not observable")}I9.scheduled=jet});var Jy=C(A9=>{"use strict";Object.defineProperty(A9,"__esModule",{value:!0});var Awe=Ho(),zet=vA(),Uet=k9();function Het(r,e){return e?Uet.scheduled(r,e):r instanceof Awe.Observable?r:new Awe.Observable(zet.subscribeTo(r))}A9.from=Het});var Bc=C(Zw=>{"use strict";var Mj=Zw&&Zw.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Zw,"__esModule",{value:!0});var Nj=gi(),Bet=Ho(),Wet=vA(),$et=function(r){Mj(e,r);function e(t){var n=r.call(this)||this;return n.parent=t,n}return e.prototype._next=function(t){this.parent.notifyNext(t)},e.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(Nj.Subscriber);Zw.SimpleInnerSubscriber=$et;var Vet=function(r){Mj(e,r);function e(t,n,i){var o=r.call(this)||this;return o.parent=t,o.outerValue=n,o.outerIndex=i,o}return e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this)},e.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(Nj.Subscriber);Zw.ComplexInnerSubscriber=Vet;var Get=function(r){Mj(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(Nj.Subscriber);Zw.SimpleOuterSubscriber=Get;var Ket=function(r){Mj(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.notifyNext=function(t,n,i,o){this.destination.next(n)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(Nj.Subscriber);Zw.ComplexOuterSubscriber=Ket;function Yet(r,e){if(!e.closed){if(r instanceof Bet.Observable)return r.subscribe(e);var t;try{t=Wet.subscribeTo(r)(e)}catch(n){e.error(n)}return t}}Zw.innerSubscribe=Yet});var yA=C(ST=>{"use strict";var Jet=ST&&ST.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(ST,"__esModule",{value:!0});var Xet=Sg(),Qet=Jy(),L9=Bc();function M9(r,e,t){return t===void 0&&(t=Number.POSITIVE_INFINITY),typeof e=="function"?function(n){return n.pipe(M9(function(i,o){return Qet.from(r(i,o)).pipe(Xet.map(function(s,a){return e(i,s,o,a)}))},t))}:(typeof e=="number"&&(t=e),function(n){return n.lift(new Lwe(r,t))})}ST.mergeMap=M9;var Lwe=function(){function r(e,t){t===void 0&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return r.prototype.call=function(e,t){return t.subscribe(new Mwe(e,this.project,this.concurrent))},r}();ST.MergeMapOperator=Lwe;var Mwe=function(r){Jet(e,r);function e(t,n,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var o=r.call(this,t)||this;return o.project=n,o.concurrent=i,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var n,i=this.index++;try{n=this.project(t,i)}catch(o){this.destination.error(o);return}this.active++,this._innerSub(n)},e.prototype._innerSub=function(t){var n=new L9.SimpleInnerSubscriber(this),i=this.destination;i.add(n);var o=L9.innerSubscribe(t,n);o!==n&&i.add(o)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(L9.SimpleOuterSubscriber);ST.MergeMapSubscriber=Mwe;ST.flatMap=M9});var Fj=C(N9=>{"use strict";Object.defineProperty(N9,"__esModule",{value:!0});var Zet=yA(),ett=yT();function ttt(r){return r===void 0&&(r=Number.POSITIVE_INFINITY),Zet.mergeMap(ett.identity,r)}N9.mergeAll=ttt});var q9=C(F9=>{"use strict";Object.defineProperty(F9,"__esModule",{value:!0});var rtt=Fj();function ntt(){return rtt.mergeAll(1)}F9.concatAll=ntt});var _A=C(j9=>{"use strict";Object.defineProperty(j9,"__esModule",{value:!0});var itt=rA(),ott=q9();function stt(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return ott.concatAll()(itt.of.apply(void 0,r))}j9.concat=stt});var qj=C(z9=>{"use strict";Object.defineProperty(z9,"__esModule",{value:!0});var att=Ho(),ctt=Jy(),utt=Ky();function ltt(r){return new att.Observable(function(e){var t;try{t=r()}catch(i){e.error(i);return}var n=t?ctt.from(t):utt.empty();return n.subscribe(e)})}z9.defer=ltt});var Fwe=C(U9=>{"use strict";Object.defineProperty(U9,"__esModule",{value:!0});var dtt=Ho(),Nwe=fp(),ftt=Sg(),htt=yj(),ptt=Jy();function mtt(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(r.length===1){var t=r[0];if(Nwe.isArray(t))return jj(t,null);if(htt.isObject(t)&&Object.getPrototypeOf(t)===Object.prototype){var n=Object.keys(t);return jj(n.map(function(o){return t[o]}),n)}}if(typeof r[r.length-1]=="function"){var i=r.pop();return r=r.length===1&&Nwe.isArray(r[0])?r[0]:r,jj(r,null).pipe(ftt.map(function(o){return i.apply(void 0,o)}))}return jj(r,null)}U9.forkJoin=mtt;function jj(r,e){return new dtt.Observable(function(t){var n=r.length;if(n===0){t.complete();return}for(var i=new Array(n),o=0,s=0,a=function(u){var l=ptt.from(r[u]),d=!1;t.add(l.subscribe({next:function(f){d||(d=!0,s++),i[u]=f},error:function(f){return t.error(f)},complete:function(){o++,(o===n||!d)&&(s===n&&t.next(e?e.reduce(function(f,p,_){return f[p]=i[_],f},{}):i),t.complete())}}))},c=0;c<n;c++)a(c)})}});var zwe=C(H9=>{"use strict";Object.defineProperty(H9,"__esModule",{value:!0});var gtt=Ho(),vtt=fp(),ytt=eP(),_tt=Sg();function qwe(r,e,t,n){return ytt.isFunction(t)&&(n=t,t=void 0),n?qwe(r,e,t).pipe(_tt.map(function(i){return vtt.isArray(i)?n.apply(void 0,i):n(i)})):new gtt.Observable(function(i){function o(s){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(s)}jwe(r,e,o,i,t)})}H9.fromEvent=qwe;function jwe(r,e,t,n,i){var o;if(Stt(r)){var s=r;r.addEventListener(e,t,i),o=function(){return s.removeEventListener(e,t,i)}}else if(wtt(r)){var a=r;r.on(e,t),o=function(){return a.off(e,t)}}else if(btt(r)){var c=r;r.addListener(e,t),o=function(){return c.removeListener(e,t)}}else if(r&&r.length)for(var u=0,l=r.length;u<l;u++)jwe(r[u],e,t,n,i);else throw new TypeError("Invalid event target");n.add(o)}function btt(r){return r&&typeof r.addListener=="function"&&typeof r.removeListener=="function"}function wtt(r){return r&&typeof r.on=="function"&&typeof r.off=="function"}function Stt(r){return r&&typeof r.addEventListener=="function"&&typeof r.removeEventListener=="function"}});var Hwe=C(B9=>{"use strict";Object.defineProperty(B9,"__esModule",{value:!0});var Ctt=Ho(),Ttt=fp(),Dtt=eP(),Ett=Sg();function Uwe(r,e,t){return t?Uwe(r,e).pipe(Ett.map(function(n){return Ttt.isArray(n)?t.apply(void 0,n):t(n)})):new Ctt.Observable(function(n){var i=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return n.next(s.length===1?s[0]:s)},o;try{o=r(i)}catch(s){n.error(s);return}if(Dtt.isFunction(e))return function(){return e(i,o)}})}B9.fromEventPattern=Uwe});var Wwe=C(W9=>{"use strict";Object.defineProperty(W9,"__esModule",{value:!0});var Rtt=Ho(),Bwe=yT(),Ptt=Yy();function xtt(r,e,t,n,i){var o,s;if(arguments.length==1){var a=r;s=a.initialState,e=a.condition,t=a.iterate,o=a.resultSelector||Bwe.identity,i=a.scheduler}else n===void 0||Ptt.isScheduler(n)?(s=r,o=Bwe.identity,i=n):(s=r,o=n);return new Rtt.Observable(function(c){var u=s;if(i)return i.schedule(Ott,0,{subscriber:c,iterate:t,condition:e,resultSelector:o,state:u});do{if(e){var l=void 0;try{l=e(u)}catch(f){c.error(f);return}if(!l){c.complete();break}}var d=void 0;try{d=o(u)}catch(f){c.error(f);return}if(c.next(d),c.closed)break;try{u=t(u)}catch(f){c.error(f);return}}while(!0)})}W9.generate=xtt;function Ott(r){var e=r.subscriber,t=r.condition;if(!e.closed){if(r.needIterate)try{r.state=r.iterate(r.state)}catch(o){e.error(o);return}else r.needIterate=!0;if(t){var n=void 0;try{n=t(r.state)}catch(o){e.error(o);return}if(!n){e.complete();return}if(e.closed)return}var i;try{i=r.resultSelector(r.state)}catch(o){e.error(o);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(r)}}});var Vwe=C($9=>{"use strict";Object.defineProperty($9,"__esModule",{value:!0});var Itt=qj(),$we=Ky();function ktt(r,e,t){return e===void 0&&(e=$we.EMPTY),t===void 0&&(t=$we.EMPTY),Itt.defer(function(){return r()?e:t})}$9.iif=ktt});var bA=C(V9=>{"use strict";Object.defineProperty(V9,"__esModule",{value:!0});var Att=fp();function Ltt(r){return!Att.isArray(r)&&r-parseFloat(r)+1>=0}V9.isNumeric=Ltt});var Kwe=C(G9=>{"use strict";Object.defineProperty(G9,"__esModule",{value:!0});var Mtt=Ho(),Gwe=hp(),Ntt=bA();function Ftt(r,e){return r===void 0&&(r=0),e===void 0&&(e=Gwe.async),(!Ntt.isNumeric(r)||r<0)&&(r=0),(!e||typeof e.schedule!="function")&&(e=Gwe.async),new Mtt.Observable(function(t){return t.add(e.schedule(qtt,r,{subscriber:t,counter:0,period:r})),t})}G9.interval=Ftt;function qtt(r){var e=r.subscriber,t=r.counter,n=r.period;e.next(t),this.schedule({subscriber:e,counter:t+1,period:n},n)}});var Y9=C(K9=>{"use strict";Object.defineProperty(K9,"__esModule",{value:!0});var jtt=Ho(),ztt=Yy(),Utt=Fj(),Htt=aP();function Btt(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=Number.POSITIVE_INFINITY,n=null,i=r[r.length-1];return ztt.isScheduler(i)?(n=r.pop(),r.length>1&&typeof r[r.length-1]=="number"&&(t=r.pop())):typeof i=="number"&&(t=r.pop()),n===null&&r.length===1&&r[0]instanceof jtt.Observable?r[0]:Utt.mergeAll(t)(Htt.fromArray(r,n))}K9.merge=Btt});var J9=C(wA=>{"use strict";Object.defineProperty(wA,"__esModule",{value:!0});var Wtt=Ho(),$tt=Aj();wA.NEVER=new Wtt.Observable($tt.noop);function Vtt(){return wA.NEVER}wA.never=Vtt});var Ywe=C(Q9=>{"use strict";Object.defineProperty(Q9,"__esModule",{value:!0});var Gtt=Ho(),Ktt=Jy(),Ytt=fp(),Jtt=Ky();function X9(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(r.length===0)return Jtt.EMPTY;var t=r[0],n=r.slice(1);return r.length===1&&Ytt.isArray(t)?X9.apply(void 0,t):new Gtt.Observable(function(i){var o=function(){return i.add(X9.apply(void 0,n).subscribe(i))};return Ktt.from(t).subscribe({next:function(s){i.next(s)},error:o,complete:o})})}Q9.onErrorResumeNext=X9});var Qwe=C(zj=>{"use strict";Object.defineProperty(zj,"__esModule",{value:!0});var Jwe=Ho(),Xtt=Ml();function Qtt(r,e){return e?new Jwe.Observable(function(t){var n=Object.keys(r),i=new Xtt.Subscription;return i.add(e.schedule(Xwe,0,{keys:n,index:0,subscriber:t,subscription:i,obj:r})),i}):new Jwe.Observable(function(t){for(var n=Object.keys(r),i=0;i<n.length&&!t.closed;i++){var o=n[i];r.hasOwnProperty(o)&&t.next([o,r[o]])}t.complete()})}zj.pairs=Qtt;function Xwe(r){var e=r.keys,t=r.index,n=r.subscriber,i=r.subscription,o=r.obj;if(!n.closed)if(t<e.length){var s=e[t];n.next([s,o[s]]),i.add(this.schedule({keys:e,index:t+1,subscriber:n,subscription:i,obj:o}))}else n.complete()}zj.dispatch=Xwe});var e7=C(Z9=>{"use strict";Object.defineProperty(Z9,"__esModule",{value:!0});function Ztt(r,e){function t(){return!t.pred.apply(t.thisArg,arguments)}return t.pred=r,t.thisArg=e,t}Z9.not=Ztt});var A0=C(SA=>{"use strict";var ert=SA&&SA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(SA,"__esModule",{value:!0});var trt=gi();function rrt(r,e){return function(n){return n.lift(new nrt(r,e))}}SA.filter=rrt;var nrt=function(){function r(e,t){this.predicate=e,this.thisArg=t}return r.prototype.call=function(e,t){return t.subscribe(new irt(e,this.predicate,this.thisArg))},r}(),irt=function(r){ert(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.predicate=n,o.thisArg=i,o.count=0,o}return e.prototype._next=function(t){var n;try{n=this.predicate.call(this.thisArg,t,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(t)},e}(trt.Subscriber)});var rSe=C(t7=>{"use strict";Object.defineProperty(t7,"__esModule",{value:!0});var ort=e7(),Zwe=vA(),eSe=A0(),tSe=Ho();function srt(r,e,t){return[eSe.filter(e,t)(new tSe.Observable(Zwe.subscribeTo(r))),eSe.filter(ort.not(e,t))(new tSe.Observable(Zwe.subscribeTo(r)))]}t7.partition=srt});var r7=C(L0=>{"use strict";var art=L0&&L0.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(L0,"__esModule",{value:!0});var crt=fp(),urt=aP(),lrt=bT(),drt=wT();function frt(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(r.length===1)if(crt.isArray(r[0]))r=r[0];else return r[0];return urt.fromArray(r,void 0).lift(new nSe)}L0.race=frt;var nSe=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new iSe(e))},r}();L0.RaceOperator=nSe;var iSe=function(r){art(e,r);function e(t){var n=r.call(this,t)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,n=t.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var o=t[i],s=drt.subscribeToResult(this,o,void 0,i);this.subscriptions&&this.subscriptions.push(s),this.add(s)}this.observables=null}},e.prototype.notifyNext=function(t,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==i){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(n)},e}(lrt.OuterSubscriber);L0.RaceSubscriber=iSe});var sSe=C(Uj=>{"use strict";Object.defineProperty(Uj,"__esModule",{value:!0});var hrt=Ho();function prt(r,e,t){return r===void 0&&(r=0),new hrt.Observable(function(n){e===void 0&&(e=r,r=0);var i=0,o=r;if(t)return t.schedule(oSe,0,{index:i,count:e,start:r,subscriber:n});do{if(i++>=e){n.complete();break}if(n.next(o++),n.closed)break}while(!0)})}Uj.range=prt;function oSe(r){var e=r.start,t=r.index,n=r.count,i=r.subscriber;if(t>=n){i.complete();return}i.next(e),!i.closed&&(r.index=t+1,r.start=e+1,this.schedule(r))}Uj.dispatch=oSe});var i7=C(n7=>{"use strict";Object.defineProperty(n7,"__esModule",{value:!0});var mrt=Ho(),grt=hp(),aSe=bA(),cSe=Yy();function vrt(r,e,t){r===void 0&&(r=0);var n=-1;return aSe.isNumeric(e)?n=Number(e)<1&&1||Number(e):cSe.isScheduler(e)&&(t=e),cSe.isScheduler(t)||(t=grt.async),new mrt.Observable(function(i){var o=aSe.isNumeric(r)?r:+r-t.now();return t.schedule(yrt,o,{index:0,period:n,subscriber:i})})}n7.timer=vrt;function yrt(r){var e=r.index,t=r.period,n=r.subscriber;if(n.next(e),!n.closed){if(t===-1)return n.complete();r.index=e+1,this.schedule(r,t)}}});var uSe=C(o7=>{"use strict";Object.defineProperty(o7,"__esModule",{value:!0});var _rt=Ho(),brt=Jy(),wrt=Ky();function Srt(r,e){return new _rt.Observable(function(t){var n;try{n=r()}catch(a){t.error(a);return}var i;try{i=e(n)}catch(a){t.error(a);return}var o=i?brt.from(i):wrt.EMPTY,s=o.subscribe(t);return function(){s.unsubscribe(),n&&n.unsubscribe()}})}o7.using=Srt});var Bj=C(M0=>{"use strict";var lSe=M0&&M0.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(M0,"__esModule",{value:!0});var Crt=aP(),Trt=fp(),Drt=gi(),Hj=hP(),s7=Bc();function Ert(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r[r.length-1];return typeof t=="function"&&r.pop(),Crt.fromArray(r,void 0).lift(new dSe(t))}M0.zip=Ert;var dSe=function(){function r(e){this.resultSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new fSe(e,this.resultSelector))},r}();M0.ZipOperator=dSe;var fSe=function(r){lSe(e,r);function e(t,n,i){i===void 0&&(i=Object.create(null));var o=r.call(this,t)||this;return o.resultSelector=n,o.iterators=[],o.active=0,o.resultSelector=typeof n=="function"?n:void 0,o}return e.prototype._next=function(t){var n=this.iterators;Trt.isArray(t)?n.push(new Prt(t)):typeof t[Hj.iterator]=="function"?n.push(new Rrt(t[Hj.iterator]())):n.push(new xrt(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,n=t.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var o=t[i];if(o.stillUnsubscribed){var s=this.destination;s.add(o.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,n=t.length,i=this.destination,o=0;o<n;o++){var s=t[o];if(typeof s.hasValue=="function"&&!s.hasValue())return}for(var a=!1,c=[],o=0;o<n;o++){var s=t[o],u=s.next();if(s.hasCompleted()&&(a=!0),u.done){i.complete();return}c.push(u.value)}this.resultSelector?this._tryresultSelector(c):i.next(c),a&&i.complete()},e.prototype._tryresultSelector=function(t){var n;try{n=this.resultSelector.apply(this,t)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Drt.Subscriber);M0.ZipSubscriber=fSe;var Rrt=function(){function r(e){this.iterator=e,this.nextResult=e.next()}return r.prototype.hasValue=function(){return!0},r.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},r.prototype.hasCompleted=function(){var e=this.nextResult;return!!(e&&e.done)},r}(),Prt=function(){function r(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return r.prototype[Hj.iterator]=function(){return this},r.prototype.next=function(e){var t=this.index++,n=this.array;return t<this.length?{value:n[t],done:!1}:{value:null,done:!0}},r.prototype.hasValue=function(){return this.array.length>this.index},r.prototype.hasCompleted=function(){return this.array.length===this.index},r}(),xrt=function(r){lSe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.parent=n,o.observable=i,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return e.prototype[Hj.iterator]=function(){return this},e.prototype.next=function(){var t=this.buffer;return t.length===0&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t){this.buffer.push(t),this.parent.checkIterators()},e.prototype.subscribe=function(){return s7.innerSubscribe(this.observable,new s7.SimpleInnerSubscriber(this))},e}(s7.SimpleOuterSubscriber)});var CT=C(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});var Ort=Ho();gn.Observable=Ort.Observable;var Irt=VK();gn.ConnectableObservable=Irt.ConnectableObservable;var krt=KK();gn.GroupedObservable=krt.GroupedObservable;var Art=O0();gn.observable=Art.observable;var Lrt=th();gn.Subject=Lrt.Subject;var Mrt=YK();gn.BehaviorSubject=Mrt.BehaviorSubject;var Nrt=Oj();gn.ReplaySubject=Nrt.ReplaySubject;var Frt=aA();gn.AsyncSubject=Frt.AsyncSubject;var hSe=c9();gn.asap=hSe.asap;gn.asapScheduler=hSe.asapScheduler;var pSe=hp();gn.async=pSe.async;gn.asyncScheduler=pSe.asyncScheduler;var mSe=QK();gn.queue=mSe.queue;gn.queueScheduler=mSe.queueScheduler;var gSe=awe();gn.animationFrame=gSe.animationFrame;gn.animationFrameScheduler=gSe.animationFrameScheduler;var vSe=lwe();gn.VirtualTimeScheduler=vSe.VirtualTimeScheduler;gn.VirtualAction=vSe.VirtualAction;var qrt=XK();gn.Scheduler=qrt.Scheduler;var jrt=Ml();gn.Subscription=jrt.Subscription;var zrt=gi();gn.Subscriber=zrt.Subscriber;var ySe=iA();gn.Notification=ySe.Notification;gn.NotificationKind=ySe.NotificationKind;var Urt=Tj();gn.pipe=Urt.pipe;var Hrt=Aj();gn.noop=Hrt.noop;var Brt=yT();gn.identity=Brt.identity;var Wrt=dwe();gn.isObservable=Wrt.isObservable;var $rt=uP();gn.ArgumentOutOfRangeError=$rt.ArgumentOutOfRangeError;var Vrt=lP();gn.EmptyError=Vrt.EmptyError;var Grt=W1();gn.ObjectUnsubscribedError=Grt.ObjectUnsubscribedError;var Krt=OK();gn.UnsubscriptionError=Krt.UnsubscriptionError;var Yrt=p9();gn.TimeoutError=Yrt.TimeoutError;var Jrt=mwe();gn.bindCallback=Jrt.bindCallback;var Xrt=_we();gn.bindNodeCallback=Xrt.bindNodeCallback;var Qrt=Lj();gn.combineLatest=Qrt.combineLatest;var Zrt=_A();gn.concat=Zrt.concat;var ent=qj();gn.defer=ent.defer;var tnt=Ky();gn.empty=tnt.empty;var rnt=Fwe();gn.forkJoin=rnt.forkJoin;var nnt=Jy();gn.from=nnt.from;var int=zwe();gn.fromEvent=int.fromEvent;var ont=Hwe();gn.fromEventPattern=ont.fromEventPattern;var snt=Wwe();gn.generate=snt.generate;var ant=Vwe();gn.iif=ant.iif;var cnt=Kwe();gn.interval=cnt.interval;var unt=Y9();gn.merge=unt.merge;var lnt=J9();gn.never=lnt.never;var dnt=rA();gn.of=dnt.of;var fnt=Ywe();gn.onErrorResumeNext=fnt.onErrorResumeNext;var hnt=Qwe();gn.pairs=hnt.pairs;var pnt=rSe();gn.partition=pnt.partition;var mnt=r7();gn.race=mnt.race;var gnt=sSe();gn.range=gnt.range;var vnt=xj();gn.throwError=vnt.throwError;var ynt=i7();gn.timer=ynt.timer;var _nt=uSe();gn.using=_nt.using;var bnt=Bj();gn.zip=bnt.zip;var wnt=k9();gn.scheduled=wnt.scheduled;var Snt=Ky();gn.EMPTY=Snt.EMPTY;var Cnt=J9();gn.NEVER=Cnt.NEVER;var Tnt=H1();gn.config=Tnt.config});var FSe=C(Xj=>{"use strict";Object.defineProperty(Xj,"__esModule",{value:!0});Xj.BaseTelemetryReporter=void 0;var m7=class{constructor(e,t,n){this.telemetrySender=e,this.vscodeAPI=t,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this._onDidChangeTelemetryLevel=new this.vscodeAPI.EventEmitter,this.onDidChangeTelemetryLevel=this._onDidChangeTelemetryLevel.event,this.telemetryLogger=this.vscodeAPI.env.createTelemetryLogger(this.telemetrySender,n),this.updateUserOptIn(),this.telemetryLogger.onDidChangeEnableStates(()=>{this.updateUserOptIn()})}updateUserOptIn(){this.errorOptIn=this.telemetryLogger.isErrorsEnabled,this.userOptIn=this.telemetryLogger.isUsageEnabled,(this.telemetryLogger.isErrorsEnabled||this.telemetryLogger.isUsageEnabled)&&this.telemetrySender.instantiateSender(),this._onDidChangeTelemetryLevel.fire(this.telemetryLevel)}get telemetryLevel(){return this.errorOptIn&&this.userOptIn?"all":this.errorOptIn?"error":"off"}internalSendTelemetryEvent(e,t,n,i){i?this.telemetrySender.sendEventData(e,{properties:t,measurements:n}):this.telemetryLogger.logUsage(e,{properties:t,measurements:n})}sendTelemetryEvent(e,t,n){this.internalSendTelemetryEvent(e,t,n,!1)}sendRawTelemetryEvent(e,t,n){let i={...t};for(let o of Object.keys(i??{})){let s=i[o];typeof o=="string"&&s!==void 0&&(i[o]=new this.vscodeAPI.TelemetryTrustedValue(typeof s=="string"?s:s.value))}this.sendTelemetryEvent(e,i,n)}sendDangerousTelemetryEvent(e,t,n){this.telemetrySender.instantiateSender(),this.internalSendTelemetryEvent(e,t,n,!0)}internalSendTelemetryErrorEvent(e,t,n,i){i?this.telemetrySender.sendEventData(e,{properties:t,measurements:n}):this.telemetryLogger.logError(e,{properties:t,measurements:n})}sendTelemetryErrorEvent(e,t,n){this.internalSendTelemetryErrorEvent(e,t,n,!1)}sendDangerousTelemetryErrorEvent(e,t,n){this.telemetrySender.instantiateSender(),this.internalSendTelemetryErrorEvent(e,t,n,!0)}async dispose(){return await this.telemetrySender.dispose(),this.telemetryLogger.dispose(),Promise.all(this.disposables.map(e=>e.dispose()))}};Xj.BaseTelemetryReporter=m7});var qSe=C(Qj=>{"use strict";Object.defineProperty(Qj,"__esModule",{value:!0});Qj.BaseTelemetrySender=void 0;var tS;(function(r){r[r.NOT_INSTANTIATED=0]="NOT_INSTANTIATED",r[r.INSTANTIATING=1]="INSTANTIATING",r[r.INSTANTIATED=2]="INSTANTIATED"})(tS||(tS={}));var g7=class{constructor(e,t){this._instantiationStatus=tS.NOT_INSTANTIATED,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=t,this._key=e}sendEventData(e,t){if(!this._telemetryClient){this._instantiationStatus!==tS.INSTANTIATED&&this._eventQueue.push({eventName:e,data:t});return}this._telemetryClient.logEvent(e,t)}sendErrorData(e,t){if(!this._telemetryClient){this._instantiationStatus!==tS.INSTANTIATED&&this._exceptionQueue.push({exception:e,data:t});return}let n={stack:e.stack,message:e.message,name:e.name};t?t.properties={...t.properties,...n}:t={properties:n},this._telemetryClient.logEvent("unhandlederror",t)}async flush(){return this._telemetryClient?.flush()}async dispose(){this._telemetryClient&&(await this._telemetryClient.dispose(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach(({eventName:e,data:t})=>this.sendEventData(e,t)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:e,data:t})=>this.sendErrorData(e,t)),this._exceptionQueue=[]}instantiateSender(){this._instantiationStatus===tS.NOT_INSTANTIATED&&(this._instantiationStatus=tS.INSTANTIATING,this._clientFactory(this._key).then(e=>{this._telemetryClient=e,this._instantiationStatus=tS.INSTANTIATED,this._flushQueues()}).catch(e=>{console.error(e),this._instantiationStatus=tS.INSTANTIATED}))}};Qj.BaseTelemetrySender=g7});var y7=C(Zj=>{"use strict";Object.defineProperty(Zj,"__esModule",{value:!0});Zj.TelemetryUtil=void 0;var v7=class r{static applyReplacements(e,t){for(let n of Object.keys(e))for(let i of t)i.lookup.test(n)&&(i.replacementString!==void 0?e[n]=i.replacementString:delete e[n])}static shouldUseOneDataSystemSDK(e){return e.length===74&&e[32]==="-"&&e[41]==="-"&&e[46]==="-"&&e[51]==="-"&&e[56]==="-"&&e[69]==="-"}static getAdditionalCommonProperties(e){return{"common.os":e.platform,"common.nodeArch":e.architecture,"common.platformversion":(e.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),"common.telemetryclientversion":"0.9.0"}}static getInstance(){return r._instance||(r._instance=new r),r._instance}};Zj.TelemetryUtil=v7});var zSe=C((ez,jSe)=>{(function(r,e){typeof ez=="object"&&typeof jSe<"u"?e(ez):typeof define=="function"&&define.amd?define(["exports"],e):(r=typeof globalThis<"u"?globalThis:r||self,e(r.oneDS=r.oneDS||{}))})(ez,function(r){"use strict";var e="function",t="object",n="undefined",i="prototype",o=Object,s=o[i],a=void 0,c=null,u="",l="boolean",d="function",f="number",p="object",_="prototype",D="__proto__",P="string",M="undefined",A="constructor",U="Symbol",ne="_polyfill",pe="indexOf",ve="length",V="done",W="value",ee="name",De="slice",ae=Object,ue=ae[_],Fe=String,Me=Fe[_],ce=Math,Ce=Array,be=Ce[_];function xe(m,b){var I=b;try{I=m()}catch{}return I}var Ne=[P,f,l,M,"symbol","bigint"];function $e(m){return function(b){return typeof b===m}}function Ct(m){var b="[object "+m+"]";return function(I){return!!(I&&ze(I)===b)}}function ze(m){return ue.toString.call(m)}function st(m,b){return typeof m===b}function at(m){return typeof m===M||m===M}function tt(m){return m===c||at(m)}function fr(m){return m===c||!Lr(m)}function Lr(m){return!!m||m!==a}var zr=function(m){return m!==p&&Ne.indexOf(m)!==-1},cr=$e(P),xt=$e(d);function hr(m){return!m&&tt(m)?!1:!!m&&typeof m===p}var Mt=Ce.isArray,nn=Ct("Date"),ln=$e(f),On=$e(l),Or=Ct("Error");function Hn(m){return!!m&&xt(m.then)}function $r(m){return!m||!xe(function(){return m&&0+m},m)}function dn(m){return!(!m||xe(function(){return!(m&&0+m)},!m))}var ii=ae.getOwnPropertyDescriptor;function Vr(m,b){return m&&ue.hasOwnProperty.call(m,b)}var An=ae.hasOwn||xi;function xi(m,b){return Vr(m,b)||!!ii(m,b)}function Gr(m,b,I){if(m&&hr(m)){for(var j in m)if(An(m,j)&&b.call(I||m,j,m[j])===-1)break}}function Qi(m,b,I,j){var $={};return Gr(m,function(ie,ge){$[ie]=b?ge:ie,$[ge]=I?ge:ie}),j($)}function oi(m){throw new Error(m)}function fn(m){throw new TypeError(m)}var Oe=ae.freeze,oe=function(m){return m},Q=function(m){return m[D]||c},we=ae.assign;function Je(m){return(!hr(m)||m===c)&&fn("objKeys called on non-object"),ae.keys(m)}function ft(m){return Oe&&Gr(m,function(b,I){(Mt(I)||hr(I))&&Oe(I)}),Yt(m)}var Yt=Oe||oe,rr=ae.seal||oe,Jt=ae.getPrototypeOf||Q;function $t(m){return Qi(m,1,0,ft)}function kt(m){return Qi(m,0,0,ft)}var K=kt({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),qe=Fe,Ht="__tsUtils$gblCfg",Dr;function He(){var m;return typeof globalThis!==M&&(m=globalThis),!m&&typeof self!==M&&(m=self),!m&&typeof window!==M&&(m=window),!m&&typeof global!==M&&(m=global),m}function re(){if(!Dr){var m=He()||{};Dr=m[Ht]=m[Ht]||{}}return Dr}function Pe(m,b){var I=u;if(Or(m))I="{ stack: '"+m.stack+"', message: '"+m.message+"', name: '"+m.name+"'";else try{I=JSON.stringify(m,c,b?ln(b)?b:4:a)}catch(j){I=" - "+Pe(j,b)}return ze(m)+": "+I}var je=be[De],fe=function(m,b){fn("'"+qe(m)+"' not defined for "+Pe(b))},S=function(m){return function(b){return b[m].apply(b,je.call(arguments,1))}},de=function(m,b){var I=b&&b[m];return function(j){var $=j&&j[m]||I;if($)return $.apply(j,je.call(arguments,1));fe(m,j)}},Ye=function(m,b,I){var j=b&&b[m];return function($){var ie=$&&$[m]||j;if(ie||I){var ge=arguments;return(ie||I).apply($,ie?je.call(ge,1):ge)}fe(m,$)}};function Tr(m){return function(b){return b[m]}}var Wr=ce.max,Xr=de(De,Me),qn=de("substring",Me),Oi=Ye("substr",Me,Ms);function Ms(m,b,I){return tt(m)&&fn("'polyStrSubstr called with invalid "+Pe(m)),I<0?u:(b=b||0,b<0&&(b=Wr(b+m[ve],0)),at(I)?Xr(m,b):Xr(m,b,b+I))}function Sn(m,b){return qn(m,0,b)}var rs=Ye("startsWith",Me,Vs);function Vs(m,b,I){cr(m)||fn("'"+Pe(m)+"' is not a string");var j=cr(b)?b:qe(b),$=j[ve],ie=I>0?I:0;return qn(m,ie,ie+$)===j}var oa="_urid",jo;function Ro(){if(!jo){var m=re();jo=m.gblSym=m.gblSym||{k:{},s:{}}}return jo}var H={};function Ue(m){var b={description:qe(m),toString:function(){return U+"("+m+")"}};return b[ne]=!0,b}function vt(m){var b=Ro();if(!An(b.k,m)){var I=Ue(m),j=Je(b.s).length;I[oa]=function(){return j+"_"+I.toString()},b.k[m]=I,b.s[I[oa]()]=qe(m)}return b.k[m]}function Fr(m){var b,I=K[m];return I&&(b=H[I]=H[I]||Ue(U+"."+I)),b}var ao={e:"enumerable",c:"configurable",v:W,w:"writable",g:"get",s:"set"};function $i(m){var b={};if(b[ao.c]=!0,b[ao.e]=!0,m.l){b.get=function(){return m.l.v};var I=ii(m.l,"v");I&&I.set&&(b.set=function(j){m.l.v=j})}return Gr(m,function(j,$){b[ao[j]]=at($)?b[ao[j]]:$}),b}var N=ae.defineProperty;function Le(m,b,I,j,$,ie){var ge={e:ie,c:$};return I&&(ge.g=I),j&&(ge.s=j),N(m,b,$i(ge))}function rt(m,b,I){return N(m,b,$i(I))}var zt,Ln=function(){zt=re(),Ln=c};function Cn(m){var b={};return Ln&&Ln(),b.b=zt.lzy,N(b,"v",{configurable:!0,get:function(){var I=m();return zt.lzy||(N(b,"v",{value:I}),b.b&&delete b.b),zt.lzy&&b.b!==zt.lzy&&(b.b=zt.lzy),I}}),b}function Nn(m,b){return Cn(function(){return xe(m,b)})}var co="window",Ui,Po,Gi,Jn,Su,ns,_o=function(m){return Nn(function(){return Fi(m)||a},a)},yl=function(m){return(!Ui||m===!1||zt&&zt.lzy&&!Ui.b)&&(Ui=Nn(He,c)),Ui.v},Fi=function(m,b){var I=!Ui||b===!1?yl(b):Ui.v;return I&&I[m]?I[m]:m===co&&Po?Po.v:c},nc=function(){return!!ic()},ic=function(){return(!Gi||zt&&zt.lzy&&!Gi.b)&&(Gi=_o("document")),Gi.v},va=function(){return!!_l()},_l=function(){return(!Po||zt&&zt.lzy&&!Po.b)&&(Po=_o(co)),Po.v},kh=function(){return!!Oc()},Oc=function(){return(!Jn||zt&&zt.lzy&&!Jn.b)&&(Jn=_o("navigator")),Jn.v},sa=function(){return!!Cu()},Cu=function(){return(!Su||zt&&zt.lzy&&!Su.b)&&(Su=_o("history")),Su.v},Ah=function(){return!ns&&(ns=Nn(function(){return!!(process&&(process.versions||{}).node)},!1)),ns.v},Wo,Gs,Dn;function Ks(m){return Nn(function(){return Wo.v?Wo.v[m]:a},a)}function Tu(){return!!si()}function si(){var m=!Wo||zt&&zt.lzy&&!Wo.b;return m&&(Wo=_o(U)),(!Gs||m)&&(Gs=Ks("for")),(!Dn||m)&&(Dn=Ks("keyFor")),Wo.v}function Ia(m,b){var I=K[m];return(!Wo||zt.lzy&&!Wo.b)&&si(),Wo.v?Wo.v[I||m]:b?a:Fr(m)}function iu(m,b){return(!Wo||zt.lzy&&!Wo.b)&&si(),Wo.v?Wo.v(m):b?c:Ue(m)}function Lh(m){return(!Gs||zt.lzy&&!Wo.b)&&si(),(Gs.v||vt)(m)}function Cf(m){return!!m&&xt(m.next)}function Pp(m){return!fr(m)&&xt(m[Ia(3)])}var Tf;function xp(m,b,I){if(m&&(Cf(m)||(!Tf&&(Tf=Cn(function(){return Ia(3)})),m=m[Tf.v]?m[Tf.v]():null),Cf(m))){var j=void 0,$=void 0;try{for(var ie=0;!($=m.next())[V]&&b.call(I||m,$[W],ie,m)!==-1;)ie++}catch(ge){j={e:ge},m.throw&&($=null,m.throw(j))}finally{try{$&&!$[V]&&m.return&&m.return($)}finally{if(j)throw j.e}}}}var Df=S("apply");function Bl(m,b){return!at(b)&&m&&(Mt(b)?Df(m.push,m,b):Cf(b)||Pp(b)?xp(b,function(I){m.push(I)}):m.push(b)),m}function Xn(m,b,I){if(m)for(var j=m[ve]>>>0,$=0;$<j&&!($ in m&&b.call(I||m,m[$],$,m)===-1);$++);}var Ys=de(pe,be),Wl=de("map",be),uo=de(De,be),Mh=S("call");function Nh(m,b,I){return Ys(m,b,I)!==-1}var Js=Ye("includes",be,Nh),Du=de("reduce",be),Fh=ae.create,Ld=Fh||Ds;function Ds(m){if(!m)return{};var b=typeof m;if(b!==p&&b!==d)throw new TypeError("Prototype must be an Object or function: "+Pe(m));function I(){}return I[_]=m,new I}var $l;function ou(m,b){var I=ae.setPrototypeOf||function(j,$){!$l&&($l=Cn(function(){var ie;return ie={},ie[D]=[],ie instanceof Array})),$l.v?j[D]=$:Gr($,function(ie,ge){return j[ie]=ge})};return I(m,b)}var jm=function(m,b,I){Ef(b,m),b=ou(b,I);function j(){this.constructor=b,Ef(this,m)}return b[_]=I===c?Ld(I):(j[_]=I[_],new j),b},Md=function(m,b){try{b&&(m[ee]=b)}catch{}},Ef=function(m,b){try{rt(m,ee,{v:b,c:!0,e:!1})}catch{}};function Rf(m,b,I){var j=I||Error,$=j[_][ee],ie=Error.captureStackTrace;return jm(m,function(){var ge=this;try{Md(j,m);var Ie=Df(j,ge,uo(arguments))||ge;if(Ie!==ge){var Be=Jt(ge);Be!==Jt(Ie)&&ou(Ie,Be)}return ie&&ie(Ie,ge[A]),b&&b(Ie,arguments),Ie}finally{Md(j,$)}},j)}function Ic(){return(Date.now||bo)()}function bo(){return new Date().getTime()}function Op(m){return function(I){return tt(I)&&fn("strTrim called ["+Pe(I)+"]"),I&&I.replace&&(I=I.replace(m,u)),I}}var Pf=Op(/^\s+|(?=\s)\s+$/g),aa=Ye("trim",Me,Pf),bl,Eu,gy;function ca(m){if(!m||typeof m!==p)return!1;gy||(gy=va()?_l():!0);var b=!1;if(m!==gy){Eu||(bl=Function[_].toString,Eu=Mh(bl,ae));try{var I=Jt(m);b=!I,b||(Vr(I,A)&&(I=I[A]),b=I&&typeof I===d&&bl.call(I)===Eu)}catch{}}return b}var M_=function(m){return m.value&&Gl(m),!0},Ku=[Fd,Gl,Ip,jh];function Nd(m,b,I,j){var $;return Xn(m,function(ie){if(ie.k===b)return $=ie,-1}),$||($={k:b,v:b},m.push($),j($)),$.v}function $o(m,b,I,j){var $=I.handler,ie=I.path?j?I.path.concat(j):I.path:[],ge={handler:I.handler,src:I.src,path:ie},Ie=typeof b,Be=!1,et=!1;b&&Ie===p?Be=ca(b):et=b===c||zr(Ie);var Ve={type:Ie,isPrim:et,isPlain:Be,value:b,result:b,path:ie,origin:I.src,copy:function(wt,ot){return $o(m,wt,ot?ge:I,ot)},copyTo:function(wt,ot){return Vl(m,wt,ot,ge)}};return Ve.isPrim?$&&Mh($,I,Ve)?Ve.result:b:Nd(m,b,ie,function(wt){rt(Ve,"result",{g:function(){return wt.v},s:function(it){wt.v=it}});for(var ot=0,_t=$;!Mh(_t||(ot<Ku.length?Ku[ot++]:M_),I,Ve);)_t=c})}function Vl(m,b,I,j){if(!tt(I))for(var $ in I)b[$]=$o(m,I[$],j,$);return b}function qh(m,b,I){var j={handler:I,src:b,path:[]};return Vl([],m,b,j)}function Jg(m,b){var I={handler:b,src:m};return $o([],m,I)}function Fd(m){var b=m.value;if(Mt(b)){var I=m.result=[];return I.length=b.length,m.copyTo(I,b),!0}return!1}function jh(m){var b=m.value;return nn(b)?(m.result=new Date(b.getTime()),!0):!1}function Ip(m){return m.type===d}function Gl(m){var b=m.value;if(b&&m.isPlain){var I=m.result={};return m.copyTo(I,b),!0}return!1}function kp(m,b){return Xn(b,function(I){qh(m,I)}),m}function Yu(m,b,I,j,$,ie,ge){return kp(Jg(m)||{},uo(arguments))}var zh=Tr(ve),Ru;function xf(){return(!Ru||!Ru.b&&zt&&zt.lzy)&&(Ru=_o("performance")),Ru.v}function qd(){var m=xf();return m&&m.now?m.now():Ic()}var Of=Ye("endsWith",Me,jd);function jd(m,b,I){cr(m)||fn("'"+Pe(m)+"' is not a string");var j=cr(b)?b:qe(b),$=j[ve],ie=m[ve],ge=!at(I)&&I<ie?I:ie;return qn(m,ge-$,ge)===j}var Xs=de(pe,Me),ka="ref",xo="un"+ka,su="hasRef",oc="enabled";function Xg(m,b,I){var j,$=!0,ie=m?b(c):c,ge,Ie=function(){return $=!1,ie&&ie[xo]&&ie[xo](),ge},Be=function(){return $=!0,ie&&ie[ka]&&ie[ka](),ge},et=function(){return ie&&ie[su]?ie[su]():$},Ve=function(){return ie=b(ie),$||Ie(),ge},wt=function(){ie&&I(ie),ie=c},ot=function(_t){!_t&&ie&&wt(),_t&&!ie&&Ve()};return ge=(j={cancel:wt,refresh:Ve},j[su]=et,j[ka]=Be,j[xo]=Ie,j[oc]=!1,j),N(ge,oc,{get:function(){return!!ie},set:ot}),{h:ge,dn:function(){ie=c}}}function Ju(m,b,I,j){var $=Mt(I),ie=$?I.length:0,ge=(ie>0?I[0]:$?a:I)||setTimeout,Ie=(ie>1?I[1]:a)||clearTimeout,Be=j[0];j[0]=function(){et.dn(),Df(Be,m,uo(arguments))};var et=Xg(b,function(Ve){if(Ve){if(Ve.refresh)return Ve.refresh(),Ve;Df(Ie,m,[Ve])}return Df(ge,m,j)},function(Ve){Df(Ie,m,[Ve])});return et.h}function Qs(m,b){return Ju(this,!0,a,uo(arguments))}function Kl(m,b){return Ju(this,!1,a,uo(arguments))}(yl()||{}).Symbol,(yl()||{}).Reflect;var Ap="hasOwnProperty",Pu=function(m,b){return Pu=o.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,j){I.__proto__=j}||function(I,j){for(var $ in j)j[Ap]($)&&(I[$]=j[$])},Pu(m,b)};function wl(m,b){typeof b!==e&&b!==null&&fn("Class extends value "+String(b)+" is not a constructor or null"),Pu(m,b);function I(){this.constructor=m}m[i]=b===null?Ld(b):(I[i]=b[i],new I)}function Uh(m,b){for(var I=0,j=b.length,$=m.length;I<j;I++,$++)m[$]=b[I];return m}var kc,Xu="constructor",Es="prototype",au="function",Qu="_dynInstFuncs",Zu="_isDynProxy",ua="_dynClass",Qg="_dynCls$",sc="_dynInstChk",Sl=sc,Vo="_dfOpts",Go="_unknown_",If="__proto__",el="_dyn"+If,kf="__dynProto$Gbl",zo="_dynInstProto",Yl="useBaseInst",Af="setInstFuncs",ya=Object,xu=ya.getPrototypeOf,la=ya.getOwnPropertyNames,Ns=yl(),Jl=Ns[kf]||(Ns[kf]={o:(kc={},kc[Af]=!0,kc[Yl]=!0,kc),n:1e3});function vy(m){return m&&(m===ya[Es]||m===Array[Es])}function vs(m){return vy(m)||m===Function[Es]}function cu(m){var b;if(m){if(xu)return xu(m);var I=m[If]||m[Es]||(m[Xu]?m[Xu][Es]:null);b=m[el]||I,Vr(m,el)||(delete m[zo],b=m[el]=m[zo]||m[el],m[zo]=I)}return b}function Cl(m,b){var I=[];if(la)I=la(m);else for(var j in m)typeof j=="string"&&Vr(m,j)&&I.push(j);if(I&&I.length>0)for(var $=0;$<I.length;$++)b(I[$])}function Hh(m,b,I){return b!==Xu&&typeof m[b]===au&&(I||Vr(m,b))}function zd(m){fn("DynamicProto: "+m)}function Lp(m){var b={};return Cl(m,function(I){!b[I]&&Hh(m,I,!1)&&(b[I]=m[I])}),b}function ac(m,b){for(var I=m.length-1;I>=0;I--)if(m[I]===b)return!0;return!1}function zm(m,b,I,j){function $(Be,et,Ve){var wt=et[Ve];if(wt[Zu]&&j){var ot=Be[Qu]||{};ot[Sl]!==!1&&(wt=(ot[et[ua]]||{})[Ve]||wt)}return function(){return wt.apply(Be,arguments)}}var ie={};Cl(I,function(Be){ie[Be]=$(b,I,Be)});for(var ge=cu(m),Ie=[];ge&&!vs(ge)&&!ac(Ie,ge);)Cl(ge,function(Be){!ie[Be]&&Hh(ge,Be,!xu)&&(ie[Be]=$(b,ge,Be))}),Ie.push(ge),ge=cu(ge);return ie}function Hi(m,b,I,j){var $=null;if(m&&Vr(I,ua)){var ie=m[Qu]||{};if($=(ie[I[ua]]||{})[b],$||zd("Missing ["+b+"] "+au),!$[sc]&&ie[Sl]!==!1){for(var ge=!Vr(m,b),Ie=cu(m),Be=[];ge&&Ie&&!vs(Ie)&&!ac(Be,Ie);){var et=Ie[b];if(et){ge=et===j;break}Be.push(Ie),Ie=cu(Ie)}try{ge&&(m[b]=$),$[sc]=1}catch{ie[Sl]=!1}}}return $}function is(m,b,I){var j=b[m];return j===I&&(j=cu(b)[m]),typeof j!==au&&zd("["+m+"] is not a "+au),j}function tl(m,b,I,j,$){function ie(Be,et){var Ve=function(){var wt=Hi(this,et,Be,Ve)||is(et,Be,Ve);return wt.apply(this,arguments)};return Ve[Zu]=1,Ve}if(!vy(m)){var ge=I[Qu]=I[Qu]||{},Ie=ge[b]=ge[b]||{};ge[Sl]!==!1&&(ge[Sl]=!!$),Cl(I,function(Be){Hh(I,Be,!1)&&I[Be]!==j[Be]&&(Ie[Be]=I[Be],delete I[Be],(!Vr(m,Be)||m[Be]&&!m[Be][Zu])&&(m[Be]=ie(m,Be)))})}}function Ac(m,b){if(xu){for(var I=[],j=cu(b);j&&!vs(j)&&!ac(I,j);){if(j===m)return!0;I.push(j),j=cu(j)}return!1}return!0}function Lc(m,b){return Vr(m,Es)?m.name||b||Go:((m||{})[Xu]||{}).name||b||Go}function da(m,b,I,j){Vr(m,Es)||zd("theClass is an invalid class definition.");var $=m[Es];Ac($,b)||zd("["+Lc(m)+"] not in hierarchy of ["+Lc(b)+"]");var ie=null;Vr($,ua)?ie=$[ua]:(ie=Qg+Lc(m,"_")+"$"+Jl.n,Jl.n++,$[ua]=ie);var ge=da[Vo],Ie=!!ge[Yl];Ie&&j&&j[Yl]!==void 0&&(Ie=!!j[Yl]);var Be=Lp(b),et=zm($,b,Be,Ie);I(b,et);var Ve=!!xu&&!!ge[Af];Ve&&j&&(Ve=!!j[Af]),tl($,ie,b,Be,Ve!==!1)}da[Vo]=Jl.o;var Tl=100,Ki=$t,Lf=Ki({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5}),wi="toLowerCase",Aa="blkVal",Bn="length",Ud="rdOnly",Xl="notify",Mc="warnToConsole",Ko="throwInternal",cc="setDf",fa="watch",lo="logger",Ou="apply",Fn="push",uu="splice",Oo="hdlr",ai="cancel",Ql="initialize",La="identifier",_a="isInitialized",ha="getPlugin",Zl="pollInternalLogs",uc="name",Hd="time",Rs="processNext",lu="getProcessTelContext",Dl="getNotifyMgr",ed="addNotificationListener",Bd="removeNotificationListener",g="enabled",v="stopPollingInternalLogs",R="unload",O="onComplete",F="version",J="loggingLevelConsole",Z="createNew",he="teardown",ke="messageId",Qe="message",ht="isAsync",Ut="diagLog",Sr="_doTeardown",an="update",jr="getNext",Wn="setNextPlugin",Zs="userAgent",lc="split",Iu="nodeType",Mp="replace",Um="logInternalMessage",Ma="type",Np="handler",Bh="isChildEvt",Wd="getCtx",ku="setCtx",Zg="complete",N_="traceId",Fp="spanId",qp="traceFlags",F_;function q_(m,b){F_||(F_=Rf("AggregationError",function(j,$){$[Bn]>1&&(j.errors=$[1])}));var I=m||"One or more errors occurred.";throw Xn(b,function(j,$){I+=`
`.concat($," > ").concat(Pe(j))}),new F_(I,b||[])}function j_(m,b){return vw(m,function(I){b&&b({value:I,rejected:!1})},function(I){b&&b({rejected:!0,reason:I})})}function vw(m,b,I,j){var $=m;return Hn(m)?(b||I)&&($=m.then(b,I)):b&&b(m),j&&($=Hm($,j)),$}function Hm(m,b){var I=m;return b&&(Hn(m)?m.finally?I=m.finally(b):I=m.then(function(j){return b(),j},function(j){throw b(),j}):b()),I}var yy=["pending","resolving","resolved","rejected"],z_="dispatchEvent",U_;function Bm(m,b,I,j){var $=ic();!U_&&(U_=Nn(function(){var Be;return $&&$.createEvent&&(Be=$.createEvent("Event")),!!Be&&Be.initEvent},null));var ie=U_.v?$.createEvent("Event"):j?new Event(b):{};if(I&&I(ie),U_.v&&ie.initEvent(b,!1,!0),ie&&m[z_])m[z_](ie);else{var ge=m["on"+b];if(ge)ge(ie);else{var Ie=Fi("console");Ie&&(Ie.error||Ie.log)(b,Pe(ie))}}}var jp="Promise",yw="unhandledRejection",H_=yw.toLowerCase(),zp=10,_y;function $d(m){return xt(m)?m.toString():Pe(m)}function Zi(m,b,I){var j=uo(arguments,3),$=0,ie=!1,ge,Ie=[],Be=!1,et=null,Ve;!_y&&(_y=_o(jp+"RejectionEvent"));var wt=function(Ir,Mn){try{Be=!0,et&&et.cancel(),et=null;var Ii=m(function(ko,Ge){Ie.push(function(){try{var At=$===2?Ir:Mn,Zt=at(At)?ge:xt(At)?At(ge):At;Hn(Zt)?Zt.then(ko,Ge):At?ko(Zt):$===3?Ge(Zt):ko(Zt)}catch(lr){Ge(lr)}}),ie&&Qt()},j);return Ii}finally{}},ot=function(Ir){return wt(void 0,Ir)},_t=function(Ir){var Mn=Ir,Ii=Ir;return xt(Ir)&&(Mn=function(ko){return Ir&&Ir(),ko},Ii=function(ko){throw Ir&&Ir(),ko}),wt(Mn,Ii)},it=function(){return yy[$]},Qt=function(){if(Ie.length>0){var Ir=Ie.slice();Ie=[],Be=!0,b(Ir),et&&et.cancel(),et=null}},Vt=function(Ir,Mn){return function(Ii){if($===Mn){if(Ir===2&&Hn(Ii)){$=1,Ii.then(Vt(2,1),Vt(3,1));return}$=Ir,ie=!0,ge=Ii,Qt(),!Be&&Ir===3&&!et&&(et=Qs(_r,zp))}}},_r=function(){if(!Be)if(Ah())process.emit(yw,ge,Ve);else{var Ir=_l()||yl();Bm(Ir,H_,function(Mn){return rt(Mn,"promise",{g:function(){return Ve}}),Mn.reason=ge,Mn},!!_y.v)}};Ve={then:wt,catch:ot,finally:_t},N(Ve,"state",{get:it}),Tu()&&(Ve[Ia(11)]="IPromise");var Pr=function(){return"IPromise "+it()+(ie?" - "+$d(ge):"")};return Ve.toString=Pr,function(){xt(I)||fn(jp+": executor is not a function - "+$d(I));var Mn=Vt(3,0);try{I.call(Ve,Vt(2,0),Mn)}catch(Ii){Mn(Ii)}}(),Ve}function Wm(m){return function(b){var I=uo(arguments,1);return m(function(j,$){try{var ie=[],ge=1;Xn(b,function(Ie,Be){Ie&&(ge++,vw(Ie,function(et){ie[Be]=et,--ge===0&&j(ie)},$))}),ge--,ge===0&&j(ie)}catch(Ie){$(Ie)}},I)}}var fo=function(m){Xn(m,function(b){try{b()}catch{}})};function B_(m){var b=ln(m)?m:0;return function(I){Qs(function(){fo(I)},b)}}function by(m,b){return Zi(by,B_(b),m,b)}var Vd;function Up(m,b){!Vd&&(Vd=_o(jp));var I=Vd.v;if(!I)return by(m);xt(m)||fn(jp+": executor is not a function - "+Pe(m));var j=0;function $(){return yy[j]}var ie=new I(function(ge,Ie){function Be(Ve){j=2,ge(Ve)}function et(Ve){j=3,Ie(Ve)}m(Be,et)});return N(ie,"state",{get:$}),ie}var du;function Gd(m,b){return!du&&(du=Cn(function(){return Up})),du.v.call(this,m,b)}var Kd=Wm(Gd),Fs=void 0,fi="",Au="channels",os="core",Yd="createPerfMgr",$m="disabled",Hp="extensionConfig",Bp="extensions",Mf="processTelemetry",W_="priority",Vm="eventsSent",Gm="eventsDiscarded",Na="eventsSendRequest",Jd="perfEvent",Nc="getPerfMgr",Lu="domain",Km="path",El="Not dynamic - ",Ym=/-([a-z])/g,ev=/([^\w\d_$])/g,Wp=/^(\d+[\w\d_$])/;function En(m){return!tt(m)}function Xd(m){var b=m;return b&&cr(b)&&(b=b[Mp](Ym,function(I,j){return j.toUpperCase()}),b=b[Mp](ev,"_"),b=b[Mp](Wp,function(I,j){return"_"+j})),b}function qs(m,b){return m&&b?Xs(m,b)!==-1:!1}function Nf(m){return m&&m.toISOString()||""}function wy(m){return Or(m)?m[uc]:fi}function dc(m,b,I,j,$){var ie=I;return m&&(ie=m[b],ie!==I&&(!$||$(ie))&&(!j||j(I))&&(ie=I,m[b]=ie)),ie}function Qd(m,b,I){var j;return m?(j=m[b],!j&&tt(j)&&(j=at(I)?{}:I,m[b]=j)):j=at(I)?{}:I,j}function $p(m,b){var I=null,j=null;return xt(m)?I=m:j=m,function(){var $=arguments;if(I&&(j=I()),j)return j[b][Ou](j,$)}}function Sy(m,b,I){if(m&&b&&hr(m)&&hr(b)){var j=function(ie){if(cr(ie)){var ge=b[ie];xt(ge)?(!I||I(ie,!0,b,m))&&(m[ie]=$p(b,ie)):(!I||I(ie,!1,b,m))&&(An(m,ie)&&delete m[ie],rt(m,ie,{g:function(){return b[ie]},s:function(Ie){b[ie]=Ie}}))}};for(var $ in b)j($)}return m}function Rl(m,b,I,j,$){m&&b&&I&&($!==!1||at(m[b]))&&(m[b]=$p(I,j))}function tv(m,b,I,j){return m&&b&&hr(m)&&Mt(I)&&Xn(I,function($){cr($)&&Rl(m,$,b,$,j)}),m}function Jm(m){return m&&we&&(m=o(we({},m))),m}var Cy="documentMode",rv="location",Zd="console",Ff="JSON",Xm="crypto",Vp="msCrypto",nv="ReactNative",fu="msie",fc="trident/",qf="XMLHttpRequest",rl=null,Mu=null,Wh=!1,ef=null,iv=null;function Gp(m,b){var I=!1;if(m){try{if(I=b in m,!I){var j=m[i];j&&(I=b in j)}}catch{}if(!I)try{var $=new m;I=!at($[b])}catch{}}return I}function Kp(m){Wh=m}function $h(m){if(m&&Wh){var b=Fi("__mockLocation");if(b)return b}return typeof location===t&&location?location:Fi(rv)}function tf(){return typeof console!==n?console:Fi(Zd)}function Qm(){return!!(typeof JSON===t&&JSON||Fi(Ff)!==null)}function Yp(){return Qm()?JSON||Fi(Ff):null}function Zm(){return Fi(Xm)}function jf(){return Fi(Vp)}function Vh(){var m=Oc();return m&&m.product?m.product===nv:!1}function eg(){var m=Oc();if(m&&(m[Zs]!==Mu||rl===null)){Mu=m[Zs];var b=(Mu||fi)[wi]();rl=qs(b,fu)||qs(b,fc)}return rl}function _w(m){if(m===void 0&&(m=null),!m){var b=Oc()||{};m=b?(b.userAgent||fi)[wi]():fi}var I=(m||fi)[wi]();if(qs(I,fu)){var j=ic()||{};return Math.max(parseInt(I[lc](fu)[1]),j[Cy]||0)}else if(qs(I,fc)){var $=parseInt(I[lc](fc)[1]);if($)return $+4}return null}function hc(m){return(iv===null||m===!1)&&(iv=kh()&&!!Oc().sendBeacon),iv}function Ty(m){var b=!1;try{b=!!Fi("fetch");var I=Fi("Request");b&&m&&I&&(b=Gp(I,"keepalive"))}catch{}return b}function rf(){return ef===null&&(ef=typeof XDomainRequest!==n,ef&&ov()&&(ef=ef&&!Gp(Fi(qf),"withCredentials"))),ef}function ov(){var m=!1;try{var b=Fi(qf);m=!!b}catch{}return m}function nf(m,b){if(m)for(var I=0;I<m[Bn];I++){var j=m[I];if(j[uc]&&j[uc]===b)return j}return{}}function zf(m){var b=ic();return b&&m?nf(b.querySelectorAll("meta"),m).content:null}function tg(m){var b,I=xf();if(I){var j=I.getEntriesByType("navigation")||[];b=nf((j[Bn]>0?j[0]:{}).serverTiming,m).description}return b}var sv=4294967296,Fc=4294967295,Pl=123456789,av=987654321,Dy=!1,of=Pl,Jp=av;function Gh(m){m<0&&(m>>>=0),of=Pl+m&Fc,Jp=av-m&Fc,Dy=!0}function bw(){try{var m=Ic()&2147483647;Gh((Math.random()*sv^m)+m)}catch{}}function qC(m){return m>0?Math.floor(sf()/Fc*(m+1))>>>0:0}function sf(m){var b=0,I=Zm()||jf();return I&&I.getRandomValues&&(b=I.getRandomValues(new Uint32Array(1))[0]&Fc),b===0&&eg()&&(Dy||bw(),b=Ey()&Fc),b===0&&(b=Math.floor(sv*Math.random()|0)),m||(b>>>=0),b}function Ey(m){Jp=36969*(Jp&65535)+(Jp>>16)&Fc,of=18e3*(of&65535)+(of>>16)&Fc;var b=(Jp<<16)+(of&65535)>>>0&Fc|0;return m||(b>>>=0),b}function Ry(m){m===void 0&&(m=22);for(var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",I=sf()>>>0,j=0,$=fi;$[Bn]<m;)j++,$+=b.charAt(I&63),I>>>=6,j===5&&(I=(sf()<<2&4294967295|I&3)>>>0,j=0);return $}var Py="3.0.5",cv="."+Ry(6),JD=0;function uv(m){return m[Iu]===1||m[Iu]===9||!+m[Iu]}function XD(m,b){var I=b[m.id];if(!I){I={};try{uv(b)&&rt(b,m.id,{e:!1,v:I})}catch{}}return I}function td(m,b){return b===void 0&&(b=!1),Xd(m+JD+++(b?"."+Py:fi)+cv)}function Kh(m){var b={id:td("_aiData-"+(m||fi)+"."+Py),accept:function(I){return uv(I)},get:function(I,j,$,ie){var ge=I[b.id];return ge?ge[Xd(j)]:(ie&&(ge=XD(b,I),ge[Xd(j)]=$),$)},kill:function(I,j){if(I&&I[j])try{delete I[j]}catch{}}};return b}function rg(m){return m&&hr(m)&&(m.isVal||m.fb||An(m,"v")||An(m,"mrg")||An(m,"ref")||m.set)}function $_(m,b,I){var j,$=I.dfVal||Lr;if(b&&I.fb){var ie=I.fb;Mt(ie)||(ie=[ie]);for(var ge=0;ge<ie[Bn];ge++){var Ie=ie[ge],Be=b[Ie];if($(Be)?j=Be:m&&(Be=m.cfg[Ie],$(Be)&&(j=Be),m.set(m.cfg,qe(Ie),Be)),$(j))break}}return!$(j)&&$(I.v)&&(j=I.v),j}function ng(m,b,I){var j=I;if(I&&rg(I)&&(j=$_(m,b,I)),j){rg(j)&&(j=ng(m,b,j));var $;Mt(j)?($=[],$[Bn]=j[Bn]):ca(j)&&($={}),$&&(Gr(j,function(ie,ge){ge&&rg(ge)&&(ge=ng(m,b,ge)),$[ie]=ge}),j=$)}return j}function rd(m,b,I,j){var $,ie,ge,Ie=j,Be,et,Ve,wt;rg(Ie)?($=Ie.isVal,ie=Ie.set,Ve=Ie[Ud],wt=Ie[Aa],Be=Ie.mrg,et=Ie.ref,!et&&at(et)&&(et=!!Be),ge=$_(m,b,Ie)):ge=j,wt&&m[Aa](b,I);var ot,_t=!0,it=b[I];(it||!tt(it))&&(ot=it,_t=!1,$&&ot!==ge&&!$(ot)&&(ot=ge,_t=!0),ie&&(ot=ie(ot,ge,b),_t=ot===ge)),_t?ge?ot=ng(m,b,ge):ot=ge:(ca(ot)||Mt(ge))&&Be&&ge&&(ca(ge)||Mt(ge))&&Gr(ge,function(Qt,Vt){rd(m,ot,Qt,Vt)}),m.set(b,I,ot),et&&m.ref(b,I),Ve&&m[Ud](b,I)}var xl=Lh("[[ai_dynCfg_1]]"),Uf=Lh("[[ai_blkDynCfg_1]]"),Hf=Lh("[[ai_frcDynCfg_1]]");function xy(m){if(m){var b;if(Mt(m)?(b=[],b[Bn]=m[Bn]):ca(m)&&(b={}),b)return Gr(m,function(I,j){b[I]=xy(j)}),b}return m}function Xp(m){if(m){var b=m[xl]||m;if(b.cfg&&(b.cfg===m||b.cfg[xl]===b))return b}return null}function Fa(m){if(m&&(ca(m)||Mt(m)))try{m[Uf]=!0}catch{}return m}function Yh(m){if(m)try{m[Hf]=!0}catch{}return m}function Jh(m,b,I){var j=!1;return I&&!m[b.blkVal]&&(j=I[Hf],!j&&!I[Uf]&&(j=ca(I)||Mt(I))),j}function V_(m){fn("InvalidAccess:"+m)}var jC=["push","pop","shift","unshift","splice"],Xh=function(m,b,I,j){m&&m[Ko](3,108,"".concat(I," [").concat(b,"] failed - ")+Pe(j))};function zC(m,b,I){Mt(b)&&Xn(jC,function(j){var $=b[j];b[j]=function(){for(var ie=[],ge=0;ge<arguments.length;ge++)ie[ge]=arguments[ge];var Ie=$[Ou](this,ie);return Qp(m,b,I,"Patching"),Ie}})}function ig(m,b){var I=ii(m,b);return I&&I.get}function Qh(m,b,I,j){var $={n:I,h:[],trk:function(et){et&&et.fn&&(Ys($.h,et)===-1&&$.h[Fn](et),m.trk(et,$))},clr:function(et){var Ve=Ys($.h,et);Ve!==-1&&$.h[uu](Ve,1)}},ie=!0,ge=!1;function Ie(){ie&&(ge=ge||Jh(Ie,m,j),j&&!j[xl]&&ge&&(j=Qp(m,j,I,"Converting")),ie=!1);var et=m.act;return et&&$.trk(et),j}Ie[m.prop]={chng:function(){m.add($)}};function Be(et){if(j!==et){Ie[m.ro]&&!m.upd&&V_("["+I+"] is read-only:"+Pe(b)),ie&&(ge=ge||Jh(Ie,m,j),ie=!1);var Ve=ge&&Ie[m.rf];if(ge)if(Ve){Gr(j,function(ot){j[ot]=et?et[ot]:Fs});try{Gr(et,function(ot,_t){nd(m,j,ot,_t)}),et=j}catch(ot){Xh((m.hdlr||{})[lo],I,"Assigning",ot),ge=!1}}else j&&j[xl]&&Gr(j,function(ot){var _t=ig(j,ot);if(_t){var it=_t[m.prop];it&&it.chng()}});if(et!==j){var wt=et&&Jh(Ie,m,et);!Ve&&wt&&(et=Qp(m,et,I,"Converting")),j=et,ge=wt}m.add($)}}rt(b,$.n,{g:Ie,s:Be})}function nd(m,b,I,j){if(b){var $=ig(b,I),ie=$&&!!$[m.prop];ie?b[I]=j:Qh(m,b,I,j)}return b}function lv(m,b,I,j){if(b){var $=ig(b,I),ie=$&&!!$[m.prop],ge=j&&j[0],Ie=j&&j[1],Be=j&&j[2];if(!ie){if(Be)try{Fa(b)}catch(et){Xh((m.hdlr||{})[lo],I,"Blocking",et)}try{nd(m,b,I,b[I]),$=ig(b,I)}catch(et){Xh((m.hdlr||{})[lo],I,"State",et)}}ge&&($[m.rf]=ge),Ie&&($[m.ro]=Ie),Be&&($[m.blkVal]=!0)}return b}function Qp(m,b,I,j){try{Gr(b,function($,ie){nd(m,b,$,ie)}),b[xl]||(N(b,xl,{get:function(){return m[Oo]}}),zC(m,b,I))}catch($){Xh((m.hdlr||{})[lo],I,j,$)}return b}var og="[[ai_",dv="]]";function ww(m){var b,I=iu(og+"get"+m.uid+dv),j=iu(og+"ro"+m.uid+dv),$=iu(og+"rf"+m.uid+dv),ie=iu(og+"blkVal"+m.uid+dv),ge=iu(og+"dtl"+m.uid+dv),Ie=null,Be=null,et;function Ve(it,Qt){var Vt=et.act;try{et.act=it,it&&it[ge]&&(Xn(it[ge],function(Pr){Pr.clr(it)}),it[ge]=[]),Qt({cfg:m.cfg,set:m.set.bind(m),setDf:m[cc].bind(m),ref:m.ref.bind(m),rdOnly:m[Ud].bind(m)})}catch(Pr){var _r=m[lo];throw _r&&_r[Ko](1,107,Pe(Pr)),Pr}finally{et.act=Vt||null}}function wt(){if(Ie){var it=Ie;Ie=null,Be&&Be[ai](),Be=null;var Qt=[];if(Xn(it,function(Vt){if(Vt&&(Vt[ge]&&(Xn(Vt[ge],function(_r){_r.clr(Vt)}),Vt[ge]=null),Vt.fn))try{Ve(Vt,Vt.fn)}catch(_r){Qt[Fn](_r)}}),Ie)try{wt()}catch(Vt){Qt[Fn](Vt)}Qt[Bn]>0&&q_("Watcher error(s): ",Qt)}}function ot(it){if(it&&it.h[Bn]>0){Ie||(Ie=[]),Be||(Be=Qs(function(){Be=null,wt()},0));for(var Qt=0;Qt<it.h[Bn];Qt++){var Vt=it.h[Qt];Vt&&Ys(Ie,Vt)===-1&&Ie[Fn](Vt)}}}function _t(it,Qt){if(it){var Vt=it[ge]=it[ge]||[];Ys(Vt,Qt)===-1&&Vt[Fn](Qt)}}return et=(b={prop:I,ro:j,rf:$},b[Aa]=ie,b[Oo]=m,b.add=ot,b[Xl]=wt,b.use=Ve,b.trk=_t,b),et}function QD(m,b){var I={fn:b,rm:function(){I.fn=null,m=null,b=null}};return m.use(I,b),I}function sg(m,b,I){var j,$=Xp(b);if($)return $;var ie=td("dyncfg",!0),ge=b&&I!==!1?b:xy(b),Ie;function Be(){Ie[Xl]()}function et(_r,Pr,Ir){try{_r=nd(Ie,_r,Pr,Ir)}catch(Mn){Xh(m,Pr,"Setting value",Mn)}return _r[Pr]}function Ve(_r){return QD(Ie,_r)}function wt(_r,Pr){Ie.use(null,function(Ir){var Mn=Ie.upd;try{at(Pr)||(Ie.upd=Pr),_r(Ir)}finally{Ie.upd=Mn}})}function ot(_r,Pr){var Ir;return lv(Ie,_r,Pr,(Ir={},Ir[0]=!0,Ir))[Pr]}function _t(_r,Pr){var Ir;return lv(Ie,_r,Pr,(Ir={},Ir[1]=!0,Ir))[Pr]}function it(_r,Pr){var Ir;return lv(Ie,_r,Pr,(Ir={},Ir[2]=!0,Ir))[Pr]}function Qt(_r,Pr){return Pr&&Gr(Pr,function(Ir,Mn){rd(Vt,_r,Ir,Mn)}),_r}var Vt=(j={uid:null,cfg:ge},j[lo]=m,j[Xl]=Be,j.set=et,j[cc]=Qt,j[fa]=Ve,j.ref=ot,j[Ud]=_t,j[Aa]=it,j._block=wt,j);return rt(Vt,"uid",{c:!1,e:!1,w:!1,v:ie}),Ie=ww(Vt),Qp(Ie,ge,"config","Creating"),Vt}function UC(m,b){m?(m[Mc](b),m[Ko](2,108,b)):V_(b)}function pc(m,b,I,j){var $=sg(I,m||{},j);return b&&$[cc]($.cfg,b),$}function ag(m,b,I){var j=m[xl]||m;return j.cfg&&(j.cfg===m||j.cfg[xl]===j)?j[fa](b):(UC(I,El+Pe(m)),pc(m,null,I)[fa](b))}function cg(m,b){if(m&&m[R])return m[R](b)}function HC(m,b,I){var j;return I||(j=Gd(function($){I=$})),m&&zh(m)>0?j_(cg(m[0],b),function(){HC(uo(m,1),b,I)}):I(),j}var ZD=500;function id(m){return{mrg:!0,v:m}}var mc=[Vm,Gm,Na,Jd],od=null,ug;function fv(m,b){return function(){var I=arguments,j=bn(b);if(j){var $=j.listener;$&&$[m]&&$[m][Ou]($,I)}}}function G_(){var m=Fi("Microsoft");return m&&(od=m.ApplicationInsights),od}function bn(m){var b=od;return!b&&m.disableDbgExt!==!0&&(b=od||G_()),b?b.ChromeDbgExt:null}function Oy(m){if(!ug){ug={};for(var b=0;b<mc[Bn];b++)ug[mc[b]]=fv(mc[b],m)}return ug}var Zp,Bf="warnToConsole",lg="AI (Internal): ",qa="AI: ",K_="AITR_",hv={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},Y_=(Zp={},Zp[0]=null,Zp[1]="errorToConsole",Zp[2]=Bf,Zp[3]="debugToConsole",Zp);function sd(m){return m?'"'+m[Mp](/\"/g,fi)+'"':fi}function dg(m,b){var I=tf();if(I){var j="log";I[m]&&(j=m),xt(I[j])&&I[j](b)}}var Zh=function(){function m(b,I,j,$){j===void 0&&(j=!1);var ie=this;ie[ke]=b,ie[Qe]=(j?qa:lg)+b;var ge=fi;Qm()&&(ge=Yp().stringify($));var Ie=(I?" message:"+sd(I):fi)+($?" props:"+sd(ge):fi);ie[Qe]+=Ie}return m.dataType="MessageData",m}();function pv(m,b){return(m||{})[lo]||new fg(b)}var fg=function(){function m(b){this.identifier="DiagnosticLogger",this.queue=[];var I=0,j={},$,ie,ge,Ie,Be;da(m,this,function(et){Be=wt(b||{}),et.consoleLoggingLevel=function(){return $},et[Ko]=function(it,Qt,Vt,_r,Pr){Pr===void 0&&(Pr=!1);var Ir=new Zh(Qt,Vt,Pr,_r);if(Ie)throw Pe(Ir);var Mn=Y_[it]||Bf;if(at(Ir[Qe]))_t("throw"+(it===1?"Critical":"Warning"),Ir);else{if(Pr){var Ii=+Ir[ke];!j[Ii]&&$>=it&&(et[Mn](Ir[Qe]),j[Ii]=!0)}else $>=it&&et[Mn](Ir[Qe]);Ve(it,Ir)}},et.debugToConsole=function(it){dg("debug",it),_t("warning",it)},et[Mc]=function(it){dg("warn",it),_t("warning",it)},et.errorToConsole=function(it){dg("error",it),_t("error",it)},et.resetInternalMessageCount=function(){I=0,j={}},et[Um]=Ve,et[R]=function(it){Be&&Be.rm(),Be=null};function Ve(it,Qt){if(!ot()){var Vt=!0,_r=K_+Qt[ke];if(j[_r]?Vt=!1:j[_r]=!0,Vt&&(it<=ie&&(et.queue[Fn](Qt),I++,_t(it===1?"error":"warn",Qt)),I===ge)){var Pr="Internal events throttle limit per PageView reached for this app.",Ir=new Zh(23,Pr,!1);et.queue[Fn](Ir),it===1?et.errorToConsole(Pr):et[Mc](Pr)}}}function wt(it){return ag(pc(it,hv,et).cfg,function(Qt){var Vt=Qt.cfg;$=Vt[J],ie=Vt.loggingLevelTelemetry,ge=Vt.maxMessageLimit,Ie=Vt.enableDebug})}function ot(){return I>=ge}function _t(it,Qt){var Vt=bn(b||{});Vt&&Vt[Ut]&&Vt[Ut](it,Qt)}})}return m.__ieDyn=1,m}();function Nu(m){return m||new fg}function af(m,b,I,j,$,ie){ie===void 0&&(ie=!1),Nu(m)[Ko](b,I,j,$,ie)}function Sw(m,b){Nu(m)[Mc](b)}function ad(m,b,I){Nu(m)[Um](b,I)}var Iy,cd,Cw="toGMTString",ky="toUTCString",ud="cookie",Tw="expires",Dw="isCookieUseDisabled",J_="disableCookiesUsage",Wf="_ckMgr",hg=null,Ew=null,$f=null,gc,Yo={},Ol={},mv=(Iy={cookieCfg:id((cd={},cd[Lu]={fb:"cookieDomain",dfVal:En},cd.path={fb:"cookiePath",dfVal:En},cd.enabled=Fs,cd.ignoreCookies=Fs,cd.blockedCookies=Fs,cd)),cookieDomain:Fs,cookiePath:Fs},Iy[J_]=Fs,Iy);function ld(){!gc&&(gc=Cn(function(){return ic()}))}function Vf(m,b){var I=em[Wf]||Ol[Wf];return I||(I=em[Wf]=em(m,b),Ol[Wf]=I),I}function Fu(m){return m?m.isEnabled():!0}function gv(m,b){return b&&m&&Mt(m.ignoreCookies)?Ys(m.ignoreCookies,b)!==-1:!1}function Ay(m,b){return b&&m&&Mt(m.blockedCookies)&&Ys(m.blockedCookies,b)!==-1?!0:gv(m,b)}function Rw(m,b){var I=b[g];if(tt(I)){var j=void 0;at(m[Dw])||(j=!m[Dw]),at(m[J_])||(j=!m[J_]),I=j}return I}function X_(m,b){var I;if(m)I=m.getCookieMgr();else if(b){var j=b.cookieCfg;j&&j[Wf]?I=j[Wf]:I=em(b)}return I||(I=Vf(b,(m||{})[lo])),I}function em(m,b){var I,j,$,ie,ge,Ie,Be,et,Ve;m=pc(m||Ol,null,b).cfg,ge=ag(m,function(ot){ot[cc](ot.cfg,mv),j=ot.ref(ot.cfg,"cookieCfg"),$=j[Km]||"/",ie=j[Lu],Ie=Rw(m,j)!==!1,Be=j.getCookie||WC,et=j.setCookie||E,Ve=j.delCookie||E},b);var wt=(I={isEnabled:function(){var ot=Rw(m,j)!==!1&&Ie&&vv(b),_t=Ol[Wf];return ot&&_t&&wt!==_t&&(ot=Fu(_t)),ot},setEnabled:function(ot){Ie=ot!==!1,j[g]=ot},set:function(ot,_t,it,Qt,Vt){var _r=!1;if(Fu(wt)&&!Ay(j,ot)){var Pr={},Ir=aa(_t||fi),Mn=Xs(Ir,";");if(Mn!==-1&&(Ir=aa(Sn(_t,Mn)),Pr=BC(qn(_t,Mn+1))),dc(Pr,Lu,Qt||ie,dn,at),!tt(it)){var Ii=eg();if(at(Pr[Tw])){var ko=Ic(),Ge=ko+it*1e3;if(Ge>0){var At=new Date;At.setTime(Ge),dc(Pr,Tw,Pw(At,Ii?Cw:ky)||Pw(At,Ii?Cw:ky)||fi,dn)}}Ii||dc(Pr,"max-age",fi+it,null,at)}var Zt=$h();Zt&&Zt.protocol==="https:"&&(dc(Pr,"secure",null,null,at),Ew===null&&(Ew=!k((Oc()||{})[Zs])),Ew&&dc(Pr,"SameSite","None",null,at)),dc(Pr,Km,Vt||$,null,at),et(ot,xw(Ir,Pr)),_r=!0}return _r},get:function(ot){var _t=fi;return Fu(wt)&&!gv(j,ot)&&(_t=Be(ot)),_t},del:function(ot,_t){var it=!1;return Fu(wt)&&(it=wt.purge(ot,_t)),it},purge:function(ot,_t){var it,Qt=!1;if(vv(b)){var Vt=(it={},it[Km]=_t||"/",it[Tw]="Thu, 01 Jan 1970 00:00:01 GMT",it);eg()||(Vt["max-age"]="0"),Ve(ot,xw(fi,Vt)),Qt=!0}return Qt}},I[R]=function(ot){ge&&ge.rm(),ge=null},I);return wt[Wf]=wt,wt}function vv(m){if(hg===null){hg=!1,!gc&&ld();try{var b=gc.v||{};hg=b[ud]!==void 0}catch(I){af(m,2,68,"Cannot access document.cookie - "+wy(I),{exception:Pe(I)})}}return hg}function BC(m){var b={};if(m&&m[Bn]){var I=aa(m)[lc](";");Xn(I,function(j){if(j=aa(j||fi),j){var $=Xs(j,"=");$===-1?b[j]=null:b[aa(Sn(j,$))]=aa(qn(j,$+1))}})}return b}function Pw(m,b){return xt(m[b])?m[b]():null}function xw(m,b){var I=m||fi;return Gr(b,function(j,$){I+="; "+j+(tt($)?fi:"="+$)}),I}function WC(m){var b=fi;if(!gc&&ld(),gc.v){var I=gc.v[ud]||fi;$f!==I&&(Yo=BC(I),$f=I),b=aa(Yo[m]||fi)}return b}function E(m,b){!gc&&ld(),gc.v&&(gc.v[ud]=m+"="+b)}function k(m){return cr(m)?!!(qs(m,"CPU iPhone OS 12")||qs(m,"iPad; CPU OS 12")||qs(m,"Macintosh; Intel Mac OS X 10_14")&&qs(m,"Version/")&&qs(m,"Safari")||qs(m,"Macintosh; Intel Mac OS X 10_14")&&Of(m,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||qs(m,"Chrome/5")||qs(m,"Chrome/6")||qs(m,"UnrealEngine")&&!qs(m,"Chrome")||qs(m,"UCBrowser/12")||qs(m,"UCBrowser/11")):!1}var z={perfEvtsSendAll:!1};function Y(m,b,I,j){Xn(m,function($){if($&&$[b])if(I)Qs(function(){return j($)},0);else try{j($)}catch{}})}var _e=function(){function m(b){this.listeners=[];var I,j,$=[],ie=pc(b,z);j=ie[fa](function(ge){I=!!ge.cfg.perfEvtsSendAll}),da(m,this,function(ge){rt(ge,"listeners",{g:function(){return $}}),ge[ed]=function(Ie){$[Fn](Ie)},ge[Bd]=function(Ie){for(var Be=Ys($,Ie);Be>-1;)$[uu](Be,1),Be=Ys($,Ie)},ge[Vm]=function(Ie){Y($,Vm,!0,function(Be){Be[Vm](Ie)})},ge[Gm]=function(Ie,Be){Y($,Gm,!0,function(et){et[Gm](Ie,Be)})},ge[Na]=function(Ie,Be){Y($,Na,Be,function(et){et[Na](Ie,Be)})},ge[Jd]=function(Ie){Ie&&(I||!Ie[Bh]())&&Y($,Jd,!1,function(Be){Ie[ht]?Qs(function(){return Be[Jd](Ie)},0):Be[Jd](Ie)})},ge[R]=function(Ie){var Be=function(){j&&j.rm(),j=null,$=[]},et;if(Y($,"unload",!1,function(Ve){var wt=Ve[R](Ie);wt&&(et||(et=[]),et[Fn](wt))}),et)return Gd(function(Ve){return j_(Kd(et),function(){Be(),Ve()})});Be()}})}return m.__ieDyn=1,m}(),We="ctx",Ze="ParentContextKey",ct="ChildrenContextKey",Dt=null,Kt=function(){function m(b,I,j){var $=this;if($.start=Ic(),$[uc]=b,$[ht]=j,$[Bh]=function(){return!1},xt(I)){var ie;rt($,"payload",{g:function(){return!ie&&xt(I)&&(ie=I(),I=null),ie}})}$[Wd]=function(ge){return ge?ge===m[Ze]||ge===m[ct]?$[ge]:($[We]||{})[ge]:null},$[ku]=function(ge,Ie){if(ge)if(ge===m[Ze])$[ge]||($[Bh]=function(){return!0}),$[ge]=Ie;else if(ge===m[ct])$[ge]=Ie;else{var Be=$[We]=$[We]||{};Be[ge]=Ie}},$[Zg]=function(){var ge=0,Ie=$[Wd](m[ct]);if(Mt(Ie))for(var Be=0;Be<Ie[Bn];Be++){var et=Ie[Be];et&&(ge+=et[Hd])}$[Hd]=Ic()-$.start,$.exTime=$[Hd]-ge,$[Zg]=function(){}}}return m.ParentContextKey="parent",m.ChildrenContextKey="childEvts",m}(),Ar=function(){function m(b){this.ctx={},da(m,this,function(I){I.create=function(j,$,ie){return new Kt(j,$,ie)},I.fire=function(j){j&&(j[Zg](),b&&xt(b[Jd])&&b[Jd](j))},I[ku]=function(j,$){if(j){var ie=I[We]=I[We]||{};ie[j]=$}},I[Wd]=function(j){return(I[We]||{})[j]}})}return m.__ieDyn=1,m}(),jn="CoreUtils.doPerf";function In(m,b,I,j,$){if(m){var ie=m;if(ie[Nc]&&(ie=ie[Nc]()),ie){var ge=void 0,Ie=ie[Wd](jn);try{if(ge=ie.create(b(),j,$),ge){if(Ie&&ge[ku]&&(ge[ku](Kt[Ze],Ie),Ie[Wd]&&Ie[ku])){var Be=Ie[Wd](Kt[ct]);Be||(Be=[],Ie[ku](Kt[ct],Be)),Be[Fn](ge)}return ie[ku](jn,ge),I(ge)}}catch(et){ge&&ge[ku]&&ge[ku]("exception",et)}finally{ge&&ie.fire(ge),ie[ku](jn,Ie)}}}return I()}function Qn(){return Dt}function Qr(){var m=Zn();return qn(m,0,8)+"-"+qn(m,8,12)+"-"+qn(m,12,16)+"-"+qn(m,16,20)+"-"+qn(m,20)}function Zn(){for(var m=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],b=fi,I,j=0;j<4;j++)I=sf(),b+=m[I&15]+m[I>>4&15]+m[I>>8&15]+m[I>>12&15]+m[I>>16&15]+m[I>>20&15]+m[I>>24&15]+m[I>>28&15];var $=m[8+(sf()&3)|0];return Oi(b,0,8)+Oi(b,9,4)+"4"+Oi(b,13,3)+$+Oi(b,16,3)+Oi(b,19,12)}var br=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,Si="00",$n="ff",Rn="00000000000000000000000000000000",ss="0000000000000000",vc=1;function ja(m,b,I){return m&&m[Bn]===b&&m!==I?!!m.match(/^[\da-f]*$/i):!1}function yv(m,b,I){return ja(m,b)?m:I}function pg(m){(isNaN(m)||m<0||m>255)&&(m=1);for(var b=m.toString(16);b[Bn]<2;)b="0"+b;return b}function Ly(m,b,I,j){var $;return $={},$[F]=ja(j,2,$n)?j:Si,$[N_]=ep(m)?m:Zn(),$[Fp]=My(b)?b:Sn(Zn(),16),$.traceFlags=I>=0&&I<=255?I:1,$}function dd(m,b){var I;if(!m||(Mt(m)&&(m=m[0]||""),!m||!cr(m)||m[Bn]>8192))return null;if(m.indexOf(",")!==-1){var j=m[lc](",");m=j[b>0&&j[Bn]>b?b:0]}var $=br.exec(aa(m));return!$||$[1]===$n||$[2]===Rn||$[3]===ss?null:(I={version:($[1]||fi)[wi](),traceId:($[2]||fi)[wi](),spanId:($[3]||fi)[wi]()},I[qp]=parseInt($[4],16),I)}function ep(m){return ja(m,32,Rn)}function My(m){return ja(m,16,ss)}function Ny(m){return!(!m||!ja(m[F],2,$n)||!ja(m[N_],32,Rn)||!ja(m[Fp],16,ss)||!ja(pg(m[qp]),2))}function or(m){return Ny(m)?(m[qp]&vc)===vc:!1}function un(m){if(m){var b=pg(m[qp]);ja(b,2)||(b="01");var I=m[F]||Si;return I!=="00"&&I!=="ff"&&(I=Si),"".concat(I.toLowerCase(),"-").concat(yv(m.traceId,32,Rn).toLowerCase(),"-").concat(yv(m.spanId,16,ss).toLowerCase(),"-").concat(b.toLowerCase())}return""}function hi(m){var b="traceparent",I=dd(zf(b),m);return I||(I=dd(tg(b),m)),I}var as=Kh("plugin");function Ps(m){return as.get(m,"state",{},!0)}function xs(m,b){for(var I=[],j=null,$=m[jr](),ie;$;){var ge=$[ha]();if(ge){j&&j[Wn]&&ge[Mf]&&j[Wn](ge),ie=Ps(ge);var Ie=!!ie[_a];ge[_a]&&(Ie=ge[_a]()),Ie||I[Fn](ge),j=ge,$=$[jr]()}}Xn(I,function(Be){var et=m[os]();Be[Ql](m.getCfg(),et,b,m[jr]()),ie=Ps(Be),!Be[os]&&!ie[os]&&(ie[os]=et),ie[_a]=!0,delete ie[he]})}function js(m){return m.sort(function(b,I){var j=0;if(I){var $=I[Mf];b[Mf]?j=$?b[W_]-I[W_]:1:$&&(j=-1)}else j=b?1:-1;return j})}function mg(m){var b={};return{getName:function(){return b[uc]},setName:function(I){m&&m.setName(I),b[uc]=I},getTraceId:function(){return b[N_]},setTraceId:function(I){m&&m.setTraceId(I),ep(I)&&(b[N_]=I)},getSpanId:function(){return b[Fp]},setSpanId:function(I){m&&m.setSpanId(I),My(I)&&(b[Fp]=I)},getTraceFlags:function(){return b[qp]},setTraceFlags:function(I){m&&m.setTraceFlags(I),b[qp]=I}}}var tm="TelemetryPluginChain",rm="_hasRun",Ow="_getTelCtx",gg=0;function tp(m,b,I){for(;m;){if(m[ha]()===I)return m;m=m[jr]()}return _v([I],b.config||{},b)}function Fy(m,b,I,j){var $=null,ie=[];b||(b=pc({},null,I[lo])),j!==null&&($=j?tp(m,I,j):m);var ge={_next:Be,ctx:{core:function(){return I},diagLog:function(){return pv(I,b.cfg)},getCfg:function(){return b.cfg},getExtCfg:Ve,getConfig:wt,hasNext:function(){return!!$},getNext:function(){return $},setNext:function(_t){$=_t},iterate:ot,onComplete:Ie}};function Ie(_t,it){for(var Qt=[],Vt=2;Vt<arguments.length;Vt++)Qt[Vt-2]=arguments[Vt];_t&&ie[Fn]({func:_t,self:at(it)?ge.ctx:it,args:Qt})}function Be(){var _t=$;if($=_t?_t[jr]():null,!_t){var it=ie;it&&it[Bn]>0&&(Xn(it,function(Qt){try{Qt.func.call(Qt.self,Qt.args)}catch(Vt){af(I[lo],2,73,"Unexpected Exception during onComplete - "+Pe(Vt))}}),ie=[])}return _t}function et(_t,it){var Qt=null,Vt=b.cfg;if(Vt&&_t){var _r=Vt[Hp];!_r&&it&&(_r={}),Vt[Hp]=_r,_r=b.ref(Vt,Hp),_r&&(Qt=_r[_t],!Qt&&it&&(Qt={}),_r[_t]=Qt,Qt=b.ref(_r,_t))}return Qt}function Ve(_t,it){var Qt=et(_t,!0);return it&&Gr(it,function(Vt,_r){if(tt(Qt[Vt])){var Pr=b.cfg[Vt];(Pr||!tt(Pr))&&(Qt[Vt]=Pr)}rd(b,Qt,Vt,_r)}),b[cc](Qt,it)}function wt(_t,it,Qt){Qt===void 0&&(Qt=!1);var Vt,_r=et(_t,!1),Pr=b.cfg;return _r&&(_r[it]||!tt(_r[it]))?Vt=_r[it]:(Pr[it]||!tt(Pr[it]))&&(Vt=Pr[it]),Vt||!tt(Vt)?Vt:Qt}function ot(_t){for(var it;it=ge._next();){var Qt=it[ha]();Qt&&_t(Qt)}}return ge}function qu(m,b,I,j){var $=pc(b),ie=Fy(m,$,I,j),ge=ie.ctx;function Ie(et){var Ve=ie._next();return Ve&&Ve[Mf](et,ge),!Ve}function Be(et,Ve){return et===void 0&&(et=null),Mt(et)&&(et=_v(et,$.cfg,I,Ve)),qu(et||ge[jr](),$.cfg,I,Ve)}return ge[Rs]=Ie,ge[Z]=Be,ge}function vg(m,b,I){var j=pc(b.config),$=Fy(m,j,b,I),ie=$.ctx;function ge(Be){var et=$._next();return et&&et[R](ie,Be),!et}function Ie(Be,et){return Be===void 0&&(Be=null),Mt(Be)&&(Be=_v(Be,j.cfg,b,et)),vg(Be||ie[jr](),b,et)}return ie[Rs]=ge,ie[Z]=Ie,ie}function rp(m,b,I){var j=pc(b.config),$=Fy(m,j,b,I),ie=$.ctx;function ge(Be){return ie.iterate(function(et){xt(et[an])&&et[an](ie,Be)})}function Ie(Be,et){return Be===void 0&&(Be=null),Mt(Be)&&(Be=_v(Be,j.cfg,b,et)),rp(Be||ie[jr](),b,et)}return ie[Rs]=ge,ie[Z]=Ie,ie}function _v(m,b,I,j){var $=null,ie=!j;if(Mt(m)&&m[Bn]>0){var ge=null;Xn(m,function(Ie){if(!ie&&j===Ie&&(ie=!0),ie&&Ie&&xt(Ie[Mf])){var Be=TR(Ie,b,I);$||($=Be),ge&&ge._setNext(Be),ge=Be}})}return j&&!$?_v([j],b,I):$}function TR(m,b,I){var j=null,$=xt(m[Mf]),ie=xt(m[Wn]),ge;m?ge=m[La]+"-"+m[W_]+"-"+gg++:ge="Unknown-0-"+gg++;var Ie={getPlugin:function(){return m},getNext:function(){return j},processTelemetry:Ve,unload:wt,update:ot,_id:ge,_setNext:function(_t){j=_t}};function Be(){var _t;return m&&xt(m[Ow])&&(_t=m[Ow]()),_t||(_t=qu(Ie,b,I)),_t}function et(_t,it,Qt,Vt,_r){var Pr=!1,Ir=m?m[La]:tm,Mn=_t[rm];return Mn||(Mn=_t[rm]={}),_t.setNext(j),m&&In(_t[os](),function(){return Ir+":"+Qt},function(){Mn[ge]=!0;try{var Ii=j?j._id:fi;Ii&&(Mn[Ii]=!1),Pr=it(_t)}catch(Ge){var ko=j?Mn[j._id]:!0;ko&&(Pr=!0),(!j||!ko)&&af(_t[Ut](),1,73,"Plugin ["+Ir+"] failed during "+Qt+" - "+Pe(Ge)+", run flags: "+Pe(Mn))}},Vt,_r),Pr}function Ve(_t,it){it=it||Be();function Qt(Vt){if(!m||!$)return!1;var _r=Ps(m);return _r[he]||_r[$m]?!1:(ie&&m[Wn](j),m[Mf](_t,Vt),!0)}et(it,Qt,"processTelemetry",function(){return{item:_t}},!_t.sync)||it[Rs](_t)}function wt(_t,it){function Qt(){var Vt=!1;if(m){var _r=Ps(m),Pr=m[os]||_r[os];m&&(!Pr||Pr===_t.core())&&!_r[he]&&(_r[os]=null,_r[he]=!0,_r[_a]=!1,m[he]&&m[he](_t,it)===!0&&(Vt=!0))}return Vt}et(_t,Qt,"unload",function(){},it[ht])||_t[Rs](it)}function ot(_t,it){function Qt(){var Vt=!1;if(m){var _r=Ps(m),Pr=m[os]||_r[os];m&&(!Pr||Pr===_t.core())&&!_r[he]&&m[an]&&m[an](_t,it)===!0&&(Vt=!0)}return Vt}et(_t,Qt,"update",function(){},!1)||_t[Rs](it)}return Yt(Ie)}var bv=function(){function m(b,I,j,$){var ie=this,ge=qu(b,I,j,$);tv(ie,ge,Je(ge))}return m}();function nl(){var m=[];function b(j){j&&m[Fn](j)}function I(j,$){Xn(m,function(ie){try{ie(j,$)}catch(ge){af(j[Ut](),2,73,"Unexpected error calling unload handler - "+Pe(ge))}}),m=[]}return{add:b,run:I}}function Il(){var m=[];function b(j){var $=m;m=[],Xn($,function(ie){try{(ie.rm||ie.remove).call(ie)}catch(ge){af(j,2,73,"Unloading:"+Pe(ge))}})}function I(j){j&&Bl(m,j)}return{run:b,add:I}}var qy,Gf="getPlugin",e0=(qy={},qy[Hp]={isVal:En,v:{}},qy),$C=function(){function m(){var b=this,I,j,$,ie,ge;et(),da(m,b,function(Ve){Ve[Ql]=function(wt,ot,_t,it){Be(wt,ot,it),I=!0},Ve[he]=function(wt,ot){var _t,it=Ve[os];if(!it||wt&&it!==wt[os]())return;var Qt,Vt=!1,_r=wt||vg(null,it,$&&$[Gf]?$[Gf]():$),Pr=ot||(_t={reason:0},_t[ht]=!1,_t);function Ir(){Vt||(Vt=!0,ie.run(_r,ot),ge.run(_r[Ut]()),Qt===!0&&_r[Rs](Pr),et())}return!Ve[Sr]||Ve[Sr](_r,Pr,Ir)!==!0?Ir():Qt=!0,Qt},Ve[an]=function(wt,ot){var _t=Ve[os];if(!_t||wt&&_t!==wt[os]())return;var it,Qt=!1,Vt=wt||rp(null,_t,$&&$[Gf]?$[Gf]():$),_r=ot||{reason:0};function Pr(){Qt||(Qt=!0,Be(Vt.getCfg(),Vt.core(),Vt[jr]()))}return!Ve._doUpdate||Ve._doUpdate(Vt,_r,Pr)!==!0?Pr():it=!0,it},Rl(Ve,"_addUnloadCb",function(){return ie},"add"),Rl(Ve,"_addHook",function(){return ge},"add"),rt(Ve,"_unloadHooks",{g:function(){return ge}})}),b[Ut]=function(Ve){return Ie(Ve)[Ut]()},b[_a]=function(){return I},b.setInitialized=function(Ve){I=Ve},b[Wn]=function(Ve){$=Ve},b[Rs]=function(Ve,wt){wt?wt[Rs](Ve):$&&xt($[Mf])&&$[Mf](Ve,null)},b._getTelCtx=Ie;function Ie(Ve){Ve===void 0&&(Ve=null);var wt=Ve;if(!wt){var ot=j||qu(null,{},b[os]);$&&$[Gf]?wt=ot[Z](null,$[Gf]):wt=ot[Z](null,$)}return wt}function Be(Ve,wt,ot){pc(Ve,e0,pv(wt)),!ot&&wt&&(ot=wt[lu]()[jr]());var _t=$;$&&$[Gf]&&(_t=$[Gf]()),b[os]=wt,j=qu(ot,Ve,wt,_t)}function et(){I=!1,b[os]=null,j=null,$=null,ge=Il(),ie=nl()}}return m.__ieDyn=1,m}();function DR(m,b,I){var j={id:b,fn:I};Bl(m,j);var $={remove:function(){Xn(m,function(ie,ge){if(ie.id===j.id)return m[uu](ge,1),-1})}};return $}function ER(m,b,I){for(var j=!1,$=m[Bn],ie=0;ie<$;++ie){var ge=m[ie];if(ge)try{if(ge.fn[Ou](null,[b])===!1){j=!0;break}}catch(Ie){af(I,2,64,"Telemetry initializer failed: "+wy(Ie),{exception:Pe(Ie)},!0)}}return!j}var VC=function(m){wl(b,m);function b(){var I=m.call(this)||this;I.identifier="TelemetryInitializerPlugin",I.priority=199;var j,$;ie(),da(b,I,function(ge,Ie){ge.addTelemetryInitializer=function(Be){return DR($,j++,Be)},ge[Mf]=function(Be,et){ER($,Be,et?et[Ut]():ge[Ut]())&&ge[Rs](Be,et)},ge[Sr]=function(){ie()}});function ie(){j=0,$=[]}return I}return b.__ieDyn=1,b}($C),Kf,t0="Plugins must provide initialize method",Q_="_notificationManager",Iw="SDK is still unloading...",kw="SDK is not initialized",Aw=ft((Kf={cookieCfg:{}},Kf[Bp]={rdOnly:!0,ref:!0,v:[]},Kf[Au]={rdOnly:!0,ref:!0,v:[]},Kf[Hp]={ref:!0,v:{}},Kf[Yd]=Fs,Kf.loggingLevelConsole=0,Kf.diagnosticLogInterval=Fs,Kf));function GC(m,b){return new Ar(b)}function Z_(m,b,I){var j,$=[],ie=[],ge={};return Xn(I,function(Ie){(tt(Ie)||tt(Ie[Ql]))&&oi(t0);var Be=Ie[W_],et=Ie[La];Ie&&Be&&(tt(ge[Be])?ge[Be]=et:Sw(m,"Two extensions have same priority #"+Be+" - "+ge[Be]+", "+et)),!Be||Be<b?$[Fn](Ie):ie[Fn](Ie)}),j={},j[os]=$,j[Au]=ie,j}function Yf(m,b){var I=!1;return Xn(b,function(j){if(j===m)return I=!0,-1}),I}function eb(m,b,I,j){I&&Gr(I,function($,ie){j&&ca(ie)&&ca(b[$])&&eb(m,b[$],ie,j),j&&ca(ie)&&ca(b[$])?eb(m,b[$],ie,j):m.set(b,$,ie)})}function Lw(m,b){var I=null,j=-1;return Xn(m,function($,ie){if($.w===b)return I=$,j=ie,-1}),{i:j,l:I}}function no(m,b){var I=Lw(m,b).l;return I||(I={w:b,rm:function(){var j=Lw(m,b);j.i!==-1&&m[uu](j.i,1)}},m[Fn](I)),I}function KC(m,b,I){Xn(b,function(j){var $=ag(m,j.w,I);delete j.w,j.rm=function(){$.rm()}})}var wv=function(){function m(){var b,I,j,$,ie,ge,Ie,Be,et,Ve,wt,ot,_t,it,Qt,Vt,_r,Pr,Ir,Mn,Ii,ko,Ge,At,Zt,lr,on,ei;da(m,this,function(St){Ot(),St._getDbgPlgTargets=function(){return[Ge]},St[_a]=function(){return I},St[Ql]=function(Wt,Kr,ui,Vn){_t&&oi(Iw),St[_a]()&&oi("Core cannot be initialized more than once"),b=pc(Wt,Aw,ui||St[lo],!1),Wt=b.cfg,Hw(b[fa](function(cs){Ii=cs.cfg.instrumentationKey;var zc=cs.ref(cs.cfg,Hp);Gr(zc,function(ju){cs.ref(zc,ju)}),tt(Ii)&&oi("Please provide instrumentation key")})),ie=Vn,cf(),ab(),St[lo]=ui;var mi=Wt[Bp];if(Ve=[],Ve[Fn].apply(Ve,Uh(Uh([],Kr,!1),mi)),wt=Wt[Au],xr(null),(!ot||ot[Bn]===0)&&oi("No "+Au+" available"),wt&&wt[Bn]>1){var Uo=St[ha]("TeeChannelController");(!Uo||!Uo.plugin)&&af(j,1,28,"TeeChannel required")}KC(Wt,ko,j),ko=null,I=!0,St.releaseQueue(),St[Zl]()},St.getChannels=function(){var Wt=[];return ot&&Xn(ot,function(Kr){Wt[Fn](Kr)}),Yt(Wt)},St.track=function(Wt){In(St[Nc](),function(){return"AppInsightsCore:track"},function(){Wt===null&&(d0(Wt),oi("Invalid telemetry item")),!Wt[uc]&&tt(Wt[uc])&&(d0(Wt),oi("telemetry name required")),Wt.iKey=Wt.iKey||Ii,Wt[Hd]=Wt[Hd]||Nf(new Date),Wt.ver=Wt.ver||"4.0",!_t&&St[_a]()?gr()[Rs](Wt):$[Fn](Wt)},function(){return{item:Wt}},!Wt.sync)},St[lu]=gr,St[Dl]=function(){return ie||(ie=new _e(b.cfg),St[Q_]=ie),ie},St[ed]=function(Wt){St[Dl]()[ed](Wt)},St[Bd]=function(Wt){ie&&ie[Bd](Wt)},St.getCookieMgr=function(){return Be||(Be=em(b.cfg,St[lo])),Be},St.setCookieMgr=function(Wt){Be!==Wt&&(cg(Be,!1),Be=Wt)},St[Nc]=function(){return!ge&&!Ie&&Hw(b[fa](function(Wt){if(Wt.cfg.enablePerfMgr){var Kr=Wt.cfg[Yd];xt(Kr)&&(Ie=Kr(St,St[Dl]()))}})),ge||Ie||Qn()},St.setPerfMgr=function(Wt){ge=Wt},St.eventCnt=function(){return $[Bn]},St.releaseQueue=function(){if(I&&$[Bn]>0){var Wt=$;$=[],Xn(Wt,function(Kr){gr()[Rs](Kr)})}},St[Zl]=function(Wt){return Qt=Wt||null,ei=!1,lr&&lr[ai](),nt(!0)};function nt(Wt){if((!lr||!lr[g])&&!ei){var Kr=Wt||j&&j.queue[Bn]>0;Kr&&(on||(on=!0,Hw(b[fa](function(ui){var Vn=ui.cfg.diagnosticLogInterval;(!Vn||!(Vn>0))&&(Vn=1e4);var mi=!1;lr&&(mi=lr[g],lr[ai]()),lr=Kl(wo,Vn),lr.unref(),lr[g]=mi}))),lr[g]=!0)}return lr}St[v]=function(){ei=!0,lr&&lr[ai](),wo()},tv(St,function(){return it},["addTelemetryInitializer"]),St[R]=function(Wt,Kr,ui){var Vn;Wt===void 0&&(Wt=!0),I||oi(kw),_t&&oi(Iw);var mi=(Vn={reason:50},Vn[ht]=Wt,Vn.flushComplete=!1,Vn),Uo;Wt&&!Kr&&(Uo=Gd(function(ju){Kr=ju}));var cs=vg(ti(),St);cs[O](function(){Pr.run(St[lo]),HC([Be,ie,j],Wt,function(){Ot(),Kr&&Kr(mi)})},St);function zc(ju){mi.flushComplete=ju,_t=!0,_r.run(cs,mi),St[v](),cs[Rs](mi)}return wo(),sp(Wt,zc,6,ui),Uo},St[ha]=Nr,St.addPlugin=function(Wt,Kr,ui,Vn){if(!Wt){Vn&&Vn(!1),um(t0);return}var mi=Nr(Wt[La]);if(mi&&!Kr){Vn&&Vn(!1),um("Plugin ["+Wt[La]+"] is already loaded!");return}var Uo={reason:16};function cs(Ov){Ve[Fn](Wt),Uo.added=[Wt],xr(Uo),Vn&&Vn(!0)}if(mi){var zc=[mi.plugin],ju={reason:2,isAsync:!!ui};Xo(zc,ju,function(Ov){Ov?(Uo.removed=zc,Uo.reason|=32,cs()):Vn&&Vn(!1)})}else cs()},St.updateCfg=function(Wt,Kr){Kr===void 0&&(Kr=!0);var ui;if(St[_a]()){ui={reason:1,cfg:b.cfg,oldCfg:Yu({},b.cfg),newConfig:Yu({},Wt),merge:Kr},Wt=ui.newConfig;var Vn=b.cfg;Wt[Bp]=Vn[Bp],Wt[Au]=Vn[Au]}b._block(function(mi){var Uo=mi.cfg;eb(mi,Uo,Wt,Kr),Kr||Gr(Uo,function(cs){An(Wt,cs)||mi.set(Uo,cs,Fs)}),mi[cc](Uo,Aw)},!0),b[Xl](),ui&&Xf(ui)},St.evtNamespace=function(){return Vt},St.flush=sp,St.getTraceCtx=function(Wt){return Mn||(Mn=mg()),Mn},St.setTraceCtx=function(Wt){Mn=Wt||null},St.addUnloadHook=Hw,Rl(St,"addUnloadCb",function(){return _r},"add"),St.onCfgChange=function(Wt){var Kr;return I?Kr=ag(b.cfg,Wt,St[lo]):Kr=no(ko,Wt),{rm:function(){Kr.rm()}}},St.getWParam=function(){return nc()||b.cfg.enableWParam?0:-1};function Tt(){var Wt={};At=[];var Kr=function(ui){ui&&Xn(ui,function(Vn){if(Vn[La]&&Vn[F]&&!Wt[Vn.identifier]){var mi=Vn[La]+"="+Vn[F];At[Fn](mi),Wt[Vn.identifier]=Vn}})};Kr(ot),wt&&Xn(wt,function(ui){Kr(ui)}),Kr(Ve)}function Ot(){I=!1,b=pc({},Aw,St[lo]),b.cfg[J]=1,rt(St,"config",{g:function(){return b.cfg},s:function(Kr){St.updateCfg(Kr,!1)}}),rt(St,"pluginVersionStringArr",{g:function(){return At||Tt(),At}}),rt(St,"pluginVersionString",{g:function(){return Zt||(At||Tt(),Zt=At.join(";")),Zt||fi}}),rt(St,"logger",{g:function(){return j||(j=new fg(b.cfg),b[lo]=j),j},s:function(Kr){b[lo]=Kr,j!==Kr&&(cg(j,!1),j=Kr)}}),St[lo]=new fg(b.cfg),Ge=[];var Wt=St.config[Bp]||[];Wt.splice(0,Wt[Bn]),Bl(Wt,Ge),it=new VC,$=[],cg(ie,!1),ie=null,ge=null,Ie=null,cg(Be,!1),Be=null,et=null,Ve=[],wt=null,ot=null,_t=!1,Qt=null,Vt=td("AIBaseCore",!0),_r=nl(),Mn=null,Ii=null,Pr=Il(),ko=[],Zt=null,At=null,ei=!1}function gr(){var Wt=qu(ti(),b.cfg,St);return Wt[O](nt),Wt}function xr(Wt){var Kr=Z_(St[lo],ZD,Ve);et=null,Zt=null,At=null,ot=(wt||[])[0]||[],ot=js(Bl(ot,Kr[Au]));var ui=Bl(js(Kr[os]),ot);Ge=Yt(ui);var Vn=St.config[Bp]||[];Vn.splice(0,Vn[Bn]),Bl(Vn,Ge);var mi=gr();ot&&ot[Bn]>0&&xs(mi[Z](ot),ui),xs(mi,ui),Wt&&Xf(Wt)}function Nr(Wt){var Kr=null,ui=null,Vn=[];return Xn(Ge,function(mi){if(mi[La]===Wt&&mi!==it)return ui=mi,-1;mi.getChannel&&Vn[Fn](mi)}),!ui&&Vn[Bn]>0&&Xn(Vn,function(mi){if(ui=mi.getChannel(Wt),!ui)return-1}),ui&&(Kr={plugin:ui,setEnabled:function(mi){Ps(ui)[$m]=!mi},isEnabled:function(){var mi=Ps(ui);return!mi[he]&&!mi[$m]},remove:function(mi,Uo){var cs;mi===void 0&&(mi=!0);var zc=[ui],ju=(cs={reason:1},cs[ht]=mi,cs);Xo(zc,ju,function(Ov){Ov&&xr({reason:32,removed:zc}),Uo&&Uo(Ov)})}}),Kr}function ti(){if(!et){var Wt=(Ge||[]).slice();Ys(Wt,it)===-1&&Wt[Fn](it),et=_v(js(Wt),b.cfg,St)}return et}function Xo(Wt,Kr,ui){if(Wt&&Wt[Bn]>0){var Vn=_v(Wt,b.cfg,St),mi=vg(Vn,St);mi[O](function(){var Uo=!1,cs=[];Xn(Ve,function(ju,Ov){Yf(ju,Wt)?Uo=!0:cs[Fn](ju)}),Ve=cs,Zt=null,At=null;var zc=[];wt&&(Xn(wt,function(ju,Ov){var By=[];Xn(ju,function(xR){Yf(xR,Wt)?Uo=!0:By[Fn](xR)}),zc[Fn](By)}),wt=zc),ui&&ui(Uo),nt()}),mi[Rs](Kr)}else ui(!1)}function wo(){if(j&&j.queue){var Wt=j.queue.slice(0);j.queue[Bn]=0,Xn(Wt,function(Kr){var ui,Vn=(ui={},ui[uc]=Qt||"InternalMessageId: "+Kr[ke],ui.iKey=Ii,ui[Hd]=Nf(new Date),ui.baseType=Zh.dataType,ui.baseData={message:Kr[Qe]},ui);St.track(Vn)})}}function sp(Wt,Kr,ui,Vn){var mi=1,Uo=!1,cs=null;Vn=Vn||5e3;function zc(){mi--,Uo&&mi===0&&(cs&&cs[ai](),cs=null,Kr&&Kr(Uo),Kr=null)}if(ot&&ot[Bn]>0){var ju=gr()[Z](ot);ju.iterate(function(Ov){if(Ov.flush){mi++;var By=!1;Ov.flush(Wt,function(){By=!0,zc()},ui)||By||(Wt&&cs==null?cs=Qs(function(){cs=null,zc()},Vn):zc())}})}return Uo=!0,zc(),!0}function cf(){!ie&&St[Dl](),Hw(b[fa](function(Wt){var Kr=Wt.cfg.disableDbgExt;Kr===!0&&Ir&&(ie[Bd](Ir),Ir=null),ie&&!Ir&&Kr!==!0&&(Ir=Oy(Wt.cfg),ie[ed](Ir))}))}function ab(){Hw(b[fa](function(Wt){var Kr=Wt.cfg.enablePerfMgr;!Kr&&Ie&&(Ie=null),Kr&&Qd(Wt.cfg,Yd,GC)}))}function Xf(Wt){var Kr=rp(ti(),St);Kr[O](nt),(!St._updateHook||St._updateHook(Kr,Wt)!==!0)&&Kr[Rs](Wt)}function um(Wt){var Kr=St[lo];Kr?(af(Kr,2,73,Wt),nt()):oi(Wt)}function d0(Wt){var Kr=St[Dl]();Kr&&Kr[Gm]([Wt],2)}function Hw(Wt){Pr.add(Wt)}})}return m.__ieDyn=1,m}(),jy="on",RR="attachEvent",Jf="addEventListener",fd="detachEvent",YC="removeEventListener",np="events",Sv="visibilitychange",nm="pagehide",kl="pageshow",ip="unload",im="beforeunload",Cv=td("aiEvtPageHide"),om=td("aiEvtPageShow"),Mw=/\.[\.]+/g,JC=/[\.]+$/,r0=1,tb=Kh("events"),zy=/^([^.]*)(?:\.(.+)|)/;function Tv(m){return m&&m[Mp]?m[Mp](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,fi):m}function Uy(m,b){var I;if(b){var j=fi;Mt(b)?(j=fi,Xn(b,function(ie){ie=Tv(ie),ie&&(ie[0]!=="."&&(ie="."+ie),j+=ie)})):j=Tv(b),j&&(j[0]!=="."&&(j="."+j),m=(m||fi)+j)}var $=zy.exec(m||fi)||[];return I={},I[Ma]=$[1],I.ns=($[2]||fi).replace(Mw,".").replace(JC,fi)[lc](".").sort().join("."),I}function Nw(m,b,I){var j=[],$=tb.get(m,np,{},!1),ie=Uy(b,I);return Gr($,function(ge,Ie){Xn(Ie,function(Be){var et;(!ie[Ma]||ie[Ma]===Be.evtName[Ma])&&(!ie.ns||ie.ns===ie.ns)&&j[Fn]((et={},et[uc]=Be.evtName[Ma]+(Be.evtName.ns?"."+Be.evtName.ns:fi),et.handler=Be[Np],et))})}),j}function Dv(m,b,I){I===void 0&&(I=!0);var j=tb.get(m,np,{},I),$=j[b];return $||($=j[b]=[]),$}function rb(m,b,I,j){m&&b&&b[Ma]&&(m[YC]?m[YC](b[Ma],I,j):m[fd]&&m[fd](jy+b[Ma],I))}function Fw(m,b,I,j){var $=!1;return m&&b&&b[Ma]&&I&&(m[Jf]?(m[Jf](b[Ma],I,j),$=!0):m[RR]&&(m[RR](jy+b[Ma],I),$=!0)),$}function nb(m,b,I,j){for(var $=b[Bn];$--;){var ie=b[$];ie&&(!I.ns||I.ns===ie.evtName.ns)&&(!j||j(ie))&&(rb(m,ie.evtName,ie[Np],ie.capture),b[uu]($,1))}}function PR(m,b,I){if(b[Ma])nb(m,Dv(m,b[Ma]),b,I);else{var j=tb.get(m,np,{});Gr(j,function($,ie){nb(m,ie,b,I)}),Je(j)[Bn]===0&&tb.kill(m,np)}}function qw(m,b){var I;return b?(Mt(b)?I=[m].concat(b):I=[m,b],I=Uy("xx",I).ns[lc](".")):I=m,I}function za(m,b,I,j,$){var ie;$===void 0&&($=!1);var ge=!1;if(m)try{var Ie=Uy(b,j);if(ge=Fw(m,Ie,I,$),ge&&tb.accept(m)){var Be=(ie={guid:r0++,evtName:Ie},ie[Np]=I,ie.capture=$,ie);Dv(m,Ie.type)[Fn](Be)}}catch{}return ge}function sm(m,b,I,j,$){if($===void 0&&($=!1),m)try{var ie=Uy(b,j),ge=!1;PR(m,ie,function(Ie){return ie.ns&&!I||Ie[Np]===I?(ge=!0,!0):!1}),ge||rb(m,ie,I,$)}catch{}}function Ev(m,b,I,j){return j===void 0&&(j=!1),za(m,b,I,null,j)}function n0(m,b,I,j){j===void 0&&(j=!1),sm(m,b,I,null,j)}function yg(m,b,I){var j=!1,$=_l();$&&(j=za($,m,b,I),j=za($.body,m,b,I)||j);var ie=ic();return ie&&(j=za(ie,m,b,I)||j),j}function Rv(m,b,I){var j=_l();j&&(sm(j,m,b,I),sm(j.body,m,b,I));var $=ic();$&&sm($,m,b,I)}function ib(m,b,I,j){var $=!1;return b&&m&&m[Bn]>0&&Xn(m,function(ie){ie&&(!I||Ys(I,ie)===-1)&&($=yg(ie,b,j)||$)}),$}function jw(m,b,I,j){var $=!1;return b&&m&&Mt(m)&&($=ib(m,b,I,j),!$&&I&&I[Bn]>0&&($=ib(m,b,null,j))),$}function Pv(m,b,I){m&&Mt(m)&&Xn(m,function(j){j&&Rv(j,b,I)})}function xv(m,b,I){return jw([im,ip,nm],m,b,I)}function i0(m,b){Pv([im,ip,nm],m,b)}function o0(m,b,I){function j(ge){var Ie=ic();m&&Ie&&Ie.visibilityState==="hidden"&&m(ge)}var $=qw(Cv,I),ie=ib([nm],m,b,$);return(!b||Ys(b,Sv)===-1)&&(ie=ib([Sv],j,b,$)||ie),!ie&&b&&(ie=o0(m,null,I)),ie}function ob(m,b){var I=qw(Cv,b);Pv([nm],m,I),Pv([Sv],null,I)}function s0(m,b,I){function j(ge){var Ie=ic();m&&Ie&&Ie.visibilityState==="visible"&&m(ge)}var $=qw(om,I),ie=ib([kl],m,b,$);return ie=ib([Sv],j,b,$)||ie,!ie&&b&&(ie=s0(m,null,I)),ie}function l1(m,b){var I=qw(om,b);Pv([kl],m,I),Pv([Sv],null,I)}var d1=Ki({DISABLED:0,CRITICAL:1,WARNING:2,DEBUG:3}),_g="",f1="https://browser.events.data.microsoft.com/OneCollector/1.0/",zw="version",Hy="properties",XC="initialize",QC="logger",Uw="indexOf",bg="timings",a0="pollInternalLogs",ea="value",op="kind",ta="length",c0="processTelemetryStart",u0="handleField",l0="rmSanitizer",T="rmFieldSanitizer",L="canHandle",B,X="4.0.4",se="1DS-Web-JS-"+X,Se=s.hasOwnProperty,Te="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Xe="withCredentials",lt="timeout",gt=(B={},B[0]=0,B[2]=6,B[1]=1,B[3]=7,B[4098]=6,B[4097]=1,B[4099]=7,B),jt=null,Rr=nc(),wr=va();function Lt(m){return!(m===_g||tt(m))}function Rt(m){if(m){var b=Xs(m,"-");if(b>-1)return Sn(m,b)}return _g}function qt(){return jt===null&&(jt=!at(Uint8Array)&&!Io()&&!Vh()),jt}function Et(m){return!!(m&&ln(m)&&m>=1&&m<=4)}function ur(m,b,I){if(!b&&!Lt(b)||typeof m!="string")return null;var j=typeof b;if(j==="string"||j==="number"||j==="boolean"||Mt(b))b={value:b};else if(j==="object"&&!Se.call(b,"value"))b={value:I?JSON.stringify(b):b};else if(tt(b[ea])||b[ea]===_g||!cr(b[ea])&&!ln(b[ea])&&!On(b[ea])&&!Mt(b[ea]))return null;if(Mt(b[ea])&&!zs(b[ea]))return null;if(!tt(b[op])){if(Mt(b[ea])||!ho(b[op]))return null;b[ea]=b[ea].toString()}return b}function nr(m,b,I){var j=-1;if(!at(m))if(b>0&&(b===32?j=8192:b<=13&&(j=b<<5)),Jo(I))j===-1&&(j=0),j|=I;else{var $=gt[eo(m)]||-1;j!==-1&&$!==-1?j|=$:$===6&&(j=$)}return j}function yr(m,b,I){I===void 0&&(I=!0);var j;return m&&(j=m.get(b),I&&j&&decodeURIComponent&&(j=decodeURIComponent(j))),j||_g}function hn(m){m===void 0&&(m="D");var b=Qr();return m==="B"?b="{"+b+"}":m==="P"?b="("+b+")":m==="N"&&(b=b.replace(/-/g,_g)),b}function pi(m,b,I,j,$){var ie={},ge=!1,Ie=0,Be=arguments[ta],et=arguments;for(On(et[0])&&(ge=et[0],Ie++);Ie<Be;Ie++){var m=et[Ie];Gr(m,function(wt,ot){ge&&ot&&hr(ot)?Mt(ot)?(ie[wt]=ie[wt]||[],Xn(ot,function(_t,it){_t&&hr(_t)?ie[wt][it]=pi(!0,ie[wt][it],_t):ie[wt][it]=_t})):ie[wt]=pi(!0,ie[wt],ot):ie[wt]=ot})}return ie}var ci=qd;function ho(m){return m===0||m>0&&m<=13||m===32}function Jo(m){return m>=0&&m<=9}function Io(){var m=Oc();if(!at(m)&&m.userAgent){var b=m.userAgent.toLowerCase();if((b[Uw]("safari")>=0||b[Uw]("firefox")>=0)&&b[Uw]("chrome")<0)return!0}return!1}function zs(m){return m[ta]>0}function yc(m,b){var I=m;I[bg]=I[bg]||{},I[bg][c0]=I[bg][c0]||{},I[bg][c0][b]=ci()}function eo(m){var b=0;if(m!=null){var I=typeof m;I==="string"?b=1:I==="number"?b=2:I==="boolean"?b=3:I===t&&(b=4,Mt(m)?(b=4096,m[ta]>0&&(b|=eo(m[0]))):Se.call(m,"value")&&(b=8192|eo(m[ea])))}return b}function qc(){return!!Fi("chrome")}function jc(m,b,I,j,$,ie){j===void 0&&(j=!1),$===void 0&&($=!1);function ge(Be,et,Ve){try{Be[et]=Ve}catch{}}var Ie=new XMLHttpRequest;return j&&ge(Ie,Te,j),I&&ge(Ie,Xe,I),Ie.open(m,b,!$),I&&ge(Ie,Xe,I),!$&&ie&&ge(Ie,lt,ie),Ie}function pa(m){return m>0}var Al=ft({endpointUrl:f1,propertyStorageOverride:{isVal:ba}});function ba(m){return m&&(!m.getProperty||!m.setProperty)&&oi("Invalid property storage override passed."),!0}var wa=function(m){wl(b,m);function b(){var I=m.call(this)||this;return da(b,I,function(j,$){j[XC]=function(ie,ge,Ie,Be){In(j,function(){return"AppInsightsCore.initialize"},function(){try{$[XC](pc(ie,Al,Ie||j[QC],!1).cfg,ge,Ie,Be)}catch(wt){var et=j[QC],Ve=Pe(wt);Ve[Uw]("channels")!==-1&&(Ve+=`
 - Channels must be provided through config.channels only!`),af(et,1,514,"SDK Initialization Failed - no telemetry will be sent: "+Ve)}},function(){return{config:ie,extensions:ge,logger:Ie,notificationManager:Be}})},j.track=function(ie){In(j,function(){return"AppInsightsCore.track"},function(){var ge=ie;if(ge){ge[bg]=ge[bg]||{},ge[bg].trackStart=ci(),Et(ge.latency)||(ge.latency=1);var Ie=ge.ext=ge.ext||{};Ie.sdk=Ie.sdk||{},Ie.sdk.ver=se;var Be=ge.baseData=ge.baseData||{};Be[Hy]=Be[Hy]||{};var et=Be[Hy];et[zw]=et[zw]||j.pluginVersionString||_g}$.track(ge)},function(){return{item:ie}},!ie.sync)},j[a0]=function(ie){return $[a0](ie||"InternalLog")}}),I}return b.__ieDyn=1,b}(wv),Ci=Ki({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),io=Ki({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),hd=Ki({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),sb=Ki({Normal:1,Critical:2}),am=Ki({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),cm=function(){function m(b){var I=this,j={},$=[],ie=[];b&&ie.push(b);function ge(Ve,wt){var ot,_t=j[Ve];if(_t&&(ot=_t[wt]),!ot&&ot!==null){if(cr(Ve)&&cr(wt))if(ie[ta]>0){for(var it=0;it<ie[ta];it++)if(ie[it][u0](Ve,wt)){ot={canHandle:!0,fieldHandler:ie[it]};break}}else $[ta]===0&&(ot={canHandle:!0});if(!ot&&ot!==null){ot=null;for(var it=0;it<$[ta];it++)if($[it][u0](Ve,wt)){ot={canHandle:!0,handler:$[it],fieldHandler:null};break}}_t||(_t=j[Ve]={}),_t[wt]=ot}return ot}I.clearCache=function(){j={}},I.addSanitizer=function(Ve){Ve&&(Js($,Ve)||$.push(Ve),j={})},I.addFieldSanitizer=function(Ve){Ve&&(Js(ie,Ve)||ie.push(Ve),j={})},I[l0]=function(Ve){if(Ve){var wt=Ys($,Ve);wt!==-1&&($.splice(wt,1),j={}),Xn($,function(ot){ot&&ot[l0]&&ot[l0](Ve)})}},I[T]=function(Ve){if(Ve){var wt=Ys(ie,Ve);wt!==-1&&(ie.splice(wt,1),j={}),Xn($,function(ot){ot&&ot[T]&&ot[T](Ve)})}},I.isEmpty=function(){return zh($)+zh(ie)===0},I[u0]=function(Ve,wt){var ot=ge(Ve,wt);return ot?ot[L]:!1},I[ea]=function(Ve,wt,ot,_t){var it=ge(Ve,wt);if(it&&it[L]){if(!it||!it[L])return null;if(it.handler)return it.handler[ea](Ve,wt,ot,_t);if(!cr(wt)||tt(ot)||ot===_g)return null;var Qt=null,Vt=eo(ot);if((Vt&8192)===8192){var _r=Vt&-8193;if(Qt=ot,!Lt(Qt[ea])||_r!==1&&_r!==2&&_r!==3&&(_r&4096)!==4096)return null}else Vt===1||Vt===2||Vt===3||(Vt&4096)===4096?Qt=Be(Ve,wt,ot):Vt===4&&(Qt=Be(Ve,wt,_t?JSON.stringify(ot):ot));if(Qt)return Ie(it,Ve,wt,Vt,Qt,_t)}return null},I.property=function(Ve,wt,ot,_t){var it=ge(Ve,wt);if(!it||!it[L]||!cr(wt)||tt(ot)||!Lt(ot[ea]))return null;var Qt=eo(ot[ea]);return Qt===0?null:Ie(it,Ve,wt,Qt,ot,_t)};function Ie(Ve,wt,ot,_t,it,Qt){if(Ve.handler)return Ve.handler.property(wt,ot,it,Qt);if(!tt(it[op])){if((_t&4096)===4096||!ho(it[op]))return null;it[ea]=it[ea].toString()}return et(Ve.fieldHandler,wt,ot,_t,it)}function Be(Ve,wt,ot){return Lt(ot)?{value:ot}:null}function et(Ve,wt,ot,_t,it){if(it&&Ve){var Qt=Ve.getSanitizer(wt,ot,_t,it[op],it.propertyType);if(Qt)if(_t===4){var Vt={},_r=it[ea];Gr(_r,function(Ir,Mn){var Ii=wt+"."+ot;if(Lt(Mn)){var ko=Be(Ii,Ir,Mn);ko=et(Ve,Ii,Ir,eo(Mn),ko),ko&&(Vt[Ir]=ko[ea])}}),it[ea]=Vt}else{var Pr={path:wt,name:ot,type:_t,prop:it,sanitizer:I};it=Qt.call(I,Pr)}}return it}}return m.getFieldType=eo,m}();r.AppInsightsCore=wa,r.BaseTelemetryPlugin=$C,r.DiagnosticLogger=fg,r.EventLatency=io,r.EventPersistence=sb,r.EventPropertyType=hd,r.EventsDiscardedReason=Lf,r.FullVersionString=se,r.InternalAppInsightsCore=wv,r.LoggingSeverity=d1,r.MinChannelPriorty=Tl,r.NotificationManager=_e,r.PerfEvent=Kt,r.PerfManager=Ar,r.ProcessTelemetryContext=bv,r.TraceLevel=am,r.Undefined=n,r.ValueKind=Ci,r.ValueSanitizer=cm,r.Version=X,r._InternalLogMessage=Zh,r.__getRegisteredEvents=Nw,r._logInternalMessage=ad,r._throwInternal=af,r._warnToConsole=Sw,r.addEventHandler=yg,r.addEventListeners=jw,r.addPageHideEventListener=o0,r.addPageShowEventListener=s0,r.addPageUnloadEventListener=xv,r.areCookiesSupported=vv,r.arrForEach=Xn,r.arrIndexOf=Ys,r.arrMap=Wl,r.arrReduce=Du,r.attachEvent=Ev,r.blockDynamicConversion=Fa,r.cookieAvailable=vv,r.createCookieMgr=em,r.createDynamicConfig=pc,r.createEnumStyle=Ki,r.createGuid=hn,r.createProcessTelemetryContext=qu,r.createTraceParent=Ly,r.createUniqueNamespace=td,r.createUnloadHandlerContainer=nl,r.dateNow=Ic,r.detachEvent=n0,r.disallowsSameSiteNone=k,r.doPerf=In,r.dumpObj=Pe,r.eventOff=sm,r.eventOn=za,r.extend=pi,r.findW3cTraceParent=hi,r.forceDynamicConversion=Yh,r.formatTraceParent=un,r.generateW3CId=Zn,r.getCommonSchemaMetaData=nr,r.getConsole=tf,r.getCookieValue=yr,r.getCrypto=Zm,r.getDocument=ic,r.getDynamicConfigHandler=Xp,r.getExceptionName=wy,r.getFieldValueType=eo,r.getGlobal=yl,r.getGlobalInst=Fi,r.getHistory=Cu,r.getIEVersion=_w,r.getISOString=Nf,r.getJSON=Yp,r.getLocation=$h,r.getMsCrypto=jf,r.getNavigator=Oc,r.getPerformance=xf,r.getSetValue=Qd,r.getTenantId=Rt,r.getTime=ci,r.getWindow=_l,r.hasDocument=nc,r.hasHistory=sa,r.hasJSON=Qm,r.hasNavigator=kh,r.hasOwnProperty=Vr,r.hasWindow=va,r.isArray=Mt,r.isArrayValid=zs,r.isBeaconsSupported=hc,r.isBoolean=On,r.isChromium=qc,r.isDate=nn,r.isDocumentObjectAvailable=Rr,r.isError=Or,r.isFetchSupported=Ty,r.isFunction=xt,r.isGreaterThanZero=pa,r.isIE=eg,r.isLatency=Et,r.isNotTruthy=$r,r.isNullOrUndefined=tt,r.isNumber=ln,r.isObject=hr,r.isReactNative=Vh,r.isSampledFlag=or,r.isString=cr,r.isTruthy=dn,r.isTypeof=st,r.isUint8ArrayAvailable=qt,r.isUndefined=at,r.isValidSpanId=My,r.isValidTraceId=ep,r.isValidTraceParent=Ny,r.isValueAssigned=Lt,r.isValueKind=ho,r.isWindowObjectAvailable=wr,r.isXhrSupported=ov,r.mergeEvtNamespace=qw,r.newGuid=Qr,r.newId=Ry,r.normalizeJsName=Xd,r.objDefineAccessors=Le,r.objForEachKey=Gr,r.objFreeze=Yt,r.objKeys=Je,r.objSeal=rr,r.onConfigChange=ag,r.openXhr=jc,r.optimizeObject=Jm,r.parseTraceParent=dd,r.perfNow=qd,r.proxyAssign=Sy,r.proxyFunctionAs=Rl,r.proxyFunctions=tv,r.random32=sf,r.randomValue=qC,r.removeEventHandler=Rv,r.removeEventListeners=Pv,r.removePageHideEventListener=ob,r.removePageShowEventListener=l1,r.removePageUnloadEventListener=i0,r.safeGetCookieMgr=X_,r.safeGetLogger=pv,r.sanitizeProperty=ur,r.setEnableEnvMocks=Kp,r.setProcessTelemetryTimings=yc,r.setValue=dc,r.strContains=qs,r.strEndsWith=Of,r.strFunction=e,r.strObject=t,r.strPrototype=i,r.strStartsWith=rs,r.strTrim=aa,r.strUndefined=n,r.throwError=oi,r.toISOString=Nf,r.useXDomainRequest=rf})});var HSe=C((tz,USe)=>{(function(r,e){typeof tz=="object"&&typeof USe<"u"?e(tz):typeof define=="function"&&define.amd?define(["exports"],e):(r=typeof globalThis<"u"?globalThis:r||self,e(r.oneDS=r.oneDS||{}))})(tz,function(r){"use strict";var e="REAL_TIME",t="NEAR_REAL_TIME",n="BEST_EFFORT",i="function",o="object",s="undefined",a="prototype",c=Object,u=c[a],l=void 0,d=null,f="",p="boolean",_="function",D="number",P="object",M="prototype",A="__proto__",U="string",ne="undefined",pe="constructor",ve="Symbol",V="_polyfill",W="indexOf",ee="length",De="done",ae="value",ue="name",Fe="slice",Me=Object,ce=Me[M],Ce=String,be=Ce[M],xe=Math,Ne=Array,$e=Ne[M];function Ct(T,L){var B=L;try{B=T()}catch{}return B}function ze(T){return function(L){return typeof L===T}}function st(T){var L="[object "+T+"]";return function(B){return!!(B&&at(B)===L)}}function at(T){return ce.toString.call(T)}function tt(T){return typeof T===ne||T===ne}function fr(T){return T===d||tt(T)}function Lr(T){return T===d||!zr(T)}function zr(T){return!!T||T!==l}var cr=ze(U),xt=ze(_);function hr(T){return!T&&fr(T)?!1:!!T&&typeof T===P}var Mt=Ne.isArray,nn=ze(D),ln=ze(p),On=st("Error");function Or(T){return!!T&&xt(T.then)}var Hn=Me.getOwnPropertyDescriptor;function $r(T,L){return T&&ce.hasOwnProperty.call(T,L)}var dn=Me.hasOwn||ii;function ii(T,L){return $r(T,L)||!!Hn(T,L)}function Vr(T,L,B){if(T&&hr(T)){for(var X in T)if(dn(T,X)&&L.call(B||T,X,T[X])===-1)break}}function An(T,L,B,X){var se={};return Vr(T,function(Se,Te){se[Se]=L?Te:Se,se[Te]=B?Te:Se}),X(se)}function xi(T){throw new TypeError(T)}var Gr=Me.freeze,Qi=function(T){return T},oi=function(T){return T[A]||d},fn=Me.assign;function Oe(T){return(!hr(T)||T===d)&&xi("objKeys called on non-object"),Me.keys(T)}function oe(T){return Gr&&Vr(T,function(L,B){(Mt(B)||hr(B))&&Gr(B)}),Q(T)}var Q=Gr||Qi,we=Me.getPrototypeOf||oi;function Je(T){return An(T,1,0,oe)}function ft(T){return An(T,0,0,oe)}var Yt=ft({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),rr=Ce,Jt="__tsUtils$gblCfg",$t;function kt(){var T;return typeof globalThis!==ne&&(T=globalThis),!T&&typeof self!==ne&&(T=self),!T&&typeof window!==ne&&(T=window),!T&&typeof global!==ne&&(T=global),T}function K(){if(!$t){var T=kt()||{};$t=T[Jt]=T[Jt]||{}}return $t}function qe(T,L){var B=f;if(On(T))B="{ stack: '"+T.stack+"', message: '"+T.message+"', name: '"+T.name+"'";else try{B=JSON.stringify(T,d,L?nn(L)?L:4:l)}catch(X){B=" - "+qe(X,L)}return at(T)+": "+B}var Ht=$e[Fe],Dr=function(T,L){xi("'"+rr(T)+"' not defined for "+qe(L))},He=function(T){return function(L){return L[T].apply(L,Ht.call(arguments,1))}},re=function(T,L){var B=L&&L[T];return function(X){var se=X&&X[T]||B;if(se)return se.apply(X,Ht.call(arguments,1));Dr(T,X)}},Pe=function(T,L,B){var X=L&&L[T];return function(se){var Se=se&&se[T]||X;if(Se||B){var Te=arguments;return(Se||B).apply(se,Se?Ht.call(Te,1):Te)}Dr(T,se)}},je=xe.max,fe=re(Fe,be),S=re("substring",be),de=Pe("substr",be,Ye);function Ye(T,L,B){return fr(T)&&xi("'polyStrSubstr called with invalid "+qe(T)),B<0?f:(L=L||0,L<0&&(L=je(L+T[ee],0)),tt(B)?fe(T,L):fe(T,L,L+B))}function Tr(T,L){return S(T,0,L)}var Wr=Pe("startsWith",be,Xr);function Xr(T,L,B){cr(T)||xi("'"+qe(T)+"' is not a string");var X=cr(L)?L:rr(L),se=X[ee],Se=B>0?B:0;return S(T,Se,Se+se)===X}var qn="_urid",Oi;function Ms(){if(!Oi){var T=K();Oi=T.gblSym=T.gblSym||{k:{},s:{}}}return Oi}var Sn={};function rs(T){var L={description:rr(T),toString:function(){return ve+"("+T+")"}};return L[V]=!0,L}function Vs(T){var L=Ms();if(!dn(L.k,T)){var B=rs(T),X=Oe(L.s).length;B[qn]=function(){return X+"_"+B.toString()},L.k[T]=B,L.s[B[qn]()]=rr(T)}return L.k[T]}function oa(T){var L,B=Yt[T];return B&&(L=Sn[B]=Sn[B]||rs(ve+"."+B)),L}var jo={e:"enumerable",c:"configurable",v:ae,w:"writable",g:"get",s:"set"};function Ro(T){var L={};if(L[jo.c]=!0,L[jo.e]=!0,T.l){L.get=function(){return T.l.v};var B=Hn(T.l,"v");B&&B.set&&(L.set=function(X){T.l.v=X})}return Vr(T,function(X,se){L[jo[X]]=tt(se)?L[jo[X]]:se}),L}var H=Me.defineProperty;function Ue(T,L,B){return H(T,L,Ro(B))}var vt,Fr=function(){vt=K(),Fr=d};function ao(T){var L={};return Fr&&Fr(),L.b=vt.lzy,H(L,"v",{configurable:!0,get:function(){var B=T();return vt.lzy||(H(L,"v",{value:B}),L.b&&delete L.b),vt.lzy&&L.b!==vt.lzy&&(L.b=vt.lzy),B}}),L}function $i(T,L){return ao(function(){return Ct(T,L)})}var N="window",Le,rt,zt,Ln,Cn,Nn=function(T){return $i(function(){return Ui(T)||l},l)},co=function(T){return(!Le||T===!1||vt&&vt.lzy&&!Le.b)&&(Le=$i(kt,d)),Le.v},Ui=function(T,L){var B=!Le||L===!1?co(L):Le.v;return B&&B[T]?B[T]:T===N&&rt?rt.v:d},Po=function(){return!!Gi()},Gi=function(){return(!zt||vt&&vt.lzy&&!zt.b)&&(zt=Nn("document")),zt.v},Jn=function(){return!!Su()},Su=function(){return(!rt||vt&&vt.lzy&&!rt.b)&&(rt=Nn(N)),rt.v},ns=function(){return!!_o()},_o=function(){return(!Ln||vt&&vt.lzy&&!Ln.b)&&(Ln=Nn("navigator")),Ln.v},yl=function(){return!Cn&&(Cn=$i(function(){return!!(process&&(process.versions||{}).node)},!1)),Cn.v},Fi,nc,ic;function va(T){return $i(function(){return Fi.v?Fi.v[T]:l},l)}function _l(){return!!kh()}function kh(){var T=!Fi||vt&&vt.lzy&&!Fi.b;return T&&(Fi=Nn(ve)),(!nc||T)&&(nc=va("for")),(!ic||T)&&(ic=va("keyFor")),Fi.v}function Oc(T,L){var B=Yt[T];return(!Fi||vt.lzy&&!Fi.b)&&kh(),Fi.v?Fi.v[B||T]:L?l:oa(T)}function sa(T,L){return(!Fi||vt.lzy&&!Fi.b)&&kh(),Fi.v?Fi.v(T):L?d:rs(T)}function Cu(T){return(!nc||vt.lzy&&!Fi.b)&&kh(),(nc.v||Vs)(T)}function Ah(T){return!!T&&xt(T.next)}function Wo(T){return!Lr(T)&&xt(T[Oc(3)])}var Gs;function Dn(T,L,B){if(T&&(Ah(T)||(!Gs&&(Gs=ao(function(){return Oc(3)})),T=T[Gs.v]?T[Gs.v]():null),Ah(T))){var X=void 0,se=void 0;try{for(var Se=0;!(se=T.next())[De]&&L.call(B||T,se[ae],Se,T)!==-1;)Se++}catch(Te){X={e:Te},T.throw&&(se=null,T.throw(X))}finally{try{se&&!se[De]&&T.return&&T.return(se)}finally{if(X)throw X.e}}}}var Ks=He("apply");function Tu(T,L){return!tt(L)&&T&&(Mt(L)?Ks(T.push,T,L):Ah(L)||Wo(L)?Dn(L,function(B){T.push(B)}):T.push(L)),T}function si(T,L,B){if(T)for(var X=T[ee]>>>0,se=0;se<X&&!(se in T&&L.call(B||T,T[se],se,T)===-1);se++);}var Ia=re(W,$e),iu=re(Fe,$e),Lh=He("call"),Cf=Me.create,Pp=Cf||Tf;function Tf(T){if(!T)return{};var L=typeof T;if(L!==P&&L!==_)throw new TypeError("Prototype must be an Object or function: "+qe(T));function B(){}return B[M]=T,new B}var xp;function Df(T,L){var B=Me.setPrototypeOf||function(X,se){!xp&&(xp=ao(function(){var Se;return Se={},Se[A]=[],Se instanceof Array})),xp.v?X[A]=se:Vr(se,function(Se,Te){return X[Se]=Te})};return B(T,L)}var Bl=function(T,L,B){Ys(L,T),L=Df(L,B);function X(){this.constructor=L,Ys(this,T)}return L[M]=B===d?Pp(B):(X[M]=B[M],new X),L},Xn=function(T,L){try{L&&(T[ue]=L)}catch{}},Ys=function(T,L){try{Ue(T,ue,{v:L,c:!0,e:!1})}catch{}};function Wl(T,L,B){var X=B||Error,se=X[M][ue],Se=Error.captureStackTrace;return Bl(T,function(){var Te=this;try{Xn(X,T);var Xe=Ks(X,Te,iu(arguments))||Te;if(Xe!==Te){var lt=we(Te);lt!==we(Xe)&&Df(Xe,lt)}return Se&&Se(Xe,Te[pe]),L&&L(Xe,arguments),Xe}finally{Xn(X,se)}},X)}function uo(){return(Date.now||Mh)()}function Mh(){return new Date().getTime()}function Nh(T){return function(B){return fr(B)&&xi("strTrim called ["+qe(B)+"]"),B&&B.replace&&(B=B.replace(T,f)),B}}var Js=Nh(/^\s+|(?=\s)\s+$/g),Du=Pe("trim",be,Js),Fh,Ld,Ds;function $l(T){if(!T||typeof T!==P)return!1;Ds||(Ds=Jn()?Su():!0);var L=!1;if(T!==Ds){Ld||(Fh=Function[M].toString,Ld=Lh(Fh,Me));try{var B=we(T);L=!B,L||($r(B,pe)&&(B=B[pe]),L=B&&typeof B===_&&Fh.call(B)===Ld)}catch{}}return L}var ou;function jm(){return(!ou||!ou.b&&vt&&vt.lzy)&&(ou=Nn("performance")),ou.v}function Md(){var T=jm();return T&&T.now?T.now():uo()}var Ef=re(W,be),Rf="ref",Ic="un"+Rf,bo="hasRef",Op="enabled";function Pf(T,L,B){var X,se=!0,Se=T?L(d):d,Te,Xe=function(){return se=!1,Se&&Se[Ic]&&Se[Ic](),Te},lt=function(){return se=!0,Se&&Se[Rf]&&Se[Rf](),Te},gt=function(){return Se&&Se[bo]?Se[bo]():se},jt=function(){return Se=L(Se),se||Xe(),Te},Rr=function(){Se&&B(Se),Se=d},wr=function(Lt){!Lt&&Se&&Rr(),Lt&&!Se&&jt()};return Te=(X={cancel:Rr,refresh:jt},X[bo]=gt,X[Rf]=lt,X[Ic]=Xe,X[Op]=!1,X),H(Te,Op,{get:function(){return!!Se},set:wr}),{h:Te,dn:function(){Se=d}}}function aa(T,L,B,X){var se=Mt(B),Se=se?B.length:0,Te=(Se>0?B[0]:se?l:B)||setTimeout,Xe=(Se>1?B[1]:l)||clearTimeout,lt=X[0];X[0]=function(){gt.dn(),Ks(lt,T,iu(arguments))};var gt=Pf(L,function(jt){if(jt){if(jt.refresh)return jt.refresh(),jt;Ks(Xe,T,[jt])}return Ks(Te,T,X)},function(jt){Ks(Xe,T,[jt])});return gt.h}function bl(T,L){return aa(this,!0,l,iu(arguments))}function Eu(T,L,B){return aa(this,!0,T,iu(arguments,1))}(co()||{}).Symbol,(co()||{}).Reflect;var gy="hasOwnProperty",ca=function(T,L){return ca=c.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,X){B.__proto__=X}||function(B,X){for(var se in X)X[gy](se)&&(B[se]=X[se])},ca(T,L)};function M_(T,L){typeof L!==i&&L!==null&&xi("Class extends value "+String(L)+" is not a constructor or null"),ca(T,L);function B(){this.constructor=T}T[a]=L===null?Pp(L):(B[a]=L[a],new B)}var Ku,Nd="constructor",$o="prototype",Vl="function",qh="_dynInstFuncs",Jg="_isDynProxy",Fd="_dynClass",jh="_dynCls$",Ip="_dynInstChk",Gl=Ip,kp="_dfOpts",Yu="_unknown_",zh="__proto__",Ru="_dyn"+zh,xf="__dynProto$Gbl",qd="_dynInstProto",Of="useBaseInst",jd="setInstFuncs",Xs=Object,ka=Xs.getPrototypeOf,xo=Xs.getOwnPropertyNames,su=co(),oc=su[xf]||(su[xf]={o:(Ku={},Ku[jd]=!0,Ku[Of]=!0,Ku),n:1e3});function Xg(T){return T&&(T===Xs[$o]||T===Array[$o])}function Ju(T){return Xg(T)||T===Function[$o]}function Qs(T){var L;if(T){if(ka)return ka(T);var B=T[zh]||T[$o]||(T[Nd]?T[Nd][$o]:null);L=T[Ru]||B,$r(T,Ru)||(delete T[qd],L=T[Ru]=T[qd]||T[Ru],T[qd]=B)}return L}function Kl(T,L){var B=[];if(xo)B=xo(T);else for(var X in T)typeof X=="string"&&$r(T,X)&&B.push(X);if(B&&B.length>0)for(var se=0;se<B.length;se++)L(B[se])}function Ap(T,L,B){return L!==Nd&&typeof T[L]===Vl&&(B||$r(T,L))}function Pu(T){xi("DynamicProto: "+T)}function wl(T){var L={};return Kl(T,function(B){!L[B]&&Ap(T,B,!1)&&(L[B]=T[B])}),L}function Uh(T,L){for(var B=T.length-1;B>=0;B--)if(T[B]===L)return!0;return!1}function kc(T,L,B,X){function se(lt,gt,jt){var Rr=gt[jt];if(Rr[Jg]&&X){var wr=lt[qh]||{};wr[Gl]!==!1&&(Rr=(wr[gt[Fd]]||{})[jt]||Rr)}return function(){return Rr.apply(lt,arguments)}}var Se={};Kl(B,function(lt){Se[lt]=se(L,B,lt)});for(var Te=Qs(T),Xe=[];Te&&!Ju(Te)&&!Uh(Xe,Te);)Kl(Te,function(lt){!Se[lt]&&Ap(Te,lt,!ka)&&(Se[lt]=se(L,Te,lt))}),Xe.push(Te),Te=Qs(Te);return Se}function Xu(T,L,B,X){var se=null;if(T&&$r(B,Fd)){var Se=T[qh]||{};if(se=(Se[B[Fd]]||{})[L],se||Pu("Missing ["+L+"] "+Vl),!se[Ip]&&Se[Gl]!==!1){for(var Te=!$r(T,L),Xe=Qs(T),lt=[];Te&&Xe&&!Ju(Xe)&&!Uh(lt,Xe);){var gt=Xe[L];if(gt){Te=gt===X;break}lt.push(Xe),Xe=Qs(Xe)}try{Te&&(T[L]=se),se[Ip]=1}catch{Se[Gl]=!1}}}return se}function Es(T,L,B){var X=L[T];return X===B&&(X=Qs(L)[T]),typeof X!==Vl&&Pu("["+T+"] is not a "+Vl),X}function au(T,L,B,X,se){function Se(lt,gt){var jt=function(){var Rr=Xu(this,gt,lt,jt)||Es(gt,lt,jt);return Rr.apply(this,arguments)};return jt[Jg]=1,jt}if(!Xg(T)){var Te=B[qh]=B[qh]||{},Xe=Te[L]=Te[L]||{};Te[Gl]!==!1&&(Te[Gl]=!!se),Kl(B,function(lt){Ap(B,lt,!1)&&B[lt]!==X[lt]&&(Xe[lt]=B[lt],delete B[lt],(!$r(T,lt)||T[lt]&&!T[lt][Jg])&&(T[lt]=Se(T,lt)))})}}function Qu(T,L){if(ka){for(var B=[],X=Qs(L);X&&!Ju(X)&&!Uh(B,X);){if(X===T)return!0;B.push(X),X=Qs(X)}return!1}return!0}function Zu(T,L){return $r(T,$o)?T.name||L||Yu:((T||{})[Nd]||{}).name||L||Yu}function ua(T,L,B,X){$r(T,$o)||Pu("theClass is an invalid class definition.");var se=T[$o];Qu(se,L)||Pu("["+Zu(T)+"] not in hierarchy of ["+Zu(L)+"]");var Se=null;$r(se,Fd)?Se=se[Fd]:(Se=jh+Zu(T,"_")+"$"+oc.n,oc.n++,se[Fd]=Se);var Te=ua[kp],Xe=!!Te[Of];Xe&&X&&X[Of]!==void 0&&(Xe=!!X[Of]);var lt=wl(L),gt=kc(se,L,lt,Xe);B(L,gt);var jt=!!ka&&!!Te[jd];jt&&X&&(jt=!!X[jd]),au(se,Se,L,lt,jt!==!1)}ua[kp]=oc.o;var Qg=Je,sc=Qg({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5}),Sl="toLowerCase",Vo="blkVal",Go="length",If="rdOnly",el="notify",kf="warnToConsole",zo="throwInternal",Yl="setDf",Af="watch",ya="logger",xu="apply",la="push",Ns="splice",Jl="hdlr",vy="cancel",vs="initialize",cu="identifier",Cl="isInitialized",Hh="getPlugin",zd="name",Lp="time",ac="processNext",zm="getProcessTelContext",Hi="unload",is="loggingLevelConsole",tl="createNew",Ac="teardown",Lc="messageId",da="message",Tl="isAsync",Ki="diagLog",Lf="_doTeardown",wi="update",Aa="getNext",Bn="setNextPlugin",Ud="userAgent",Xl="split",Mc="nodeType",Ko="replace",cc="logInternalMessage",fa="type",lo="handler",Ou="isChildEvt",Fn="getCtx",uu="setCtx",Oo="complete",ai;function Ql(T,L){ai||(ai=Wl("AggregationError",function(X,se){se[Go]>1&&(X.errors=se[1])}));var B=T||"One or more errors occurred.";throw si(L,function(X,se){B+=`
`.concat(se," > ").concat(qe(X))}),new ai(B,L||[])}var La=["pending","resolving","resolved","rejected"],_a="dispatchEvent",ha;function Zl(T,L,B,X){var se=Gi();!ha&&(ha=$i(function(){var lt;return se&&se.createEvent&&(lt=se.createEvent("Event")),!!lt&&lt.initEvent},null));var Se=ha.v?se.createEvent("Event"):X?new Event(L):{};if(B&&B(Se),ha.v&&Se.initEvent(L,!1,!0),Se&&T[_a])T[_a](Se);else{var Te=T["on"+L];if(Te)Te(Se);else{var Xe=Ui("console");Xe&&(Xe.error||Xe.log)(L,qe(Se))}}}var uc="Promise",Hd="unhandledRejection",Rs=Hd.toLowerCase(),lu=10,Dl;function ed(T){return xt(T)?T.toString():qe(T)}function Bd(T,L,B){var X=iu(arguments,3),se=0,Se=!1,Te,Xe=[],lt=!1,gt=null,jt;!Dl&&(Dl=Nn(uc+"RejectionEvent"));var Rr=function(yr,hn){try{lt=!0,gt&&gt.cancel(),gt=null;var pi=T(function(ci,ho){Xe.push(function(){try{var Jo=se===2?yr:hn,Io=tt(Jo)?Te:xt(Jo)?Jo(Te):Jo;Or(Io)?Io.then(ci,ho):Jo?ci(Io):se===3?ho(Io):ci(Io)}catch(zs){ho(zs)}}),Se&&qt()},X);return pi}finally{}},wr=function(yr){return Rr(void 0,yr)},Lt=function(yr){var hn=yr,pi=yr;return xt(yr)&&(hn=function(ci){return yr&&yr(),ci},pi=function(ci){throw yr&&yr(),ci}),Rr(hn,pi)},Rt=function(){return La[se]},qt=function(){if(Xe.length>0){var yr=Xe.slice();Xe=[],lt=!0,L(yr),gt&&gt.cancel(),gt=null}},Et=function(yr,hn){return function(pi){if(se===hn){if(yr===2&&Or(pi)){se=1,pi.then(Et(2,1),Et(3,1));return}se=yr,Se=!0,Te=pi,qt(),!lt&&yr===3&&!gt&&(gt=bl(ur,lu))}}},ur=function(){if(!lt)if(yl())process.emit(Hd,Te,jt);else{var yr=Su()||co();Zl(yr,Rs,function(hn){return Ue(hn,"promise",{g:function(){return jt}}),hn.reason=Te,hn},!!Dl.v)}};jt={then:Rr,catch:wr,finally:Lt},H(jt,"state",{get:Rt}),_l()&&(jt[Oc(11)]="IPromise");var nr=function(){return"IPromise "+Rt()+(Se?" - "+ed(Te):"")};return jt.toString=nr,function(){xt(B)||xi(uc+": executor is not a function - "+ed(B));var hn=Et(3,0);try{B.call(jt,Et(2,0),hn)}catch(pi){hn(pi)}}(),jt}var g=function(T){si(T,function(L){try{L()}catch{}})};function v(T){var L=nn(T)?T:0;return function(B){bl(function(){g(B)},L)}}function R(T,L){return Bd(R,v(L),T,L)}var O;function F(T,L){!O&&(O=Nn(uc));var B=O.v;if(!B)return R(T);xt(T)||xi(uc+": executor is not a function - "+qe(T));var X=0;function se(){return La[X]}var Se=new B(function(Te,Xe){function lt(jt){X=2,Te(jt)}function gt(jt){X=3,Xe(jt)}T(lt,gt)});return H(Se,"state",{get:se}),Se}var J;function Z(T,L){return!J&&(J=ao(function(){return F})),J.v.call(this,T,L)}var he=void 0,ke="",Qe="core",ht="disabled",Ut="extensionConfig",Sr="processTelemetry",an="priority",jr="getPerfMgr",Wn="Not dynamic - ",Zs=/-([a-z])/g,lc=/([^\w\d_$])/g,Iu=/^(\d+[\w\d_$])/;function Mp(T){return!fr(T)}function Um(T){var L=T;return L&&cr(L)&&(L=L[Ko](Zs,function(B,X){return X.toUpperCase()}),L=L[Ko](lc,"_"),L=L[Ko](Iu,function(B,X){return"_"+X})),L}function Ma(T,L){return T&&L?Ef(T,L)!==-1:!1}function Np(T,L){var B=null,X=null;return xt(T)?B=T:X=T,function(){var se=arguments;if(B&&(X=B()),X)return X[L][xu](X,se)}}function Bh(T,L,B,X,se){T&&L&&B&&(se!==!1||tt(T[L]))&&(T[L]=Np(B,X))}function Wd(T,L,B,X){return T&&L&&hr(T)&&Mt(B)&&si(B,function(se){cr(se)&&Bh(T,se,L,se,X)}),T}function ku(T){return T&&fn&&(T=c(fn({},T))),T}var Zg="location",N_="console",Fp="JSON",qp="crypto",F_="msCrypto",q_="ReactNative",j_="msie",vw="trident/",Hm="XMLHttpRequest",yy=null,z_=null,U_=!1,Bm=null,jp=null;function yw(T,L){var B=!1;if(T){try{if(B=L in T,!B){var X=T[a];X&&(B=L in X)}}catch{}if(!B)try{var se=new T;B=!tt(se[L])}catch{}}return B}function H_(T){if(T&&U_){var L=Ui("__mockLocation");if(L)return L}return typeof location===o&&location?location:Ui(Zg)}function zp(){return typeof console!==s?console:Ui(N_)}function _y(){return!!(typeof JSON===o&&JSON||Ui(Fp)!==null)}function $d(){return _y()?JSON||Ui(Fp):null}function Zi(){return Ui(qp)}function Wm(){return Ui(F_)}function fo(){var T=_o();return T&&T.product?T.product===q_:!1}function B_(){var T=_o();if(T&&(T[Ud]!==z_||yy===null)){z_=T[Ud];var L=(z_||ke)[Sl]();yy=Ma(L,j_)||Ma(L,vw)}return yy}function by(T){return(jp===null||T===!1)&&(jp=ns()&&!!_o().sendBeacon),jp}function Vd(T){var L=!1;try{L=!!Ui("fetch");var B=Ui("Request");L&&T&&B&&(L=yw(B,"keepalive"))}catch{}return L}function Up(){return Bm===null&&(Bm=typeof XDomainRequest!==s,Bm&&du()&&(Bm=Bm&&!yw(Ui(Hm),"withCredentials"))),Bm}function du(){var T=!1;try{var L=Ui(Hm);T=!!L}catch{}return T}var Gd=4294967296,Kd=4294967295,Fs=123456789,fi=987654321,Au=!1,os=Fs,Yd=fi;function $m(T){T<0&&(T>>>=0),os=Fs+T&Kd,Yd=fi-T&Kd,Au=!0}function Hp(){try{var T=uo()&2147483647;$m((Math.random()*Gd^T)+T)}catch{}}function Bp(T){var L=0,B=Zi()||Wm();return B&&B.getRandomValues&&(L=B.getRandomValues(new Uint32Array(1))[0]&Kd),L===0&&B_()&&(Au||Hp(),L=Mf()&Kd),L===0&&(L=Math.floor(Gd*Math.random()|0)),T||(L>>>=0),L}function Mf(T){Yd=36969*(Yd&65535)+(Yd>>16)&Kd,os=18e3*(os&65535)+(os>>16)&Kd;var L=(Yd<<16)+(os&65535)>>>0&Kd|0;return T||(L>>>=0),L}function W_(T){T===void 0&&(T=22);for(var L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",B=Bp()>>>0,X=0,se=ke;se[Go]<T;)X++,se+=L.charAt(B&63),B>>>=6,X===5&&(B=(Bp()<<2&4294967295|B&3)>>>0,X=0);return se}var Vm="3.0.5",Gm="."+W_(6),Na=0;function Jd(T){return T[Mc]===1||T[Mc]===9||!+T[Mc]}function Nc(T,L){var B=L[T.id];if(!B){B={};try{Jd(L)&&Ue(L,T.id,{e:!1,v:B})}catch{}}return B}function Lu(T,L){return L===void 0&&(L=!1),Um(T+Na+++(L?"."+Vm:ke)+Gm)}function Km(T){var L={id:Lu("_aiData-"+(T||ke)+"."+Vm),accept:function(B){return Jd(B)},get:function(B,X,se,Se){var Te=B[L.id];return Te?Te[Um(X)]:(Se&&(Te=Nc(L,B),Te[Um(X)]=se),se)},kill:function(B,X){if(B&&B[X])try{delete B[X]}catch{}}};return L}function El(T){return T&&hr(T)&&(T.isVal||T.fb||dn(T,"v")||dn(T,"mrg")||dn(T,"ref")||T.set)}function Ym(T,L,B){var X,se=B.dfVal||zr;if(L&&B.fb){var Se=B.fb;Mt(Se)||(Se=[Se]);for(var Te=0;Te<Se[Go];Te++){var Xe=Se[Te],lt=L[Xe];if(se(lt)?X=lt:T&&(lt=T.cfg[Xe],se(lt)&&(X=lt),T.set(T.cfg,rr(Xe),lt)),se(X))break}}return!se(X)&&se(B.v)&&(X=B.v),X}function ev(T,L,B){var X=B;if(B&&El(B)&&(X=Ym(T,L,B)),X){El(X)&&(X=ev(T,L,X));var se;Mt(X)?(se=[],se[Go]=X[Go]):$l(X)&&(se={}),se&&(Vr(X,function(Se,Te){Te&&El(Te)&&(Te=ev(T,L,Te)),se[Se]=Te}),X=se)}return X}function Wp(T,L,B,X){var se,Se,Te,Xe=X,lt,gt,jt,Rr;El(Xe)?(se=Xe.isVal,Se=Xe.set,jt=Xe[If],Rr=Xe[Vo],lt=Xe.mrg,gt=Xe.ref,!gt&&tt(gt)&&(gt=!!lt),Te=Ym(T,L,Xe)):Te=X,Rr&&T[Vo](L,B);var wr,Lt=!0,Rt=L[B];(Rt||!fr(Rt))&&(wr=Rt,Lt=!1,se&&wr!==Te&&!se(wr)&&(wr=Te,Lt=!0),Se&&(wr=Se(wr,Te,L),Lt=wr===Te)),Lt?Te?wr=ev(T,L,Te):wr=Te:($l(wr)||Mt(Te))&&lt&&Te&&($l(Te)||Mt(Te))&&Vr(Te,function(qt,Et){Wp(T,wr,qt,Et)}),T.set(L,B,wr),gt&&T.ref(L,B),jt&&T[If](L,B)}var En=Cu("[[ai_dynCfg_1]]"),Xd=Cu("[[ai_blkDynCfg_1]]"),qs=Cu("[[ai_frcDynCfg_1]]");function Nf(T){if(T){var L;if(Mt(T)?(L=[],L[Go]=T[Go]):$l(T)&&(L={}),L)return Vr(T,function(B,X){L[B]=Nf(X)}),L}return T}function wy(T){if(T){var L=T[En]||T;if(L.cfg&&(L.cfg===T||L.cfg[En]===L))return L}return null}function dc(T){if(T&&($l(T)||Mt(T)))try{T[Xd]=!0}catch{}return T}function Qd(T,L,B){var X=!1;return B&&!T[L.blkVal]&&(X=B[qs],!X&&!B[Xd]&&(X=$l(B)||Mt(B))),X}function $p(T){xi("InvalidAccess:"+T)}var Sy=["push","pop","shift","unshift","splice"],Rl=function(T,L,B,X){T&&T[zo](3,108,"".concat(B," [").concat(L,"] failed - ")+qe(X))};function tv(T,L,B){Mt(L)&&si(Sy,function(X){var se=L[X];L[X]=function(){for(var Se=[],Te=0;Te<arguments.length;Te++)Se[Te]=arguments[Te];var Xe=se[xu](this,Se);return Ff(T,L,B,"Patching"),Xe}})}function Jm(T,L){var B=Hn(T,L);return B&&B.get}function Cy(T,L,B,X){var se={n:B,h:[],trk:function(gt){gt&&gt.fn&&(Ia(se.h,gt)===-1&&se.h[la](gt),T.trk(gt,se))},clr:function(gt){var jt=Ia(se.h,gt);jt!==-1&&se.h[Ns](jt,1)}},Se=!0,Te=!1;function Xe(){Se&&(Te=Te||Qd(Xe,T,X),X&&!X[En]&&Te&&(X=Ff(T,X,B,"Converting")),Se=!1);var gt=T.act;return gt&&se.trk(gt),X}Xe[T.prop]={chng:function(){T.add(se)}};function lt(gt){if(X!==gt){Xe[T.ro]&&!T.upd&&$p("["+B+"] is read-only:"+qe(L)),Se&&(Te=Te||Qd(Xe,T,X),Se=!1);var jt=Te&&Xe[T.rf];if(Te)if(jt){Vr(X,function(wr){X[wr]=gt?gt[wr]:he});try{Vr(gt,function(wr,Lt){rv(T,X,wr,Lt)}),gt=X}catch(wr){Rl((T.hdlr||{})[ya],B,"Assigning",wr),Te=!1}}else X&&X[En]&&Vr(X,function(wr){var Lt=Jm(X,wr);if(Lt){var Rt=Lt[T.prop];Rt&&Rt.chng()}});if(gt!==X){var Rr=gt&&Qd(Xe,T,gt);!jt&&Rr&&(gt=Ff(T,gt,B,"Converting")),X=gt,Te=Rr}T.add(se)}}Ue(L,se.n,{g:Xe,s:lt})}function rv(T,L,B,X){if(L){var se=Jm(L,B),Se=se&&!!se[T.prop];Se?L[B]=X:Cy(T,L,B,X)}return L}function Zd(T,L,B,X){if(L){var se=Jm(L,B),Se=se&&!!se[T.prop],Te=X&&X[0],Xe=X&&X[1],lt=X&&X[2];if(!Se){if(lt)try{dc(L)}catch(gt){Rl((T.hdlr||{})[ya],B,"Blocking",gt)}try{rv(T,L,B,L[B]),se=Jm(L,B)}catch(gt){Rl((T.hdlr||{})[ya],B,"State",gt)}}Te&&(se[T.rf]=Te),Xe&&(se[T.ro]=Xe),lt&&(se[T.blkVal]=!0)}return L}function Ff(T,L,B,X){try{Vr(L,function(se,Se){rv(T,L,se,Se)}),L[En]||(H(L,En,{get:function(){return T[Jl]}}),tv(T,L,B))}catch(se){Rl((T.hdlr||{})[ya],B,X,se)}return L}var Xm="[[ai_",Vp="]]";function nv(T){var L,B=sa(Xm+"get"+T.uid+Vp),X=sa(Xm+"ro"+T.uid+Vp),se=sa(Xm+"rf"+T.uid+Vp),Se=sa(Xm+"blkVal"+T.uid+Vp),Te=sa(Xm+"dtl"+T.uid+Vp),Xe=null,lt=null,gt;function jt(Rt,qt){var Et=gt.act;try{gt.act=Rt,Rt&&Rt[Te]&&(si(Rt[Te],function(nr){nr.clr(Rt)}),Rt[Te]=[]),qt({cfg:T.cfg,set:T.set.bind(T),setDf:T[Yl].bind(T),ref:T.ref.bind(T),rdOnly:T[If].bind(T)})}catch(nr){var ur=T[ya];throw ur&&ur[zo](1,107,qe(nr)),nr}finally{gt.act=Et||null}}function Rr(){if(Xe){var Rt=Xe;Xe=null,lt&&lt[vy](),lt=null;var qt=[];if(si(Rt,function(Et){if(Et&&(Et[Te]&&(si(Et[Te],function(ur){ur.clr(Et)}),Et[Te]=null),Et.fn))try{jt(Et,Et.fn)}catch(ur){qt[la](ur)}}),Xe)try{Rr()}catch(Et){qt[la](Et)}qt[Go]>0&&Ql("Watcher error(s): ",qt)}}function wr(Rt){if(Rt&&Rt.h[Go]>0){Xe||(Xe=[]),lt||(lt=bl(function(){lt=null,Rr()},0));for(var qt=0;qt<Rt.h[Go];qt++){var Et=Rt.h[qt];Et&&Ia(Xe,Et)===-1&&Xe[la](Et)}}}function Lt(Rt,qt){if(Rt){var Et=Rt[Te]=Rt[Te]||[];Ia(Et,qt)===-1&&Et[la](qt)}}return gt=(L={prop:B,ro:X,rf:se},L[Vo]=Se,L[Jl]=T,L.add=wr,L[el]=Rr,L.use=jt,L.trk=Lt,L),gt}function fu(T,L){var B={fn:L,rm:function(){B.fn=null,T=null,L=null}};return T.use(B,L),B}function fc(T,L,B){var X,se=wy(L);if(se)return se;var Se=Lu("dyncfg",!0),Te=L&&B!==!1?L:Nf(L),Xe;function lt(){Xe[el]()}function gt(ur,nr,yr){try{ur=rv(Xe,ur,nr,yr)}catch(hn){Rl(T,nr,"Setting value",hn)}return ur[nr]}function jt(ur){return fu(Xe,ur)}function Rr(ur,nr){Xe.use(null,function(yr){var hn=Xe.upd;try{tt(nr)||(Xe.upd=nr),ur(yr)}finally{Xe.upd=hn}})}function wr(ur,nr){var yr;return Zd(Xe,ur,nr,(yr={},yr[0]=!0,yr))[nr]}function Lt(ur,nr){var yr;return Zd(Xe,ur,nr,(yr={},yr[1]=!0,yr))[nr]}function Rt(ur,nr){var yr;return Zd(Xe,ur,nr,(yr={},yr[2]=!0,yr))[nr]}function qt(ur,nr){return nr&&Vr(nr,function(yr,hn){Wp(Et,ur,yr,hn)}),ur}var Et=(X={uid:null,cfg:Te},X[ya]=T,X[el]=lt,X.set=gt,X[Yl]=qt,X[Af]=jt,X.ref=wr,X[If]=Lt,X[Vo]=Rt,X._block=Rr,X);return Ue(Et,"uid",{c:!1,e:!1,w:!1,v:Se}),Xe=nv(Et),Ff(Xe,Te,"config","Creating"),Et}function qf(T,L){T?(T[kf](L),T[zo](2,108,L)):$p(L)}function rl(T,L,B,X){var se=fc(B,T||{},X);return L&&se[Yl](se.cfg,L),se}function Mu(T,L,B){var X=T[En]||T;return X.cfg&&(X.cfg===T||X.cfg[En]===X)?X[Af](L):(qf(B,Wn+qe(T)),rl(T,null,B)[Af](L))}var Wh=null;function ef(){var T=Ui("Microsoft");return T&&(Wh=T.ApplicationInsights),Wh}function iv(T){var L=Wh;return!L&&T.disableDbgExt!==!0&&(L=Wh||ef()),L?L.ChromeDbgExt:null}var Gp,Kp="warnToConsole",$h="AI (Internal): ",tf="AI: ",Qm="AITR_",Yp={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},Zm=(Gp={},Gp[0]=null,Gp[1]="errorToConsole",Gp[2]=Kp,Gp[3]="debugToConsole",Gp);function jf(T){return T?'"'+T[Ko](/\"/g,ke)+'"':ke}function Vh(T,L){var B=zp();if(B){var X="log";B[T]&&(X=T),xt(B[X])&&B[X](L)}}var eg=function(){function T(L,B,X,se){X===void 0&&(X=!1);var Se=this;Se[Lc]=L,Se[da]=(X?tf:$h)+L;var Te=ke;_y()&&(Te=$d().stringify(se));var Xe=(B?" message:"+jf(B):ke)+(se?" props:"+jf(Te):ke);Se[da]+=Xe}return T.dataType="MessageData",T}();function _w(T,L){return(T||{})[ya]||new hc(L)}var hc=function(){function T(L){this.identifier="DiagnosticLogger",this.queue=[];var B=0,X={},se,Se,Te,Xe,lt;ua(T,this,function(gt){lt=Rr(L||{}),gt.consoleLoggingLevel=function(){return se},gt[zo]=function(Rt,qt,Et,ur,nr){nr===void 0&&(nr=!1);var yr=new eg(qt,Et,nr,ur);if(Xe)throw qe(yr);var hn=Zm[Rt]||Kp;if(tt(yr[da]))Lt("throw"+(Rt===1?"Critical":"Warning"),yr);else{if(nr){var pi=+yr[Lc];!X[pi]&&se>=Rt&&(gt[hn](yr[da]),X[pi]=!0)}else se>=Rt&&gt[hn](yr[da]);jt(Rt,yr)}},gt.debugToConsole=function(Rt){Vh("debug",Rt),Lt("warning",Rt)},gt[kf]=function(Rt){Vh("warn",Rt),Lt("warning",Rt)},gt.errorToConsole=function(Rt){Vh("error",Rt),Lt("error",Rt)},gt.resetInternalMessageCount=function(){B=0,X={}},gt[cc]=jt,gt[Hi]=function(Rt){lt&&lt.rm(),lt=null};function jt(Rt,qt){if(!wr()){var Et=!0,ur=Qm+qt[Lc];if(X[ur]?Et=!1:X[ur]=!0,Et&&(Rt<=Se&&(gt.queue[la](qt),B++,Lt(Rt===1?"error":"warn",qt)),B===Te)){var nr="Internal events throttle limit per PageView reached for this app.",yr=new eg(23,nr,!1);gt.queue[la](yr),Rt===1?gt.errorToConsole(nr):gt[kf](nr)}}}function Rr(Rt){return Mu(rl(Rt,Yp,gt).cfg,function(qt){var Et=qt.cfg;se=Et[is],Se=Et.loggingLevelTelemetry,Te=Et.maxMessageLimit,Xe=Et.enableDebug})}function wr(){return B>=Te}function Lt(Rt,qt){var Et=iv(L||{});Et&&Et[Ki]&&Et[Ki](Rt,qt)}})}return T.__ieDyn=1,T}();function Ty(T){return T||new hc}function rf(T,L,B,X,se,Se){Se===void 0&&(Se=!1),Ty(T)[zo](L,B,X,se,Se)}function ov(T,L){Ty(T)[kf](L)}var nf="ctx",zf="ParentContextKey",tg="ChildrenContextKey",sv=function(){function T(L,B,X){var se=this;if(se.start=uo(),se[zd]=L,se[Tl]=X,se[Ou]=function(){return!1},xt(B)){var Se;Ue(se,"payload",{g:function(){return!Se&&xt(B)&&(Se=B(),B=null),Se}})}se[Fn]=function(Te){return Te?Te===T[zf]||Te===T[tg]?se[Te]:(se[nf]||{})[Te]:null},se[uu]=function(Te,Xe){if(Te)if(Te===T[zf])se[Te]||(se[Ou]=function(){return!0}),se[Te]=Xe;else if(Te===T[tg])se[Te]=Xe;else{var lt=se[nf]=se[nf]||{};lt[Te]=Xe}},se[Oo]=function(){var Te=0,Xe=se[Fn](T[tg]);if(Mt(Xe))for(var lt=0;lt<Xe[Go];lt++){var gt=Xe[lt];gt&&(Te+=gt[Lp])}se[Lp]=uo()-se.start,se.exTime=se[Lp]-Te,se[Oo]=function(){}}}return T.ParentContextKey="parent",T.ChildrenContextKey="childEvts",T}(),Fc="CoreUtils.doPerf";function Pl(T,L,B,X,se){if(T){var Se=T;if(Se[jr]&&(Se=Se[jr]()),Se){var Te=void 0,Xe=Se[Fn](Fc);try{if(Te=Se.create(L(),X,se),Te){if(Xe&&Te[uu]&&(Te[uu](sv[zf],Xe),Xe[Fn]&&Xe[uu])){var lt=Xe[Fn](sv[tg]);lt||(lt=[],Xe[uu](sv[tg],lt)),lt[la](Te)}return Se[uu](Fc,Te),B(Te)}}catch(gt){Te&&Te[uu]&&Te[uu]("exception",gt)}finally{Te&&Se.fire(Te),Se[uu](Fc,Xe)}}}return B()}var av=Km("plugin");function Dy(T){return av.get(T,"state",{},!0)}var of="TelemetryPluginChain",Jp="_hasRun",Gh="_getTelCtx",bw=0;function qC(T,L,B){for(;T;){if(T[Hh]()===B)return T;T=T[Aa]()}return cv([B],L.config||{},L)}function sf(T,L,B,X){var se=null,Se=[];L||(L=rl({},null,B[ya])),X!==null&&(se=X?qC(T,B,X):T);var Te={_next:lt,ctx:{core:function(){return B},diagLog:function(){return _w(B,L.cfg)},getCfg:function(){return L.cfg},getExtCfg:jt,getConfig:Rr,hasNext:function(){return!!se},getNext:function(){return se},setNext:function(Lt){se=Lt},iterate:wr,onComplete:Xe}};function Xe(Lt,Rt){for(var qt=[],Et=2;Et<arguments.length;Et++)qt[Et-2]=arguments[Et];Lt&&Se[la]({func:Lt,self:tt(Rt)?Te.ctx:Rt,args:qt})}function lt(){var Lt=se;if(se=Lt?Lt[Aa]():null,!Lt){var Rt=Se;Rt&&Rt[Go]>0&&(si(Rt,function(qt){try{qt.func.call(qt.self,qt.args)}catch(Et){rf(B[ya],2,73,"Unexpected Exception during onComplete - "+qe(Et))}}),Se=[])}return Lt}function gt(Lt,Rt){var qt=null,Et=L.cfg;if(Et&&Lt){var ur=Et[Ut];!ur&&Rt&&(ur={}),Et[Ut]=ur,ur=L.ref(Et,Ut),ur&&(qt=ur[Lt],!qt&&Rt&&(qt={}),ur[Lt]=qt,qt=L.ref(ur,Lt))}return qt}function jt(Lt,Rt){var qt=gt(Lt,!0);return Rt&&Vr(Rt,function(Et,ur){if(fr(qt[Et])){var nr=L.cfg[Et];(nr||!fr(nr))&&(qt[Et]=nr)}Wp(L,qt,Et,ur)}),L[Yl](qt,Rt)}function Rr(Lt,Rt,qt){qt===void 0&&(qt=!1);var Et,ur=gt(Lt,!1),nr=L.cfg;return ur&&(ur[Rt]||!fr(ur[Rt]))?Et=ur[Rt]:(nr[Rt]||!fr(nr[Rt]))&&(Et=nr[Rt]),Et||!fr(Et)?Et:qt}function wr(Lt){for(var Rt;Rt=Te._next();){var qt=Rt[Hh]();qt&&Lt(qt)}}return Te}function Ey(T,L,B,X){var se=rl(L),Se=sf(T,se,B,X),Te=Se.ctx;function Xe(gt){var jt=Se._next();return jt&&jt[Sr](gt,Te),!jt}function lt(gt,jt){return gt===void 0&&(gt=null),Mt(gt)&&(gt=cv(gt,se.cfg,B,jt)),Ey(gt||Te[Aa](),se.cfg,B,jt)}return Te[ac]=Xe,Te[tl]=lt,Te}function Ry(T,L,B){var X=rl(L.config),se=sf(T,X,L,B),Se=se.ctx;function Te(lt){var gt=se._next();return gt&&gt[Hi](Se,lt),!gt}function Xe(lt,gt){return lt===void 0&&(lt=null),Mt(lt)&&(lt=cv(lt,X.cfg,L,gt)),Ry(lt||Se[Aa](),L,gt)}return Se[ac]=Te,Se[tl]=Xe,Se}function Py(T,L,B){var X=rl(L.config),se=sf(T,X,L,B),Se=se.ctx;function Te(lt){return Se.iterate(function(gt){xt(gt[wi])&&gt[wi](Se,lt)})}function Xe(lt,gt){return lt===void 0&&(lt=null),Mt(lt)&&(lt=cv(lt,X.cfg,L,gt)),Py(lt||Se[Aa](),L,gt)}return Se[ac]=Te,Se[tl]=Xe,Se}function cv(T,L,B,X){var se=null,Se=!X;if(Mt(T)&&T[Go]>0){var Te=null;si(T,function(Xe){if(!Se&&X===Xe&&(Se=!0),Se&&Xe&&xt(Xe[Sr])){var lt=JD(Xe,L,B);se||(se=lt),Te&&Te._setNext(lt),Te=lt}})}return X&&!se?cv([X],L,B):se}function JD(T,L,B){var X=null,se=xt(T[Sr]),Se=xt(T[Bn]),Te;T?Te=T[cu]+"-"+T[an]+"-"+bw++:Te="Unknown-0-"+bw++;var Xe={getPlugin:function(){return T},getNext:function(){return X},processTelemetry:jt,unload:Rr,update:wr,_id:Te,_setNext:function(Lt){X=Lt}};function lt(){var Lt;return T&&xt(T[Gh])&&(Lt=T[Gh]()),Lt||(Lt=Ey(Xe,L,B)),Lt}function gt(Lt,Rt,qt,Et,ur){var nr=!1,yr=T?T[cu]:of,hn=Lt[Jp];return hn||(hn=Lt[Jp]={}),Lt.setNext(X),T&&Pl(Lt[Qe](),function(){return yr+":"+qt},function(){hn[Te]=!0;try{var pi=X?X._id:ke;pi&&(hn[pi]=!1),nr=Rt(Lt)}catch(ho){var ci=X?hn[X._id]:!0;ci&&(nr=!0),(!X||!ci)&&rf(Lt[Ki](),1,73,"Plugin ["+yr+"] failed during "+qt+" - "+qe(ho)+", run flags: "+qe(hn))}},Et,ur),nr}function jt(Lt,Rt){Rt=Rt||lt();function qt(Et){if(!T||!se)return!1;var ur=Dy(T);return ur[Ac]||ur[ht]?!1:(Se&&T[Bn](X),T[Sr](Lt,Et),!0)}gt(Rt,qt,"processTelemetry",function(){return{item:Lt}},!Lt.sync)||Rt[ac](Lt)}function Rr(Lt,Rt){function qt(){var Et=!1;if(T){var ur=Dy(T),nr=T[Qe]||ur[Qe];T&&(!nr||nr===Lt.core())&&!ur[Ac]&&(ur[Qe]=null,ur[Ac]=!0,ur[Cl]=!1,T[Ac]&&T[Ac](Lt,Rt)===!0&&(Et=!0))}return Et}gt(Lt,qt,"unload",function(){},Rt[Tl])||Lt[ac](Rt)}function wr(Lt,Rt){function qt(){var Et=!1;if(T){var ur=Dy(T),nr=T[Qe]||ur[Qe];T&&(!nr||nr===Lt.core())&&!ur[Ac]&&T[wi]&&T[wi](Lt,Rt)===!0&&(Et=!0)}return Et}gt(Lt,qt,"update",function(){},!1)||Lt[ac](Rt)}return Q(Xe)}function uv(){var T=[];function L(X){X&&T[la](X)}function B(X,se){si(T,function(Se){try{Se(X,se)}catch(Te){rf(X[Ki](),2,73,"Unexpected error calling unload handler - "+qe(Te))}}),T=[]}return{add:L,run:B}}function XD(){var T=[];function L(X){var se=T;T=[],si(se,function(Se){try{(Se.rm||Se.remove).call(Se)}catch(Te){rf(X,2,73,"Unloading:"+qe(Te))}})}function B(X){X&&Tu(T,X)}return{run:L,add:B}}var td,Kh="getPlugin",rg=(td={},td[Ut]={isVal:Mp,v:{}},td),$_=function(){function T(){var L=this,B,X,se,Se,Te;gt(),ua(T,L,function(jt){jt[vs]=function(Rr,wr,Lt,Rt){lt(Rr,wr,Rt),B=!0},jt[Ac]=function(Rr,wr){var Lt,Rt=jt[Qe];if(!Rt||Rr&&Rt!==Rr[Qe]())return;var qt,Et=!1,ur=Rr||Ry(null,Rt,se&&se[Kh]?se[Kh]():se),nr=wr||(Lt={reason:0},Lt[Tl]=!1,Lt);function yr(){Et||(Et=!0,Se.run(ur,wr),Te.run(ur[Ki]()),qt===!0&&ur[ac](nr),gt())}return!jt[Lf]||jt[Lf](ur,nr,yr)!==!0?yr():qt=!0,qt},jt[wi]=function(Rr,wr){var Lt=jt[Qe];if(!Lt||Rr&&Lt!==Rr[Qe]())return;var Rt,qt=!1,Et=Rr||Py(null,Lt,se&&se[Kh]?se[Kh]():se),ur=wr||{reason:0};function nr(){qt||(qt=!0,lt(Et.getCfg(),Et.core(),Et[Aa]()))}return!jt._doUpdate||jt._doUpdate(Et,ur,nr)!==!0?nr():Rt=!0,Rt},Bh(jt,"_addUnloadCb",function(){return Se},"add"),Bh(jt,"_addHook",function(){return Te},"add"),Ue(jt,"_unloadHooks",{g:function(){return Te}})}),L[Ki]=function(jt){return Xe(jt)[Ki]()},L[Cl]=function(){return B},L.setInitialized=function(jt){B=jt},L[Bn]=function(jt){se=jt},L[ac]=function(jt,Rr){Rr?Rr[ac](jt):se&&xt(se[Sr])&&se[Sr](jt,null)},L._getTelCtx=Xe;function Xe(jt){jt===void 0&&(jt=null);var Rr=jt;if(!Rr){var wr=X||Ey(null,{},L[Qe]);se&&se[Kh]?Rr=wr[tl](null,se[Kh]):Rr=wr[tl](null,se)}return Rr}function lt(jt,Rr,wr){rl(jt,rg,_w(Rr)),!wr&&Rr&&(wr=Rr[zm]()[Aa]());var Lt=se;se&&se[Kh]&&(Lt=se[Kh]()),L[Qe]=Rr,X=Ey(wr,jt,Rr,Lt)}function gt(){B=!1,L[Qe]=null,X=null,se=null,Te=XD(),Se=uv()}}return T.__ieDyn=1,T}(),ng="on",rd="attachEvent",xl="addEventListener",Uf="detachEvent",Hf="removeEventListener",xy="events",Xp="visibilitychange",Fa="pagehide",Yh="pageshow",Jh="unload",V_="beforeunload",jC=Lu("aiEvtPageHide"),Xh=Lu("aiEvtPageShow"),zC=/\.[\.]+/g,ig=/[\.]+$/,Qh=1,nd=Km("events"),lv=/^([^.]*)(?:\.(.+)|)/;function Qp(T){return T&&T[Ko]?T[Ko](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,ke):T}function og(T,L){var B;if(L){var X=ke;Mt(L)?(X=ke,si(L,function(Se){Se=Qp(Se),Se&&(Se[0]!=="."&&(Se="."+Se),X+=Se)})):X=Qp(L),X&&(X[0]!=="."&&(X="."+X),T=(T||ke)+X)}var se=lv.exec(T||ke)||[];return B={},B[fa]=se[1],B.ns=(se[2]||ke).replace(zC,".").replace(ig,ke)[Xl](".").sort().join("."),B}function dv(T,L,B){B===void 0&&(B=!0);var X=nd.get(T,xy,{},B),se=X[L];return se||(se=X[L]=[]),se}function ww(T,L,B,X){T&&L&&L[fa]&&(T[Hf]?T[Hf](L[fa],B,X):T[Uf]&&T[Uf](ng+L[fa],B))}function QD(T,L,B,X){var se=!1;return T&&L&&L[fa]&&B&&(T[xl]?(T[xl](L[fa],B,X),se=!0):T[rd]&&(T[rd](ng+L[fa],B),se=!0)),se}function sg(T,L,B,X){for(var se=L[Go];se--;){var Se=L[se];Se&&(!B.ns||B.ns===Se.evtName.ns)&&(!X||X(Se))&&(ww(T,Se.evtName,Se[lo],Se.capture),L[Ns](se,1))}}function UC(T,L,B){if(L[fa])sg(T,dv(T,L[fa]),L,B);else{var X=nd.get(T,xy,{});Vr(X,function(se,Se){sg(T,Se,L,B)}),Oe(X)[Go]===0&&nd.kill(T,xy)}}function pc(T,L){var B;return L?(Mt(L)?B=[T].concat(L):B=[T,L],B=og("xx",B).ns[Xl](".")):B=T,B}function ag(T,L,B,X,se){var Se;se===void 0&&(se=!1);var Te=!1;if(T)try{var Xe=og(L,X);if(Te=QD(T,Xe,B,se),Te&&nd.accept(T)){var lt=(Se={guid:Qh++,evtName:Xe},Se[lo]=B,Se.capture=se,Se);dv(T,Xe.type)[la](lt)}}catch{}return Te}function cg(T,L,B,X,se){if(se===void 0&&(se=!1),T)try{var Se=og(L,X),Te=!1;UC(T,Se,function(Xe){return Se.ns&&!B||Xe[lo]===B?(Te=!0,!0):!1}),Te||ww(T,Se,B,se)}catch{}}function HC(T,L,B){var X=!1,se=Su();se&&(X=ag(se,T,L,B),X=ag(se.body,T,L,B)||X);var Se=Gi();return Se&&(X=ag(Se,T,L,B)||X),X}function ZD(T,L,B){var X=Su();X&&(cg(X,T,L,B),cg(X.body,T,L,B));var se=Gi();se&&cg(se,T,L,B)}function id(T,L,B,X){var se=!1;return L&&T&&T[Go]>0&&si(T,function(Se){Se&&(!B||Ia(B,Se)===-1)&&(se=HC(Se,L,X)||se)}),se}function mc(T,L,B,X){var se=!1;return L&&T&&Mt(T)&&(se=id(T,L,B,X),!se&&B&&B[Go]>0&&(se=id(T,L,null,X))),se}function od(T,L,B){T&&Mt(T)&&si(T,function(X){X&&ZD(X,L,B)})}function ug(T,L,B){return mc([V_,Jh,Fa],T,L,B)}function fv(T,L){od([V_,Jh,Fa],T,L)}function G_(T,L,B){function X(Te){var Xe=Gi();T&&Xe&&Xe.visibilityState==="hidden"&&T(Te)}var se=pc(jC,B),Se=id([Fa],T,L,se);return(!L||Ia(L,Xp)===-1)&&(Se=id([Xp],X,L,se)||Se),!Se&&L&&(Se=G_(T,null,B)),Se}function bn(T,L){var B=pc(jC,L);od([Fa],T,B),od([Xp],null,B)}function Oy(T,L,B){function X(Te){var Xe=Gi();T&&Xe&&Xe.visibilityState==="visible"&&T(Te)}var se=pc(Xh,B),Se=id([Yh],T,L,se);return Se=id([Xp],X,L,se)||Se,!Se&&L&&(Se=Oy(T,null,B)),Se}function Zp(T,L){var B=pc(Xh,L);od([Yh],T,B),od([Xp],null,B)}var Bf="",lg="timings",qa="value",K_="kind",hv="length",Y_="processTelemetryStart",sd,dg="4.0.4",Zh="1DS-Web-JS-"+dg,pv=u.hasOwnProperty,fg="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Nu="withCredentials",af="timeout",Sw=(sd={},sd[0]=0,sd[2]=6,sd[1]=1,sd[3]=7,sd[4098]=6,sd[4097]=1,sd[4099]=7,sd);Po(),Jn();function ad(T){return!(T===Bf||fr(T))}function Iy(T){if(T){var L=Ef(T,"-");if(L>-1)return Tr(T,L)}return Bf}function cd(T,L,B){if(!L&&!ad(L)||typeof T!="string")return null;var X=typeof L;if(X==="string"||X==="number"||X==="boolean"||Mt(L))L={value:L};else if(X==="object"&&!pv.call(L,"value"))L={value:B?JSON.stringify(L):L};else if(fr(L[qa])||L[qa]===Bf||!cr(L[qa])&&!nn(L[qa])&&!ln(L[qa])&&!Mt(L[qa]))return null;if(Mt(L[qa])&&!J_(L[qa]))return null;if(!fr(L[K_])){if(Mt(L[qa])||!Tw(L[K_]))return null;L[qa]=L[qa].toString()}return L}function Cw(T,L,B){var X=-1;if(!tt(T))if(L>0&&(L===32?X=8192:L<=13&&(X=L<<5)),Dw(B))X===-1&&(X=0),X|=B;else{var se=Sw[hg(T)]||-1;X!==-1&&se!==-1?X|=se:se===6&&(X=se)}return X}function ky(T,L,B,X,se){var Se={},Te=!1,Xe=0,lt=arguments[hv],gt=arguments;for(ln(gt[0])&&(Te=gt[0],Xe++);Xe<lt;Xe++){var T=gt[Xe];Vr(T,function(Rr,wr){Te&&wr&&hr(wr)?Mt(wr)?(Se[Rr]=Se[Rr]||[],si(wr,function(Lt,Rt){Lt&&hr(Lt)?Se[Rr][Rt]=ky(!0,Se[Rr][Rt],Lt):Se[Rr][Rt]=Lt})):Se[Rr]=ky(!0,Se[Rr],wr):Se[Rr]=wr})}return Se}var ud=Md;function Tw(T){return T===0||T>0&&T<=13||T===32}function Dw(T){return T>=0&&T<=9}function J_(T){return T[hv]>0}function Wf(T,L){var B=T;B[lg]=B[lg]||{},B[lg][Y_]=B[lg][Y_]||{},B[lg][Y_][L]=ud()}function hg(T){var L=0;if(T!=null){var B=typeof T;B==="string"?L=1:B==="number"?L=2:B==="boolean"?L=3:B===o&&(L=4,Mt(T)?(L=4096,T[hv]>0&&(L|=hg(T[0]))):pv.call(T,"value")&&(L=8192|hg(T[qa])))}return L}function Ew(){return!!Ui("chrome")}function $f(T,L,B,X,se,Se){X===void 0&&(X=!1),se===void 0&&(se=!1);function Te(lt,gt,jt){try{lt[gt]=jt}catch{}}var Xe=new XMLHttpRequest;return X&&Te(Xe,fg,X),B&&Te(Xe,Nu,B),Xe.open(T,L,!se),B&&Te(Xe,Nu,B),!se&&Se&&Te(Xe,af,Se),Xe}function gc(T){return T>0}var Yo="",Ol="POST",mv="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",ld="drop",Vf="send",Fu="requeue",gv="rspFail",Ay="oth",Rw="no-cache, no-store",X_="application/x-json-stream",em="cache-control",vv="content-type",BC="kill-tokens",Pw="kill-duration",xw="kill-duration-seconds",WC="time-delta-millis",E="client-version",k="client-id",z="time-delta-to-apply-millis",Y="upload-time",_e="apikey",We="AuthMsaDeviceTicket",Ze="AuthXToken",ct="NoResponseBody",Dt="msfpc",Kt="trace",Ar="user",jn="allowRequestSending",In="firstRequestSent",Qn="shouldAddClockSkewHeaders",Qr="getClockSkewHeaderValue",Zn="setClockSkew",br="length",Si="concat",$n="iKey",Rn="count",ss="events",vc="push",ja="split",yv="splice",pg="toLowerCase",Ly="hdrs",dd="useHdrs",ep="initialize",My="setTimeoutOverride",Ny="clearTimeoutOverride",or="payloadPreprocessor",un="overrideEndpointUrl",hi="avoidOptions",as="disableEventTimings",Ps="stringifyObjects",xs="enableCompoundKey",js="disableXhrSync",mg="disableFetchKeepAlive",tm="useSendBeacon",rm="alwaysUseXhrOverride",Ow="unloadTransports",gg="urlString",tp="timeout",Fy="ontimeout",qu="data",vg="_sendReason",rp="headers",_v="getResponseHeader",TR="getAllResponseHeaders",bv="_thePayload",nl="batches",Il="sendType",qy="canSendRequest",Gf="sendQueuedRequests",e0="isCompletelyIdle",$C="setUnloading",DR="isTenantKilled",ER="sendSynchronousBatch",VC="_transport",Kf="getWParam",t0="isBeacon",Q_="timings",Iw="isTeardown",kw="isSync",Aw="sendPOST",GC="setKillSwitchTenants",Z_="_backOffTransmission",Yf="identifier",eb="disableOptimizeObj",Lw="ignoreMc1Ms0CookieProcessing",no="eventsLimitInMem",KC="autoFlushEventsLimit",wv="disableAutoBatchFlushLimit",jy="overrideInstrumentationKey",RR="disableTelemetry",Jf="sendAttempt",fd="latency",YC="baseData",np="sync";function Sv(T){var L=(T.ext||{}).intweb;return L&&ad(L[Dt])?L[Dt]:null}function nm(T){for(var L=null,B=0;L===null&&B<T[br];B++)L=Sv(T[B]);return L}var kl=function(){function T(L,B){var X=B?[][Si](B):[],se=this,Se=nm(X);se[$n]=function(){return L},se.Msfpc=function(){return Se||Yo},se[Rn]=function(){return X[br]},se[ss]=function(){return X},se.addEvent=function(Te){return Te?(X[vc](Te),Se||(Se=Sv(Te)),!0):!1},se[ja]=function(Te,Xe){var lt;if(Te<X[br]){var gt=X[br]-Te;fr(Xe)||(gt=Xe<gt?Xe:gt),lt=X[yv](Te,gt),Se=nm(X)}return new T(L,lt)}}return T.create=function(L,B){return new T(L,B)},T}(),ip=function(){function T(){var L=!0,B=!0,X=!0,se="use-collector-delta",Se=!1;ua(T,this,function(Te){Te[jn]=function(){return L},Te[In]=function(){X&&(X=!1,Se||(L=!1))},Te[Qn]=function(){return B},Te[Qr]=function(){return se},Te[Zn]=function(Xe){Se||(Xe?(se=Xe,B=!0,Se=!0):B=!1,L=!0)}})}return T.__ieDyn=1,T}(),im=1e3,Cv=function(){function T(){var L={};function B(X){var se=[];return X&&si(X,function(Se){se[vc](Du(Se))}),se}ua(T,this,function(X){X[GC]=function(se,Se){if(se&&Se)try{var Te=B(se[ja](","));if(Se==="this-request-only")return Te;for(var Xe=parseInt(Se,10)*im,lt=0;lt<Te[br];++lt)L[Te[lt]]=uo()+Xe}catch{return[]}return[]},X[DR]=function(se){var Se=L,Te=Du(se);return Se[Te]!==void 0&&Se[Te]>uo()?!0:(delete Se[Te],!1)}})}return T.__ieDyn=1,T}(),om=.8,Mw=1.2,JC=3e3,r0=6e5;function tb(T){return!(T>=300&&T<500&&T!=408&&T!=429||T==501||T==505)}function zy(T){var L=0,B=JC*om,X=JC*Mw,se=Math.floor(Math.random()*(X-B))+B;return L=Math.pow(2,T)*se,Math.min(L,r0)}var Tv=20,Uy=3984588,Nw=65e3,Dv=2e6,rb=Math.min(Dv,Nw),Fw="metadata",nb="f",PR=/\./,qw=function(){function T(L,B,X,se){var Se="data",Te="baseData",Xe="ext",lt=!!se,gt=!0,jt=B,Rr={};ua(T,this,function(wr){wr.createPayload=function(qt,Et,ur,nr,yr,hn){return{apiKeys:[],payloadBlob:Yo,overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:qt,isTeardown:Et,isSync:ur,isBeacon:nr,sendType:hn,sendReason:yr}},wr.appendPayload=function(qt,Et,ur){var nr=qt&&Et&&!qt.overflow;return nr&&Pl(L,function(){return"Serializer:appendPayload"},function(){for(var yr=Et.events(),hn=qt.payloadBlob,pi=qt.numEvents,ci=!1,ho=[],Jo=[],Io=qt.isBeacon,zs=Io?Nw:Uy,yc=Io?rb:Dv,eo=0,qc=0;eo<yr.length;){var jc=yr[eo];if(jc){if(pi>=ur){qt.overflow=Et.split(eo);break}var pa=wr.getEventBlob(jc);if(pa&&pa.length<=yc){var Al=pa.length,ba=hn.length;if(ba+Al>zs){qt.overflow=Et.split(eo);break}hn&&(hn+=`
`),hn+=pa,qc++,qc>Tv&&(de(hn,0,1),qc=0),ci=!0,pi++}else pa?ho.push(jc):Jo.push(jc),yr.splice(eo,1),eo--}eo++}if(ho.length>0&&qt.sizeExceed.push(kl.create(Et.iKey(),ho)),Jo.length>0&&qt.failedEvts.push(kl.create(Et.iKey(),Jo)),ci){qt.batches.push(Et),qt.payloadBlob=hn,qt.numEvents=pi;var wa=Et.iKey();Ia(qt.apiKeys,wa)===-1&&qt.apiKeys.push(wa)}},function(){return{payload:qt,theBatch:{iKey:Et.iKey(),evts:Et.events()},max:ur}}),nr},wr.getEventBlob=function(qt){try{return Pl(L,function(){return"Serializer.getEventBlob"},function(){var Et={};Et.name=qt.name,Et.time=qt.time,Et.ver=qt.ver,Et.iKey="o:"+Iy(qt.iKey);var ur={},nr=qt[Xe];nr&&(Et[Xe]=ur,Vr(nr,function(pi,ci){var ho=ur[pi]={};Rt(ci,ho,"ext."+pi,!0,null,null,!0)}));var yr=Et[Se]={};yr.baseType=qt.baseType;var hn=yr[Te]={};return Rt(qt.baseData,hn,Te,!1,[Te],function(pi,ci,ho){za(ur,pi,ci,ho)},gt),Rt(qt.data,yr,Se,!1,[],function(pi,ci,ho){za(ur,pi,ci,ho)},gt),JSON.stringify(Et)},function(){return{item:qt}})}catch{return null}};function Lt(qt,Et){var ur=Rr[qt];return ur===void 0&&(qt.length>=7&&(ur=Wr(qt,"ext.metadata")||Wr(qt,"ext.web")),Rr[qt]=ur),ur}function Rt(qt,Et,ur,nr,yr,hn,pi){Vr(qt,function(ci,ho){var Jo=null;if(ho||ad(ho)){var Io=ur,zs=ci,yc=yr,eo=Et;if(lt&&!nr&&PR.test(ci)){var qc=ci.split("."),jc=qc.length;if(jc>1){yc&&(yc=yc.slice());for(var pa=0;pa<jc-1;pa++){var Al=qc[pa];eo=eo[Al]=eo[Al]||{},Io+="."+Al,yc&&yc.push(Al)}zs=qc[jc-1]}}var ba=nr&&Lt(Io);if(!ba&&jt&&jt.handleField(Io,zs)?Jo=jt.value(Io,zs,ho,X):Jo=cd(zs,ho,X),Jo){var wa=Jo.value;if(eo[zs]=wa,hn&&hn(yc,zs,Jo),pi&&typeof wa=="object"&&!Mt(wa)){var Ci=yc;Ci&&(Ci=Ci.slice(),Ci.push(zs)),Rt(ho,wa,Io+"."+zs,nr,Ci,hn,pi)}}}})}})}return T.__ieDyn=1,T}();function za(T,L,B,X){if(X&&T){var se=Cw(X.value,X.kind,X.propertyType);if(se>-1){var Se=T[Fw];Se||(Se=T[Fw]={f:{}});var Te=Se[nb];if(Te||(Te=Se[nb]={}),L)for(var Xe=0;Xe<L.length;Xe++){var lt=L[Xe];Te[lt]||(Te[lt]={f:{}});var gt=Te[lt][nb];gt||(gt=Te[lt][nb]={}),Te=gt}Te=Te[B]={},Mt(X.value)?Te.a={t:se}:Te.t=se}}}function sm(T,L){return{set:function(B,X){for(var se=[],Se=2;Se<arguments.length;Se++)se[Se-2]=arguments[Se];return Eu([T,L],B,X,se)}}}var Ev,n0="sendAttempt",yg="&"+ct+"=true",Rv="?cors=true&"+vv[pg]()+"="+X_,ib=(Ev={},Ev[1]=Fu,Ev[100]=Fu,Ev[200]="sent",Ev[8004]=ld,Ev[8003]=ld,Ev),jw={},Pv={};function xv(T,L,B){jw[T]=L,B!==!1&&(Pv[L]=T)}xv(We,We,!1),xv(E,E),xv(k,"Client-Id"),xv(_e,_e),xv(z,z),xv(Y,Y),xv(Ze,Ze);function i0(T){try{return T.responseText}catch{}return Yo}function o0(T,L){var B=!1;if(T&&L){var X=Oe(T);if(X&&X[br]>0)for(var se=L[pg](),Se=0;Se<X[br];Se++){var Te=X[Se];if(Te&&$r(L,Te)&&Te[pg]()===se){B=!0;break}}}return B}function ob(T,L,B,X){L&&B&&B[br]>0&&(X&&jw[L]?(T[Ly][jw[L]]=B,T[dd]=!0):T.url+="&"+L+"="+B)}function s0(T,L){return L&&(nn(L)?T=[L][Si](T):Mt(L)&&(T=L[Si](T))),T}function l1(T,L,B){for(var X=0;X<T[br];X++)if(T[X].name===L){T[X].value=B;return}T[vc]({name:L,value:B})}function d1(T,L){for(var B=0;B<T[br];B++)if(T[B].name===L){T[yv](B,1);return}}var _g=function(){function T(L,B,X,se){var Se,Te=new Cv,Xe=!1,lt=new ip,gt=!1,jt=0,Rr,wr,Lt,Rt,qt=!0,Et=[],ur={},nr=[],yr=null,hn=!1,pi,ci=!1,ho=!1,Jo,Io,zs,yc,eo,qc=[],jc,pa,Al=[],ba,wa;ua(T,this,function(Ci){am();var io=!0;Ci[ep]=function(Ge,At,Zt){ba||(Rt=At,pi=At.getCookieMgr(),Rr=Zt,wr=Rr.diagLog(),Tu(qc,Mu(Ge,function(lr){var on,ei=lr.cfg,St=lr.cfg.extensionConfig[Zt.identifier];wa=sm(St[My],St[Ny]),ad(ei.anonCookieName)?l1(Et,"anoncknm",ei.anonCookieName):d1(Et,"anoncknm"),jc=St[or],pa=St.payloadListener;var nt=St.httpXHROverride,Tt=St[un]?St[un]:ei.endpointUrl;Se=Tt+Rv,ho=tt(St[hi])?!0:!St[hi],hn=!St[as];var Ot=St.valueSanitizer,gr=St[Ps],xr=!!ei[xs];tt(St[xs])||(xr=!!St[xs]),Jo=St.xhrTimeout,Io=!!St[js],zs=!!St[mg],eo=St.addNoResponse!==!1,At.getPlugin("LocalStorage")&&(zs=!0),gt=!fo(),yr=new qw(Rt,Ot,gr,xr),fr(St[tm])||(gt=!!St[tm]);var Nr=nt,ti=St[rm]?nt:null,Xo=St[rm]?nt:null,wo=[3,2];if(!nt){qt=!1;var sp=H_();sp&&sp.protocol&&sp.protocol[pg]()==="file:"&&(io=!1);var cf=[];fo()?(cf=[2,1],wo=[2,1,3]):cf=[1,2,3],cf=s0(cf,St.transports),nt=hd(cf,!1),nt||ov(wr,"No available transport to send events"),Nr=hd(cf,!0)}ti||(wo=s0(wo,St[Ow]),ti=hd(wo,!0)),yc=!qt&&(gt&&by()||!zs&&Vd(!0)),Lt=(on={},on[0]=nt,on[1]=Nr||hd([1,2,3],!0),on[2]=ti||Nr||hd([1],!0),on[3]=Xo||hd([2,3],!0)||Nr||hd([1],!0),on)})),ba=!0)},Ci.addResponseHandler=function(Ge){return Al[vc](Ge),{rm:function(){var At=Al.indexOf(Ge);At>=0&&Al[yv](At,1)}}};function hd(Ge,At){for(var Zt=0,lr=null,on=0;lr==null&&on<Ge[br];)Zt=Ge[on],Zt===1?Up()?lr=sb:du()&&(lr=m):Zt===2&&Vd(At)&&(!At||At&&!zs)?lr=cm:gt&&Zt===3&&by()&&(lr=I),on++;return lr?{_transport:Zt,_isSync:At,sendPOST:lr}:null}Ci._getDbgPlgTargets=function(){return[Lt[0],Te,yr,Lt]};function sb(Ge,At,Zt){var lr=new XDomainRequest;lr.open(Ol,Ge[gg]),Ge[tp]&&(lr[tp]=Ge[tp]),lr.onload=function(){var on=i0(lr);b(At,200,{},on),Mn(on)},lr.onerror=function(){b(At,400,{})},lr[Fy]=function(){b(At,500,{})},lr.onprogress=function(){},Zt?lr.send(Ge[qu]):wa.set(function(){lr.send(Ge[qu])},0)}function am(){var Ge;Se=null,Te=new Cv,Xe=!1,lt=new ip,gt=!1,jt=0,Rr=null,wr=null,Lt=null,Rt=null,qt=!0,Et=[],ur={},nr=[],yr=null,hn=!1,pi=null,ci=!1,ho=!1,Jo=Ge,Io=Ge,zs=Ge,yc=Ge,eo=Ge,qc=[],jc=Ge,pa=Ge,Al=[],ba=!1,wa=sm()}function cm(Ge,At,Zt){var lr,on=Ge[gg],ei=!1,St=!1,nt=(lr={body:Ge[qu],method:Ol},lr[mv]=!0,lr);Zt&&(nt.keepalive=!0,Ge[vg]===2&&(ei=!0,eo&&(on+=yg))),io&&(nt.credentials="include"),Ge.headers&&Oe(Ge.headers)[br]>0&&(nt[rp]=Ge[rp]);var Tt=function(gr,xr,Nr){St||(St=!0,b(At,gr,xr,Nr),Mn(Nr))},Ot=function(){St||(St=!0,b(At,0,{}))};fetch(on,nt).then(function(gr){var xr={},Nr=Yo,ti=gr[rp];ti&&ti.forEach(function(Xo,wo){xr[wo]=Xo}),gr.body?gr.text().then(function(Xo){Nr=Xo,Tt(gr.status,xr,Nr)},Ot):Tt(gr.status,xr,"")}).catch(Ot),ei&&!St&&(St=!0,b(At,200,{})),!St&&Ge[tp]>0&&wa.set(function(){St||(St=!0,b(At,500,{}))},Ge[tp])}function m(Ge,At,Zt){var lr=Ge[gg];function on(Tt,Ot,gr){if(!Tt[gr]&&Ot&&Ot[_v]){var xr=Ot[_v](gr);xr&&(Tt[gr]=Du(xr))}return Tt}function ei(Tt){var Ot={};return Tt[TR]?Ot=Pr(Tt[TR]()):(Ot=on(Ot,Tt,WC),Ot=on(Ot,Tt,Pw),Ot=on(Ot,Tt,xw)),Ot}function St(Tt,Ot){b(At,Tt.status,ei(Tt),Ot)}Zt&&Ge[js]&&(Zt=!1);var nt=$f(Ol,lr,io,!0,Zt,Ge[tp]);Vr(Ge[rp],function(Tt,Ot){nt.setRequestHeader(Tt,Ot)}),nt.onload=function(){var Tt=i0(nt);St(nt,Tt),Mn(Tt)},nt.onerror=function(){St(nt)},nt[Fy]=function(){St(nt)},nt.send(Ge[qu])}function b(Ge,At,Zt,lr){try{Ge(At,Zt,lr)}catch(on){rf(wr,2,518,qe(on))}}function I(Ge,At,Zt){var lr=Ge,on=200,ei=lr[bv],St=Ge[gg]+(eo?yg:Yo);try{var nt=_o();if(!nt.sendBeacon(St,Ge[qu]))if(ei){var Tt=!!Rt.getPlugin("LocalStorage"),Ot=[],gr=[];si(ei[nl],function(xr){if(Ot&&xr&&xr[Rn]()>0)for(var Nr=xr[ss](),ti=0;ti<Nr[br];ti++)if(nt.sendBeacon(St,yr.getEventBlob(Nr[ti])))gr[vc](xr[ti]);else{Ot[vc](xr[ja](ti));break}else Ot[vc](xr[ja](0))}),gr[br]>0&&(ei.sentEvts=gr),Tt||Ii(Ot,8003,ei[Il],!0)}else on=0}catch(xr){ov(wr,"Failed to send telemetry using sendBeacon API. Ex:"+qe(xr)),on=0}finally{b(At,on,{},Yo)}}function j(Ge){return Ge===2||Ge===3}function $(Ge){return ci&&j(Ge)&&(Ge=2),Ge}Ci.addHeader=function(Ge,At){ur[Ge]=At},Ci[qy]=function(){return ie()&&lt[jn]()},Ci[Gf]=function(Ge,At){tt(Ge)&&(Ge=0),ci&&(Ge=$(Ge),At=2),Ie(nr,Ge,0)&&et(ge(),0,!1,Ge,At||0)},Ci[e0]=function(){return!Xe&&jt===0&&nr[br]===0},Ci[$C]=function(Ge){ci=Ge},Ci.addBatch=function(Ge){if(Ge&&Ge[Rn]()>0){if(Te.isTenantKilled(Ge[$n]()))return!1;nr[vc](Ge)}return!0},Ci.teardown=function(){nr[br]>0&&et(ge(),0,!0,2,2),si(qc,function(Ge){Ge&&Ge.rm&&Ge.rm()}),qc=[]},Ci.pause=function(){Xe=!0},Ci.resume=function(){Xe=!1,Ci[Gf](0,4)},Ci[ER]=function(Ge,At,Zt){Ge&&Ge[Rn]()>0&&(fr(At)&&(At=1),ci&&(At=$(At),Zt=2),et([Ge],0,!1,At,Zt||0))};function ie(){return!Xe&&jt<B}function ge(){var Ge=nr;return nr=[],Ge}function Ie(Ge,At,Zt){var lr=!1;return Ge&&Ge[br]>0&&!Xe&&Lt[At]&&yr&&(lr=At!==0||ie()&&(Zt>0||lt[jn]())),lr}function Be(Ge){var At={};return Ge&&si(Ge,function(Zt,lr){At[lr]={iKey:Zt[$n](),evts:Zt[ss]()}}),At}function et(Ge,At,Zt,lr,on){if(!(!Ge||Ge[br]===0)){if(Xe){Ii(Ge,1,lr);return}lr=$(lr);try{var ei=Ge,St=lr!==0;Pl(Rt,function(){return"HttpManager:_sendBatches"},function(nt){nt&&(Ge=Ge.slice(0));for(var Tt=[],Ot=null,gr=ud(),xr=Lt[lr]||(St?Lt[1]:Lt[0]),Nr=xr&&xr[VC],ti=yc&&(ci||j(lr)||Nr===3||xr._isSync&&Nr===2);Ie(Ge,lr,At);){var Xo=Ge.shift();Xo&&Xo[Rn]()>0&&(Te.isTenantKilled(Xo[$n]())?Tt[vc](Xo):(Ot=Ot||yr.createPayload(At,Zt,St,ti,on,lr),yr.appendPayload(Ot,Xo,L)?Ot.overflow!==null&&(Ge=[Ot.overflow][Si](Ge),Ot.overflow=null,ot(Ot,gr,ud(),on),gr=ud(),Ot=null):(ot(Ot,gr,ud(),on),gr=ud(),Ge=[Xo][Si](Ge),Ot=null)))}Ot&&ot(Ot,gr,ud(),on),Ge[br]>0&&(nr=Ge[Si](nr)),Ii(Tt,8004,lr)},function(){return{batches:Be(ei),retryCount:At,isTeardown:Zt,isSynchronous:St,sendReason:on,useSendBeacon:j(lr),sendType:lr}},!St)}catch(nt){rf(wr,2,48,"Unexpected Exception sending batch: "+qe(nt))}}}function Ve(Ge,At){var Zt={url:Se,hdrs:{},useHdrs:!1};At?(Zt[Ly]=ky(Zt[Ly],ur),Zt.useHdrs=Oe(Zt.hdrs)[br]>0):Vr(ur,function(nt,Tt){Pv[nt]?ob(Zt,Pv[nt],Tt,!1):(Zt[Ly][nt]=Tt,Zt[dd]=!0)}),ob(Zt,k,"NO_AUTH",At),ob(Zt,E,Zh,At);var lr=Yo;si(Ge.apiKeys,function(nt){lr[br]>0&&(lr+=","),lr+=nt}),ob(Zt,_e,lr,At),ob(Zt,Y,uo().toString(),At);var on=Ir(Ge);if(ad(on)&&(Zt.url+="&ext.intweb.msfpc="+on),lt[Qn]()&&ob(Zt,z,lt[Qr](),At),Rt[Kf]){var ei=Rt[Kf]();ei>=0&&(Zt.url+="&w="+ei)}for(var St=0;St<Et[br];St++)Zt.url+="&"+Et[St].name+"="+Et[St].value;return Zt}function wt(Ge,At,Zt){Ge[At]=Ge[At]||{},Ge[At][Rr.identifier]=Zt}function ot(Ge,At,Zt,lr){if(Ge&&Ge.payloadBlob&&Ge.payloadBlob[br]>0){var on=!!jc,ei=Lt[Ge.sendType];!j(Ge[Il])&&Ge[t0]&&Ge.sendReason===2&&(ei=Lt[2]||Lt[3]||ei);var St=ho;(Ge.isBeacon||ei[VC]===3)&&(St=!1);var nt=Ve(Ge,St);St=St||nt[dd];var Tt=ud();Pl(Rt,function(){return"HttpManager:_doPayloadSend"},function(){for(var Ot=0;Ot<Ge.batches[br];Ot++)for(var gr=Ge[nl][Ot],xr=gr[ss](),Nr=0;Nr<xr[br];Nr++){var ti=xr[Nr];if(hn){var Xo=ti[Q_]=ti[Q_]||{};wt(Xo,"sendEventStart",Tt),wt(Xo,"serializationStart",At),wt(Xo,"serializationCompleted",Zt)}ti[n0]>0?ti[n0]++:ti[n0]=1}Ii(Ge[nl],1e3+(lr||0),Ge[Il],!0);var wo={data:Ge.payloadBlob,urlString:nt.url,headers:nt[Ly],_thePayload:Ge,_sendReason:lr,timeout:Jo,disableXhrSync:Io,disableFetchKeepAlive:zs};St&&(o0(wo[rp],em)||(wo[rp][em]=Rw),o0(wo[rp],vv)||(wo[rp][vv]=X_));var sp=null;ei&&(sp=function(cf){lt[In]();var ab=function(um,d0){it(um,d0,Ge,lr)},Xf=Ge[Iw]||Ge[kw];try{ei[Aw](cf,ab,Xf),pa&&pa(wo,cf,Xf,Ge[t0])}catch(um){ov(wr,"Unexpected exception sending payload. Ex:"+qe(um)),b(ab,0,{})}}),Pl(Rt,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(sp)if(Ge[Il]===0&&jt++,on&&!Ge.isBeacon&&ei[VC]!==3){var cf={data:wo[qu],urlString:wo[gg],headers:ky({},wo[rp]),timeout:wo[tp],disableXhrSync:wo[js],disableFetchKeepAlive:wo[mg]},ab=!1;Pl(Rt,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{jc(cf,function(Xf){ab=!0,!qt&&!Xf[bv]&&(Xf[bv]=Xf[bv]||wo[bv],Xf[vg]=Xf[vg]||wo[vg]),sp(Xf)},Ge.isSync||Ge[Iw])}catch{ab||sp(wo)}})}else sp(wo)})},function(){return{thePayload:Ge,serializationStart:At,serializationCompleted:Zt,sendReason:lr}},Ge[kw])}Ge.sizeExceed&&Ge.sizeExceed[br]>0&&Ii(Ge.sizeExceed,8003,Ge[Il]),Ge.failedEvts&&Ge.failedEvts[br]>0&&Ii(Ge.failedEvts,8002,Ge[Il])}function _t(Ge,At){hn&&si(Ge,function(Zt){var lr=Zt[Q_]=Zt[Q_]||{};wt(lr,"sendEventCompleted",At)})}function it(Ge,At,Zt,lr){var on=9e3,ei=null,St=!1,nt=!1;try{var Tt=!0;if(typeof Ge!==s){if(At){lt[Zn](At[WC]);var Ot=At[Pw]||At["kill-duration-seconds"];si(Te[GC](At[BC],Ot),function(xr){si(Zt[nl],function(Nr){if(Nr[$n]()===xr){ei=ei||[];var ti=Nr[ja](0);Zt.numEvents-=ti[Rn](),ei[vc](ti)}})})}if(Ge==200||Ge==204){on=200;return}(!tb(Ge)||Zt.numEvents<=0)&&(Tt=!1),on=9e3+Ge%1e3}if(Tt){on=100;var gr=Zt.retryCnt;Zt[Il]===0&&(gr<X?(St=!0,_r(function(){Zt[Il]===0&&jt--,et(Zt[nl],gr+1,Zt[Iw],ci?2:Zt[Il],5)},ci,zy(gr))):(nt=!0,ci&&(on=8001)))}}finally{St||(lt[Zn](),Qt(Zt,on,lr,nt)),Ii(ei,8004,Zt[Il])}}function Qt(Ge,At,Zt,lr){try{lr&&Rr[Z_]();var on=Ge[nl];At===200&&(on=Ge.sentEvts||Ge[nl],!lr&&!Ge[kw]&&Rr._clearBackOff(),Vt(on)),Ii(on,At,Ge[Il],!0)}finally{Ge[Il]===0&&(jt--,Zt!==5&&Ci.sendQueuedRequests(Ge[Il],Zt))}}function Vt(Ge){if(hn){var At=ud();si(Ge,function(Zt){Zt&&Zt[Rn]()>0&&_t(Zt[ss](),At)})}}function _r(Ge,At,Zt){At?Ge():wa.set(Ge,Zt)}function Pr(Ge){var At={};if(cr(Ge)){var Zt=Du(Ge)[ja](/[\r\n]+/);si(Zt,function(lr){if(lr){var on=lr.indexOf(": ");if(on!==-1){var ei=Du(lr.substring(0,on))[pg](),St=Du(lr.substring(on+1));At[ei]=St}else At[Du(lr)]=1}})}return At}function Ir(Ge){for(var At=0;At<Ge.batches[br];At++){var Zt=Ge[nl][At].Msfpc();if(Zt)return encodeURIComponent(Zt)}return Yo}function Mn(Ge){var At=Al;try{for(var Zt=0;Zt<At[br];Zt++)try{At[Zt](Ge)}catch(on){rf(wr,1,519,"Response handler failed: "+on)}if(Ge){var lr=JSON.parse(Ge);ad(lr.webResult)&&ad(lr.webResult[Dt])&&pi.set("MSFPC",lr.webResult[Dt],365*86400)}}catch{}}function Ii(Ge,At,Zt,lr){if(Ge&&Ge[br]>0&&se){var on=se[ko(At)];if(on){var ei=Zt!==0;Pl(Rt,function(){return"HttpManager:_sendBatchesNotification"},function(){_r(function(){try{on.call(se,Ge,At,ei,Zt)}catch(St){rf(wr,1,74,"send request notification failed: "+St)}},lr||ei,0)},function(){return{batches:Be(Ge),reason:At,isSync:ei,sendSync:lr,sendType:Zt}},!ei)}}}function ko(Ge){var At=ib[Ge];return ad(At)||(At=Ay,Ge>=9e3&&Ge<=9999?At=gv:Ge>=8e3&&Ge<=8999?At=ld:Ge>=1e3&&Ge<=1999&&(At=Vf)),At}})}return T.__ieDyn=1,T}(),f1=.25,zw=500,Hy=20,XC=6,QC=2,Uw=4,bg=2,a0=1,ea=1e4,op="eventsDiscarded",ta=void 0,c0=oe({eventsLimitInMem:{isVal:gc,v:ea},immediateEventLimit:{isVal:gc,v:500},autoFlushEventsLimit:{isVal:gc,v:0},disableAutoBatchFlushLimit:!1,httpXHROverride:{isVal:u0,v:ta},overrideInstrumentationKey:ta,overrideEndpointUrl:ta,disableTelemetry:!1,ignoreMc1Ms0CookieProcessing:!1,setTimeoutOverride:ta,clearTimeoutOverride:ta,payloadPreprocessor:ta,payloadListener:ta,disableEventTimings:ta,valueSanitizer:ta,stringifyObjects:ta,enableCompoundKey:ta,disableOptimizeObj:!1,transports:ta,unloadTransports:ta,useSendBeacon:ta,disableFetchKeepAlive:ta,avoidOptions:!1,xhrTimeout:ta,disableXhrSync:ta,alwaysUseXhrOverride:!1,maxEventRetryAttempts:{isVal:nn,v:XC},maxUnloadEventRetryAttempts:{isVal:nn,v:QC},addNoResponse:ta});function u0(T){return T&&T[Aw]}var l0=function(T){M_(L,T);function L(){var B=T.call(this)||this;B.identifier="PostChannel",B.priority=1011,B.version="4.0.4";var X,se=!1,Se=[],Te,Xe=!1,lt=0,gt,jt=0,Rr,wr={},Lt=e,Rt,qt,Et,ur,nr,yr,hn,pi,ci,ho,Jo,Io,zs,yc,eo,qc,jc,pa,Al,ba,wa,Ci;return ua(L,B,function(io,hd){ie(),io._getDbgPlgTargets=function(){return[nr,X]},io[ep]=function(nt,Tt,Ot){Pl(Tt,function(){return"PostChannel:initialize"},function(){hd[ep](nt,Tt,Ot),Al=Tt.getNotifyMgr();try{eo=pc(Lu(io[Yf]),Tt.evtNamespace&&Tt.evtNamespace()),io._addHook(Mu(nt,function(gr){var xr=gr.cfg,Nr=Ey(null,xr,Tt);X=Nr.getExtCfg(io[Yf],c0),qc=sm(X[My],X[Ny]),Jo=!X[eb]&&Ew(),jc=X[Lw],am(Tt),Rr=X[no],gt=X.immediateEventLimit,hn=X[KC],zs=X.maxEventRetryAttempts,yc=X.maxUnloadEventRetryAttempts,pa=X[wv],St(),wa=X[jy],Ci=!!X[RR],ba&&sb();var ti=xr.disablePageUnloadEvents||[];ba=ug(cm,ti,eo),ba=G_(cm,ti,eo)||ba,ba=Oy(m,xr.disablePageShowEvents,eo)||ba})),nr[ep](nt,io.core,io)}catch(gr){throw io.setInitialized(!1),gr}},function(){return{theConfig:nt,core:Tt,extensions:Ot}})},io.processTelemetry=function(nt,Tt){Wf(nt,io[Yf]),Tt=Tt||io._getTelCtx(Tt);var Ot=nt;!Ci&&!se&&(wa&&(Ot[$n]=wa),b(Ot,!0),Io?Be(2,2):$()),io.processNext(Ot,Tt)},io._doTeardown=function(nt,Tt){Be(2,2),se=!0,nr.teardown(),sb(),ie()};function sb(){fv(null,eo),bn(null,eo),Zp(null,eo)}function am(nt){var Tt=nt[Kf];nt[Kf]=function(){var Ot=0;return jc&&(Ot=Ot|2),Ot|Tt.call(nt)}}function cm(nt){var Tt=nt||Su().event;Tt.type!=="beforeunload"&&(Io=!0,nr[$C](Io)),Be(2,2)}function m(nt){Io=!1,nr[$C](Io)}function b(nt,Tt){if(nt[Jf]||(nt[Jf]=0),nt[fd]||(nt[fd]=1),nt.ext&&nt.ext[Kt]&&delete nt.ext[Kt],nt.ext&&nt.ext[Ar]&&nt.ext[Ar].id&&delete nt.ext[Ar].id,Jo&&(nt.ext=ku(nt.ext),nt[YC]&&(nt[YC]=ku(nt[YC])),nt[qu]&&(nt[qu]=ku(nt[qu]))),nt[np]){if(Et||Xe)nt[fd]=3,nt[np]=!1;else if(nr){Jo&&(nt=ku(nt)),nr[ER](kl.create(nt[$n],[nt]),nt[np]===!0?1:nt[np],3);return}}var Ot=nt[fd],gr=jt,xr=Rr;Ot===4&&(gr=lt,xr=gt);var Nr=!1;if(gr<xr)Nr=!ot(nt,Tt);else{var ti=1,Xo=Hy;Ot===4&&(ti=4,Xo=1),Nr=!0,_t(nt[$n],nt[fd],ti,Xo)&&(Nr=!ot(nt,Tt))}Nr&&ko(op,[nt],sc.QueueFull)}io.setEventQueueLimits=function(nt,Tt){X[no]=Rr=gc(nt)?nt:ea,X[KC]=hn=gc(Tt)?Tt:0,St();var Ot=jt>nt;if(!Ot&&pi>0)for(var gr=1;!Ot&&gr<=3;gr++){var xr=yr[gr];xr&&xr[nl]&&si(xr[nl],function(Nr){Nr&&Nr[Rn]()>=pi&&(Ot=!0)})}wt(!0,Ot)},io.pause=function(){Ie(),Xe=!0,nr.pause()},io.resume=function(){Xe=!1,nr.resume(),$()},io._loadTransmitProfiles=function(nt){Pr(),Vr(nt,function(Tt,Ot){var gr=Ot[br];if(gr>=2){var xr=gr>2?Ot[2]:0;if(Ot[yv](0,gr-2),Ot[1]<0&&(Ot[0]=-1),Ot[1]>0&&Ot[0]>0){var Nr=Ot[0]/Ot[1];Ot[0]=Math.ceil(Nr)*Ot[1]}xr>=0&&Ot[1]>=0&&xr>Ot[1]&&(xr=Ot[1]),Ot[vc](xr),wr[Tt]=Ot}})},io.flush=function(nt,Tt,Ot){nt===void 0&&(nt=!0);var gr;if(!Xe)if(Ot=Ot||1,nt)Tt||(gr=Z(function(Nr){Tt=Nr})),Te==null?(Ie(),Qt(1,0,Ot),Te=ge(function(){Te=null,Vt(Tt,Ot)},0)):Se[vc](Tt);else{var xr=Ie();I(1,1,Ot),Tt&&Tt(),xr&&$()}return gr},io.setMsaAuthTicket=function(nt){nr.addHeader(We,nt)},io.hasEvents=j,io._setTransmitProfile=function(nt){Lt!==nt&&wr[nt]!==void 0&&(Ie(),Lt=nt,$())},Wd(io,function(){return nr},["addResponseHandler"]);function I(nt,Tt,Ot){var gr=Qt(nt,Tt,Ot);return nr[Gf](Tt,Ot),gr}function j(){return jt>0}function $(){if(ci>=0&&Qt(ci,0,ho)&&nr[Gf](0,ho),lt>0&&!qt&&!Xe){var nt=wr[Lt][2];nt>=0&&(qt=ge(function(){qt=null,I(4,0,1),$()},nt))}var Tt=wr[Lt][1];!Rt&&!Te&&Tt>=0&&!Xe&&(j()?Rt=ge(function(){Rt=null,I(ur===0?3:1,0,1),ur++,ur%=2,$()},Tt):ur=0)}io[Z_]=function(){Et<Uw&&(Et++,Ie(),$())},io._clearBackOff=function(){Et&&(Et=0,Ie(),$())};function ie(){X=null,se=!1,Se=[],Te=null,Xe=!1,lt=0,gt=500,jt=0,Rr=ea,wr={},Lt=e,Rt=null,qt=null,Et=0,ur=0,yr={},hn=0,ba=!1,pi=0,ci=-1,ho=null,Jo=!0,Io=!1,zs=XC,yc=QC,eo=null,wa=null,Ci=!1,qc=sm(),nr=new _g(zw,bg,a0,{requeue:Mn,send:At,sent:Zt,drop:lr,rspFail:on,oth:ei}),Ir(),et(),St()}function ge(nt,Tt){Tt===0&&Et&&(Tt=1);var Ot=1e3;return Et&&(Ot=zy(Et-1)),qc.set(nt,Tt*Ot)}function Ie(){return Rt!==null?(Rt.cancel(),Rt=null,ur=0,!0):!1}function Be(nt,Tt){Ie(),Te&&(Te.cancel(),Te=null),Xe||I(1,nt,Tt)}function et(){yr[4]={batches:[],iKeyMap:{}},yr[3]={batches:[],iKeyMap:{}},yr[2]={batches:[],iKeyMap:{}},yr[1]={batches:[],iKeyMap:{}}}function Ve(nt,Tt,Ot){var gr=yr[Tt];gr||(Tt=1,gr=yr[Tt]);var xr=gr.iKeyMap[nt];return!xr&&Ot&&(xr=kl.create(nt),gr.batches[vc](xr),gr.iKeyMap[nt]=xr),xr}function wt(nt,Tt){nr[qy]()&&!Et&&(hn>0&&jt>hn&&(Tt=!0),Tt&&Te==null&&io.flush(nt,function(){},20))}function ot(nt,Tt){Jo&&(nt=ku(nt));var Ot=nt[fd],gr=Ve(nt[$n],Ot,!0);return gr.addEvent(nt)?(Ot!==4?(jt++,Tt&&nt[Jf]===0&&wt(!nt.sync,pi>0&&gr[Rn]()>=pi)):lt++,!0):!1}function _t(nt,Tt,Ot,gr){for(;Ot<=Tt;){var xr=Ve(nt,Tt,!0);if(xr&&xr[Rn]()>0){var Nr=xr[ja](0,gr),ti=Nr[Rn]();if(ti>0)return Ot===4?lt-=ti:jt-=ti,Ge(op,[Nr],sc.QueueFull),!0}Ot++}return it(),!1}function it(){for(var nt=0,Tt=0,Ot=function(xr){var Nr=yr[xr];Nr&&Nr[nl]&&si(Nr[nl],function(ti){xr===4?nt+=ti[Rn]():Tt+=ti[Rn]()})},gr=1;gr<=4;gr++)Ot(gr);jt=Tt,lt=nt}function Qt(nt,Tt,Ot){var gr=!1,xr=Tt===0;return!xr||nr[qy]()?Pl(io.core,function(){return"PostChannel._queueBatches"},function(){for(var Nr=[],ti=4;ti>=nt;){var Xo=yr[ti];Xo&&Xo.batches&&Xo.batches[br]>0&&(si(Xo[nl],function(wo){nr.addBatch(wo)?gr=gr||wo&&wo[Rn]()>0:Nr=Nr[Si](wo[ss]()),ti===4?lt-=wo[Rn]():jt-=wo[Rn]()}),Xo[nl]=[],Xo.iKeyMap={}),ti--}Nr[br]>0&&ko(op,Nr,sc.KillSwitch),gr&&ci>=nt&&(ci=-1,ho=0)},function(){return{latency:nt,sendType:Tt,sendReason:Ot}},!xr):(ci=ci>=0?Math.min(ci,nt):nt,ho=Math.max(ho,Ot)),gr}function Vt(nt,Tt){I(1,0,Tt),it(),_r(function(){nt&&nt(),Se[br]>0?Te=ge(function(){Te=null,Vt(Se.shift(),Tt)},0):(Te=null,$())})}function _r(nt){nr[e0]()?nt():Te=ge(function(){Te=null,_r(nt)},f1)}function Pr(){Ie(),Ir(),Lt=e,$()}function Ir(){wr={},wr[e]=[2,1,0],wr[t]=[6,3,0],wr[n]=[18,9,0]}function Mn(nt,Tt){var Ot=[],gr=zs;Io&&(gr=yc),si(nt,function(xr){xr&&xr[Rn]()>0&&si(xr[ss](),function(Nr){Nr&&(Nr[np]&&(Nr[fd]=4,Nr[np]=!1),Nr[Jf]<gr?(Wf(Nr,io[Yf]),b(Nr,!1)):Ot[vc](Nr))})}),Ot[br]>0&&ko(op,Ot,sc.NonRetryableStatus),Io&&Be(2,2)}function Ii(nt,Tt){var Ot=Al||{},gr=Ot[nt];if(gr)try{gr.apply(Ot,Tt)}catch(xr){rf(io.diagLog(),1,74,nt+" notification failed: "+xr)}}function ko(nt,Tt){for(var Ot=[],gr=2;gr<arguments.length;gr++)Ot[gr-2]=arguments[gr];Tt&&Tt[br]>0&&Ii(nt,[Tt][Si](Ot))}function Ge(nt,Tt){for(var Ot=[],gr=2;gr<arguments.length;gr++)Ot[gr-2]=arguments[gr];Tt&&Tt[br]>0&&si(Tt,function(xr){xr&&xr[Rn]()>0&&Ii(nt,[xr.events()][Si](Ot))})}function At(nt,Tt,Ot){nt&&nt[br]>0&&Ii("eventsSendRequest",[Tt>=1e3&&Tt<=1999?Tt-1e3:0,Ot!==!0])}function Zt(nt,Tt){Ge("eventsSent",nt,Tt),$()}function lr(nt,Tt){Ge(op,nt,Tt>=8e3&&Tt<=8999?Tt-8e3:sc.Unknown)}function on(nt){Ge(op,nt,sc.NonRetryableStatus),$()}function ei(nt,Tt){Ge(op,nt,sc.Unknown),$()}function St(){pa?pi=0:pi=Math.max(zw*(bg+1),Rr/6)}}),B}return L.__ieDyn=1,L}($_);r.BE_PROFILE=n,r.NRT_PROFILE=t,r.PostChannel=l0,r.RT_PROFILE=e})});var WSe=C(mb=>{"use strict";var xnt=mb&&mb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Ont=mb&&mb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),BSe=mb&&mb.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&xnt(e,r,t);return Ont(e,r),e};Object.defineProperty(mb,"__esModule",{value:!0});mb.oneDataSystemClientFactory=void 0;var Int=async(r,e,t)=>{let n=await Promise.resolve().then(()=>BSe(zSe())),i=await Promise.resolve().then(()=>BSe(HSe())),o=new n.AppInsightsCore,s=new i.PostChannel,a={instrumentationKey:r,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[s]]};if(t){a.extensionConfig={};let l={alwaysUseXhrOverride:!0,httpXHROverride:t};a.extensionConfig[s.identifier]=l}let u=e.workspace.getConfiguration("telemetry").get("internalTesting");return o.initialize(a,[]),o.addTelemetryInitializer(l=>{u&&(l.ext=l.ext??{},l.ext.utc=l.ext.utc??{},l.ext.utc.flags=8462029)}),o},knt=async(r,e,t)=>{let n=await Int(r,e,t);return{logEvent:(s,a)=>{try{n?.track({name:s,baseData:{name:s,properties:a?.properties,measurements:a?.measurements}})}catch(c){throw new Error(`Failed to log event to app insights!
`+c.message)}},flush:async()=>{try{return new Promise((a,c)=>{if(!n){a();return}n.flush(!0,u=>{if(!u){c("Failed to flush app 1DS!");return}})})}catch(s){throw new Error(`Failed to flush 1DS!
`+s.message)}},dispose:async()=>new Promise(a=>{if(!n){a();return}n.unload(!1,()=>{a(),n=void 0},1e3)})}};mb.oneDataSystemClientFactory=knt});var VSe=C((rz,$Se)=>{(function(r,e){typeof rz=="object"&&typeof $Se<"u"?e(rz):typeof define=="function"&&define.amd?define(["exports"],e):(r=typeof globalThis<"u"?globalThis:r||self,e((r.Microsoft=r.Microsoft||{},r.Microsoft.ApplicationInsights=r.Microsoft.ApplicationInsights||{})))})(rz,function(r){"use strict";var e=void 0,t=null,n="",i="function",o="number",s="object",a="prototype",c="__proto__",u="string",l="undefined",d="constructor",f="Symbol",p="_polyfill",_="indexOf",D="length",P="value",M="name",A="slice",U=Object,ne=U[a],pe=String,ve=pe[a],V=Math,W=Array,ee=W[a];function De(E,k){var z=k;try{z=E()}catch{}return z}function ae(E){return function(k){return typeof k===E}}function ue(E){var k="[object "+E+"]";return function(z){return!!(z&&Fe(z)===k)}}function Fe(E){return ne.toString.call(E)}function Me(E){return typeof E===l||E===l}function ce(E){return E===t||Me(E)}function Ce(E){return!!E||E!==e}var be=ae(u),xe=ae(i);function Ne(E){return!E&&ce(E)?!1:!!E&&typeof E===s}var $e=W.isArray,Ct=ae(o),ze=ue("Error"),st=U.getOwnPropertyDescriptor;function at(E,k){return E&&ne.hasOwnProperty.call(E,k)}var tt=U.hasOwn||fr;function fr(E,k){return at(E,k)||!!st(E,k)}function Lr(E,k,z){if(E&&Ne(E)){for(var Y in E)if(tt(E,Y)&&k.call(z||E,Y,E[Y])===-1)break}}function zr(E,k,z,Y){var _e={};return Lr(E,function(We,Ze){_e[We]=k?Ze:We,_e[Ze]=z?Ze:We}),Y(_e)}function cr(E){throw new Error(E)}function xt(E){throw new TypeError(E)}var hr=U.freeze,Mt=function(E){return E},nn=function(E){return E[c]||t},ln=U.assign;function On(E){return(!Ne(E)||E===t)&&xt("objKeys called on non-object"),U.keys(E)}function Or(E){return hr&&Lr(E,function(k,z){($e(z)||Ne(z))&&hr(z)}),Hn(E)}var Hn=hr||Mt,$r=U.getPrototypeOf||nn;function dn(E){return zr(E,1,0,Or)}function ii(E){var k={};return Lr(E,function(z,Y){k[z]=Y[1],k[Y[0]]=Y[1]}),Or(k)}function Vr(E){return ii(E)}var An=pe,xi="__tsUtils$gblCfg",Gr;function Qi(){var E;return typeof globalThis!==l&&(E=globalThis),!E&&typeof self!==l&&(E=self),!E&&typeof window!==l&&(E=window),!E&&typeof global!==l&&(E=global),E}function oi(){if(!Gr){var E=Qi()||{};Gr=E[xi]=E[xi]||{}}return Gr}function fn(E,k){var z=n;if(ze(E))z="{ stack: '"+E.stack+"', message: '"+E.message+"', name: '"+E.name+"'";else try{z=JSON.stringify(E,t,k?Ct(k)?k:4:e)}catch(Y){z=" - "+fn(Y,k)}return Fe(E)+": "+z}var Oe=ee[A],oe=function(E,k){xt("'"+An(E)+"' not defined for "+fn(k))},Q=function(E){return function(k){return k[E].apply(k,Oe.call(arguments,1))}},we=function(E,k){var z=k&&k[E];return function(Y){var _e=Y&&Y[E]||z;if(_e)return _e.apply(Y,Oe.call(arguments,1));oe(E,Y)}},Je=function(E,k,z){var Y=k&&k[E];return function(_e){var We=_e&&_e[E]||Y;if(We||z){var Ze=arguments;return(We||z).apply(_e,We?Oe.call(Ze,1):Ze)}oe(E,_e)}},ft=V.max,Yt=we(A,ve),rr=we("substring",ve),Jt=Je("substr",ve,$t);function $t(E,k,z){return ce(E)&&xt("'polyStrSubstr called with invalid "+fn(E)),z<0?n:(k=k||0,k<0&&(k=ft(k+E[D],0)),Me(z)?Yt(E,k):Yt(E,k,k+z))}function kt(E,k){return rr(E,0,k)}var K="_urid",qe;function Ht(){if(!qe){var E=oi();qe=E.gblSym=E.gblSym||{k:{},s:{}}}return qe}function Dr(E){var k={description:An(E),toString:function(){return f+"("+E+")"}};return k[p]=!0,k}function He(E){var k=Ht();if(!tt(k.k,E)){var z=Dr(E),Y=On(k.s).length;z[K]=function(){return Y+"_"+z.toString()},k.k[E]=z,k.s[z[K]()]=An(E)}return k.k[E]}var re={e:"enumerable",c:"configurable",v:P,w:"writable",g:"get",s:"set"};function Pe(E){var k={};if(k[re.c]=!0,k[re.e]=!0,E.l){k.get=function(){return E.l.v};var z=st(E.l,"v");z&&z.set&&(k.set=function(Y){E.l.v=Y})}return Lr(E,function(Y,_e){k[re[Y]]=Me(_e)?k[re[Y]]:_e}),k}var je=U.defineProperty;function fe(E,k,z){return je(E,k,Pe(z))}var S,de=function(){S=oi(),de=t};function Ye(E){var k={};return de&&de(),k.b=S.lzy,je(k,"v",{configurable:!0,get:function(){var z=E();return S.lzy||(je(k,"v",{value:z}),k.b&&delete k.b),S.lzy&&k.b!==S.lzy&&(k.b=S.lzy),z}}),k}function Tr(E,k){return Ye(function(){return De(E,k)})}var Wr="window",Xr,qn,Oi,Ms,Sn=function(E){return Tr(function(){return Vs(E)||e},e)},rs=function(E){return(!Xr||E===!1||S&&S.lzy&&!Xr.b)&&(Xr=Tr(Qi,t)),Xr.v},Vs=function(E,k){var z=!Xr||k===!1?rs(k):Xr.v;return z&&z[E]?z[E]:E===Wr&&qn?qn.v:t},oa=function(){return(!Oi||S&&S.lzy&&!Oi.b)&&(Oi=Sn("document")),Oi.v},jo=function(){return!!Ro()},Ro=function(){return(!qn||S&&S.lzy&&!qn.b)&&(qn=Sn(Wr)),qn.v},H=function(){return!!Ue()},Ue=function(){return(!Ms||S&&S.lzy&&!Ms.b)&&(Ms=Sn("navigator")),Ms.v},vt,Fr,ao;function $i(E){return Tr(function(){return vt.v?vt.v[E]:e},e)}function N(){var E=!vt||S&&S.lzy&&!vt.b;return E&&(vt=Sn(f)),(!Fr||E)&&(Fr=$i("for")),(!ao||E)&&(ao=$i("keyFor")),vt.v}function Le(E,k){return(!vt||S.lzy&&!vt.b)&&N(),vt.v?vt.v(E):k?t:Dr(E)}function rt(E){return(!Fr||S.lzy&&!vt.b)&&N(),(Fr.v||He)(E)}var zt=Q("apply");function Ln(E,k,z){if(E)for(var Y=E[D]>>>0,_e=0;_e<Y&&!(_e in E&&k.call(z||E,E[_e],_e,E)===-1);_e++);}var Cn=we(_,ee),Nn=we("map",ee),co=we(A,ee),Ui=Q("call"),Po=we("reduce",ee),Gi=U.create,Jn=Gi||Su;function Su(E){if(!E)return{};var k=typeof E;if(k!==s&&k!==i)throw new TypeError("Prototype must be an Object or function: "+fn(E));function z(){}return z[a]=E,new z}var ns;function _o(E,k){var z=U.setPrototypeOf||function(Y,_e){!ns&&(ns=Ye(function(){var We;return We={},We[c]=[],We instanceof Array})),ns.v?Y[c]=_e:Lr(_e,function(We,Ze){return Y[We]=Ze})};return z(E,k)}var yl=function(E,k,z){nc(k,E),k=_o(k,z);function Y(){this.constructor=k,nc(this,E)}return k[a]=z===t?Jn(z):(Y[a]=z[a],new Y),k},Fi=function(E,k){try{k&&(E[M]=k)}catch{}},nc=function(E,k){try{fe(E,M,{v:k,c:!0,e:!1})}catch{}};function ic(E,k,z){var Y=z||Error,_e=Y[a][M],We=Error.captureStackTrace;return yl(E,function(){var Ze=this;try{Fi(Y,E);var ct=zt(Y,Ze,co(arguments))||Ze;if(ct!==Ze){var Dt=$r(Ze);Dt!==$r(ct)&&_o(ct,Dt)}return We&&We(ct,Ze[d]),k&&k(ct,arguments),ct}finally{Fi(Y,_e)}},Y)}function va(){return(Date.now||_l)()}function _l(){return new Date().getTime()}function kh(E){return function(z){return ce(z)&&xt("strTrim called ["+fn(z)+"]"),z&&z.replace&&(z=z.replace(E,n)),z}}var Oc=kh(/^\s+|(?=\s)\s+$/g),sa=Je("trim",ve,Oc),Cu,Ah,Wo;function Gs(E){if(!E||typeof E!==s)return!1;Wo||(Wo=jo()?Ro():!0);var k=!1;if(E!==Wo){Ah||(Cu=Function[a].toString,Ah=Ui(Cu,U));try{var z=$r(E);k=!z,k||(at(z,d)&&(z=z[d]),k=z&&typeof z===i&&Cu.call(z)===Ah)}catch{}}return k}var Dn;function Ks(){return(!Dn||!Dn.b&&S&&S.lzy)&&(Dn=Sn("performance")),Dn.v}var Tu=Je("endsWith",ve,si);function si(E,k,z){be(E)||xt("'"+fn(E)+"' is not a string");var Y=be(k)?k:An(k),_e=Y[D],We=E[D],Ze=!Me(z)&&z<We?z:We;return rr(E,Ze-_e,Ze)===Y}var Ia=we(_,ve),iu="ref",Lh="un"+iu,Cf="hasRef",Pp="enabled";function Tf(E,k,z){var Y,_e=!0,We=E?k(t):t,Ze,ct=function(){return _e=!1,We&&We[Lh]&&We[Lh](),Ze},Dt=function(){return _e=!0,We&&We[iu]&&We[iu](),Ze},Kt=function(){return We&&We[Cf]?We[Cf]():_e},Ar=function(){return We=k(We),_e||ct(),Ze},jn=function(){We&&z(We),We=t},In=function(Qn){!Qn&&We&&jn(),Qn&&!We&&Ar()};return Ze=(Y={cancel:jn,refresh:Ar},Y[Cf]=Kt,Y[iu]=Dt,Y[Lh]=ct,Y[Pp]=!1,Y),je(Ze,Pp,{get:function(){return!!We},set:In}),{h:Ze,dn:function(){We=t}}}function xp(E,k,z,Y){var _e=$e(z),We=_e?z.length:0,Ze=(We>0?z[0]:_e?e:z)||setTimeout,ct=(We>1?z[1]:e)||clearTimeout,Dt=Y[0];Y[0]=function(){Kt.dn(),zt(Dt,E,co(arguments))};var Kt=Tf(k,function(Ar){if(Ar){if(Ar.refresh)return Ar.refresh(),Ar;zt(ct,E,[Ar])}return zt(Ze,E,Y)},function(Ar){zt(ct,E,[Ar])});return Kt.h}function Df(E,k){return xp(this,!0,e,co(arguments))}var Bl=dn,Xn=Vr,Ys="toLowerCase",Wl="blkVal",uo="length",Mh="rdOnly",Nh="notify",Js="warnToConsole",Du="throwInternal",Fh="setDf",Ld="watch",Ds="logger",$l="apply",ou="push",jm="splice",Md="hdlr",Ef="cancel",Rf="name",Ic="unload",bo="version",Op="loggingLevelConsole",Pf="messageId",aa="message",bl="diagLog",Eu="userAgent",gy="split",ca="replace",M_="logInternalMessage",Ku="traceId",Nd="spanId",$o="traceFlags",Vl;function qh(E,k){Vl||(Vl=ic("AggregationError",function(Y,_e){_e[uo]>1&&(Y.errors=_e[1])}));var z=E||"One or more errors occurred.";throw Ln(k,function(Y,_e){z+=`
`.concat(_e," > ").concat(fn(Y))}),new Vl(z,k||[])}var Jg="function",Fd="object",jh="undefined",Ip="prototype",Gl=Object,kp=Gl[Ip];(rs()||{}).Symbol,(rs()||{}).Reflect;var Yu="hasOwnProperty",zh=function(E){for(var k,z=1,Y=arguments.length;z<Y;z++){k=arguments[z];for(var _e in k)kp[Yu].call(k,_e)&&(E[_e]=k[_e])}return E},Ru=ln||zh,xf=function(E,k){return xf=Gl.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,Y){z.__proto__=Y}||function(z,Y){for(var _e in Y)Y[Yu](_e)&&(z[_e]=Y[_e])},xf(E,k)};function qd(E,k){typeof k!==Jg&&k!==null&&xt("Class extends value "+String(k)+" is not a constructor or null"),xf(E,k);function z(){this.constructor=E}E[Ip]=k===null?Jn(k):(z[Ip]=k[Ip],new z)}var Of,jd="constructor",Xs="prototype",ka="function",xo="_dynInstFuncs",su="_isDynProxy",oc="_dynClass",Xg="_dynCls$",Ju="_dynInstChk",Qs=Ju,Kl="_dfOpts",Ap="_unknown_",Pu="__proto__",wl="_dyn"+Pu,Uh="__dynProto$Gbl",kc="_dynInstProto",Xu="useBaseInst",Es="setInstFuncs",au=Object,Qu=au.getPrototypeOf,Zu=au.getOwnPropertyNames,ua=rs(),Qg=ua[Uh]||(ua[Uh]={o:(Of={},Of[Es]=!0,Of[Xu]=!0,Of),n:1e3});function sc(E){return E&&(E===au[Xs]||E===Array[Xs])}function Sl(E){return sc(E)||E===Function[Xs]}function Vo(E){var k;if(E){if(Qu)return Qu(E);var z=E[Pu]||E[Xs]||(E[jd]?E[jd][Xs]:null);k=E[wl]||z,at(E,wl)||(delete E[kc],k=E[wl]=E[kc]||E[wl],E[kc]=z)}return k}function Go(E,k){var z=[];if(Zu)z=Zu(E);else for(var Y in E)typeof Y=="string"&&at(E,Y)&&z.push(Y);if(z&&z.length>0)for(var _e=0;_e<z.length;_e++)k(z[_e])}function If(E,k,z){return k!==jd&&typeof E[k]===ka&&(z||at(E,k))}function el(E){xt("DynamicProto: "+E)}function kf(E){var k={};return Go(E,function(z){!k[z]&&If(E,z,!1)&&(k[z]=E[z])}),k}function zo(E,k){for(var z=E.length-1;z>=0;z--)if(E[z]===k)return!0;return!1}function Yl(E,k,z,Y){function _e(Dt,Kt,Ar){var jn=Kt[Ar];if(jn[su]&&Y){var In=Dt[xo]||{};In[Qs]!==!1&&(jn=(In[Kt[oc]]||{})[Ar]||jn)}return function(){return jn.apply(Dt,arguments)}}var We={};Go(z,function(Dt){We[Dt]=_e(k,z,Dt)});for(var Ze=Vo(E),ct=[];Ze&&!Sl(Ze)&&!zo(ct,Ze);)Go(Ze,function(Dt){!We[Dt]&&If(Ze,Dt,!Qu)&&(We[Dt]=_e(k,Ze,Dt))}),ct.push(Ze),Ze=Vo(Ze);return We}function Af(E,k,z,Y){var _e=null;if(E&&at(z,oc)){var We=E[xo]||{};if(_e=(We[z[oc]]||{})[k],_e||el("Missing ["+k+"] "+ka),!_e[Ju]&&We[Qs]!==!1){for(var Ze=!at(E,k),ct=Vo(E),Dt=[];Ze&&ct&&!Sl(ct)&&!zo(Dt,ct);){var Kt=ct[k];if(Kt){Ze=Kt===Y;break}Dt.push(ct),ct=Vo(ct)}try{Ze&&(E[k]=_e),_e[Ju]=1}catch{We[Qs]=!1}}}return _e}function ya(E,k,z){var Y=k[E];return Y===z&&(Y=Vo(k)[E]),typeof Y!==ka&&el("["+E+"] is not a "+ka),Y}function xu(E,k,z,Y,_e){function We(Dt,Kt){var Ar=function(){var jn=Af(this,Kt,Dt,Ar)||ya(Kt,Dt,Ar);return jn.apply(this,arguments)};return Ar[su]=1,Ar}if(!sc(E)){var Ze=z[xo]=z[xo]||{},ct=Ze[k]=Ze[k]||{};Ze[Qs]!==!1&&(Ze[Qs]=!!_e),Go(z,function(Dt){If(z,Dt,!1)&&z[Dt]!==Y[Dt]&&(ct[Dt]=z[Dt],delete z[Dt],(!at(E,Dt)||E[Dt]&&!E[Dt][su])&&(E[Dt]=We(E,Dt)))})}}function la(E,k){if(Qu){for(var z=[],Y=Vo(k);Y&&!Sl(Y)&&!zo(z,Y);){if(Y===E)return!0;z.push(Y),Y=Vo(Y)}return!1}return!0}function Ns(E,k){return at(E,Xs)?E.name||k||Ap:((E||{})[jd]||{}).name||k||Ap}function Jl(E,k,z,Y){at(E,Xs)||el("theClass is an invalid class definition.");var _e=E[Xs];la(_e,k)||el("["+Ns(E)+"] not in hierarchy of ["+Ns(k)+"]");var We=null;at(_e,oc)?We=_e[oc]:(We=Xg+Ns(E,"_")+"$"+Qg.n,Qg.n++,_e[oc]=We);var Ze=Jl[Kl],ct=!!Ze[Xu];ct&&Y&&Y[Xu]!==void 0&&(ct=!!Y[Xu]);var Dt=kf(k),Kt=Yl(_e,k,Dt,ct);z(k,Kt);var Ar=!!Qu&&!!Ze[Es];Ar&&Y&&(Ar=!!Y[Es]),xu(_e,We,k,Dt,Ar!==!1)}Jl[Kl]=Qg.o;var vy=void 0,vs="",cu="Not dynamic - ",Cl=/-([a-z])/g,Hh=/([^\w\d_$])/g,zd=/^(\d+[\w\d_$])/;function Lp(E){return!ce(E)}function ac(E){var k=E;return k&&be(k)&&(k=k[ca](Cl,function(z,Y){return Y.toUpperCase()}),k=k[ca](Hh,"_"),k=k[ca](zd,function(z,Y){return"_"+Y})),k}function zm(E,k){return E&&k?Ia(E,k)!==-1:!1}function Hi(E){return E&&E.toISOString()||""}function is(E){return ze(E)?E[Rf]:vs}function tl(E){return function(){function k(){var z=this;E&&Lr(E,function(Y,_e){z[Y]=_e})}return k}()}var Ac="console",Lc="JSON",da="crypto",Tl="msCrypto",Ki="msie",Lf="trident/",wi=null,Aa=null,Bn=null;function Ud(){return typeof console!==jh?console:Vs(Ac)}function Xl(){return!!(typeof JSON===Fd&&JSON||Vs(Lc)!==null)}function Mc(){return Xl()?JSON||Vs(Lc):null}function Ko(){return Vs(da)}function cc(){return Vs(Tl)}function fa(){var E=Ue();if(E&&(E[Eu]!==Aa||wi===null)){Aa=E[Eu];var k=(Aa||vs)[Ys]();wi=zm(k,Ki)||zm(k,Lf)}return wi}function lo(E){return(Bn===null||E===!1)&&(Bn=H()&&!!Ue().sendBeacon),Bn}function Ou(E,k){if(E)for(var z=0;z<E[uo];z++){var Y=E[z];if(Y[Rf]&&Y[Rf]===k)return Y}return{}}function Fn(E){var k=oa();return k&&E?Ou(k.querySelectorAll("meta"),E).content:null}function uu(E){var k,z=Ks();if(z){var Y=z.getEntriesByType("navigation")||[];k=Ou((Y[uo]>0?Y[0]:{}).serverTiming,E).description}return k}var Oo=4294967296,ai=4294967295,Ql=123456789,La=987654321,_a=!1,ha=Ql,Zl=La;function uc(E){E<0&&(E>>>=0),ha=Ql+E&ai,Zl=La-E&ai,_a=!0}function Hd(){try{var E=va()&2147483647;uc((Math.random()*Oo^E)+E)}catch{}}function Rs(E){return E>0?Math.floor(lu()/ai*(E+1))>>>0:0}function lu(E){var k=0,z=Ko()||cc();return z&&z.getRandomValues&&(k=z.getRandomValues(new Uint32Array(1))[0]&ai),k===0&&fa()&&(_a||Hd(),k=Dl()&ai),k===0&&(k=Math.floor(Oo*Math.random()|0)),E||(k>>>=0),k}function Dl(E){Zl=36969*(Zl&65535)+(Zl>>16)&ai,ha=18e3*(ha&65535)+(ha>>16)&ai;var k=(Zl<<16)+(ha&65535)>>>0&ai|0;return E||(k>>>=0),k}function ed(E){E===void 0&&(E=22);for(var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",z=lu()>>>0,Y=0,_e=vs;_e[uo]<E;)Y++,_e+=k.charAt(z&63),z>>>=6,Y===5&&(z=(lu()<<2&4294967295|z&3)>>>0,Y=0);return _e}var Bd="3.0.5",g="."+ed(6),v=0;function R(E,k){return k===void 0&&(k=!1),ac(E+v+++(k?"."+Bd:vs)+g)}function O(E){return E&&Ne(E)&&(E.isVal||E.fb||tt(E,"v")||tt(E,"mrg")||tt(E,"ref")||E.set)}function F(E,k,z){var Y,_e=z.dfVal||Ce;if(k&&z.fb){var We=z.fb;$e(We)||(We=[We]);for(var Ze=0;Ze<We[uo];Ze++){var ct=We[Ze],Dt=k[ct];if(_e(Dt)?Y=Dt:E&&(Dt=E.cfg[ct],_e(Dt)&&(Y=Dt),E.set(E.cfg,An(ct),Dt)),_e(Y))break}}return!_e(Y)&&_e(z.v)&&(Y=z.v),Y}function J(E,k,z){var Y=z;if(z&&O(z)&&(Y=F(E,k,z)),Y){O(Y)&&(Y=J(E,k,Y));var _e;$e(Y)?(_e=[],_e[uo]=Y[uo]):Gs(Y)&&(_e={}),_e&&(Lr(Y,function(We,Ze){Ze&&O(Ze)&&(Ze=J(E,k,Ze)),_e[We]=Ze}),Y=_e)}return Y}function Z(E,k,z,Y){var _e,We,Ze,ct=Y,Dt,Kt,Ar,jn;O(ct)?(_e=ct.isVal,We=ct.set,Ar=ct[Mh],jn=ct[Wl],Dt=ct.mrg,Kt=ct.ref,!Kt&&Me(Kt)&&(Kt=!!Dt),Ze=F(E,k,ct)):Ze=Y,jn&&E[Wl](k,z);var In,Qn=!0,Qr=k[z];(Qr||!ce(Qr))&&(In=Qr,Qn=!1,_e&&In!==Ze&&!_e(In)&&(In=Ze,Qn=!0),We&&(In=We(In,Ze,k),Qn=In===Ze)),Qn?Ze?In=J(E,k,Ze):In=Ze:(Gs(In)||$e(Ze))&&Dt&&Ze&&(Gs(Ze)||$e(Ze))&&Lr(Ze,function(Zn,br){Z(E,In,Zn,br)}),E.set(k,z,In),Kt&&E.ref(k,z),Ar&&E[Mh](k,z)}var he=rt("[[ai_dynCfg_1]]"),ke=rt("[[ai_blkDynCfg_1]]"),Qe=rt("[[ai_frcDynCfg_1]]");function ht(E){if(E){var k;if($e(E)?(k=[],k[uo]=E[uo]):Gs(E)&&(k={}),k)return Lr(E,function(z,Y){k[z]=ht(Y)}),k}return E}function Ut(E){if(E){var k=E[he]||E;if(k.cfg&&(k.cfg===E||k.cfg[he]===k))return k}return null}function Sr(E){if(E&&(Gs(E)||$e(E)))try{E[ke]=!0}catch{}return E}function an(E,k,z){var Y=!1;return z&&!E[k.blkVal]&&(Y=z[Qe],!Y&&!z[ke]&&(Y=Gs(z)||$e(z))),Y}function jr(E){xt("InvalidAccess:"+E)}var Wn=["push","pop","shift","unshift","splice"],Zs=function(E,k,z,Y){E&&E[Du](3,108,"".concat(z," [").concat(k,"] failed - ")+fn(Y))};function lc(E,k,z){$e(k)&&Ln(Wn,function(Y){var _e=k[Y];k[Y]=function(){for(var We=[],Ze=0;Ze<arguments.length;Ze++)We[Ze]=arguments[Ze];var ct=_e[$l](this,We);return Np(E,k,z,"Patching"),ct}})}function Iu(E,k){var z=st(E,k);return z&&z.get}function Mp(E,k,z,Y){var _e={n:z,h:[],trk:function(Kt){Kt&&Kt.fn&&(Cn(_e.h,Kt)===-1&&_e.h[ou](Kt),E.trk(Kt,_e))},clr:function(Kt){var Ar=Cn(_e.h,Kt);Ar!==-1&&_e.h[jm](Ar,1)}},We=!0,Ze=!1;function ct(){We&&(Ze=Ze||an(ct,E,Y),Y&&!Y[he]&&Ze&&(Y=Np(E,Y,z,"Converting")),We=!1);var Kt=E.act;return Kt&&_e.trk(Kt),Y}ct[E.prop]={chng:function(){E.add(_e)}};function Dt(Kt){if(Y!==Kt){ct[E.ro]&&!E.upd&&jr("["+z+"] is read-only:"+fn(k)),We&&(Ze=Ze||an(ct,E,Y),We=!1);var Ar=Ze&&ct[E.rf];if(Ze)if(Ar){Lr(Y,function(In){Y[In]=Kt?Kt[In]:vy});try{Lr(Kt,function(In,Qn){Um(E,Y,In,Qn)}),Kt=Y}catch(In){Zs((E.hdlr||{})[Ds],z,"Assigning",In),Ze=!1}}else Y&&Y[he]&&Lr(Y,function(In){var Qn=Iu(Y,In);if(Qn){var Qr=Qn[E.prop];Qr&&Qr.chng()}});if(Kt!==Y){var jn=Kt&&an(ct,E,Kt);!Ar&&jn&&(Kt=Np(E,Kt,z,"Converting")),Y=Kt,Ze=jn}E.add(_e)}}fe(k,_e.n,{g:ct,s:Dt})}function Um(E,k,z,Y){if(k){var _e=Iu(k,z),We=_e&&!!_e[E.prop];We?k[z]=Y:Mp(E,k,z,Y)}return k}function Ma(E,k,z,Y){if(k){var _e=Iu(k,z),We=_e&&!!_e[E.prop],Ze=Y&&Y[0],ct=Y&&Y[1],Dt=Y&&Y[2];if(!We){if(Dt)try{Sr(k)}catch(Kt){Zs((E.hdlr||{})[Ds],z,"Blocking",Kt)}try{Um(E,k,z,k[z]),_e=Iu(k,z)}catch(Kt){Zs((E.hdlr||{})[Ds],z,"State",Kt)}}Ze&&(_e[E.rf]=Ze),ct&&(_e[E.ro]=ct),Dt&&(_e[E.blkVal]=!0)}return k}function Np(E,k,z,Y){try{Lr(k,function(_e,We){Um(E,k,_e,We)}),k[he]||(je(k,he,{get:function(){return E[Md]}}),lc(E,k,z))}catch(_e){Zs((E.hdlr||{})[Ds],z,Y,_e)}return k}var Bh="[[ai_",Wd="]]";function ku(E){var k,z=Le(Bh+"get"+E.uid+Wd),Y=Le(Bh+"ro"+E.uid+Wd),_e=Le(Bh+"rf"+E.uid+Wd),We=Le(Bh+"blkVal"+E.uid+Wd),Ze=Le(Bh+"dtl"+E.uid+Wd),ct=null,Dt=null,Kt;function Ar(Qr,Zn){var br=Kt.act;try{Kt.act=Qr,Qr&&Qr[Ze]&&(Ln(Qr[Ze],function($n){$n.clr(Qr)}),Qr[Ze]=[]),Zn({cfg:E.cfg,set:E.set.bind(E),setDf:E[Fh].bind(E),ref:E.ref.bind(E),rdOnly:E[Mh].bind(E)})}catch($n){var Si=E[Ds];throw Si&&Si[Du](1,107,fn($n)),$n}finally{Kt.act=br||null}}function jn(){if(ct){var Qr=ct;ct=null,Dt&&Dt[Ef](),Dt=null;var Zn=[];if(Ln(Qr,function(br){if(br&&(br[Ze]&&(Ln(br[Ze],function(Si){Si.clr(br)}),br[Ze]=null),br.fn))try{Ar(br,br.fn)}catch(Si){Zn[ou](Si)}}),ct)try{jn()}catch(br){Zn[ou](br)}Zn[uo]>0&&qh("Watcher error(s): ",Zn)}}function In(Qr){if(Qr&&Qr.h[uo]>0){ct||(ct=[]),Dt||(Dt=Df(function(){Dt=null,jn()},0));for(var Zn=0;Zn<Qr.h[uo];Zn++){var br=Qr.h[Zn];br&&Cn(ct,br)===-1&&ct[ou](br)}}}function Qn(Qr,Zn){if(Qr){var br=Qr[Ze]=Qr[Ze]||[];Cn(br,Zn)===-1&&br[ou](Zn)}}return Kt=(k={prop:z,ro:Y,rf:_e},k[Wl]=We,k[Md]=E,k.add=In,k[Nh]=jn,k.use=Ar,k.trk=Qn,k),Kt}function Zg(E,k){var z={fn:k,rm:function(){z.fn=null,E=null,k=null}};return E.use(z,k),z}function N_(E,k,z){var Y,_e=Ut(k);if(_e)return _e;var We=R("dyncfg",!0),Ze=k&&z!==!1?k:ht(k),ct;function Dt(){ct[Nh]()}function Kt(Si,$n,Rn){try{Si=Um(ct,Si,$n,Rn)}catch(ss){Zs(E,$n,"Setting value",ss)}return Si[$n]}function Ar(Si){return Zg(ct,Si)}function jn(Si,$n){ct.use(null,function(Rn){var ss=ct.upd;try{Me($n)||(ct.upd=$n),Si(Rn)}finally{ct.upd=ss}})}function In(Si,$n){var Rn;return Ma(ct,Si,$n,(Rn={},Rn[0]=!0,Rn))[$n]}function Qn(Si,$n){var Rn;return Ma(ct,Si,$n,(Rn={},Rn[1]=!0,Rn))[$n]}function Qr(Si,$n){var Rn;return Ma(ct,Si,$n,(Rn={},Rn[2]=!0,Rn))[$n]}function Zn(Si,$n){return $n&&Lr($n,function(Rn,ss){Z(br,Si,Rn,ss)}),Si}var br=(Y={uid:null,cfg:Ze},Y[Ds]=E,Y[Nh]=Dt,Y.set=Kt,Y[Fh]=Zn,Y[Ld]=Ar,Y.ref=In,Y[Mh]=Qn,Y[Wl]=Qr,Y._block=jn,Y);return fe(br,"uid",{c:!1,e:!1,w:!1,v:We}),ct=ku(br),Np(ct,Ze,"config","Creating"),br}function Fp(E,k){E?(E[Js](k),E[Du](2,108,k)):jr(k)}function qp(E,k,z,Y){var _e=N_(z,E||{},Y);return k&&_e[Fh](_e.cfg,k),_e}function F_(E,k,z){var Y=E[he]||E;return Y.cfg&&(Y.cfg===E||Y.cfg[he]===Y)?Y[Ld](k):(Fp(z,cu+fn(E)),qp(E,null,z)[Ld](k))}var q_=null;function j_(){var E=Vs("Microsoft");return E&&(q_=E.ApplicationInsights),q_}function vw(E){var k=q_;return!k&&E.disableDbgExt!==!0&&(k=q_||j_()),k?k.ChromeDbgExt:null}var Hm,yy="warnToConsole",z_="AI (Internal): ",U_="AI: ",Bm="AITR_",jp={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},yw=(Hm={},Hm[0]=null,Hm[1]="errorToConsole",Hm[2]=yy,Hm[3]="debugToConsole",Hm);function H_(E){return E?'"'+E[ca](/\"/g,vs)+'"':vs}function zp(E,k){var z=Ud();if(z){var Y="log";z[E]&&(Y=E),xe(z[Y])&&z[Y](k)}}var _y=function(){function E(k,z,Y,_e){Y===void 0&&(Y=!1);var We=this;We[Pf]=k,We[aa]=(Y?U_:z_)+k;var Ze=vs;Xl()&&(Ze=Mc().stringify(_e));var ct=(z?" message:"+H_(z):vs)+(_e?" props:"+H_(Ze):vs);We[aa]+=ct}return E.dataType="MessageData",E}();function $d(E,k){return(E||{})[Ds]||new Zi(k)}var Zi=function(){function E(k){this.identifier="DiagnosticLogger",this.queue=[];var z=0,Y={},_e,We,Ze,ct,Dt;Jl(E,this,function(Kt){Dt=jn(k||{}),Kt.consoleLoggingLevel=function(){return _e},Kt[Du]=function(Qr,Zn,br,Si,$n){$n===void 0&&($n=!1);var Rn=new _y(Zn,br,$n,Si);if(ct)throw fn(Rn);var ss=yw[Qr]||yy;if(Me(Rn[aa]))Qn("throw"+(Qr===1?"Critical":"Warning"),Rn);else{if($n){var vc=+Rn[Pf];!Y[vc]&&_e>=Qr&&(Kt[ss](Rn[aa]),Y[vc]=!0)}else _e>=Qr&&Kt[ss](Rn[aa]);Ar(Qr,Rn)}},Kt.debugToConsole=function(Qr){zp("debug",Qr),Qn("warning",Qr)},Kt[Js]=function(Qr){zp("warn",Qr),Qn("warning",Qr)},Kt.errorToConsole=function(Qr){zp("error",Qr),Qn("error",Qr)},Kt.resetInternalMessageCount=function(){z=0,Y={}},Kt[M_]=Ar,Kt[Ic]=function(Qr){Dt&&Dt.rm(),Dt=null};function Ar(Qr,Zn){if(!In()){var br=!0,Si=Bm+Zn[Pf];if(Y[Si]?br=!1:Y[Si]=!0,br&&(Qr<=We&&(Kt.queue[ou](Zn),z++,Qn(Qr===1?"error":"warn",Zn)),z===Ze)){var $n="Internal events throttle limit per PageView reached for this app.",Rn=new _y(23,$n,!1);Kt.queue[ou](Rn),Qr===1?Kt.errorToConsole($n):Kt[Js]($n)}}}function jn(Qr){return F_(qp(Qr,jp,Kt).cfg,function(Zn){var br=Zn.cfg;_e=br[Op],We=br.loggingLevelTelemetry,Ze=br.maxMessageLimit,ct=br.enableDebug})}function In(){return z>=Ze}function Qn(Qr,Zn){var br=vw(k||{});br&&br[bl]&&br[bl](Qr,Zn)}})}return E.__ieDyn=1,E}();function Wm(E){return E||new Zi}function fo(E,k,z,Y,_e,We){We===void 0&&(We=!1),Wm(E)[Du](k,z,Y,_e,We)}function B_(){for(var E=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],k=vs,z,Y=0;Y<4;Y++)z=lu(),k+=E[z&15]+E[z>>4&15]+E[z>>8&15]+E[z>>12&15]+E[z>>16&15]+E[z>>20&15]+E[z>>24&15]+E[z>>28&15];var _e=E[8+(lu()&3)|0];return Jt(k,0,8)+Jt(k,9,4)+"4"+Jt(k,13,3)+_e+Jt(k,16,3)+Jt(k,19,12)}var by=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,Vd="00",Up="ff",du="00000000000000000000000000000000",Gd="0000000000000000",Kd=1;function Fs(E,k,z){return E&&E[uo]===k&&E!==z?!!E.match(/^[\da-f]*$/i):!1}function fi(E,k,z){return Fs(E,k)?E:z}function Au(E){(isNaN(E)||E<0||E>255)&&(E=1);for(var k=E.toString(16);k[uo]<2;)k="0"+k;return k}function os(E,k,z,Y){var _e;return _e={},_e[bo]=Fs(Y,2,Up)?Y:Vd,_e[Ku]=$m(E)?E:B_(),_e[Nd]=Hp(k)?k:kt(B_(),16),_e.traceFlags=z>=0&&z<=255?z:1,_e}function Yd(E,k){var z;if(!E||($e(E)&&(E=E[0]||""),!E||!be(E)||E[uo]>8192))return null;if(E.indexOf(",")!==-1){var Y=E[gy](",");E=Y[k>0&&Y[uo]>k?k:0]}var _e=by.exec(sa(E));return!_e||_e[1]===Up||_e[2]===du||_e[3]===Gd?null:(z={version:(_e[1]||vs)[Ys](),traceId:(_e[2]||vs)[Ys](),spanId:(_e[3]||vs)[Ys]()},z[$o]=parseInt(_e[4],16),z)}function $m(E){return Fs(E,32,du)}function Hp(E){return Fs(E,16,Gd)}function Bp(E){return!(!E||!Fs(E[bo],2,Up)||!Fs(E[Ku],32,du)||!Fs(E[Nd],16,Gd)||!Fs(Au(E[$o]),2))}function Mf(E){return Bp(E)?(E[$o]&Kd)===Kd:!1}function W_(E){if(E){var k=Au(E[$o]);Fs(k,2)||(k="01");var z=E[bo]||Vd;return z!=="00"&&z!=="ff"&&(z=Vd),"".concat(z.toLowerCase(),"-").concat(fi(E.traceId,32,du).toLowerCase(),"-").concat(fi(E.spanId,16,Gd).toLowerCase(),"-").concat(k.toLowerCase())}return""}function Vm(E){var k="traceparent",z=Yd(Fn(k),E);return z||(z=Yd(uu(k),E)),z}var Gm="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Na="sampleRate",Jd="ProcessLegacy",Nc="http.method",Lu="https://dc.services.visualstudio.com",Km="/v2/track",El="not_specified",Ym="iKey",ev=Xn({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),Wp="split",En="length",Xd="toLowerCase",qs="ingestionendpoint",Nf="toString",wy="removeItem",dc="name",Qd="message",$p="count",Sy="preTriggerDate",Rl="disabled",tv="interval",Jm="daysOfMonth",Cy="date",rv="getUTCDate",Zd="stringify",Ff="pathname",Xm="correlationHeaderExcludePatterns",Vp="extensionConfig",nv="exceptions",fu="parsedStack",fc="properties",qf="measurements",rl="sizeInBytes",Mu="typeName",Wh="severityLevel",ef="problemGroup",iv="isManual",Gp="CreateFromInterface",Kp="assembly",$h="fileName",tf="hasFullStack",Qm="level",Yp="method",Zm="line",jf="duration",Vh="receivedResponse";function eg(E,k,z){var Y=k[En],_e=_w(E,k);if(_e[En]!==Y){for(var We=0,Ze=_e;z[Ze]!==void 0;)We++,Ze=rr(_e,0,147)+Fc(We);_e=Ze}return _e}function _w(E,k){var z;return k&&(k=sa(An(k)),k[En]>150&&(z=rr(k,0,150),fo(E,2,57,"name is too long.  It has been truncated to 150 characters.",{name:k},!0))),z||k}function hc(E,k,z){z===void 0&&(z=1024);var Y;return k&&(z=z||1024,k=sa(An(k)),k[En]>z&&(Y=rr(k,0,z),fo(E,2,61,"string value is too long. It has been truncated to "+z+" characters.",{value:k},!0))),Y||k}function Ty(E,k){return sv(E,k,2048,66)}function rf(E,k){var z;return k&&k[En]>32768&&(z=rr(k,0,32768),fo(E,2,56,"message is too long, it has been truncated to 32768 characters.",{message:k},!0)),z||k}function ov(E,k){var z;if(k){var Y=""+k;Y[En]>32768&&(z=rr(Y,0,32768),fo(E,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:k},!0))}return z||k}function nf(E,k){if(k){var z={};Lr(k,function(Y,_e){if(Ne(_e)&&Xl())try{_e=Mc()[Zd](_e)}catch(We){fo(E,2,49,"custom property is not valid",{exception:We},!0)}_e=hc(E,_e,8192),Y=eg(E,Y,z),z[Y]=_e}),k=z}return k}function zf(E,k){if(k){var z={};Lr(k,function(Y,_e){Y=eg(E,Y,z),z[Y]=_e}),k=z}return k}function tg(E,k){return k&&sv(E,k,128,69)[Nf]()}function sv(E,k,z,Y){var _e;return k&&(k=sa(An(k)),k[En]>z&&(_e=rr(k,0,z),fo(E,2,Y,"input is too long, it has been truncated to "+z+" characters.",{data:k},!0))),_e||k}function Fc(E){var k="00"+E;return Jt(k,k[En]-3)}var Pl=oa()||{},av=0,Dy=[null,null,null,null,null];function of(E){var k=av,z=Dy,Y=z[k];return Pl.createElement?z[k]||(Y=z[k]=Pl.createElement("a")):Y={host:qC(E,!0)},Y.href=E,k++,k>=z[En]&&(k=0),av=k,Y}function Jp(E){var k,z=of(E);return z&&(k=z.href),k}function Gh(E){var k,z=of(E);return z&&(k=z[Ff]),k}function bw(E,k){return E?E.toUpperCase()+" "+k:k}function qC(E,k){var z=sf(E,k)||"";if(z){var Y=z.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(Y!=null&&Y[En]>3&&be(Y[2])&&Y[2][En]>0)return Y[2]+(Y[3]||"")}return z}function sf(E,k){var z=null;if(E){var Y=E.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(Y!=null&&Y[En]>2&&be(Y[2])&&Y[2][En]>0&&(z=Y[2]||"",k&&Y[En]>2)){var _e=(Y[1]||"")[Xd](),We=Y[3]||"";(_e==="http"&&We===":80"||_e==="https"&&We===":443")&&(We=""),z+=We}}return z}var Ey=[Lu+Km,"https://breeze.aimon.applicationinsights.io"+Km,"https://dc-int.services.visualstudio.com"+Km],Ry="cid-v1:";function Py(E){return Cn(Ey,E[Xd]())!==-1}function cv(E){Ry=E}function JD(){return Ry}function uv(E,k,z){if(!k||E&&E.disableCorrelationHeaders)return!1;if(E&&E[Xm]){for(var Y=0;Y<E.correlationHeaderExcludePatterns[En];Y++)if(E[Xm][Y].test(k))return!1}var _e=of(k).host[Xd]();if(_e&&(Ia(_e,":443")!==-1||Ia(_e,":80")!==-1)&&(_e=(sf(k,!0)||"")[Xd]()),(!E||!E.enableCorsCorrelation)&&_e&&_e!==z)return!1;var We=E&&E.correlationHeaderDomains;if(We){var Ze;if(Ln(We,function(Kt){var Ar=new RegExp(Kt.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));Ze=Ze||Ar.test(_e)}),!Ze)return!1}var ct=E&&E.correlationHeaderExcludedDomains;if(!ct||ct[En]===0)return!0;for(var Y=0;Y<ct[En];Y++){var Dt=new RegExp(ct[Y].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(Dt.test(_e))return!1}return _e&&_e[En]>0}function XD(E){if(E){var k=td(E,ev[1]);if(k&&k!==Ry)return k}}function td(E,k){if(E)for(var z=E[Wp](","),Y=0;Y<z[En];++Y){var _e=z[Y][Wp]("=");if(_e[En]===2&&_e[0]===k)return _e[1]}}function Kh(E,k,z,Y){var _e,We=Y,Ze=Y;if(k&&k[En]>0){var ct=of(k);if(_e=ct.host,!We)if(ct[Ff]!=null){var Dt=ct.pathname[En]===0?"/":ct[Ff];Dt.charAt(0)!=="/"&&(Dt="/"+Dt),Ze=ct[Ff],We=hc(E,z?z+" "+Dt:Dt)}else We=hc(E,k)}else _e=Y,We=Y;return{target:_e,name:We,data:Ze}}function rg(){var E=Ks();if(E&&E.now&&E.timing){var k=E.now()+E.timing.navigationStart;if(k>0)return k}return va()}function $_(E,k){var z=null;return E!==0&&k!==0&&!ce(E)&&!ce(k)&&(z=k-E),z}function ng(E,k){var z=E||{};return{getName:function(){return z[dc]},setName:function(Y){k&&k.setName(Y),z[dc]=Y},getTraceId:function(){return z.traceID},setTraceId:function(Y){k&&k.setTraceId(Y),$m(Y)&&(z.traceID=Y)},getSpanId:function(){return z.parentID},setSpanId:function(Y){k&&k.setSpanId(Y),Hp(Y)&&(z.parentID=Y)},getTraceFlags:function(){return z.traceFlags},setTraceFlags:function(Y){k&&k.setTraceFlags(Y),z.traceFlags=Y}}}var rd=Bl({LocalStorage:0,SessionStorage:1}),xl=Bl({AI:0,AI_AND_W3C:1,W3C:2}),Uf=void 0,Hf=void 0,xy="";function Xp(){return Xh()?Fa(rd.LocalStorage):null}function Fa(E){try{if(ce(rs()))return null;var k=new Date()[Nf](),z=Vs(E===rd.LocalStorage?"localStorage":"sessionStorage"),Y=xy+k;z.setItem(Y,k);var _e=z.getItem(Y)!==k;if(z[wy](Y),!_e)return z}catch{}return null}function Yh(){return nd()?Fa(rd.SessionStorage):null}function Jh(){Uf=!1,Hf=!1}function V_(E){xy=E||""}function jC(){Uf=Xh(!0),Hf=nd(!0)}function Xh(E){return(E||Uf===void 0)&&(Uf=!!Fa(rd.LocalStorage)),Uf}function zC(E,k){var z=Xp();if(z!==null)try{return z.getItem(k)}catch(Y){Uf=!1,fo(E,2,1,"Browser failed read of local storage. "+is(Y),{exception:fn(Y)})}return null}function ig(E,k,z){var Y=Xp();if(Y!==null)try{return Y.setItem(k,z),!0}catch(_e){Uf=!1,fo(E,2,3,"Browser failed write to local storage. "+is(_e),{exception:fn(_e)})}return!1}function Qh(E,k){var z=Xp();if(z!==null)try{return z[wy](k),!0}catch(Y){Uf=!1,fo(E,2,5,"Browser failed removal of local storage item. "+is(Y),{exception:fn(Y)})}return!1}function nd(E){return(E||Hf===void 0)&&(Hf=!!Fa(rd.SessionStorage)),Hf}function lv(){var E=[];return nd()&&Lr(Vs("sessionStorage"),function(k){E.push(k)}),E}function Qp(E,k){var z=Yh();if(z!==null)try{return z.getItem(k)}catch(Y){Hf=!1,fo(E,2,2,"Browser failed read of session storage. "+is(Y),{exception:fn(Y)})}return null}function og(E,k,z){var Y=Yh();if(Y!==null)try{return Y.setItem(k,z),!0}catch(_e){Hf=!1,fo(E,2,4,"Browser failed write to session storage. "+is(_e),{exception:fn(_e)})}return!1}function dv(E,k){var z=Yh();if(z!==null)try{return z[wy](k),!0}catch(Y){Hf=!1,fo(E,2,6,"Browser failed removal of session storage item. "+is(Y),{exception:fn(Y)})}return!1}var ww="appInsightsThrottle",QD=function(){function E(k,z){var Y=this,_e,We,Ze,ct,Dt,Kt,Ar,jn=!1,In=!1;Qr(),Y._getDbgPlgTargets=function(){return[Ar]},Y.getConfig=function(){return Ze},Y.canThrottle=function(or){var un=ep(or),hi=Zn(or);return $n(hi,_e,un)},Y.isTriggered=function(or){return My(or)},Y.isReady=function(){return jn},Y.flush=function(or){try{var un=Ny(or);if(un&&un[En]>0){var hi=un.slice(0);return Ar[or]=[],Ln(hi,function(as){Qn(as.msgID,as[Qd],as.severity,!1)}),!0}}catch{}return!1},Y.flushAll=function(){try{if(Ar){var or=!0;return Lr(Ar,function(un){var hi=Y.flush(parseInt(un));or=or&&hi}),or}}catch{}return!1},Y.onReadyState=function(or,un){return un===void 0&&(un=!0),jn=ce(or)?!0:or,jn&&un?Y.flushAll():null},Y.sendMessage=function(or,un,hi){return Qn(or,un,hi,!0)};function Qn(or,un,hi,as){if(jn){var Ps=dd(or);if(!Ps)return;var xs=Zn(or),js=ep(or),mg=$n(xs,_e,js),tm=!1,rm=0,Ow=My(or);try{mg&&!Ow?(rm=Math.min(xs.limit.maxSendNumber,js[$p]+1),js[$p]=0,tm=!0,Dt[or]=!0,js[Sy]=new Date):(Dt[or]=mg,js[$p]+=1);var gg=Rn(or);yv(We,gg,js);for(var tp=0;tp<rm;tp++)Ly(or,We,un,hi)}catch{}return{isThrottled:tm,throttleNum:rm}}else if(as){var Fy=Ny(or);Fy.push({msgID:or,message:un,severity:hi})}return null}function Qr(){We=$d(k),Dt={},ct={},Ar={},Ze={},br(109),Kt=Lp(z)?z:"",k.addUnloadHook(F_(k.config,function(or){var un=or.cfg;_e=Xh();var hi=un.throttleMgrCfg||{};Lr(hi,function(as,Ps){br(parseInt(as),Ps)})}))}function Zn(or){return Ze[or]||Ze[109]}function br(or,un){var hi,as;try{var Ps=un||{},xs={};xs[Rl]=!!Ps[Rl];var js=Ps[tv]||{};In=js?.daysOfMonth&&js?.daysOfMonth[En]>0,xs[tv]=Si(js);var mg={samplingRate:((hi=Ps.limit)===null||hi===void 0?void 0:hi.samplingRate)||100,maxSendNumber:((as=Ps.limit)===null||as===void 0?void 0:as.maxSendNumber)||1};xs.limit=mg,Ze[or]=xs}catch{}}function Si(or){or=or||{};var un=or?.monthInterval,hi=or?.dayInterval;return ce(un)&&ce(hi)&&(or.monthInterval=3,In||(or[Jm]=[28],In=!0)),or={monthInterval:or?.monthInterval,dayInterval:or?.dayInterval,daysOfMonth:or?.daysOfMonth},or}function $n(or,un,hi){if(or&&!or[Rl]&&un&&Lp(hi)){var as=ja(),Ps=hi[Cy],xs=or[tv],js=1;if(xs?.monthInterval){var mg=(as.getUTCFullYear()-Ps.getUTCFullYear())*12+as.getUTCMonth()-Ps.getUTCMonth();js=pg(xs.monthInterval,0,mg)}var tm=1;if(In)tm=Cn(xs[Jm],as[rv]());else if(xs?.dayInterval){var rm=Math.floor((as.getTime()-Ps.getTime())/864e5);tm=pg(xs.dayInterval,0,rm)}return js>=0&&tm>=0}return!1}function Rn(or,un){var hi=Lp(un)?un:"";return or?ww+hi+"-"+or:null}function ss(or){try{if(or){var un=new Date;return or.getUTCFullYear()===un.getUTCFullYear()&&or.getUTCMonth()===un.getUTCMonth()&&or[rv]()===un[rv]()}}catch{}return!1}function vc(or,un,hi){try{var as={date:ja(),count:0};if(or){var Ps=JSON.parse(or),xs={date:ja(Ps[Cy])||as[Cy],count:Ps[$p]||as[$p],preTriggerDate:Ps.preTriggerDate?ja(Ps[Sy]):void 0};return xs}else return yv(un,hi,as),as}catch{}return null}function ja(or){try{if(or){var un=new Date(or);if(!isNaN(un.getDate()))return un}else return new Date}catch{}return null}function yv(or,un,hi){try{return ig(or,un,sa(JSON[Zd](hi)))}catch{}return!1}function pg(or,un,hi){return or<=0?1:hi>=un&&(hi-un)%or==0?Math.floor((hi-un)/or)+1:-1}function Ly(or,un,hi,as){fo(un,as||1,or,hi)}function dd(or){try{var un=Zn(or);return Rs(1e6)<=un.limit.samplingRate}catch{}return!1}function ep(or){try{var un=ct[or];if(!un){var hi=Rn(or,Kt);un=vc(zC(We,hi),We,hi),ct[or]=un}return ct[or]}catch{}return null}function My(or){var un=Dt[or];if(ce(un)){un=!1;var hi=ep(or);hi&&(un=ss(hi[Sy])),Dt[or]=un}return Dt[or]}function Ny(or){return Ar=Ar||{},ce(Ar[or])&&(Ar[or]=[]),Ar[or]}}return E}(),sg=";",UC="=";function pc(E){if(!E)return{};var k=E[Wp](sg),z=Po(k,function(_e,We){var Ze=We[Wp](UC);if(Ze[En]===2){var ct=Ze[0][Xd](),Dt=Ze[1];_e[ct]=Dt}return _e},{});if(On(z)[En]>0){if(z.endpointsuffix){var Y=z.location?z.location+".":"";z[qs]=z[qs]||"https://"+Y+"dc."+z.endpointsuffix}z[qs]=z[qs]||Lu,Tu(z[qs],"/")&&(z[qs]=z[qs].slice(0,-1))}return z}var ag={parse:pc},cg=function(){function E(k,z,Y){var _e=this,We=this;We.ver=1,We.sampleRate=100,We.tags={},We[dc]=hc(k,Y)||El,We.data=z,We.time=Hi(new Date),We.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return _e.sampleRate===100?4:1},tags:1,data:1}}return E}(),HC=function(){function E(k,z,Y,_e){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var We=this;We.ver=2,We[dc]=hc(k,z)||El,We[fc]=nf(k,Y),We[qf]=zf(k,_e)}return E.envelopeType="Microsoft.ApplicationInsights.{0}.Event",E.dataType="EventData",E}(),ZD="<no_method>",id="error",mc="stack",od="stackDetails",ug="errorSrc",fv="message",G_="description";function bn(E,k){var z=E;return z&&!be(z)&&(JSON&&JSON[Zd]?(z=JSON[Zd](E),k&&(!z||z==="{}")&&(xe(E[Nf])?z=E[Nf]():z=""+E)):z=""+E+" - (Missing JSON.stringify)"),z||""}function Oy(E,k){var z=E;return E&&(z&&!be(z)&&(z=E[fv]||E[G_]||z),z&&!be(z)&&(z=bn(z,!0)),E.filename&&(z=z+" @"+(E.filename||"")+":"+(E.lineno||"?")+":"+(E.colno||"?"))),k&&k!=="String"&&k!=="Object"&&k!=="Error"&&Ia(z||"",k)===-1&&(z=k+": "+z),z||""}function Zp(E){try{if(Ne(E))return"hasFullStack"in E&&"typeName"in E}catch{}return!1}function Bf(E){try{if(Ne(E))return"ver"in E&&"exceptions"in E&&"properties"in E}catch{}return!1}function lg(E){return E&&E.src&&be(E.src)&&E.obj&&$e(E.obj)}function qa(E){var k=E||"";be(k)||(be(k[mc])?k=k[mc]:k=""+k);var z=k[Wp](`
`);return{src:k,obj:z}}function K_(E){for(var k=[],z=E[Wp](`
`),Y=0;Y<z[En];Y++){var _e=z[Y];z[Y+1]&&(_e+="@"+z[Y+1],Y++),k.push(_e)}return{src:E,obj:k}}function hv(E){var k=null;if(E)try{if(E[mc])k=qa(E[mc]);else if(E[id]&&E[id][mc])k=qa(E[id][mc]);else if(E.exception&&E.exception[mc])k=qa(E.exception[mc]);else if(lg(E))k=E;else if(lg(E[od]))k=E[od];else if(Ro()&&Ro().opera&&E[fv])k=K_(E[Qd]);else if(E.reason&&E.reason[mc])k=qa(E.reason[mc]);else if(be(E))k=qa(E);else{var z=E[fv]||E[G_]||"";be(E[ug])&&(z&&(z+=`
`),z+=" from "+E[ug]),z&&(k=qa(z))}}catch(Y){k=qa(Y)}return k||{src:"",obj:null}}function Y_(E){var k="";return E&&(E.obj?Ln(E.obj,function(z){k+=z+`
`}):k=E.src||""),k}function sd(E){var k,z=E.obj;if(z&&z[En]>0){k=[];var Y=0,_e=0;Ln(z,function(Qr){var Zn=Qr[Nf]();if(Nu.regex.test(Zn)){var br=new Nu(Zn,Y++);_e+=br[rl],k.push(br)}});var We=32*1024;if(_e>We)for(var Ze=0,ct=k[En]-1,Dt=0,Kt=Ze,Ar=ct;Ze<ct;){var jn=k[Ze][rl],In=k[ct][rl];if(Dt+=jn+In,Dt>We){var Qn=Ar-Kt+1;k.splice(Kt,Qn);break}Kt=Ze,Ar=ct,Ze++,ct--}}return k}function dg(E){var k="";if(E&&(k=E.typeName||E[dc]||"",!k))try{var z=/function (.{1,200})\(/,Y=z.exec(E.constructor[Nf]());k=Y&&Y[En]>1?Y[1]:""}catch{}return k}function Zh(E){if(E)try{if(!be(E)){var k=dg(E),z=bn(E,!1);return(!z||z==="{}")&&(E[id]&&(E=E[id],k=dg(E)),z=bn(E,!0)),Ia(z,k)!==0&&k!=="String"?k+":"+z:z}}catch{}return""+(E||"")}var pv=function(){function E(k,z,Y,_e,We,Ze){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var ct=this;ct.ver=2,Bf(z)?(ct[nv]=z[nv]||[],ct[fc]=z[fc],ct[qf]=z[qf],z[Wh]&&(ct[Wh]=z[Wh]),z.id&&(ct.id=z.id),z[ef]&&(ct[ef]=z[ef]),ce(z[iv])||(ct[iv]=z[iv])):(Y||(Y={}),ct[nv]=[new fg(k,z,Y)],ct[fc]=nf(k,Y),ct[qf]=zf(k,_e),We&&(ct[Wh]=We),Ze&&(ct.id=Ze))}return E.CreateAutoException=function(k,z,Y,_e,We,Ze,ct,Dt){var Kt,Ar=dg(We||Ze||k);return Kt={},Kt[Qd]=Oy(k,Ar),Kt.url=z,Kt.lineNumber=Y,Kt.columnNumber=_e,Kt.error=Zh(We||Ze||k),Kt.evt=Zh(Ze||k),Kt[Mu]=Ar,Kt.stackDetails=hv(ct||We||Ze),Kt.errorSrc=Dt,Kt},E.CreateFromInterface=function(k,z,Y,_e){var We=z[nv]&&Nn(z[nv],function(ct){return fg[Gp](k,ct)}),Ze=new E(k,Ru(Ru({},z),{exceptions:We}),Y,_e);return Ze},E.prototype.toInterface=function(){var k,z=this,Y=z.exceptions,_e=z.properties,We=z.measurements,Ze=z.severityLevel,ct=z.problemGroup,Dt=z.id,Kt=z.isManual,Ar=Y instanceof Array&&Nn(Y,function(jn){return jn.toInterface()})||void 0;return k={ver:"4.0"},k[nv]=Ar,k.severityLevel=Ze,k.properties=_e,k.measurements=We,k.problemGroup=ct,k.id=Dt,k.isManual=Kt,k},E.CreateSimpleException=function(k,z,Y,_e,We,Ze){var ct;return{exceptions:[(ct={},ct[tf]=!0,ct.message=k,ct.stack=We,ct.typeName=z,ct)]}},E.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",E.dataType="ExceptionData",E.formatError=Zh,E}(),fg=function(){function E(k,z,Y){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var _e=this;if(Zp(z))_e[Mu]=z[Mu],_e[Qd]=z[Qd],_e[mc]=z[mc],_e[fu]=z[fu]||[],_e[tf]=z[tf];else{var We=z,Ze=We&&We.evt;ze(We)||(We=We[id]||Ze||We),_e[Mu]=hc(k,dg(We))||El,_e[Qd]=rf(k,Oy(z||We,_e[Mu]))||El;var ct=z[od]||hv(z);_e[fu]=sd(ct),$e(_e[fu])&&Nn(_e[fu],function(Dt){Dt[Kp]=hc(k,Dt[Kp]),Dt[$h]=hc(k,Dt[$h])}),_e[mc]=ov(k,Y_(ct)),_e.hasFullStack=$e(_e.parsedStack)&&_e.parsedStack[En]>0,Y&&(Y[Mu]=Y[Mu]||_e[Mu])}}return E.prototype.toInterface=function(){var k,z=this,Y=z[fu]instanceof Array&&Nn(z[fu],function(We){return We.toInterface()}),_e=(k={id:z.id,outerId:z.outerId,typeName:z[Mu],message:z[Qd],hasFullStack:z[tf],stack:z[mc]},k[fu]=Y||void 0,k);return _e},E.CreateFromInterface=function(k,z){var Y=z[fu]instanceof Array&&Nn(z[fu],function(We){return Nu[Gp](We)})||z[fu],_e=new E(k,Ru(Ru({},z),{parsedStack:Y}));return _e},E}(),Nu=function(){function E(k,z){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var Y=this;if(Y[rl]=0,typeof k=="string"){var _e=k;Y[Qm]=z,Y[Yp]=ZD,Y[Kp]=sa(_e),Y[$h]="",Y[Zm]=0;var We=_e.match(E.regex);We&&We[En]>=5&&(Y[Yp]=sa(We[2])||Y[Yp],Y[$h]=sa(We[4]),Y[Zm]=parseInt(We[5])||0)}else Y[Qm]=k[Qm],Y[Yp]=k[Yp],Y[Kp]=k[Kp],Y[$h]=k[$h],Y[Zm]=k[Zm],Y[rl]=0;Y.sizeInBytes+=Y.method[En],Y.sizeInBytes+=Y.fileName[En],Y.sizeInBytes+=Y.assembly[En],Y[rl]+=E.baseSize,Y.sizeInBytes+=Y.level.toString()[En],Y.sizeInBytes+=Y.line.toString()[En]}return E.CreateFromInterface=function(k){return new E(k,null)},E.prototype.toInterface=function(){var k=this;return{level:k[Qm],method:k[Yp],assembly:k[Kp],fileName:k[$h],line:k[Zm]}},E.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,E.baseSize=58,E}(),af=function(){function E(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return E}(),Sw=function(){function E(k,z,Y,_e,We,Ze,ct,Dt,Kt){this.aiDataContract={ver:1,metrics:1,properties:0};var Ar=this;Ar.ver=2;var jn=new af;jn[$p]=_e>0?_e:void 0,jn.max=isNaN(Ze)||Ze===null?void 0:Ze,jn.min=isNaN(We)||We===null?void 0:We,jn[dc]=hc(k,z)||El,jn.value=Y,jn.stdDev=isNaN(ct)||ct===null?void 0:ct,Ar.metrics=[jn],Ar[fc]=nf(k,Dt),Ar[qf]=zf(k,Kt)}return E.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",E.dataType="MetricData",E}(),ad="";function Iy(E,k){return k===void 0&&(k=!1),E==null?k:E.toString()[Xd]()==="true"}function cd(E){(isNaN(E)||E<0)&&(E=0),E=Math.round(E);var k=ad+E%1e3,z=ad+Math.floor(E/1e3)%60,Y=ad+Math.floor(E/(1e3*60))%60,_e=ad+Math.floor(E/(1e3*60*60))%24,We=Math.floor(E/(1e3*60*60*24));return k=k[En]===1?"00"+k:k[En]===2?"0"+k:k,z=z[En]<2?"0"+z:z,Y=Y[En]<2?"0"+Y:Y,_e=_e[En]<2?"0"+_e:_e,(We>0?We+".":ad)+_e+":"+Y+":"+z+"."+k}function Cw(E,k){var z=null;return Ln(E,function(Y){if(Y.identifier===k)return z=Y,-1}),z}function ky(E,k,z,Y,_e){return!_e&&be(E)&&(E==="Script error."||E==="Script error")}var ud=function(){function E(k,z,Y,_e,We,Ze,ct){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var Dt=this;Dt.ver=2,Dt.id=tg(k,ct),Dt.url=Ty(k,Y),Dt[dc]=hc(k,z)||El,isNaN(_e)||(Dt[jf]=cd(_e)),Dt[fc]=nf(k,We),Dt[qf]=zf(k,Ze)}return E.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",E.dataType="PageviewData",E}(),Tw=function(){function E(k,z,Y,_e,We,Ze,ct,Dt,Kt,Ar,jn,In){Kt===void 0&&(Kt="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var Qn=this;Qn.ver=2,Qn.id=z,Qn[jf]=cd(We),Qn.success=Ze,Qn.resultCode=ct+"",Qn.type=hc(k,Kt);var Qr=Kh(k,Y,Dt,_e);Qn.data=Ty(k,_e)||Qr.data,Qn.target=hc(k,Qr.target),Ar&&(Qn.target="".concat(Qn.target," | ").concat(Ar)),Qn[dc]=hc(k,Qr[dc]),Qn[fc]=nf(k,jn),Qn[qf]=zf(k,In)}return E.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",E.dataType="RemoteDependencyData",E}(),Dw=function(){function E(k,z,Y,_e,We){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var Ze=this;Ze.ver=2,z=z||El,Ze[Qd]=rf(k,z),Ze[fc]=nf(k,_e),Ze[qf]=zf(k,We),Y&&(Ze[Wh]=Y)}return E.envelopeType="Microsoft.ApplicationInsights.{0}.Message",E.dataType="MessageData",E}(),J_=function(){function E(k,z,Y,_e,We,Ze,ct){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var Dt=this;Dt.ver=2,Dt.url=Ty(k,Y),Dt[dc]=hc(k,z)||El,Dt[fc]=nf(k,We),Dt[qf]=zf(k,Ze),ct&&(Dt.domProcessing=ct.domProcessing,Dt[jf]=ct[jf],Dt.networkConnect=ct.networkConnect,Dt.perfTotal=ct.perfTotal,Dt[Vh]=ct[Vh],Dt.sentRequest=ct.sentRequest)}return E.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",E.dataType="PageviewPerformanceData",E}(),Wf=function(){function E(k,z){this.aiDataContract={baseType:1,baseData:1},this.baseType=k,this.baseData=z}return E}(),hg=Bl({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),Ew=function(){function E(){}return E.getConfig=function(k,z,Y,_e){_e===void 0&&(_e=!1);var We;return Y&&k[Vp]&&k[Vp][Y]&&!ce(k[Vp][Y][z])?We=k[Vp][Y][z]:We=k[z],ce(We)?_e:We},E}();function $f(E){var k="ai."+E+".";return function(z){return k+z}}var gc=$f("application"),Yo=$f("device"),Ol=$f("location"),mv=$f("operation"),ld=$f("session"),Vf=$f("user"),Fu=$f("cloud"),gv=$f("internal"),Ay=function(E){qd(k,E);function k(){return E.call(this)||this}return k}(tl({applicationVersion:gc("ver"),applicationBuild:gc("build"),applicationTypeId:gc("typeId"),applicationId:gc("applicationId"),applicationLayer:gc("layer"),deviceId:Yo("id"),deviceIp:Yo("ip"),deviceLanguage:Yo("language"),deviceLocale:Yo("locale"),deviceModel:Yo("model"),deviceFriendlyName:Yo("friendlyName"),deviceNetwork:Yo("network"),deviceNetworkName:Yo("networkName"),deviceOEMName:Yo("oemName"),deviceOS:Yo("os"),deviceOSVersion:Yo("osVersion"),deviceRoleInstance:Yo("roleInstance"),deviceRoleName:Yo("roleName"),deviceScreenResolution:Yo("screenResolution"),deviceType:Yo("type"),deviceMachineName:Yo("machineName"),deviceVMName:Yo("vmName"),deviceBrowser:Yo("browser"),deviceBrowserVersion:Yo("browserVersion"),locationIp:Ol("ip"),locationCountry:Ol("country"),locationProvince:Ol("province"),locationCity:Ol("city"),operationId:mv("id"),operationName:mv("name"),operationParentId:mv("parentId"),operationRootId:mv("rootId"),operationSyntheticSource:mv("syntheticSource"),operationCorrelationVector:mv("correlationVector"),sessionId:ld("id"),sessionIsFirst:ld("isFirst"),sessionIsNew:ld("isNew"),userAccountAcquisitionDate:Vf("accountAcquisitionDate"),userAccountId:Vf("accountId"),userAgent:Vf("userAgent"),userId:Vf("id"),userStoreRegion:Vf("storeRegion"),userAuthUserId:Vf("authUserId"),userAnonymousUserAcquisitionDate:Vf("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:Vf("authUserAcquisitionDate"),cloudName:Fu("name"),cloudRole:Fu("role"),cloudRoleVer:Fu("roleVer"),cloudRoleInstance:Fu("roleInstance"),cloudEnvironment:Fu("environment"),cloudLocation:Fu("location"),cloudDeploymentUnit:Fu("deploymentUnit"),internalNodeName:gv("nodeName"),internalSdkVersion:gv("sdkVersion"),internalAgentVersion:gv("agentVersion"),internalSnippet:gv("snippet"),internalSdkSrc:gv("sdkSrc")}));function Rw(E,k,z,Y,_e,We){var Ze;z=hc(Y,z)||El,(ce(E)||ce(k)||ce(z))&&cr("Input doesn't contain all required fields");var ct="";E[Ym]&&(ct=E[Ym],delete E[Ym]);var Dt=(Ze={},Ze[dc]=z,Ze.time=Hi(new Date),Ze.iKey=ct,Ze.ext=We||{},Ze.tags=[],Ze.data={},Ze.baseType=k,Ze.baseData=E,Ze);return ce(_e)||Lr(_e,function(Kt,Ar){Dt.data[Kt]=Ar}),Dt}var X_=function(){function E(){}return E.create=Rw,E}(),em={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},vv=new Ay;function BC(E){var k=null;if(xe(Event))k=new Event(E);else{var z=oa();z&&z.createEvent&&(k=z.createEvent("Event"),k.initEvent(E,!0,!0))}return k}var Pw="AppInsightsPropertiesPlugin",xw="AppInsightsChannelPlugin",WC="ApplicationInsightsAnalytics";r.AnalyticsPluginIdentifier=WC,r.BreezeChannelIdentifier=xw,r.ConfigurationManager=Ew,r.ConnectionStringParser=ag,r.ContextTagKeys=Ay,r.CtxTagKeys=vv,r.DEFAULT_BREEZE_ENDPOINT=Lu,r.DEFAULT_BREEZE_PATH=Km,r.Data=Wf,r.DisabledPropertyName=Gm,r.DistributedTracingModes=xl,r.Envelope=cg,r.Event=HC,r.Exception=pv,r.Extensions=em,r.HttpMethod=Nc,r.Metric=Sw,r.PageView=ud,r.PageViewPerformance=J_,r.ProcessLegacy=Jd,r.PropertiesPluginIdentifier=Pw,r.RemoteDependencyData=Tw,r.RequestHeaders=ev,r.SampleRate=Na,r.SeverityLevel=hg,r.TelemetryItemCreator=X_,r.ThrottleMgr=QD,r.Trace=Dw,r.correlationIdCanIncludeCorrelationHeader=uv,r.correlationIdGetCorrelationContext=XD,r.correlationIdGetCorrelationContextValue=td,r.correlationIdGetPrefix=JD,r.correlationIdSetPrefix=cv,r.createDistributedTraceContextFromTrace=ng,r.createDomEvent=BC,r.createTelemetryItem=Rw,r.createTraceParent=os,r.dataSanitizeException=ov,r.dataSanitizeId=tg,r.dataSanitizeInput=sv,r.dataSanitizeKey=_w,r.dataSanitizeKeyAndAddUniqueness=eg,r.dataSanitizeMeasurements=zf,r.dataSanitizeMessage=rf,r.dataSanitizeProperties=nf,r.dataSanitizeString=hc,r.dataSanitizeUrl=Ty,r.dateTimeUtilsDuration=$_,r.dateTimeUtilsNow=rg,r.dsPadNumber=Fc,r.findW3cTraceParent=Vm,r.formatTraceParent=W_,r.getExtensionByName=Cw,r.isBeaconApiSupported=lo,r.isCrossOriginError=ky,r.isInternalApplicationInsightsEndpoint=Py,r.isSampledFlag=Mf,r.isValidSpanId=Hp,r.isValidTraceId=$m,r.isValidTraceParent=Bp,r.msToTimeSpan=cd,r.parseConnectionString=pc,r.parseTraceParent=Yd,r.strNotSpecified=El,r.stringToBoolOrDefault=Iy,r.urlGetAbsoluteUrl=Jp,r.urlGetCompleteUrl=bw,r.urlGetPathName=Gh,r.urlParseFullHost=sf,r.urlParseHost=qC,r.urlParseUrl=of,r.utlCanUseLocalStorage=Xh,r.utlCanUseSessionStorage=nd,r.utlDisableStorage=Jh,r.utlEnableStorage=jC,r.utlGetLocalStorage=zC,r.utlGetSessionStorage=Qp,r.utlGetSessionStorageKeys=lv,r.utlRemoveSessionStorage=dv,r.utlRemoveStorage=Qh,r.utlSetLocalStorage=ig,r.utlSetSessionStorage=og,r.utlSetStoragePrefix=V_})});var KSe=C((nz,GSe)=>{(function(r,e){typeof nz=="object"&&typeof GSe<"u"?e(nz):typeof define=="function"&&define.amd?define(["exports"],e):(r=typeof globalThis<"u"?globalThis:r||self,e((r.Microsoft=r.Microsoft||{},r.Microsoft.ApplicationInsights=r.Microsoft.ApplicationInsights||{})))})(nz,function(r){"use strict";var e=void 0,t=null,n="",i="boolean",o="function",s="number",a="object",c="prototype",u="__proto__",l="string",d="undefined",f="constructor",p="Symbol",_="_polyfill",D="indexOf",P="length",M="done",A="value",U="name",ne="slice",pe=Object,ve=pe[c],V=String,W=V[c],ee=Math,De=Array,ae=De[c];function ue(h,y){var w=y;try{w=h()}catch{}return w}var Fe=[l,s,i,d,"symbol","bigint"];function Me(h){return function(y){return typeof y===h}}function ce(h){var y="[object "+h+"]";return function(w){return!!(w&&Ce(w)===y)}}function Ce(h){return ve.toString.call(h)}function be(h){return typeof h===d||h===d}function xe(h){return h===t||be(h)}function Ne(h){return h===t||!$e(h)}function $e(h){return!!h||h!==e}var Ct=function(h){return h!==a&&Fe.indexOf(h)!==-1},ze=Me(l),st=Me(o);function at(h){return!h&&xe(h)?!1:!!h&&typeof h===a}var tt=De.isArray,fr=ce("Date"),Lr=Me(s),zr=Me(i),cr=ce("Error");function xt(h){return!!h&&st(h.then)}function hr(h){return!(!h||ue(function(){return!(h&&0+h)},!h))}var Mt=pe.getOwnPropertyDescriptor;function nn(h,y){return h&&ve.hasOwnProperty.call(h,y)}var ln=pe.hasOwn||On;function On(h,y){return nn(h,y)||!!Mt(h,y)}function Or(h,y,w){if(h&&at(h)){for(var x in h)if(ln(h,x)&&y.call(w||h,x,h[x])===-1)break}}function Hn(h,y,w,x){var q={};return Or(h,function(G,te){q[G]=y?te:G,q[te]=w?te:G}),x(q)}function $r(h){throw new Error(h)}function dn(h){throw new TypeError(h)}var ii=pe.freeze,Vr=function(h){return h},An=function(h){return h[u]||t},xi=pe.assign;function Gr(h){return(!at(h)||h===t)&&dn("objKeys called on non-object"),pe.keys(h)}function Qi(h){return ii&&Or(h,function(y,w){(tt(w)||at(w))&&ii(w)}),oi(h)}var oi=ii||Vr,fn=pe.getPrototypeOf||An;function Oe(h){return Hn(h,1,0,Qi)}function oe(h){return Hn(h,0,0,Qi)}function Q(h){var y={};return Or(h,function(w,x){y[w]=x[1],y[x[0]]=x[1]}),Qi(y)}function we(h){return Q(h)}var Je=oe({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),ft=V,Yt="__tsUtils$gblCfg",rr;function Jt(){var h;return typeof globalThis!==d&&(h=globalThis),!h&&typeof self!==d&&(h=self),!h&&typeof window!==d&&(h=window),!h&&typeof global!==d&&(h=global),h}function $t(){if(!rr){var h=Jt()||{};rr=h[Yt]=h[Yt]||{}}return rr}function kt(h,y){var w=n;if(cr(h))w="{ stack: '"+h.stack+"', message: '"+h.message+"', name: '"+h.name+"'";else try{w=JSON.stringify(h,t,y?Lr(y)?y:4:e)}catch(x){w=" - "+kt(x,y)}return Ce(h)+": "+w}var K=ae[ne],qe=function(h,y){dn("'"+ft(h)+"' not defined for "+kt(y))},Ht=function(h){return function(y){return y[h].apply(y,K.call(arguments,1))}},Dr=function(h,y){var w=y&&y[h];return function(x){var q=x&&x[h]||w;if(q)return q.apply(x,K.call(arguments,1));qe(h,x)}},He=function(h,y,w){var x=y&&y[h];return function(q){var G=q&&q[h]||x;if(G||w){var te=arguments;return(G||w).apply(q,G?K.call(te,1):te)}qe(h,q)}};function re(h){return function(y){return y[h]}}var Pe=ee.max,je=Dr(ne,W),fe=Dr("substring",W),S=He("substr",W,de);function de(h,y,w){return xe(h)&&dn("'polyStrSubstr called with invalid "+kt(h)),w<0?n:(y=y||0,y<0&&(y=Pe(y+h[P],0)),be(w)?je(h,y):je(h,y,y+w))}function Ye(h,y){return fe(h,0,y)}var Tr="_urid",Wr;function Xr(){if(!Wr){var h=$t();Wr=h.gblSym=h.gblSym||{k:{},s:{}}}return Wr}var qn={};function Oi(h){var y={description:ft(h),toString:function(){return p+"("+h+")"}};return y[_]=!0,y}function Ms(h){var y=Xr();if(!ln(y.k,h)){var w=Oi(h),x=Gr(y.s).length;w[Tr]=function(){return x+"_"+w.toString()},y.k[h]=w,y.s[w[Tr]()]=ft(h)}return y.k[h]}function Sn(h){var y,w=Je[h];return w&&(y=qn[w]=qn[w]||Oi(p+"."+w)),y}var rs={e:"enumerable",c:"configurable",v:A,w:"writable",g:"get",s:"set"};function Vs(h){var y={};if(y[rs.c]=!0,y[rs.e]=!0,h.l){y.get=function(){return h.l.v};var w=Mt(h.l,"v");w&&w.set&&(y.set=function(x){h.l.v=x})}return Or(h,function(x,q){y[rs[x]]=be(q)?y[rs[x]]:q}),y}var oa=pe.defineProperty;function jo(h,y,w){return oa(h,y,Vs(w))}var Ro,H=function(){Ro=$t(),H=t};function Ue(h){var y={};return H&&H(),y.b=Ro.lzy,oa(y,"v",{configurable:!0,get:function(){var w=h();return Ro.lzy||(oa(y,"v",{value:w}),y.b&&delete y.b),Ro.lzy&&y.b!==Ro.lzy&&(y.b=Ro.lzy),w}}),y}function vt(h,y){return Ue(function(){return ue(h,y)})}var Fr="window",ao,$i,N,Le,rt,zt=function(h){return vt(function(){return Cn(h)||e},e)},Ln=function(h){return(!ao||h===!1||Ro&&Ro.lzy&&!ao.b)&&(ao=vt(Jt,t)),ao.v},Cn=function(h,y){var w=!ao||y===!1?Ln(y):ao.v;return w&&w[h]?w[h]:h===Fr&&$i?$i.v:t},Nn=function(){return!!co()},co=function(){return(!N||Ro&&Ro.lzy&&!N.b)&&(N=zt("document")),N.v},Ui=function(){return!!Po()},Po=function(){return(!$i||Ro&&Ro.lzy&&!$i.b)&&($i=zt(Fr)),$i.v},Gi=function(){return!!Jn()},Jn=function(){return(!Le||Ro&&Ro.lzy&&!Le.b)&&(Le=zt("navigator")),Le.v},Su=function(){return!rt&&(rt=vt(function(){return!!(process&&(process.versions||{}).node)},!1)),rt.v},ns,_o,yl;function Fi(h){return vt(function(){return ns.v?ns.v[h]:e},e)}function nc(){return!!ic()}function ic(){var h=!ns||Ro&&Ro.lzy&&!ns.b;return h&&(ns=zt(p)),(!_o||h)&&(_o=Fi("for")),(!yl||h)&&(yl=Fi("keyFor")),ns.v}function va(h,y){var w=Je[h];return(!ns||Ro.lzy&&!ns.b)&&ic(),ns.v?ns.v[w||h]:y?e:Sn(h)}function _l(h,y){return(!ns||Ro.lzy&&!ns.b)&&ic(),ns.v?ns.v(h):y?t:Oi(h)}function kh(h){return(!_o||Ro.lzy&&!ns.b)&&ic(),(_o.v||Ms)(h)}function Oc(h){return!!h&&st(h.next)}function sa(h){return!Ne(h)&&st(h[va(3)])}var Cu;function Ah(h,y,w){if(h&&(Oc(h)||(!Cu&&(Cu=Ue(function(){return va(3)})),h=h[Cu.v]?h[Cu.v]():null),Oc(h))){var x=void 0,q=void 0;try{for(var G=0;!(q=h.next())[M]&&y.call(w||h,q[A],G,h)!==-1;)G++}catch(te){x={e:te},h.throw&&(q=null,h.throw(x))}finally{try{q&&!q[M]&&h.return&&h.return(q)}finally{if(x)throw x.e}}}}var Wo=Ht("apply");function Gs(h,y){return!be(y)&&h&&(tt(y)?Wo(h.push,h,y):Oc(y)||sa(y)?Ah(y,function(w){h.push(w)}):h.push(y)),h}function Dn(h,y,w){if(h)for(var x=h[P]>>>0,q=0;q<x&&!(q in h&&y.call(w||h,h[q],q,h)===-1);q++);}var Ks=Dr(D,ae),Tu=Dr("map",ae),si=Dr(ne,ae),Ia=Ht("call"),iu=Dr("reduce",ae),Lh=pe.create,Cf=Lh||Pp;function Pp(h){if(!h)return{};var y=typeof h;if(y!==a&&y!==o)throw new TypeError("Prototype must be an Object or function: "+kt(h));function w(){}return w[c]=h,new w}var Tf;function xp(h,y){var w=pe.setPrototypeOf||function(x,q){!Tf&&(Tf=Ue(function(){var G;return G={},G[u]=[],G instanceof Array})),Tf.v?x[u]=q:Or(q,function(G,te){return x[G]=te})};return w(h,y)}var Df=function(h,y,w){Xn(y,h),y=xp(y,w);function x(){this.constructor=y,Xn(this,h)}return y[c]=w===t?Cf(w):(x[c]=w[c],new x),y},Bl=function(h,y){try{y&&(h[U]=y)}catch{}},Xn=function(h,y){try{jo(h,U,{v:y,c:!0,e:!1})}catch{}};function Ys(h,y,w){var x=w||Error,q=x[c][U],G=Error.captureStackTrace;return Df(h,function(){var te=this;try{Bl(x,h);var le=Wo(x,te,si(arguments))||te;if(le!==te){var Ee=fn(te);Ee!==fn(le)&&xp(le,Ee)}return G&&G(le,te[f]),y&&y(le,arguments),le}finally{Bl(x,q)}},x)}function Wl(){return(Date.now||uo)()}function uo(){return new Date().getTime()}function Mh(h){return function(w){return xe(w)&&dn("strTrim called ["+kt(w)+"]"),w&&w.replace&&(w=w.replace(h,n)),w}}var Nh=Mh(/^\s+|(?=\s)\s+$/g),Js=He("trim",W,Nh),Du,Fh,Ld;function Ds(h){if(!h||typeof h!==a)return!1;Ld||(Ld=Ui()?Po():!0);var y=!1;if(h!==Ld){Fh||(Du=Function[c].toString,Fh=Ia(Du,pe));try{var w=fn(h);y=!w,y||(nn(w,f)&&(w=w[f]),y=w&&typeof w===o&&Du.call(w)===Fh)}catch{}}return y}var $l=function(h){return h.value&&aa(h),!0},ou=[bo,aa,Pf,Op];function jm(h,y,w,x){var q;return Dn(h,function(G){if(G.k===y)return q=G,-1}),q||(q={k:y,v:y},h.push(q),x(q)),q.v}function Md(h,y,w,x){var q=w.handler,G=w.path?x?w.path.concat(x):w.path:[],te={handler:w.handler,src:w.src,path:G},le=typeof y,Ee=!1,Ae=!1;y&&le===a?Ee=Ds(y):Ae=y===t||Ct(le);var Ke={type:le,isPrim:Ae,isPlain:Ee,value:y,result:y,path:G,origin:w.src,copy:function(bt,It){return Md(h,bt,It?te:w,It)},copyTo:function(bt,It){return Ef(h,bt,It,te)}};return Ke.isPrim?q&&Ia(q,w,Ke)?Ke.result:y:jm(h,y,G,function(bt){jo(Ke,"result",{g:function(){return bt.v},s:function(ut){bt.v=ut}});for(var It=0,yt=q;!Ia(yt||(It<ou.length?ou[It++]:$l),w,Ke);)yt=t})}function Ef(h,y,w,x){if(!xe(w))for(var q in w)y[q]=Md(h,w[q],x,q);return y}function Rf(h,y,w){var x={handler:w,src:y,path:[]};return Ef([],h,y,x)}function Ic(h,y){var w={handler:y,src:h};return Md([],h,w)}function bo(h){var y=h.value;if(tt(y)){var w=h.result=[];return w.length=y.length,h.copyTo(w,y),!0}return!1}function Op(h){var y=h.value;return fr(y)?(h.result=new Date(y.getTime()),!0):!1}function Pf(h){return h.type===o}function aa(h){var y=h.value;if(y&&h.isPlain){var w=h.result={};return h.copyTo(w,y),!0}return!1}function bl(h,y){return Dn(y,function(w){Rf(h,w)}),h}function Eu(h,y,w,x,q,G,te){return bl(Ic(h)||{},si(arguments))}var gy=re(P),ca=He("endsWith",W,M_);function M_(h,y,w){ze(h)||dn("'"+kt(h)+"' is not a string");var x=ze(y)?y:ft(y),q=x[P],G=h[P],te=!be(w)&&w<G?w:G;return fe(h,te-q,te)===x}var Ku=Dr(D,W),Nd="ref",$o="un"+Nd,Vl="hasRef",qh="enabled";function Jg(h,y,w){var x,q=!0,G=h?y(t):t,te,le=function(){return q=!1,G&&G[$o]&&G[$o](),te},Ee=function(){return q=!0,G&&G[Nd]&&G[Nd](),te},Ae=function(){return G&&G[Vl]?G[Vl]():q},Ke=function(){return G=y(G),q||le(),te},bt=function(){G&&w(G),G=t},It=function(yt){!yt&&G&&bt(),yt&&!G&&Ke()};return te=(x={cancel:bt,refresh:Ke},x[Vl]=Ae,x[Nd]=Ee,x[$o]=le,x[qh]=!1,x),oa(te,qh,{get:function(){return!!G},set:It}),{h:te,dn:function(){G=t}}}function Fd(h,y,w,x){var q=tt(w),G=q?w.length:0,te=(G>0?w[0]:q?e:w)||setTimeout,le=(G>1?w[1]:e)||clearTimeout,Ee=x[0];x[0]=function(){Ae.dn(),Wo(Ee,h,si(arguments))};var Ae=Jg(y,function(Ke){if(Ke){if(Ke.refresh)return Ke.refresh(),Ke;Wo(le,h,[Ke])}return Wo(te,h,x)},function(Ke){Wo(le,h,[Ke])});return Ae.h}function jh(h,y){return Fd(this,!0,e,si(arguments))}function Ip(h,y){return Fd(this,!1,e,si(arguments))}var Gl,kp="constructor",Yu="prototype",zh="function",Ru="_dynInstFuncs",xf="_isDynProxy",qd="_dynClass",Of="_dynCls$",jd="_dynInstChk",Xs=jd,ka="_dfOpts",xo="_unknown_",su="__proto__",oc="_dyn"+su,Xg="__dynProto$Gbl",Ju="_dynInstProto",Qs="useBaseInst",Kl="setInstFuncs",Ap=Object,Pu=Ap.getPrototypeOf,wl=Ap.getOwnPropertyNames,Uh=Ln(),kc=Uh[Xg]||(Uh[Xg]={o:(Gl={},Gl[Kl]=!0,Gl[Qs]=!0,Gl),n:1e3});function Xu(h){return h&&(h===Ap[Yu]||h===Array[Yu])}function Es(h){return Xu(h)||h===Function[Yu]}function au(h){var y;if(h){if(Pu)return Pu(h);var w=h[su]||h[Yu]||(h[kp]?h[kp][Yu]:null);y=h[oc]||w,nn(h,oc)||(delete h[Ju],y=h[oc]=h[Ju]||h[oc],h[Ju]=w)}return y}function Qu(h,y){var w=[];if(wl)w=wl(h);else for(var x in h)typeof x=="string"&&nn(h,x)&&w.push(x);if(w&&w.length>0)for(var q=0;q<w.length;q++)y(w[q])}function Zu(h,y,w){return y!==kp&&typeof h[y]===zh&&(w||nn(h,y))}function ua(h){dn("DynamicProto: "+h)}function Qg(h){var y={};return Qu(h,function(w){!y[w]&&Zu(h,w,!1)&&(y[w]=h[w])}),y}function sc(h,y){for(var w=h.length-1;w>=0;w--)if(h[w]===y)return!0;return!1}function Sl(h,y,w,x){function q(Ee,Ae,Ke){var bt=Ae[Ke];if(bt[xf]&&x){var It=Ee[Ru]||{};It[Xs]!==!1&&(bt=(It[Ae[qd]]||{})[Ke]||bt)}return function(){return bt.apply(Ee,arguments)}}var G={};Qu(w,function(Ee){G[Ee]=q(y,w,Ee)});for(var te=au(h),le=[];te&&!Es(te)&&!sc(le,te);)Qu(te,function(Ee){!G[Ee]&&Zu(te,Ee,!Pu)&&(G[Ee]=q(y,te,Ee))}),le.push(te),te=au(te);return G}function Vo(h,y,w,x){var q=null;if(h&&nn(w,qd)){var G=h[Ru]||{};if(q=(G[w[qd]]||{})[y],q||ua("Missing ["+y+"] "+zh),!q[jd]&&G[Xs]!==!1){for(var te=!nn(h,y),le=au(h),Ee=[];te&&le&&!Es(le)&&!sc(Ee,le);){var Ae=le[y];if(Ae){te=Ae===x;break}Ee.push(le),le=au(le)}try{te&&(h[y]=q),q[jd]=1}catch{G[Xs]=!1}}}return q}function Go(h,y,w){var x=y[h];return x===w&&(x=au(y)[h]),typeof x!==zh&&ua("["+h+"] is not a "+zh),x}function If(h,y,w,x,q){function G(Ee,Ae){var Ke=function(){var bt=Vo(this,Ae,Ee,Ke)||Go(Ae,Ee,Ke);return bt.apply(this,arguments)};return Ke[xf]=1,Ke}if(!Xu(h)){var te=w[Ru]=w[Ru]||{},le=te[y]=te[y]||{};te[Xs]!==!1&&(te[Xs]=!!q),Qu(w,function(Ee){Zu(w,Ee,!1)&&w[Ee]!==x[Ee]&&(le[Ee]=w[Ee],delete w[Ee],(!nn(h,Ee)||h[Ee]&&!h[Ee][xf])&&(h[Ee]=G(h,Ee)))})}}function el(h,y){if(Pu){for(var w=[],x=au(y);x&&!Es(x)&&!sc(w,x);){if(x===h)return!0;w.push(x),x=au(x)}return!1}return!0}function kf(h,y){return nn(h,Yu)?h.name||y||xo:((h||{})[kp]||{}).name||y||xo}function zo(h,y,w,x){nn(h,Yu)||ua("theClass is an invalid class definition.");var q=h[Yu];el(q,y)||ua("["+kf(h)+"] not in hierarchy of ["+kf(y)+"]");var G=null;nn(q,qd)?G=q[qd]:(G=Of+kf(h,"_")+"$"+kc.n,kc.n++,q[qd]=G);var te=zo[ka],le=!!te[Qs];le&&x&&x[Qs]!==void 0&&(le=!!x[Qs]);var Ee=Qg(y),Ae=Sl(q,y,Ee,le);w(y,Ae);var Ke=!!Pu&&!!te[Kl];Ke&&x&&(Ke=!!x[Kl]),If(q,G,y,Ee,Ke!==!1)}zo[ka]=kc.o;var Yl="function",Af="object",ya="undefined",xu="prototype",la=Object,Ns=la[xu];(Ln()||{}).Symbol,(Ln()||{}).Reflect;var Jl="hasOwnProperty",vy=function(h){for(var y,w=1,x=arguments.length;w<x;w++){y=arguments[w];for(var q in y)Ns[Jl].call(y,q)&&(h[q]=y[q])}return h},vs=xi||vy,cu=function(h,y){return cu=la.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,x){w.__proto__=x}||function(w,x){for(var q in x)x[Jl](q)&&(w[q]=x[q])},cu(h,y)};function Cl(h,y){typeof y!==Yl&&y!==null&&dn("Class extends value "+String(y)+" is not a constructor or null"),cu(h,y);function w(){this.constructor=h}h[xu]=y===null?Cf(y):(w[xu]=y[xu],new w)}function Hh(h,y){for(var w=0,x=y.length,q=h.length;w<x;w++,q++)h[q]=y[w];return h}var zd=Oe,Lp=we,ac="toLowerCase",zm="blkVal",Hi="length",is="rdOnly",tl="notify",Ac="warnToConsole",Lc="throwInternal",da="setDf",Tl="watch",Ki="logger",Lf="apply",wi="push",Aa="splice",Bn="hdlr",Ud="cancel",Xl="initialize",Mc="identifier",Ko="isInitialized",cc="getPlugin",fa="pollInternalLogs",lo="name",Ou="time",Fn="processNext",uu="getProcessTelContext",Oo="getNotifyMgr",ai="addNotificationListener",Ql="removeNotificationListener",La="enabled",_a="stopPollingInternalLogs",ha="unload",Zl="onComplete",uc="version",Hd="loggingLevelConsole",Rs="createNew",lu="teardown",Dl="messageId",ed="message",Bd="isAsync",g="diagLog",v="_doTeardown",R="update",O="getNext",F="setNextPlugin",J="userAgent",Z="split",he="nodeType",ke="replace",Qe="logInternalMessage",ht="type",Ut="handler",Sr="isChildEvt",an="getCtx",jr="setCtx",Wn="complete",Zs="traceId",lc="spanId",Iu="traceFlags",Mp;function Um(h,y){Mp||(Mp=Ys("AggregationError",function(x,q){q[Hi]>1&&(x.errors=q[1])}));var w=h||"One or more errors occurred.";throw Dn(y,function(x,q){w+=`
`.concat(q," > ").concat(kt(x))}),new Mp(w,y||[])}function Ma(h,y){return Np(h,function(w){y&&y({value:w,rejected:!1})},function(w){y&&y({rejected:!0,reason:w})})}function Np(h,y,w,x){var q=h;return xt(h)?(y||w)&&(q=h.then(y,w)):y&&y(h),x&&(q=Bh(q,x)),q}function Bh(h,y){var w=h;return y&&(xt(h)?h.finally?w=h.finally(y):w=h.then(function(x){return y(),x},function(x){throw y(),x}):y()),w}var Wd=["pending","resolving","resolved","rejected"],ku="dispatchEvent",Zg;function N_(h,y,w,x){var q=co();!Zg&&(Zg=vt(function(){var Ee;return q&&q.createEvent&&(Ee=q.createEvent("Event")),!!Ee&&Ee.initEvent},null));var G=Zg.v?q.createEvent("Event"):x?new Event(y):{};if(w&&w(G),Zg.v&&G.initEvent(y,!1,!0),G&&h[ku])h[ku](G);else{var te=h["on"+y];if(te)te(G);else{var le=Cn("console");le&&(le.error||le.log)(y,kt(G))}}}var Fp="Promise",qp="unhandledRejection",F_=qp.toLowerCase(),q_=10,j_;function vw(h){return st(h)?h.toString():kt(h)}function Hm(h,y,w){var x=si(arguments,3),q=0,G=!1,te,le=[],Ee=!1,Ae=null,Ke;!j_&&(j_=zt(Fp+"RejectionEvent"));var bt=function(ar,sn){try{Ee=!0,Ae&&Ae.cancel(),Ae=null;var ki=h(function(us,Uc){le.push(function(){try{var Ua=q===2?ar:sn,md=be(Ua)?te:st(Ua)?Ua(te):Ua;xt(md)?md.then(us,Uc):Ua?us(md):q===3?Uc(md):us(md)}catch(ol){Uc(ol)}}),G&&sr()},x);return ki}finally{}},It=function(ar){return bt(void 0,ar)},yt=function(ar){var sn=ar,ki=ar;return st(ar)&&(sn=function(us){return ar&&ar(),us},ki=function(us){throw ar&&ar(),us}),bt(sn,ki)},ut=function(){return Wd[q]},sr=function(){if(le.length>0){var ar=le.slice();le=[],Ee=!0,y(ar),Ae&&Ae.cancel(),Ae=null}},Nt=function(ar,sn){return function(ki){if(q===sn){if(ar===2&&xt(ki)){q=1,ki.then(Nt(2,1),Nt(3,1));return}q=ar,G=!0,te=ki,sr(),!Ee&&ar===3&&!Ae&&(Ae=jh(pr,q_))}}},pr=function(){if(!Ee)if(Su())process.emit(qp,te,Ke);else{var ar=Po()||Ln();N_(ar,F_,function(sn){return jo(sn,"promise",{g:function(){return Ke}}),sn.reason=te,sn},!!j_.v)}};Ke={then:bt,catch:It,finally:yt},oa(Ke,"state",{get:ut}),nc()&&(Ke[va(11)]="IPromise");var er=function(){return"IPromise "+ut()+(G?" - "+vw(te):"")};return Ke.toString=er,function(){st(w)||dn(Fp+": executor is not a function - "+vw(w));var sn=Nt(3,0);try{w.call(Ke,Nt(2,0),sn)}catch(ki){sn(ki)}}(),Ke}function yy(h){return function(y){var w=si(arguments,1);return h(function(x,q){try{var G=[],te=1;Dn(y,function(le,Ee){le&&(te++,Np(le,function(Ae){G[Ee]=Ae,--te===0&&x(G)},q))}),te--,te===0&&x(G)}catch(le){q(le)}},w)}}var z_=function(h){Dn(h,function(y){try{y()}catch{}})};function U_(h){var y=Lr(h)?h:0;return function(w){jh(function(){z_(w)},y)}}function Bm(h,y){return Hm(Bm,U_(y),h,y)}var jp;function yw(h,y){!jp&&(jp=zt(Fp));var w=jp.v;if(!w)return Bm(h);st(h)||dn(Fp+": executor is not a function - "+kt(h));var x=0;function q(){return Wd[x]}var G=new w(function(te,le){function Ee(Ke){x=2,te(Ke)}function Ae(Ke){x=3,le(Ke)}h(Ee,Ae)});return oa(G,"state",{get:q}),G}var H_;function zp(h,y){return!H_&&(H_=Ue(function(){return yw})),H_.v.call(this,h,y)}var _y=yy(zp),$d=void 0,Zi="",Wm="channels",fo="core",B_="createPerfMgr",by="disabled",Vd="extensionConfig",Up="extensions",du="processTelemetry",Gd="priority",Kd="eventsSent",Fs="eventsDiscarded",fi="eventsSendRequest",Au="perfEvent",os="getPerfMgr",Yd="domain",$m="path",Hp="Not dynamic - ",Bp=/-([a-z])/g,Mf=/([^\w\d_$])/g,W_=/^(\d+[\w\d_$])/;function Vm(h){return!xe(h)}function Gm(h){var y=h;return y&&ze(y)&&(y=y[ke](Bp,function(w,x){return x.toUpperCase()}),y=y[ke](Mf,"_"),y=y[ke](W_,function(w,x){return"_"+x})),y}function Na(h,y){return h&&y?Ku(h,y)!==-1:!1}function Jd(h){return h&&h.toISOString()||""}function Nc(h){return cr(h)?h[lo]:Zi}function Lu(h,y,w,x,q){var G=w;return h&&(G=h[y],G!==w&&(!q||q(G))&&(!x||x(w))&&(G=w,h[y]=G)),G}function Km(h,y,w){var x;return h?(x=h[y],!x&&xe(x)&&(x=be(w)?{}:w,h[y]=x)):x=be(w)?{}:w,x}function El(h,y){var w=null,x=null;return st(h)?w=h:x=h,function(){var q=arguments;if(w&&(x=w()),x)return x[y][Lf](x,q)}}function Ym(h,y,w,x,q){h&&y&&w&&(q!==!1||be(h[y]))&&(h[y]=El(w,x))}function ev(h,y,w,x){return h&&y&&at(h)&&tt(w)&&Dn(w,function(q){ze(q)&&Ym(h,q,y,q,x)}),h}function Wp(h){return function(){function y(){var w=this;h&&Or(h,function(x,q){w[x]=q})}return y}()}function En(h){return h&&xi&&(h=la(xi({},h))),h}function Xd(h,y,w,x,q,G){var te=arguments,le=te[0]||{},Ee=te[Hi],Ae=!1,Ke=1;for(Ee>0&&zr(le)&&(Ae=le,le=te[Ke]||{},Ke++),at(le)||(le={});Ke<Ee;Ke++){var bt=te[Ke],It=tt(bt),yt=at(bt);for(var ut in bt){var sr=It&&ut in bt||yt&&ln(bt,ut);if(sr){var Nt=bt[ut],pr=void 0;if(Ae&&Nt&&((pr=tt(Nt))||Ds(Nt))){var er=le[ut];pr?tt(er)||(er=[]):Ds(er)||(er={}),Nt=Xd(Ae,er,Nt)}Nt!==void 0&&(le[ut]=Nt)}}}return le}var qs="documentMode",Nf="location",wy="console",dc="JSON",Qd="crypto",$p="msCrypto",Sy="msie",Rl="trident/",tv="XMLHttpRequest",Jm=null,Cy=null,rv=!1,Zd=null,Ff=null;function Xm(h,y){var w=!1;if(h){try{if(w=y in h,!w){var x=h[xu];x&&(w=y in x)}}catch{}if(!w)try{var q=new h;w=!be(q[y])}catch{}}return w}function Vp(h){if(h&&rv){var y=Cn("__mockLocation");if(y)return y}return typeof location===Af&&location?location:Cn(Nf)}function nv(){return typeof console!==ya?console:Cn(wy)}function fu(){return!!(typeof JSON===Af&&JSON||Cn(dc)!==null)}function fc(){return fu()?JSON||Cn(dc):null}function qf(){return Cn(Qd)}function rl(){return Cn($p)}function Mu(){var h=Jn();if(h&&(h[J]!==Cy||Jm===null)){Cy=h[J];var y=(Cy||Zi)[ac]();Jm=Na(y,Sy)||Na(y,Rl)}return Jm}function Wh(h){if(h===void 0&&(h=null),!h){var y=Jn()||{};h=y?(y.userAgent||Zi)[ac]():Zi}var w=(h||Zi)[ac]();if(Na(w,Sy)){var x=co()||{};return Math.max(parseInt(w[Z](Sy)[1]),x[qs]||0)}else if(Na(w,Rl)){var q=parseInt(w[Z](Rl)[1]);if(q)return q+4}return null}function ef(h){return(Ff===null||h===!1)&&(Ff=Gi()&&!!Jn().sendBeacon),Ff}function iv(h){var y=!1;try{y=!!Cn("fetch");var w=Cn("Request");y&&h&&w&&(y=Xm(w,"keepalive"))}catch{}return y}function Gp(){return Zd===null&&(Zd=typeof XDomainRequest!==ya,Zd&&Kp()&&(Zd=Zd&&!Xm(Cn(tv),"withCredentials"))),Zd}function Kp(){var h=!1;try{var y=Cn(tv);h=!!y}catch{}return h}var $h=4294967296,tf=4294967295,Qm=123456789,Yp=987654321,Zm=!1,jf=Qm,Vh=Yp;function eg(h){h<0&&(h>>>=0),jf=Qm+h&tf,Vh=Yp-h&tf,Zm=!0}function _w(){try{var h=Wl()&2147483647;eg((Math.random()*$h^h)+h)}catch{}}function hc(h){var y=0,w=qf()||rl();return w&&w.getRandomValues&&(y=w.getRandomValues(new Uint32Array(1))[0]&tf),y===0&&Mu()&&(Zm||_w(),y=Ty()&tf),y===0&&(y=Math.floor($h*Math.random()|0)),h||(y>>>=0),y}function Ty(h){Vh=36969*(Vh&65535)+(Vh>>16)&tf,jf=18e3*(jf&65535)+(jf>>16)&tf;var y=(Vh<<16)+(jf&65535)>>>0&tf|0;return h||(y>>>=0),y}function rf(h){h===void 0&&(h=22);for(var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w=hc()>>>0,x=0,q=Zi;q[Hi]<h;)x++,q+=y.charAt(w&63),w>>>=6,x===5&&(w=(hc()<<2&4294967295|w&3)>>>0,x=0);return q}var ov="3.0.5",nf="."+rf(6),zf=0;function tg(h){return h[he]===1||h[he]===9||!+h[he]}function sv(h,y){var w=y[h.id];if(!w){w={};try{tg(y)&&jo(y,h.id,{e:!1,v:w})}catch{}}return w}function Fc(h,y){return y===void 0&&(y=!1),Gm(h+zf+++(y?"."+ov:Zi)+nf)}function Pl(h){var y={id:Fc("_aiData-"+(h||Zi)+"."+ov),accept:function(w){return tg(w)},get:function(w,x,q,G){var te=w[y.id];return te?te[Gm(x)]:(G&&(te=sv(y,w),te[Gm(x)]=q),q)},kill:function(w,x){if(w&&w[x])try{delete w[x]}catch{}}};return y}function av(h){return h&&at(h)&&(h.isVal||h.fb||ln(h,"v")||ln(h,"mrg")||ln(h,"ref")||h.set)}function Dy(h,y,w){var x,q=w.dfVal||$e;if(y&&w.fb){var G=w.fb;tt(G)||(G=[G]);for(var te=0;te<G[Hi];te++){var le=G[te],Ee=y[le];if(q(Ee)?x=Ee:h&&(Ee=h.cfg[le],q(Ee)&&(x=Ee),h.set(h.cfg,ft(le),Ee)),q(x))break}}return!q(x)&&q(w.v)&&(x=w.v),x}function of(h,y,w){var x=w;if(w&&av(w)&&(x=Dy(h,y,w)),x){av(x)&&(x=of(h,y,x));var q;tt(x)?(q=[],q[Hi]=x[Hi]):Ds(x)&&(q={}),q&&(Or(x,function(G,te){te&&av(te)&&(te=of(h,y,te)),q[G]=te}),x=q)}return x}function Jp(h,y,w,x){var q,G,te,le=x,Ee,Ae,Ke,bt;av(le)?(q=le.isVal,G=le.set,Ke=le[is],bt=le[zm],Ee=le.mrg,Ae=le.ref,!Ae&&be(Ae)&&(Ae=!!Ee),te=Dy(h,y,le)):te=x,bt&&h[zm](y,w);var It,yt=!0,ut=y[w];(ut||!xe(ut))&&(It=ut,yt=!1,q&&It!==te&&!q(It)&&(It=te,yt=!0),G&&(It=G(It,te,y),yt=It===te)),yt?te?It=of(h,y,te):It=te:(Ds(It)||tt(te))&&Ee&&te&&(Ds(te)||tt(te))&&Or(te,function(sr,Nt){Jp(h,It,sr,Nt)}),h.set(y,w,It),Ae&&h.ref(y,w),Ke&&h[is](y,w)}var Gh=kh("[[ai_dynCfg_1]]"),bw=kh("[[ai_blkDynCfg_1]]"),qC=kh("[[ai_frcDynCfg_1]]");function sf(h){if(h){var y;if(tt(h)?(y=[],y[Hi]=h[Hi]):Ds(h)&&(y={}),y)return Or(h,function(w,x){y[w]=sf(x)}),y}return h}function Ey(h){if(h){var y=h[Gh]||h;if(y.cfg&&(y.cfg===h||y.cfg[Gh]===y))return y}return null}function Ry(h){if(h&&(Ds(h)||tt(h)))try{h[bw]=!0}catch{}return h}function Py(h,y,w){var x=!1;return w&&!h[y.blkVal]&&(x=w[qC],!x&&!w[bw]&&(x=Ds(w)||tt(w))),x}function cv(h){dn("InvalidAccess:"+h)}var JD=["push","pop","shift","unshift","splice"],uv=function(h,y,w,x){h&&h[Lc](3,108,"".concat(w," [").concat(y,"] failed - ")+kt(x))};function XD(h,y,w){tt(y)&&Dn(JD,function(x){var q=y[x];y[x]=function(){for(var G=[],te=0;te<arguments.length;te++)G[te]=arguments[te];var le=q[Lf](this,G);return ng(h,y,w,"Patching"),le}})}function td(h,y){var w=Mt(h,y);return w&&w.get}function Kh(h,y,w,x){var q={n:w,h:[],trk:function(Ae){Ae&&Ae.fn&&(Ks(q.h,Ae)===-1&&q.h[wi](Ae),h.trk(Ae,q))},clr:function(Ae){var Ke=Ks(q.h,Ae);Ke!==-1&&q.h[Aa](Ke,1)}},G=!0,te=!1;function le(){G&&(te=te||Py(le,h,x),x&&!x[Gh]&&te&&(x=ng(h,x,w,"Converting")),G=!1);var Ae=h.act;return Ae&&q.trk(Ae),x}le[h.prop]={chng:function(){h.add(q)}};function Ee(Ae){if(x!==Ae){le[h.ro]&&!h.upd&&cv("["+w+"] is read-only:"+kt(y)),G&&(te=te||Py(le,h,x),G=!1);var Ke=te&&le[h.rf];if(te)if(Ke){Or(x,function(It){x[It]=Ae?Ae[It]:$d});try{Or(Ae,function(It,yt){rg(h,x,It,yt)}),Ae=x}catch(It){uv((h.hdlr||{})[Ki],w,"Assigning",It),te=!1}}else x&&x[Gh]&&Or(x,function(It){var yt=td(x,It);if(yt){var ut=yt[h.prop];ut&&ut.chng()}});if(Ae!==x){var bt=Ae&&Py(le,h,Ae);!Ke&&bt&&(Ae=ng(h,Ae,w,"Converting")),x=Ae,te=bt}h.add(q)}}jo(y,q.n,{g:le,s:Ee})}function rg(h,y,w,x){if(y){var q=td(y,w),G=q&&!!q[h.prop];G?y[w]=x:Kh(h,y,w,x)}return y}function $_(h,y,w,x){if(y){var q=td(y,w),G=q&&!!q[h.prop],te=x&&x[0],le=x&&x[1],Ee=x&&x[2];if(!G){if(Ee)try{Ry(y)}catch(Ae){uv((h.hdlr||{})[Ki],w,"Blocking",Ae)}try{rg(h,y,w,y[w]),q=td(y,w)}catch(Ae){uv((h.hdlr||{})[Ki],w,"State",Ae)}}te&&(q[h.rf]=te),le&&(q[h.ro]=le),Ee&&(q[h.blkVal]=!0)}return y}function ng(h,y,w,x){try{Or(y,function(q,G){rg(h,y,q,G)}),y[Gh]||(oa(y,Gh,{get:function(){return h[Bn]}}),XD(h,y,w))}catch(q){uv((h.hdlr||{})[Ki],w,x,q)}return y}var rd="[[ai_",xl="]]";function Uf(h){var y,w=_l(rd+"get"+h.uid+xl),x=_l(rd+"ro"+h.uid+xl),q=_l(rd+"rf"+h.uid+xl),G=_l(rd+"blkVal"+h.uid+xl),te=_l(rd+"dtl"+h.uid+xl),le=null,Ee=null,Ae;function Ke(ut,sr){var Nt=Ae.act;try{Ae.act=ut,ut&&ut[te]&&(Dn(ut[te],function(er){er.clr(ut)}),ut[te]=[]),sr({cfg:h.cfg,set:h.set.bind(h),setDf:h[da].bind(h),ref:h.ref.bind(h),rdOnly:h[is].bind(h)})}catch(er){var pr=h[Ki];throw pr&&pr[Lc](1,107,kt(er)),er}finally{Ae.act=Nt||null}}function bt(){if(le){var ut=le;le=null,Ee&&Ee[Ud](),Ee=null;var sr=[];if(Dn(ut,function(Nt){if(Nt&&(Nt[te]&&(Dn(Nt[te],function(pr){pr.clr(Nt)}),Nt[te]=null),Nt.fn))try{Ke(Nt,Nt.fn)}catch(pr){sr[wi](pr)}}),le)try{bt()}catch(Nt){sr[wi](Nt)}sr[Hi]>0&&Um("Watcher error(s): ",sr)}}function It(ut){if(ut&&ut.h[Hi]>0){le||(le=[]),Ee||(Ee=jh(function(){Ee=null,bt()},0));for(var sr=0;sr<ut.h[Hi];sr++){var Nt=ut.h[sr];Nt&&Ks(le,Nt)===-1&&le[wi](Nt)}}}function yt(ut,sr){if(ut){var Nt=ut[te]=ut[te]||[];Ks(Nt,sr)===-1&&Nt[wi](sr)}}return Ae=(y={prop:w,ro:x,rf:q},y[zm]=G,y[Bn]=h,y.add=It,y[tl]=bt,y.use=Ke,y.trk=yt,y),Ae}function Hf(h,y){var w={fn:y,rm:function(){w.fn=null,h=null,y=null}};return h.use(w,y),w}function xy(h,y,w){var x,q=Ey(y);if(q)return q;var G=Fc("dyncfg",!0),te=y&&w!==!1?y:sf(y),le;function Ee(){le[tl]()}function Ae(pr,er,ar){try{pr=rg(le,pr,er,ar)}catch(sn){uv(h,er,"Setting value",sn)}return pr[er]}function Ke(pr){return Hf(le,pr)}function bt(pr,er){le.use(null,function(ar){var sn=le.upd;try{be(er)||(le.upd=er),pr(ar)}finally{le.upd=sn}})}function It(pr,er){var ar;return $_(le,pr,er,(ar={},ar[0]=!0,ar))[er]}function yt(pr,er){var ar;return $_(le,pr,er,(ar={},ar[1]=!0,ar))[er]}function ut(pr,er){var ar;return $_(le,pr,er,(ar={},ar[2]=!0,ar))[er]}function sr(pr,er){return er&&Or(er,function(ar,sn){Jp(Nt,pr,ar,sn)}),pr}var Nt=(x={uid:null,cfg:te},x[Ki]=h,x[tl]=Ee,x.set=Ae,x[da]=sr,x[Tl]=Ke,x.ref=It,x[is]=yt,x[zm]=ut,x._block=bt,x);return jo(Nt,"uid",{c:!1,e:!1,w:!1,v:G}),le=Uf(Nt),ng(le,te,"config","Creating"),Nt}function Xp(h,y){h?(h[Ac](y),h[Lc](2,108,y)):cv(y)}function Fa(h,y,w,x){var q=xy(w,h||{},x);return y&&q[da](q.cfg,y),q}function Yh(h,y,w){var x=h[Gh]||h;return x.cfg&&(x.cfg===h||x.cfg[Gh]===x)?x[Tl](y):(Xp(w,Hp+kt(h)),Fa(h,null,w)[Tl](y))}function Jh(h,y){if(h&&h[ha])return h[ha](y)}function V_(h,y,w){var x;return w||(x=zp(function(q){w=q})),h&&gy(h)>0?Ma(Jh(h[0],y),function(){V_(si(h,1),y,w)}):w(),x}var jC=500;function Xh(h,y,w){return!h&&xe(h)?y:zr(h)?h:ft(h)[ac]()==="true"}function zC(h){return{mrg:!0,v:h}}function ig(h,y,w){return{fb:w,isVal:h,v:y}}function Qh(h,y){return{fb:y,set:Xh,v:!!h}}var nd=[Kd,Fs,fi,Au],lv=null,Qp;function og(h,y){return function(){var w=arguments,x=ww(y);if(x){var q=x.listener;q&&q[h]&&q[h][Lf](q,w)}}}function dv(){var h=Cn("Microsoft");return h&&(lv=h.ApplicationInsights),lv}function ww(h){var y=lv;return!y&&h.disableDbgExt!==!0&&(y=lv||dv()),y?y.ChromeDbgExt:null}function QD(h){if(!Qp){Qp={};for(var y=0;y<nd[Hi];y++)Qp[nd[y]]=og(nd[y],h)}return Qp}var sg,UC="warnToConsole",pc="AI (Internal): ",ag="AI: ",cg="AITR_",HC={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},ZD=(sg={},sg[0]=null,sg[1]="errorToConsole",sg[2]=UC,sg[3]="debugToConsole",sg);function id(h){return h?'"'+h[ke](/\"/g,Zi)+'"':Zi}function mc(h,y){var w=nv();if(w){var x="log";w[h]&&(x=h),st(w[x])&&w[x](y)}}var od=function(){function h(y,w,x,q){x===void 0&&(x=!1);var G=this;G[Dl]=y,G[ed]=(x?ag:pc)+y;var te=Zi;fu()&&(te=fc().stringify(q));var le=(w?" message:"+id(w):Zi)+(q?" props:"+id(te):Zi);G[ed]+=le}return h.dataType="MessageData",h}();function ug(h,y){return(h||{})[Ki]||new fv(y)}var fv=function(){function h(y){this.identifier="DiagnosticLogger",this.queue=[];var w=0,x={},q,G,te,le,Ee;zo(h,this,function(Ae){Ee=bt(y||{}),Ae.consoleLoggingLevel=function(){return q},Ae[Lc]=function(ut,sr,Nt,pr,er){er===void 0&&(er=!1);var ar=new od(sr,Nt,er,pr);if(le)throw kt(ar);var sn=ZD[ut]||UC;if(be(ar[ed]))yt("throw"+(ut===1?"Critical":"Warning"),ar);else{if(er){var ki=+ar[Dl];!x[ki]&&q>=ut&&(Ae[sn](ar[ed]),x[ki]=!0)}else q>=ut&&Ae[sn](ar[ed]);Ke(ut,ar)}},Ae.debugToConsole=function(ut){mc("debug",ut),yt("warning",ut)},Ae[Ac]=function(ut){mc("warn",ut),yt("warning",ut)},Ae.errorToConsole=function(ut){mc("error",ut),yt("error",ut)},Ae.resetInternalMessageCount=function(){w=0,x={}},Ae[Qe]=Ke,Ae[ha]=function(ut){Ee&&Ee.rm(),Ee=null};function Ke(ut,sr){if(!It()){var Nt=!0,pr=cg+sr[Dl];if(x[pr]?Nt=!1:x[pr]=!0,Nt&&(ut<=G&&(Ae.queue[wi](sr),w++,yt(ut===1?"error":"warn",sr)),w===te)){var er="Internal events throttle limit per PageView reached for this app.",ar=new od(23,er,!1);Ae.queue[wi](ar),ut===1?Ae.errorToConsole(er):Ae[Ac](er)}}}function bt(ut){return Yh(Fa(ut,HC,Ae).cfg,function(sr){var Nt=sr.cfg;q=Nt[Hd],G=Nt.loggingLevelTelemetry,te=Nt.maxMessageLimit,le=Nt.enableDebug})}function It(){return w>=te}function yt(ut,sr){var Nt=ww(y||{});Nt&&Nt[g]&&Nt[g](ut,sr)}})}return h.__ieDyn=1,h}();function G_(h){return h||new fv}function bn(h,y,w,x,q,G){G===void 0&&(G=!1),G_(h)[Lc](y,w,x,q,G)}function Oy(h,y){G_(h)[Ac](y)}var Zp,Bf,lg="toGMTString",qa="toUTCString",K_="cookie",hv="expires",Y_="isCookieUseDisabled",sd="disableCookiesUsage",dg="_ckMgr",Zh=null,pv=null,fg=null,Nu,af={},Sw={},ad=(Zp={cookieCfg:zC((Bf={},Bf[Yd]={fb:"cookieDomain",dfVal:Vm},Bf.path={fb:"cookiePath",dfVal:Vm},Bf.enabled=$d,Bf.ignoreCookies=$d,Bf.blockedCookies=$d,Bf)),cookieDomain:$d,cookiePath:$d},Zp[sd]=$d,Zp);function Iy(){!Nu&&(Nu=Ue(function(){return co()}))}function cd(h){return h?h.isEnabled():!0}function Cw(h,y){return y&&h&&tt(h.ignoreCookies)?Ks(h.ignoreCookies,y)!==-1:!1}function ky(h,y){return y&&h&&tt(h.blockedCookies)&&Ks(h.blockedCookies,y)!==-1?!0:Cw(h,y)}function ud(h,y){var w=y[La];if(xe(w)){var x=void 0;be(h[Y_])||(x=!h[Y_]),be(h[sd])||(x=!h[sd]),w=x}return w}function Tw(h,y){var w,x,q,G,te,le,Ee,Ae,Ke;h=Fa(h||Sw,null,y).cfg,te=Yh(h,function(It){It[da](It.cfg,ad),x=It.ref(It.cfg,"cookieCfg"),q=x[$m]||"/",G=x[Yd],le=ud(h,x)!==!1,Ee=x.getCookie||Ew,Ae=x.setCookie||$f,Ke=x.delCookie||$f},y);var bt=(w={isEnabled:function(){var It=ud(h,x)!==!1&&le&&Dw(y),yt=Sw[dg];return It&&yt&&bt!==yt&&(It=cd(yt)),It},setEnabled:function(It){le=It!==!1,x[La]=It},set:function(It,yt,ut,sr,Nt){var pr=!1;if(cd(bt)&&!ky(x,It)){var er={},ar=Js(yt||Zi),sn=Ku(ar,";");if(sn!==-1&&(ar=Js(Ye(yt,sn)),er=J_(fe(yt,sn+1))),Lu(er,Yd,sr||G,hr,be),!xe(ut)){var ki=Mu();if(be(er[hv])){var us=Wl(),Uc=us+ut*1e3;if(Uc>0){var Ua=new Date;Ua.setTime(Uc),Lu(er,hv,Wf(Ua,ki?lg:qa)||Wf(Ua,ki?lg:qa)||Zi,hr)}}ki||Lu(er,"max-age",Zi+ut,null,be)}var md=Vp();md&&md.protocol==="https:"&&(Lu(er,"secure",null,null,be),pv===null&&(pv=!gc((Jn()||{})[J])),pv&&Lu(er,"SameSite","None",null,be)),Lu(er,$m,Nt||q,null,be),Ae(It,hg(ar,er)),pr=!0}return pr},get:function(It){var yt=Zi;return cd(bt)&&!Cw(x,It)&&(yt=Ee(It)),yt},del:function(It,yt){var ut=!1;return cd(bt)&&(ut=bt.purge(It,yt)),ut},purge:function(It,yt){var ut,sr=!1;if(Dw(y)){var Nt=(ut={},ut[$m]=yt||"/",ut[hv]="Thu, 01 Jan 1970 00:00:01 GMT",ut);Mu()||(Nt["max-age"]="0"),Ke(It,hg(Zi,Nt)),sr=!0}return sr}},w[ha]=function(It){te&&te.rm(),te=null},w);return bt[dg]=bt,bt}function Dw(h){if(Zh===null){Zh=!1,!Nu&&Iy();try{var y=Nu.v||{};Zh=y[K_]!==void 0}catch(w){bn(h,2,68,"Cannot access document.cookie - "+Nc(w),{exception:kt(w)})}}return Zh}function J_(h){var y={};if(h&&h[Hi]){var w=Js(h)[Z](";");Dn(w,function(x){if(x=Js(x||Zi),x){var q=Ku(x,"=");q===-1?y[x]=null:y[Js(Ye(x,q))]=Js(fe(x,q+1))}})}return y}function Wf(h,y){return st(h[y])?h[y]():null}function hg(h,y){var w=h||Zi;return Or(y,function(x,q){w+="; "+x+(xe(q)?Zi:"="+q)}),w}function Ew(h){var y=Zi;if(!Nu&&Iy(),Nu.v){var w=Nu.v[K_]||Zi;fg!==w&&(af=J_(w),fg=w),y=Js(af[h]||Zi)}return y}function $f(h,y){!Nu&&Iy(),Nu.v&&(Nu.v[K_]=h+"="+y)}function gc(h){return ze(h)?!!(Na(h,"CPU iPhone OS 12")||Na(h,"iPad; CPU OS 12")||Na(h,"Macintosh; Intel Mac OS X 10_14")&&Na(h,"Version/")&&Na(h,"Safari")||Na(h,"Macintosh; Intel Mac OS X 10_14")&&ca(h,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||Na(h,"Chrome/5")||Na(h,"Chrome/6")||Na(h,"UnrealEngine")&&!Na(h,"Chrome")||Na(h,"UCBrowser/12")||Na(h,"UCBrowser/11")):!1}var Yo={perfEvtsSendAll:!1};function Ol(h,y,w,x){Dn(h,function(q){if(q&&q[y])if(w)jh(function(){return x(q)},0);else try{x(q)}catch{}})}var mv=function(){function h(y){this.listeners=[];var w,x,q=[],G=Fa(y,Yo);x=G[Tl](function(te){w=!!te.cfg.perfEvtsSendAll}),zo(h,this,function(te){jo(te,"listeners",{g:function(){return q}}),te[ai]=function(le){q[wi](le)},te[Ql]=function(le){for(var Ee=Ks(q,le);Ee>-1;)q[Aa](Ee,1),Ee=Ks(q,le)},te[Kd]=function(le){Ol(q,Kd,!0,function(Ee){Ee[Kd](le)})},te[Fs]=function(le,Ee){Ol(q,Fs,!0,function(Ae){Ae[Fs](le,Ee)})},te[fi]=function(le,Ee){Ol(q,fi,Ee,function(Ae){Ae[fi](le,Ee)})},te[Au]=function(le){le&&(w||!le[Sr]())&&Ol(q,Au,!1,function(Ee){le[Bd]?jh(function(){return Ee[Au](le)},0):Ee[Au](le)})},te[ha]=function(le){var Ee=function(){x&&x.rm(),x=null,q=[]},Ae;if(Ol(q,"unload",!1,function(Ke){var bt=Ke[ha](le);bt&&(Ae||(Ae=[]),Ae[wi](bt))}),Ae)return zp(function(Ke){return Ma(_y(Ae),function(){Ee(),Ke()})});Ee()}})}return h.__ieDyn=1,h}(),ld="ctx",Vf="ParentContextKey",Fu="ChildrenContextKey",gv=null,Ay=function(){function h(y,w,x){var q=this;if(q.start=Wl(),q[lo]=y,q[Bd]=x,q[Sr]=function(){return!1},st(w)){var G;jo(q,"payload",{g:function(){return!G&&st(w)&&(G=w(),w=null),G}})}q[an]=function(te){return te?te===h[Vf]||te===h[Fu]?q[te]:(q[ld]||{})[te]:null},q[jr]=function(te,le){if(te)if(te===h[Vf])q[te]||(q[Sr]=function(){return!0}),q[te]=le;else if(te===h[Fu])q[te]=le;else{var Ee=q[ld]=q[ld]||{};Ee[te]=le}},q[Wn]=function(){var te=0,le=q[an](h[Fu]);if(tt(le))for(var Ee=0;Ee<le[Hi];Ee++){var Ae=le[Ee];Ae&&(te+=Ae[Ou])}q[Ou]=Wl()-q.start,q.exTime=q[Ou]-te,q[Wn]=function(){}}}return h.ParentContextKey="parent",h.ChildrenContextKey="childEvts",h}(),Rw=function(){function h(y){this.ctx={},zo(h,this,function(w){w.create=function(x,q,G){return new Ay(x,q,G)},w.fire=function(x){x&&(x[Wn](),y&&st(y[Au])&&y[Au](x))},w[jr]=function(x,q){if(x){var G=w[ld]=w[ld]||{};G[x]=q}},w[an]=function(x){return(w[ld]||{})[x]}})}return h.__ieDyn=1,h}(),X_="CoreUtils.doPerf";function em(h,y,w,x,q){if(h){var G=h;if(G[os]&&(G=G[os]()),G){var te=void 0,le=G[an](X_);try{if(te=G.create(y(),x,q),te){if(le&&te[jr]&&(te[jr](Ay[Vf],le),le[an]&&le[jr])){var Ee=le[an](Ay[Fu]);Ee||(Ee=[],le[jr](Ay[Fu],Ee)),Ee[wi](te)}return G[jr](X_,te),w(te)}}catch(Ae){te&&te[jr]&&te[jr]("exception",Ae)}finally{te&&G.fire(te),G[jr](X_,le)}}}return w()}function vv(){return gv}var BC="00000000000000000000000000000000",Pw="0000000000000000";function xw(h,y,w){return h&&h[Hi]===y&&h!==w?!!h.match(/^[\da-f]*$/i):!1}function WC(h){return xw(h,32,BC)}function E(h){return xw(h,16,Pw)}var k=Pl("plugin");function z(h){return k.get(h,"state",{},!0)}function Y(h,y){for(var w=[],x=null,q=h[O](),G;q;){var te=q[cc]();if(te){x&&x[F]&&te[du]&&x[F](te),G=z(te);var le=!!G[Ko];te[Ko]&&(le=te[Ko]()),le||w[wi](te),x=te,q=q[O]()}}Dn(w,function(Ee){var Ae=h[fo]();Ee[Xl](h.getCfg(),Ae,y,h[O]()),G=z(Ee),!Ee[fo]&&!G[fo]&&(G[fo]=Ae),G[Ko]=!0,delete G[lu]})}function _e(h){return h.sort(function(y,w){var x=0;if(w){var q=w[du];y[du]?x=q?y[Gd]-w[Gd]:1:q&&(x=-1)}else x=y?1:-1;return x})}function We(h){var y={};return{getName:function(){return y[lo]},setName:function(w){h&&h.setName(w),y[lo]=w},getTraceId:function(){return y[Zs]},setTraceId:function(w){h&&h.setTraceId(w),WC(w)&&(y[Zs]=w)},getSpanId:function(){return y[lc]},setSpanId:function(w){h&&h.setSpanId(w),E(w)&&(y[lc]=w)},getTraceFlags:function(){return y[Iu]},setTraceFlags:function(w){h&&h.setTraceFlags(w),y[Iu]=w}}}var Ze="TelemetryPluginChain",ct="_hasRun",Dt="_getTelCtx",Kt=0;function Ar(h,y,w){for(;h;){if(h[cc]()===w)return h;h=h[O]()}return Zn([w],y.config||{},y)}function jn(h,y,w,x){var q=null,G=[];y||(y=Fa({},null,w[Ki])),x!==null&&(q=x?Ar(h,w,x):h);var te={_next:Ee,ctx:{core:function(){return w},diagLog:function(){return ug(w,y.cfg)},getCfg:function(){return y.cfg},getExtCfg:Ke,getConfig:bt,hasNext:function(){return!!q},getNext:function(){return q},setNext:function(yt){q=yt},iterate:It,onComplete:le}};function le(yt,ut){for(var sr=[],Nt=2;Nt<arguments.length;Nt++)sr[Nt-2]=arguments[Nt];yt&&G[wi]({func:yt,self:be(ut)?te.ctx:ut,args:sr})}function Ee(){var yt=q;if(q=yt?yt[O]():null,!yt){var ut=G;ut&&ut[Hi]>0&&(Dn(ut,function(sr){try{sr.func.call(sr.self,sr.args)}catch(Nt){bn(w[Ki],2,73,"Unexpected Exception during onComplete - "+kt(Nt))}}),G=[])}return yt}function Ae(yt,ut){var sr=null,Nt=y.cfg;if(Nt&&yt){var pr=Nt[Vd];!pr&&ut&&(pr={}),Nt[Vd]=pr,pr=y.ref(Nt,Vd),pr&&(sr=pr[yt],!sr&&ut&&(sr={}),pr[yt]=sr,sr=y.ref(pr,yt))}return sr}function Ke(yt,ut){var sr=Ae(yt,!0);return ut&&Or(ut,function(Nt,pr){if(xe(sr[Nt])){var er=y.cfg[Nt];(er||!xe(er))&&(sr[Nt]=er)}Jp(y,sr,Nt,pr)}),y[da](sr,ut)}function bt(yt,ut,sr){sr===void 0&&(sr=!1);var Nt,pr=Ae(yt,!1),er=y.cfg;return pr&&(pr[ut]||!xe(pr[ut]))?Nt=pr[ut]:(er[ut]||!xe(er[ut]))&&(Nt=er[ut]),Nt||!xe(Nt)?Nt:sr}function It(yt){for(var ut;ut=te._next();){var sr=ut[cc]();sr&&yt(sr)}}return te}function In(h,y,w,x){var q=Fa(y),G=jn(h,q,w,x),te=G.ctx;function le(Ae){var Ke=G._next();return Ke&&Ke[du](Ae,te),!Ke}function Ee(Ae,Ke){return Ae===void 0&&(Ae=null),tt(Ae)&&(Ae=Zn(Ae,q.cfg,w,Ke)),In(Ae||te[O](),q.cfg,w,Ke)}return te[Fn]=le,te[Rs]=Ee,te}function Qn(h,y,w){var x=Fa(y.config),q=jn(h,x,y,w),G=q.ctx;function te(Ee){var Ae=q._next();return Ae&&Ae[ha](G,Ee),!Ae}function le(Ee,Ae){return Ee===void 0&&(Ee=null),tt(Ee)&&(Ee=Zn(Ee,x.cfg,y,Ae)),Qn(Ee||G[O](),y,Ae)}return G[Fn]=te,G[Rs]=le,G}function Qr(h,y,w){var x=Fa(y.config),q=jn(h,x,y,w),G=q.ctx;function te(Ee){return G.iterate(function(Ae){st(Ae[R])&&Ae[R](G,Ee)})}function le(Ee,Ae){return Ee===void 0&&(Ee=null),tt(Ee)&&(Ee=Zn(Ee,x.cfg,y,Ae)),Qr(Ee||G[O](),y,Ae)}return G[Fn]=te,G[Rs]=le,G}function Zn(h,y,w,x){var q=null,G=!x;if(tt(h)&&h[Hi]>0){var te=null;Dn(h,function(le){if(!G&&x===le&&(G=!0),G&&le&&st(le[du])){var Ee=br(le,y,w);q||(q=Ee),te&&te._setNext(Ee),te=Ee}})}return x&&!q?Zn([x],y,w):q}function br(h,y,w){var x=null,q=st(h[du]),G=st(h[F]),te;h?te=h[Mc]+"-"+h[Gd]+"-"+Kt++:te="Unknown-0-"+Kt++;var le={getPlugin:function(){return h},getNext:function(){return x},processTelemetry:Ke,unload:bt,update:It,_id:te,_setNext:function(yt){x=yt}};function Ee(){var yt;return h&&st(h[Dt])&&(yt=h[Dt]()),yt||(yt=In(le,y,w)),yt}function Ae(yt,ut,sr,Nt,pr){var er=!1,ar=h?h[Mc]:Ze,sn=yt[ct];return sn||(sn=yt[ct]={}),yt.setNext(x),h&&em(yt[fo](),function(){return ar+":"+sr},function(){sn[te]=!0;try{var ki=x?x._id:Zi;ki&&(sn[ki]=!1),er=ut(yt)}catch(Uc){var us=x?sn[x._id]:!0;us&&(er=!0),(!x||!us)&&bn(yt[g](),1,73,"Plugin ["+ar+"] failed during "+sr+" - "+kt(Uc)+", run flags: "+kt(sn))}},Nt,pr),er}function Ke(yt,ut){ut=ut||Ee();function sr(Nt){if(!h||!q)return!1;var pr=z(h);return pr[lu]||pr[by]?!1:(G&&h[F](x),h[du](yt,Nt),!0)}Ae(ut,sr,"processTelemetry",function(){return{item:yt}},!yt.sync)||ut[Fn](yt)}function bt(yt,ut){function sr(){var Nt=!1;if(h){var pr=z(h),er=h[fo]||pr[fo];h&&(!er||er===yt.core())&&!pr[lu]&&(pr[fo]=null,pr[lu]=!0,pr[Ko]=!1,h[lu]&&h[lu](yt,ut)===!0&&(Nt=!0))}return Nt}Ae(yt,sr,"unload",function(){},ut[Bd])||yt[Fn](ut)}function It(yt,ut){function sr(){var Nt=!1;if(h){var pr=z(h),er=h[fo]||pr[fo];h&&(!er||er===yt.core())&&!pr[lu]&&h[R]&&h[R](yt,ut)===!0&&(Nt=!0)}return Nt}Ae(yt,sr,"update",function(){},!1)||yt[Fn](ut)}return oi(le)}function Si(){var h=[];function y(x){x&&h[wi](x)}function w(x,q){Dn(h,function(G){try{G(x,q)}catch(te){bn(x[g](),2,73,"Unexpected error calling unload handler - "+kt(te))}}),h=[]}return{add:y,run:w}}function $n(){var h=[];function y(x){var q=h;h=[],Dn(q,function(G){try{(G.rm||G.remove).call(G)}catch(te){bn(x,2,73,"Unloading:"+kt(te))}})}function w(x){x&&Gs(h,x)}return{run:y,add:w}}var Rn,ss="getPlugin",vc=(Rn={},Rn[Vd]={isVal:Vm,v:{}},Rn),ja=function(){function h(){var y=this,w,x,q,G,te;Ae(),zo(h,y,function(Ke){Ke[Xl]=function(bt,It,yt,ut){Ee(bt,It,ut),w=!0},Ke[lu]=function(bt,It){var yt,ut=Ke[fo];if(!ut||bt&&ut!==bt[fo]())return;var sr,Nt=!1,pr=bt||Qn(null,ut,q&&q[ss]?q[ss]():q),er=It||(yt={reason:0},yt[Bd]=!1,yt);function ar(){Nt||(Nt=!0,G.run(pr,It),te.run(pr[g]()),sr===!0&&pr[Fn](er),Ae())}return!Ke[v]||Ke[v](pr,er,ar)!==!0?ar():sr=!0,sr},Ke[R]=function(bt,It){var yt=Ke[fo];if(!yt||bt&&yt!==bt[fo]())return;var ut,sr=!1,Nt=bt||Qr(null,yt,q&&q[ss]?q[ss]():q),pr=It||{reason:0};function er(){sr||(sr=!0,Ee(Nt.getCfg(),Nt.core(),Nt[O]()))}return!Ke._doUpdate||Ke._doUpdate(Nt,pr,er)!==!0?er():ut=!0,ut},Ym(Ke,"_addUnloadCb",function(){return G},"add"),Ym(Ke,"_addHook",function(){return te},"add"),jo(Ke,"_unloadHooks",{g:function(){return te}})}),y[g]=function(Ke){return le(Ke)[g]()},y[Ko]=function(){return w},y.setInitialized=function(Ke){w=Ke},y[F]=function(Ke){q=Ke},y[Fn]=function(Ke,bt){bt?bt[Fn](Ke):q&&st(q[du])&&q[du](Ke,null)},y._getTelCtx=le;function le(Ke){Ke===void 0&&(Ke=null);var bt=Ke;if(!bt){var It=x||In(null,{},y[fo]);q&&q[ss]?bt=It[Rs](null,q[ss]):bt=It[Rs](null,q)}return bt}function Ee(Ke,bt,It){Fa(Ke,vc,ug(bt)),!It&&bt&&(It=bt[uu]()[O]());var yt=q;q&&q[ss]&&(yt=q[ss]()),y[fo]=bt,x=In(It,Ke,bt,yt)}function Ae(){w=!1,y[fo]=null,x=null,q=null,te=$n(),G=Si()}}return h.__ieDyn=1,h}();function yv(h,y,w){var x={id:y,fn:w};Gs(h,x);var q={remove:function(){Dn(h,function(G,te){if(G.id===x.id)return h[Aa](te,1),-1})}};return q}function pg(h,y,w){for(var x=!1,q=h[Hi],G=0;G<q;++G){var te=h[G];if(te)try{if(te.fn[Lf](null,[y])===!1){x=!0;break}}catch(le){bn(w,2,64,"Telemetry initializer failed: "+Nc(le),{exception:kt(le)},!0)}}return!x}var Ly=function(h){Cl(y,h);function y(){var w=h.call(this)||this;w.identifier="TelemetryInitializerPlugin",w.priority=199;var x,q;G(),zo(y,w,function(te,le){te.addTelemetryInitializer=function(Ee){return yv(q,x++,Ee)},te[du]=function(Ee,Ae){pg(q,Ee,Ae?Ae[g]():te[g]())&&te[Fn](Ee,Ae)},te[v]=function(){G()}});function G(){x=0,q=[]}return w}return y.__ieDyn=1,y}(ja),dd,ep="Plugins must provide initialize method",My="_notificationManager",Ny="SDK is still unloading...",or="SDK is not initialized",un=Qi((dd={cookieCfg:{}},dd[Up]={rdOnly:!0,ref:!0,v:[]},dd[Wm]={rdOnly:!0,ref:!0,v:[]},dd[Vd]={ref:!0,v:{}},dd[B_]=$d,dd.loggingLevelConsole=0,dd.diagnosticLogInterval=$d,dd));function hi(h,y){return new Rw(y)}function as(h,y,w){var x,q=[],G=[],te={};return Dn(w,function(le){(xe(le)||xe(le[Xl]))&&$r(ep);var Ee=le[Gd],Ae=le[Mc];le&&Ee&&(xe(te[Ee])?te[Ee]=Ae:Oy(h,"Two extensions have same priority #"+Ee+" - "+te[Ee]+", "+Ae)),!Ee||Ee<y?q[wi](le):G[wi](le)}),x={},x[fo]=q,x[Wm]=G,x}function Ps(h,y){var w=!1;return Dn(y,function(x){if(x===h)return w=!0,-1}),w}function xs(h,y,w,x){w&&Or(w,function(q,G){x&&Ds(G)&&Ds(y[q])&&xs(h,y[q],G,x),x&&Ds(G)&&Ds(y[q])?xs(h,y[q],G,x):h.set(y,q,G)})}function js(h,y){var w=null,x=-1;return Dn(h,function(q,G){if(q.w===y)return w=q,x=G,-1}),{i:x,l:w}}function mg(h,y){var w=js(h,y).l;return w||(w={w:y,rm:function(){var x=js(h,y);x.i!==-1&&h[Aa](x.i,1)}},h[wi](w)),w}function tm(h,y,w){Dn(y,function(x){var q=Yh(h,x.w,w);delete x.w,x.rm=function(){q.rm()}})}var rm=function(){function h(){var y,w,x,q,G,te,le,Ee,Ae,Ke,bt,It,yt,ut,sr,Nt,pr,er,ar,sn,ki,us,Uc,Ua,md,ol,OR,cb;zo(h,this,function(Ur){vr(),Ur._getDbgPlgTargets=function(){return[Uc]},Ur[Ko]=function(){return w},Ur[Xl]=function(Bt,Yr,bi,li){yt&&$r(Ny),Ur[Ko]()&&$r("Core cannot be initialized more than once"),y=Fa(Bt,un,bi||Ur[Ki],!1),Bt=y.cfg,$w(y[Tl](function(Is){ki=Is.cfg.instrumentationKey;var hu=Is.ref(Is.cfg,Vd);Or(hu,function(sl){Is.ref(hu,sl)}),xe(ki)&&$r("Please provide instrumentation key")})),G=li,p1(),w2(),Ur[Ki]=bi;var ri=Bt[Up];if(Ke=[],Ke[wi].apply(Ke,Hh(Hh([],Yr,!1),ri)),bt=Bt[Wm],h1(null),(!It||It[Hi]===0)&&$r("No "+Wm+" available"),bt&&bt[Hi]>1){var Os=Ur[cc]("TeeChannelController");(!Os||!Os.plugin)&&bn(x,1,28,"TeeChannel required")}tm(Bt,us,x),us=null,w=!0,Ur.releaseQueue(),Ur[fa]()},Ur.getChannels=function(){var Bt=[];return It&&Dn(It,function(Yr){Bt[wi](Yr)}),oi(Bt)},Ur.track=function(Bt){em(Ur[os](),function(){return"AppInsightsCore:track"},function(){Bt===null&&(S2(Bt),$r("Invalid telemetry item")),!Bt[lo]&&xe(Bt[lo])&&(S2(Bt),$r("telemetry name required")),Bt.iKey=Bt.iKey||ki,Bt[Ou]=Bt[Ou]||Jd(new Date),Bt.ver=Bt.ver||"4.0",!yt&&Ur[Ko]()?m0()[Fn](Bt):q[wi](Bt)},function(){return{item:Bt}},!Bt.sync)},Ur[uu]=m0,Ur[Oo]=function(){return G||(G=new mv(y.cfg),Ur[My]=G),G},Ur[ai]=function(Bt){Ur[Oo]()[ai](Bt)},Ur[Ql]=function(Bt){G&&G[Ql](Bt)},Ur.getCookieMgr=function(){return Ee||(Ee=Tw(y.cfg,Ur[Ki])),Ee},Ur.setCookieMgr=function(Bt){Ee!==Bt&&(Jh(Ee,!1),Ee=Bt)},Ur[os]=function(){return!te&&!le&&$w(y[Tl](function(Bt){if(Bt.cfg.enablePerfMgr){var Yr=Bt.cfg[B_];st(Yr)&&(le=Yr(Ur,Ur[Oo]()))}})),te||le||vv()},Ur.setPerfMgr=function(Bt){te=Bt},Ur.eventCnt=function(){return q[Hi]},Ur.releaseQueue=function(){if(w&&q[Hi]>0){var Bt=q;q=[],Dn(Bt,function(Yr){m0()[Fn](Yr)})}},Ur[fa]=function(Bt){return sr=Bt||null,cb=!1,ol&&ol[Ud](),ub(!0)};function ub(Bt){if((!ol||!ol[La])&&!cb){var Yr=Bt||x&&x.queue[Hi]>0;Yr&&(OR||(OR=!0,$w(y[Tl](function(bi){var li=bi.cfg.diagnosticLogInterval;(!li||!(li>0))&&(li=1e4);var ri=!1;ol&&(ri=ol[La],ol[Ud]()),ol=Ip(v0,li),ol.unref(),ol[La]=ri}))),ol[La]=!0)}return ol}Ur[_a]=function(){cb=!0,ol&&ol[Ud](),v0()},ev(Ur,function(){return ut},["addTelemetryInitializer"]),Ur[ha]=function(Bt,Yr,bi){var li;Bt===void 0&&(Bt=!0),w||$r(or),yt&&$r(Ny);var ri=(li={reason:50},li[Bd]=Bt,li.flushComplete=!1,li),Os;Bt&&!Yr&&(Os=zp(function(sl){Yr=sl}));var Is=Qn(g0(),Ur);Is[Zl](function(){er.run(Ur[Ki]),V_([Ee,G,x],Bt,function(){vr(),Yr&&Yr(ri)})},Ur);function hu(sl){ri.flushComplete=sl,yt=!0,pr.run(Is,ri),Ur[_a](),Is[Fn](ri)}return v0(),b2(Bt,hu,6,bi),Os},Ur[cc]=IR,Ur.addPlugin=function(Bt,Yr,bi,li){if(!Bt){li&&li(!1),Ww(ep);return}var ri=IR(Bt[Mc]);if(ri&&!Yr){li&&li(!1),Ww("Plugin ["+Bt[Mc]+"] is already loaded!");return}var Os={reason:16};function Is(wg){Ke[wi](Bt),Os.added=[Bt],h1(Os),li&&li(!0)}if(ri){var hu=[ri.plugin],sl={reason:2,isAsync:!!bi};kR(hu,sl,function(wg){wg?(Os.removed=hu,Os.reason|=32,Is()):li&&li(!1)})}else Is()},Ur.updateCfg=function(Bt,Yr){Yr===void 0&&(Yr=!0);var bi;if(Ur[Ko]()){bi={reason:1,cfg:y.cfg,oldCfg:Eu({},y.cfg),newConfig:Eu({},Bt),merge:Yr},Bt=bi.newConfig;var li=y.cfg;Bt[Up]=li[Up],Bt[Wm]=li[Wm]}y._block(function(ri){var Os=ri.cfg;xs(ri,Os,Bt,Yr),Yr||Or(Os,function(Is){ln(Bt,Is)||ri.set(Os,Is,$d)}),ri[da](Os,un)},!0),y[tl](),bi&&m1(bi)},Ur.evtNamespace=function(){return Nt},Ur.flush=b2,Ur.getTraceCtx=function(Bt){return sn||(sn=We()),sn},Ur.setTraceCtx=function(Bt){sn=Bt||null},Ur.addUnloadHook=$w,Ym(Ur,"addUnloadCb",function(){return pr},"add"),Ur.onCfgChange=function(Bt){var Yr;return w?Yr=Yh(y.cfg,Bt,Ur[Ki]):Yr=mg(us,Bt),{rm:function(){Yr.rm()}}},Ur.getWParam=function(){return Nn()||y.cfg.enableWParam?0:-1};function lb(){var Bt={};Ua=[];var Yr=function(bi){bi&&Dn(bi,function(li){if(li[Mc]&&li[uc]&&!Bt[li.identifier]){var ri=li[Mc]+"="+li[uc];Ua[wi](ri),Bt[li.identifier]=li}})};Yr(It),bt&&Dn(bt,function(bi){Yr(bi)}),Yr(Ke)}function vr(){w=!1,y=Fa({},un,Ur[Ki]),y.cfg[Hd]=1,jo(Ur,"config",{g:function(){return y.cfg},s:function(Yr){Ur.updateCfg(Yr,!1)}}),jo(Ur,"pluginVersionStringArr",{g:function(){return Ua||lb(),Ua}}),jo(Ur,"pluginVersionString",{g:function(){return md||(Ua||lb(),md=Ua.join(";")),md||Zi}}),jo(Ur,"logger",{g:function(){return x||(x=new fv(y.cfg),y[Ki]=x),x},s:function(Yr){y[Ki]=Yr,x!==Yr&&(Jh(x,!1),x=Yr)}}),Ur[Ki]=new fv(y.cfg),Uc=[];var Bt=Ur.config[Up]||[];Bt.splice(0,Bt[Hi]),Gs(Bt,Uc),ut=new Ly,q=[],Jh(G,!1),G=null,te=null,le=null,Jh(Ee,!1),Ee=null,Ae=null,Ke=[],bt=null,It=null,yt=!1,sr=null,Nt=Fc("AIBaseCore",!0),pr=Si(),sn=null,ki=null,er=$n(),us=[],md=null,Ua=null,cb=!1}function m0(){var Bt=In(g0(),y.cfg,Ur);return Bt[Zl](ub),Bt}function h1(Bt){var Yr=as(Ur[Ki],jC,Ke);Ae=null,md=null,Ua=null,It=(bt||[])[0]||[],It=_e(Gs(It,Yr[Wm]));var bi=Gs(_e(Yr[fo]),It);Uc=oi(bi);var li=Ur.config[Up]||[];li.splice(0,li[Hi]),Gs(li,Uc);var ri=m0();It&&It[Hi]>0&&Y(ri[Rs](It),bi),Y(ri,bi),Bt&&m1(Bt)}function IR(Bt){var Yr=null,bi=null,li=[];return Dn(Uc,function(ri){if(ri[Mc]===Bt&&ri!==ut)return bi=ri,-1;ri.getChannel&&li[wi](ri)}),!bi&&li[Hi]>0&&Dn(li,function(ri){if(bi=ri.getChannel(Bt),!bi)return-1}),bi&&(Yr={plugin:bi,setEnabled:function(ri){z(bi)[by]=!ri},isEnabled:function(){var ri=z(bi);return!ri[lu]&&!ri[by]},remove:function(ri,Os){var Is;ri===void 0&&(ri=!0);var hu=[bi],sl=(Is={reason:1},Is[Bd]=ri,Is);kR(hu,sl,function(wg){wg&&h1({reason:32,removed:hu}),Os&&Os(wg)})}}),Yr}function g0(){if(!Ae){var Bt=(Uc||[]).slice();Ks(Bt,ut)===-1&&Bt[wi](ut),Ae=Zn(_e(Bt),y.cfg,Ur)}return Ae}function kR(Bt,Yr,bi){if(Bt&&Bt[Hi]>0){var li=Zn(Bt,y.cfg,Ur),ri=Qn(li,Ur);ri[Zl](function(){var Os=!1,Is=[];Dn(Ke,function(sl,wg){Ps(sl,Bt)?Os=!0:Is[wi](sl)}),Ke=Is,md=null,Ua=null;var hu=[];bt&&(Dn(bt,function(sl,wg){var Vw=[];Dn(sl,function(C2){Ps(C2,Bt)?Os=!0:Vw[wi](C2)}),hu[wi](Vw)}),bt=hu),bi&&bi(Os),ub()}),ri[Fn](Yr)}else bi(!1)}function v0(){if(x&&x.queue){var Bt=x.queue.slice(0);x.queue[Hi]=0,Dn(Bt,function(Yr){var bi,li=(bi={},bi[lo]=sr||"InternalMessageId: "+Yr[Dl],bi.iKey=ki,bi[Ou]=Jd(new Date),bi.baseType=od.dataType,bi.baseData={message:Yr[ed]},bi);Ur.track(li)})}}function b2(Bt,Yr,bi,li){var ri=1,Os=!1,Is=null;li=li||5e3;function hu(){ri--,Os&&ri===0&&(Is&&Is[Ud](),Is=null,Yr&&Yr(Os),Yr=null)}if(It&&It[Hi]>0){var sl=m0()[Rs](It);sl.iterate(function(wg){if(wg.flush){ri++;var Vw=!1;wg.flush(Bt,function(){Vw=!0,hu()},bi)||Vw||(Bt&&Is==null?Is=jh(function(){Is=null,hu()},li):hu())}})}return Os=!0,hu(),!0}function p1(){!G&&Ur[Oo](),$w(y[Tl](function(Bt){var Yr=Bt.cfg.disableDbgExt;Yr===!0&&ar&&(G[Ql](ar),ar=null),G&&!ar&&Yr!==!0&&(ar=QD(Bt.cfg),G[ai](ar))}))}function w2(){$w(y[Tl](function(Bt){var Yr=Bt.cfg.enablePerfMgr;!Yr&&le&&(le=null),Yr&&Km(Bt.cfg,B_,hi)}))}function m1(Bt){var Yr=Qr(g0(),Ur);Yr[Zl](ub),(!Ur._updateHook||Ur._updateHook(Yr,Bt)!==!0)&&Yr[Fn](Bt)}function Ww(Bt){var Yr=Ur[Ki];Yr?(bn(Yr,2,73,Bt),ub()):$r(Bt)}function S2(Bt){var Yr=Ur[Oo]();Yr&&Yr[Fs]([Bt],2)}function $w(Bt){er.add(Bt)}})}return h.__ieDyn=1,h}(),Ow="on",gg="attachEvent",tp="addEventListener",Fy="detachEvent",qu="removeEventListener",vg="events";Fc("aiEvtPageHide"),Fc("aiEvtPageShow");var rp=/\.[\.]+/g,_v=/[\.]+$/,TR=1,bv=Pl("events"),nl=/^([^.]*)(?:\.(.+)|)/;function Il(h){return h&&h[ke]?h[ke](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,Zi):h}function qy(h,y){var w;if(y){var x=Zi;tt(y)?(x=Zi,Dn(y,function(G){G=Il(G),G&&(G[0]!=="."&&(G="."+G),x+=G)})):x=Il(y),x&&(x[0]!=="."&&(x="."+x),h=(h||Zi)+x)}var q=nl.exec(h||Zi)||[];return w={},w[ht]=q[1],w.ns=(q[2]||Zi).replace(rp,".").replace(_v,Zi)[Z](".").sort().join("."),w}function Gf(h,y,w){w===void 0&&(w=!0);var x=bv.get(h,vg,{},w),q=x[y];return q||(q=x[y]=[]),q}function e0(h,y,w,x){h&&y&&y[ht]&&(h[qu]?h[qu](y[ht],w,x):h[Fy]&&h[Fy](Ow+y[ht],w))}function $C(h,y,w,x){var q=!1;return h&&y&&y[ht]&&w&&(h[tp]?(h[tp](y[ht],w,x),q=!0):h[gg]&&(h[gg](Ow+y[ht],w),q=!0)),q}function DR(h,y,w,x){for(var q=y[Hi];q--;){var G=y[q];G&&(!w.ns||w.ns===G.evtName.ns)&&(!x||x(G))&&(e0(h,G.evtName,G[Ut],G.capture),y[Aa](q,1))}}function ER(h,y,w){if(y[ht])DR(h,Gf(h,y[ht]),y,w);else{var x=bv.get(h,vg,{});Or(x,function(q,G){DR(h,G,y,w)}),Gr(x)[Hi]===0&&bv.kill(h,vg)}}function VC(h,y){var w;return y?(tt(y)?w=[h].concat(y):w=[h,y],w=qy("xx",w).ns[Z](".")):w=h,w}function Kf(h,y,w,x,q){var G;q===void 0&&(q=!1);var te=!1;if(h)try{var le=qy(y,x);if(te=$C(h,le,w,q),te&&bv.accept(h)){var Ee=(G={guid:TR++,evtName:le},G[Ut]=w,G.capture=q,G);Gf(h,le.type)[wi](Ee)}}catch{}return te}function t0(h,y,w,x,q){if(q===void 0&&(q=!1),h)try{var G=qy(y,x),te=!1;ER(h,G,function(le){return G.ns&&!w||le[Ut]===w?(te=!0,!0):!1}),te||e0(h,G,w,q)}catch{}}var Q_="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Iw="sampleRate",kw="ProcessLegacy",Aw="http.method",GC="https://dc.services.visualstudio.com",Z_="/v2/track",Yf="not_specified",eb=Lp({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),Lw="split",no="length",KC="toLowerCase",wv="ingestionendpoint",jy="toString",RR="removeItem",Jf="name",fd="message",YC="count",np="stringify",Sv="pathname",nm="exceptions",kl="parsedStack",ip="properties",im="measurements",Cv="sizeInBytes",om="typeName",Mw="severityLevel",JC="problemGroup",r0="isManual",tb="CreateFromInterface",zy="assembly",Tv="fileName",Uy="hasFullStack",Nw="level",Dv="method",rb="line",Fw="duration",nb="receivedResponse";function PR(h,y,w){var x=y[no],q=qw(h,y);if(q[no]!==x){for(var G=0,te=q;w[te]!==void 0;)G++,te=fe(q,0,147)+Pv(G);q=te}return q}function qw(h,y){var w;return y&&(y=Js(ft(y)),y[no]>150&&(w=fe(y,0,150),bn(h,2,57,"name is too long.  It has been truncated to 150 characters.",{name:y},!0))),w||y}function za(h,y,w){w===void 0&&(w=1024);var x;return y&&(w=w||1024,y=Js(ft(y)),y[no]>w&&(x=fe(y,0,w),bn(h,2,61,"string value is too long. It has been truncated to "+w+" characters.",{value:y},!0))),x||y}function sm(h,y){return jw(h,y,2048,66)}function Ev(h,y){var w;return y&&y[no]>32768&&(w=fe(y,0,32768),bn(h,2,56,"message is too long, it has been truncated to 32768 characters.",{message:y},!0)),w||y}function n0(h,y){var w;if(y){var x=""+y;x[no]>32768&&(w=fe(x,0,32768),bn(h,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:y},!0))}return w||y}function yg(h,y){if(y){var w={};Or(y,function(x,q){if(at(q)&&fu())try{q=fc()[np](q)}catch(G){bn(h,2,49,"custom property is not valid",{exception:G},!0)}q=za(h,q,8192),x=PR(h,x,w),w[x]=q}),y=w}return y}function Rv(h,y){if(y){var w={};Or(y,function(x,q){x=PR(h,x,w),w[x]=q}),y=w}return y}function ib(h,y){return y&&jw(h,y,128,69)[jy]()}function jw(h,y,w,x){var q;return y&&(y=Js(ft(y)),y[no]>w&&(q=fe(y,0,w),bn(h,2,x,"input is too long, it has been truncated to "+w+" characters.",{data:y},!0))),q||y}function Pv(h){var y="00"+h;return S(y,y[no]-3)}var xv=co()||{},i0=0,o0=[null,null,null,null,null];function ob(h){var y=i0,w=o0,x=w[y];return xv.createElement?w[y]||(x=w[y]=xv.createElement("a")):x={host:s0(h,!0)},x.href=h,y++,y>=w[no]&&(y=0),i0=y,x}function s0(h,y){var w=l1(h,y)||"";if(w){var x=w.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(x!=null&&x[no]>3&&ze(x[2])&&x[2][no]>0)return x[2]+(x[3]||"")}return w}function l1(h,y){var w=null;if(h){var x=h.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(x!=null&&x[no]>2&&ze(x[2])&&x[2][no]>0&&(w=x[2]||"",y&&x[no]>2)){var q=(x[1]||"")[KC](),G=x[3]||"";(q==="http"&&G===":80"||q==="https"&&G===":443")&&(G=""),w+=G}}return w}var d1=[GC+Z_,"https://breeze.aimon.applicationinsights.io"+Z_,"https://dc-int.services.visualstudio.com"+Z_];function _g(h){return Ks(d1,h[KC]())!==-1}function f1(h,y,w,x){var q,G=x,te=x;if(y&&y[no]>0){var le=ob(y);if(q=le.host,!G)if(le[Sv]!=null){var Ee=le.pathname[no]===0?"/":le[Sv];Ee.charAt(0)!=="/"&&(Ee="/"+Ee),te=le[Sv],G=za(h,w?w+" "+Ee:Ee)}else G=za(h,y)}else q=x,G=x;return{target:q,name:G,data:te}}var zw=zd({LocalStorage:0,SessionStorage:1});zd({AI:0,AI_AND_W3C:1,W3C:2});var Hy=void 0,XC="";function QC(h){try{if(xe(Ln()))return null;var y=new Date()[jy](),w=Cn(h===zw.LocalStorage?"localStorage":"sessionStorage"),x=XC+y;w.setItem(x,y);var q=w.getItem(x)!==y;if(w[RR](x),!q)return w}catch{}return null}function Uw(){return a0()?QC(zw.SessionStorage):null}function bg(h){XC=h||""}function a0(h){return(h||Hy===void 0)&&(Hy=!!QC(zw.SessionStorage)),Hy}function ea(h,y){var w=Uw();if(w!==null)try{return w.getItem(y)}catch(x){Hy=!1,bn(h,2,2,"Browser failed read of session storage. "+Nc(x),{exception:kt(x)})}return null}function op(h,y,w){var x=Uw();if(x!==null)try{return x.setItem(y,w),!0}catch(q){Hy=!1,bn(h,2,4,"Browser failed write to session storage. "+Nc(q),{exception:kt(q)})}return!1}var ta=";",c0="=";function u0(h){if(!h)return{};var y=h[Lw](ta),w=iu(y,function(q,G){var te=G[Lw](c0);if(te[no]===2){var le=te[0][KC](),Ee=te[1];q[le]=Ee}return q},{});if(Gr(w)[no]>0){if(w.endpointsuffix){var x=w.location?w.location+".":"";w[wv]=w[wv]||"https://"+x+"dc."+w.endpointsuffix}w[wv]=w[wv]||GC,ca(w[wv],"/")&&(w[wv]=w[wv].slice(0,-1))}return w}var l0=function(){function h(y,w,x){var q=this,G=this;G.ver=1,G.sampleRate=100,G.tags={},G[Jf]=za(y,x)||Yf,G.data=w,G.time=Jd(new Date),G.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return q.sampleRate===100?4:1},tags:1,data:1}}return h}(),T=function(){function h(y,w,x,q){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var G=this;G.ver=2,G[Jf]=za(y,w)||Yf,G[ip]=yg(y,x),G[im]=Rv(y,q)}return h.envelopeType="Microsoft.ApplicationInsights.{0}.Event",h.dataType="EventData",h}(),L="<no_method>",B="error",X="stack",se="stackDetails",Se="errorSrc",Te="message",Xe="description";function lt(h,y){var w=h;return w&&!ze(w)&&(JSON&&JSON[np]?(w=JSON[np](h),y&&(!w||w==="{}")&&(st(h[jy])?w=h[jy]():w=""+h)):w=""+h+" - (Missing JSON.stringify)"),w||""}function gt(h,y){var w=h;return h&&(w&&!ze(w)&&(w=h[Te]||h[Xe]||w),w&&!ze(w)&&(w=lt(w,!0)),h.filename&&(w=w+" @"+(h.filename||"")+":"+(h.lineno||"?")+":"+(h.colno||"?"))),y&&y!=="String"&&y!=="Object"&&y!=="Error"&&Ku(w||"",y)===-1&&(w=y+": "+w),w||""}function jt(h){try{if(at(h))return"hasFullStack"in h&&"typeName"in h}catch{}return!1}function Rr(h){try{if(at(h))return"ver"in h&&"exceptions"in h&&"properties"in h}catch{}return!1}function wr(h){return h&&h.src&&ze(h.src)&&h.obj&&tt(h.obj)}function Lt(h){var y=h||"";ze(y)||(ze(y[X])?y=y[X]:y=""+y);var w=y[Lw](`
`);return{src:y,obj:w}}function Rt(h){for(var y=[],w=h[Lw](`
`),x=0;x<w[no];x++){var q=w[x];w[x+1]&&(q+="@"+w[x+1],x++),y.push(q)}return{src:h,obj:y}}function qt(h){var y=null;if(h)try{if(h[X])y=Lt(h[X]);else if(h[B]&&h[B][X])y=Lt(h[B][X]);else if(h.exception&&h.exception[X])y=Lt(h.exception[X]);else if(wr(h))y=h;else if(wr(h[se]))y=h[se];else if(Po()&&Po().opera&&h[Te])y=Rt(h[fd]);else if(h.reason&&h.reason[X])y=Lt(h.reason[X]);else if(ze(h))y=Lt(h);else{var w=h[Te]||h[Xe]||"";ze(h[Se])&&(w&&(w+=`
`),w+=" from "+h[Se]),w&&(y=Lt(w))}}catch(x){y=Lt(x)}return y||{src:"",obj:null}}function Et(h){var y="";return h&&(h.obj?Dn(h.obj,function(w){y+=w+`
`}):y=h.src||""),y}function ur(h){var y,w=h.obj;if(w&&w[no]>0){y=[];var x=0,q=0;Dn(w,function(ut){var sr=ut[jy]();if(ci.regex.test(sr)){var Nt=new ci(sr,x++);q+=Nt[Cv],y.push(Nt)}});var G=32*1024;if(q>G)for(var te=0,le=y[no]-1,Ee=0,Ae=te,Ke=le;te<le;){var bt=y[te][Cv],It=y[le][Cv];if(Ee+=bt+It,Ee>G){var yt=Ke-Ae+1;y.splice(Ae,yt);break}Ae=te,Ke=le,te++,le--}}return y}function nr(h){var y="";if(h&&(y=h.typeName||h[Jf]||"",!y))try{var w=/function (.{1,200})\(/,x=w.exec(h.constructor[jy]());y=x&&x[no]>1?x[1]:""}catch{}return y}function yr(h){if(h)try{if(!ze(h)){var y=nr(h),w=lt(h,!1);return(!w||w==="{}")&&(h[B]&&(h=h[B],y=nr(h)),w=lt(h,!0)),Ku(w,y)!==0&&y!=="String"?y+":"+w:w}}catch{}return""+(h||"")}var hn=function(){function h(y,w,x,q,G,te){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var le=this;le.ver=2,Rr(w)?(le[nm]=w[nm]||[],le[ip]=w[ip],le[im]=w[im],w[Mw]&&(le[Mw]=w[Mw]),w.id&&(le.id=w.id),w[JC]&&(le[JC]=w[JC]),xe(w[r0])||(le[r0]=w[r0])):(x||(x={}),le[nm]=[new pi(y,w,x)],le[ip]=yg(y,x),le[im]=Rv(y,q),G&&(le[Mw]=G),te&&(le.id=te))}return h.CreateAutoException=function(y,w,x,q,G,te,le,Ee){var Ae,Ke=nr(G||te||y);return Ae={},Ae[fd]=gt(y,Ke),Ae.url=w,Ae.lineNumber=x,Ae.columnNumber=q,Ae.error=yr(G||te||y),Ae.evt=yr(te||y),Ae[om]=Ke,Ae.stackDetails=qt(le||G||te),Ae.errorSrc=Ee,Ae},h.CreateFromInterface=function(y,w,x,q){var G=w[nm]&&Tu(w[nm],function(le){return pi[tb](y,le)}),te=new h(y,vs(vs({},w),{exceptions:G}),x,q);return te},h.prototype.toInterface=function(){var y,w=this,x=w.exceptions,q=w.properties,G=w.measurements,te=w.severityLevel,le=w.problemGroup,Ee=w.id,Ae=w.isManual,Ke=x instanceof Array&&Tu(x,function(bt){return bt.toInterface()})||void 0;return y={ver:"4.0"},y[nm]=Ke,y.severityLevel=te,y.properties=q,y.measurements=G,y.problemGroup=le,y.id=Ee,y.isManual=Ae,y},h.CreateSimpleException=function(y,w,x,q,G,te){var le;return{exceptions:[(le={},le[Uy]=!0,le.message=y,le.stack=G,le.typeName=w,le)]}},h.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",h.dataType="ExceptionData",h.formatError=yr,h}(),pi=function(){function h(y,w,x){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var q=this;if(jt(w))q[om]=w[om],q[fd]=w[fd],q[X]=w[X],q[kl]=w[kl]||[],q[Uy]=w[Uy];else{var G=w,te=G&&G.evt;cr(G)||(G=G[B]||te||G),q[om]=za(y,nr(G))||Yf,q[fd]=Ev(y,gt(w||G,q[om]))||Yf;var le=w[se]||qt(w);q[kl]=ur(le),tt(q[kl])&&Tu(q[kl],function(Ee){Ee[zy]=za(y,Ee[zy]),Ee[Tv]=za(y,Ee[Tv])}),q[X]=n0(y,Et(le)),q.hasFullStack=tt(q.parsedStack)&&q.parsedStack[no]>0,x&&(x[om]=x[om]||q[om])}}return h.prototype.toInterface=function(){var y,w=this,x=w[kl]instanceof Array&&Tu(w[kl],function(G){return G.toInterface()}),q=(y={id:w.id,outerId:w.outerId,typeName:w[om],message:w[fd],hasFullStack:w[Uy],stack:w[X]},y[kl]=x||void 0,y);return q},h.CreateFromInterface=function(y,w){var x=w[kl]instanceof Array&&Tu(w[kl],function(G){return ci[tb](G)})||w[kl],q=new h(y,vs(vs({},w),{parsedStack:x}));return q},h}(),ci=function(){function h(y,w){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var x=this;if(x[Cv]=0,typeof y=="string"){var q=y;x[Nw]=w,x[Dv]=L,x[zy]=Js(q),x[Tv]="",x[rb]=0;var G=q.match(h.regex);G&&G[no]>=5&&(x[Dv]=Js(G[2])||x[Dv],x[Tv]=Js(G[4]),x[rb]=parseInt(G[5])||0)}else x[Nw]=y[Nw],x[Dv]=y[Dv],x[zy]=y[zy],x[Tv]=y[Tv],x[rb]=y[rb],x[Cv]=0;x.sizeInBytes+=x.method[no],x.sizeInBytes+=x.fileName[no],x.sizeInBytes+=x.assembly[no],x[Cv]+=h.baseSize,x.sizeInBytes+=x.level.toString()[no],x.sizeInBytes+=x.line.toString()[no]}return h.CreateFromInterface=function(y){return new h(y,null)},h.prototype.toInterface=function(){var y=this;return{level:y[Nw],method:y[Dv],assembly:y[zy],fileName:y[Tv],line:y[rb]}},h.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,h.baseSize=58,h}(),ho=function(){function h(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return h}(),Jo=function(){function h(y,w,x,q,G,te,le,Ee,Ae){this.aiDataContract={ver:1,metrics:1,properties:0};var Ke=this;Ke.ver=2;var bt=new ho;bt[YC]=q>0?q:void 0,bt.max=isNaN(te)||te===null?void 0:te,bt.min=isNaN(G)||G===null?void 0:G,bt[Jf]=za(y,w)||Yf,bt.value=x,bt.stdDev=isNaN(le)||le===null?void 0:le,Ke.metrics=[bt],Ke[ip]=yg(y,Ee),Ke[im]=Rv(y,Ae)}return h.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",h.dataType="MetricData",h}(),Io="";function zs(h){(isNaN(h)||h<0)&&(h=0),h=Math.round(h);var y=Io+h%1e3,w=Io+Math.floor(h/1e3)%60,x=Io+Math.floor(h/(1e3*60))%60,q=Io+Math.floor(h/(1e3*60*60))%24,G=Math.floor(h/(1e3*60*60*24));return y=y[no]===1?"00"+y:y[no]===2?"0"+y:y,w=w[no]<2?"0"+w:w,x=x[no]<2?"0"+x:x,q=q[no]<2?"0"+q:q,(G>0?G+".":Io)+q+":"+x+":"+w+"."+y}var yc=function(){function h(y,w,x,q,G,te,le){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var Ee=this;Ee.ver=2,Ee.id=ib(y,le),Ee.url=sm(y,x),Ee[Jf]=za(y,w)||Yf,isNaN(q)||(Ee[Fw]=zs(q)),Ee[ip]=yg(y,G),Ee[im]=Rv(y,te)}return h.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",h.dataType="PageviewData",h}(),eo=function(){function h(y,w,x,q,G,te,le,Ee,Ae,Ke,bt,It){Ae===void 0&&(Ae="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var yt=this;yt.ver=2,yt.id=w,yt[Fw]=zs(G),yt.success=te,yt.resultCode=le+"",yt.type=za(y,Ae);var ut=f1(y,x,Ee,q);yt.data=sm(y,q)||ut.data,yt.target=za(y,ut.target),Ke&&(yt.target="".concat(yt.target," | ").concat(Ke)),yt[Jf]=za(y,ut[Jf]),yt[ip]=yg(y,bt),yt[im]=Rv(y,It)}return h.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",h.dataType="RemoteDependencyData",h}(),qc=function(){function h(y,w,x,q,G){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var te=this;te.ver=2,w=w||Yf,te[fd]=Ev(y,w),te[ip]=yg(y,q),te[im]=Rv(y,G),x&&(te[Mw]=x)}return h.envelopeType="Microsoft.ApplicationInsights.{0}.Message",h.dataType="MessageData",h}(),jc=function(){function h(y,w,x,q,G,te,le){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var Ee=this;Ee.ver=2,Ee.url=sm(y,x),Ee[Jf]=za(y,w)||Yf,Ee[ip]=yg(y,G),Ee[im]=Rv(y,te),le&&(Ee.domProcessing=le.domProcessing,Ee[Fw]=le[Fw],Ee.networkConnect=le.networkConnect,Ee.perfTotal=le.perfTotal,Ee[nb]=le[nb],Ee.sentRequest=le.sentRequest)}return h.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",h.dataType="PageviewPerformanceData",h}(),pa=function(){function h(y,w){this.aiDataContract={baseType:1,baseData:1},this.baseType=y,this.baseData=w}return h}(),Al=zd({Verbose:0,Information:1,Warning:2,Error:3,Critical:4});function ba(h){var y="ai."+h+".";return function(w){return y+w}}var wa=ba("application"),Ci=ba("device"),io=ba("location"),hd=ba("operation"),sb=ba("session"),am=ba("user"),cm=ba("cloud"),m=ba("internal"),b=function(h){Cl(y,h);function y(){return h.call(this)||this}return y}(Wp({applicationVersion:wa("ver"),applicationBuild:wa("build"),applicationTypeId:wa("typeId"),applicationId:wa("applicationId"),applicationLayer:wa("layer"),deviceId:Ci("id"),deviceIp:Ci("ip"),deviceLanguage:Ci("language"),deviceLocale:Ci("locale"),deviceModel:Ci("model"),deviceFriendlyName:Ci("friendlyName"),deviceNetwork:Ci("network"),deviceNetworkName:Ci("networkName"),deviceOEMName:Ci("oemName"),deviceOS:Ci("os"),deviceOSVersion:Ci("osVersion"),deviceRoleInstance:Ci("roleInstance"),deviceRoleName:Ci("roleName"),deviceScreenResolution:Ci("screenResolution"),deviceType:Ci("type"),deviceMachineName:Ci("machineName"),deviceVMName:Ci("vmName"),deviceBrowser:Ci("browser"),deviceBrowserVersion:Ci("browserVersion"),locationIp:io("ip"),locationCountry:io("country"),locationProvince:io("province"),locationCity:io("city"),operationId:hd("id"),operationName:hd("name"),operationParentId:hd("parentId"),operationRootId:hd("rootId"),operationSyntheticSource:hd("syntheticSource"),operationCorrelationVector:hd("correlationVector"),sessionId:sb("id"),sessionIsFirst:sb("isFirst"),sessionIsNew:sb("isNew"),userAccountAcquisitionDate:am("accountAcquisitionDate"),userAccountId:am("accountId"),userAgent:am("userAgent"),userId:am("id"),userStoreRegion:am("storeRegion"),userAuthUserId:am("authUserId"),userAnonymousUserAcquisitionDate:am("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:am("authUserAcquisitionDate"),cloudName:cm("name"),cloudRole:cm("role"),cloudRoleVer:cm("roleVer"),cloudRoleInstance:cm("roleInstance"),cloudEnvironment:cm("environment"),cloudLocation:cm("location"),cloudDeploymentUnit:cm("deploymentUnit"),internalNodeName:m("nodeName"),internalSdkVersion:m("sdkVersion"),internalAgentVersion:m("agentVersion"),internalSnippet:m("snippet"),internalSdkSrc:m("sdkSrc")})),I=new b,j="AppInsightsChannelPlugin",$="duration",ie="tags",ge="deviceType",Ie="data",Be="name",et="traceID",Ve="length",wt="stringify",ot="measurements",_t="dataType",it="envelopeType",Qt="toString",Vt="onLine",_r="isOnline",Pr="_get",Ir="enqueue",Mn="count",Ii="eventsLimitInMem",ko="push",Ge="emitLineDelimitedJson",At="clear",Zt="batchPayloads",lr="createNew",on="markAsSent",ei="clearSent",St="bufferOverride",nt="BUFFER_KEY",Tt="SENT_BUFFER_KEY",Ot="MAX_BUFFER_SIZE",gr="sendPOST",xr="triggerSend",Nr="diagLog",ti="_sender",Xo="customHeaders",wo="maxBatchSizeInBytes",sp="onunloadDisableBeacon",cf="isBeaconApiDisabled",ab="alwaysUseXhrOverride",Xf="enableSessionStorageBuffer",um="_buffer",d0="onunloadDisableFetch",Hw="instrumentationKey",Wt="convertUndefined",Kr="maxBatchInterval",ui="baseType",Vn="sampleRate",mi="_xhrReadyStateChange",Uo="_onError",cs="_onPartialSuccess",zc="_onSuccess",ju="itemsAccepted",Ov="itemsReceived",By="oriPayload",xR="setRequestHeader",Vme="eventsSendRequest",Gme="getSamplingScore",i8e="getHashCodeScore",m8="baseType",_c="baseData",pd="properties",Kme="true";function il(h,y,w){return Lu(h,y,w,hr)}function o8e(h,y,w){var x=w[ie]=w[ie]||{},q=y.ext=y.ext||{},G=y[ie]=y[ie]||[],te=q.user;te&&(il(x,I.userAuthUserId,te.authId),il(x,I.userId,te.id||te.localId));var le=q.app;le&&il(x,I.sessionId,le.sesId);var Ee=q.device;Ee&&(il(x,I.deviceId,Ee.id||Ee.localId),il(x,I[ge],Ee.deviceClass),il(x,I.deviceIp,Ee.ip),il(x,I.deviceModel,Ee.model),il(x,I[ge],Ee[ge]));var Ae=y.ext.web;if(Ae){il(x,I.deviceLanguage,Ae.browserLang),il(x,I.deviceBrowserVersion,Ae.browserVer),il(x,I.deviceBrowser,Ae.browser);var Ke=w[Ie]=w[Ie]||{},bt=Ke[_c]=Ke[_c]||{},It=bt[pd]=bt[pd]||{};il(It,"domain",Ae.domain),il(It,"isManual",Ae.isManual?Kme:null),il(It,"screenRes",Ae.screenRes),il(It,"userConsent",Ae.userConsent?Kme:null)}var yt=q.os;yt&&il(x,I.deviceOS,yt[Be]);var ut=q.trace;ut&&(il(x,I.operationParentId,ut.parentID),il(x,I.operationName,za(h,ut[Be])),il(x,I.operationId,ut[et]));for(var sr={},Nt=G[Ve]-1;Nt>=0;Nt--){var pr=G[Nt];Or(pr,function(ar,sn){sr[ar]=sn}),G.splice(Nt,1)}Or(G,function(ar,sn){sr[ar]=sn});var er=vs(vs({},x),sr);er[I.internalSdkVersion]||(er[I.internalSdkVersion]=za(h,"javascript:".concat(s8e.Version),64)),w[ie]=En(er)}function ZC(h,y,w){xe(h)||Or(h,function(x,q){Lr(q)?w[x]=q:ze(q)?y[x]=q:fu()&&(y[x]=fc()[wt](q))})}function f0(h,y){xe(h)||Or(h,function(w,x){h[w]=x||y})}function h0(h,y,w,x){var q=new l0(h,x,y);il(q,"sampleRate",w[Iw]),(w[_c]||{}).startTime&&(q.time=Jd(w[_c].startTime)),q.iKey=w.iKey;var G=w.iKey.replace(/-/g,"");return q[Be]=q[Be].replace("{0}",G),o8e(h,w,q),w[ie]=w[ie]||[],En(q)}function p0(h,y){xe(y[_c])&&bn(h,1,46,"telemetryItem.baseData cannot be null.")}var s8e={Version:"3.0.5"};function a8e(h,y,w){p0(h,y);var x=y[_c][ot]||{},q=y[_c][pd]||{};ZC(y[Ie],q,x),xe(w)||f0(q,w);var G=y[_c];if(xe(G))return Oy(h,"Invalid input for dependency data"),null;var te=G[pd]&&G[pd][Aw]?G[pd][Aw]:"GET",le=new eo(h,G.id,G.target,G[Be],G[$],G.success,G.responseCode,te,G.type,G.correlationContext,q,x),Ee=new pa(eo[_t],le);return h0(h,eo[it],y,Ee)}function Yme(h,y,w){p0(h,y);var x={},q={};y[m8]!==T[_t]&&(x.baseTypeSource=y[m8]),y[m8]===T[_t]?(x=y[_c][pd]||{},q=y[_c][ot]||{}):y[_c]&&ZC(y[_c],x,q),ZC(y[Ie],x,q),xe(w)||f0(x,w);var G=y[_c][Be],te=new T(h,G,x,q),le=new pa(T[_t],te);return h0(h,T[it],y,le)}function c8e(h,y,w){p0(h,y);var x=y[_c][ot]||{},q=y[_c][pd]||{};ZC(y[Ie],q,x),xe(w)||f0(q,w);var G=y[_c],te=hn.CreateFromInterface(h,G,q,x),le=new pa(hn[_t],te);return h0(h,hn[it],y,le)}function u8e(h,y,w){p0(h,y);var x=y[_c],q=x[pd]||{},G=x[ot]||{};ZC(y[Ie],q,G),xe(w)||f0(q,w);var te=new Jo(h,x[Be],x.average,x.sampleCount,x.min,x.max,x.stdDev,q,G),le=new pa(Jo[_t],te);return h0(h,Jo[it],y,le)}function l8e(h,y,w){p0(h,y);var x,q=y[_c];!xe(q)&&!xe(q[pd])&&!xe(q[pd][$])?(x=q[pd][$],delete q[pd][$]):!xe(y[Ie])&&!xe(y[Ie][$])&&(x=y[Ie][$],delete y[Ie][$]);var G=y[_c],te;((y.ext||{}).trace||{})[et]&&(te=y.ext.trace[et]);var le=G.id||te,Ee=G[Be],Ae=G.uri,Ke=G[pd]||{},bt=G[ot]||{};if(xe(G.refUri)||(Ke.refUri=G.refUri),xe(G.pageType)||(Ke.pageType=G.pageType),xe(G.isLoggedIn)||(Ke.isLoggedIn=G.isLoggedIn[Qt]()),!xe(G[pd])){var It=G[pd];Or(It,function(sr,Nt){Ke[sr]=Nt})}ZC(y[Ie],Ke,bt),xe(w)||f0(Ke,w);var yt=new yc(h,Ee,Ae,x,Ke,bt,le),ut=new pa(yc[_t],yt);return h0(h,yc[it],y,ut)}function d8e(h,y,w){p0(h,y);var x=y[_c],q=x[Be],G=x.uri||x.url,te=x[pd]||{},le=x[ot]||{};ZC(y[Ie],te,le),xe(w)||f0(te,w);var Ee=new jc(h,q,G,void 0,te,le,x),Ae=new pa(jc[_t],Ee);return h0(h,jc[it],y,Ae)}function f8e(h,y,w){p0(h,y);var x=y[_c].message,q=y[_c].severityLevel,G=y[_c][pd]||{},te=y[_c][ot]||{};ZC(y[Ie],G,te),xe(w)||f0(G,w);var le=new qc(h,x,q,G,te),Ee=new pa(qc[_t],le);return h0(h,qc[it],y,Ee)}function Jme(h,y){t0(h,null,null,y)}function h8e(h){var y,w=co(),x=Jn(),q=!1,G=!0,te=VC(Fc("OfflineListener"),h);try{if(Ee(Po())&&(q=!0),w){var le=w.body||w;le.ononline&&Ee(le)&&(q=!0)}q&&x&&!xe(x[Vt])&&(G=x[Vt])}catch{q=!1}function Ee(yt){var ut=!1;return yt&&(ut=Kf(yt,"online",Ae,te),ut&&Kf(yt,"offline",Ke,te)),ut}function Ae(){G=!0}function Ke(){G=!1}function bt(){var yt=!0;return q?yt=G:x&&!xe(x[Vt])&&(yt=x[Vt]),yt}function It(){var yt=Po();if(yt&&q){if(Jme(yt,te),w){var ut=w.body||w;be(ut.ononline)||Jme(ut,te)}q=!1}}return y={},y[_r]=bt,y.isListening=function(){return q},y.unload=It,y}var Xme=function(){function h(y,w){var x=[],q=!1;this[Pr]=function(){return x},this._set=function(G){return x=G,x},zo(h,this,function(G){G[Ir]=function(te){if(G[Mn]()>=w[Ii]){q||(bn(y,2,105,"Maximum in-memory buffer size reached: "+G[Mn](),!0),q=!0);return}x[ko](te)},G[Mn]=function(){return x[Ve]},G.size=function(){for(var te=x[Ve],le=0;le<x[Ve];le++)te+=x[le][Ve];return w[Ge]||(te+=2),te},G[At]=function(){x=[],q=!1},G.getItems=function(){return x.slice(0)},G[Zt]=function(te){if(te&&te[Ve]>0){var le=w[Ge]?te.join(`
`):"["+te.join(",")+"]";return le}return null},G[lr]=function(te,le,Ee){var Ae=x.slice(0);te=te||y,le=le||{};var Ke=Ee?new Qme(te,le):new g8(te,le);return Dn(Ae,function(bt){Ke[Ir](bt)}),Ke}})}return h.__ieDyn=1,h}(),g8=function(h){Cl(y,h);function y(w,x){var q=h.call(this,w,x)||this;return zo(y,q,function(G,te){G[on]=function(le){te[At]()},G[ei]=function(le){}}),q}return y.__ieDyn=1,y}(Xme),Qme=function(h){Cl(y,h);function y(w,x){var q=h.call(this,w,x)||this,G=!1,te=x?.namePrefix,le=x[St]||{getItem:ea,setItem:op},Ee=le.getItem,Ae=le.setItem;return zo(y,q,function(Ke,bt){var It=Nt(y[nt]),yt=Nt(y[Tt]),ut=Ke._set(It.concat(yt));ut[Ve]>y[Ot]&&(ut[Ve]=y[Ot]),pr(y[Tt],[]),pr(y[nt],ut),Ke[Ir]=function(er){if(Ke[Mn]()>=y[Ot]){G||(bn(w,2,67,"Maximum buffer size reached: "+Ke[Mn](),!0),G=!0);return}bt[Ir](er),pr(y.BUFFER_KEY,Ke[Pr]())},Ke[At]=function(){bt[At](),pr(y.BUFFER_KEY,Ke[Pr]()),pr(y[Tt],[]),G=!1},Ke[on]=function(er){pr(y[nt],Ke._set(sr(er,Ke[Pr]())));var ar=Nt(y[Tt]);ar instanceof Array&&er instanceof Array&&(ar=ar.concat(er),ar[Ve]>y[Ot]&&(bn(w,1,67,"Sent buffer reached its maximum size: "+ar[Ve],!0),ar[Ve]=y[Ot]),pr(y[Tt],ar))},Ke[ei]=function(er){var ar=Nt(y[Tt]);ar=sr(er,ar),pr(y[Tt],ar)},Ke[lr]=function(er,ar,sn){sn=!!sn;var ki=Ke[Pr]().slice(0),us=Nt(y[Tt]).slice(0);er=er||w,ar=ar||{},Ke[At]();var Uc=sn?new y(er,ar):new g8(er,ar);return Dn(ki,function(Ua){Uc[Ir](Ua)}),sn&&Uc[on](us),Uc};function sr(er,ar){var sn=[];return Dn(ar,function(ki){!st(ki)&&Ks(er,ki)===-1&&sn[ko](ki)}),sn}function Nt(er){var ar=er;try{ar=te?te+"_"+ar:ar;var sn=Ee(w,ar);if(sn){var ki=fc().parse(sn);if(ze(ki)&&(ki=fc().parse(ki)),ki&&tt(ki))return ki}}catch(us){bn(w,1,42," storage key: "+ar+", "+Nc(us),{exception:kt(us)})}return[]}function pr(er,ar){var sn=er;try{sn=te?te+"_"+sn:sn;var ki=JSON[wt](ar);Ae(w,sn,ki)}catch(us){Ae(w,sn,JSON[wt]([])),bn(w,2,41," storage key: "+sn+", "+Nc(us)+". Buffer cleared",{exception:kt(us)})}}}),q}return y.BUFFER_KEY="AI_buffer",y.SENT_BUFFER_KEY="AI_sentBuffer",y.MAX_BUFFER_SIZE=2e3,y}(Xme),p8e=function(){function h(y){zo(h,this,function(w){w.serialize=function(te){var le=x(te,"root");try{return fc()[wt](le)}catch(Ee){bn(y,1,48,Ee&&st(Ee[Qt])?Ee[Qt]():"Error serializing object",null,!0)}};function x(te,le){var Ee="__aiCircularRefCheck",Ae={};if(!te)return bn(y,1,48,"cannot serialize object because it is null or undefined",{name:le},!0),Ae;if(te[Ee])return bn(y,2,50,"Circular reference detected while serializing object",{name:le},!0),Ae;if(!te.aiDataContract){if(le==="measurements")Ae=G(te,"number",le);else if(le==="properties")Ae=G(te,"string",le);else if(le==="tags")Ae=G(te,"string",le);else if(tt(te))Ae=q(te,le);else{bn(y,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:le},!0);try{fc()[wt](te),Ae=te}catch(Ke){bn(y,1,48,Ke&&st(Ke[Qt])?Ke[Qt]():"Error serializing object",null,!0)}}return Ae}return te[Ee]=!0,Or(te.aiDataContract,function(Ke,bt){var It=st(bt)?bt()&1:bt&1,yt=st(bt)?bt()&4:bt&4,ut=bt&2,sr=te[Ke]!==void 0,Nt=at(te[Ke])&&te[Ke]!==null;if(It&&!sr&&!ut)bn(y,1,24,"Missing required field specification. The field is required but not present on source",{field:Ke,name:le});else if(!yt){var pr=void 0;Nt?ut?pr=q(te[Ke],Ke):pr=x(te[Ke],Ke):pr=te[Ke],pr!==void 0&&(Ae[Ke]=pr)}}),delete te[Ee],Ae}function q(te,le){var Ee;if(te)if(!tt(te))bn(y,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:le},!0);else{Ee=[];for(var Ae=0;Ae<te[Ve];Ae++){var Ke=te[Ae],bt=x(Ke,le+"["+Ae+"]");Ee[ko](bt)}}return Ee}function G(te,le,Ee){var Ae;return te&&(Ae={},Or(te,function(Ke,bt){if(le==="string")bt===void 0?Ae[Ke]="undefined":bt===null?Ae[Ke]="null":bt[Qt]?Ae[Ke]=bt[Qt]():Ae[Ke]="invalid field: toString() is not defined.";else if(le==="number")if(bt===void 0)Ae[Ke]="undefined";else if(bt===null)Ae[Ke]="null";else{var It=parseFloat(bt);isNaN(It)?Ae[Ke]="NaN":Ae[Ke]=It}else Ae[Ke]="invalid field: "+Ee+" is of unknown type.",bn(y,1,Ae[Ke],null,!0)})),Ae}})}return h.__ieDyn=1,h}(),m8e=8,g8e=function(){function h(){}return h.prototype.getHashCodeScore=function(y){var w=this.getHashCode(y)/h.INT_MAX_VALUE;return w*100},h.prototype.getHashCode=function(y){if(y==="")return 0;for(;y[Ve]<m8e;)y=y.concat(y);for(var w=5381,x=0;x<y[Ve];++x)w=(w<<5)+w+y.charCodeAt(x),w=w&w;return Math.abs(w)},h.INT_MAX_VALUE=2147483647,h}(),v8e=function(){function h(){var y=this,w=new g8e,x=new b;y[Gme]=function(q){var G=0;return q[ie]&&q[ie][x.userId]?G=w.getHashCodeScore(q[ie][x.userId]):q.ext&&q.ext.user&&q.ext.user.id?G=w[i8e](q.ext.user.id):q[ie]&&q[ie][x.operationId]?G=w.getHashCodeScore(q[ie][x.operationId]):q.ext&&q.ext.telemetryTrace&&q.ext.telemetryTrace[et]?G=w.getHashCodeScore(q.ext.telemetryTrace[et]):G=Math.random()*100,G}}return h}(),y8e=function(){function h(y,w){this.INT_MAX_VALUE=2147483647;var x=w||ug(null);(y>100||y<0)&&(x.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:y},!0),y=100),this[Vn]=y,this.samplingScoreGenerator=new v8e}return h.prototype.isSampledIn=function(y){var w=this[Vn],x=!1;return w==null||w>=100||y.baseType===Jo[_t]?!0:(x=this.samplingScoreGenerator[Gme](y)<w,x)},h}(),zu,Bw,eT=void 0,_8e=65e3;function _2(h){try{return h.responseText}catch{}return null}function b8e(h){return h&&h[gr]}var Zme=Qi((zu={endpointUrl:ig(hr,GC+Z_)},zu[Ge]=Qh(),zu[Kr]=15e3,zu[wo]=102400,zu.disableTelemetry=Qh(),zu[Xf]=Qh(!0),zu.isRetryDisabled=Qh(),zu[cf]=Qh(!0),zu.disableXhr=Qh(),zu[d0]=Qh(),zu[sp]=Qh(),zu[Hw]=eT,zu.namePrefix=eT,zu.samplingPercentage=ig(w8e,100),zu[Xo]=eT,zu[Wt]=eT,zu[Ii]=1e4,zu[St]=!1,zu.httpXHROverride={isVal:b8e,v:eT},zu[ab]=Qh(),zu));function w8e(h){return!isNaN(h)&&h>0&&h<=100}var S8e=(Bw={},Bw[T.dataType]=Yme,Bw[qc.dataType]=f8e,Bw[yc.dataType]=l8e,Bw[jc.dataType]=d8e,Bw[hn.dataType]=c8e,Bw[Jo.dataType]=u8e,Bw[eo.dataType]=a8e,Bw),ege=function(h){Cl(y,h);function y(){var w=h.call(this)||this;w.priority=1001,w.identifier=j;var x,q,G,te,le,Ee,Ae,Ke=0,bt,It,yt,ut,sr,Nt,pr,er,ar,sn,ki,us,Uc,Ua,md,ol,OR,cb,Ur,ub,lb;return zo(y,w,function(vr,m0){rge(),vr.pause=function(){sl(),G=!0},vr.resume=function(){G&&(G=!1,q=null,p1(),hu())},vr.flush=function(mt,tr,Hr){if(mt===void 0&&(mt=!0),!G){sl();try{return vr[xr](mt,null,Hr||1)}catch(Zr){bn(vr[Nr](),1,22,"flush failed, telemetry will not be collected: "+Nc(Zr),{exception:kt(Zr)})}}},vr.onunloadFlush=function(){if(!G)if(pr||cb)try{return vr[xr](!0,S2,2)}catch(mt){bn(vr[Nr](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+Nc(mt),{exception:kt(mt)})}else vr.flush(!1)},vr.addHeader=function(mt,tr){Ae[mt]=tr},vr.initialize=function(mt,tr,Hr,Zr){vr.isInitialized()&&bn(vr[Nr](),1,28,"Sender is already initialized"),m0.initialize(mt,tr,Hr,Zr);var Tn=vr.identifier;le=new p8e(tr.logger),x=0,q=null,vr[ti]=null,Ee=0;var kn=vr[Nr]();yt=VC(Fc("Sender"),tr.evtNamespace&&tr.evtNamespace()),It=h8e(yt),vr._addHook(Yh(mt,function(So){var po=So.cfg;po.storagePrefix&&bg(po.storagePrefix);var Ha=In(null,po,tr),Gn=Ha.getExtCfg(Tn,Zme);jo(vr,"_senderConfig",{g:function(){return Gn}}),sr!==Gn.endpointUrl&&(ut=sr=Gn.endpointUrl),er&&er!==Gn[Xo]&&Dn(er,function(pu){delete Ae[pu.header]}),Nt=Gn[wo],pr=(Gn[sp]===!1||Gn[cf]===!1)&&ef(),cb=Gn[ab],Ur=!!Gn.disableXhr;var Wy=Gn[St],db=!!Gn[Xf]&&(!!Wy||a0()),AR=Gn.namePrefix,T2=db!==Ua||db&&ol!==AR||db&&md!==Wy;if(vr[um]){if(T2)try{vr._buffer=vr._buffer[lr](kn,Gn,db)}catch(pu){bn(vr[Nr](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+Nc(pu),{exception:kt(pu)})}p1()}else vr[um]=db?new Qme(kn,Gn):new g8(kn,Gn);ol=AR,Ua=db,md=Wy,ub=!Gn[d0]&&iv(!0),vr._sample=new y8e(Gn.samplingPercentage,kn),sn=Gn[Hw],P8e(sn,po)||bn(kn,1,100,"Invalid Instrumentation key "+sn),er=Gn[Xo],!_g(ut)&&er&&er[Ve]>0?Dn(er,function(pu){w.addHeader(pu.header,pu.value)}):er=null,OR=Gn.enableSendPromise;var fb=Gn.httpXHROverride,tT=null,LR=null;tT=IR([1,2],!1);var uf={sendPOST:Yr};lb=function(pu,y0){return kR(uf,pu,y0)},!Gn[cf]&&ef()&&(tT=IR([3],!1)),tT=cb?fb:tT||fb||uf,vr[ti]=function(pu,y0){return kR(tT,pu,y0)},ub&&(bt=bi),LR=cb?fb:IR([3,1],!0)||fb,(cb||!bt)&&LR&&(bt=function(pu,y0){return kR(LR,pu,y0)}),bt||(bt=lb),ar=Gn.disableTelemetry,ki=Gn[Wt]||eT,us=Gn.isRetryDisabled,Uc=Gn[Kr]}))},vr.processTelemetry=function(mt,tr){tr=vr._getTelCtx(tr);var Hr=tr[Nr]();try{if(ar)return;if(!mt){bn(Hr,1,7,"Cannot send empty telemetry");return}if(mt.baseData&&!mt[ui]){bn(Hr,1,70,"Cannot send telemetry without baseData and baseType");return}if(mt[ui]||(mt[ui]="EventData"),!vr[ti]){bn(Hr,1,28,"Sender was not initialized");return}if(h1(mt))mt[Iw]=vr._sample[Vn];else{bn(Hr,2,33,"Telemetry item was sampled out and not sent",{SampleRate:vr._sample[Vn]});return}var Zr=mt.iKey||sn,Tn=y.constructEnvelope(mt,Zr,Hr,ki);if(!Tn){bn(Hr,1,47,"Unable to create an AppInsights envelope");return}var kn=!1;if(mt[ie]&&mt[ie][kw]&&(Dn(mt[ie][kw],function(Ha){try{Ha&&Ha(Tn)===!1&&(kn=!0,Oy(Hr,"Telemetry processor check returns false"))}catch(Gn){bn(Hr,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+Nc(Gn),{exception:kt(Gn)},!0)}}),delete mt[ie][kw]),kn)return;var So=le.serialize(Tn),po=vr[um];p1(So),po[Ir](So),hu()}catch(Ha){bn(Hr,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+Nc(Ha),{exception:kt(Ha)})}vr.processNext(mt,tr)},vr[mi]=function(mt,tr,Hr){mt.readyState===4&&w2(mt.status,tr,mt.responseURL,Hr,Vw(mt),_2(mt)||mt.response)},vr[xr]=function(mt,tr,Hr){mt===void 0&&(mt=!0);var Zr;if(!G)try{var Tn=vr[um];if(ar)Tn[At]();else if(Tn[Mn]()>0){var kn=Tn.getItems();R8e(Hr||0,mt),tr?Zr=tr.call(vr,kn,mt):Zr=vr[ti](kn,mt)}sl()}catch(po){var So=Wh();(!So||So>9)&&bn(vr[Nr](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+Nc(po),{exception:kt(po)})}return Zr},vr._doTeardown=function(mt,tr){vr.onunloadFlush(),Jh(It,!1),rge()},vr[Uo]=function(mt,tr,Hr){bn(vr[Nr](),2,26,"Failed to send telemetry.",{message:tr}),vr._buffer&&vr._buffer[ei](mt)},vr[cs]=function(mt,tr){for(var Hr=[],Zr=[],Tn=tr.errors.reverse(),kn=0,So=Tn;kn<So.length;kn++){var po=So[kn],Ha=mt.splice(po.index,1)[0];wg(po.statusCode)?Zr[ko](Ha):Hr[ko](Ha)}mt[Ve]>0&&vr[zc](mt,tr[ju]),Hr[Ve]>0&&vr[Uo](Hr,Vw(null,["partial success",tr[ju],"of",tr.itemsReceived].join(" "))),Zr[Ve]>0&&(Os(Zr),bn(vr[Nr](),2,40,"Partial success. Delivered: "+mt[Ve]+", Failed: "+Hr[Ve]+". Will retry to send "+Zr[Ve]+" our of "+tr[Ov]+" items"))},vr[zc]=function(mt,tr){vr._buffer&&vr._buffer[ei](mt)},vr._xdrOnLoad=function(mt,tr){var Hr=_2(mt);if(mt&&(Hr+""=="200"||Hr===""))x=0,vr[zc](tr,0);else{var Zr=ri(Hr);Zr&&Zr.itemsReceived&&Zr.itemsReceived>Zr[ju]&&!us?vr[cs](tr,Zr):vr[Uo](tr,tge(mt))}};function h1(mt){return vr._sample.isSampledIn(mt)}function IR(mt,tr){for(var Hr,Zr=null,Tn=null,kn=0;Tn==null&&kn<mt[Ve];)Zr=mt[kn],!Ur&&Zr===1?Gp()?Tn=C2:Kp()&&(Tn=Yr):Zr===2&&iv(tr)?Tn=b2:ef()&&Zr===3&&(Tn=Bt),kn++;return Tn?(Hr={},Hr[gr]=Tn,Hr):null}function g0(mt,tr,Hr,Zr){tr===200&&mt&&vr._onSuccess(mt,mt[Ve]),Zr&&vr[Uo](mt,Zr)}function kR(mt,tr,Hr){var Zr=function(So,po,Ha){return g0(tr,So,po,Ha)},Tn=v0(tr),kn=mt&&mt[gr];return kn&&Tn?(vr._buffer[on](tr),kn(Tn,Zr,!Hr)):null}function v0(mt){var tr;if(tt(mt)&&mt[Ve]>0){var Hr=vr._buffer[Zt](mt),Zr=(tr={},tr[Ie]=Hr,tr.urlString=ut,tr.headers=Ae,tr.disableXhrSync=Ur,tr.disableFetchKeepAlive=!ub,tr[By]=mt,tr);return Zr}return null}function b2(mt,tr,Hr){return li(mt,tr,!1)}function p1(mt){var tr=mt?mt[Ve]:0;return vr[um].size()+tr>Nt?((!It||It[_r]())&&vr[xr](!0,null,10),!0):!1}function w2(mt,tr,Hr,Zr,Tn,kn){var So=null;if(vr._appId||(So=ri(kn),So&&So.appId&&(vr._appId=So.appId)),(mt<200||mt>=300)&&mt!==0){if((mt===301||mt===307||mt===308)&&!m1(Hr)){vr[Uo](tr,Tn);return}!us&&wg(mt)?(Os(tr),bn(vr[Nr](),2,40,". Response code "+mt+". Will retry to send "+tr[Ve]+" items.")):vr[Uo](tr,Tn)}else if(It&&!It[_r]()){if(!us){var po=10;Os(tr,po),bn(vr[Nr](),2,40,". Offline - Response Code: ".concat(mt,". Offline status: ").concat(!It.isOnline(),". Will retry to send ").concat(tr.length," items."))}}else m1(Hr),mt===206?(So||(So=ri(kn)),So&&!us?vr[cs](tr,So):vr[Uo](tr,Tn)):(x=0,vr[zc](tr,Zr))}function m1(mt){return Ee>=10?!1:!xe(mt)&&mt!==""&&mt!==ut?(ut=mt,++Ee,!0):!1}function Ww(mt,tr,Hr,Zr){try{mt(tr,Hr,Zr)}catch{}}function S2(mt,tr){var Hr=function(Tn,kn,So){return g0(mt,Tn,kn,So)};if(bt)bt(mt,!1);else{var Zr=v0(mt);Bt(Zr,Hr)}}function $w(mt,tr){var Hr=Jn(),Zr=ut,Tn=new Blob([mt],{type:"text/plain;charset=UTF-8"}),kn=Hr.sendBeacon(Zr,Tn);return kn&&tr(200,{},mt),kn}function Bt(mt,tr,Hr){var Zr=mt,Tn=Zr&&Zr[Ie];if(ze(Tn)&&Tn[Ve]>0&&!$w(Tn,tr)){var kn=[],So=Zr[By];if(So[Ve]>0)for(var po=0;po<Tn[Ve];po++){var Ha=mt[po],Gn=vr._buffer[Zt](Ha);$w(Gn,tr)||kn[ko](Ha)}kn[Ve]>0&&(lb&&lb(kn,!0),bn(vr[Nr](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}function Yr(mt,tr,Hr){var Zr=mt,Tn,kn,So,po=new XMLHttpRequest,Ha=ut;try{po[Q_]=!0}catch{}return po.open("POST",Ha,!Hr),po[xR]("Content-type","application/json"),_g(Ha)&&po[xR](eb[6],eb[7]),Dn(Gr(Ae),function(Gn){po[xR](Gn,Ae[Gn])}),po.onreadystatechange=function(){var Gn=Zr[By];vr._xhrReadyStateChange(po,Gn,Gn[Ve]),po.readyState===4&&kn&&kn(!0)},po.onerror=function(Gn){Ww(tr,400,{},Vw(po)),So&&So(Gn)},!Hr&&OR&&(Tn=zp(function(Gn,Wy){kn=Gn,So=Wy})),po.send(mt[Ie]),Tn}function bi(mt,tr){var Hr=function(So,po,Ha){return g0(mt,So,po,Ha)};if(tt(mt)){for(var Zr=mt[Ve],Tn=0;Tn<mt[Ve];Tn++)Zr+=mt[Tn][Ve];var kn=v0(mt);Ke+Zr<=_8e?li(kn,Hr,!0):ef()?Bt(kn,Hr):(lb&&lb(mt,!0),bn(vr[Nr](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}function li(mt,tr,Hr){var Zr,Tn=ut,kn=mt,So=kn[Ie],po=new Blob([So],{type:"application/json"}),Ha,Gn,Wy,db=new Headers,AR=So[Ve],T2=!1,fb=!1;_g(Tn)&&db.append(eb[6],eb[7]),Dn(Gr(Ae),function(uf){db.append(uf,Ae[uf])});var tT=(Zr={method:"POST",headers:db,body:po},Zr[Q_]=!0,Zr);Hr&&(tT.keepalive=!0,T2=!0,Ke+=AR);var LR=new Request(Tn,tT);try{LR[Q_]=!0}catch{}!Hr&&OR&&(Ha=zp(function(uf,pu){Gn=uf,Wy=pu}));try{Ma(fetch(LR),function(uf){if(Hr&&(Ke-=AR,AR=0),!fb)if(fb=!0,uf.rejected)Ww(tr,400,{},uf.reason&&uf.reason.message),Wy&&Wy(uf.reason);else{var pu=uf.value;pu.ok?Ma(pu.text(),function(y0){var nge=kn[By];w2(pu.status,nge,pu.url,nge[Ve],pu.statusText,y0.value||""),Gn&&Gn(!0)}):(Ww(tr,400,{},pu.statusText),Gn&&Gn(!1))}})}catch(uf){fb||(Ww(tr,400,{},kt(uf)),Wy&&Wy(uf))}return T2&&!fb&&(fb=!0,Ww(tr,200,{}),Gn&&Gn(!0)),Ha}function ri(mt){try{if(mt&&mt!==""){var tr=fc().parse(mt);if(tr&&tr.itemsReceived&&tr.itemsReceived>=tr[ju]&&tr.itemsReceived-tr.itemsAccepted===tr.errors[Ve])return tr}}catch(Hr){bn(vr[Nr](),1,43,"Cannot parse the response. "+Nc(Hr),{response:mt})}return null}function Os(mt,tr){if(tr===void 0&&(tr=1),!(!mt||mt[Ve]===0)){var Hr=vr[um];Hr[ei](mt),x++;for(var Zr=0,Tn=mt;Zr<Tn.length;Zr++){var kn=Tn[Zr];Hr[Ir](kn)}Is(tr),hu()}}function Is(mt){var tr=10,Hr;if(x<=1)Hr=tr;else{var Zr=(Math.pow(2,x)-1)/2,Tn=Math.floor(Math.random()*Zr*tr)+1;Tn=mt*Tn,Hr=Math.max(Math.min(Tn,3600),tr)}var kn=Wl()+Hr*1e3;q=kn}function hu(){if(!te&&!G){var mt=q?Math.max(0,q-Wl()):0,tr=Math.max(Uc,mt);te=jh(function(){te=null,vr[xr](!0,null,1)},tr)}}function sl(){te&&te.cancel(),te=null,q=null}function wg(mt){return mt===401||mt===403||mt===408||mt===429||mt===500||mt===502||mt===503||mt===504}function Vw(mt,tr){return mt?"XMLHttpRequest,Status:"+mt.status+",Response:"+_2(mt)||mt.response||"":tr}function C2(mt,tr,Hr){var Zr=mt,Tn=Po(),kn=new XDomainRequest,So=Zr[Ie];kn.onload=function(){var Gn=Zr[By];vr._xdrOnLoad(kn,Gn)},kn.onerror=function(){Ww(tr,400,{},tge(kn))};var po=Tn&&Tn.location&&Tn.location.protocol||"";if(ut.lastIndexOf(po,0)!==0){bn(vr[Nr](),2,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),vr._buffer[At]();return}var Ha=ut.replace(/^(https?:)/,"");kn.open("POST",Ha),kn.send(So)}function tge(mt,tr){return mt?"XDomainRequest,Response:"+_2(mt)||"":tr}function E8e(){var mt="getNotifyMgr";return vr.core[mt]?vr.core[mt]():vr.core._notificationManager}function R8e(mt,tr){var Hr=E8e();if(Hr&&Hr[Vme])try{Hr[Vme](mt,tr)}catch(Zr){bn(vr[Nr](),1,74,"send request notification failed: "+Nc(Zr),{exception:kt(Zr)})}}function P8e(mt,tr){var Hr=tr.disableInstrumentationKeyValidation,Zr=xe(Hr)?!1:Hr;if(Zr)return!0;var Tn="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",kn=new RegExp(Tn);return kn.test(mt)}function rge(){vr[ti]=null,vr[um]=null,vr._appId=null,vr._sample=null,Ae={},It=null,x=0,q=null,G=!1,te=null,le=null,Ee=0,Ke=0,bt=null,yt=null,ut=null,sr=null,Nt=0,pr=!1,er=null,ar=!1,sn=null,ki=eT,us=!1,Ua=null,ol=eT,Ur=!1,ub=!1,lb=null,jo(vr,"_senderConfig",{g:function(){return Xd({},Zme)}})}}),w}return y.constructEnvelope=function(w,x,q,G){var te;x!==w.iKey&&!xe(x)?te=vs(vs({},w),{iKey:x}):te=w;var le=S8e[te.baseType]||Yme;return le(q,te,G)},y}(ja),v8="instrumentationKey",y8="connectionString",C8e={diagnosticLogInterval:ig(T8e,1e4)};function T8e(h){return h&&h>0}var D8e=function(){function h(y){var w=new rm,x;(xe(y)||xe(y[v8])&&xe(y[y8]))&&$r("Invalid input configuration"),zo(h,this,function(G){jo(G,"config",{g:function(){return x}}),te(),G.initialize=te,G.track=q,ev(G,w,["flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb","onCfgChange"]);function te(){var le=Fa(y||{},C8e);x=le.cfg,w.addUnloadHook(Yh(le,function(){if(x[y8]){var Ee=u0(x[y8]),Ae=Ee.ingestionendpoint;x.endpointUrl=Ae?Ae+Z_:x.endpointUrl,x[v8]=Ee.instrumentationkey||x[v8]}})),w.initialize(x,[new ege])}});function q(G){G&&(G.baseData=G.baseData||{},G.baseType=G.baseType||"EventData"),w.track(G)}}return h.__ieDyn=1,h}();r.AppInsightsCore=rm,r.ApplicationInsights=D8e,r.Sender=ege,r.SeverityLevel=Al,r.arrForEach=Dn,r.isNullOrUndefined=xe,r.proxyFunctions=ev,r.throwError=$r})});var YSe=C(gb=>{"use strict";var Ant=gb&&gb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Lnt=gb&&gb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Mnt=gb&&gb.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Ant(e,r,t);return Lnt(e,r),e};Object.defineProperty(gb,"__esModule",{value:!0});gb.appInsightsClientFactory=void 0;var Nnt=VSe(),Fnt=y7(),qnt=async(r,e,t)=>{let n;try{let o=await Promise.resolve().then(()=>Mnt(KSe()));if(n=new o.ApplicationInsights({instrumentationKey:r,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0}),e){n.config.extensionConfig={};let s={alwaysUseXhrOverride:!0,httpXHROverride:e};n.config.extensionConfig[Nnt.BreezeChannelIdentifier]=s}}catch(o){return Promise.reject(o)}return{logEvent:(o,s)=>{let a={...s?.properties,...s?.measurements};t?.length&&Fnt.TelemetryUtil.applyReplacements(a,t),n?.track({name:o,data:a,baseType:"EventData",baseData:{name:o,properties:s?.properties,measurements:s?.measurements}})},flush:async()=>{n?.flush(!1)},dispose:async()=>new Promise(s=>{n?.unload(!0,()=>{s(),n=void 0},1e3)})}};gb.appInsightsClientFactory=qnt});var ZSe=C(rS=>{"use strict";var jnt=rS&&rS.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),znt=rS&&rS.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),w7=rS&&rS.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&jnt(e,r,t);return znt(e,r),e};Object.defineProperty(rS,"__esModule",{value:!0});var _7=w7(require("os")),JSe=w7(require("vscode")),Unt=w7(require("https")),Hnt=FSe(),Bnt=qSe(),XSe=y7(),Wnt=WSe(),$nt=YSe();function QSe(){return{sendPOST:(e,t)=>{let n={method:"POST",headers:{...e.headers,"Content-Type":"application/json","Content-Length":Buffer.byteLength(e.data)}};try{let i=Unt.request(e.urlString,n,o=>{o.on("data",function(s){t(o.statusCode??200,o.headers,s.toString())}),o.on("error",function(){t(0,{})})});i.write(e.data,o=>{o&&t(0,{})}),i.end()}catch{t(0,{})}}}}var b7=class extends Hnt.BaseTelemetryReporter{constructor(e,t){let n=s=>(0,$nt.appInsightsClientFactory)(s,QSe(),t);XSe.TelemetryUtil.shouldUseOneDataSystemSDK(e)&&(n=s=>(0,Wnt.oneDataSystemClientFactory)(s,JSe,QSe()));let i={release:_7.release(),platform:_7.platform(),architecture:_7.arch()},o=new Bnt.BaseTelemetrySender(e,n);if(e&&e.indexOf("AIF-")===0)throw new Error("AIF keys are no longer supported. Please switch to 1DS keys for 1st party extensions");super(o,JSe,{additionalCommonProperties:XSe.TelemetryUtil.getAdditionalCommonProperties(i)})}};rS.default=b7});var C7=C(RA=>{"use strict";var Vnt=RA&&RA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(RA,"__esModule",{value:!0});var S7=Bc();function Gnt(r){return function(t){return t.lift(new Knt(r))}}RA.audit=Gnt;var Knt=function(){function r(e){this.durationSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new Ynt(e,this.durationSelector))},r}(),Ynt=function(r){Vnt(e,r);function e(t,n){var i=r.call(this,t)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(t)}catch(s){return this.destination.error(s)}var o=S7.innerSubscribe(n,new S7.SimpleInnerSubscriber(this));!o||o.closed?this.clearThrottle():this.add(this.throttled=o)}},e.prototype.clearThrottle=function(){var t=this,n=t.value,i=t.hasValue,o=t.throttled;o&&(this.remove(o),this.throttled=void 0,o.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(S7.SimpleOuterSubscriber)});var tCe=C(T7=>{"use strict";Object.defineProperty(T7,"__esModule",{value:!0});var Jnt=hp(),Xnt=C7(),Qnt=i7();function Znt(r,e){return e===void 0&&(e=Jnt.async),Xnt.audit(function(){return Qnt.timer(r,e)})}T7.auditTime=Znt});var rCe=C(PA=>{"use strict";var eit=PA&&PA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(PA,"__esModule",{value:!0});var D7=Bc();function tit(r){return function(t){return t.lift(new rit(r))}}PA.buffer=tit;var rit=function(){function r(e){this.closingNotifier=e}return r.prototype.call=function(e,t){return t.subscribe(new nit(e,this.closingNotifier))},r}(),nit=function(r){eit(e,r);function e(t,n){var i=r.call(this,t)||this;return i.buffer=[],i.add(D7.innerSubscribe(n,new D7.SimpleInnerSubscriber(i))),i}return e.prototype._next=function(t){this.buffer.push(t)},e.prototype.notifyNext=function(){var t=this.buffer;this.buffer=[],this.destination.next(t)},e}(D7.SimpleOuterSubscriber)});var oCe=C(xA=>{"use strict";var nCe=xA&&xA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(xA,"__esModule",{value:!0});var iCe=gi();function iit(r,e){return e===void 0&&(e=null),function(n){return n.lift(new oit(r,e))}}xA.bufferCount=iit;var oit=function(){function r(e,t){this.bufferSize=e,this.startBufferEvery=t,!t||e===t?this.subscriberClass=sit:this.subscriberClass=ait}return r.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},r}(),sit=function(r){nCe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.bufferSize=n,i.buffer=[],i}return e.prototype._next=function(t){var n=this.buffer;n.push(t),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},e.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),r.prototype._complete.call(this)},e}(iCe.Subscriber),ait=function(r){nCe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.bufferSize=n,o.startBufferEvery=i,o.buffers=[],o.count=0,o}return e.prototype._next=function(t){var n=this,i=n.bufferSize,o=n.startBufferEvery,s=n.buffers,a=n.count;this.count++,a%o===0&&s.push([]);for(var c=s.length;c--;){var u=s[c];u.push(t),u.length===i&&(s.splice(c,1),this.destination.next(u))}},e.prototype._complete=function(){for(var t=this,n=t.buffers,i=t.destination;n.length>0;){var o=n.shift();o.length>0&&i.next(o)}r.prototype._complete.call(this)},e}(iCe.Subscriber)});var cCe=C(OA=>{"use strict";var cit=OA&&OA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(OA,"__esModule",{value:!0});var uit=hp(),lit=gi(),dit=Yy();function fit(r){var e=arguments.length,t=uit.async;dit.isScheduler(arguments[arguments.length-1])&&(t=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(s){return s.lift(new hit(r,n,i,t))}}OA.bufferTime=fit;var hit=function(){function r(e,t,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=n,this.scheduler=i}return r.prototype.call=function(e,t){return t.subscribe(new mit(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},r}(),pit=function(){function r(){this.buffer=[]}return r}(),mit=function(r){cit(e,r);function e(t,n,i,o,s){var a=r.call(this,t)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=i,a.maxBufferSize=o,a.scheduler=s,a.contexts=[];var c=a.openContext();if(a.timespanOnly=i==null||i<0,a.timespanOnly){var u={subscriber:a,context:c,bufferTimeSpan:n};a.add(c.closeAction=s.schedule(sCe,n,u))}else{var l={subscriber:a,context:c},d={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:a,scheduler:s};a.add(c.closeAction=s.schedule(aCe,n,l)),a.add(s.schedule(git,i,d))}return a}return e.prototype._next=function(t){for(var n=this.contexts,i=n.length,o,s=0;s<i;s++){var a=n[s],c=a.buffer;c.push(t),c.length==this.maxBufferSize&&(o=a)}o&&this.onBufferFull(o)},e.prototype._error=function(t){this.contexts.length=0,r.prototype._error.call(this,t)},e.prototype._complete=function(){for(var t=this,n=t.contexts,i=t.destination;n.length>0;){var o=n.shift();i.next(o.buffer)}r.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(t){this.closeContext(t);var n=t.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){t=this.openContext();var i=this.bufferTimeSpan,o={subscriber:this,context:t,bufferTimeSpan:i};this.add(t.closeAction=this.scheduler.schedule(sCe,i,o))}},e.prototype.openContext=function(){var t=new pit;return this.contexts.push(t),t},e.prototype.closeContext=function(t){this.destination.next(t.buffer);var n=this.contexts,i=n?n.indexOf(t):-1;i>=0&&n.splice(n.indexOf(t),1)},e}(lit.Subscriber);function sCe(r){var e=r.subscriber,t=r.context;t&&e.closeContext(t),e.closed||(r.context=e.openContext(),r.context.closeAction=this.schedule(r,r.bufferTimeSpan))}function git(r){var e=r.bufferCreationInterval,t=r.bufferTimeSpan,n=r.subscriber,i=r.scheduler,o=n.openContext(),s=this;n.closed||(n.add(o.closeAction=i.schedule(aCe,t,{subscriber:n,context:o})),s.schedule(r,e))}function aCe(r){var e=r.subscriber,t=r.context;e.closeContext(t)}});var lCe=C(IA=>{"use strict";var vit=IA&&IA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(IA,"__esModule",{value:!0});var yit=Ml(),uCe=wT(),_it=bT();function bit(r,e){return function(n){return n.lift(new wit(r,e))}}IA.bufferToggle=bit;var wit=function(){function r(e,t){this.openings=e,this.closingSelector=t}return r.prototype.call=function(e,t){return t.subscribe(new Sit(e,this.openings,this.closingSelector))},r}(),Sit=function(r){vit(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.closingSelector=i,o.contexts=[],o.add(uCe.subscribeToResult(o,n)),o}return e.prototype._next=function(t){for(var n=this.contexts,i=n.length,o=0;o<i;o++)n[o].buffer.push(t)},e.prototype._error=function(t){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,r.prototype._error.call(this,t)},e.prototype._complete=function(){for(var t=this.contexts;t.length>0;){var n=t.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,r.prototype._complete.call(this)},e.prototype.notifyNext=function(t,n){t?this.closeBuffer(t):this.openBuffer(n)},e.prototype.notifyComplete=function(t){this.closeBuffer(t.context)},e.prototype.openBuffer=function(t){try{var n=this.closingSelector,i=n.call(this,t);i&&this.trySubscribe(i)}catch(o){this._error(o)}},e.prototype.closeBuffer=function(t){var n=this.contexts;if(n&&t){var i=t.buffer,o=t.subscription;this.destination.next(i),n.splice(n.indexOf(t),1),this.remove(o),o.unsubscribe()}},e.prototype.trySubscribe=function(t){var n=this.contexts,i=[],o=new yit.Subscription,s={buffer:i,subscription:o};n.push(s);var a=uCe.subscribeToResult(this,t,s);!a||a.closed?this.closeBuffer(s):(a.context=s,this.add(a),o.add(a))},e}(_it.OuterSubscriber)});var dCe=C(kA=>{"use strict";var Cit=kA&&kA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(kA,"__esModule",{value:!0});var Tit=Ml(),E7=Bc();function Dit(r){return function(e){return e.lift(new Eit(r))}}kA.bufferWhen=Dit;var Eit=function(){function r(e){this.closingSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new Rit(e,this.closingSelector))},r}(),Rit=function(r){Cit(e,r);function e(t,n){var i=r.call(this,t)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(t){this.buffer.push(t)},e.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),r.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var t=this.closingSubscription;t&&(this.remove(t),t.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var o=this.closingSelector;i=o()}catch(s){return this.error(s)}t=new Tit.Subscription,this.closingSubscription=t,this.add(t),this.subscribing=!0,t.add(E7.innerSubscribe(i,new E7.SimpleInnerSubscriber(this))),this.subscribing=!1},e}(E7.SimpleOuterSubscriber)});var fCe=C(AA=>{"use strict";var Pit=AA&&AA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(AA,"__esModule",{value:!0});var R7=Bc();function xit(r){return function(t){var n=new Oit(r),i=t.lift(n);return n.caught=i}}AA.catchError=xit;var Oit=function(){function r(e){this.selector=e}return r.prototype.call=function(e,t){return t.subscribe(new Iit(e,this.selector,this.caught))},r}(),Iit=function(r){Pit(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.selector=n,o.caught=i,o}return e.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(s){r.prototype.error.call(this,s);return}this._unsubscribeAndRecycle();var i=new R7.SimpleInnerSubscriber(this);this.add(i);var o=R7.innerSubscribe(n,i);o!==i&&this.add(o)}},e}(R7.SimpleOuterSubscriber)});var hCe=C(P7=>{"use strict";Object.defineProperty(P7,"__esModule",{value:!0});var kit=Lj();function Ait(r){return function(e){return e.lift(new kit.CombineLatestOperator(r))}}P7.combineAll=Ait});var pCe=C(x7=>{"use strict";Object.defineProperty(x7,"__esModule",{value:!0});var Lit=fp(),Mit=Lj(),Nit=Jy();function Fit(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=null;return typeof r[r.length-1]=="function"&&(t=r.pop()),r.length===1&&Lit.isArray(r[0])&&(r=r[0].slice()),function(n){return n.lift.call(Nit.from([n].concat(r)),new Mit.CombineLatestOperator(t))}}x7.combineLatest=Fit});var mCe=C(O7=>{"use strict";Object.defineProperty(O7,"__esModule",{value:!0});var qit=_A();function jit(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(t){return t.lift.call(qit.concat.apply(void 0,[t].concat(r)))}}O7.concat=jit});var k7=C(I7=>{"use strict";Object.defineProperty(I7,"__esModule",{value:!0});var zit=yA();function Uit(r,e){return zit.mergeMap(r,e,1)}I7.concatMap=Uit});var gCe=C(A7=>{"use strict";Object.defineProperty(A7,"__esModule",{value:!0});var Hit=k7();function Bit(r,e){return Hit.concatMap(function(){return r},e)}A7.concatMapTo=Bit});var vCe=C(LA=>{"use strict";var Wit=LA&&LA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(LA,"__esModule",{value:!0});var $it=gi();function Vit(r){return function(e){return e.lift(new Git(r,e))}}LA.count=Vit;var Git=function(){function r(e,t){this.predicate=e,this.source=t}return r.prototype.call=function(e,t){return t.subscribe(new Kit(e,this.predicate,this.source))},r}(),Kit=function(r){Wit(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.predicate=n,o.source=i,o.count=0,o.index=0,o}return e.prototype._next=function(t){this.predicate?this._tryPredicate(t):this.count++},e.prototype._tryPredicate=function(t){var n;try{n=this.predicate(t,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}($it.Subscriber)});var yCe=C(MA=>{"use strict";var Yit=MA&&MA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(MA,"__esModule",{value:!0});var L7=Bc();function Jit(r){return function(e){return e.lift(new Xit(r))}}MA.debounce=Jit;var Xit=function(){function r(e){this.durationSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new Qit(e,this.durationSelector))},r}(),Qit=function(r){Yit(e,r);function e(t,n){var i=r.call(this,t)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(t){try{var n=this.durationSelector.call(this,t);n&&this._tryNext(t,n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(t,n){var i=this.durationSubscription;this.value=t,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=L7.innerSubscribe(n,new L7.SimpleInnerSubscriber(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var t=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,r.prototype._next.call(this,t)}},e}(L7.SimpleOuterSubscriber)});var _Ce=C(NA=>{"use strict";var Zit=NA&&NA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(NA,"__esModule",{value:!0});var eot=gi(),tot=hp();function rot(r,e){return e===void 0&&(e=tot.async),function(t){return t.lift(new not(r,e))}}NA.debounceTime=rot;var not=function(){function r(e,t){this.dueTime=e,this.scheduler=t}return r.prototype.call=function(e,t){return t.subscribe(new iot(e,this.dueTime,this.scheduler))},r}(),iot=function(r){Zit(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.dueTime=n,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(oot,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;t!==null&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(eot.Subscriber);function oot(r){r.debouncedNext()}});var pP=C(FA=>{"use strict";var sot=FA&&FA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(FA,"__esModule",{value:!0});var aot=gi();function cot(r){return r===void 0&&(r=null),function(e){return e.lift(new uot(r))}}FA.defaultIfEmpty=cot;var uot=function(){function r(e){this.defaultValue=e}return r.prototype.call=function(e,t){return t.subscribe(new lot(e,this.defaultValue))},r}(),lot=function(r){sot(e,r);function e(t,n){var i=r.call(this,t)||this;return i.defaultValue=n,i.isEmpty=!0,i}return e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(aot.Subscriber)});var N7=C(M7=>{"use strict";Object.defineProperty(M7,"__esModule",{value:!0});function dot(r){return r instanceof Date&&!isNaN(+r)}M7.isDate=dot});var wCe=C(qA=>{"use strict";var fot=qA&&qA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(qA,"__esModule",{value:!0});var hot=hp(),pot=N7(),mot=gi(),bCe=iA();function got(r,e){e===void 0&&(e=hot.async);var t=pot.isDate(r),n=t?+r-e.now():Math.abs(r);return function(i){return i.lift(new vot(n,e))}}qA.delay=got;var vot=function(){function r(e,t){this.delay=e,this.scheduler=t}return r.prototype.call=function(e,t){return t.subscribe(new yot(e,this.delay,this.scheduler))},r}(),yot=function(r){fot(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.delay=n,o.scheduler=i,o.queue=[],o.active=!1,o.errored=!1,o}return e.dispatch=function(t){for(var n=t.source,i=n.queue,o=t.scheduler,s=t.destination;i.length>0&&i[0].time-o.now()<=0;)i.shift().notification.observe(s);if(i.length>0){var a=Math.max(0,i[0].time-o.now());this.schedule(t,a)}else this.unsubscribe(),n.active=!1},e.prototype._schedule=function(t){this.active=!0;var n=this.destination;n.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(this.errored!==!0){var n=this.scheduler,i=new _ot(n.now()+this.delay,t);this.queue.push(i),this.active===!1&&this._schedule(n)}},e.prototype._next=function(t){this.scheduleNotification(bCe.Notification.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(bCe.Notification.createComplete()),this.unsubscribe()},e}(mot.Subscriber),_ot=function(){function r(e,t){this.time=e,this.notification=t}return r}()});var CCe=C(jA=>{"use strict";var F7=jA&&jA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(jA,"__esModule",{value:!0});var bot=gi(),wot=Ho(),Sot=bT(),Cot=wT();function Tot(r,e){return e?function(t){return new Eot(t,e).lift(new SCe(r))}:function(t){return t.lift(new SCe(r))}}jA.delayWhen=Tot;var SCe=function(){function r(e){this.delayDurationSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new Dot(e,this.delayDurationSelector))},r}(),Dot=function(r){F7(e,r);function e(t,n){var i=r.call(this,t)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(t,n,i,o,s){this.destination.next(t),this.removeSubscription(s),this.tryComplete()},e.prototype.notifyError=function(t,n){this._error(t)},e.prototype.notifyComplete=function(t){var n=this.removeSubscription(t);n&&this.destination.next(n),this.tryComplete()},e.prototype._next=function(t){var n=this.index++;try{var i=this.delayDurationSelector(t,n);i&&this.tryDelay(i,t)}catch(o){this.destination.error(o)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(t){t.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(t);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),t.outerValue},e.prototype.tryDelay=function(t,n){var i=Cot.subscribeToResult(this,t,n);if(i&&!i.closed){var o=this.destination;o.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(Sot.OuterSubscriber),Eot=function(r){F7(e,r);function e(t,n){var i=r.call(this)||this;return i.source=t,i.subscriptionDelay=n,i}return e.prototype._subscribe=function(t){this.subscriptionDelay.subscribe(new Rot(t,this.source))},e}(wot.Observable),Rot=function(r){F7(e,r);function e(t,n){var i=r.call(this)||this;return i.parent=t,i.source=n,i.sourceSubscribed=!1,i}return e.prototype._next=function(t){this.subscribeToSource()},e.prototype._error=function(t){this.unsubscribe(),this.parent.error(t)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(bot.Subscriber)});var TCe=C(zA=>{"use strict";var Pot=zA&&zA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(zA,"__esModule",{value:!0});var xot=gi();function Oot(){return function(e){return e.lift(new Iot)}}zA.dematerialize=Oot;var Iot=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new kot(e))},r}(),kot=function(r){Pot(e,r);function e(t){return r.call(this,t)||this}return e.prototype._next=function(t){t.observe(this.destination)},e}(xot.Subscriber)});var ECe=C(mP=>{"use strict";var Aot=mP&&mP.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(mP,"__esModule",{value:!0});var q7=Bc();function Lot(r,e){return function(t){return t.lift(new Mot(r,e))}}mP.distinct=Lot;var Mot=function(){function r(e,t){this.keySelector=e,this.flushes=t}return r.prototype.call=function(e,t){return t.subscribe(new DCe(e,this.keySelector,this.flushes))},r}(),DCe=function(r){Aot(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.keySelector=n,o.values=new Set,i&&o.add(q7.innerSubscribe(i,new q7.SimpleInnerSubscriber(o))),o}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(t){this._error(t)},e.prototype._next=function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)},e.prototype._useKeySelector=function(t){var n,i=this.destination;try{n=this.keySelector(t)}catch(o){i.error(o);return}this._finalizeNext(n,t)},e.prototype._finalizeNext=function(t,n){var i=this.values;i.has(t)||(i.add(t),this.destination.next(n))},e}(q7.SimpleOuterSubscriber);mP.DistinctSubscriber=DCe});var j7=C(UA=>{"use strict";var Not=UA&&UA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(UA,"__esModule",{value:!0});var Fot=gi();function qot(r,e){return function(t){return t.lift(new jot(r,e))}}UA.distinctUntilChanged=qot;var jot=function(){function r(e,t){this.compare=e,this.keySelector=t}return r.prototype.call=function(e,t){return t.subscribe(new zot(e,this.compare,this.keySelector))},r}(),zot=function(r){Not(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.keySelector=i,o.hasKey=!1,typeof n=="function"&&(o.compare=n),o}return e.prototype.compare=function(t,n){return t===n},e.prototype._next=function(t){var n;try{var i=this.keySelector;n=i?i(t):t}catch(a){return this.destination.error(a)}var o=!1;if(this.hasKey)try{var s=this.compare;o=s(this.key,n)}catch(a){return this.destination.error(a)}else this.hasKey=!0;o||(this.key=n,this.destination.next(t))},e}(Fot.Subscriber)});var RCe=C(z7=>{"use strict";Object.defineProperty(z7,"__esModule",{value:!0});var Uot=j7();function Hot(r,e){return Uot.distinctUntilChanged(function(t,n){return e?e(t[r],n[r]):t[r]===n[r]})}z7.distinctUntilKeyChanged=Hot});var BA=C(HA=>{"use strict";var Bot=HA&&HA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(HA,"__esModule",{value:!0});var Wot=lP(),$ot=gi();function Vot(r){return r===void 0&&(r=Yot),function(e){return e.lift(new Got(r))}}HA.throwIfEmpty=Vot;var Got=function(){function r(e){this.errorFactory=e}return r.prototype.call=function(e,t){return t.subscribe(new Kot(e,this.errorFactory))},r}(),Kot=function(r){Bot(e,r);function e(t,n){var i=r.call(this,t)||this;return i.errorFactory=n,i.hasValue=!1,i}return e.prototype._next=function(t){this.hasValue=!0,this.destination.next(t)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var t=void 0;try{t=this.errorFactory()}catch(n){t=n}this.destination.error(t)},e}($ot.Subscriber);function Yot(){return new Wot.EmptyError}});var oz=C(WA=>{"use strict";var Jot=WA&&WA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(WA,"__esModule",{value:!0});var Xot=gi(),Qot=uP(),Zot=Ky();function est(r){return function(e){return r===0?Zot.empty():e.lift(new tst(r))}}WA.take=est;var tst=function(){function r(e){if(this.total=e,this.total<0)throw new Qot.ArgumentOutOfRangeError}return r.prototype.call=function(e,t){return t.subscribe(new rst(e,this.total))},r}(),rst=function(r){Jot(e,r);function e(t,n){var i=r.call(this,t)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(t){var n=this.total,i=++this.count;i<=n&&(this.destination.next(t),i===n&&(this.destination.complete(),this.unsubscribe()))},e}(Xot.Subscriber)});var xCe=C(U7=>{"use strict";Object.defineProperty(U7,"__esModule",{value:!0});var PCe=uP(),nst=A0(),ist=BA(),ost=pP(),sst=oz();function ast(r,e){if(r<0)throw new PCe.ArgumentOutOfRangeError;var t=arguments.length>=2;return function(n){return n.pipe(nst.filter(function(i,o){return o===r}),sst.take(1),t?ost.defaultIfEmpty(e):ist.throwIfEmpty(function(){return new PCe.ArgumentOutOfRangeError}))}}U7.elementAt=ast});var OCe=C(H7=>{"use strict";Object.defineProperty(H7,"__esModule",{value:!0});var cst=_A(),ust=rA();function lst(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(t){return cst.concat(t,ust.of.apply(void 0,r))}}H7.endWith=lst});var ICe=C($A=>{"use strict";var dst=$A&&$A.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty($A,"__esModule",{value:!0});var fst=gi();function hst(r,e){return function(t){return t.lift(new pst(r,e,t))}}$A.every=hst;var pst=function(){function r(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}return r.prototype.call=function(e,t){return t.subscribe(new mst(e,this.predicate,this.thisArg,this.source))},r}(),mst=function(r){dst(e,r);function e(t,n,i,o){var s=r.call(this,t)||this;return s.predicate=n,s.thisArg=i,s.source=o,s.index=0,s.thisArg=i||s,s}return e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var n=!1;try{n=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(fst.Subscriber)});var kCe=C(VA=>{"use strict";var gst=VA&&VA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(VA,"__esModule",{value:!0});var B7=Bc();function vst(){return function(r){return r.lift(new yst)}}VA.exhaust=vst;var yst=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new _st(e))},r}(),_st=function(r){gst(e,r);function e(t){var n=r.call(this,t)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return e.prototype._next=function(t){this.hasSubscription||(this.hasSubscription=!0,this.add(B7.innerSubscribe(t,new B7.SimpleInnerSubscriber(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(B7.SimpleOuterSubscriber)});var LCe=C(GA=>{"use strict";var bst=GA&&GA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(GA,"__esModule",{value:!0});var wst=Sg(),Sst=Jy(),W7=Bc();function ACe(r,e){return e?function(t){return t.pipe(ACe(function(n,i){return Sst.from(r(n,i)).pipe(wst.map(function(o,s){return e(n,o,i,s)}))}))}:function(t){return t.lift(new Cst(r))}}GA.exhaustMap=ACe;var Cst=function(){function r(e){this.project=e}return r.prototype.call=function(e,t){return t.subscribe(new Tst(e,this.project))},r}(),Tst=function(r){bst(e,r);function e(t,n){var i=r.call(this,t)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(t){this.hasSubscription||this.tryNext(t)},e.prototype.tryNext=function(t){var n,i=this.index++;try{n=this.project(t,i)}catch(o){this.destination.error(o);return}this.hasSubscription=!0,this._innerSub(n)},e.prototype._innerSub=function(t){var n=new W7.SimpleInnerSubscriber(this),i=this.destination;i.add(n);var o=W7.innerSubscribe(t,n);o!==n&&i.add(o)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(W7.SimpleOuterSubscriber)});var FCe=C(q0=>{"use strict";var Dst=q0&&q0.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(q0,"__esModule",{value:!0});var $7=Bc();function Est(r,e,t){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new MCe(r,e,t))}}q0.expand=Est;var MCe=function(){function r(e,t,n){this.project=e,this.concurrent=t,this.scheduler=n}return r.prototype.call=function(e,t){return t.subscribe(new NCe(e,this.project,this.concurrent,this.scheduler))},r}();q0.ExpandOperator=MCe;var NCe=function(r){Dst(e,r);function e(t,n,i,o){var s=r.call(this,t)||this;return s.project=n,s.concurrent=i,s.scheduler=o,s.index=0,s.active=0,s.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(s.buffer=[]),s}return e.dispatch=function(t){var n=t.subscriber,i=t.result,o=t.value,s=t.index;n.subscribeToProjection(i,o,s)},e.prototype._next=function(t){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(t);try{var o=this.project,s=o(t,i);if(!this.scheduler)this.subscribeToProjection(s,t,i);else{var a={subscriber:this,result:s,value:t,index:i},c=this.destination;c.add(this.scheduler.schedule(e.dispatch,0,a))}}catch(u){n.error(u)}}else this.buffer.push(t)},e.prototype.subscribeToProjection=function(t,n,i){this.active++;var o=this.destination;o.add($7.innerSubscribe(t,new $7.SimpleInnerSubscriber(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this._next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}($7.SimpleOuterSubscriber);q0.ExpandSubscriber=NCe});var qCe=C(KA=>{"use strict";var Rst=KA&&KA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(KA,"__esModule",{value:!0});var Pst=gi(),xst=Ml();function Ost(r){return function(e){return e.lift(new Ist(r))}}KA.finalize=Ost;var Ist=function(){function r(e){this.callback=e}return r.prototype.call=function(e,t){return t.subscribe(new kst(e,this.callback))},r}(),kst=function(r){Rst(e,r);function e(t,n){var i=r.call(this,t)||this;return i.add(new xst.Subscription(n)),i}return e}(Pst.Subscriber)});var V7=C(j0=>{"use strict";var Ast=j0&&j0.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(j0,"__esModule",{value:!0});var Lst=gi();function Mst(r,e){if(typeof r!="function")throw new TypeError("predicate is not a function");return function(t){return t.lift(new jCe(r,t,!1,e))}}j0.find=Mst;var jCe=function(){function r(e,t,n,i){this.predicate=e,this.source=t,this.yieldIndex=n,this.thisArg=i}return r.prototype.call=function(e,t){return t.subscribe(new zCe(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},r}();j0.FindValueOperator=jCe;var zCe=function(r){Ast(e,r);function e(t,n,i,o,s){var a=r.call(this,t)||this;return a.predicate=n,a.source=i,a.yieldIndex=o,a.thisArg=s,a.index=0,a}return e.prototype.notifyComplete=function(t){var n=this.destination;n.next(t),n.complete(),this.unsubscribe()},e.prototype._next=function(t){var n=this,i=n.predicate,o=n.thisArg,s=this.index++;try{var a=i.call(o||this,t,s,this.source);a&&this.notifyComplete(this.yieldIndex?s:t)}catch(c){this.destination.error(c)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(Lst.Subscriber);j0.FindValueSubscriber=zCe});var UCe=C(G7=>{"use strict";Object.defineProperty(G7,"__esModule",{value:!0});var Nst=V7();function Fst(r,e){return function(t){return t.lift(new Nst.FindValueOperator(r,t,!0,e))}}G7.findIndex=Fst});var HCe=C(K7=>{"use strict";Object.defineProperty(K7,"__esModule",{value:!0});var qst=lP(),jst=A0(),zst=oz(),Ust=pP(),Hst=BA(),Bst=yT();function Wst(r,e){var t=arguments.length>=2;return function(n){return n.pipe(r?jst.filter(function(i,o){return r(i,o,n)}):Bst.identity,zst.take(1),t?Ust.defaultIfEmpty(e):Hst.throwIfEmpty(function(){return new qst.EmptyError}))}}K7.first=Wst});var BCe=C(YA=>{"use strict";var $st=YA&&YA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(YA,"__esModule",{value:!0});var Vst=gi();function Gst(){return function(e){return e.lift(new Kst)}}YA.ignoreElements=Gst;var Kst=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new Yst(e))},r}(),Yst=function(r){$st(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype._next=function(t){},e}(Vst.Subscriber)});var WCe=C(JA=>{"use strict";var Jst=JA&&JA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(JA,"__esModule",{value:!0});var Xst=gi();function Qst(){return function(r){return r.lift(new Zst)}}JA.isEmpty=Qst;var Zst=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new eat(e))},r}(),eat=function(r){Jst(e,r);function e(t){return r.call(this,t)||this}return e.prototype.notifyComplete=function(t){var n=this.destination;n.next(t),n.complete()},e.prototype._next=function(t){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(Xst.Subscriber)});var sz=C(XA=>{"use strict";var tat=XA&&XA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(XA,"__esModule",{value:!0});var rat=gi(),nat=uP(),iat=Ky();function oat(r){return function(t){return r===0?iat.empty():t.lift(new sat(r))}}XA.takeLast=oat;var sat=function(){function r(e){if(this.total=e,this.total<0)throw new nat.ArgumentOutOfRangeError}return r.prototype.call=function(e,t){return t.subscribe(new aat(e,this.total))},r}(),aat=function(r){tat(e,r);function e(t,n){var i=r.call(this,t)||this;return i.total=n,i.ring=new Array,i.count=0,i}return e.prototype._next=function(t){var n=this.ring,i=this.total,o=this.count++;if(n.length<i)n.push(t);else{var s=o%i;n[s]=t}},e.prototype._complete=function(){var t=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,o=this.ring,s=0;s<i;s++){var a=n++%i;t.next(o[a])}t.complete()},e}(rat.Subscriber)});var $Ce=C(Y7=>{"use strict";Object.defineProperty(Y7,"__esModule",{value:!0});var cat=lP(),uat=A0(),lat=sz(),dat=BA(),fat=pP(),hat=yT();function pat(r,e){var t=arguments.length>=2;return function(n){return n.pipe(r?uat.filter(function(i,o){return r(i,o,n)}):hat.identity,lat.takeLast(1),t?fat.defaultIfEmpty(e):dat.throwIfEmpty(function(){return new cat.EmptyError}))}}Y7.last=pat});var VCe=C(QA=>{"use strict";var mat=QA&&QA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(QA,"__esModule",{value:!0});var gat=gi();function vat(r){return function(e){return e.lift(new yat(r))}}QA.mapTo=vat;var yat=function(){function r(e){this.value=e}return r.prototype.call=function(e,t){return t.subscribe(new _at(e,this.value))},r}(),_at=function(r){mat(e,r);function e(t,n){var i=r.call(this,t)||this;return i.value=n,i}return e.prototype._next=function(t){this.destination.next(this.value)},e}(gat.Subscriber)});var GCe=C(ZA=>{"use strict";var bat=ZA&&ZA.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(ZA,"__esModule",{value:!0});var wat=gi(),J7=iA();function Sat(){return function(e){return e.lift(new Cat)}}ZA.materialize=Sat;var Cat=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new Tat(e))},r}(),Tat=function(r){bat(e,r);function e(t){return r.call(this,t)||this}return e.prototype._next=function(t){this.destination.next(J7.Notification.createNext(t))},e.prototype._error=function(t){var n=this.destination;n.next(J7.Notification.createError(t)),n.complete()},e.prototype._complete=function(){var t=this.destination;t.next(J7.Notification.createComplete()),t.complete()},e}(wat.Subscriber)});var az=C(eL=>{"use strict";var Dat=eL&&eL.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(eL,"__esModule",{value:!0});var Eat=gi();function Rat(r,e){var t=!1;return arguments.length>=2&&(t=!0),function(i){return i.lift(new Pat(r,e,t))}}eL.scan=Rat;var Pat=function(){function r(e,t,n){n===void 0&&(n=!1),this.accumulator=e,this.seed=t,this.hasSeed=n}return r.prototype.call=function(e,t){return t.subscribe(new xat(e,this.accumulator,this.seed,this.hasSeed))},r}(),xat=function(r){Dat(e,r);function e(t,n,i,o){var s=r.call(this,t)||this;return s.accumulator=n,s._seed=i,s.hasSeed=o,s.index=0,s}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(!this.hasSeed)this.seed=t,this.destination.next(t);else return this._tryNext(t)},e.prototype._tryNext=function(t){var n=this.index++,i;try{i=this.accumulator(this.seed,t,n)}catch(o){this.destination.error(o)}this.seed=i,this.destination.next(i)},e}(Eat.Subscriber)});var tL=C(X7=>{"use strict";Object.defineProperty(X7,"__esModule",{value:!0});var KCe=az(),YCe=sz(),Oat=pP(),JCe=Tj();function Iat(r,e){return arguments.length>=2?function(n){return JCe.pipe(KCe.scan(r,e),YCe.takeLast(1),Oat.defaultIfEmpty(e))(n)}:function(n){return JCe.pipe(KCe.scan(function(i,o,s){return r(i,o,s+1)}),YCe.takeLast(1))(n)}}X7.reduce=Iat});var XCe=C(Q7=>{"use strict";Object.defineProperty(Q7,"__esModule",{value:!0});var kat=tL();function Aat(r){var e=typeof r=="function"?function(t,n){return r(t,n)>0?t:n}:function(t,n){return t>n?t:n};return kat.reduce(e)}Q7.max=Aat});var QCe=C(Z7=>{"use strict";Object.defineProperty(Z7,"__esModule",{value:!0});var Lat=Y9();function Mat(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(t){return t.lift.call(Lat.merge.apply(void 0,[t].concat(r)))}}Z7.merge=Mat});var eTe=C(eY=>{"use strict";Object.defineProperty(eY,"__esModule",{value:!0});var ZCe=yA();function Nat(r,e,t){return t===void 0&&(t=Number.POSITIVE_INFINITY),typeof e=="function"?ZCe.mergeMap(function(){return r},e,t):(typeof e=="number"&&(t=e),ZCe.mergeMap(function(){return r},t))}eY.mergeMapTo=Nat});var nTe=C(z0=>{"use strict";var Fat=z0&&z0.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(z0,"__esModule",{value:!0});var tY=Bc();function qat(r,e,t){return t===void 0&&(t=Number.POSITIVE_INFINITY),function(n){return n.lift(new tTe(r,e,t))}}z0.mergeScan=qat;var tTe=function(){function r(e,t,n){this.accumulator=e,this.seed=t,this.concurrent=n}return r.prototype.call=function(e,t){return t.subscribe(new rTe(e,this.accumulator,this.seed,this.concurrent))},r}();z0.MergeScanOperator=tTe;var rTe=function(r){Fat(e,r);function e(t,n,i,o){var s=r.call(this,t)||this;return s.accumulator=n,s.acc=i,s.concurrent=o,s.hasValue=!1,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return e.prototype._next=function(t){if(this.active<this.concurrent){var n=this.index++,i=this.destination,o=void 0;try{var s=this.accumulator;o=s(this.acc,t,n)}catch(a){return i.error(a)}this.active++,this._innerSub(o)}else this.buffer.push(t)},e.prototype._innerSub=function(t){var n=new tY.SimpleInnerSubscriber(this),i=this.destination;i.add(n);var o=tY.innerSubscribe(t,n);o!==n&&i.add(o)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(t){var n=this.destination;this.acc=t,this.hasValue=!0,n.next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(tY.SimpleOuterSubscriber);z0.MergeScanSubscriber=rTe});var iTe=C(rY=>{"use strict";Object.defineProperty(rY,"__esModule",{value:!0});var jat=tL();function zat(r){var e=typeof r=="function"?function(t,n){return r(t,n)<0?t:n}:function(t,n){return t<n?t:n};return jat.reduce(e)}rY.min=zat});var U0=C(cz=>{"use strict";Object.defineProperty(cz,"__esModule",{value:!0});var Uat=VK();function Hat(r,e){return function(n){var i;if(typeof r=="function"?i=r:i=function(){return r},typeof e=="function")return n.lift(new oTe(i,e));var o=Object.create(n,Uat.connectableObservableDescriptor);return o.source=n,o.subjectFactory=i,o}}cz.multicast=Hat;var oTe=function(){function r(e,t){this.subjectFactory=e,this.selector=t}return r.prototype.call=function(e,t){var n=this.selector,i=this.subjectFactory(),o=n(i).subscribe(e);return o.add(t.subscribe(i)),o},r}();cz.MulticastOperator=oTe});var cTe=C(gP=>{"use strict";var Bat=gP&&gP.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(gP,"__esModule",{value:!0});var Wat=Jy(),sTe=fp(),nY=Bc();function $at(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return r.length===1&&sTe.isArray(r[0])&&(r=r[0]),function(t){return t.lift(new aTe(r))}}gP.onErrorResumeNext=$at;function Vat(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=void 0;return r.length===1&&sTe.isArray(r[0])&&(r=r[0]),t=r.shift(),Wat.from(t).lift(new aTe(r))}gP.onErrorResumeNextStatic=Vat;var aTe=function(){function r(e){this.nextSources=e}return r.prototype.call=function(e,t){return t.subscribe(new Gat(e,this.nextSources))},r}(),Gat=function(r){Bat(e,r);function e(t,n){var i=r.call(this,t)||this;return i.destination=t,i.nextSources=n,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(t){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var t=this.nextSources.shift();if(t){var n=new nY.SimpleInnerSubscriber(this),i=this.destination;i.add(n);var o=nY.innerSubscribe(t,n);o!==n&&i.add(o)}else this.destination.complete()},e}(nY.SimpleOuterSubscriber)});var uTe=C(rL=>{"use strict";var Kat=rL&&rL.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(rL,"__esModule",{value:!0});var Yat=gi();function Jat(){return function(r){return r.lift(new Xat)}}rL.pairwise=Jat;var Xat=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new Qat(e))},r}(),Qat=function(r){Kat(e,r);function e(t){var n=r.call(this,t)||this;return n.hasPrev=!1,n}return e.prototype._next=function(t){var n;this.hasPrev?n=[this.prev,t]:this.hasPrev=!0,this.prev=t,n&&this.destination.next(n)},e}(Yat.Subscriber)});var dTe=C(iY=>{"use strict";Object.defineProperty(iY,"__esModule",{value:!0});var Zat=e7(),lTe=A0();function ect(r,e){return function(t){return[lTe.filter(r,e)(t),lTe.filter(Zat.not(r,e))(t)]}}iY.partition=ect});var fTe=C(oY=>{"use strict";Object.defineProperty(oY,"__esModule",{value:!0});var tct=Sg();function rct(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r.length;if(t===0)throw new Error("list of properties cannot be empty.");return function(n){return tct.map(nct(r,t))(n)}}oY.pluck=rct;function nct(r,e){var t=function(n){for(var i=n,o=0;o<e;o++){var s=i?.[r[o]];if(s!==void 0)i=s;else return}return i};return t}});var mTe=C(sY=>{"use strict";Object.defineProperty(sY,"__esModule",{value:!0});var hTe=th(),pTe=U0();function ict(r){return r?pTe.multicast(function(){return new hTe.Subject},r):pTe.multicast(new hTe.Subject)}sY.publish=ict});var gTe=C(aY=>{"use strict";Object.defineProperty(aY,"__esModule",{value:!0});var oct=YK(),sct=U0();function act(r){return function(e){return sct.multicast(new oct.BehaviorSubject(r))(e)}}aY.publishBehavior=act});var vTe=C(cY=>{"use strict";Object.defineProperty(cY,"__esModule",{value:!0});var cct=aA(),uct=U0();function lct(){return function(r){return uct.multicast(new cct.AsyncSubject)(r)}}cY.publishLast=lct});var yTe=C(uY=>{"use strict";Object.defineProperty(uY,"__esModule",{value:!0});var dct=Oj(),fct=U0();function hct(r,e,t,n){t&&typeof t!="function"&&(n=t);var i=typeof t=="function"?t:void 0,o=new dct.ReplaySubject(r,e,n);return function(s){return fct.multicast(function(){return o},i)(s)}}uY.publishReplay=hct});var _Te=C(lY=>{"use strict";Object.defineProperty(lY,"__esModule",{value:!0});var pct=fp(),mct=r7();function gct(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(n){return r.length===1&&pct.isArray(r[0])&&(r=r[0]),n.lift.call(mct.race.apply(void 0,[n].concat(r)))}}lY.race=gct});var wTe=C(nL=>{"use strict";var vct=nL&&nL.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(nL,"__esModule",{value:!0});var yct=gi(),_ct=Ky();function bct(r){return r===void 0&&(r=-1),function(e){return r===0?_ct.empty():r<0?e.lift(new bTe(-1,e)):e.lift(new bTe(r-1,e))}}nL.repeat=bct;var bTe=function(){function r(e,t){this.count=e,this.source=t}return r.prototype.call=function(e,t){return t.subscribe(new wct(e,this.count,this.source))},r}(),wct=function(r){vct(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.count=n,o.source=i,o}return e.prototype.complete=function(){if(!this.isStopped){var t=this,n=t.source,i=t.count;if(i===0)return r.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(yct.Subscriber)});var STe=C(iL=>{"use strict";var Sct=iL&&iL.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(iL,"__esModule",{value:!0});var Cct=th(),dY=Bc();function Tct(r){return function(e){return e.lift(new Dct(r))}}iL.repeatWhen=Tct;var Dct=function(){function r(e){this.notifier=e}return r.prototype.call=function(e,t){return t.subscribe(new Ect(e,this.notifier,t))},r}(),Ect=function(r){Sct(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.notifier=n,o.source=i,o.sourceIsBeingSubscribedTo=!0,o}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return r.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return r.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var t=this,n=t.notifications,i=t.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var t=this._unsubscribe;return this._unsubscribe=null,r.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=t,this},e.prototype.subscribeToRetries=function(){this.notifications=new Cct.Subject;var t;try{var n=this.notifier;t=n(this.notifications)}catch{return r.prototype.complete.call(this)}this.retries=t,this.retriesSubscription=dY.innerSubscribe(t,new dY.SimpleInnerSubscriber(this))},e}(dY.SimpleOuterSubscriber)});var CTe=C(oL=>{"use strict";var Rct=oL&&oL.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(oL,"__esModule",{value:!0});var Pct=gi();function xct(r){return r===void 0&&(r=-1),function(e){return e.lift(new Oct(r,e))}}oL.retry=xct;var Oct=function(){function r(e,t){this.count=e,this.source=t}return r.prototype.call=function(e,t){return t.subscribe(new Ict(e,this.count,this.source))},r}(),Ict=function(r){Rct(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.count=n,o.source=i,o}return e.prototype.error=function(t){if(!this.isStopped){var n=this,i=n.source,o=n.count;if(o===0)return r.prototype.error.call(this,t);o>-1&&(this.count=o-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(Pct.Subscriber)});var TTe=C(sL=>{"use strict";var kct=sL&&sL.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(sL,"__esModule",{value:!0});var Act=th(),fY=Bc();function Lct(r){return function(e){return e.lift(new Mct(r,e))}}sL.retryWhen=Lct;var Mct=function(){function r(e,t){this.notifier=e,this.source=t}return r.prototype.call=function(e,t){return t.subscribe(new Nct(e,this.notifier,this.source))},r}(),Nct=function(r){kct(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.notifier=n,o.source=i,o}return e.prototype.error=function(t){if(!this.isStopped){var n=this.errors,i=this.retries,o=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new Act.Subject;try{var s=this.notifier;i=s(n)}catch(a){return r.prototype.error.call(this,a)}o=fY.innerSubscribe(i,new fY.SimpleInnerSubscriber(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=o,n.next(t)}},e.prototype._unsubscribe=function(){var t=this,n=t.errors,i=t.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var t=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=t,this.source.subscribe(this)},e}(fY.SimpleOuterSubscriber)});var DTe=C(aL=>{"use strict";var Fct=aL&&aL.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(aL,"__esModule",{value:!0});var hY=Bc();function qct(r){return function(e){return e.lift(new jct(r))}}aL.sample=qct;var jct=function(){function r(e){this.notifier=e}return r.prototype.call=function(e,t){var n=new zct(e),i=t.subscribe(n);return i.add(hY.innerSubscribe(this.notifier,new hY.SimpleInnerSubscriber(n))),i},r}(),zct=function(r){Fct(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.hasValue=!1,t}return e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(hY.SimpleOuterSubscriber)});var ETe=C(cL=>{"use strict";var Uct=cL&&cL.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(cL,"__esModule",{value:!0});var Hct=gi(),Bct=hp();function Wct(r,e){return e===void 0&&(e=Bct.async),function(t){return t.lift(new $ct(r,e))}}cL.sampleTime=Wct;var $ct=function(){function r(e,t){this.period=e,this.scheduler=t}return r.prototype.call=function(e,t){return t.subscribe(new Vct(e,this.period,this.scheduler))},r}(),Vct=function(r){Uct(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.period=n,o.scheduler=i,o.hasValue=!1,o.add(i.schedule(Gct,n,{subscriber:o,period:n})),o}return e.prototype._next=function(t){this.lastValue=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(Hct.Subscriber);function Gct(r){var e=r.subscriber,t=r.period;e.notifyNext(),this.schedule(r,t)}});var ITe=C(H0=>{"use strict";var RTe=H0&&H0.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(H0,"__esModule",{value:!0});var PTe=gi();function Kct(r,e){return function(t){return t.lift(new xTe(r,e))}}H0.sequenceEqual=Kct;var xTe=function(){function r(e,t){this.compareTo=e,this.comparator=t}return r.prototype.call=function(e,t){return t.subscribe(new OTe(e,this.compareTo,this.comparator))},r}();H0.SequenceEqualOperator=xTe;var OTe=function(r){RTe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.compareTo=n,o.comparator=i,o._a=[],o._b=[],o._oneComplete=!1,o.destination.add(n.subscribe(new Yct(t,o))),o}return e.prototype._next=function(t){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(t),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var t=this,n=t._a,i=t._b,o=t.comparator;n.length>0&&i.length>0;){var s=n.shift(),a=i.shift(),c=!1;try{c=o?o(s,a):s===a}catch(u){this.destination.error(u)}c||this.emit(!1)}},e.prototype.emit=function(t){var n=this.destination;n.next(t),n.complete()},e.prototype.nextB=function(t){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(t),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}(PTe.Subscriber);H0.SequenceEqualSubscriber=OTe;var Yct=function(r){RTe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.parent=n,i}return e.prototype._next=function(t){this.parent.nextB(t)},e.prototype._error=function(t){this.parent.error(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(PTe.Subscriber)});var kTe=C(pY=>{"use strict";Object.defineProperty(pY,"__esModule",{value:!0});var Jct=U0(),Xct=Ej(),Qct=th();function Zct(){return new Qct.Subject}function eut(){return function(r){return Xct.refCount()(Jct.multicast(Zct)(r))}}pY.share=eut});var ATe=C(mY=>{"use strict";Object.defineProperty(mY,"__esModule",{value:!0});var tut=Oj();function rut(r,e,t){var n;return r&&typeof r=="object"?n=r:n={bufferSize:r,windowTime:e,refCount:!1,scheduler:t},function(i){return i.lift(nut(n))}}mY.shareReplay=rut;function nut(r){var e=r.bufferSize,t=e===void 0?Number.POSITIVE_INFINITY:e,n=r.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,o=r.refCount,s=r.scheduler,a,c=0,u,l=!1,d=!1;return function(p){c++;var _;!a||l?(l=!1,a=new tut.ReplaySubject(t,i,s),_=a.subscribe(this),u=p.subscribe({next:function(D){a.next(D)},error:function(D){l=!0,a.error(D)},complete:function(){d=!0,u=void 0,a.complete()}}),d&&(u=void 0)):_=a.subscribe(this),this.add(function(){c--,_.unsubscribe(),_=void 0,u&&!d&&o&&c===0&&(u.unsubscribe(),u=void 0,a=void 0)})}}});var LTe=C(uL=>{"use strict";var iut=uL&&uL.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(uL,"__esModule",{value:!0});var out=gi(),sut=lP();function aut(r){return function(e){return e.lift(new cut(r,e))}}uL.single=aut;var cut=function(){function r(e,t){this.predicate=e,this.source=t}return r.prototype.call=function(e,t){return t.subscribe(new uut(e,this.predicate,this.source))},r}(),uut=function(r){iut(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.predicate=n,o.source=i,o.seenValue=!1,o.index=0,o}return e.prototype.applySingleValue=function(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)},e.prototype._next=function(t){var n=this.index++;this.predicate?this.tryNext(t,n):this.applySingleValue(t)},e.prototype.tryNext=function(t,n){try{this.predicate(t,n,this.source)&&this.applySingleValue(t)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new sut.EmptyError)},e}(out.Subscriber)});var MTe=C(lL=>{"use strict";var lut=lL&&lL.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(lL,"__esModule",{value:!0});var dut=gi();function fut(r){return function(e){return e.lift(new hut(r))}}lL.skip=fut;var hut=function(){function r(e){this.total=e}return r.prototype.call=function(e,t){return t.subscribe(new put(e,this.total))},r}(),put=function(r){lut(e,r);function e(t,n){var i=r.call(this,t)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(dut.Subscriber)});var FTe=C(dL=>{"use strict";var mut=dL&&dL.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(dL,"__esModule",{value:!0});var NTe=gi(),gut=uP();function vut(r){return function(e){return e.lift(new yut(r))}}dL.skipLast=vut;var yut=function(){function r(e){if(this._skipCount=e,this._skipCount<0)throw new gut.ArgumentOutOfRangeError}return r.prototype.call=function(e,t){return this._skipCount===0?t.subscribe(new NTe.Subscriber(e)):t.subscribe(new _ut(e,this._skipCount))},r}(),_ut=function(r){mut(e,r);function e(t,n){var i=r.call(this,t)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return e.prototype._next=function(t){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=t;else{var o=i%n,s=this._ring,a=s[o];s[o]=t,this.destination.next(a)}},e}(NTe.Subscriber)});var qTe=C(fL=>{"use strict";var but=fL&&fL.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(fL,"__esModule",{value:!0});var gY=Bc();function wut(r){return function(e){return e.lift(new Sut(r))}}fL.skipUntil=wut;var Sut=function(){function r(e){this.notifier=e}return r.prototype.call=function(e,t){return t.subscribe(new Cut(e,this.notifier))},r}(),Cut=function(r){but(e,r);function e(t,n){var i=r.call(this,t)||this;i.hasValue=!1;var o=new gY.SimpleInnerSubscriber(i);i.add(o),i.innerSubscription=o;var s=gY.innerSubscribe(n,o);return s!==o&&(i.add(s),i.innerSubscription=s),i}return e.prototype._next=function(t){this.hasValue&&r.prototype._next.call(this,t)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(gY.SimpleOuterSubscriber)});var jTe=C(hL=>{"use strict";var Tut=hL&&hL.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(hL,"__esModule",{value:!0});var Dut=gi();function Eut(r){return function(e){return e.lift(new Rut(r))}}hL.skipWhile=Eut;var Rut=function(){function r(e){this.predicate=e}return r.prototype.call=function(e,t){return t.subscribe(new Put(e,this.predicate))},r}(),Put=function(r){Tut(e,r);function e(t,n){var i=r.call(this,t)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return e.prototype._next=function(t){var n=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||n.next(t)},e.prototype.tryCallPredicate=function(t){try{var n=this.predicate(t,this.index++);this.skipping=!!n}catch(i){this.destination.error(i)}},e}(Dut.Subscriber)});var UTe=C(vY=>{"use strict";Object.defineProperty(vY,"__esModule",{value:!0});var zTe=_A(),xut=Yy();function Out(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r[r.length-1];return xut.isScheduler(t)?(r.pop(),function(n){return zTe.concat(r,n,t)}):function(n){return zTe.concat(r,n)}}vY.startWith=Out});var HTe=C(pL=>{"use strict";var Iut=pL&&pL.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(pL,"__esModule",{value:!0});var kut=Ho(),yY=c9(),Aut=bA(),Lut=function(r){Iut(e,r);function e(t,n,i){n===void 0&&(n=0),i===void 0&&(i=yY.asap);var o=r.call(this)||this;return o.source=t,o.delayTime=n,o.scheduler=i,(!Aut.isNumeric(n)||n<0)&&(o.delayTime=0),(!i||typeof i.schedule!="function")&&(o.scheduler=yY.asap),o}return e.create=function(t,n,i){return n===void 0&&(n=0),i===void 0&&(i=yY.asap),new e(t,n,i)},e.dispatch=function(t){var n=t.source,i=t.subscriber;return this.add(n.subscribe(i))},e.prototype._subscribe=function(t){var n=this.delayTime,i=this.source,o=this.scheduler;return o.schedule(e.dispatch,n,{source:i,subscriber:t})},e}(kut.Observable);pL.SubscribeOnObservable=Lut});var BTe=C(_Y=>{"use strict";Object.defineProperty(_Y,"__esModule",{value:!0});var Mut=HTe();function Nut(r,e){return e===void 0&&(e=0),function(n){return n.lift(new Fut(r,e))}}_Y.subscribeOn=Nut;var Fut=function(){function r(e,t){this.scheduler=e,this.delay=t}return r.prototype.call=function(e,t){return new Mut.SubscribeOnObservable(t,this.delay,this.scheduler).subscribe(e)},r}()});var uz=C(mL=>{"use strict";var qut=mL&&mL.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(mL,"__esModule",{value:!0});var jut=Sg(),zut=Jy(),bY=Bc();function WTe(r,e){return typeof e=="function"?function(t){return t.pipe(WTe(function(n,i){return zut.from(r(n,i)).pipe(jut.map(function(o,s){return e(n,o,i,s)}))}))}:function(t){return t.lift(new Uut(r))}}mL.switchMap=WTe;var Uut=function(){function r(e){this.project=e}return r.prototype.call=function(e,t){return t.subscribe(new Hut(e,this.project))},r}(),Hut=function(r){qut(e,r);function e(t,n){var i=r.call(this,t)||this;return i.project=n,i.index=0,i}return e.prototype._next=function(t){var n,i=this.index++;try{n=this.project(t,i)}catch(o){this.destination.error(o);return}this._innerSub(n)},e.prototype._innerSub=function(t){var n=this.innerSubscription;n&&n.unsubscribe();var i=new bY.SimpleInnerSubscriber(this),o=this.destination;o.add(i),this.innerSubscription=bY.innerSubscribe(t,i),this.innerSubscription!==i&&o.add(this.innerSubscription)},e.prototype._complete=function(){var t=this.innerSubscription;(!t||t.closed)&&r.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&r.prototype._complete.call(this)},e.prototype.notifyNext=function(t){this.destination.next(t)},e}(bY.SimpleOuterSubscriber)});var $Te=C(wY=>{"use strict";Object.defineProperty(wY,"__esModule",{value:!0});var But=uz(),Wut=yT();function $ut(){return But.switchMap(Wut.identity)}wY.switchAll=$ut});var GTe=C(SY=>{"use strict";Object.defineProperty(SY,"__esModule",{value:!0});var VTe=uz();function Vut(r,e){return e?VTe.switchMap(function(){return r},e):VTe.switchMap(function(){return r})}SY.switchMapTo=Vut});var KTe=C(gL=>{"use strict";var Gut=gL&&gL.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(gL,"__esModule",{value:!0});var CY=Bc();function Kut(r){return function(e){return e.lift(new Yut(r))}}gL.takeUntil=Kut;var Yut=function(){function r(e){this.notifier=e}return r.prototype.call=function(e,t){var n=new Jut(e),i=CY.innerSubscribe(this.notifier,new CY.SimpleInnerSubscriber(n));return i&&!n.seenValue?(n.add(i),t.subscribe(n)):n},r}(),Jut=function(r){Gut(e,r);function e(t){var n=r.call(this,t)||this;return n.seenValue=!1,n}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(CY.SimpleOuterSubscriber)});var YTe=C(vL=>{"use strict";var Xut=vL&&vL.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(vL,"__esModule",{value:!0});var Qut=gi();function Zut(r,e){return e===void 0&&(e=!1),function(t){return t.lift(new elt(r,e))}}vL.takeWhile=Zut;var elt=function(){function r(e,t){this.predicate=e,this.inclusive=t}return r.prototype.call=function(e,t){return t.subscribe(new tlt(e,this.predicate,this.inclusive))},r}(),tlt=function(r){Xut(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.predicate=n,o.inclusive=i,o.index=0,o}return e.prototype._next=function(t){var n=this.destination,i;try{i=this.predicate(t,this.index++)}catch(o){n.error(o);return}this.nextOrComplete(t,i)},e.prototype.nextOrComplete=function(t,n){var i=this.destination;n?i.next(t):(this.inclusive&&i.next(t),i.complete())},e}(Qut.Subscriber)});var JTe=C(yL=>{"use strict";var rlt=yL&&yL.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(yL,"__esModule",{value:!0});var nlt=gi(),DT=Aj(),ilt=eP();function olt(r,e,t){return function(i){return i.lift(new slt(r,e,t))}}yL.tap=olt;var slt=function(){function r(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return r.prototype.call=function(e,t){return t.subscribe(new alt(e,this.nextOrObserver,this.error,this.complete))},r}(),alt=function(r){rlt(e,r);function e(t,n,i,o){var s=r.call(this,t)||this;return s._tapNext=DT.noop,s._tapError=DT.noop,s._tapComplete=DT.noop,s._tapError=i||DT.noop,s._tapComplete=o||DT.noop,ilt.isFunction(n)?(s._context=s,s._tapNext=n):n&&(s._context=n,s._tapNext=n.next||DT.noop,s._tapError=n.error||DT.noop,s._tapComplete=n.complete||DT.noop),s}return e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(n){this.destination.error(n);return}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(n){this.destination.error(n);return}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){this.destination.error(t);return}return this.destination.complete()},e}(nlt.Subscriber)});var DY=C(B0=>{"use strict";var clt=B0&&B0.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(B0,"__esModule",{value:!0});var TY=Bc();B0.defaultThrottleConfig={leading:!0,trailing:!1};function ult(r,e){return e===void 0&&(e=B0.defaultThrottleConfig),function(t){return t.lift(new llt(r,!!e.leading,!!e.trailing))}}B0.throttle=ult;var llt=function(){function r(e,t,n){this.durationSelector=e,this.leading=t,this.trailing=n}return r.prototype.call=function(e,t){return t.subscribe(new dlt(e,this.durationSelector,this.leading,this.trailing))},r}(),dlt=function(r){clt(e,r);function e(t,n,i,o){var s=r.call(this,t)||this;return s.destination=t,s.durationSelector=n,s._leading=i,s._trailing=o,s._hasValue=!1,s}return e.prototype._next=function(t){this._hasValue=!0,this._sendValue=t,this._throttled||(this._leading?this.send():this.throttle(t))},e.prototype.send=function(){var t=this,n=t._hasValue,i=t._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(t){var n=this.tryDurationSelector(t);n&&this.add(this._throttled=TY.innerSubscribe(n,new TY.SimpleInnerSubscriber(this)))},e.prototype.tryDurationSelector=function(t){try{return this.durationSelector(t)}catch(n){return this.destination.error(n),null}},e.prototype.throttlingDone=function(){var t=this,n=t._throttled,i=t._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(TY.SimpleOuterSubscriber)});var XTe=C(_L=>{"use strict";var flt=_L&&_L.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(_L,"__esModule",{value:!0});var hlt=gi(),plt=hp(),mlt=DY();function glt(r,e,t){return e===void 0&&(e=plt.async),t===void 0&&(t=mlt.defaultThrottleConfig),function(n){return n.lift(new vlt(r,e,t.leading,t.trailing))}}_L.throttleTime=glt;var vlt=function(){function r(e,t,n,i){this.duration=e,this.scheduler=t,this.leading=n,this.trailing=i}return r.prototype.call=function(e,t){return t.subscribe(new ylt(e,this.duration,this.scheduler,this.leading,this.trailing))},r}(),ylt=function(r){flt(e,r);function e(t,n,i,o,s){var a=r.call(this,t)||this;return a.duration=n,a.scheduler=i,a.leading=o,a.trailing=s,a._hasTrailingValue=!1,a._trailingValue=null,a}return e.prototype._next=function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(_lt,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)},e}(hlt.Subscriber);function _lt(r){var e=r.subscriber;e.clearThrottle()}});var ZTe=C(lz=>{"use strict";Object.defineProperty(lz,"__esModule",{value:!0});var blt=hp(),wlt=az(),Slt=qj(),Clt=Sg();function Tlt(r){return r===void 0&&(r=blt.async),function(e){return Slt.defer(function(){return e.pipe(wlt.scan(function(t,n){var i=t.current;return{value:n,current:r.now(),last:i}},{current:r.now(),value:void 0,last:void 0}),Clt.map(function(t){var n=t.current,i=t.last,o=t.value;return new QTe(o,n-i)}))})}}lz.timeInterval=Tlt;var QTe=function(){function r(e,t){this.value=e,this.interval=t}return r}();lz.TimeInterval=QTe});var RY=C(bL=>{"use strict";var Dlt=bL&&bL.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(bL,"__esModule",{value:!0});var Elt=hp(),Rlt=N7(),EY=Bc();function Plt(r,e,t){return t===void 0&&(t=Elt.async),function(n){var i=Rlt.isDate(r),o=i?+r-t.now():Math.abs(r);return n.lift(new xlt(o,i,e,t))}}bL.timeoutWith=Plt;var xlt=function(){function r(e,t,n,i){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=n,this.scheduler=i}return r.prototype.call=function(e,t){return t.subscribe(new Olt(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},r}(),Olt=function(r){Dlt(e,r);function e(t,n,i,o,s){var a=r.call(this,t)||this;return a.absoluteTimeout=n,a.waitFor=i,a.withObservable=o,a.scheduler=s,a.scheduleTimeout(),a}return e.dispatchTimeout=function(t){var n=t.withObservable;t._unsubscribeAndRecycle(),t.add(EY.innerSubscribe(n,new EY.SimpleInnerSubscriber(t)))},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),r.prototype._next.call(this,t)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(EY.SimpleOuterSubscriber)});var eDe=C(PY=>{"use strict";Object.defineProperty(PY,"__esModule",{value:!0});var Ilt=hp(),klt=p9(),Alt=RY(),Llt=xj();function Mlt(r,e){return e===void 0&&(e=Ilt.async),Alt.timeoutWith(r,Llt.throwError(new klt.TimeoutError),e)}PY.timeout=Mlt});var rDe=C(dz=>{"use strict";Object.defineProperty(dz,"__esModule",{value:!0});var Nlt=hp(),Flt=Sg();function qlt(r){return r===void 0&&(r=Nlt.async),Flt.map(function(e){return new tDe(e,r.now())})}dz.timestamp=qlt;var tDe=function(){function r(e,t){this.value=e,this.timestamp=t}return r}();dz.Timestamp=tDe});var nDe=C(xY=>{"use strict";Object.defineProperty(xY,"__esModule",{value:!0});var jlt=tL();function zlt(r,e,t){return t===0?[e]:(r.push(e),r)}function Ult(){return jlt.reduce(zlt,[])}xY.toArray=Ult});var oDe=C(wL=>{"use strict";var Hlt=wL&&wL.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(wL,"__esModule",{value:!0});var iDe=th(),OY=Bc();function Blt(r){return function(t){return t.lift(new Wlt(r))}}wL.window=Blt;var Wlt=function(){function r(e){this.windowBoundaries=e}return r.prototype.call=function(e,t){var n=new $lt(e),i=t.subscribe(n);return i.closed||n.add(OY.innerSubscribe(this.windowBoundaries,new OY.SimpleInnerSubscriber(n))),i},r}(),$lt=function(r){Hlt(e,r);function e(t){var n=r.call(this,t)||this;return n.window=new iDe.Subject,t.next(n.window),n}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(t){this._error(t)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var t=this.window;t&&t.complete();var n=this.destination,i=this.window=new iDe.Subject;n.next(i)},e}(OY.SimpleOuterSubscriber)});var aDe=C(SL=>{"use strict";var Vlt=SL&&SL.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(SL,"__esModule",{value:!0});var Glt=gi(),sDe=th();function Klt(r,e){return e===void 0&&(e=0),function(n){return n.lift(new Ylt(r,e))}}SL.windowCount=Klt;var Ylt=function(){function r(e,t){this.windowSize=e,this.startWindowEvery=t}return r.prototype.call=function(e,t){return t.subscribe(new Jlt(e,this.windowSize,this.startWindowEvery))},r}(),Jlt=function(r){Vlt(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.destination=t,o.windowSize=n,o.startWindowEvery=i,o.windows=[new sDe.Subject],o.count=0,t.next(o.windows[0]),o}return e.prototype._next=function(t){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,o=this.windowSize,s=this.windows,a=s.length,c=0;c<a&&!this.closed;c++)s[c].next(t);var u=this.count-o+1;if(u>=0&&u%n===0&&!this.closed&&s.shift().complete(),++this.count%n===0&&!this.closed){var l=new sDe.Subject;s.push(l),i.next(l)}},e.prototype._error=function(t){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(Glt.Subscriber)});var dDe=C(CL=>{"use strict";var uDe=CL&&CL.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(CL,"__esModule",{value:!0});var Xlt=th(),Qlt=hp(),Zlt=gi(),cDe=bA(),IY=Yy();function edt(r){var e=Qlt.async,t=null,n=Number.POSITIVE_INFINITY;return IY.isScheduler(arguments[3])&&(e=arguments[3]),IY.isScheduler(arguments[2])?e=arguments[2]:cDe.isNumeric(arguments[2])&&(n=Number(arguments[2])),IY.isScheduler(arguments[1])?e=arguments[1]:cDe.isNumeric(arguments[1])&&(t=Number(arguments[1])),function(o){return o.lift(new tdt(r,t,n,e))}}CL.windowTime=edt;var tdt=function(){function r(e,t,n,i){this.windowTimeSpan=e,this.windowCreationInterval=t,this.maxWindowSize=n,this.scheduler=i}return r.prototype.call=function(e,t){return t.subscribe(new ndt(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},r}(),rdt=function(r){uDe(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t._numberOfNextedValues=0,t}return e.prototype.next=function(t){this._numberOfNextedValues++,r.prototype.next.call(this,t)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(Xlt.Subject),ndt=function(r){uDe(e,r);function e(t,n,i,o,s){var a=r.call(this,t)||this;a.destination=t,a.windowTimeSpan=n,a.windowCreationInterval=i,a.maxWindowSize=o,a.scheduler=s,a.windows=[];var c=a.openWindow();if(i!==null&&i>=0){var u={subscriber:a,window:c,context:null},l={windowTimeSpan:n,windowCreationInterval:i,subscriber:a,scheduler:s};a.add(s.schedule(lDe,n,u)),a.add(s.schedule(odt,i,l))}else{var d={subscriber:a,window:c,windowTimeSpan:n};a.add(s.schedule(idt,n,d))}return a}return e.prototype._next=function(t){for(var n=this.windows,i=n.length,o=0;o<i;o++){var s=n[o];s.closed||(s.next(t),s.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(s))}},e.prototype._error=function(t){for(var n=this.windows;n.length>0;)n.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){for(var t=this.windows;t.length>0;){var n=t.shift();n.closed||n.complete()}this.destination.complete()},e.prototype.openWindow=function(){var t=new rdt;this.windows.push(t);var n=this.destination;return n.next(t),t},e.prototype.closeWindow=function(t){t.complete();var n=this.windows;n.splice(n.indexOf(t),1)},e}(Zlt.Subscriber);function idt(r){var e=r.subscriber,t=r.windowTimeSpan,n=r.window;n&&e.closeWindow(n),r.window=e.openWindow(),this.schedule(r,t)}function odt(r){var e=r.windowTimeSpan,t=r.subscriber,n=r.scheduler,i=r.windowCreationInterval,o=t.openWindow(),s=this,a={action:s,subscription:null},c={subscriber:t,window:o,context:a};a.subscription=n.schedule(lDe,e,c),s.add(a.subscription),s.schedule(r,i)}function lDe(r){var e=r.subscriber,t=r.window,n=r.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(t)}});var hDe=C(TL=>{"use strict";var sdt=TL&&TL.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(TL,"__esModule",{value:!0});var adt=th(),cdt=Ml(),udt=bT(),fDe=wT();function ldt(r,e){return function(t){return t.lift(new ddt(r,e))}}TL.windowToggle=ldt;var ddt=function(){function r(e,t){this.openings=e,this.closingSelector=t}return r.prototype.call=function(e,t){return t.subscribe(new fdt(e,this.openings,this.closingSelector))},r}(),fdt=function(r){sdt(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.openings=n,o.closingSelector=i,o.contexts=[],o.add(o.openSubscription=fDe.subscribeToResult(o,n,n)),o}return e.prototype._next=function(t){var n=this.contexts;if(n)for(var i=n.length,o=0;o<i;o++)n[o].window.next(t)},e.prototype._error=function(t){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,o=-1;++o<i;){var s=n[o];s.window.error(t),s.subscription.unsubscribe()}r.prototype._error.call(this,t)},e.prototype._complete=function(){var t=this.contexts;if(this.contexts=null,t)for(var n=t.length,i=-1;++i<n;){var o=t[i];o.window.complete(),o.subscription.unsubscribe()}r.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.contexts;if(this.contexts=null,t)for(var n=t.length,i=-1;++i<n;){var o=t[i];o.window.unsubscribe(),o.subscription.unsubscribe()}},e.prototype.notifyNext=function(t,n,i,o,s){if(t===this.openings){var a=void 0;try{var c=this.closingSelector;a=c(n)}catch(p){return this.error(p)}var u=new adt.Subject,l=new cdt.Subscription,d={window:u,subscription:l};this.contexts.push(d);var f=fDe.subscribeToResult(this,a,d);f.closed?this.closeWindow(this.contexts.length-1):(f.context=d,l.add(f)),this.destination.next(u)}else this.closeWindow(this.contexts.indexOf(t))},e.prototype.notifyError=function(t){this.error(t)},e.prototype.notifyComplete=function(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))},e.prototype.closeWindow=function(t){if(t!==-1){var n=this.contexts,i=n[t],o=i.window,s=i.subscription;n.splice(t,1),o.complete(),s.unsubscribe()}},e}(udt.OuterSubscriber)});var pDe=C(DL=>{"use strict";var hdt=DL&&DL.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(DL,"__esModule",{value:!0});var pdt=th(),mdt=bT(),gdt=wT();function vdt(r){return function(t){return t.lift(new ydt(r))}}DL.windowWhen=vdt;var ydt=function(){function r(e){this.closingSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new _dt(e,this.closingSelector))},r}(),_dt=function(r){hdt(e,r);function e(t,n){var i=r.call(this,t)||this;return i.destination=t,i.closingSelector=n,i.openWindow(),i}return e.prototype.notifyNext=function(t,n,i,o,s){this.openWindow(s)},e.prototype.notifyError=function(t){this._error(t)},e.prototype.notifyComplete=function(t){this.openWindow(t)},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(t){t===void 0&&(t=null),t&&(this.remove(t),t.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new pdt.Subject;this.destination.next(i);var o;try{var s=this.closingSelector;o=s()}catch(a){this.destination.error(a),this.window.error(a);return}this.add(this.closingNotification=gdt.subscribeToResult(this,o))},e}(mdt.OuterSubscriber)});var mDe=C(EL=>{"use strict";var bdt=EL&&EL.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(EL,"__esModule",{value:!0});var wdt=bT(),Sdt=wT();function Cdt(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(t){var n;typeof r[r.length-1]=="function"&&(n=r.pop());var i=r;return t.lift(new Tdt(i,n))}}EL.withLatestFrom=Cdt;var Tdt=function(){function r(e,t){this.observables=e,this.project=t}return r.prototype.call=function(e,t){return t.subscribe(new Ddt(e,this.observables,this.project))},r}(),Ddt=function(r){bdt(e,r);function e(t,n,i){var o=r.call(this,t)||this;o.observables=n,o.project=i,o.toRespond=[];var s=n.length;o.values=new Array(s);for(var a=0;a<s;a++)o.toRespond.push(a);for(var a=0;a<s;a++){var c=n[a];o.add(Sdt.subscribeToResult(o,c,void 0,a))}return o}return e.prototype.notifyNext=function(t,n,i){this.values[i]=n;var o=this.toRespond;if(o.length>0){var s=o.indexOf(i);s!==-1&&o.splice(s,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(this.toRespond.length===0){var n=[t].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},e.prototype._tryProject=function(t){var n;try{n=this.project.apply(this,t)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(wdt.OuterSubscriber)});var gDe=C(kY=>{"use strict";Object.defineProperty(kY,"__esModule",{value:!0});var Edt=Bj();function Rdt(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(n){return n.lift.call(Edt.zip.apply(void 0,[n].concat(r)))}}kY.zip=Rdt});var vDe=C(AY=>{"use strict";Object.defineProperty(AY,"__esModule",{value:!0});var Pdt=Bj();function xdt(r){return function(e){return e.lift(new Pdt.ZipOperator(r))}}AY.zipAll=xdt});var RL=C(ir=>{"use strict";Object.defineProperty(ir,"__esModule",{value:!0});var Odt=C7();ir.audit=Odt.audit;var Idt=tCe();ir.auditTime=Idt.auditTime;var kdt=rCe();ir.buffer=kdt.buffer;var Adt=oCe();ir.bufferCount=Adt.bufferCount;var Ldt=cCe();ir.bufferTime=Ldt.bufferTime;var Mdt=lCe();ir.bufferToggle=Mdt.bufferToggle;var Ndt=dCe();ir.bufferWhen=Ndt.bufferWhen;var Fdt=fCe();ir.catchError=Fdt.catchError;var qdt=hCe();ir.combineAll=qdt.combineAll;var jdt=pCe();ir.combineLatest=jdt.combineLatest;var zdt=mCe();ir.concat=zdt.concat;var Udt=q9();ir.concatAll=Udt.concatAll;var Hdt=k7();ir.concatMap=Hdt.concatMap;var Bdt=gCe();ir.concatMapTo=Bdt.concatMapTo;var Wdt=vCe();ir.count=Wdt.count;var $dt=yCe();ir.debounce=$dt.debounce;var Vdt=_Ce();ir.debounceTime=Vdt.debounceTime;var Gdt=pP();ir.defaultIfEmpty=Gdt.defaultIfEmpty;var Kdt=wCe();ir.delay=Kdt.delay;var Ydt=CCe();ir.delayWhen=Ydt.delayWhen;var Jdt=TCe();ir.dematerialize=Jdt.dematerialize;var Xdt=ECe();ir.distinct=Xdt.distinct;var Qdt=j7();ir.distinctUntilChanged=Qdt.distinctUntilChanged;var Zdt=RCe();ir.distinctUntilKeyChanged=Zdt.distinctUntilKeyChanged;var eft=xCe();ir.elementAt=eft.elementAt;var tft=OCe();ir.endWith=tft.endWith;var rft=ICe();ir.every=rft.every;var nft=kCe();ir.exhaust=nft.exhaust;var ift=LCe();ir.exhaustMap=ift.exhaustMap;var oft=FCe();ir.expand=oft.expand;var sft=A0();ir.filter=sft.filter;var aft=qCe();ir.finalize=aft.finalize;var cft=V7();ir.find=cft.find;var uft=UCe();ir.findIndex=uft.findIndex;var lft=HCe();ir.first=lft.first;var dft=KK();ir.groupBy=dft.groupBy;var fft=BCe();ir.ignoreElements=fft.ignoreElements;var hft=WCe();ir.isEmpty=hft.isEmpty;var pft=$Ce();ir.last=pft.last;var mft=Sg();ir.map=mft.map;var gft=VCe();ir.mapTo=gft.mapTo;var vft=GCe();ir.materialize=vft.materialize;var yft=XCe();ir.max=yft.max;var _ft=QCe();ir.merge=_ft.merge;var bft=Fj();ir.mergeAll=bft.mergeAll;var yDe=yA();ir.mergeMap=yDe.mergeMap;ir.flatMap=yDe.flatMap;var wft=eTe();ir.mergeMapTo=wft.mergeMapTo;var Sft=nTe();ir.mergeScan=Sft.mergeScan;var Cft=iTe();ir.min=Cft.min;var Tft=U0();ir.multicast=Tft.multicast;var Dft=a9();ir.observeOn=Dft.observeOn;var Eft=cTe();ir.onErrorResumeNext=Eft.onErrorResumeNext;var Rft=uTe();ir.pairwise=Rft.pairwise;var Pft=dTe();ir.partition=Pft.partition;var xft=fTe();ir.pluck=xft.pluck;var Oft=mTe();ir.publish=Oft.publish;var Ift=gTe();ir.publishBehavior=Ift.publishBehavior;var kft=vTe();ir.publishLast=kft.publishLast;var Aft=yTe();ir.publishReplay=Aft.publishReplay;var Lft=_Te();ir.race=Lft.race;var Mft=tL();ir.reduce=Mft.reduce;var Nft=wTe();ir.repeat=Nft.repeat;var Fft=STe();ir.repeatWhen=Fft.repeatWhen;var qft=CTe();ir.retry=qft.retry;var jft=TTe();ir.retryWhen=jft.retryWhen;var zft=Ej();ir.refCount=zft.refCount;var Uft=DTe();ir.sample=Uft.sample;var Hft=ETe();ir.sampleTime=Hft.sampleTime;var Bft=az();ir.scan=Bft.scan;var Wft=ITe();ir.sequenceEqual=Wft.sequenceEqual;var $ft=kTe();ir.share=$ft.share;var Vft=ATe();ir.shareReplay=Vft.shareReplay;var Gft=LTe();ir.single=Gft.single;var Kft=MTe();ir.skip=Kft.skip;var Yft=FTe();ir.skipLast=Yft.skipLast;var Jft=qTe();ir.skipUntil=Jft.skipUntil;var Xft=jTe();ir.skipWhile=Xft.skipWhile;var Qft=UTe();ir.startWith=Qft.startWith;var Zft=BTe();ir.subscribeOn=Zft.subscribeOn;var eht=$Te();ir.switchAll=eht.switchAll;var tht=uz();ir.switchMap=tht.switchMap;var rht=GTe();ir.switchMapTo=rht.switchMapTo;var nht=oz();ir.take=nht.take;var iht=sz();ir.takeLast=iht.takeLast;var oht=KTe();ir.takeUntil=oht.takeUntil;var sht=YTe();ir.takeWhile=sht.takeWhile;var aht=JTe();ir.tap=aht.tap;var cht=DY();ir.throttle=cht.throttle;var uht=XTe();ir.throttleTime=uht.throttleTime;var lht=BA();ir.throwIfEmpty=lht.throwIfEmpty;var dht=ZTe();ir.timeInterval=dht.timeInterval;var fht=eDe();ir.timeout=fht.timeout;var hht=RY();ir.timeoutWith=hht.timeoutWith;var pht=rDe();ir.timestamp=pht.timestamp;var mht=nDe();ir.toArray=mht.toArray;var ght=oDe();ir.window=ght.window;var vht=aDe();ir.windowCount=vht.windowCount;var yht=dDe();ir.windowTime=yht.windowTime;var _ht=hDe();ir.windowToggle=_ht.windowToggle;var bht=pDe();ir.windowWhen=bht.windowWhen;var wht=mDe();ir.withLatestFrom=wht.withLatestFrom;var Sht=gDe();ir.zip=Sht.zip;var Cht=vDe();ir.zipAll=Cht.zipAll});var SDe=C((J8t,wDe)=>{var vP=1e3,yP=vP*60,_P=yP*60,W0=_P*24,Tht=W0*7,Dht=W0*365.25;wDe.exports=function(r,e){e=e||{};var t=typeof r;if(t==="string"&&r.length>0)return Eht(r);if(t==="number"&&isFinite(r))return e.long?Pht(r):Rht(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function Eht(r){if(r=String(r),!(r.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(r);if(e){var t=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return t*Dht;case"weeks":case"week":case"w":return t*Tht;case"days":case"day":case"d":return t*W0;case"hours":case"hour":case"hrs":case"hr":case"h":return t*_P;case"minutes":case"minute":case"mins":case"min":case"m":return t*yP;case"seconds":case"second":case"secs":case"sec":case"s":return t*vP;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function Rht(r){var e=Math.abs(r);return e>=W0?Math.round(r/W0)+"d":e>=_P?Math.round(r/_P)+"h":e>=yP?Math.round(r/yP)+"m":e>=vP?Math.round(r/vP)+"s":r+"ms"}function Pht(r){var e=Math.abs(r);return e>=W0?fz(r,e,W0,"day"):e>=_P?fz(r,e,_P,"hour"):e>=yP?fz(r,e,yP,"minute"):e>=vP?fz(r,e,vP,"second"):r+" ms"}function fz(r,e,t,n){var i=e>=t*1.5;return Math.round(r/t)+" "+n+(i?"s":"")}});var MY=C((X8t,CDe)=>{function xht(r){t.debug=t,t.default=t,t.coerce=c,t.disable=o,t.enable=i,t.enabled=s,t.humanize=SDe(),t.destroy=u,Object.keys(r).forEach(l=>{t[l]=r[l]}),t.names=[],t.skips=[],t.formatters={};function e(l){let d=0;for(let f=0;f<l.length;f++)d=(d<<5)-d+l.charCodeAt(f),d|=0;return t.colors[Math.abs(d)%t.colors.length]}t.selectColor=e;function t(l){let d,f=null,p,_;function D(...P){if(!D.enabled)return;let M=D,A=Number(new Date),U=A-(d||A);M.diff=U,M.prev=d,M.curr=A,d=A,P[0]=t.coerce(P[0]),typeof P[0]!="string"&&P.unshift("%O");let ne=0;P[0]=P[0].replace(/%([a-zA-Z%])/g,(ve,V)=>{if(ve==="%%")return"%";ne++;let W=t.formatters[V];if(typeof W=="function"){let ee=P[ne];ve=W.call(M,ee),P.splice(ne,1),ne--}return ve}),t.formatArgs.call(M,P),(M.log||t.log).apply(M,P)}return D.namespace=l,D.useColors=t.useColors(),D.color=t.selectColor(l),D.extend=n,D.destroy=t.destroy,Object.defineProperty(D,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(p!==t.namespaces&&(p=t.namespaces,_=t.enabled(l)),_),set:P=>{f=P}}),typeof t.init=="function"&&t.init(D),D}function n(l,d){let f=t(this.namespace+(typeof d>"u"?":":d)+l);return f.log=this.log,f}function i(l){t.save(l),t.namespaces=l,t.names=[],t.skips=[];let d,f=(typeof l=="string"?l:"").split(/[\s,]+/),p=f.length;for(d=0;d<p;d++)f[d]&&(l=f[d].replace(/\*/g,".*?"),l[0]==="-"?t.skips.push(new RegExp("^"+l.slice(1)+"$")):t.names.push(new RegExp("^"+l+"$")))}function o(){let l=[...t.names.map(a),...t.skips.map(a).map(d=>"-"+d)].join(",");return t.enable(""),l}function s(l){if(l[l.length-1]==="*")return!0;let d,f;for(d=0,f=t.skips.length;d<f;d++)if(t.skips[d].test(l))return!1;for(d=0,f=t.names.length;d<f;d++)if(t.names[d].test(l))return!0;return!1}function a(l){return l.toString().substring(2,l.toString().length-2).replace(/\.\*\?$/,"*")}function c(l){return l instanceof Error?l.stack||l.message:l}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}CDe.exports=xht});var TDe=C((Cg,hz)=>{Cg.formatArgs=Iht;Cg.save=kht;Cg.load=Aht;Cg.useColors=Oht;Cg.storage=Lht();Cg.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Cg.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Oht(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let r;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(r=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(r[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Iht(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+hz.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;r.splice(1,0,e,"color: inherit");let t=0,n=0;r[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(t++,i==="%c"&&(n=t))}),r.splice(n,0,e)}Cg.log=console.debug||console.log||(()=>{});function kht(r){try{r?Cg.storage.setItem("debug",r):Cg.storage.removeItem("debug")}catch{}}function Aht(){let r;try{r=Cg.storage.getItem("debug")}catch{}return!r&&typeof process<"u"&&"env"in process&&(r=process.env.DEBUG),r}function Lht(){try{return localStorage}catch{}}hz.exports=MY()(Cg);var{formatters:Mht}=hz.exports;Mht.j=function(r){try{return JSON.stringify(r)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var EDe=C((Q8t,DDe)=>{"use strict";DDe.exports=(r,e)=>{e=e||process.argv;let t=r.startsWith("-")?"":r.length===1?"-":"--",n=e.indexOf(t+r),i=e.indexOf("--");return n!==-1&&(i===-1?!0:n<i)}});var PDe=C((Z8t,RDe)=>{"use strict";var Nht=require("os"),Xy=EDe(),ih=process.env,bP;Xy("no-color")||Xy("no-colors")||Xy("color=false")?bP=!1:(Xy("color")||Xy("colors")||Xy("color=true")||Xy("color=always"))&&(bP=!0);"FORCE_COLOR"in ih&&(bP=ih.FORCE_COLOR.length===0||parseInt(ih.FORCE_COLOR,10)!==0);function Fht(r){return r===0?!1:{level:r,hasBasic:!0,has256:r>=2,has16m:r>=3}}function qht(r){if(bP===!1)return 0;if(Xy("color=16m")||Xy("color=full")||Xy("color=truecolor"))return 3;if(Xy("color=256"))return 2;if(r&&!r.isTTY&&bP!==!0)return 0;let e=bP?1:0;if(process.platform==="win32"){let t=Nht.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(t[0])>=10&&Number(t[2])>=10586?Number(t[2])>=14931?3:2:1}if("CI"in ih)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(t=>t in ih)||ih.CI_NAME==="codeship"?1:e;if("TEAMCITY_VERSION"in ih)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(ih.TEAMCITY_VERSION)?1:0;if(ih.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in ih){let t=parseInt((ih.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(ih.TERM_PROGRAM){case"iTerm.app":return t>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(ih.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(ih.TERM)||"COLORTERM"in ih?1:(ih.TERM==="dumb",e)}function NY(r){let e=qht(r);return Fht(e)}RDe.exports={supportsColor:NY,stdout:NY(process.stdout),stderr:NY(process.stderr)}});var ODe=C((_d,mz)=>{var jht=require("tty"),pz=require("util");_d.init=Vht;_d.log=Bht;_d.formatArgs=Uht;_d.save=Wht;_d.load=$ht;_d.useColors=zht;_d.destroy=pz.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");_d.colors=[6,2,3,4,5,1];try{let r=PDe();r&&(r.stderr||r).level>=2&&(_d.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}_d.inspectOpts=Object.keys(process.env).filter(r=>/^debug_/i.test(r)).reduce((r,e)=>{let t=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,o)=>o.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),r[t]=n,r},{});function zht(){return"colors"in _d.inspectOpts?!!_d.inspectOpts.colors:jht.isatty(process.stderr.fd)}function Uht(r){let{namespace:e,useColors:t}=this;if(t){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),o=`  ${i};1m${e} \x1B[0m`;r[0]=o+r[0].split(`
`).join(`
`+o),r.push(i+"m+"+mz.exports.humanize(this.diff)+"\x1B[0m")}else r[0]=Hht()+e+" "+r[0]}function Hht(){return _d.inspectOpts.hideDate?"":new Date().toISOString()+" "}function Bht(...r){return process.stderr.write(pz.formatWithOptions(_d.inspectOpts,...r)+`
`)}function Wht(r){r?process.env.DEBUG=r:delete process.env.DEBUG}function $ht(){return process.env.DEBUG}function Vht(r){r.inspectOpts={};let e=Object.keys(_d.inspectOpts);for(let t=0;t<e.length;t++)r.inspectOpts[e[t]]=_d.inspectOpts[e[t]]}mz.exports=MY()(_d);var{formatters:xDe}=mz.exports;xDe.o=function(r){return this.inspectOpts.colors=this.useColors,pz.inspect(r,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};xDe.O=function(r){return this.inspectOpts.colors=this.useColors,pz.inspect(r,this.inspectOpts)}});var gz=C((eKt,FY)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?FY.exports=TDe():FY.exports=ODe()});var ADe=C(mm=>{"use strict";var Ght=mm&&mm.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Kht=mm&&mm.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),IDe=mm&&mm.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Ght(e,r,t);return Kht(e,r),e};Object.defineProperty(mm,"__esModule",{value:!0});mm.req=mm.json=mm.toBuffer=void 0;var Yht=IDe(require("http")),Jht=IDe(require("https"));async function kDe(r){let e=0,t=[];for await(let n of r)e+=n.length,t.push(n);return Buffer.concat(t,e)}mm.toBuffer=kDe;async function Xht(r){let t=(await kDe(r)).toString("utf8");try{return JSON.parse(t)}catch(n){let i=n;throw i.message+=` (input: ${t})`,i}}mm.json=Xht;function Qht(r,e={}){let n=((typeof r=="string"?r:r.href).startsWith("https:")?Jht:Yht).request(r,e),i=new Promise((o,s)=>{n.once("response",o).once("error",s).end()});return n.then=i.then.bind(i),n}mm.req=Qht});var jY=C(Tg=>{"use strict";var MDe=Tg&&Tg.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Zht=Tg&&Tg.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ept=Tg&&Tg.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&MDe(e,r,t);return Zht(e,r),e},tpt=Tg&&Tg.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&MDe(e,r,t)};Object.defineProperty(Tg,"__esModule",{value:!0});Tg.Agent=void 0;var LDe=ept(require("http"));tpt(ADe(),Tg);var vb=Symbol("AgentBaseInternalState"),qY=class extends LDe.Agent{constructor(e){super(e),this[vb]={}}isSecureEndpoint(e){if(e){if(typeof e.secureEndpoint=="boolean")return e.secureEndpoint;if(typeof e.protocol=="string")return e.protocol==="https:"}let{stack:t}=new Error;return typeof t!="string"?!1:t.split(`
`).some(n=>n.indexOf("(https.js:")!==-1||n.indexOf("node:https:")!==-1)}createSocket(e,t,n){let i={...t,secureEndpoint:this.isSecureEndpoint(t)};Promise.resolve().then(()=>this.connect(e,i)).then(o=>{if(o instanceof LDe.Agent)return o.addRequest(e,i);this[vb].currentSocket=o,super.createSocket(e,t,n)},n)}createConnection(){let e=this[vb].currentSocket;if(this[vb].currentSocket=void 0,!e)throw new Error("No socket was returned in the `connect()` function");return e}get defaultPort(){return this[vb].defaultPort??(this.protocol==="https:"?443:80)}set defaultPort(e){this[vb]&&(this[vb].defaultPort=e)}get protocol(){return this[vb].protocol??(this.isSecureEndpoint()?"https:":"http:")}set protocol(e){this[vb]&&(this[vb].protocol=e)}};Tg.Agent=qY});var FDe=C(Av=>{"use strict";var rpt=Av&&Av.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),npt=Av&&Av.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),NDe=Av&&Av.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&rpt(e,r,t);return npt(e,r),e},ipt=Av&&Av.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Av,"__esModule",{value:!0});Av.HttpProxyAgent=void 0;var opt=NDe(require("net")),spt=NDe(require("tls")),apt=ipt(gz()),cpt=require("events"),upt=jY(),wP=(0,apt.default)("http-proxy-agent"),vz=class extends upt.Agent{constructor(e,t){super(t),this.proxy=typeof e=="string"?new URL(e):e,this.proxyHeaders=t?.headers??{},wP("Creating new HttpProxyAgent instance: %o",this.proxy.href);let n=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),i=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol==="https:"?443:80;this.connectOpts={...t?lpt(t,"headers"):null,host:n,port:i}}addRequest(e,t){e._header=null,this.setRequestProps(e,t),super.addRequest(e,t)}setRequestProps(e,t){let{proxy:n}=this,i=t.secureEndpoint?"https:":"http:",o=e.getHeader("host")||"localhost",s=`${i}//${o}`,a=new URL(e.path,s);t.port!==80&&(a.port=String(t.port)),e.path=String(a);let c=typeof this.proxyHeaders=="function"?this.proxyHeaders():{...this.proxyHeaders};if(n.username||n.password){let u=`${decodeURIComponent(n.username)}:${decodeURIComponent(n.password)}`;c["Proxy-Authorization"]=`Basic ${Buffer.from(u).toString("base64")}`}c["Proxy-Connection"]||(c["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(let u of Object.keys(c)){let l=c[u];l&&e.setHeader(u,l)}}async connect(e,t){e._header=null,e.path.includes("://")||this.setRequestProps(e,t);let n,i;wP("Regenerating stored HTTP header string for request"),e._implicitHeader(),e.outputData&&e.outputData.length>0&&(wP("Patching connection write() output buffer with updated header"),n=e.outputData[0].data,i=n.indexOf(`\r
\r
`)+4,e.outputData[0].data=e._header+n.substring(i),wP("Output buffer: %o",e.outputData[0].data));let o;return this.proxy.protocol==="https:"?(wP("Creating `tls.Socket`: %o",this.connectOpts),o=spt.connect(this.connectOpts)):(wP("Creating `net.Socket`: %o",this.connectOpts),o=opt.connect(this.connectOpts)),await(0,cpt.once)(o,"connect"),o}};vz.protocols=["http","https"];Av.HttpProxyAgent=vz;function lpt(r,...e){let t={},n;for(n in r)e.includes(n)||(t[n]=r[n]);return t}});var qDe=C(SP=>{"use strict";var dpt=SP&&SP.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(SP,"__esModule",{value:!0});SP.parseProxyResponse=void 0;var fpt=dpt(gz()),yz=(0,fpt.default)("https-proxy-agent:parse-proxy-response");function hpt(r){return new Promise((e,t)=>{let n=0,i=[];function o(){let l=r.read();l?u(l):r.once("readable",o)}function s(){r.removeListener("end",a),r.removeListener("error",c),r.removeListener("readable",o)}function a(){s(),yz("onend"),t(new Error("Proxy connection ended before receiving CONNECT response"))}function c(l){s(),yz("onerror %o",l),t(l)}function u(l){i.push(l),n+=l.length;let d=Buffer.concat(i,n),f=d.indexOf(`\r
\r
`);if(f===-1){yz("have not received end of HTTP headers yet..."),o();return}let p=d.slice(0,f).toString("ascii").split(`\r
`),_=p.shift();if(!_)return r.destroy(),t(new Error("No header received from proxy CONNECT response"));let D=_.split(" "),P=+D[1],M=D.slice(2).join(" "),A={};for(let U of p){if(!U)continue;let ne=U.indexOf(":");if(ne===-1)return r.destroy(),t(new Error(`Invalid header from proxy CONNECT response: "${U}"`));let pe=U.slice(0,ne).toLowerCase(),ve=U.slice(ne+1).trimStart(),V=A[pe];typeof V=="string"?A[pe]=[V,ve]:Array.isArray(V)?V.push(ve):A[pe]=ve}yz("got proxy server response: %o %o",_,A),s(),e({connect:{statusCode:P,statusText:M,headers:A},buffered:d})}r.on("error",c),r.on("end",a),o()})}SP.parseProxyResponse=hpt});var BDe=C(Lv=>{"use strict";var ppt=Lv&&Lv.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),mpt=Lv&&Lv.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),UDe=Lv&&Lv.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&ppt(e,r,t);return mpt(e,r),e},HDe=Lv&&Lv.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Lv,"__esModule",{value:!0});Lv.HttpsProxyAgent=void 0;var PL=UDe(require("net")),jDe=UDe(require("tls")),gpt=HDe(require("assert")),vpt=HDe(gz()),ypt=jY(),_pt=qDe(),xL=(0,vpt.default)("https-proxy-agent"),_z=class extends ypt.Agent{constructor(e,t){super(t),this.options={path:void 0},this.proxy=typeof e=="string"?new URL(e):e,this.proxyHeaders=t?.headers??{},xL("Creating new HttpsProxyAgent instance: %o",this.proxy.href);let n=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),i=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol==="https:"?443:80;this.connectOpts={ALPNProtocols:["http/1.1"],...t?zDe(t,"headers"):null,host:n,port:i}}async connect(e,t){let{proxy:n}=this;if(!t.host)throw new TypeError('No "host" provided');let i;if(n.protocol==="https:"){xL("Creating `tls.Socket`: %o",this.connectOpts);let f=this.connectOpts.servername||this.connectOpts.host;i=jDe.connect({...this.connectOpts,servername:f&&PL.isIP(f)?void 0:f})}else xL("Creating `net.Socket`: %o",this.connectOpts),i=PL.connect(this.connectOpts);let o=typeof this.proxyHeaders=="function"?this.proxyHeaders():{...this.proxyHeaders},s=PL.isIPv6(t.host)?`[${t.host}]`:t.host,a=`CONNECT ${s}:${t.port} HTTP/1.1\r
`;if(n.username||n.password){let f=`${decodeURIComponent(n.username)}:${decodeURIComponent(n.password)}`;o["Proxy-Authorization"]=`Basic ${Buffer.from(f).toString("base64")}`}o.Host=`${s}:${t.port}`,o["Proxy-Connection"]||(o["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(let f of Object.keys(o))a+=`${f}: ${o[f]}\r
`;let c=(0,_pt.parseProxyResponse)(i);i.write(`${a}\r
`);let{connect:u,buffered:l}=await c;if(e.emit("proxyConnect",u),this.emit("proxyConnect",u,e),u.statusCode===200){if(e.once("socket",bpt),t.secureEndpoint){xL("Upgrading socket connection to TLS");let f=t.servername||t.host;return jDe.connect({...zDe(t,"host","path","port"),socket:i,servername:PL.isIP(f)?void 0:f})}return i}i.destroy();let d=new PL.Socket({writable:!1});return d.readable=!0,e.once("socket",f=>{xL("Replaying proxy buffer for failed request"),(0,gpt.default)(f.listenerCount("data")>0),f.push(l),f.push(null)}),d}};_z.protocols=["http","https"];Lv.HttpsProxyAgent=_z;function bpt(r){r.resume()}function zDe(r,...e){let t={},n;for(n in r)e.includes(n)||(t[n]=r[n]);return t}});var CP=C((dKt,JDe)=>{"use strict";var YDe=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]);JDe.exports=r=>r?Object.keys(r).map(e=>[YDe.has(e)?YDe.get(e):e,r[e]]).reduce((e,t)=>(e[t[0]]=t[1],e),Object.create(null)):{}});var Rz=C(s0e=>{"use strict";var XDe=typeof process=="object"&&process?process:{stdout:null,stderr:null},Spt=require("events"),QDe=require("stream"),Cpt=require("string_decoder"),ZDe=Cpt.StringDecoder,nS=Symbol("EOF"),iS=Symbol("maybeEmitEnd"),ET=Symbol("emittedEnd"),wz=Symbol("emittingEnd"),OL=Symbol("emittedError"),Sz=Symbol("closed"),e0e=Symbol("read"),Cz=Symbol("flush"),t0e=Symbol("flushChunk"),gm=Symbol("encoding"),oS=Symbol("decoder"),Tz=Symbol("flowing"),IL=Symbol("paused"),TP=Symbol("resume"),Hu=Symbol("buffer"),yb=Symbol("pipes"),bd=Symbol("bufferLength"),UY=Symbol("bufferPush"),HY=Symbol("bufferShift"),ff=Symbol("objectMode"),Bu=Symbol("destroyed"),BY=Symbol("error"),WY=Symbol("emitData"),r0e=Symbol("emitEnd"),$Y=Symbol("emitEnd2"),sS=Symbol("async"),VY=Symbol("abort"),Dz=Symbol("aborted"),$0=Symbol("signal"),kL=r=>Promise.resolve().then(r),o0e=global._MP_NO_ITERATOR_SYMBOLS_!=="1",n0e=o0e&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),i0e=o0e&&Symbol.iterator||Symbol("iterator not implemented"),Tpt=r=>r==="end"||r==="finish"||r==="prefinish",Dpt=r=>r instanceof ArrayBuffer||typeof r=="object"&&r.constructor&&r.constructor.name==="ArrayBuffer"&&r.byteLength>=0,Ept=r=>!Buffer.isBuffer(r)&&ArrayBuffer.isView(r),Ez=class{constructor(e,t,n){this.src=e,this.dest=t,this.opts=n,this.ondrain=()=>e[TP](),t.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},GY=class extends Ez{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,t,n){super(e,t,n),this.proxyErrors=i=>t.emit("error",i),e.on("error",this.proxyErrors)}},KY=class r extends QDe{constructor(e){super(),this[Tz]=!1,this[IL]=!1,this[yb]=[],this[Hu]=[],this[ff]=e&&e.objectMode||!1,this[ff]?this[gm]=null:this[gm]=e&&e.encoding||null,this[gm]==="buffer"&&(this[gm]=null),this[sS]=e&&!!e.async||!1,this[oS]=this[gm]?new ZDe(this[gm]):null,this[nS]=!1,this[ET]=!1,this[wz]=!1,this[Sz]=!1,this[OL]=null,this.writable=!0,this.readable=!0,this[bd]=0,this[Bu]=!1,e&&e.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[Hu]}),e&&e.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[yb]}),this[$0]=e&&e.signal,this[Dz]=!1,this[$0]&&(this[$0].addEventListener("abort",()=>this[VY]()),this[$0].aborted&&this[VY]())}get bufferLength(){return this[bd]}get encoding(){return this[gm]}set encoding(e){if(this[ff])throw new Error("cannot set encoding in objectMode");if(this[gm]&&e!==this[gm]&&(this[oS]&&this[oS].lastNeed||this[bd]))throw new Error("cannot change encoding");this[gm]!==e&&(this[oS]=e?new ZDe(e):null,this[Hu].length&&(this[Hu]=this[Hu].map(t=>this[oS].write(t)))),this[gm]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[ff]}set objectMode(e){this[ff]=this[ff]||!!e}get async(){return this[sS]}set async(e){this[sS]=this[sS]||!!e}[VY](){this[Dz]=!0,this.emit("abort",this[$0].reason),this.destroy(this[$0].reason)}get aborted(){return this[Dz]}set aborted(e){}write(e,t,n){if(this[Dz])return!1;if(this[nS])throw new Error("write after end");if(this[Bu])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof t=="function"&&(n=t,t="utf8"),t||(t="utf8");let i=this[sS]?kL:o=>o();return!this[ff]&&!Buffer.isBuffer(e)&&(Ept(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):Dpt(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),this[ff]?(this.flowing&&this[bd]!==0&&this[Cz](!0),this.flowing?this.emit("data",e):this[UY](e),this[bd]!==0&&this.emit("readable"),n&&i(n),this.flowing):e.length?(typeof e=="string"&&!(t===this[gm]&&!this[oS].lastNeed)&&(e=Buffer.from(e,t)),Buffer.isBuffer(e)&&this[gm]&&(e=this[oS].write(e)),this.flowing&&this[bd]!==0&&this[Cz](!0),this.flowing?this.emit("data",e):this[UY](e),this[bd]!==0&&this.emit("readable"),n&&i(n),this.flowing):(this[bd]!==0&&this.emit("readable"),n&&i(n),this.flowing)}read(e){if(this[Bu])return null;if(this[bd]===0||e===0||e>this[bd])return this[iS](),null;this[ff]&&(e=null),this[Hu].length>1&&!this[ff]&&(this.encoding?this[Hu]=[this[Hu].join("")]:this[Hu]=[Buffer.concat(this[Hu],this[bd])]);let t=this[e0e](e||null,this[Hu][0]);return this[iS](),t}[e0e](e,t){return e===t.length||e===null?this[HY]():(this[Hu][0]=t.slice(e),t=t.slice(0,e),this[bd]-=e),this.emit("data",t),!this[Hu].length&&!this[nS]&&this.emit("drain"),t}end(e,t,n){return typeof e=="function"&&(n=e,e=null),typeof t=="function"&&(n=t,t="utf8"),e&&this.write(e,t),n&&this.once("end",n),this[nS]=!0,this.writable=!1,(this.flowing||!this[IL])&&this[iS](),this}[TP](){this[Bu]||(this[IL]=!1,this[Tz]=!0,this.emit("resume"),this[Hu].length?this[Cz]():this[nS]?this[iS]():this.emit("drain"))}resume(){return this[TP]()}pause(){this[Tz]=!1,this[IL]=!0}get destroyed(){return this[Bu]}get flowing(){return this[Tz]}get paused(){return this[IL]}[UY](e){this[ff]?this[bd]+=1:this[bd]+=e.length,this[Hu].push(e)}[HY](){return this[ff]?this[bd]-=1:this[bd]-=this[Hu][0].length,this[Hu].shift()}[Cz](e){do;while(this[t0e](this[HY]())&&this[Hu].length);!e&&!this[Hu].length&&!this[nS]&&this.emit("drain")}[t0e](e){return this.emit("data",e),this.flowing}pipe(e,t){if(this[Bu])return;let n=this[ET];return t=t||{},e===XDe.stdout||e===XDe.stderr?t.end=!1:t.end=t.end!==!1,t.proxyErrors=!!t.proxyErrors,n?t.end&&e.end():(this[yb].push(t.proxyErrors?new GY(this,e,t):new Ez(this,e,t)),this[sS]?kL(()=>this[TP]()):this[TP]()),e}unpipe(e){let t=this[yb].find(n=>n.dest===e);t&&(this[yb].splice(this[yb].indexOf(t),1),t.unpipe())}addListener(e,t){return this.on(e,t)}on(e,t){let n=super.on(e,t);return e==="data"&&!this[yb].length&&!this.flowing?this[TP]():e==="readable"&&this[bd]!==0?super.emit("readable"):Tpt(e)&&this[ET]?(super.emit(e),this.removeAllListeners(e)):e==="error"&&this[OL]&&(this[sS]?kL(()=>t.call(this,this[OL])):t.call(this,this[OL])),n}get emittedEnd(){return this[ET]}[iS](){!this[wz]&&!this[ET]&&!this[Bu]&&this[Hu].length===0&&this[nS]&&(this[wz]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Sz]&&this.emit("close"),this[wz]=!1)}emit(e,t,...n){if(e!=="error"&&e!=="close"&&e!==Bu&&this[Bu])return;if(e==="data")return!this[ff]&&!t?!1:this[sS]?kL(()=>this[WY](t)):this[WY](t);if(e==="end")return this[r0e]();if(e==="close"){if(this[Sz]=!0,!this[ET]&&!this[Bu])return;let o=super.emit("close");return this.removeAllListeners("close"),o}else if(e==="error"){this[OL]=t,super.emit(BY,t);let o=!this[$0]||this.listeners("error").length?super.emit("error",t):!1;return this[iS](),o}else if(e==="resume"){let o=super.emit("resume");return this[iS](),o}else if(e==="finish"||e==="prefinish"){let o=super.emit(e);return this.removeAllListeners(e),o}let i=super.emit(e,t,...n);return this[iS](),i}[WY](e){for(let n of this[yb])n.dest.write(e)===!1&&this.pause();let t=super.emit("data",e);return this[iS](),t}[r0e](){this[ET]||(this[ET]=!0,this.readable=!1,this[sS]?kL(()=>this[$Y]()):this[$Y]())}[$Y](){if(this[oS]){let t=this[oS].end();if(t){for(let n of this[yb])n.dest.write(t);super.emit("data",t)}}for(let t of this[yb])t.end();let e=super.emit("end");return this.removeAllListeners("end"),e}collect(){let e=[];this[ff]||(e.dataLength=0);let t=this.promise();return this.on("data",n=>{e.push(n),this[ff]||(e.dataLength+=n.length)}),t.then(()=>e)}concat(){return this[ff]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[ff]?Promise.reject(new Error("cannot concat in objectMode")):this[gm]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,t)=>{this.on(Bu,()=>t(new Error("stream destroyed"))),this.on("error",n=>t(n)),this.on("end",()=>e())})}[n0e](){let e=!1,t=()=>(this.pause(),e=!0,Promise.resolve({done:!0}));return{next:()=>{if(e)return t();let i=this.read();if(i!==null)return Promise.resolve({done:!1,value:i});if(this[nS])return t();let o=null,s=null,a=d=>{this.removeListener("data",c),this.removeListener("end",u),this.removeListener(Bu,l),t(),s(d)},c=d=>{this.removeListener("error",a),this.removeListener("end",u),this.removeListener(Bu,l),this.pause(),o({value:d,done:!!this[nS]})},u=()=>{this.removeListener("error",a),this.removeListener("data",c),this.removeListener(Bu,l),t(),o({done:!0})},l=()=>a(new Error("stream destroyed"));return new Promise((d,f)=>{s=f,o=d,this.once(Bu,l),this.once("error",a),this.once("end",u),this.once("data",c)})},throw:t,return:t,[n0e](){return this}}}[i0e](){let e=!1,t=()=>(this.pause(),this.removeListener(BY,t),this.removeListener(Bu,t),this.removeListener("end",t),e=!0,{done:!0}),n=()=>{if(e)return t();let i=this.read();return i===null?t():{value:i}};return this.once("end",t),this.once(BY,t),this.once(Bu,t),{next:n,throw:t,return:t,[i0e](){return this}}}destroy(e){return this[Bu]?(e?this.emit("error",e):this.emit(Bu),this):(this[Bu]=!0,this[Hu].length=0,this[bd]=0,typeof this.close=="function"&&!this[Sz]&&this.close(),e?this.emit("error",e):this.emit(Bu),this)}static isStream(e){return!!e&&(e instanceof r||e instanceof QDe||e instanceof Spt&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}};s0e.Minipass=KY});var c0e=C((hKt,a0e)=>{var Rpt=require("zlib").constants||{ZLIB_VERNUM:4736};a0e.exports=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:1/0,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},Rpt))});var y0e=C((pKt,v0e)=>{"use strict";var u0e=typeof process=="object"&&process?process:{stdout:null,stderr:null},Ppt=require("events"),l0e=require("stream"),d0e=require("string_decoder").StringDecoder,aS=Symbol("EOF"),cS=Symbol("maybeEmitEnd"),RT=Symbol("emittedEnd"),Pz=Symbol("emittingEnd"),AL=Symbol("emittedError"),xz=Symbol("closed"),f0e=Symbol("read"),Oz=Symbol("flush"),h0e=Symbol("flushChunk"),vm=Symbol("encoding"),uS=Symbol("decoder"),Iz=Symbol("flowing"),LL=Symbol("paused"),DP=Symbol("resume"),wd=Symbol("bufferLength"),YY=Symbol("bufferPush"),JY=Symbol("bufferShift"),oh=Symbol("objectMode"),sh=Symbol("destroyed"),XY=Symbol("emitData"),p0e=Symbol("emitEnd"),QY=Symbol("emitEnd2"),lS=Symbol("async"),ML=r=>Promise.resolve().then(r),m0e=global._MP_NO_ITERATOR_SYMBOLS_!=="1",xpt=m0e&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),Opt=m0e&&Symbol.iterator||Symbol("iterator not implemented"),Ipt=r=>r==="end"||r==="finish"||r==="prefinish",kpt=r=>r instanceof ArrayBuffer||typeof r=="object"&&r.constructor&&r.constructor.name==="ArrayBuffer"&&r.byteLength>=0,Apt=r=>!Buffer.isBuffer(r)&&ArrayBuffer.isView(r),kz=class{constructor(e,t,n){this.src=e,this.dest=t,this.opts=n,this.ondrain=()=>e[DP](),t.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},ZY=class extends kz{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,t,n){super(e,t,n),this.proxyErrors=i=>t.emit("error",i),e.on("error",this.proxyErrors)}};v0e.exports=class g0e extends l0e{constructor(e){super(),this[Iz]=!1,this[LL]=!1,this.pipes=[],this.buffer=[],this[oh]=e&&e.objectMode||!1,this[oh]?this[vm]=null:this[vm]=e&&e.encoding||null,this[vm]==="buffer"&&(this[vm]=null),this[lS]=e&&!!e.async||!1,this[uS]=this[vm]?new d0e(this[vm]):null,this[aS]=!1,this[RT]=!1,this[Pz]=!1,this[xz]=!1,this[AL]=null,this.writable=!0,this.readable=!0,this[wd]=0,this[sh]=!1}get bufferLength(){return this[wd]}get encoding(){return this[vm]}set encoding(e){if(this[oh])throw new Error("cannot set encoding in objectMode");if(this[vm]&&e!==this[vm]&&(this[uS]&&this[uS].lastNeed||this[wd]))throw new Error("cannot change encoding");this[vm]!==e&&(this[uS]=e?new d0e(e):null,this.buffer.length&&(this.buffer=this.buffer.map(t=>this[uS].write(t)))),this[vm]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[oh]}set objectMode(e){this[oh]=this[oh]||!!e}get async(){return this[lS]}set async(e){this[lS]=this[lS]||!!e}write(e,t,n){if(this[aS])throw new Error("write after end");if(this[sh])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof t=="function"&&(n=t,t="utf8"),t||(t="utf8");let i=this[lS]?ML:o=>o();return!this[oh]&&!Buffer.isBuffer(e)&&(Apt(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):kpt(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),this[oh]?(this.flowing&&this[wd]!==0&&this[Oz](!0),this.flowing?this.emit("data",e):this[YY](e),this[wd]!==0&&this.emit("readable"),n&&i(n),this.flowing):e.length?(typeof e=="string"&&!(t===this[vm]&&!this[uS].lastNeed)&&(e=Buffer.from(e,t)),Buffer.isBuffer(e)&&this[vm]&&(e=this[uS].write(e)),this.flowing&&this[wd]!==0&&this[Oz](!0),this.flowing?this.emit("data",e):this[YY](e),this[wd]!==0&&this.emit("readable"),n&&i(n),this.flowing):(this[wd]!==0&&this.emit("readable"),n&&i(n),this.flowing)}read(e){if(this[sh])return null;if(this[wd]===0||e===0||e>this[wd])return this[cS](),null;this[oh]&&(e=null),this.buffer.length>1&&!this[oh]&&(this.encoding?this.buffer=[this.buffer.join("")]:this.buffer=[Buffer.concat(this.buffer,this[wd])]);let t=this[f0e](e||null,this.buffer[0]);return this[cS](),t}[f0e](e,t){return e===t.length||e===null?this[JY]():(this.buffer[0]=t.slice(e),t=t.slice(0,e),this[wd]-=e),this.emit("data",t),!this.buffer.length&&!this[aS]&&this.emit("drain"),t}end(e,t,n){return typeof e=="function"&&(n=e,e=null),typeof t=="function"&&(n=t,t="utf8"),e&&this.write(e,t),n&&this.once("end",n),this[aS]=!0,this.writable=!1,(this.flowing||!this[LL])&&this[cS](),this}[DP](){this[sh]||(this[LL]=!1,this[Iz]=!0,this.emit("resume"),this.buffer.length?this[Oz]():this[aS]?this[cS]():this.emit("drain"))}resume(){return this[DP]()}pause(){this[Iz]=!1,this[LL]=!0}get destroyed(){return this[sh]}get flowing(){return this[Iz]}get paused(){return this[LL]}[YY](e){this[oh]?this[wd]+=1:this[wd]+=e.length,this.buffer.push(e)}[JY](){return this.buffer.length&&(this[oh]?this[wd]-=1:this[wd]-=this.buffer[0].length),this.buffer.shift()}[Oz](e){do;while(this[h0e](this[JY]()));!e&&!this.buffer.length&&!this[aS]&&this.emit("drain")}[h0e](e){return e?(this.emit("data",e),this.flowing):!1}pipe(e,t){if(this[sh])return;let n=this[RT];return t=t||{},e===u0e.stdout||e===u0e.stderr?t.end=!1:t.end=t.end!==!1,t.proxyErrors=!!t.proxyErrors,n?t.end&&e.end():(this.pipes.push(t.proxyErrors?new ZY(this,e,t):new kz(this,e,t)),this[lS]?ML(()=>this[DP]()):this[DP]()),e}unpipe(e){let t=this.pipes.find(n=>n.dest===e);t&&(this.pipes.splice(this.pipes.indexOf(t),1),t.unpipe())}addListener(e,t){return this.on(e,t)}on(e,t){let n=super.on(e,t);return e==="data"&&!this.pipes.length&&!this.flowing?this[DP]():e==="readable"&&this[wd]!==0?super.emit("readable"):Ipt(e)&&this[RT]?(super.emit(e),this.removeAllListeners(e)):e==="error"&&this[AL]&&(this[lS]?ML(()=>t.call(this,this[AL])):t.call(this,this[AL])),n}get emittedEnd(){return this[RT]}[cS](){!this[Pz]&&!this[RT]&&!this[sh]&&this.buffer.length===0&&this[aS]&&(this[Pz]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[xz]&&this.emit("close"),this[Pz]=!1)}emit(e,t,...n){if(e!=="error"&&e!=="close"&&e!==sh&&this[sh])return;if(e==="data")return t?this[lS]?ML(()=>this[XY](t)):this[XY](t):!1;if(e==="end")return this[p0e]();if(e==="close"){if(this[xz]=!0,!this[RT]&&!this[sh])return;let o=super.emit("close");return this.removeAllListeners("close"),o}else if(e==="error"){this[AL]=t;let o=super.emit("error",t);return this[cS](),o}else if(e==="resume"){let o=super.emit("resume");return this[cS](),o}else if(e==="finish"||e==="prefinish"){let o=super.emit(e);return this.removeAllListeners(e),o}let i=super.emit(e,t,...n);return this[cS](),i}[XY](e){for(let n of this.pipes)n.dest.write(e)===!1&&this.pause();let t=super.emit("data",e);return this[cS](),t}[p0e](){this[RT]||(this[RT]=!0,this.readable=!1,this[lS]?ML(()=>this[QY]()):this[QY]())}[QY](){if(this[uS]){let t=this[uS].end();if(t){for(let n of this.pipes)n.dest.write(t);super.emit("data",t)}}for(let t of this.pipes)t.end();let e=super.emit("end");return this.removeAllListeners("end"),e}collect(){let e=[];this[oh]||(e.dataLength=0);let t=this.promise();return this.on("data",n=>{e.push(n),this[oh]||(e.dataLength+=n.length)}),t.then(()=>e)}concat(){return this[oh]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[oh]?Promise.reject(new Error("cannot concat in objectMode")):this[vm]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,t)=>{this.on(sh,()=>t(new Error("stream destroyed"))),this.on("error",n=>t(n)),this.on("end",()=>e())})}[xpt](){return{next:()=>{let t=this.read();if(t!==null)return Promise.resolve({done:!1,value:t});if(this[aS])return Promise.resolve({done:!0});let n=null,i=null,o=u=>{this.removeListener("data",s),this.removeListener("end",a),i(u)},s=u=>{this.removeListener("error",o),this.removeListener("end",a),this.pause(),n({value:u,done:!!this[aS]})},a=()=>{this.removeListener("error",o),this.removeListener("data",s),n({done:!0})},c=()=>o(new Error("stream destroyed"));return new Promise((u,l)=>{i=l,n=u,this.once(sh,c),this.once("error",o),this.once("end",a),this.once("data",s)})}}}[Opt](){return{next:()=>{let t=this.read();return{value:t,done:t===null}}}}destroy(e){return this[sh]?(e?this.emit("error",e):this.emit(sh),this):(this[sh]=!0,this.buffer.length=0,this[wd]=0,typeof this.close=="function"&&!this[xz]&&this.close(),e?this.emit("error",e):this.emit(sh),this)}static isStream(e){return!!e&&(e instanceof g0e||e instanceof l0e||e instanceof Ppt&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}}});var mJ=C(Dg=>{"use strict";var iJ=require("assert"),PT=require("buffer").Buffer,w0e=require("zlib"),V0=Dg.constants=c0e(),Lpt=y0e(),_0e=PT.concat,G0=Symbol("_superWrite"),RP=class extends Error{constructor(e){super("zlib: "+e.message),this.code=e.code,this.errno=e.errno,this.code||(this.code="ZLIB_ERROR"),this.message="zlib: "+e.message,Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}},Mpt=Symbol("opts"),NL=Symbol("flushFlag"),b0e=Symbol("finishFlushFlag"),pJ=Symbol("fullFlushFlag"),Ta=Symbol("handle"),Az=Symbol("onError"),EP=Symbol("sawError"),eJ=Symbol("level"),tJ=Symbol("strategy"),rJ=Symbol("ended"),mKt=Symbol("_defaultFullFlush"),Lz=class extends Lpt{constructor(e,t){if(!e||typeof e!="object")throw new TypeError("invalid options for ZlibBase constructor");super(e),this[EP]=!1,this[rJ]=!1,this[Mpt]=e,this[NL]=e.flush,this[b0e]=e.finishFlush;try{this[Ta]=new w0e[t](e)}catch(n){throw new RP(n)}this[Az]=n=>{this[EP]||(this[EP]=!0,this.close(),this.emit("error",n))},this[Ta].on("error",n=>this[Az](new RP(n))),this.once("end",()=>this.close)}close(){this[Ta]&&(this[Ta].close(),this[Ta]=null,this.emit("close"))}reset(){if(!this[EP])return iJ(this[Ta],"zlib binding closed"),this[Ta].reset()}flush(e){this.ended||(typeof e!="number"&&(e=this[pJ]),this.write(Object.assign(PT.alloc(0),{[NL]:e})))}end(e,t,n){return e&&this.write(e,t),this.flush(this[b0e]),this[rJ]=!0,super.end(null,null,n)}get ended(){return this[rJ]}write(e,t,n){if(typeof t=="function"&&(n=t,t="utf8"),typeof e=="string"&&(e=PT.from(e,t)),this[EP])return;iJ(this[Ta],"zlib binding closed");let i=this[Ta]._handle,o=i.close;i.close=()=>{};let s=this[Ta].close;this[Ta].close=()=>{},PT.concat=u=>u;let a;try{let u=typeof e[NL]=="number"?e[NL]:this[NL];a=this[Ta]._processChunk(e,u),PT.concat=_0e}catch(u){PT.concat=_0e,this[Az](new RP(u))}finally{this[Ta]&&(this[Ta]._handle=i,i.close=o,this[Ta].close=s,this[Ta].removeAllListeners("error"))}this[Ta]&&this[Ta].on("error",u=>this[Az](new RP(u)));let c;if(a)if(Array.isArray(a)&&a.length>0){c=this[G0](PT.from(a[0]));for(let u=1;u<a.length;u++)c=this[G0](a[u])}else c=this[G0](PT.from(a));return n&&n(),c}[G0](e){return super.write(e)}},dS=class extends Lz{constructor(e,t){e=e||{},e.flush=e.flush||V0.Z_NO_FLUSH,e.finishFlush=e.finishFlush||V0.Z_FINISH,super(e,t),this[pJ]=V0.Z_FULL_FLUSH,this[eJ]=e.level,this[tJ]=e.strategy}params(e,t){if(!this[EP]){if(!this[Ta])throw new Error("cannot switch params when binding is closed");if(!this[Ta].params)throw new Error("not supported in this implementation");if(this[eJ]!==e||this[tJ]!==t){this.flush(V0.Z_SYNC_FLUSH),iJ(this[Ta],"zlib binding closed");let n=this[Ta].flush;this[Ta].flush=(i,o)=>{this.flush(i),o()};try{this[Ta].params(e,t)}finally{this[Ta].flush=n}this[Ta]&&(this[eJ]=e,this[tJ]=t)}}}},oJ=class extends dS{constructor(e){super(e,"Deflate")}},sJ=class extends dS{constructor(e){super(e,"Inflate")}},nJ=Symbol("_portable"),aJ=class extends dS{constructor(e){super(e,"Gzip"),this[nJ]=e&&!!e.portable}[G0](e){return this[nJ]?(this[nJ]=!1,e[9]=255,super[G0](e)):super[G0](e)}},cJ=class extends dS{constructor(e){super(e,"Gunzip")}},uJ=class extends dS{constructor(e){super(e,"DeflateRaw")}},lJ=class extends dS{constructor(e){super(e,"InflateRaw")}},dJ=class extends dS{constructor(e){super(e,"Unzip")}},Mz=class extends Lz{constructor(e,t){e=e||{},e.flush=e.flush||V0.BROTLI_OPERATION_PROCESS,e.finishFlush=e.finishFlush||V0.BROTLI_OPERATION_FINISH,super(e,t),this[pJ]=V0.BROTLI_OPERATION_FLUSH}},fJ=class extends Mz{constructor(e){super(e,"BrotliCompress")}},hJ=class extends Mz{constructor(e){super(e,"BrotliDecompress")}};Dg.Deflate=oJ;Dg.Inflate=sJ;Dg.Gzip=aJ;Dg.Gunzip=cJ;Dg.DeflateRaw=uJ;Dg.InflateRaw=lJ;Dg.Unzip=dJ;typeof w0e.BrotliCompress=="function"?(Dg.BrotliCompress=fJ,Dg.BrotliDecompress=hJ):Dg.BrotliCompress=Dg.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}}});var PP=C((yKt,S0e)=>{var Npt=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform;S0e.exports=Npt!=="win32"?r=>r:r=>r&&r.replace(/\\/g,"/")});var Nz=C((bKt,C0e)=>{"use strict";var{Minipass:Fpt}=Rz(),gJ=PP(),vJ=Symbol("slurp");C0e.exports=class extends Fpt{constructor(e,t,n){switch(super(),this.pause(),this.extended=t,this.globalExtended=n,this.header=e,this.startBlockSize=512*Math.ceil(e.size/512),this.blockRemain=this.startBlockSize,this.remain=e.size,this.type=e.type,this.meta=!1,this.ignore=!1,this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=!0;break;default:this.ignore=!0}this.path=gJ(e.path),this.mode=e.mode,this.mode&&(this.mode=this.mode&4095),this.uid=e.uid,this.gid=e.gid,this.uname=e.uname,this.gname=e.gname,this.size=e.size,this.mtime=e.mtime,this.atime=e.atime,this.ctime=e.ctime,this.linkpath=gJ(e.linkpath),this.uname=e.uname,this.gname=e.gname,t&&this[vJ](t),n&&this[vJ](n,!0)}write(e){let t=e.length;if(t>this.blockRemain)throw new Error("writing more to entry than is appropriate");let n=this.remain,i=this.blockRemain;return this.remain=Math.max(0,n-t),this.blockRemain=Math.max(0,i-t),this.ignore?!0:n>=t?super.write(e):super.write(e.slice(0,n))}[vJ](e,t){for(let n in e)e[n]!==null&&e[n]!==void 0&&!(t&&n==="path")&&(this[n]=n==="path"||n==="linkpath"?gJ(e[n]):e[n])}}});var yJ=C(Fz=>{"use strict";Fz.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]);Fz.code=new Map(Array.from(Fz.name).map(r=>[r[1],r[0]]))});var R0e=C((SKt,E0e)=>{"use strict";var qpt=(r,e)=>{if(Number.isSafeInteger(r))r<0?zpt(r,e):jpt(r,e);else throw Error("cannot encode number outside of javascript safe integer range");return e},jpt=(r,e)=>{e[0]=128;for(var t=e.length;t>1;t--)e[t-1]=r&255,r=Math.floor(r/256)},zpt=(r,e)=>{e[0]=255;var t=!1;r=r*-1;for(var n=e.length;n>1;n--){var i=r&255;r=Math.floor(r/256),t?e[n-1]=T0e(i):i===0?e[n-1]=0:(t=!0,e[n-1]=D0e(i))}},Upt=r=>{let e=r[0],t=e===128?Bpt(r.slice(1,r.length)):e===255?Hpt(r):null;if(t===null)throw Error("invalid base256 encoding");if(!Number.isSafeInteger(t))throw Error("parsed number outside of javascript safe integer range");return t},Hpt=r=>{for(var e=r.length,t=0,n=!1,i=e-1;i>-1;i--){var o=r[i],s;n?s=T0e(o):o===0?s=o:(n=!0,s=D0e(o)),s!==0&&(t-=s*Math.pow(256,e-i-1))}return t},Bpt=r=>{for(var e=r.length,t=0,n=e-1;n>-1;n--){var i=r[n];i!==0&&(t+=i*Math.pow(256,e-n-1))}return t},T0e=r=>(255^r)&255,D0e=r=>(255^r)+1&255;E0e.exports={encode:qpt,parse:Upt}});var OP=C((CKt,x0e)=>{"use strict";var _J=yJ(),xP=require("path").posix,P0e=R0e(),bJ=Symbol("slurp"),Eg=Symbol("type"),CJ=class{constructor(e,t,n,i){this.cksumValid=!1,this.needPax=!1,this.nullBlock=!1,this.block=null,this.path=null,this.mode=null,this.uid=null,this.gid=null,this.size=null,this.mtime=null,this.cksum=null,this[Eg]="0",this.linkpath=null,this.uname=null,this.gname=null,this.devmaj=0,this.devmin=0,this.atime=null,this.ctime=null,Buffer.isBuffer(e)?this.decode(e,t||0,n,i):e&&this.set(e)}decode(e,t,n,i){if(t||(t=0),!e||!(e.length>=t+512))throw new Error("need 512 bytes for header");if(this.path=K0(e,t,100),this.mode=xT(e,t+100,8),this.uid=xT(e,t+108,8),this.gid=xT(e,t+116,8),this.size=xT(e,t+124,12),this.mtime=wJ(e,t+136,12),this.cksum=xT(e,t+148,12),this[bJ](n),this[bJ](i,!0),this[Eg]=K0(e,t+156,1),this[Eg]===""&&(this[Eg]="0"),this[Eg]==="0"&&this.path.slice(-1)==="/"&&(this[Eg]="5"),this[Eg]==="5"&&(this.size=0),this.linkpath=K0(e,t+157,100),e.slice(t+257,t+265).toString()==="ustar\x0000")if(this.uname=K0(e,t+265,32),this.gname=K0(e,t+297,32),this.devmaj=xT(e,t+329,8),this.devmin=xT(e,t+337,8),e[t+475]!==0){let s=K0(e,t+345,155);this.path=s+"/"+this.path}else{let s=K0(e,t+345,130);s&&(this.path=s+"/"+this.path),this.atime=wJ(e,t+476,12),this.ctime=wJ(e,t+488,12)}let o=8*32;for(let s=t;s<t+148;s++)o+=e[s];for(let s=t+156;s<t+512;s++)o+=e[s];this.cksumValid=o===this.cksum,this.cksum===null&&o===8*32&&(this.nullBlock=!0)}[bJ](e,t){for(let n in e)e[n]!==null&&e[n]!==void 0&&!(t&&n==="path")&&(this[n]=e[n])}encode(e,t){if(e||(e=this.block=Buffer.alloc(512),t=0),t||(t=0),!(e.length>=t+512))throw new Error("need 512 bytes for header");let n=this.ctime||this.atime?130:155,i=Wpt(this.path||"",n),o=i[0],s=i[1];this.needPax=i[2],this.needPax=Y0(e,t,100,o)||this.needPax,this.needPax=OT(e,t+100,8,this.mode)||this.needPax,this.needPax=OT(e,t+108,8,this.uid)||this.needPax,this.needPax=OT(e,t+116,8,this.gid)||this.needPax,this.needPax=OT(e,t+124,12,this.size)||this.needPax,this.needPax=SJ(e,t+136,12,this.mtime)||this.needPax,e[t+156]=this[Eg].charCodeAt(0),this.needPax=Y0(e,t+157,100,this.linkpath)||this.needPax,e.write("ustar\x0000",t+257,8),this.needPax=Y0(e,t+265,32,this.uname)||this.needPax,this.needPax=Y0(e,t+297,32,this.gname)||this.needPax,this.needPax=OT(e,t+329,8,this.devmaj)||this.needPax,this.needPax=OT(e,t+337,8,this.devmin)||this.needPax,this.needPax=Y0(e,t+345,n,s)||this.needPax,e[t+475]!==0?this.needPax=Y0(e,t+345,155,s)||this.needPax:(this.needPax=Y0(e,t+345,130,s)||this.needPax,this.needPax=SJ(e,t+476,12,this.atime)||this.needPax,this.needPax=SJ(e,t+488,12,this.ctime)||this.needPax);let a=8*32;for(let c=t;c<t+148;c++)a+=e[c];for(let c=t+156;c<t+512;c++)a+=e[c];return this.cksum=a,OT(e,t+148,8,this.cksum),this.cksumValid=!0,this.needPax}set(e){for(let t in e)e[t]!==null&&e[t]!==void 0&&(this[t]=e[t])}get type(){return _J.name.get(this[Eg])||this[Eg]}get typeKey(){return this[Eg]}set type(e){_J.code.has(e)?this[Eg]=_J.code.get(e):this[Eg]=e}},Wpt=(r,e)=>{let n=r,i="",o,s=xP.parse(r).root||".";if(Buffer.byteLength(n)<100)o=[n,i,!1];else{i=xP.dirname(n),n=xP.basename(n);do Buffer.byteLength(n)<=100&&Buffer.byteLength(i)<=e?o=[n,i,!1]:Buffer.byteLength(n)>100&&Buffer.byteLength(i)<=e?o=[n.slice(0,99),i,!0]:(n=xP.join(xP.basename(i),n),i=xP.dirname(i));while(i!==s&&!o);o||(o=[r.slice(0,99),"",!0])}return o},K0=(r,e,t)=>r.slice(e,e+t).toString("utf8").replace(/\0.*/,""),wJ=(r,e,t)=>$pt(xT(r,e,t)),$pt=r=>r===null?null:new Date(r*1e3),xT=(r,e,t)=>r[e]&128?P0e.parse(r.slice(e,e+t)):Gpt(r,e,t),Vpt=r=>isNaN(r)?null:r,Gpt=(r,e,t)=>Vpt(parseInt(r.slice(e,e+t).toString("utf8").replace(/\0.*$/,"").trim(),8)),Kpt={12:8589934591,8:2097151},OT=(r,e,t,n)=>n===null?!1:n>Kpt[t]||n<0?(P0e.encode(n,r.slice(e,e+t)),!0):(Ypt(r,e,t,n),!1),Ypt=(r,e,t,n)=>r.write(Jpt(n,t),e,t,"ascii"),Jpt=(r,e)=>Xpt(Math.floor(r).toString(8),e),Xpt=(r,e)=>(r.length===e-1?r:new Array(e-r.length-1).join("0")+r+" ")+"\0",SJ=(r,e,t,n)=>n===null?!1:OT(r,e,t,n.getTime()/1e3),Qpt=new Array(156).join("\0"),Y0=(r,e,t,n)=>n===null?!1:(r.write(n+Qpt,e,t,"utf8"),n.length!==Buffer.byteLength(n)||n.length>t);x0e.exports=CJ});var qz=C((TKt,O0e)=>{"use strict";var Zpt=OP(),emt=require("path"),FL=class{constructor(e,t){this.atime=e.atime||null,this.charset=e.charset||null,this.comment=e.comment||null,this.ctime=e.ctime||null,this.gid=e.gid||null,this.gname=e.gname||null,this.linkpath=e.linkpath||null,this.mtime=e.mtime||null,this.path=e.path||null,this.size=e.size||null,this.uid=e.uid||null,this.uname=e.uname||null,this.dev=e.dev||null,this.ino=e.ino||null,this.nlink=e.nlink||null,this.global=t||!1}encode(){let e=this.encodeBody();if(e==="")return null;let t=Buffer.byteLength(e),n=512*Math.ceil(1+t/512),i=Buffer.allocUnsafe(n);for(let o=0;o<512;o++)i[o]=0;new Zpt({path:("PaxHeader/"+emt.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:t,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(i),i.write(e,512,t,"utf8");for(let o=t+512;o<i.length;o++)i[o]=0;return i}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(e){if(this[e]===null||this[e]===void 0)return"";let t=this[e]instanceof Date?this[e].getTime()/1e3:this[e],n=" "+(e==="dev"||e==="ino"||e==="nlink"?"SCHILY.":"")+e+"="+t+`
`,i=Buffer.byteLength(n),o=Math.floor(Math.log(i)/Math.log(10))+1;return i+o>=Math.pow(10,o)&&(o+=1),o+i+n}};FL.parse=(r,e,t)=>new FL(tmt(rmt(r),e),t);var tmt=(r,e)=>e?Object.keys(r).reduce((t,n)=>(t[n]=r[n],t),e):r,rmt=r=>r.replace(/\n$/,"").split(`
`).reduce(nmt,Object.create(null)),nmt=(r,e)=>{let t=parseInt(e,10);if(t!==Buffer.byteLength(e)+1)return r;e=e.slice((t+" ").length);let n=e.split("="),i=n.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!i)return r;let o=n.join("=");return r[i]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(i)?new Date(o*1e3):/^[0-9]+$/.test(o)?+o:o,r};O0e.exports=FL});var IP=C((DKt,I0e)=>{I0e.exports=r=>{let e=r.length-1,t=-1;for(;e>-1&&r.charAt(e)==="/";)t=e,e--;return t===-1?r:r.slice(0,t)}});var jz=C((EKt,k0e)=>{"use strict";k0e.exports=r=>class extends r{warn(e,t,n={}){this.file&&(n.file=this.file),this.cwd&&(n.cwd=this.cwd),n.code=t instanceof Error&&t.code||e,n.tarCode=e,!this.strict&&n.recoverable!==!1?(t instanceof Error&&(n=Object.assign(t,n),t=t.message),this.emit("warn",n.tarCode,t,n)):t instanceof Error?this.emit("error",Object.assign(t,n)):this.emit("error",Object.assign(new Error(`${e}: ${t}`),n))}}});var DJ=C((PKt,A0e)=>{"use strict";var zz=["|","<",">","?",":"],TJ=zz.map(r=>String.fromCharCode(61440+r.charCodeAt(0))),imt=new Map(zz.map((r,e)=>[r,TJ[e]])),omt=new Map(TJ.map((r,e)=>[r,zz[e]]));A0e.exports={encode:r=>zz.reduce((e,t)=>e.split(t).join(imt.get(t)),r),decode:r=>TJ.reduce((e,t)=>e.split(t).join(omt.get(t)),r)}});var EJ=C((xKt,M0e)=>{var{isAbsolute:smt,parse:L0e}=require("path").win32;M0e.exports=r=>{let e="",t=L0e(r);for(;smt(r)||t.root;){let n=r.charAt(0)==="/"&&r.slice(0,4)!=="//?/"?"/":t.root;r=r.slice(n.length),e+=n,t=L0e(r)}return[e,r]}});var F0e=C((OKt,N0e)=>{"use strict";N0e.exports=(r,e,t)=>(r&=4095,t&&(r=(r|384)&-19),e&&(r&256&&(r|=64),r&32&&(r|=8),r&4&&(r|=1)),r)});var NJ=C((AKt,X0e)=>{"use strict";var{Minipass:W0e}=Rz(),$0e=qz(),V0e=OP(),bb=require("fs"),q0e=require("path"),_b=PP(),amt=IP(),G0e=(r,e)=>e?(r=_b(r).replace(/^\.(\/|$)/,""),amt(e)+"/"+r):_b(r),cmt=16*1024*1024,j0e=Symbol("process"),z0e=Symbol("file"),U0e=Symbol("directory"),PJ=Symbol("symlink"),H0e=Symbol("hardlink"),qL=Symbol("header"),Uz=Symbol("read"),xJ=Symbol("lstat"),Hz=Symbol("onlstat"),OJ=Symbol("onread"),IJ=Symbol("onreadlink"),kJ=Symbol("openfile"),AJ=Symbol("onopenfile"),IT=Symbol("close"),Bz=Symbol("mode"),LJ=Symbol("awaitDrain"),RJ=Symbol("ondrain"),wb=Symbol("prefix"),B0e=Symbol("hadError"),K0e=jz(),umt=DJ(),Y0e=EJ(),J0e=F0e(),Wz=K0e(class extends W0e{constructor(e,t){if(t=t||{},super(t),typeof e!="string")throw new TypeError("path is required");this.path=_b(e),this.portable=!!t.portable,this.myuid=process.getuid&&process.getuid()||0,this.myuser=process.env.USER||"",this.maxReadSize=t.maxReadSize||cmt,this.linkCache=t.linkCache||new Map,this.statCache=t.statCache||new Map,this.preservePaths=!!t.preservePaths,this.cwd=_b(t.cwd||process.cwd()),this.strict=!!t.strict,this.noPax=!!t.noPax,this.noMtime=!!t.noMtime,this.mtime=t.mtime||null,this.prefix=t.prefix?_b(t.prefix):null,this.fd=null,this.blockLen=null,this.blockRemain=null,this.buf=null,this.offset=null,this.length=null,this.pos=null,this.remain=null,typeof t.onwarn=="function"&&this.on("warn",t.onwarn);let n=!1;if(!this.preservePaths){let[i,o]=Y0e(this.path);i&&(this.path=o,n=i)}this.win32=!!t.win32||process.platform==="win32",this.win32&&(this.path=umt.decode(this.path.replace(/\\/g,"/")),e=e.replace(/\\/g,"/")),this.absolute=_b(t.absolute||q0e.resolve(this.cwd,e)),this.path===""&&(this.path="./"),n&&this.warn("TAR_ENTRY_INFO",`stripping ${n} from absolute path`,{entry:this,path:n+this.path}),this.statCache.has(this.absolute)?this[Hz](this.statCache.get(this.absolute)):this[xJ]()}emit(e,...t){return e==="error"&&(this[B0e]=!0),super.emit(e,...t)}[xJ](){bb.lstat(this.absolute,(e,t)=>{if(e)return this.emit("error",e);this[Hz](t)})}[Hz](e){this.statCache.set(this.absolute,e),this.stat=e,e.isFile()||(e.size=0),this.type=dmt(e),this.emit("stat",e),this[j0e]()}[j0e](){switch(this.type){case"File":return this[z0e]();case"Directory":return this[U0e]();case"SymbolicLink":return this[PJ]();default:return this.end()}}[Bz](e){return J0e(e,this.type==="Directory",this.portable)}[wb](e){return G0e(e,this.prefix)}[qL](){this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.header=new V0e({path:this[wb](this.path),linkpath:this.type==="Link"?this[wb](this.linkpath):this.linkpath,mode:this[Bz](this.stat.mode),uid:this.portable?null:this.stat.uid,gid:this.portable?null:this.stat.gid,size:this.stat.size,mtime:this.noMtime?null:this.mtime||this.stat.mtime,type:this.type,uname:this.portable?null:this.stat.uid===this.myuid?this.myuser:"",atime:this.portable?null:this.stat.atime,ctime:this.portable?null:this.stat.ctime}),this.header.encode()&&!this.noPax&&super.write(new $0e({atime:this.portable?null:this.header.atime,ctime:this.portable?null:this.header.ctime,gid:this.portable?null:this.header.gid,mtime:this.noMtime?null:this.mtime||this.header.mtime,path:this[wb](this.path),linkpath:this.type==="Link"?this[wb](this.linkpath):this.linkpath,size:this.header.size,uid:this.portable?null:this.header.uid,uname:this.portable?null:this.header.uname,dev:this.portable?null:this.stat.dev,ino:this.portable?null:this.stat.ino,nlink:this.portable?null:this.stat.nlink}).encode()),super.write(this.header.block)}[U0e](){this.path.slice(-1)!=="/"&&(this.path+="/"),this.stat.size=0,this[qL](),this.end()}[PJ](){bb.readlink(this.absolute,(e,t)=>{if(e)return this.emit("error",e);this[IJ](t)})}[IJ](e){this.linkpath=_b(e),this[qL](),this.end()}[H0e](e){this.type="Link",this.linkpath=_b(q0e.relative(this.cwd,e)),this.stat.size=0,this[qL](),this.end()}[z0e](){if(this.stat.nlink>1){let e=this.stat.dev+":"+this.stat.ino;if(this.linkCache.has(e)){let t=this.linkCache.get(e);if(t.indexOf(this.cwd)===0)return this[H0e](t)}this.linkCache.set(e,this.absolute)}if(this[qL](),this.stat.size===0)return this.end();this[kJ]()}[kJ](){bb.open(this.absolute,"r",(e,t)=>{if(e)return this.emit("error",e);this[AJ](t)})}[AJ](e){if(this.fd=e,this[B0e])return this[IT]();this.blockLen=512*Math.ceil(this.stat.size/512),this.blockRemain=this.blockLen;let t=Math.min(this.blockLen,this.maxReadSize);this.buf=Buffer.allocUnsafe(t),this.offset=0,this.pos=0,this.remain=this.stat.size,this.length=this.buf.length,this[Uz]()}[Uz](){let{fd:e,buf:t,offset:n,length:i,pos:o}=this;bb.read(e,t,n,i,o,(s,a)=>{if(s)return this[IT](()=>this.emit("error",s));this[OJ](a)})}[IT](e){bb.close(this.fd,e)}[OJ](e){if(e<=0&&this.remain>0){let i=new Error("encountered unexpected EOF");return i.path=this.absolute,i.syscall="read",i.code="EOF",this[IT](()=>this.emit("error",i))}if(e>this.remain){let i=new Error("did not encounter expected EOF");return i.path=this.absolute,i.syscall="read",i.code="EOF",this[IT](()=>this.emit("error",i))}if(e===this.remain)for(let i=e;i<this.length&&e<this.blockRemain;i++)this.buf[i+this.offset]=0,e++,this.remain++;let t=this.offset===0&&e===this.buf.length?this.buf:this.buf.slice(this.offset,this.offset+e);this.write(t)?this[RJ]():this[LJ](()=>this[RJ]())}[LJ](e){this.once("drain",e)}write(e){if(this.blockRemain<e.length){let t=new Error("writing more data than expected");return t.path=this.absolute,this.emit("error",t)}return this.remain-=e.length,this.blockRemain-=e.length,this.pos+=e.length,this.offset+=e.length,super.write(e)}[RJ](){if(!this.remain)return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),this[IT](e=>e?this.emit("error",e):this.end());this.offset>=this.length&&(this.buf=Buffer.allocUnsafe(Math.min(this.blockRemain,this.buf.length)),this.offset=0),this.length=this.buf.length-this.offset,this[Uz]()}}),MJ=class extends Wz{[xJ](){this[Hz](bb.lstatSync(this.absolute))}[PJ](){this[IJ](bb.readlinkSync(this.absolute))}[kJ](){this[AJ](bb.openSync(this.absolute,"r"))}[Uz](){let e=!0;try{let{fd:t,buf:n,offset:i,length:o,pos:s}=this,a=bb.readSync(t,n,i,o,s);this[OJ](a),e=!1}finally{if(e)try{this[IT](()=>{})}catch{}}}[LJ](e){e()}[IT](e){bb.closeSync(this.fd),e()}},lmt=K0e(class extends W0e{constructor(e,t){t=t||{},super(t),this.preservePaths=!!t.preservePaths,this.portable=!!t.portable,this.strict=!!t.strict,this.noPax=!!t.noPax,this.noMtime=!!t.noMtime,this.readEntry=e,this.type=e.type,this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.prefix=t.prefix||null,this.path=_b(e.path),this.mode=this[Bz](e.mode),this.uid=this.portable?null:e.uid,this.gid=this.portable?null:e.gid,this.uname=this.portable?null:e.uname,this.gname=this.portable?null:e.gname,this.size=e.size,this.mtime=this.noMtime?null:t.mtime||e.mtime,this.atime=this.portable?null:e.atime,this.ctime=this.portable?null:e.ctime,this.linkpath=_b(e.linkpath),typeof t.onwarn=="function"&&this.on("warn",t.onwarn);let n=!1;if(!this.preservePaths){let[i,o]=Y0e(this.path);i&&(this.path=o,n=i)}this.remain=e.size,this.blockRemain=e.startBlockSize,this.header=new V0e({path:this[wb](this.path),linkpath:this.type==="Link"?this[wb](this.linkpath):this.linkpath,mode:this.mode,uid:this.portable?null:this.uid,gid:this.portable?null:this.gid,size:this.size,mtime:this.noMtime?null:this.mtime,type:this.type,uname:this.portable?null:this.uname,atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime}),n&&this.warn("TAR_ENTRY_INFO",`stripping ${n} from absolute path`,{entry:this,path:n+this.path}),this.header.encode()&&!this.noPax&&super.write(new $0e({atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime,gid:this.portable?null:this.gid,mtime:this.noMtime?null:this.mtime,path:this[wb](this.path),linkpath:this.type==="Link"?this[wb](this.linkpath):this.linkpath,size:this.size,uid:this.portable?null:this.uid,uname:this.portable?null:this.uname,dev:this.portable?null:this.readEntry.dev,ino:this.portable?null:this.readEntry.ino,nlink:this.portable?null:this.readEntry.nlink}).encode()),super.write(this.header.block),e.pipe(this)}[wb](e){return G0e(e,this.prefix)}[Bz](e){return J0e(e,this.type==="Directory",this.portable)}write(e){let t=e.length;if(t>this.blockRemain)throw new Error("writing more to entry than is appropriate");return this.blockRemain-=t,super.write(e)}end(){return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),super.end()}});Wz.Sync=MJ;Wz.Tar=lmt;var dmt=r=>r.isFile()?"File":r.isDirectory()?"Directory":r.isSymbolicLink()?"SymbolicLink":"Unsupported";X0e.exports=Wz});var Zz=C((MKt,oEe)=>{"use strict";var Xz=class{constructor(e,t){this.path=e||"./",this.absolute=t,this.entry=null,this.stat=null,this.readdir=null,this.pending=!1,this.ignore=!1,this.piped=!1}},{Minipass:fmt}=Rz(),Q0e=mJ(),hmt=Nz(),$J=NJ(),pmt=$J.Sync,mmt=$J.Tar,gmt=N2(),Z0e=Buffer.alloc(1024),Gz=Symbol("onStat"),$z=Symbol("ended"),Sb=Symbol("queue"),kP=Symbol("current"),J0=Symbol("process"),Vz=Symbol("processing"),eEe=Symbol("processJob"),Cb=Symbol("jobs"),FJ=Symbol("jobDone"),Kz=Symbol("addFSEntry"),tEe=Symbol("addTarEntry"),UJ=Symbol("stat"),HJ=Symbol("readdir"),Yz=Symbol("onreaddir"),Jz=Symbol("pipe"),rEe=Symbol("entry"),qJ=Symbol("entryOpt"),BJ=Symbol("writeEntryClass"),iEe=Symbol("write"),jJ=Symbol("ondrain"),Qz=require("fs"),nEe=require("path"),vmt=jz(),zJ=PP(),VJ=vmt(class extends fmt{constructor(e){if(super(e),e=e||Object.create(null),this.opt=e,this.file=e.file||"",this.cwd=e.cwd||process.cwd(),this.maxReadSize=e.maxReadSize,this.preservePaths=!!e.preservePaths,this.strict=!!e.strict,this.noPax=!!e.noPax,this.prefix=zJ(e.prefix||""),this.linkCache=e.linkCache||new Map,this.statCache=e.statCache||new Map,this.readdirCache=e.readdirCache||new Map,this[BJ]=$J,typeof e.onwarn=="function"&&this.on("warn",e.onwarn),this.portable=!!e.portable,this.zip=null,e.gzip||e.brotli){if(e.gzip&&e.brotli)throw new TypeError("gzip and brotli are mutually exclusive");e.gzip&&(typeof e.gzip!="object"&&(e.gzip={}),this.portable&&(e.gzip.portable=!0),this.zip=new Q0e.Gzip(e.gzip)),e.brotli&&(typeof e.brotli!="object"&&(e.brotli={}),this.zip=new Q0e.BrotliCompress(e.brotli)),this.zip.on("data",t=>super.write(t)),this.zip.on("end",t=>super.end()),this.zip.on("drain",t=>this[jJ]()),this.on("resume",t=>this.zip.resume())}else this.on("drain",this[jJ]);this.noDirRecurse=!!e.noDirRecurse,this.follow=!!e.follow,this.noMtime=!!e.noMtime,this.mtime=e.mtime||null,this.filter=typeof e.filter=="function"?e.filter:t=>!0,this[Sb]=new gmt,this[Cb]=0,this.jobs=+e.jobs||4,this[Vz]=!1,this[$z]=!1}[iEe](e){return super.write(e)}add(e){return this.write(e),this}end(e){return e&&this.write(e),this[$z]=!0,this[J0](),this}write(e){if(this[$z])throw new Error("write after end");return e instanceof hmt?this[tEe](e):this[Kz](e),this.flowing}[tEe](e){let t=zJ(nEe.resolve(this.cwd,e.path));if(!this.filter(e.path,e))e.resume();else{let n=new Xz(e.path,t,!1);n.entry=new mmt(e,this[qJ](n)),n.entry.on("end",i=>this[FJ](n)),this[Cb]+=1,this[Sb].push(n)}this[J0]()}[Kz](e){let t=zJ(nEe.resolve(this.cwd,e));this[Sb].push(new Xz(e,t)),this[J0]()}[UJ](e){e.pending=!0,this[Cb]+=1;let t=this.follow?"stat":"lstat";Qz[t](e.absolute,(n,i)=>{e.pending=!1,this[Cb]-=1,n?this.emit("error",n):this[Gz](e,i)})}[Gz](e,t){this.statCache.set(e.absolute,t),e.stat=t,this.filter(e.path,t)||(e.ignore=!0),this[J0]()}[HJ](e){e.pending=!0,this[Cb]+=1,Qz.readdir(e.absolute,(t,n)=>{if(e.pending=!1,this[Cb]-=1,t)return this.emit("error",t);this[Yz](e,n)})}[Yz](e,t){this.readdirCache.set(e.absolute,t),e.readdir=t,this[J0]()}[J0](){if(!this[Vz]){this[Vz]=!0;for(let e=this[Sb].head;e!==null&&this[Cb]<this.jobs;e=e.next)if(this[eEe](e.value),e.value.ignore){let t=e.next;this[Sb].removeNode(e),e.next=t}this[Vz]=!1,this[$z]&&!this[Sb].length&&this[Cb]===0&&(this.zip?this.zip.end(Z0e):(super.write(Z0e),super.end()))}}get[kP](){return this[Sb]&&this[Sb].head&&this[Sb].head.value}[FJ](e){this[Sb].shift(),this[Cb]-=1,this[J0]()}[eEe](e){if(!e.pending){if(e.entry){e===this[kP]&&!e.piped&&this[Jz](e);return}if(e.stat||(this.statCache.has(e.absolute)?this[Gz](e,this.statCache.get(e.absolute)):this[UJ](e)),!!e.stat&&!e.ignore&&!(!this.noDirRecurse&&e.stat.isDirectory()&&!e.readdir&&(this.readdirCache.has(e.absolute)?this[Yz](e,this.readdirCache.get(e.absolute)):this[HJ](e),!e.readdir))){if(e.entry=this[rEe](e),!e.entry){e.ignore=!0;return}e===this[kP]&&!e.piped&&this[Jz](e)}}}[qJ](e){return{onwarn:(t,n,i)=>this.warn(t,n,i),noPax:this.noPax,cwd:this.cwd,absolute:e.absolute,preservePaths:this.preservePaths,maxReadSize:this.maxReadSize,strict:this.strict,portable:this.portable,linkCache:this.linkCache,statCache:this.statCache,noMtime:this.noMtime,mtime:this.mtime,prefix:this.prefix}}[rEe](e){this[Cb]+=1;try{return new this[BJ](e.path,this[qJ](e)).on("end",()=>this[FJ](e)).on("error",t=>this.emit("error",t))}catch(t){this.emit("error",t)}}[jJ](){this[kP]&&this[kP].entry&&this[kP].entry.resume()}[Jz](e){e.piped=!0,e.readdir&&e.readdir.forEach(i=>{let o=e.path,s=o==="./"?"":o.replace(/\/*$/,"/");this[Kz](s+i)});let t=e.entry,n=this.zip;n?t.on("data",i=>{n.write(i)||t.pause()}):t.on("data",i=>{super.write(i)||t.pause()})}pause(){return this.zip&&this.zip.pause(),super.pause()}}),WJ=class extends VJ{constructor(e){super(e),this[BJ]=pmt}pause(){}resume(){}[UJ](e){let t=this.follow?"statSync":"lstatSync";this[Gz](e,Qz[t](e.absolute))}[HJ](e,t){this[Yz](e,Qz.readdirSync(e.absolute))}[Jz](e){let t=e.entry,n=this.zip;e.readdir&&e.readdir.forEach(i=>{let o=e.path,s=o==="./"?"":o.replace(/\/*$/,"/");this[Kz](s+i)}),n?t.on("data",i=>{n.write(i)}):t.on("data",i=>{super[iEe](i)})}};VJ.Sync=WJ;oEe.exports=VJ});var mEe=C((NKt,pEe)=>{"use strict";var sEe=typeof process=="object"&&process?process:{stdout:null,stderr:null},ymt=require("events"),aEe=require("stream"),cEe=require("string_decoder").StringDecoder,fS=Symbol("EOF"),hS=Symbol("maybeEmitEnd"),kT=Symbol("emittedEnd"),eU=Symbol("emittingEnd"),jL=Symbol("emittedError"),tU=Symbol("closed"),uEe=Symbol("read"),rU=Symbol("flush"),lEe=Symbol("flushChunk"),ym=Symbol("encoding"),pS=Symbol("decoder"),nU=Symbol("flowing"),zL=Symbol("paused"),AP=Symbol("resume"),Sd=Symbol("bufferLength"),GJ=Symbol("bufferPush"),KJ=Symbol("bufferShift"),ah=Symbol("objectMode"),ch=Symbol("destroyed"),YJ=Symbol("emitData"),dEe=Symbol("emitEnd"),JJ=Symbol("emitEnd2"),mS=Symbol("async"),UL=r=>Promise.resolve().then(r),fEe=global._MP_NO_ITERATOR_SYMBOLS_!=="1",_mt=fEe&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),bmt=fEe&&Symbol.iterator||Symbol("iterator not implemented"),wmt=r=>r==="end"||r==="finish"||r==="prefinish",Smt=r=>r instanceof ArrayBuffer||typeof r=="object"&&r.constructor&&r.constructor.name==="ArrayBuffer"&&r.byteLength>=0,Cmt=r=>!Buffer.isBuffer(r)&&ArrayBuffer.isView(r),iU=class{constructor(e,t,n){this.src=e,this.dest=t,this.opts=n,this.ondrain=()=>e[AP](),t.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},XJ=class extends iU{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,t,n){super(e,t,n),this.proxyErrors=i=>t.emit("error",i),e.on("error",this.proxyErrors)}};pEe.exports=class hEe extends aEe{constructor(e){super(),this[nU]=!1,this[zL]=!1,this.pipes=[],this.buffer=[],this[ah]=e&&e.objectMode||!1,this[ah]?this[ym]=null:this[ym]=e&&e.encoding||null,this[ym]==="buffer"&&(this[ym]=null),this[mS]=e&&!!e.async||!1,this[pS]=this[ym]?new cEe(this[ym]):null,this[fS]=!1,this[kT]=!1,this[eU]=!1,this[tU]=!1,this[jL]=null,this.writable=!0,this.readable=!0,this[Sd]=0,this[ch]=!1}get bufferLength(){return this[Sd]}get encoding(){return this[ym]}set encoding(e){if(this[ah])throw new Error("cannot set encoding in objectMode");if(this[ym]&&e!==this[ym]&&(this[pS]&&this[pS].lastNeed||this[Sd]))throw new Error("cannot change encoding");this[ym]!==e&&(this[pS]=e?new cEe(e):null,this.buffer.length&&(this.buffer=this.buffer.map(t=>this[pS].write(t)))),this[ym]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[ah]}set objectMode(e){this[ah]=this[ah]||!!e}get async(){return this[mS]}set async(e){this[mS]=this[mS]||!!e}write(e,t,n){if(this[fS])throw new Error("write after end");if(this[ch])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof t=="function"&&(n=t,t="utf8"),t||(t="utf8");let i=this[mS]?UL:o=>o();return!this[ah]&&!Buffer.isBuffer(e)&&(Cmt(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):Smt(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),this[ah]?(this.flowing&&this[Sd]!==0&&this[rU](!0),this.flowing?this.emit("data",e):this[GJ](e),this[Sd]!==0&&this.emit("readable"),n&&i(n),this.flowing):e.length?(typeof e=="string"&&!(t===this[ym]&&!this[pS].lastNeed)&&(e=Buffer.from(e,t)),Buffer.isBuffer(e)&&this[ym]&&(e=this[pS].write(e)),this.flowing&&this[Sd]!==0&&this[rU](!0),this.flowing?this.emit("data",e):this[GJ](e),this[Sd]!==0&&this.emit("readable"),n&&i(n),this.flowing):(this[Sd]!==0&&this.emit("readable"),n&&i(n),this.flowing)}read(e){if(this[ch])return null;if(this[Sd]===0||e===0||e>this[Sd])return this[hS](),null;this[ah]&&(e=null),this.buffer.length>1&&!this[ah]&&(this.encoding?this.buffer=[this.buffer.join("")]:this.buffer=[Buffer.concat(this.buffer,this[Sd])]);let t=this[uEe](e||null,this.buffer[0]);return this[hS](),t}[uEe](e,t){return e===t.length||e===null?this[KJ]():(this.buffer[0]=t.slice(e),t=t.slice(0,e),this[Sd]-=e),this.emit("data",t),!this.buffer.length&&!this[fS]&&this.emit("drain"),t}end(e,t,n){return typeof e=="function"&&(n=e,e=null),typeof t=="function"&&(n=t,t="utf8"),e&&this.write(e,t),n&&this.once("end",n),this[fS]=!0,this.writable=!1,(this.flowing||!this[zL])&&this[hS](),this}[AP](){this[ch]||(this[zL]=!1,this[nU]=!0,this.emit("resume"),this.buffer.length?this[rU]():this[fS]?this[hS]():this.emit("drain"))}resume(){return this[AP]()}pause(){this[nU]=!1,this[zL]=!0}get destroyed(){return this[ch]}get flowing(){return this[nU]}get paused(){return this[zL]}[GJ](e){this[ah]?this[Sd]+=1:this[Sd]+=e.length,this.buffer.push(e)}[KJ](){return this.buffer.length&&(this[ah]?this[Sd]-=1:this[Sd]-=this.buffer[0].length),this.buffer.shift()}[rU](e){do;while(this[lEe](this[KJ]()));!e&&!this.buffer.length&&!this[fS]&&this.emit("drain")}[lEe](e){return e?(this.emit("data",e),this.flowing):!1}pipe(e,t){if(this[ch])return;let n=this[kT];return t=t||{},e===sEe.stdout||e===sEe.stderr?t.end=!1:t.end=t.end!==!1,t.proxyErrors=!!t.proxyErrors,n?t.end&&e.end():(this.pipes.push(t.proxyErrors?new XJ(this,e,t):new iU(this,e,t)),this[mS]?UL(()=>this[AP]()):this[AP]()),e}unpipe(e){let t=this.pipes.find(n=>n.dest===e);t&&(this.pipes.splice(this.pipes.indexOf(t),1),t.unpipe())}addListener(e,t){return this.on(e,t)}on(e,t){let n=super.on(e,t);return e==="data"&&!this.pipes.length&&!this.flowing?this[AP]():e==="readable"&&this[Sd]!==0?super.emit("readable"):wmt(e)&&this[kT]?(super.emit(e),this.removeAllListeners(e)):e==="error"&&this[jL]&&(this[mS]?UL(()=>t.call(this,this[jL])):t.call(this,this[jL])),n}get emittedEnd(){return this[kT]}[hS](){!this[eU]&&!this[kT]&&!this[ch]&&this.buffer.length===0&&this[fS]&&(this[eU]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[tU]&&this.emit("close"),this[eU]=!1)}emit(e,t,...n){if(e!=="error"&&e!=="close"&&e!==ch&&this[ch])return;if(e==="data")return t?this[mS]?UL(()=>this[YJ](t)):this[YJ](t):!1;if(e==="end")return this[dEe]();if(e==="close"){if(this[tU]=!0,!this[kT]&&!this[ch])return;let o=super.emit("close");return this.removeAllListeners("close"),o}else if(e==="error"){this[jL]=t;let o=super.emit("error",t);return this[hS](),o}else if(e==="resume"){let o=super.emit("resume");return this[hS](),o}else if(e==="finish"||e==="prefinish"){let o=super.emit(e);return this.removeAllListeners(e),o}let i=super.emit(e,t,...n);return this[hS](),i}[YJ](e){for(let n of this.pipes)n.dest.write(e)===!1&&this.pause();let t=super.emit("data",e);return this[hS](),t}[dEe](){this[kT]||(this[kT]=!0,this.readable=!1,this[mS]?UL(()=>this[JJ]()):this[JJ]())}[JJ](){if(this[pS]){let t=this[pS].end();if(t){for(let n of this.pipes)n.dest.write(t);super.emit("data",t)}}for(let t of this.pipes)t.end();let e=super.emit("end");return this.removeAllListeners("end"),e}collect(){let e=[];this[ah]||(e.dataLength=0);let t=this.promise();return this.on("data",n=>{e.push(n),this[ah]||(e.dataLength+=n.length)}),t.then(()=>e)}concat(){return this[ah]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[ah]?Promise.reject(new Error("cannot concat in objectMode")):this[ym]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,t)=>{this.on(ch,()=>t(new Error("stream destroyed"))),this.on("error",n=>t(n)),this.on("end",()=>e())})}[_mt](){return{next:()=>{let t=this.read();if(t!==null)return Promise.resolve({done:!1,value:t});if(this[fS])return Promise.resolve({done:!0});let n=null,i=null,o=u=>{this.removeListener("data",s),this.removeListener("end",a),i(u)},s=u=>{this.removeListener("error",o),this.removeListener("end",a),this.pause(),n({value:u,done:!!this[fS]})},a=()=>{this.removeListener("error",o),this.removeListener("data",s),n({done:!0})},c=()=>o(new Error("stream destroyed"));return new Promise((u,l)=>{i=l,n=u,this.once(ch,c),this.once("error",o),this.once("end",a),this.once("data",s)})}}}[bmt](){return{next:()=>{let t=this.read();return{value:t,done:t===null}}}}destroy(e){return this[ch]?(e?this.emit("error",e):this.emit(ch),this):(this[ch]=!0,this.buffer.length=0,this[Sd]=0,typeof this.close=="function"&&!this[tU]&&this.close(),e?this.emit("error",e):this.emit(ch),this)}static isStream(e){return!!e&&(e instanceof hEe||e instanceof aEe||e instanceof ymt&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}}});var UP=C(BL=>{"use strict";var Tmt=mEe(),Dmt=require("events").EventEmitter,_m=require("fs"),eX=_m.writev;if(!eX){let r=process.binding("fs"),e=r.FSReqWrap||r.FSReqCallback;eX=(t,n,i,o)=>{let s=(c,u)=>o(c,u,n),a=new e;a.oncomplete=s,r.writeBuffers(t,n,i,a)}}var jP=Symbol("_autoClose"),Qy=Symbol("_close"),HL=Symbol("_ended"),ra=Symbol("_fd"),gEe=Symbol("_finished"),LT=Symbol("_flags"),QJ=Symbol("_flush"),tX=Symbol("_handleChunk"),rX=Symbol("_makeBuf"),uU=Symbol("_mode"),oU=Symbol("_needDrain"),FP=Symbol("_onerror"),zP=Symbol("_onopen"),ZJ=Symbol("_onread"),MP=Symbol("_onwrite"),MT=Symbol("_open"),gS=Symbol("_path"),X0=Symbol("_pos"),Tb=Symbol("_queue"),NP=Symbol("_read"),vEe=Symbol("_readSize"),AT=Symbol("_reading"),sU=Symbol("_remain"),yEe=Symbol("_size"),aU=Symbol("_write"),LP=Symbol("_writing"),cU=Symbol("_defaultFlag"),qP=Symbol("_errored"),lU=class extends Tmt{constructor(e,t){if(t=t||{},super(t),this.readable=!0,this.writable=!1,typeof e!="string")throw new TypeError("path must be a string");this[qP]=!1,this[ra]=typeof t.fd=="number"?t.fd:null,this[gS]=e,this[vEe]=t.readSize||16*1024*1024,this[AT]=!1,this[yEe]=typeof t.size=="number"?t.size:1/0,this[sU]=this[yEe],this[jP]=typeof t.autoClose=="boolean"?t.autoClose:!0,typeof this[ra]=="number"?this[NP]():this[MT]()}get fd(){return this[ra]}get path(){return this[gS]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[MT](){_m.open(this[gS],"r",(e,t)=>this[zP](e,t))}[zP](e,t){e?this[FP](e):(this[ra]=t,this.emit("open",t),this[NP]())}[rX](){return Buffer.allocUnsafe(Math.min(this[vEe],this[sU]))}[NP](){if(!this[AT]){this[AT]=!0;let e=this[rX]();if(e.length===0)return process.nextTick(()=>this[ZJ](null,0,e));_m.read(this[ra],e,0,e.length,null,(t,n,i)=>this[ZJ](t,n,i))}}[ZJ](e,t,n){this[AT]=!1,e?this[FP](e):this[tX](t,n)&&this[NP]()}[Qy](){if(this[jP]&&typeof this[ra]=="number"){let e=this[ra];this[ra]=null,_m.close(e,t=>t?this.emit("error",t):this.emit("close"))}}[FP](e){this[AT]=!0,this[Qy](),this.emit("error",e)}[tX](e,t){let n=!1;return this[sU]-=e,e>0&&(n=super.write(e<t.length?t.slice(0,e):t)),(e===0||this[sU]<=0)&&(n=!1,this[Qy](),super.end()),n}emit(e,t){switch(e){case"prefinish":case"finish":break;case"drain":typeof this[ra]=="number"&&this[NP]();break;case"error":return this[qP]?void 0:(this[qP]=!0,super.emit(e,t));default:return super.emit(e,t)}}},nX=class extends lU{[MT](){let e=!0;try{this[zP](null,_m.openSync(this[gS],"r")),e=!1}finally{e&&this[Qy]()}}[NP](){let e=!0;try{if(!this[AT]){this[AT]=!0;do{let t=this[rX](),n=t.length===0?0:_m.readSync(this[ra],t,0,t.length,null);if(!this[tX](n,t))break}while(!0);this[AT]=!1}e=!1}finally{e&&this[Qy]()}}[Qy](){if(this[jP]&&typeof this[ra]=="number"){let e=this[ra];this[ra]=null,_m.closeSync(e),this.emit("close")}}},dU=class extends Dmt{constructor(e,t){t=t||{},super(t),this.readable=!1,this.writable=!0,this[qP]=!1,this[LP]=!1,this[HL]=!1,this[oU]=!1,this[Tb]=[],this[gS]=e,this[ra]=typeof t.fd=="number"?t.fd:null,this[uU]=t.mode===void 0?438:t.mode,this[X0]=typeof t.start=="number"?t.start:null,this[jP]=typeof t.autoClose=="boolean"?t.autoClose:!0;let n=this[X0]!==null?"r+":"w";this[cU]=t.flags===void 0,this[LT]=this[cU]?n:t.flags,this[ra]===null&&this[MT]()}emit(e,t){if(e==="error"){if(this[qP])return;this[qP]=!0}return super.emit(e,t)}get fd(){return this[ra]}get path(){return this[gS]}[FP](e){this[Qy](),this[LP]=!0,this.emit("error",e)}[MT](){_m.open(this[gS],this[LT],this[uU],(e,t)=>this[zP](e,t))}[zP](e,t){this[cU]&&this[LT]==="r+"&&e&&e.code==="ENOENT"?(this[LT]="w",this[MT]()):e?this[FP](e):(this[ra]=t,this.emit("open",t),this[QJ]())}end(e,t){return e&&this.write(e,t),this[HL]=!0,!this[LP]&&!this[Tb].length&&typeof this[ra]=="number"&&this[MP](null,0),this}write(e,t){return typeof e=="string"&&(e=Buffer.from(e,t)),this[HL]?(this.emit("error",new Error("write() after end()")),!1):this[ra]===null||this[LP]||this[Tb].length?(this[Tb].push(e),this[oU]=!0,!1):(this[LP]=!0,this[aU](e),!0)}[aU](e){_m.write(this[ra],e,0,e.length,this[X0],(t,n)=>this[MP](t,n))}[MP](e,t){e?this[FP](e):(this[X0]!==null&&(this[X0]+=t),this[Tb].length?this[QJ]():(this[LP]=!1,this[HL]&&!this[gEe]?(this[gEe]=!0,this[Qy](),this.emit("finish")):this[oU]&&(this[oU]=!1,this.emit("drain"))))}[QJ](){if(this[Tb].length===0)this[HL]&&this[MP](null,0);else if(this[Tb].length===1)this[aU](this[Tb].pop());else{let e=this[Tb];this[Tb]=[],eX(this[ra],e,this[X0],(t,n)=>this[MP](t,n))}}[Qy](){if(this[jP]&&typeof this[ra]=="number"){let e=this[ra];this[ra]=null,_m.close(e,t=>t?this.emit("error",t):this.emit("close"))}}},iX=class extends dU{[MT](){let e;if(this[cU]&&this[LT]==="r+")try{e=_m.openSync(this[gS],this[LT],this[uU])}catch(t){if(t.code==="ENOENT")return this[LT]="w",this[MT]();throw t}else e=_m.openSync(this[gS],this[LT],this[uU]);this[zP](null,e)}[Qy](){if(this[jP]&&typeof this[ra]=="number"){let e=this[ra];this[ra]=null,_m.closeSync(e),this.emit("close")}}[aU](e){let t=!0;try{this[MP](null,_m.writeSync(this[ra],e,0,e.length,this[X0])),t=!1}finally{if(t)try{this[Qy]()}catch{}}}};BL.ReadStream=lU;BL.ReadStreamSync=nX;BL.WriteStream=dU;BL.WriteStreamSync=iX});var yU=C((jKt,PEe)=>{"use strict";var Emt=jz(),_Ee=OP(),Rmt=require("events"),Pmt=N2(),xmt=1024*1024,Omt=Nz(),bEe=qz(),wEe=mJ(),{nextTick:Imt}=require("process"),oX=Buffer.from([31,139]),Mv=Symbol("state"),Q0=Symbol("writeEntry"),vS=Symbol("readEntry"),sX=Symbol("nextEntry"),SEe=Symbol("processEntry"),Nv=Symbol("extendedHeader"),WL=Symbol("globalExtendedHeader"),NT=Symbol("meta"),CEe=Symbol("emitMeta"),Da=Symbol("buffer"),yS=Symbol("queue"),FT=Symbol("ended"),TEe=Symbol("emittedEnd"),Z0=Symbol("emit"),Cd=Symbol("unzip"),fU=Symbol("consumeChunk"),hU=Symbol("consumeChunkSub"),aX=Symbol("consumeBody"),DEe=Symbol("consumeMeta"),EEe=Symbol("consumeHeader"),pU=Symbol("consuming"),cX=Symbol("bufferConcat"),uX=Symbol("maybeEnd"),$L=Symbol("writing"),qT=Symbol("aborted"),mU=Symbol("onDone"),eE=Symbol("sawValidEntry"),gU=Symbol("sawNullBlock"),vU=Symbol("sawEOF"),REe=Symbol("closeStream"),kmt=r=>!0;PEe.exports=Emt(class extends Rmt{constructor(e){e=e||{},super(e),this.file=e.file||"",this[eE]=null,this.on(mU,n=>{(this[Mv]==="begin"||this[eE]===!1)&&this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")}),e.ondone?this.on(mU,e.ondone):this.on(mU,n=>{this.emit("prefinish"),this.emit("finish"),this.emit("end")}),this.strict=!!e.strict,this.maxMetaEntrySize=e.maxMetaEntrySize||xmt,this.filter=typeof e.filter=="function"?e.filter:kmt;let t=e.file&&(e.file.endsWith(".tar.br")||e.file.endsWith(".tbr"));this.brotli=!e.gzip&&e.brotli!==void 0?e.brotli:t?void 0:!1,this.writable=!0,this.readable=!1,this[yS]=new Pmt,this[Da]=null,this[vS]=null,this[Q0]=null,this[Mv]="begin",this[NT]="",this[Nv]=null,this[WL]=null,this[FT]=!1,this[Cd]=null,this[qT]=!1,this[gU]=!1,this[vU]=!1,this.on("end",()=>this[REe]()),typeof e.onwarn=="function"&&this.on("warn",e.onwarn),typeof e.onentry=="function"&&this.on("entry",e.onentry)}[EEe](e,t){this[eE]===null&&(this[eE]=!1);let n;try{n=new _Ee(e,t,this[Nv],this[WL])}catch(i){return this.warn("TAR_ENTRY_INVALID",i)}if(n.nullBlock)this[gU]?(this[vU]=!0,this[Mv]==="begin"&&(this[Mv]="header"),this[Z0]("eof")):(this[gU]=!0,this[Z0]("nullBlock"));else if(this[gU]=!1,!n.cksumValid)this.warn("TAR_ENTRY_INVALID","checksum failure",{header:n});else if(!n.path)this.warn("TAR_ENTRY_INVALID","path is required",{header:n});else{let i=n.type;if(/^(Symbolic)?Link$/.test(i)&&!n.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath required",{header:n});else if(!/^(Symbolic)?Link$/.test(i)&&n.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:n});else{let o=this[Q0]=new Omt(n,this[Nv],this[WL]);if(!this[eE])if(o.remain){let s=()=>{o.invalid||(this[eE]=!0)};o.on("end",s)}else this[eE]=!0;o.meta?o.size>this.maxMetaEntrySize?(o.ignore=!0,this[Z0]("ignoredEntry",o),this[Mv]="ignore",o.resume()):o.size>0&&(this[NT]="",o.on("data",s=>this[NT]+=s),this[Mv]="meta"):(this[Nv]=null,o.ignore=o.ignore||!this.filter(o.path,o),o.ignore?(this[Z0]("ignoredEntry",o),this[Mv]=o.remain?"ignore":"header",o.resume()):(o.remain?this[Mv]="body":(this[Mv]="header",o.end()),this[vS]?this[yS].push(o):(this[yS].push(o),this[sX]())))}}}[REe](){Imt(()=>this.emit("close"))}[SEe](e){let t=!0;return e?Array.isArray(e)?this.emit.apply(this,e):(this[vS]=e,this.emit("entry",e),e.emittedEnd||(e.on("end",n=>this[sX]()),t=!1)):(this[vS]=null,t=!1),t}[sX](){do;while(this[SEe](this[yS].shift()));if(!this[yS].length){let e=this[vS];!e||e.flowing||e.size===e.remain?this[$L]||this.emit("drain"):e.once("drain",n=>this.emit("drain"))}}[aX](e,t){let n=this[Q0],i=n.blockRemain,o=i>=e.length&&t===0?e:e.slice(t,t+i);return n.write(o),n.blockRemain||(this[Mv]="header",this[Q0]=null,n.end()),o.length}[DEe](e,t){let n=this[Q0],i=this[aX](e,t);return this[Q0]||this[CEe](n),i}[Z0](e,t,n){!this[yS].length&&!this[vS]?this.emit(e,t,n):this[yS].push([e,t,n])}[CEe](e){switch(this[Z0]("meta",this[NT]),e.type){case"ExtendedHeader":case"OldExtendedHeader":this[Nv]=bEe.parse(this[NT],this[Nv],!1);break;case"GlobalExtendedHeader":this[WL]=bEe.parse(this[NT],this[WL],!0);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[Nv]=this[Nv]||Object.create(null),this[Nv].path=this[NT].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[Nv]=this[Nv]||Object.create(null),this[Nv].linkpath=this[NT].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+e.type)}}abort(e){this[qT]=!0,this.emit("abort",e),this.warn("TAR_ABORT",e,{recoverable:!1})}write(e){if(this[qT])return;if((this[Cd]===null||this.brotli===void 0&&this[Cd]===!1)&&e){if(this[Da]&&(e=Buffer.concat([this[Da],e]),this[Da]=null),e.length<oX.length)return this[Da]=e,!0;for(let o=0;this[Cd]===null&&o<oX.length;o++)e[o]!==oX[o]&&(this[Cd]=!1);let i=this.brotli===void 0;if(this[Cd]===!1&&i)if(e.length<512)if(this[FT])this.brotli=!0;else return this[Da]=e,!0;else try{new _Ee(e.slice(0,512)),this.brotli=!1}catch{this.brotli=!0}if(this[Cd]===null||this[Cd]===!1&&this.brotli){let o=this[FT];this[FT]=!1,this[Cd]=this[Cd]===null?new wEe.Unzip:new wEe.BrotliDecompress,this[Cd].on("data",a=>this[fU](a)),this[Cd].on("error",a=>this.abort(a)),this[Cd].on("end",a=>{this[FT]=!0,this[fU]()}),this[$L]=!0;let s=this[Cd][o?"end":"write"](e);return this[$L]=!1,s}}this[$L]=!0,this[Cd]?this[Cd].write(e):this[fU](e),this[$L]=!1;let n=this[yS].length?!1:this[vS]?this[vS].flowing:!0;return!n&&!this[yS].length&&this[vS].once("drain",i=>this.emit("drain")),n}[cX](e){e&&!this[qT]&&(this[Da]=this[Da]?Buffer.concat([this[Da],e]):e)}[uX](){if(this[FT]&&!this[TEe]&&!this[qT]&&!this[pU]){this[TEe]=!0;let e=this[Q0];if(e&&e.blockRemain){let t=this[Da]?this[Da].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${e.blockRemain} more bytes, only ${t} available)`,{entry:e}),this[Da]&&e.write(this[Da]),e.end()}this[Z0](mU)}}[fU](e){if(this[pU])this[cX](e);else if(!e&&!this[Da])this[uX]();else{if(this[pU]=!0,this[Da]){this[cX](e);let t=this[Da];this[Da]=null,this[hU](t)}else this[hU](e);for(;this[Da]&&this[Da].length>=512&&!this[qT]&&!this[vU];){let t=this[Da];this[Da]=null,this[hU](t)}this[pU]=!1}(!this[Da]||this[FT])&&this[uX]()}[hU](e){let t=0,n=e.length;for(;t+512<=n&&!this[qT]&&!this[vU];)switch(this[Mv]){case"begin":case"header":this[EEe](e,t),t+=512;break;case"ignore":case"body":t+=this[aX](e,t);break;case"meta":t+=this[DEe](e,t);break;default:throw new Error("invalid state: "+this[Mv])}t<n&&(this[Da]?this[Da]=Buffer.concat([e.slice(t),this[Da]]):this[Da]=e.slice(t))}end(e){this[qT]||(this[Cd]?this[Cd].end(e):(this[FT]=!0,this.brotli===void 0&&(e=e||Buffer.alloc(0)),this.write(e)))}})});var _U=C((zKt,kEe)=>{"use strict";var Amt=CP(),OEe=yU(),HP=require("fs"),Lmt=UP(),xEe=require("path"),lX=IP();kEe.exports=(r,e,t)=>{typeof r=="function"?(t=r,e=null,r={}):Array.isArray(r)&&(e=r,r={}),typeof e=="function"&&(t=e,e=null),e?e=Array.from(e):e=[];let n=Amt(r);if(n.sync&&typeof t=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof t=="function")throw new TypeError("callback only supported with file option");return e.length&&Nmt(n,e),n.noResume||Mmt(n),n.file&&n.sync?Fmt(n):n.file?qmt(n,t):IEe(n)};var Mmt=r=>{let e=r.onentry;r.onentry=e?t=>{e(t),t.resume()}:t=>t.resume()},Nmt=(r,e)=>{let t=new Map(e.map(o=>[lX(o),!0])),n=r.filter,i=(o,s)=>{let a=s||xEe.parse(o).root||".",c=o===a?!1:t.has(o)?t.get(o):i(xEe.dirname(o),a);return t.set(o,c),c};r.filter=n?(o,s)=>n(o,s)&&i(lX(o)):o=>i(lX(o))},Fmt=r=>{let e=IEe(r),t=r.file,n=!0,i;try{let o=HP.statSync(t),s=r.maxReadSize||16*1024*1024;if(o.size<s)e.end(HP.readFileSync(t));else{let a=0,c=Buffer.allocUnsafe(s);for(i=HP.openSync(t,"r");a<o.size;){let u=HP.readSync(i,c,0,s,a);a+=u,e.write(c.slice(0,u))}e.end()}n=!1}finally{if(n&&i)try{HP.closeSync(i)}catch{}}},qmt=(r,e)=>{let t=new OEe(r),n=r.maxReadSize||16*1024*1024,i=r.file,o=new Promise((s,a)=>{t.on("error",a),t.on("end",s),HP.stat(i,(c,u)=>{if(c)a(c);else{let l=new Lmt.ReadStream(i,{readSize:n,size:u.size});l.on("error",a),l.pipe(t)}})});return e?o.then(e,e):o},IEe=r=>new OEe(r)});var qEe=C((UKt,FEe)=>{"use strict";var jmt=CP(),bU=Zz(),AEe=UP(),LEe=_U(),MEe=require("path");FEe.exports=(r,e,t)=>{if(typeof e=="function"&&(t=e),Array.isArray(r)&&(e=r,r={}),!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");e=Array.from(e);let n=jmt(r);if(n.sync&&typeof t=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof t=="function")throw new TypeError("callback only supported with file option");return n.file&&n.sync?zmt(n,e):n.file?Umt(n,e,t):n.sync?Hmt(n,e):Bmt(n,e)};var zmt=(r,e)=>{let t=new bU.Sync(r),n=new AEe.WriteStreamSync(r.file,{mode:r.mode||438});t.pipe(n),NEe(t,e)},Umt=(r,e,t)=>{let n=new bU(r),i=new AEe.WriteStream(r.file,{mode:r.mode||438});n.pipe(i);let o=new Promise((s,a)=>{i.on("error",a),i.on("close",s),n.on("error",a)});return dX(n,e),t?o.then(t,t):o},NEe=(r,e)=>{e.forEach(t=>{t.charAt(0)==="@"?LEe({file:MEe.resolve(r.cwd,t.slice(1)),sync:!0,noResume:!0,onentry:n=>r.add(n)}):r.add(t)}),r.end()},dX=(r,e)=>{for(;e.length;){let t=e.shift();if(t.charAt(0)==="@")return LEe({file:MEe.resolve(r.cwd,t.slice(1)),noResume:!0,onentry:n=>r.add(n)}).then(n=>dX(r,e));r.add(t)}r.end()},Hmt=(r,e)=>{let t=new bU.Sync(r);return NEe(t,e),t},Bmt=(r,e)=>{let t=new bU(r);return dX(t,e),t}});var fX=C((HKt,$Ee)=>{"use strict";var Wmt=CP(),jEe=Zz(),Rg=require("fs"),zEe=UP(),UEe=_U(),HEe=require("path"),BEe=OP();$Ee.exports=(r,e,t)=>{let n=Wmt(r);if(!n.file)throw new TypeError("file is required");if(n.gzip||n.brotli||n.file.endsWith(".br")||n.file.endsWith(".tbr"))throw new TypeError("cannot append to compressed archives");if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");return e=Array.from(e),n.sync?$mt(n,e):Gmt(n,e,t)};var $mt=(r,e)=>{let t=new jEe.Sync(r),n=!0,i,o;try{try{i=Rg.openSync(r.file,"r+")}catch(c){if(c.code==="ENOENT")i=Rg.openSync(r.file,"w+");else throw c}let s=Rg.fstatSync(i),a=Buffer.alloc(512);e:for(o=0;o<s.size;o+=512){for(let l=0,d=0;l<512;l+=d){if(d=Rg.readSync(i,a,l,a.length-l,o+l),o===0&&a[0]===31&&a[1]===139)throw new Error("cannot append to compressed archives");if(!d)break e}let c=new BEe(a);if(!c.cksumValid)break;let u=512*Math.ceil(c.size/512);if(o+u+512>s.size)break;o+=u,r.mtimeCache&&r.mtimeCache.set(c.path,c.mtime)}n=!1,Vmt(r,t,o,i,e)}finally{if(n)try{Rg.closeSync(i)}catch{}}},Vmt=(r,e,t,n,i)=>{let o=new zEe.WriteStreamSync(r.file,{fd:n,start:t});e.pipe(o),Kmt(e,i)},Gmt=(r,e,t)=>{e=Array.from(e);let n=new jEe(r),i=(s,a,c)=>{let u=(_,D)=>{_?Rg.close(s,P=>c(_)):c(null,D)},l=0;if(a===0)return u(null,0);let d=0,f=Buffer.alloc(512),p=(_,D)=>{if(_)return u(_);if(d+=D,d<512&&D)return Rg.read(s,f,d,f.length-d,l+d,p);if(l===0&&f[0]===31&&f[1]===139)return u(new Error("cannot append to compressed archives"));if(d<512)return u(null,l);let P=new BEe(f);if(!P.cksumValid)return u(null,l);let M=512*Math.ceil(P.size/512);if(l+M+512>a||(l+=M+512,l>=a))return u(null,l);r.mtimeCache&&r.mtimeCache.set(P.path,P.mtime),d=0,Rg.read(s,f,0,512,l,p)};Rg.read(s,f,0,512,l,p)},o=new Promise((s,a)=>{n.on("error",a);let c="r+",u=(l,d)=>{if(l&&l.code==="ENOENT"&&c==="r+")return c="w+",Rg.open(r.file,c,u);if(l)return a(l);Rg.fstat(d,(f,p)=>{if(f)return Rg.close(d,()=>a(f));i(d,p.size,(_,D)=>{if(_)return a(_);let P=new zEe.WriteStream(r.file,{fd:d,start:D});n.pipe(P),P.on("error",a),P.on("close",s),WEe(n,e)})})};Rg.open(r.file,c,u)});return t?o.then(t,t):o},Kmt=(r,e)=>{e.forEach(t=>{t.charAt(0)==="@"?UEe({file:HEe.resolve(r.cwd,t.slice(1)),sync:!0,noResume:!0,onentry:n=>r.add(n)}):r.add(t)}),r.end()},WEe=(r,e)=>{for(;e.length;){let t=e.shift();if(t.charAt(0)==="@")return UEe({file:HEe.resolve(r.cwd,t.slice(1)),noResume:!0,onentry:n=>r.add(n)}).then(n=>WEe(r,e));r.add(t)}r.end()}});var GEe=C((BKt,VEe)=>{"use strict";var Ymt=CP(),Jmt=fX();VEe.exports=(r,e,t)=>{let n=Ymt(r);if(!n.file)throw new TypeError("file is required");if(n.gzip||n.brotli||n.file.endsWith(".br")||n.file.endsWith(".tbr"))throw new TypeError("cannot append to compressed archives");if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");return e=Array.from(e),Xmt(n),Jmt(n,e,t)};var Xmt=r=>{let e=r.filter;r.mtimeCache||(r.mtimeCache=new Map),r.filter=e?(t,n)=>e(t,n)&&!(r.mtimeCache.get(t)>n.mtime):(t,n)=>!(r.mtimeCache.get(t)>n.mtime)}});var JEe=C((WKt,YEe)=>{var{promisify:KEe}=require("util"),jT=require("fs"),Qmt=r=>{if(!r)r={mode:511,fs:jT};else if(typeof r=="object")r={mode:511,fs:jT,...r};else if(typeof r=="number")r={mode:r,fs:jT};else if(typeof r=="string")r={mode:parseInt(r,8),fs:jT};else throw new TypeError("invalid options argument");return r.mkdir=r.mkdir||r.fs.mkdir||jT.mkdir,r.mkdirAsync=KEe(r.mkdir),r.stat=r.stat||r.fs.stat||jT.stat,r.statAsync=KEe(r.stat),r.statSync=r.statSync||r.fs.statSync||jT.statSync,r.mkdirSync=r.mkdirSync||r.fs.mkdirSync||jT.mkdirSync,r};YEe.exports=Qmt});var QEe=C(($Kt,XEe)=>{var Zmt=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,{resolve:egt,parse:tgt}=require("path"),rgt=r=>{if(/\0/.test(r))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:r,code:"ERR_INVALID_ARG_VALUE"});if(r=egt(r),Zmt==="win32"){let e=/[*|"<>?:]/,{root:t}=tgt(r);if(e.test(r.substr(t.length)))throw Object.assign(new Error("Illegal characters in path."),{path:r,code:"EINVAL"})}return r};XEe.exports=rgt});var nRe=C((VKt,rRe)=>{var{dirname:ZEe}=require("path"),eRe=(r,e,t=void 0)=>t===e?Promise.resolve():r.statAsync(e).then(n=>n.isDirectory()?t:void 0,n=>n.code==="ENOENT"?eRe(r,ZEe(e),e):void 0),tRe=(r,e,t=void 0)=>{if(t!==e)try{return r.statSync(e).isDirectory()?t:void 0}catch(n){return n.code==="ENOENT"?tRe(r,ZEe(e),e):void 0}};rRe.exports={findMade:eRe,findMadeSync:tRe}});var mX=C((GKt,oRe)=>{var{dirname:iRe}=require("path"),hX=(r,e,t)=>{e.recursive=!1;let n=iRe(r);return n===r?e.mkdirAsync(r,e).catch(i=>{if(i.code!=="EISDIR")throw i}):e.mkdirAsync(r,e).then(()=>t||r,i=>{if(i.code==="ENOENT")return hX(n,e).then(o=>hX(r,e,o));if(i.code!=="EEXIST"&&i.code!=="EROFS")throw i;return e.statAsync(r).then(o=>{if(o.isDirectory())return t;throw i},()=>{throw i})})},pX=(r,e,t)=>{let n=iRe(r);if(e.recursive=!1,n===r)try{return e.mkdirSync(r,e)}catch(i){if(i.code!=="EISDIR")throw i;return}try{return e.mkdirSync(r,e),t||r}catch(i){if(i.code==="ENOENT")return pX(r,e,pX(n,e,t));if(i.code!=="EEXIST"&&i.code!=="EROFS")throw i;try{if(!e.statSync(r).isDirectory())throw i}catch{throw i}}};oRe.exports={mkdirpManual:hX,mkdirpManualSync:pX}});var cRe=C((KKt,aRe)=>{var{dirname:sRe}=require("path"),{findMade:ngt,findMadeSync:igt}=nRe(),{mkdirpManual:ogt,mkdirpManualSync:sgt}=mX(),agt=(r,e)=>(e.recursive=!0,sRe(r)===r?e.mkdirAsync(r,e):ngt(e,r).then(n=>e.mkdirAsync(r,e).then(()=>n).catch(i=>{if(i.code==="ENOENT")return ogt(r,e);throw i}))),cgt=(r,e)=>{if(e.recursive=!0,sRe(r)===r)return e.mkdirSync(r,e);let n=igt(e,r);try{return e.mkdirSync(r,e),n}catch(i){if(i.code==="ENOENT")return sgt(r,e);throw i}};aRe.exports={mkdirpNative:agt,mkdirpNativeSync:cgt}});var fRe=C((YKt,dRe)=>{var uRe=require("fs"),ugt=process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version,gX=ugt.replace(/^v/,"").split("."),lRe=+gX[0]>10||+gX[0]==10&&+gX[1]>=12,lgt=lRe?r=>r.mkdir===uRe.mkdir:()=>!1,dgt=lRe?r=>r.mkdirSync===uRe.mkdirSync:()=>!1;dRe.exports={useNative:lgt,useNativeSync:dgt}});var yRe=C((JKt,vRe)=>{var BP=JEe(),WP=QEe(),{mkdirpNative:hRe,mkdirpNativeSync:pRe}=cRe(),{mkdirpManual:mRe,mkdirpManualSync:gRe}=mX(),{useNative:fgt,useNativeSync:hgt}=fRe(),$P=(r,e)=>(r=WP(r),e=BP(e),fgt(e)?hRe(r,e):mRe(r,e)),pgt=(r,e)=>(r=WP(r),e=BP(e),hgt(e)?pRe(r,e):gRe(r,e));$P.sync=pgt;$P.native=(r,e)=>hRe(WP(r),BP(e));$P.manual=(r,e)=>mRe(WP(r),BP(e));$P.nativeSync=(r,e)=>pRe(WP(r),BP(e));$P.manualSync=(r,e)=>gRe(WP(r),BP(e));vRe.exports=$P});var DRe=C((XKt,TRe)=>{"use strict";var Fv=require("fs"),tE=require("path"),mgt=Fv.lchown?"lchown":"chown",ggt=Fv.lchownSync?"lchownSync":"chownSync",bRe=Fv.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),_Re=(r,e,t)=>{try{return Fv[ggt](r,e,t)}catch(n){if(n.code!=="ENOENT")throw n}},vgt=(r,e,t)=>{try{return Fv.chownSync(r,e,t)}catch(n){if(n.code!=="ENOENT")throw n}},ygt=bRe?(r,e,t,n)=>i=>{!i||i.code!=="EISDIR"?n(i):Fv.chown(r,e,t,n)}:(r,e,t,n)=>n,vX=bRe?(r,e,t)=>{try{return _Re(r,e,t)}catch(n){if(n.code!=="EISDIR")throw n;vgt(r,e,t)}}:(r,e,t)=>_Re(r,e,t),_gt=process.version,wRe=(r,e,t)=>Fv.readdir(r,e,t),bgt=(r,e)=>Fv.readdirSync(r,e);/^v4\./.test(_gt)&&(wRe=(r,e,t)=>Fv.readdir(r,t));var wU=(r,e,t,n)=>{Fv[mgt](r,e,t,ygt(r,e,t,i=>{n(i&&i.code!=="ENOENT"?i:null)}))},SRe=(r,e,t,n,i)=>{if(typeof e=="string")return Fv.lstat(tE.resolve(r,e),(o,s)=>{if(o)return i(o.code!=="ENOENT"?o:null);s.name=e,SRe(r,s,t,n,i)});if(e.isDirectory())yX(tE.resolve(r,e.name),t,n,o=>{if(o)return i(o);let s=tE.resolve(r,e.name);wU(s,t,n,i)});else{let o=tE.resolve(r,e.name);wU(o,t,n,i)}},yX=(r,e,t,n)=>{wRe(r,{withFileTypes:!0},(i,o)=>{if(i){if(i.code==="ENOENT")return n();if(i.code!=="ENOTDIR"&&i.code!=="ENOTSUP")return n(i)}if(i||!o.length)return wU(r,e,t,n);let s=o.length,a=null,c=u=>{if(!a){if(u)return n(a=u);if(--s===0)return wU(r,e,t,n)}};o.forEach(u=>SRe(r,u,e,t,c))})},wgt=(r,e,t,n)=>{if(typeof e=="string")try{let i=Fv.lstatSync(tE.resolve(r,e));i.name=e,e=i}catch(i){if(i.code==="ENOENT")return;throw i}e.isDirectory()&&CRe(tE.resolve(r,e.name),t,n),vX(tE.resolve(r,e.name),t,n)},CRe=(r,e,t)=>{let n;try{n=bgt(r,{withFileTypes:!0})}catch(i){if(i.code==="ENOENT")return;if(i.code==="ENOTDIR"||i.code==="ENOTSUP")return vX(r,e,t);throw i}return n&&n.length&&n.forEach(i=>wgt(r,i,e,t)),vX(r,e,t)};TRe.exports=yX;yX.sync=CRe});var xRe=C((QKt,_X)=>{"use strict";var ERe=yRe(),qv=require("fs"),SU=require("path"),RRe=DRe(),Zy=PP(),CU=class extends Error{constructor(e,t){super("Cannot extract through symbolic link"),this.path=t,this.symlink=e}get name(){return"SylinkError"}},TU=class extends Error{constructor(e,t){super(t+": Cannot cd into '"+e+"'"),this.path=e,this.code=t}get name(){return"CwdError"}},DU=(r,e)=>r.get(Zy(e)),VL=(r,e,t)=>r.set(Zy(e),t),Sgt=(r,e)=>{qv.stat(r,(t,n)=>{(t||!n.isDirectory())&&(t=new TU(r,t&&t.code||"ENOTDIR")),e(t)})};_X.exports=(r,e,t)=>{r=Zy(r);let n=e.umask,i=e.mode|448,o=(i&n)!==0,s=e.uid,a=e.gid,c=typeof s=="number"&&typeof a=="number"&&(s!==e.processUid||a!==e.processGid),u=e.preserve,l=e.unlink,d=e.cache,f=Zy(e.cwd),p=(P,M)=>{P?t(P):(VL(d,r,!0),M&&c?RRe(M,s,a,A=>p(A)):o?qv.chmod(r,i,t):t())};if(d&&DU(d,r)===!0)return p();if(r===f)return Sgt(r,p);if(u)return ERe(r,{mode:i}).then(P=>p(null,P),p);let D=Zy(SU.relative(f,r)).split("/");EU(f,D,i,d,l,f,null,p)};var EU=(r,e,t,n,i,o,s,a)=>{if(!e.length)return a(null,s);let c=e.shift(),u=Zy(SU.resolve(r+"/"+c));if(DU(n,u))return EU(u,e,t,n,i,o,s,a);qv.mkdir(u,t,PRe(u,e,t,n,i,o,s,a))},PRe=(r,e,t,n,i,o,s,a)=>c=>{c?qv.lstat(r,(u,l)=>{if(u)u.path=u.path&&Zy(u.path),a(u);else if(l.isDirectory())EU(r,e,t,n,i,o,s,a);else if(i)qv.unlink(r,d=>{if(d)return a(d);qv.mkdir(r,t,PRe(r,e,t,n,i,o,s,a))});else{if(l.isSymbolicLink())return a(new CU(r,r+"/"+e.join("/")));a(c)}}):(s=s||r,EU(r,e,t,n,i,o,s,a))},Cgt=r=>{let e=!1,t="ENOTDIR";try{e=qv.statSync(r).isDirectory()}catch(n){t=n.code}finally{if(!e)throw new TU(r,t)}};_X.exports.sync=(r,e)=>{r=Zy(r);let t=e.umask,n=e.mode|448,i=(n&t)!==0,o=e.uid,s=e.gid,a=typeof o=="number"&&typeof s=="number"&&(o!==e.processUid||s!==e.processGid),c=e.preserve,u=e.unlink,l=e.cache,d=Zy(e.cwd),f=P=>{VL(l,r,!0),P&&a&&RRe.sync(P,o,s),i&&qv.chmodSync(r,n)};if(l&&DU(l,r)===!0)return f();if(r===d)return Cgt(d),f();if(c)return f(ERe.sync(r,n));let _=Zy(SU.relative(d,r)).split("/"),D=null;for(let P=_.shift(),M=d;P&&(M+="/"+P);P=_.shift())if(M=Zy(SU.resolve(M)),!DU(l,M))try{qv.mkdirSync(M,n),D=D||M,VL(l,M,!0)}catch{let U=qv.lstatSync(M);if(U.isDirectory()){VL(l,M,!0);continue}else if(u){qv.unlinkSync(M),qv.mkdirSync(M,n),D=D||M,VL(l,M,!0);continue}else if(U.isSymbolicLink())return new CU(M,M+"/"+_.join("/"))}return f(D)}});var wX=C((ZKt,ORe)=>{var bX=Object.create(null),{hasOwnProperty:Tgt}=Object.prototype;ORe.exports=r=>(Tgt.call(bX,r)||(bX[r]=r.normalize("NFD")),bX[r])});var LRe=C((e9t,ARe)=>{var IRe=require("assert"),Dgt=wX(),Egt=IP(),{join:kRe}=require("path"),Rgt=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,Pgt=Rgt==="win32";ARe.exports=()=>{let r=new Map,e=new Map,t=u=>u.split("/").slice(0,-1).reduce((d,f)=>(d.length&&(f=kRe(d[d.length-1],f)),d.push(f||"/"),d),[]),n=new Set,i=u=>{let l=e.get(u);if(!l)throw new Error("function does not have any path reservations");return{paths:l.paths.map(d=>r.get(d)),dirs:[...l.dirs].map(d=>r.get(d))}},o=u=>{let{paths:l,dirs:d}=i(u);return l.every(f=>f[0]===u)&&d.every(f=>f[0]instanceof Set&&f[0].has(u))},s=u=>n.has(u)||!o(u)?!1:(n.add(u),u(()=>a(u)),!0),a=u=>{if(!n.has(u))return!1;let{paths:l,dirs:d}=e.get(u),f=new Set;return l.forEach(p=>{let _=r.get(p);IRe.equal(_[0],u),_.length===1?r.delete(p):(_.shift(),typeof _[0]=="function"?f.add(_[0]):_[0].forEach(D=>f.add(D)))}),d.forEach(p=>{let _=r.get(p);IRe(_[0]instanceof Set),_[0].size===1&&_.length===1?r.delete(p):_[0].size===1?(_.shift(),f.add(_[0])):_[0].delete(u)}),n.delete(u),f.forEach(p=>s(p)),!0};return{check:o,reserve:(u,l)=>{u=Pgt?["win32 parallelization disabled"]:u.map(f=>Egt(kRe(Dgt(f))).toLowerCase());let d=new Set(u.map(f=>t(f)).reduce((f,p)=>f.concat(p)));return e.set(l,{dirs:d,paths:u}),u.forEach(f=>{let p=r.get(f);p?p.push(l):r.set(f,[l])}),d.forEach(f=>{let p=r.get(f);p?p[p.length-1]instanceof Set?p[p.length-1].add(l):p.push(new Set([l])):r.set(f,[new Set([l])])}),s(l)}}}});var FRe=C((t9t,NRe)=>{var xgt=process.env.__FAKE_PLATFORM__||process.platform,Ogt=xgt==="win32",Igt=global.__FAKE_TESTING_FS__||require("fs"),{O_CREAT:kgt,O_TRUNC:Agt,O_WRONLY:Lgt,UV_FS_O_FILEMAP:MRe=0}=Igt.constants,Mgt=Ogt&&!!MRe,Ngt=512*1024,Fgt=MRe|Agt|kgt|Lgt;NRe.exports=Mgt?r=>r<Ngt?Fgt:"w":()=>"w"});var OX=C((r9t,XRe)=>{"use strict";var qgt=require("assert"),jgt=yU(),hs=require("fs"),zgt=UP(),_S=require("path"),KRe=xRe(),qRe=DJ(),Ugt=LRe(),Hgt=EJ(),jv=PP(),Bgt=IP(),Wgt=wX(),jRe=Symbol("onEntry"),TX=Symbol("checkFs"),zRe=Symbol("checkFs2"),xU=Symbol("pruneCache"),DX=Symbol("isReusable"),zv=Symbol("makeFs"),EX=Symbol("file"),RX=Symbol("directory"),OU=Symbol("link"),URe=Symbol("symlink"),HRe=Symbol("hardlink"),BRe=Symbol("unsupported"),WRe=Symbol("checkPath"),zT=Symbol("mkdir"),uh=Symbol("onError"),RU=Symbol("pending"),$Re=Symbol("pend"),VP=Symbol("unpend"),SX=Symbol("ended"),CX=Symbol("maybeClose"),PX=Symbol("skip"),GL=Symbol("doChown"),KL=Symbol("uid"),YL=Symbol("gid"),JL=Symbol("checkedCwd"),YRe=require("crypto"),JRe=FRe(),$gt=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,XL=$gt==="win32",Vgt=1024,Ggt=(r,e)=>{if(!XL)return hs.unlink(r,e);let t=r+".DELETE."+YRe.randomBytes(16).toString("hex");hs.rename(r,t,n=>{if(n)return e(n);hs.unlink(t,e)})},Kgt=r=>{if(!XL)return hs.unlinkSync(r);let e=r+".DELETE."+YRe.randomBytes(16).toString("hex");hs.renameSync(r,e),hs.unlinkSync(e)},VRe=(r,e,t)=>r===r>>>0?r:e===e>>>0?e:t,GRe=r=>Bgt(jv(Wgt(r))).toLowerCase(),Ygt=(r,e)=>{e=GRe(e);for(let t of r.keys()){let n=GRe(t);(n===e||n.indexOf(e+"/")===0)&&r.delete(t)}},Jgt=r=>{for(let e of r.keys())r.delete(e)},QL=class extends jgt{constructor(e){if(e||(e={}),e.ondone=t=>{this[SX]=!0,this[CX]()},super(e),this[JL]=!1,this.reservations=Ugt(),this.transform=typeof e.transform=="function"?e.transform:null,this.writable=!0,this.readable=!1,this[RU]=0,this[SX]=!1,this.dirCache=e.dirCache||new Map,typeof e.uid=="number"||typeof e.gid=="number"){if(typeof e.uid!="number"||typeof e.gid!="number")throw new TypeError("cannot set owner without number uid and gid");if(e.preserveOwner)throw new TypeError("cannot preserve owner in archive and also set owner explicitly");this.uid=e.uid,this.gid=e.gid,this.setOwner=!0}else this.uid=null,this.gid=null,this.setOwner=!1;e.preserveOwner===void 0&&typeof e.uid!="number"?this.preserveOwner=process.getuid&&process.getuid()===0:this.preserveOwner=!!e.preserveOwner,this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null,this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null,this.maxDepth=typeof e.maxDepth=="number"?e.maxDepth:Vgt,this.forceChown=e.forceChown===!0,this.win32=!!e.win32||XL,this.newer=!!e.newer,this.keep=!!e.keep,this.noMtime=!!e.noMtime,this.preservePaths=!!e.preservePaths,this.unlink=!!e.unlink,this.cwd=jv(_S.resolve(e.cwd||process.cwd())),this.strip=+e.strip||0,this.processUmask=e.noChmod?0:process.umask(),this.umask=typeof e.umask=="number"?e.umask:this.processUmask,this.dmode=e.dmode||511&~this.umask,this.fmode=e.fmode||438&~this.umask,this.on("entry",t=>this[jRe](t))}warn(e,t,n={}){return(e==="TAR_BAD_ARCHIVE"||e==="TAR_ABORT")&&(n.recoverable=!1),super.warn(e,t,n)}[CX](){this[SX]&&this[RU]===0&&(this.emit("prefinish"),this.emit("finish"),this.emit("end"))}[WRe](e){let t=jv(e.path),n=t.split("/");if(this.strip){if(n.length<this.strip)return!1;if(e.type==="Link"){let i=jv(e.linkpath).split("/");if(i.length>=this.strip)e.linkpath=i.slice(this.strip).join("/");else return!1}n.splice(0,this.strip),e.path=n.join("/")}if(isFinite(this.maxDepth)&&n.length>this.maxDepth)return this.warn("TAR_ENTRY_ERROR","path excessively deep",{entry:e,path:t,depth:n.length,maxDepth:this.maxDepth}),!1;if(!this.preservePaths){if(n.includes("..")||XL&&/^[a-z]:\.\.$/i.test(n[0]))return this.warn("TAR_ENTRY_ERROR","path contains '..'",{entry:e,path:t}),!1;let[i,o]=Hgt(t);i&&(e.path=o,this.warn("TAR_ENTRY_INFO",`stripping ${i} from absolute path`,{entry:e,path:t}))}if(_S.isAbsolute(e.path)?e.absolute=jv(_S.resolve(e.path)):e.absolute=jv(_S.resolve(this.cwd,e.path)),!this.preservePaths&&e.absolute.indexOf(this.cwd+"/")!==0&&e.absolute!==this.cwd)return this.warn("TAR_ENTRY_ERROR","path escaped extraction target",{entry:e,path:jv(e.path),resolvedPath:e.absolute,cwd:this.cwd}),!1;if(e.absolute===this.cwd&&e.type!=="Directory"&&e.type!=="GNUDumpDir")return!1;if(this.win32){let{root:i}=_S.win32.parse(e.absolute);e.absolute=i+qRe.encode(e.absolute.slice(i.length));let{root:o}=_S.win32.parse(e.path);e.path=o+qRe.encode(e.path.slice(o.length))}return!0}[jRe](e){if(!this[WRe](e))return e.resume();switch(qgt.equal(typeof e.absolute,"string"),e.type){case"Directory":case"GNUDumpDir":e.mode&&(e.mode=e.mode|448);case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[TX](e);case"CharacterDevice":case"BlockDevice":case"FIFO":default:return this[BRe](e)}}[uh](e,t){e.name==="CwdError"?this.emit("error",e):(this.warn("TAR_ENTRY_ERROR",e,{entry:t}),this[VP](),t.resume())}[zT](e,t,n){KRe(jv(e),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:t,noChmod:this.noChmod},n)}[GL](e){return this.forceChown||this.preserveOwner&&(typeof e.uid=="number"&&e.uid!==this.processUid||typeof e.gid=="number"&&e.gid!==this.processGid)||typeof this.uid=="number"&&this.uid!==this.processUid||typeof this.gid=="number"&&this.gid!==this.processGid}[KL](e){return VRe(this.uid,e.uid,this.processUid)}[YL](e){return VRe(this.gid,e.gid,this.processGid)}[EX](e,t){let n=e.mode&4095||this.fmode,i=new zgt.WriteStream(e.absolute,{flags:JRe(e.size),mode:n,autoClose:!1});i.on("error",c=>{i.fd&&hs.close(i.fd,()=>{}),i.write=()=>!0,this[uh](c,e),t()});let o=1,s=c=>{if(c){i.fd&&hs.close(i.fd,()=>{}),this[uh](c,e),t();return}--o===0&&hs.close(i.fd,u=>{u?this[uh](u,e):this[VP](),t()})};i.on("finish",c=>{let u=e.absolute,l=i.fd;if(e.mtime&&!this.noMtime){o++;let d=e.atime||new Date,f=e.mtime;hs.futimes(l,d,f,p=>p?hs.utimes(u,d,f,_=>s(_&&p)):s())}if(this[GL](e)){o++;let d=this[KL](e),f=this[YL](e);hs.fchown(l,d,f,p=>p?hs.chown(u,d,f,_=>s(_&&p)):s())}s()});let a=this.transform&&this.transform(e)||e;a!==e&&(a.on("error",c=>{this[uh](c,e),t()}),e.pipe(a)),a.pipe(i)}[RX](e,t){let n=e.mode&4095||this.dmode;this[zT](e.absolute,n,i=>{if(i){this[uh](i,e),t();return}let o=1,s=a=>{--o===0&&(t(),this[VP](),e.resume())};e.mtime&&!this.noMtime&&(o++,hs.utimes(e.absolute,e.atime||new Date,e.mtime,s)),this[GL](e)&&(o++,hs.chown(e.absolute,this[KL](e),this[YL](e),s)),s()})}[BRe](e){e.unsupported=!0,this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${e.type}`,{entry:e}),e.resume()}[URe](e,t){this[OU](e,e.linkpath,"symlink",t)}[HRe](e,t){let n=jv(_S.resolve(this.cwd,e.linkpath));this[OU](e,n,"link",t)}[$Re](){this[RU]++}[VP](){this[RU]--,this[CX]()}[PX](e){this[VP](),e.resume()}[DX](e,t){return e.type==="File"&&!this.unlink&&t.isFile()&&t.nlink<=1&&!XL}[TX](e){this[$Re]();let t=[e.path];e.linkpath&&t.push(e.linkpath),this.reservations.reserve(t,n=>this[zRe](e,n))}[xU](e){e.type==="SymbolicLink"?Jgt(this.dirCache):e.type!=="Directory"&&Ygt(this.dirCache,e.absolute)}[zRe](e,t){this[xU](e);let n=a=>{this[xU](e),t(a)},i=()=>{this[zT](this.cwd,this.dmode,a=>{if(a){this[uh](a,e),n();return}this[JL]=!0,o()})},o=()=>{if(e.absolute!==this.cwd){let a=jv(_S.dirname(e.absolute));if(a!==this.cwd)return this[zT](a,this.dmode,c=>{if(c){this[uh](c,e),n();return}s()})}s()},s=()=>{hs.lstat(e.absolute,(a,c)=>{if(c&&(this.keep||this.newer&&c.mtime>e.mtime)){this[PX](e),n();return}if(a||this[DX](e,c))return this[zv](null,e,n);if(c.isDirectory()){if(e.type==="Directory"){let u=!this.noChmod&&e.mode&&(c.mode&4095)!==e.mode,l=d=>this[zv](d,e,n);return u?hs.chmod(e.absolute,e.mode,l):l()}if(e.absolute!==this.cwd)return hs.rmdir(e.absolute,u=>this[zv](u,e,n))}if(e.absolute===this.cwd)return this[zv](null,e,n);Ggt(e.absolute,u=>this[zv](u,e,n))})};this[JL]?o():i()}[zv](e,t,n){if(e){this[uh](e,t),n();return}switch(t.type){case"File":case"OldFile":case"ContiguousFile":return this[EX](t,n);case"Link":return this[HRe](t,n);case"SymbolicLink":return this[URe](t,n);case"Directory":case"GNUDumpDir":return this[RX](t,n)}}[OU](e,t,n,i){hs[n](t,e.absolute,o=>{o?this[uh](o,e):(this[VP](),e.resume()),i()})}},PU=r=>{try{return[null,r()]}catch(e){return[e,null]}},xX=class extends QL{[zv](e,t){return super[zv](e,t,()=>{})}[TX](e){if(this[xU](e),!this[JL]){let o=this[zT](this.cwd,this.dmode);if(o)return this[uh](o,e);this[JL]=!0}if(e.absolute!==this.cwd){let o=jv(_S.dirname(e.absolute));if(o!==this.cwd){let s=this[zT](o,this.dmode);if(s)return this[uh](s,e)}}let[t,n]=PU(()=>hs.lstatSync(e.absolute));if(n&&(this.keep||this.newer&&n.mtime>e.mtime))return this[PX](e);if(t||this[DX](e,n))return this[zv](null,e);if(n.isDirectory()){if(e.type==="Directory"){let s=!this.noChmod&&e.mode&&(n.mode&4095)!==e.mode,[a]=s?PU(()=>{hs.chmodSync(e.absolute,e.mode)}):[];return this[zv](a,e)}let[o]=PU(()=>hs.rmdirSync(e.absolute));this[zv](o,e)}let[i]=e.absolute===this.cwd?[]:PU(()=>Kgt(e.absolute));this[zv](i,e)}[EX](e,t){let n=e.mode&4095||this.fmode,i=a=>{let c;try{hs.closeSync(o)}catch(u){c=u}(a||c)&&this[uh](a||c,e),t()},o;try{o=hs.openSync(e.absolute,JRe(e.size),n)}catch(a){return i(a)}let s=this.transform&&this.transform(e)||e;s!==e&&(s.on("error",a=>this[uh](a,e)),e.pipe(s)),s.on("data",a=>{try{hs.writeSync(o,a,0,a.length)}catch(c){i(c)}}),s.on("end",a=>{let c=null;if(e.mtime&&!this.noMtime){let u=e.atime||new Date,l=e.mtime;try{hs.futimesSync(o,u,l)}catch(d){try{hs.utimesSync(e.absolute,u,l)}catch{c=d}}}if(this[GL](e)){let u=this[KL](e),l=this[YL](e);try{hs.fchownSync(o,u,l)}catch(d){try{hs.chownSync(e.absolute,u,l)}catch{c=c||d}}}i(c)})}[RX](e,t){let n=e.mode&4095||this.dmode,i=this[zT](e.absolute,n);if(i){this[uh](i,e),t();return}if(e.mtime&&!this.noMtime)try{hs.utimesSync(e.absolute,e.atime||new Date,e.mtime)}catch{}if(this[GL](e))try{hs.chownSync(e.absolute,this[KL](e),this[YL](e))}catch{}t(),e.resume()}[zT](e,t){try{return KRe.sync(jv(e),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:t})}catch(n){return n}}[OU](e,t,n,i){try{hs[n+"Sync"](t,e.absolute),i(),e.resume()}catch(o){return this[uh](o,e)}}};QL.Sync=xX;XRe.exports=QL});var rPe=C((n9t,tPe)=>{"use strict";var Xgt=CP(),IU=OX(),ZRe=require("fs"),ePe=UP(),QRe=require("path"),IX=IP();tPe.exports=(r,e,t)=>{typeof r=="function"?(t=r,e=null,r={}):Array.isArray(r)&&(e=r,r={}),typeof e=="function"&&(t=e,e=null),e?e=Array.from(e):e=[];let n=Xgt(r);if(n.sync&&typeof t=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof t=="function")throw new TypeError("callback only supported with file option");return e.length&&Qgt(n,e),n.file&&n.sync?Zgt(n):n.file?evt(n,t):n.sync?tvt(n):rvt(n)};var Qgt=(r,e)=>{let t=new Map(e.map(o=>[IX(o),!0])),n=r.filter,i=(o,s)=>{let a=s||QRe.parse(o).root||".",c=o===a?!1:t.has(o)?t.get(o):i(QRe.dirname(o),a);return t.set(o,c),c};r.filter=n?(o,s)=>n(o,s)&&i(IX(o)):o=>i(IX(o))},Zgt=r=>{let e=new IU.Sync(r),t=r.file,n=ZRe.statSync(t),i=r.maxReadSize||16*1024*1024;new ePe.ReadStreamSync(t,{readSize:i,size:n.size}).pipe(e)},evt=(r,e)=>{let t=new IU(r),n=r.maxReadSize||16*1024*1024,i=r.file,o=new Promise((s,a)=>{t.on("error",a),t.on("close",s),ZRe.stat(i,(c,u)=>{if(c)a(c);else{let l=new ePe.ReadStream(i,{readSize:n,size:u.size});l.on("error",a),l.pipe(t)}})});return e?o.then(e,e):o},tvt=r=>new IU.Sync(r),rvt=r=>new IU(r)});var nPe=C(Nl=>{"use strict";Nl.c=Nl.create=qEe();Nl.r=Nl.replace=fX();Nl.t=Nl.list=_U();Nl.u=Nl.update=GEe();Nl.x=Nl.extract=rPe();Nl.Pack=Zz();Nl.Unpack=OX();Nl.Parse=yU();Nl.ReadEntry=Nz();Nl.WriteEntry=NJ();Nl.Header=OP();Nl.Pax=qz();Nl.types=yJ()});var aPe=C(kX=>{var rE=require("path"),HT=process.platform==="win32",UT=require("fs"),nvt=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function ivt(){var r;if(nvt){var e=new Error;r=t}else r=n;return r;function t(i){i&&(e.message=i.message,i=e,n(i))}function n(i){if(i){if(process.throwDeprecation)throw i;if(!process.noDeprecation){var o="fs: missing callback "+(i.stack||i.message);process.traceDeprecation?console.trace(o):console.error(o)}}}}function ovt(r){return typeof r=="function"?r:ivt()}var c9t=rE.normalize;HT?bS=/(.*?)(?:[\/\\]+|$)/g:bS=/(.*?)(?:[\/]+|$)/g;var bS;HT?ZL=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:ZL=/^[\/]*/;var ZL;kX.realpathSync=function(e,t){if(e=rE.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return t[e];var n=e,i={},o={},s,a,c,u;l();function l(){var P=ZL.exec(e);s=P[0].length,a=P[0],c=P[0],u="",HT&&!o[c]&&(UT.lstatSync(c),o[c]=!0)}for(;s<e.length;){bS.lastIndex=s;var d=bS.exec(e);if(u=a,a+=d[0],c=u+d[1],s=bS.lastIndex,!(o[c]||t&&t[c]===c)){var f;if(t&&Object.prototype.hasOwnProperty.call(t,c))f=t[c];else{var p=UT.lstatSync(c);if(!p.isSymbolicLink()){o[c]=!0,t&&(t[c]=c);continue}var _=null;if(!HT){var D=p.dev.toString(32)+":"+p.ino.toString(32);i.hasOwnProperty(D)&&(_=i[D])}_===null&&(UT.statSync(c),_=UT.readlinkSync(c)),f=rE.resolve(u,_),t&&(t[c]=f),HT||(i[D]=_)}e=rE.resolve(f,e.slice(s)),l()}}return t&&(t[n]=e),e};kX.realpath=function(e,t,n){if(typeof n!="function"&&(n=ovt(t),t=null),e=rE.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return process.nextTick(n.bind(null,null,t[e]));var i=e,o={},s={},a,c,u,l;d();function d(){var P=ZL.exec(e);a=P[0].length,c=P[0],u=P[0],l="",HT&&!s[u]?UT.lstat(u,function(M){if(M)return n(M);s[u]=!0,f()}):process.nextTick(f)}function f(){if(a>=e.length)return t&&(t[i]=e),n(null,e);bS.lastIndex=a;var P=bS.exec(e);return l=c,c+=P[0],u=l+P[1],a=bS.lastIndex,s[u]||t&&t[u]===u?process.nextTick(f):t&&Object.prototype.hasOwnProperty.call(t,u)?D(t[u]):UT.lstat(u,p)}function p(P,M){if(P)return n(P);if(!M.isSymbolicLink())return s[u]=!0,t&&(t[u]=u),process.nextTick(f);if(!HT){var A=M.dev.toString(32)+":"+M.ino.toString(32);if(o.hasOwnProperty(A))return _(null,o[A],u)}UT.stat(u,function(U){if(U)return n(U);UT.readlink(u,function(ne,pe){HT||(o[A]=pe),_(ne,pe)})})}function _(P,M,A){if(P)return n(P);var U=rE.resolve(l,M);t&&(t[A]=U),D(U)}function D(P){e=rE.resolve(P,e.slice(a)),d()}}});var NX=C((l9t,dPe)=>{dPe.exports=BT;BT.realpath=BT;BT.sync=MX;BT.realpathSync=MX;BT.monkeypatch=avt;BT.unmonkeypatch=cvt;var GP=require("fs"),AX=GP.realpath,LX=GP.realpathSync,svt=process.version,cPe=/^v[0-5]\./.test(svt),uPe=aPe();function lPe(r){return r&&r.syscall==="realpath"&&(r.code==="ELOOP"||r.code==="ENOMEM"||r.code==="ENAMETOOLONG")}function BT(r,e,t){if(cPe)return AX(r,e,t);typeof e=="function"&&(t=e,e=null),AX(r,e,function(n,i){lPe(n)?uPe.realpath(r,e,t):t(n,i)})}function MX(r,e){if(cPe)return LX(r,e);try{return LX(r,e)}catch(t){if(lPe(t))return uPe.realpathSync(r,e);throw t}}function avt(){GP.realpath=BT,GP.realpathSync=MX}function cvt(){GP.realpath=AX,GP.realpathSync=LX}});var hPe=C((d9t,fPe)=>{fPe.exports=function(r,e){for(var t=[],n=0;n<r.length;n++){var i=e(r[n],n);uvt(i)?t.push.apply(t,i):t.push(i)}return t};var uvt=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"}});var FX=C((f9t,vPe)=>{"use strict";vPe.exports=mPe;function mPe(r,e,t){r instanceof RegExp&&(r=pPe(r,t)),e instanceof RegExp&&(e=pPe(e,t));var n=gPe(r,e,t);return n&&{start:n[0],end:n[1],pre:t.slice(0,n[0]),body:t.slice(n[0]+r.length,n[1]),post:t.slice(n[1]+e.length)}}function pPe(r,e){var t=e.match(r);return t?t[0]:null}mPe.range=gPe;function gPe(r,e,t){var n,i,o,s,a,c=t.indexOf(r),u=t.indexOf(e,c+1),l=c;if(c>=0&&u>0){for(n=[],o=t.length;l>=0&&!a;)l==c?(n.push(l),c=t.indexOf(r,l+1)):n.length==1?a=[n.pop(),u]:(i=n.pop(),i<o&&(o=i,s=u),u=t.indexOf(e,l+1)),l=c<u&&c>=0?c:u;n.length&&(a=[o,s])}return a}});var DPe=C((h9t,TPe)=>{var lvt=hPe(),yPe=FX();TPe.exports=hvt;var _Pe="\0SLASH"+Math.random()+"\0",bPe="\0OPEN"+Math.random()+"\0",jX="\0CLOSE"+Math.random()+"\0",wPe="\0COMMA"+Math.random()+"\0",SPe="\0PERIOD"+Math.random()+"\0";function qX(r){return parseInt(r,10)==r?parseInt(r,10):r.charCodeAt(0)}function dvt(r){return r.split("\\\\").join(_Pe).split("\\{").join(bPe).split("\\}").join(jX).split("\\,").join(wPe).split("\\.").join(SPe)}function fvt(r){return r.split(_Pe).join("\\").split(bPe).join("{").split(jX).join("}").split(wPe).join(",").split(SPe).join(".")}function CPe(r){if(!r)return[""];var e=[],t=yPe("{","}",r);if(!t)return r.split(",");var n=t.pre,i=t.body,o=t.post,s=n.split(",");s[s.length-1]+="{"+i+"}";var a=CPe(o);return o.length&&(s[s.length-1]+=a.shift(),s.push.apply(s,a)),e.push.apply(e,s),e}function hvt(r){return r?(r.substr(0,2)==="{}"&&(r="\\{\\}"+r.substr(2)),KP(dvt(r),!0).map(fvt)):[]}function pvt(r){return"{"+r+"}"}function mvt(r){return/^-?0\d/.test(r)}function gvt(r,e){return r<=e}function vvt(r,e){return r>=e}function KP(r,e){var t=[],n=yPe("{","}",r);if(!n||/\$$/.test(n.pre))return[r];var i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),o=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),s=i||o,a=n.body.indexOf(",")>=0;if(!s&&!a)return n.post.match(/,.*\}/)?(r=n.pre+"{"+n.body+jX+n.post,KP(r)):[r];var c;if(s)c=n.body.split(/\.\./);else if(c=CPe(n.body),c.length===1&&(c=KP(c[0],!1).map(pvt),c.length===1)){var l=n.post.length?KP(n.post,!1):[""];return l.map(function(ae){return n.pre+c[0]+ae})}var u=n.pre,l=n.post.length?KP(n.post,!1):[""],d;if(s){var f=qX(c[0]),p=qX(c[1]),_=Math.max(c[0].length,c[1].length),D=c.length==3?Math.abs(qX(c[2])):1,P=gvt,M=p<f;M&&(D*=-1,P=vvt);var A=c.some(mvt);d=[];for(var U=f;P(U,p);U+=D){var ne;if(o)ne=String.fromCharCode(U),ne==="\\"&&(ne="");else if(ne=String(U),A){var pe=_-ne.length;if(pe>0){var ve=new Array(pe+1).join("0");U<0?ne="-"+ve+ne.slice(1):ne=ve+ne}}d.push(ne)}}else d=lvt(c,function(De){return KP(De,!1)});for(var V=0;V<d.length;V++)for(var W=0;W<l.length;W++){var ee=u+d[V]+l[W];(!e||s||ee)&&t.push(ee)}return t}});var nE=C((p9t,OPe)=>{OPe.exports=Pg;Pg.Minimatch=hf;var eM=(()=>{try{return require("path")}catch{}})()||{sep:"/"};Pg.sep=eM.sep;var HX=Pg.GLOBSTAR=hf.GLOBSTAR={},yvt=DPe(),EPe={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},zX="[^/]",UX=zX+"*?",_vt="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",bvt="(?:(?!(?:\\/|^)\\.).)*?",RPe=wvt("().*{}+?[]^$\\!");function wvt(r){return r.split("").reduce(function(e,t){return e[t]=!0,e},{})}var PPe=/\/+/;Pg.filter=Svt;function Svt(r,e){return e=e||{},function(t,n,i){return Pg(t,r,e)}}function WT(r,e){r=r||{},e=e||{};let t={};return Object.keys(r).forEach(function(n){t[n]=r[n]}),Object.keys(e).forEach(function(n){t[n]=e[n]}),t}Pg.defaults=function(r){if(!r||typeof r!="object"||!Object.keys(r).length)return Pg;let e=Pg,t=function(i,o,s){return e(i,o,WT(r,s))};return t.Minimatch=function(i,o){return new e.Minimatch(i,WT(r,o))},t.Minimatch.defaults=n=>e.defaults(WT(r,n)).Minimatch,t.filter=function(i,o){return e.filter(i,WT(r,o))},t.defaults=function(i){return e.defaults(WT(r,i))},t.makeRe=function(i,o){return e.makeRe(i,WT(r,o))},t.braceExpand=function(i,o){return e.braceExpand(i,WT(r,o))},t.match=function(n,i,o){return e.match(n,i,WT(r,o))},t};hf.defaults=function(r){return Pg.defaults(r).Minimatch};function Pg(r,e,t){return AU(e),t||(t={}),!t.nocomment&&e.charAt(0)==="#"?!1:e.trim()===""?r==="":new hf(e,t).match(r)}function hf(r,e){if(!(this instanceof hf))return new hf(r,e);AU(r),e||(e={}),r=r.trim(),eM.sep!=="/"&&(r=r.split(eM.sep).join("/")),this.options=e,this.set=[],this.pattern=r,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}hf.prototype.debug=function(){};hf.prototype.make=Cvt;function Cvt(){if(!this._made){var r=this.pattern,e=this.options;if(!e.nocomment&&r.charAt(0)==="#"){this.comment=!0;return}if(!r){this.empty=!0;return}this.parseNegate();var t=this.globSet=this.braceExpand();e.debug&&(this.debug=console.error),this.debug(this.pattern,t),t=this.globParts=t.map(function(n){return n.split(PPe)}),this.debug(this.pattern,t),t=t.map(function(n,i,o){return n.map(this.parse,this)},this),this.debug(this.pattern,t),t=t.filter(function(n){return n.indexOf(!1)===-1}),this.debug(this.pattern,t),this.set=t}}hf.prototype.parseNegate=Tvt;function Tvt(){var r=this.pattern,e=!1,t=this.options,n=0;if(!t.nonegate){for(var i=0,o=r.length;i<o&&r.charAt(i)==="!";i++)e=!e,n++;n&&(this.pattern=r.substr(n)),this.negate=e}}Pg.braceExpand=function(r,e){return xPe(r,e)};hf.prototype.braceExpand=xPe;function xPe(r,e){return e||(this instanceof hf?e=this.options:e={}),r=typeof r>"u"?this.pattern:r,AU(r),e.nobrace||!/\{(?:(?!\{).)*\}/.test(r)?[r]:yvt(r)}var Dvt=1024*64,AU=r=>{if(typeof r!="string")throw new TypeError("invalid pattern");if(r.length>Dvt)throw new TypeError("pattern is too long")};hf.prototype.parse=Evt;var kU={};function Evt(r,e){AU(r);var t=this.options;if(!t.noglobstar&&r==="**")return HX;if(r==="")return"";var n="",i=!1,o=!1,s=[],a=[],c,u=!1,l=-1,d=-1,f=r.charAt(0)==="."?"":t.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",p=this;function _(){if(c){switch(c){case"*":n+=UX,i=!0;break;case"?":n+=zX,i=!0;break;default:n+="\\"+c;break}p.debug("clearStateChar %j %j",c,n),c=!1}}for(var D=0,P=r.length,M;D<P&&(M=r.charAt(D));D++){if(this.debug("%s	%s %s %j",r,D,n,M),o&&RPe[M]){n+="\\"+M,o=!1;continue}switch(M){case"/":return!1;case"\\":_(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",r,D,n,M),u){this.debug("  in class"),M==="!"&&D===d+1&&(M="^"),n+=M;continue}p.debug("call clearStateChar %j",c),_(),c=M,t.noext&&_();continue;case"(":if(u){n+="(";continue}if(!c){n+="\\(";continue}s.push({type:c,start:D-1,reStart:n.length,open:EPe[c].open,close:EPe[c].close}),n+=c==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",c,n),c=!1;continue;case")":if(u||!s.length){n+="\\)";continue}_(),i=!0;var A=s.pop();n+=A.close,A.type==="!"&&a.push(A),A.reEnd=n.length;continue;case"|":if(u||!s.length||o){n+="\\|",o=!1;continue}_(),n+="|";continue;case"[":if(_(),u){n+="\\"+M;continue}u=!0,d=D,l=n.length,n+=M;continue;case"]":if(D===d+1||!u){n+="\\"+M,o=!1;continue}if(u){var U=r.substring(d+1,D);try{RegExp("["+U+"]")}catch{var ne=this.parse(U,kU);n=n.substr(0,l)+"\\["+ne[0]+"\\]",i=i||ne[1],u=!1;continue}}i=!0,u=!1,n+=M;continue;default:_(),o?o=!1:RPe[M]&&!(M==="^"&&u)&&(n+="\\"),n+=M}}for(u&&(U=r.substr(d+1),ne=this.parse(U,kU),n=n.substr(0,l)+"\\["+ne[0],i=i||ne[1]),A=s.pop();A;A=s.pop()){var pe=n.slice(A.reStart+A.open.length);this.debug("setting tail",n,A),pe=pe.replace(/((?:\\{2}){0,64})(\\?)\|/g,function($e,Ct,ze){return ze||(ze="\\"),Ct+Ct+ze+"|"}),this.debug(`tail=%j
   %s`,pe,pe,A,n);var ve=A.type==="*"?UX:A.type==="?"?zX:"\\"+A.type;i=!0,n=n.slice(0,A.reStart)+ve+"\\("+pe}_(),o&&(n+="\\\\");var V=!1;switch(n.charAt(0)){case".":case"[":case"(":V=!0}for(var W=a.length-1;W>-1;W--){var ee=a[W],De=n.slice(0,ee.reStart),ae=n.slice(ee.reStart,ee.reEnd-8),ue=n.slice(ee.reEnd-8,ee.reEnd),Fe=n.slice(ee.reEnd);ue+=Fe;var Me=De.split("(").length-1,ce=Fe;for(D=0;D<Me;D++)ce=ce.replace(/\)[+*?]?/,"");Fe=ce;var Ce="";Fe===""&&e!==kU&&(Ce="$");var be=De+ae+Fe+Ce+ue;n=be}if(n!==""&&i&&(n="(?=.)"+n),V&&(n=f+n),e===kU)return[n,i];if(!i)return xvt(r);var xe=t.nocase?"i":"";try{var Ne=new RegExp("^"+n+"$",xe)}catch{return new RegExp("$.")}return Ne._glob=r,Ne._src=n,Ne}Pg.makeRe=function(r,e){return new hf(r,e||{}).makeRe()};hf.prototype.makeRe=Rvt;function Rvt(){if(this.regexp||this.regexp===!1)return this.regexp;var r=this.set;if(!r.length)return this.regexp=!1,this.regexp;var e=this.options,t=e.noglobstar?UX:e.dot?_vt:bvt,n=e.nocase?"i":"",i=r.map(function(o){return o.map(function(s){return s===HX?t:typeof s=="string"?Ovt(s):s._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch{this.regexp=!1}return this.regexp}Pg.match=function(r,e,t){t=t||{};let n=new hf(e,t);return r=r.filter(function(i){return n.match(i)}),n.options.nonull&&!r.length&&r.push(e),r};hf.prototype.match=Pvt;function Pvt(r,e){if(this.debug("match",r,this.pattern),this.comment)return!1;if(this.empty)return r==="";if(r==="/"&&e)return!0;var t=this.options;eM.sep!=="/"&&(r=r.split(eM.sep).join("/")),r=r.split(PPe),this.debug(this.pattern,"split",r);var n=this.set;this.debug(this.pattern,"set",n);var i,o;for(o=r.length-1;o>=0&&(i=r[o],!i);o--);for(o=0;o<n.length;o++){var s=n[o],a=r;t.matchBase&&s.length===1&&(a=[i]);var c=this.matchOne(a,s,e);if(c)return t.flipNegate?!0:!this.negate}return t.flipNegate?!1:this.negate}hf.prototype.matchOne=function(r,e,t){var n=this.options;this.debug("matchOne",{this:this,file:r,pattern:e}),this.debug("matchOne",r.length,e.length);for(var i=0,o=0,s=r.length,a=e.length;i<s&&o<a;i++,o++){this.debug("matchOne loop");var c=e[o],u=r[i];if(this.debug(e,c,u),c===!1)return!1;if(c===HX){this.debug("GLOBSTAR",[e,c,u]);var l=i,d=o+1;if(d===a){for(this.debug("** at the end");i<s;i++)if(r[i]==="."||r[i]===".."||!n.dot&&r[i].charAt(0)===".")return!1;return!0}for(;l<s;){var f=r[l];if(this.debug(`
globstar while`,r,l,e,d,f),this.matchOne(r.slice(l),e.slice(d),t))return this.debug("globstar found match!",l,s,f),!0;if(f==="."||f===".."||!n.dot&&f.charAt(0)==="."){this.debug("dot detected!",r,l,e,d);break}this.debug("globstar swallow a segment, and continue"),l++}return!!(t&&(this.debug(`
>>> no match, partial?`,r,l,e,d),l===s))}var p;if(typeof c=="string"?(n.nocase?p=u.toLowerCase()===c.toLowerCase():p=u===c,this.debug("string match",c,u,p)):(p=u.match(c),this.debug("pattern match",c,u,p)),!p)return!1}if(i===s&&o===a)return!0;if(i===s)return t;if(o===a)return i===s-1&&r[i]==="";throw new Error("wtf?")};function xvt(r){return r.replace(/\\(.)/g,"$1")}function Ovt(r){return r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var IPe=C((m9t,BX)=>{typeof Object.create=="function"?BX.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:BX.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}});var kPe=C((g9t,$X)=>{try{if(WX=require("util"),typeof WX.inherits!="function")throw"";$X.exports=WX.inherits}catch{$X.exports=IPe()}var WX});var MU=C((v9t,LU)=>{"use strict";function APe(r){return r.charAt(0)==="/"}function LPe(r){var e=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,t=e.exec(r),n=t[1]||"",i=!!(n&&n.charAt(1)!==":");return!!(t[2]||i)}LU.exports=process.platform==="win32"?LPe:APe;LU.exports.posix=APe;LU.exports.win32=LPe});var GX=C($T=>{$T.setopts=Nvt;$T.ownProp=MPe;$T.makeAbs=tM;$T.finish=Fvt;$T.mark=qvt;$T.isIgnored=FPe;$T.childrenIgnored=jvt;function MPe(r,e){return Object.prototype.hasOwnProperty.call(r,e)}var Ivt=require("fs"),YP=require("path"),kvt=nE(),NPe=MU(),VX=kvt.Minimatch;function Avt(r,e){return r.localeCompare(e,"en")}function Lvt(r,e){r.ignore=e.ignore||[],Array.isArray(r.ignore)||(r.ignore=[r.ignore]),r.ignore.length&&(r.ignore=r.ignore.map(Mvt))}function Mvt(r){var e=null;if(r.slice(-3)==="/**"){var t=r.replace(/(\/\*\*)+$/,"");e=new VX(t,{dot:!0})}return{matcher:new VX(r,{dot:!0}),gmatcher:e}}function Nvt(r,e,t){if(t||(t={}),t.matchBase&&e.indexOf("/")===-1){if(t.noglobstar)throw new Error("base matching requires globstar");e="**/"+e}r.silent=!!t.silent,r.pattern=e,r.strict=t.strict!==!1,r.realpath=!!t.realpath,r.realpathCache=t.realpathCache||Object.create(null),r.follow=!!t.follow,r.dot=!!t.dot,r.mark=!!t.mark,r.nodir=!!t.nodir,r.nodir&&(r.mark=!0),r.sync=!!t.sync,r.nounique=!!t.nounique,r.nonull=!!t.nonull,r.nosort=!!t.nosort,r.nocase=!!t.nocase,r.stat=!!t.stat,r.noprocess=!!t.noprocess,r.absolute=!!t.absolute,r.fs=t.fs||Ivt,r.maxLength=t.maxLength||1/0,r.cache=t.cache||Object.create(null),r.statCache=t.statCache||Object.create(null),r.symlinks=t.symlinks||Object.create(null),Lvt(r,t),r.changedCwd=!1;var n=process.cwd();MPe(t,"cwd")?(r.cwd=YP.resolve(t.cwd),r.changedCwd=r.cwd!==n):r.cwd=n,r.root=t.root||YP.resolve(r.cwd,"/"),r.root=YP.resolve(r.root),process.platform==="win32"&&(r.root=r.root.replace(/\\/g,"/")),r.cwdAbs=NPe(r.cwd)?r.cwd:tM(r,r.cwd),process.platform==="win32"&&(r.cwdAbs=r.cwdAbs.replace(/\\/g,"/")),r.nomount=!!t.nomount,t.nonegate=!0,t.nocomment=!0,r.minimatch=new VX(e,t),r.options=r.minimatch.options}function Fvt(r){for(var e=r.nounique,t=e?[]:Object.create(null),n=0,i=r.matches.length;n<i;n++){var o=r.matches[n];if(!o||Object.keys(o).length===0){if(r.nonull){var s=r.minimatch.globSet[n];e?t.push(s):t[s]=!0}}else{var a=Object.keys(o);e?t.push.apply(t,a):a.forEach(function(c){t[c]=!0})}}if(e||(t=Object.keys(t)),r.nosort||(t=t.sort(Avt)),r.mark){for(var n=0;n<t.length;n++)t[n]=r._mark(t[n]);r.nodir&&(t=t.filter(function(c){var u=!/\/$/.test(c),l=r.cache[c]||r.cache[tM(r,c)];return u&&l&&(u=l!=="DIR"&&!Array.isArray(l)),u}))}r.ignore.length&&(t=t.filter(function(c){return!FPe(r,c)})),r.found=t}function qvt(r,e){var t=tM(r,e),n=r.cache[t],i=e;if(n){var o=n==="DIR"||Array.isArray(n),s=e.slice(-1)==="/";if(o&&!s?i+="/":!o&&s&&(i=i.slice(0,-1)),i!==e){var a=tM(r,i);r.statCache[a]=r.statCache[t],r.cache[a]=r.cache[t]}}return i}function tM(r,e){var t=e;return e.charAt(0)==="/"?t=YP.join(r.root,e):NPe(e)||e===""?t=e:r.changedCwd?t=YP.resolve(r.cwd,e):t=YP.resolve(e),process.platform==="win32"&&(t=t.replace(/\\/g,"/")),t}function FPe(r,e){return r.ignore.length?r.ignore.some(function(t){return t.matcher.match(e)||!!(t.gmatcher&&t.gmatcher.match(e))}):!1}function jvt(r,e){return r.ignore.length?r.ignore.some(function(t){return!!(t.gmatcher&&t.gmatcher.match(e))}):!1}});var HPe=C((S9t,UPe)=>{UPe.exports=zPe;zPe.GlobSync=Fl;var zvt=NX(),qPe=nE(),_9t=qPe.Minimatch,b9t=JX().Glob,w9t=require("util"),KX=require("path"),jPe=require("assert"),NU=MU(),iE=GX(),Uvt=iE.setopts,YX=iE.ownProp,Hvt=iE.childrenIgnored,Bvt=iE.isIgnored;function zPe(r,e){if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new Fl(r,e).found}function Fl(r,e){if(!r)throw new Error("must provide pattern");if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof Fl))return new Fl(r,e);if(Uvt(this,r,e),this.noprocess)return this;var t=this.minimatch.set.length;this.matches=new Array(t);for(var n=0;n<t;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}Fl.prototype._finish=function(){if(jPe(this instanceof Fl),this.realpath){var r=this;this.matches.forEach(function(e,t){var n=r.matches[t]=Object.create(null);for(var i in e)try{i=r._makeAbs(i);var o=zvt.realpathSync(i,r.realpathCache);n[o]=!0}catch(s){if(s.syscall==="stat")n[r._makeAbs(i)]=!0;else throw s}})}iE.finish(this)};Fl.prototype._process=function(r,e,t){jPe(this instanceof Fl);for(var n=0;typeof r[n]=="string";)n++;var i;switch(n){case r.length:this._processSimple(r.join("/"),e);return;case 0:i=null;break;default:i=r.slice(0,n).join("/");break}var o=r.slice(n),s;i===null?s=".":((NU(i)||NU(r.join("/")))&&(!i||!NU(i))&&(i="/"+i),s=i);var a=this._makeAbs(s);if(!Hvt(this,s)){var c=o[0]===qPe.GLOBSTAR;c?this._processGlobStar(i,s,a,o,e,t):this._processReaddir(i,s,a,o,e,t)}};Fl.prototype._processReaddir=function(r,e,t,n,i,o){var s=this._readdir(t,o);if(s){for(var a=n[0],c=!!this.minimatch.negate,u=a._glob,l=this.dot||u.charAt(0)===".",d=[],f=0;f<s.length;f++){var p=s[f];if(p.charAt(0)!=="."||l){var _;c&&!r?_=!p.match(a):_=p.match(a),_&&d.push(p)}}var D=d.length;if(D!==0){if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var f=0;f<D;f++){var p=d[f];r&&(r.slice(-1)!=="/"?p=r+"/"+p:p=r+p),p.charAt(0)==="/"&&!this.nomount&&(p=KX.join(this.root,p)),this._emitMatch(i,p)}return}n.shift();for(var f=0;f<D;f++){var p=d[f],P;r?P=[r,p]:P=[p],this._process(P.concat(n),i,o)}}}};Fl.prototype._emitMatch=function(r,e){if(!Bvt(this,e)){var t=this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=t),!this.matches[r][e]){if(this.nodir){var n=this.cache[t];if(n==="DIR"||Array.isArray(n))return}this.matches[r][e]=!0,this.stat&&this._stat(e)}}};Fl.prototype._readdirInGlobStar=function(r){if(this.follow)return this._readdir(r,!1);var e,t,n;try{t=this.fs.lstatSync(r)}catch(o){if(o.code==="ENOENT")return null}var i=t&&t.isSymbolicLink();return this.symlinks[r]=i,!i&&t&&!t.isDirectory()?this.cache[r]="FILE":e=this._readdir(r,!1),e};Fl.prototype._readdir=function(r,e){var t;if(e&&!YX(this.symlinks,r))return this._readdirInGlobStar(r);if(YX(this.cache,r)){var n=this.cache[r];if(!n||n==="FILE")return null;if(Array.isArray(n))return n}try{return this._readdirEntries(r,this.fs.readdirSync(r))}catch(i){return this._readdirError(r,i),null}};Fl.prototype._readdirEntries=function(r,e){if(!this.mark&&!this.stat)for(var t=0;t<e.length;t++){var n=e[t];r==="/"?n=r+n:n=r+"/"+n,this.cache[n]=!0}return this.cache[r]=e,e};Fl.prototype._readdirError=function(r,e){switch(e.code){case"ENOTSUP":case"ENOTDIR":var t=this._makeAbs(r);if(this.cache[t]="FILE",t===this.cwdAbs){var n=new Error(e.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=e.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(r)]=!1;break;default:if(this.cache[this._makeAbs(r)]=!1,this.strict)throw e;this.silent||console.error("glob error",e);break}};Fl.prototype._processGlobStar=function(r,e,t,n,i,o){var s=this._readdir(t,o);if(s){var a=n.slice(1),c=r?[r]:[],u=c.concat(a);this._process(u,i,!1);var l=s.length,d=this.symlinks[t];if(!(d&&o))for(var f=0;f<l;f++){var p=s[f];if(!(p.charAt(0)==="."&&!this.dot)){var _=c.concat(s[f],a);this._process(_,i,!0);var D=c.concat(s[f],n);this._process(D,i,!0)}}}};Fl.prototype._processSimple=function(r,e){var t=this._stat(r);if(this.matches[e]||(this.matches[e]=Object.create(null)),!!t){if(r&&NU(r)&&!this.nomount){var n=/[\/\\]$/.test(r);r.charAt(0)==="/"?r=KX.join(this.root,r):(r=KX.resolve(this.root,r),n&&(r+="/"))}process.platform==="win32"&&(r=r.replace(/\\/g,"/")),this._emitMatch(e,r)}};Fl.prototype._stat=function(r){var e=this._makeAbs(r),t=r.slice(-1)==="/";if(r.length>this.maxLength)return!1;if(!this.stat&&YX(this.cache,e)){var s=this.cache[e];if(Array.isArray(s)&&(s="DIR"),!t||s==="DIR")return s;if(t&&s==="FILE")return!1}var n,i=this.statCache[e];if(!i){var o;try{o=this.fs.lstatSync(e)}catch(a){if(a&&(a.code==="ENOENT"||a.code==="ENOTDIR"))return this.statCache[e]=!1,!1}if(o&&o.isSymbolicLink())try{i=this.fs.statSync(e)}catch{i=o}else i=o}this.statCache[e]=i;var s=!0;return i&&(s=i.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||s,t&&s==="FILE"?!1:s};Fl.prototype._mark=function(r){return iE.mark(this,r)};Fl.prototype._makeAbs=function(r){return iE.makeAbs(this,r)}});var XX=C((C9t,WPe)=>{WPe.exports=BPe;function BPe(r,e){if(r&&e)return BPe(r)(e);if(typeof r!="function")throw new TypeError("need wrapper function");return Object.keys(r).forEach(function(n){t[n]=r[n]}),t;function t(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var o=r.apply(this,n),s=n[n.length-1];return typeof o=="function"&&o!==s&&Object.keys(s).forEach(function(a){o[a]=s[a]}),o}}});var rM=C((T9t,QX)=>{var $Pe=XX();QX.exports=$Pe(FU);QX.exports.strict=$Pe(VPe);FU.proto=FU(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return FU(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return VPe(this)},configurable:!0})});function FU(r){var e=function(){return e.called?e.value:(e.called=!0,e.value=r.apply(this,arguments))};return e.called=!1,e}function VPe(r){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=r.apply(this,arguments)},t=r.name||"Function wrapped with `once`";return e.onceError=t+" shouldn't be called more than once",e.called=!1,e}});var KPe=C((D9t,GPe)=>{var Wvt=XX(),nM=Object.create(null),$vt=rM();GPe.exports=Wvt(Vvt);function Vvt(r,e){return nM[r]?(nM[r].push(e),null):(nM[r]=[e],Gvt(r))}function Gvt(r){return $vt(function e(){var t=nM[r],n=t.length,i=Kvt(arguments);try{for(var o=0;o<n;o++)t[o].apply(null,i)}finally{t.length>n?(t.splice(0,n),process.nextTick(function(){e.apply(null,i)})):delete nM[r]}})}function Kvt(r){for(var e=r.length,t=[],n=0;n<e;n++)t[n]=r[n];return t}});var JX=C((P9t,JPe)=>{JPe.exports=oE;var Yvt=NX(),YPe=nE(),E9t=YPe.Minimatch,Jvt=kPe(),Xvt=require("events").EventEmitter,ZX=require("path"),eQ=require("assert"),iM=MU(),rQ=HPe(),sE=GX(),Qvt=sE.setopts,tQ=sE.ownProp,nQ=KPe(),R9t=require("util"),Zvt=sE.childrenIgnored,eyt=sE.isIgnored,tyt=rM();function oE(r,e,t){if(typeof e=="function"&&(t=e,e={}),e||(e={}),e.sync){if(t)throw new TypeError("callback provided to sync glob");return rQ(r,e)}return new As(r,e,t)}oE.sync=rQ;var ryt=oE.GlobSync=rQ.GlobSync;oE.glob=oE;function nyt(r,e){if(e===null||typeof e!="object")return r;for(var t=Object.keys(e),n=t.length;n--;)r[t[n]]=e[t[n]];return r}oE.hasMagic=function(r,e){var t=nyt({},e);t.noprocess=!0;var n=new As(r,t),i=n.minimatch.set;if(!r)return!1;if(i.length>1)return!0;for(var o=0;o<i[0].length;o++)if(typeof i[0][o]!="string")return!0;return!1};oE.Glob=As;Jvt(As,Xvt);function As(r,e,t){if(typeof e=="function"&&(t=e,e=null),e&&e.sync){if(t)throw new TypeError("callback provided to sync glob");return new ryt(r,e)}if(!(this instanceof As))return new As(r,e,t);Qvt(this,r,e),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),typeof t=="function"&&(t=tyt(t),this.on("error",t),this.on("end",function(c){t(null,c)}));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(n===0)return a();for(var o=!0,s=0;s<n;s++)this._process(this.minimatch.set[s],s,!1,a);o=!1;function a(){--i._processing,i._processing<=0&&(o?process.nextTick(function(){i._finish()}):i._finish())}}As.prototype._finish=function(){if(eQ(this instanceof As),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();sE.finish(this),this.emit("end",this.found)}};As.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var r=this.matches.length;if(r===0)return this._finish();for(var e=this,t=0;t<this.matches.length;t++)this._realpathSet(t,n);function n(){--r===0&&e._finish()}};As.prototype._realpathSet=function(r,e){var t=this.matches[r];if(!t)return e();var n=Object.keys(t),i=this,o=n.length;if(o===0)return e();var s=this.matches[r]=Object.create(null);n.forEach(function(a,c){a=i._makeAbs(a),Yvt.realpath(a,i.realpathCache,function(u,l){u?u.syscall==="stat"?s[a]=!0:i.emit("error",u):s[l]=!0,--o===0&&(i.matches[r]=s,e())})})};As.prototype._mark=function(r){return sE.mark(this,r)};As.prototype._makeAbs=function(r){return sE.makeAbs(this,r)};As.prototype.abort=function(){this.aborted=!0,this.emit("abort")};As.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};As.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var r=this._emitQueue.slice(0);this._emitQueue.length=0;for(var e=0;e<r.length;e++){var t=r[e];this._emitMatch(t[0],t[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);this._processQueue.length=0;for(var e=0;e<n.length;e++){var i=n[e];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}};As.prototype._process=function(r,e,t,n){if(eQ(this instanceof As),eQ(typeof n=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([r,e,t,n]);return}for(var i=0;typeof r[i]=="string";)i++;var o;switch(i){case r.length:this._processSimple(r.join("/"),e,n);return;case 0:o=null;break;default:o=r.slice(0,i).join("/");break}var s=r.slice(i),a;o===null?a=".":((iM(o)||iM(r.join("/")))&&(!o||!iM(o))&&(o="/"+o),a=o);var c=this._makeAbs(a);if(Zvt(this,a))return n();var u=s[0]===YPe.GLOBSTAR;u?this._processGlobStar(o,a,c,s,e,t,n):this._processReaddir(o,a,c,s,e,t,n)}};As.prototype._processReaddir=function(r,e,t,n,i,o,s){var a=this;this._readdir(t,o,function(c,u){return a._processReaddir2(r,e,t,n,i,o,u,s)})};As.prototype._processReaddir2=function(r,e,t,n,i,o,s,a){if(!s)return a();for(var c=n[0],u=!!this.minimatch.negate,l=c._glob,d=this.dot||l.charAt(0)===".",f=[],p=0;p<s.length;p++){var _=s[p];if(_.charAt(0)!=="."||d){var D;u&&!r?D=!_.match(c):D=_.match(c),D&&f.push(_)}}var P=f.length;if(P===0)return a();if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var p=0;p<P;p++){var _=f[p];r&&(r!=="/"?_=r+"/"+_:_=r+_),_.charAt(0)==="/"&&!this.nomount&&(_=ZX.join(this.root,_)),this._emitMatch(i,_)}return a()}n.shift();for(var p=0;p<P;p++){var _=f[p],M;r&&(r!=="/"?_=r+"/"+_:_=r+_),this._process([_].concat(n),i,o,a)}a()};As.prototype._emitMatch=function(r,e){if(!this.aborted&&!eyt(this,e)){if(this.paused){this._emitQueue.push([r,e]);return}var t=iM(e)?e:this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=t),!this.matches[r][e]){if(this.nodir){var n=this.cache[t];if(n==="DIR"||Array.isArray(n))return}this.matches[r][e]=!0;var i=this.statCache[t];i&&this.emit("stat",e,i),this.emit("match",e)}}};As.prototype._readdirInGlobStar=function(r,e){if(this.aborted)return;if(this.follow)return this._readdir(r,!1,e);var t="lstat\0"+r,n=this,i=nQ(t,o);i&&n.fs.lstat(r,i);function o(s,a){if(s&&s.code==="ENOENT")return e();var c=a&&a.isSymbolicLink();n.symlinks[r]=c,!c&&a&&!a.isDirectory()?(n.cache[r]="FILE",e()):n._readdir(r,!1,e)}};As.prototype._readdir=function(r,e,t){if(!this.aborted&&(t=nQ("readdir\0"+r+"\0"+e,t),!!t)){if(e&&!tQ(this.symlinks,r))return this._readdirInGlobStar(r,t);if(tQ(this.cache,r)){var n=this.cache[r];if(!n||n==="FILE")return t();if(Array.isArray(n))return t(null,n)}var i=this;i.fs.readdir(r,iyt(this,r,t))}};function iyt(r,e,t){return function(n,i){n?r._readdirError(e,n,t):r._readdirEntries(e,i,t)}}As.prototype._readdirEntries=function(r,e,t){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<e.length;n++){var i=e[n];r==="/"?i=r+i:i=r+"/"+i,this.cache[i]=!0}return this.cache[r]=e,t(null,e)}};As.prototype._readdirError=function(r,e,t){if(!this.aborted){switch(e.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(r);if(this.cache[n]="FILE",n===this.cwdAbs){var i=new Error(e.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=e.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(r)]=!1;break;default:this.cache[this._makeAbs(r)]=!1,this.strict&&(this.emit("error",e),this.abort()),this.silent||console.error("glob error",e);break}return t()}};As.prototype._processGlobStar=function(r,e,t,n,i,o,s){var a=this;this._readdir(t,o,function(c,u){a._processGlobStar2(r,e,t,n,i,o,u,s)})};As.prototype._processGlobStar2=function(r,e,t,n,i,o,s,a){if(!s)return a();var c=n.slice(1),u=r?[r]:[],l=u.concat(c);this._process(l,i,!1,a);var d=this.symlinks[t],f=s.length;if(d&&o)return a();for(var p=0;p<f;p++){var _=s[p];if(!(_.charAt(0)==="."&&!this.dot)){var D=u.concat(s[p],c);this._process(D,i,!0,a);var P=u.concat(s[p],n);this._process(P,i,!0,a)}}a()};As.prototype._processSimple=function(r,e,t){var n=this;this._stat(r,function(i,o){n._processSimple2(r,e,i,o,t)})};As.prototype._processSimple2=function(r,e,t,n,i){if(this.matches[e]||(this.matches[e]=Object.create(null)),!n)return i();if(r&&iM(r)&&!this.nomount){var o=/[\/\\]$/.test(r);r.charAt(0)==="/"?r=ZX.join(this.root,r):(r=ZX.resolve(this.root,r),o&&(r+="/"))}process.platform==="win32"&&(r=r.replace(/\\/g,"/")),this._emitMatch(e,r),i()};As.prototype._stat=function(r,e){var t=this._makeAbs(r),n=r.slice(-1)==="/";if(r.length>this.maxLength)return e();if(!this.stat&&tQ(this.cache,t)){var i=this.cache[t];if(Array.isArray(i)&&(i="DIR"),!n||i==="DIR")return e(null,i);if(n&&i==="FILE")return e()}var o,s=this.statCache[t];if(s!==void 0){if(s===!1)return e(null,s);var a=s.isDirectory()?"DIR":"FILE";return n&&a==="FILE"?e():e(null,a,s)}var c=this,u=nQ("stat\0"+t,l);u&&c.fs.lstat(t,u);function l(d,f){if(f&&f.isSymbolicLink())return c.fs.stat(t,function(p,_){p?c._stat2(r,t,null,f,e):c._stat2(r,t,p,_,e)});c._stat2(r,t,d,f,e)}};As.prototype._stat2=function(r,e,t,n,i){if(t&&(t.code==="ENOENT"||t.code==="ENOTDIR"))return this.statCache[e]=!1,i();var o=r.slice(-1)==="/";if(this.statCache[e]=n,e.slice(-1)==="/"&&n&&!n.isDirectory())return i(null,!1,n);var s=!0;return n&&(s=n.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||s,o&&s==="FILE"?i():i(null,s,n)}});var oxe=C((x9t,ixe)=>{ixe.exports=sQ;sQ.sync=nxe;var ys=require("assert"),exe=require("path"),XPe=require("fs"),zU=JX(),txe=parseInt("666",8),oyt={nosort:!0,silent:!0},iQ=0,oM=process.platform==="win32";function rxe(r){var e=["unlink","chmod","stat","lstat","rmdir","readdir"];e.forEach(function(t){r[t]=r[t]||XPe[t],t=t+"Sync",r[t]=r[t]||XPe[t]}),r.maxBusyTries=r.maxBusyTries||3,r.emfileWait=r.emfileWait||1e3,r.glob===!1&&(r.disableGlob=!0),r.disableGlob=r.disableGlob||!1,r.glob=r.glob||oyt}function sQ(r,e,t){typeof e=="function"&&(t=e,e={}),ys(r,"rimraf: missing path"),ys.equal(typeof r,"string","rimraf: path should be a string"),ys.equal(typeof t,"function","rimraf: callback function required"),ys(e,"rimraf: invalid options argument provided"),ys.equal(typeof e,"object","rimraf: options should be object"),rxe(e);var n=0,i=null,o=0;if(e.disableGlob||!zU.hasMagic(r))return a(null,[r]);e.lstat(r,function(c,u){if(!c)return a(null,[r]);zU(r,e.glob,a)});function s(c){i=i||c,--o===0&&t(i)}function a(c,u){if(c)return t(c);if(o=u.length,o===0)return t();u.forEach(function(l){oQ(l,e,function d(f){if(f){if((f.code==="EBUSY"||f.code==="ENOTEMPTY"||f.code==="EPERM")&&n<e.maxBusyTries){n++;var p=n*100;return setTimeout(function(){oQ(l,e,d)},p)}if(f.code==="EMFILE"&&iQ<e.emfileWait)return setTimeout(function(){oQ(l,e,d)},iQ++);f.code==="ENOENT"&&(f=null)}iQ=0,s(f)})})}}function oQ(r,e,t){ys(r),ys(e),ys(typeof t=="function"),e.lstat(r,function(n,i){if(n&&n.code==="ENOENT")return t(null);if(n&&n.code==="EPERM"&&oM&&QPe(r,e,n,t),i&&i.isDirectory())return qU(r,e,n,t);e.unlink(r,function(o){if(o){if(o.code==="ENOENT")return t(null);if(o.code==="EPERM")return oM?QPe(r,e,o,t):qU(r,e,o,t);if(o.code==="EISDIR")return qU(r,e,o,t)}return t(o)})})}function QPe(r,e,t,n){ys(r),ys(e),ys(typeof n=="function"),t&&ys(t instanceof Error),e.chmod(r,txe,function(i){i?n(i.code==="ENOENT"?null:t):e.stat(r,function(o,s){o?n(o.code==="ENOENT"?null:t):s.isDirectory()?qU(r,e,t,n):e.unlink(r,n)})})}function ZPe(r,e,t){ys(r),ys(e),t&&ys(t instanceof Error);try{e.chmodSync(r,txe)}catch(i){if(i.code==="ENOENT")return;throw t}try{var n=e.statSync(r)}catch(i){if(i.code==="ENOENT")return;throw t}n.isDirectory()?jU(r,e,t):e.unlinkSync(r)}function qU(r,e,t,n){ys(r),ys(e),t&&ys(t instanceof Error),ys(typeof n=="function"),e.rmdir(r,function(i){i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")?syt(r,e,n):i&&i.code==="ENOTDIR"?n(t):n(i)})}function syt(r,e,t){ys(r),ys(e),ys(typeof t=="function"),e.readdir(r,function(n,i){if(n)return t(n);var o=i.length;if(o===0)return e.rmdir(r,t);var s;i.forEach(function(a){sQ(exe.join(r,a),e,function(c){if(!s){if(c)return t(s=c);--o===0&&e.rmdir(r,t)}})})})}function nxe(r,e){e=e||{},rxe(e),ys(r,"rimraf: missing path"),ys.equal(typeof r,"string","rimraf: path should be a string"),ys(e,"rimraf: missing options"),ys.equal(typeof e,"object","rimraf: options should be object");var t;if(e.disableGlob||!zU.hasMagic(r))t=[r];else try{e.lstatSync(r),t=[r]}catch{t=zU.sync(r,e.glob)}if(t.length)for(var n=0;n<t.length;n++){var r=t[n];try{var i=e.lstatSync(r)}catch(s){if(s.code==="ENOENT")return;s.code==="EPERM"&&oM&&ZPe(r,e,s)}try{i&&i.isDirectory()?jU(r,e,null):e.unlinkSync(r)}catch(s){if(s.code==="ENOENT")return;if(s.code==="EPERM")return oM?ZPe(r,e,s):jU(r,e,s);if(s.code!=="EISDIR")throw s;jU(r,e,s)}}}function jU(r,e,t){ys(r),ys(e),t&&ys(t instanceof Error);try{e.rmdirSync(r)}catch(n){if(n.code==="ENOENT")return;if(n.code==="ENOTDIR")throw t;(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")&&ayt(r,e)}}function ayt(r,e){ys(r),ys(e),e.readdirSync(r).forEach(function(s){nxe(exe.join(r,s),e)});var t=oM?100:1,n=0;do{var i=!0;try{var o=e.rmdirSync(r,e);return i=!1,o}finally{if(++n<t&&i)continue}}while(!0)}});var uxe=C(Ri=>{"use strict";var go=require("fs"),sxe=require("path"),cyt=oxe(),JP=require("fs");Ri.createReadStream=JP.createReadStream;Ri.createWriteStream=JP.createWriteStream;Ri.watch=JP.watch;Ri.watchFile=JP.watchFile;Ri.unwatchFile=JP.unwatchFile;Ri.constants=JP.constants;function uyt(r,e){return Ao(go.access,arguments)}Ri.access=uyt;function lyt(r,e,t){return Ao(go.appendFile,arguments)}Ri.appendFile=lyt;function dyt(r,e){return Ao(go.chmod,arguments)}Ri.chmod=dyt;function fyt(r,e,t){return Ao(go.chown,arguments)}Ri.chown=fyt;function hyt(r){return Ao(go.close,arguments)}Ri.close=hyt;function pyt(r,e){return Ao(go.fchmod,arguments)}Ri.fchmod=pyt;function myt(r,e,t){return Ao(go.fchown,arguments)}Ri.fchown=myt;function gyt(r){return Ao(go.fstat,arguments)}Ri.fstat=gyt;function vyt(r,e){return Ao(go.ftruncate,arguments)}Ri.ftruncate=vyt;function yyt(r,e,t){return Ao(go.futimes,arguments)}Ri.futimes=yyt;function _yt(r){return Ao(go.fsync,arguments)}Ri.fsync=_yt;function byt(r,e){return Ao(go.lchmod,arguments)}Ri.lchmod=byt;function wyt(r,e,t){return Ao(go.lchown,arguments)}Ri.lchown=wyt;function Syt(r,e){return Ao(go.link,arguments)}Ri.link=Syt;function Cyt(r){return Ao(go.lstat,arguments)}Ri.lstat=Cyt;function Tyt(r,e){return Ao(go.mkdir,arguments)}Ri.mkdir=Tyt;function Dyt(r){return Ao(go.mkdtemp,arguments)}Ri.mkdtemp=Dyt;function Eyt(r,e,t){return Ao(go.open,arguments)}Ri.open=Eyt;function Ryt(r,e,t,n,i){return Ao(go.read,arguments,null,function(){return{bytesRead:arguments[1],buffer:arguments[2]}})}Ri.read=Ryt;function Pyt(r){return Ao(go.readdir,arguments)}Ri.readdir=Pyt;function xyt(r,e){return Ao(go.readFile,arguments)}Ri.readFile=xyt;function Oyt(r){return Ao(go.readlink,arguments)}Ri.readlink=Oyt;function Iyt(r,e){return Ao(go.realpath,arguments)}Ri.realpath=Iyt;function kyt(r,e){return Ao(go.rename,arguments)}Ri.rename=kyt;function Ayt(r){return Ao(go.rmdir,arguments)}Ri.rmdir=Ayt;function Lyt(r){return Ao(go.stat,arguments)}Ri.stat=Lyt;function Myt(r,e,t){return Ao(go.symlink,arguments)}Ri.symlink=Myt;function Nyt(r,e){return Ao(go.truncate,arguments)}Ri.truncate=Nyt;function Fyt(r){return Ao(go.unlink,arguments)}Ri.unlink=Fyt;function qyt(r,e,t){return Ao(go.utimes,arguments)}Ri.utimes=qyt;function jyt(r){return Ao(go.write,arguments,null,function(){return{written:arguments[1],buffer:arguments[2]}})}Ri.write=jyt;function zyt(r,e,t){return Ao(go.writeFile,arguments)}Ri.writeFile=zyt;function Uyt(r,e,t){return e===void 0&&(e="utf8"),t==null&&(t="r"),Ao(go.readFile,[r,{encoding:e,flags:t}])}Ri.readTextFile=Uyt;function Hyt(r,e,t,n,i){t===void 0&&(t="utf8"),n==null&&(n="w");var o={encoding:t,flags:n,mode:i};return n[0]==="a"?Ao(go.appendFile,[r,e,o]):Ao(go.writeFile,[r,e,o])}Ri.writeTextFile=Hyt;function axe(r,e){return new Promise((t,n)=>aQ(r,e,i=>i?n(i):t()))}Ri.createDirectory=axe;Ri.mkdirp=axe;function cxe(r){return new Promise((e,t)=>cyt(r,n=>n?t(n):e()))}Ri.delete=cxe;Ri.rimraf=cxe;function Byt(r){return new Promise((e,t)=>go.lstat(r,n=>n?n.code==="ENOENT"?e(!1):t(n):e(!0)))}Ri.exists=Byt;function aQ(r,e,t){r=sxe.resolve(r),go.mkdir(r,e,n=>{n?n.code==="ENOENT"?aQ(sxe.dirname(r),e,i=>i?t(i):aQ(r,e,t)):go.stat(r,(i,o)=>i?t(i):o.isDirectory()?t(null):t(new Error(r+" is already a file"))):t(null)})}function Ao(r,e,t,n){return new Promise((i,o)=>{r.apply(t,Array.prototype.slice.call(e).concat([(s,a)=>{s?o(s):n?n.apply(t,arguments):i(a)}]))})}});var hxe=C((I9t,fxe)=>{fxe.exports=UU;function UU(){this.pending=0,this.max=1/0,this.listeners=[],this.waiting=[],this.error=null}UU.prototype.go=function(r){this.pending<this.max?dxe(this,r):this.waiting.push(r)};UU.prototype.wait=function(r){this.pending===0?r(this.error):this.listeners.push(r)};UU.prototype.hold=function(){return lxe(this)};function lxe(r){r.pending+=1;var e=!1;return t;function t(i){if(e)throw new Error("callback called twice");if(e=!0,r.error=r.error||i,r.pending-=1,r.waiting.length>0&&r.pending<r.max)dxe(r,r.waiting.shift());else if(r.pending===0){var o=r.listeners;r.listeners=[],o.forEach(n)}}function n(i){i(r.error)}}function dxe(r,e){e(lxe(r))}});var mxe=C(aM=>{var sM=require("fs"),HU=require("util"),cQ=require("stream"),pxe=cQ.Readable,uQ=cQ.Writable,Wyt=cQ.PassThrough,$yt=hxe(),BU=require("events").EventEmitter;aM.createFromBuffer=Vyt;aM.createFromFd=Gyt;aM.BufferSlicer=SS;aM.FdSlicer=wS;HU.inherits(wS,BU);function wS(r,e){e=e||{},BU.call(this),this.fd=r,this.pend=new $yt,this.pend.max=1,this.refCount=0,this.autoClose=!!e.autoClose}wS.prototype.read=function(r,e,t,n,i){var o=this;o.pend.go(function(s){sM.read(o.fd,r,e,t,n,function(a,c,u){s(),i(a,c,u)})})};wS.prototype.write=function(r,e,t,n,i){var o=this;o.pend.go(function(s){sM.write(o.fd,r,e,t,n,function(a,c,u){s(),i(a,c,u)})})};wS.prototype.createReadStream=function(r){return new WU(this,r)};wS.prototype.createWriteStream=function(r){return new $U(this,r)};wS.prototype.ref=function(){this.refCount+=1};wS.prototype.unref=function(){var r=this;if(r.refCount-=1,r.refCount>0)return;if(r.refCount<0)throw new Error("invalid unref");r.autoClose&&sM.close(r.fd,e);function e(t){t?r.emit("error",t):r.emit("close")}};HU.inherits(WU,pxe);function WU(r,e){e=e||{},pxe.call(this,e),this.context=r,this.context.ref(),this.start=e.start||0,this.endOffset=e.end,this.pos=this.start,this.destroyed=!1}WU.prototype._read=function(r){var e=this;if(!e.destroyed){var t=Math.min(e._readableState.highWaterMark,r);if(e.endOffset!=null&&(t=Math.min(t,e.endOffset-e.pos)),t<=0){e.destroyed=!0,e.push(null),e.context.unref();return}e.context.pend.go(function(n){if(e.destroyed)return n();var i=new Buffer(t);sM.read(e.context.fd,i,0,t,e.pos,function(o,s){o?e.destroy(o):s===0?(e.destroyed=!0,e.push(null),e.context.unref()):(e.pos+=s,e.push(i.slice(0,s))),n()})})}};WU.prototype.destroy=function(r){this.destroyed||(r=r||new Error("stream destroyed"),this.destroyed=!0,this.emit("error",r),this.context.unref())};HU.inherits($U,uQ);function $U(r,e){e=e||{},uQ.call(this,e),this.context=r,this.context.ref(),this.start=e.start||0,this.endOffset=e.end==null?1/0:+e.end,this.bytesWritten=0,this.pos=this.start,this.destroyed=!1,this.on("finish",this.destroy.bind(this))}$U.prototype._write=function(r,e,t){var n=this;if(!n.destroyed){if(n.pos+r.length>n.endOffset){var i=new Error("maximum file length exceeded");i.code="ETOOBIG",n.destroy(),t(i);return}n.context.pend.go(function(o){if(n.destroyed)return o();sM.write(n.context.fd,r,0,r.length,n.pos,function(s,a){s?(n.destroy(),o(),t(s)):(n.bytesWritten+=a,n.pos+=a,n.emit("progress"),o(),t())})})}};$U.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.context.unref())};HU.inherits(SS,BU);function SS(r,e){BU.call(this),e=e||{},this.refCount=0,this.buffer=r,this.maxChunkSize=e.maxChunkSize||Number.MAX_SAFE_INTEGER}SS.prototype.read=function(r,e,t,n,i){var o=n+t,s=o-this.buffer.length,a=s>0?s:t;this.buffer.copy(r,e,n,o),setImmediate(function(){i(null,a)})};SS.prototype.write=function(r,e,t,n,i){r.copy(this.buffer,n,e,e+t),setImmediate(function(){i(null,t,r)})};SS.prototype.createReadStream=function(r){r=r||{};var e=new Wyt(r);e.destroyed=!1,e.start=r.start||0,e.endOffset=r.end,e.pos=e.endOffset||this.buffer.length;for(var t=this.buffer.slice(e.start,e.pos),n=0;;){var i=n+this.maxChunkSize;if(i>=t.length){n<t.length&&e.write(t.slice(n,t.length));break}e.write(t.slice(n,i)),n=i}return e.end(),e.destroy=function(){e.destroyed=!0},e};SS.prototype.createWriteStream=function(r){var e=this;r=r||{};var t=new uQ(r);return t.start=r.start||0,t.endOffset=r.end==null?this.buffer.length:+r.end,t.bytesWritten=0,t.pos=t.start,t.destroyed=!1,t._write=function(n,i,o){if(!t.destroyed){var s=t.pos+n.length;if(s>t.endOffset){var a=new Error("maximum file length exceeded");a.code="ETOOBIG",t.destroyed=!0,o(a);return}n.copy(e.buffer,t.pos,0,n.length),t.bytesWritten+=n.length,t.pos=s,t.emit("progress"),o()}},t.destroy=function(){t.destroyed=!0},t};SS.prototype.ref=function(){this.refCount+=1};SS.prototype.unref=function(){if(this.refCount-=1,this.refCount<0)throw new Error("invalid unref")};function Vyt(r,e){return new SS(r,e)}function Gyt(r,e){return new wS(r,e)}});var yxe=C((A9t,vxe)=>{var VT=require("buffer").Buffer,lQ=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(lQ=new Int32Array(lQ));function gxe(r){if(VT.isBuffer(r))return r;var e=typeof VT.alloc=="function"&&typeof VT.from=="function";if(typeof r=="number")return e?VT.alloc(r):new VT(r);if(typeof r=="string")return e?VT.from(r):new VT(r);throw new Error("input must be buffer, number, or string, received "+typeof r)}function Kyt(r){var e=gxe(4);return e.writeInt32BE(r,0),e}function dQ(r,e){r=gxe(r),VT.isBuffer(e)&&(e=e.readUInt32BE(0));for(var t=~~e^-1,n=0;n<r.length;n++)t=lQ[(t^r[n])&255]^t>>>8;return t^-1}function fQ(){return Kyt(dQ.apply(null,arguments))}fQ.signed=function(){return dQ.apply(null,arguments)};fQ.unsigned=function(){return dQ.apply(null,arguments)>>>0};vxe.exports=fQ});var Dxe=C(Eb=>{var hQ=require("fs"),Yyt=require("zlib"),_xe=mxe(),Jyt=yxe(),KU=require("util"),YU=require("events").EventEmitter,bxe=require("stream").Transform,pQ=require("stream").PassThrough,Xyt=require("stream").Writable;Eb.open=Qyt;Eb.fromFd=wxe;Eb.fromBuffer=Zyt;Eb.fromRandomAccessReader=mQ;Eb.dosDateTimeToDate=Cxe;Eb.validateFileName=Txe;Eb.ZipFile=GT;Eb.Entry=cM;Eb.RandomAccessReader=KT;function Qyt(r,e,t){typeof e=="function"&&(t=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!0),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),t==null&&(t=GU),hQ.open(r,"r",function(n,i){if(n)return t(n);wxe(i,e,function(o,s){o&&hQ.close(i,GU),t(o,s)})})}function wxe(r,e,t){typeof e=="function"&&(t=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!1),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),t==null&&(t=GU),hQ.fstat(r,function(n,i){if(n)return t(n);var o=_xe.createFromFd(r,{autoClose:!0});mQ(o,i.size,e,t)})}function Zyt(r,e,t){typeof e=="function"&&(t=e,e=null),e==null&&(e={}),e.autoClose=!1,e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1);var n=_xe.createFromBuffer(r,{maxChunkSize:65536});mQ(n,r.length,e,t)}function mQ(r,e,t,n){typeof t=="function"&&(n=t,t=null),t==null&&(t={}),t.autoClose==null&&(t.autoClose=!0),t.lazyEntries==null&&(t.lazyEntries=!1),t.decodeStrings==null&&(t.decodeStrings=!0);var i=!!t.decodeStrings;if(t.validateEntrySizes==null&&(t.validateEntrySizes=!0),t.strictFileNames==null&&(t.strictFileNames=!1),n==null&&(n=GU),typeof e!="number")throw new Error("expected totalSize parameter to be a number");if(e>Number.MAX_SAFE_INTEGER)throw new Error("zip file too large. only file sizes up to 2^52 are supported due to JavaScript's Number type being an IEEE 754 double.");r.ref();var o=22,s=65535,a=Math.min(o+s,e),c=Db(a),u=e-c.length;XP(r,c,0,a,u,function(l){if(l)return n(l);for(var d=a-o;d>=0;d-=1)if(c.readUInt32LE(d)===101010256){var f=c.slice(d),p=f.readUInt16LE(4);if(p!==0)return n(new Error("multi-disk zip files are not supported: found disk number: "+p));var _=f.readUInt16LE(10),D=f.readUInt32LE(16),P=f.readUInt16LE(20),M=f.length-o;if(P!==M)return n(new Error("invalid comment length. expected: "+M+". found: "+P));var A=i?VU(f,22,f.length,!1):f.slice(22);if(!(_===65535||D===4294967295))return n(null,new GT(r,D,e,_,A,t.autoClose,t.lazyEntries,i,t.validateEntrySizes,t.strictFileNames));var U=Db(20),ne=u+d-U.length;XP(r,U,0,U.length,ne,function(pe){if(pe)return n(pe);if(U.readUInt32LE(0)!==117853008)return n(new Error("invalid zip64 end of central directory locator signature"));var ve=QP(U,8),V=Db(56);XP(r,V,0,V.length,ve,function(W){return W?n(W):V.readUInt32LE(0)!==101075792?n(new Error("invalid zip64 end of central directory record signature")):(_=QP(V,32),D=QP(V,48),n(null,new GT(r,D,e,_,A,t.autoClose,t.lazyEntries,i,t.validateEntrySizes,t.strictFileNames)))})});return}n(new Error("end of central directory record signature not found"))})}KU.inherits(GT,YU);function GT(r,e,t,n,i,o,s,a,c,u){var l=this;YU.call(l),l.reader=r,l.reader.on("error",function(d){Sxe(l,d)}),l.reader.once("close",function(){l.emit("close")}),l.readEntryCursor=e,l.fileSize=t,l.entryCount=n,l.comment=i,l.entriesRead=0,l.autoClose=!!o,l.lazyEntries=!!s,l.decodeStrings=!!a,l.validateEntrySizes=!!c,l.strictFileNames=!!u,l.isOpen=!0,l.emittedError=!1,l.lazyEntries||l._readEntry()}GT.prototype.close=function(){this.isOpen&&(this.isOpen=!1,this.reader.unref())};function e_(r,e){r.autoClose&&r.close(),Sxe(r,e)}function Sxe(r,e){r.emittedError||(r.emittedError=!0,r.emit("error",e))}GT.prototype.readEntry=function(){if(!this.lazyEntries)throw new Error("readEntry() called without lazyEntries:true");this._readEntry()};GT.prototype._readEntry=function(){var r=this;if(r.entryCount===r.entriesRead){setImmediate(function(){r.autoClose&&r.close(),!r.emittedError&&r.emit("end")});return}if(!r.emittedError){var e=Db(46);XP(r.reader,e,0,e.length,r.readEntryCursor,function(t){if(t)return e_(r,t);if(!r.emittedError){var n=new cM,i=e.readUInt32LE(0);if(i!==33639248)return e_(r,new Error("invalid central directory file header signature: 0x"+i.toString(16)));if(n.versionMadeBy=e.readUInt16LE(4),n.versionNeededToExtract=e.readUInt16LE(6),n.generalPurposeBitFlag=e.readUInt16LE(8),n.compressionMethod=e.readUInt16LE(10),n.lastModFileTime=e.readUInt16LE(12),n.lastModFileDate=e.readUInt16LE(14),n.crc32=e.readUInt32LE(16),n.compressedSize=e.readUInt32LE(20),n.uncompressedSize=e.readUInt32LE(24),n.fileNameLength=e.readUInt16LE(28),n.extraFieldLength=e.readUInt16LE(30),n.fileCommentLength=e.readUInt16LE(32),n.internalFileAttributes=e.readUInt16LE(36),n.externalFileAttributes=e.readUInt32LE(38),n.relativeOffsetOfLocalHeader=e.readUInt32LE(42),n.generalPurposeBitFlag&64)return e_(r,new Error("strong encryption is not supported"));r.readEntryCursor+=46,e=Db(n.fileNameLength+n.extraFieldLength+n.fileCommentLength),XP(r.reader,e,0,e.length,r.readEntryCursor,function(o){if(o)return e_(r,o);if(!r.emittedError){var s=(n.generalPurposeBitFlag&2048)!==0;n.fileName=r.decodeStrings?VU(e,0,n.fileNameLength,s):e.slice(0,n.fileNameLength);var a=n.fileNameLength+n.extraFieldLength,c=e.slice(n.fileNameLength,a);n.extraFields=[];for(var u=0;u<c.length-3;){var l=c.readUInt16LE(u+0),d=c.readUInt16LE(u+2),f=u+4,p=f+d;if(p>c.length)return e_(r,new Error("extra field length exceeds extra field buffer size"));var _=Db(d);c.copy(_,0,f,p),n.extraFields.push({id:l,data:_}),u=p}if(n.fileComment=r.decodeStrings?VU(e,a,a+n.fileCommentLength,s):e.slice(a,a+n.fileCommentLength),n.comment=n.fileComment,r.readEntryCursor+=e.length,r.entriesRead+=1,n.uncompressedSize===4294967295||n.compressedSize===4294967295||n.relativeOffsetOfLocalHeader===4294967295){for(var D=null,u=0;u<n.extraFields.length;u++){var P=n.extraFields[u];if(P.id===1){D=P.data;break}}if(D==null)return e_(r,new Error("expected zip64 extended information extra field"));var M=0;if(n.uncompressedSize===4294967295){if(M+8>D.length)return e_(r,new Error("zip64 extended information extra field does not include uncompressed size"));n.uncompressedSize=QP(D,M),M+=8}if(n.compressedSize===4294967295){if(M+8>D.length)return e_(r,new Error("zip64 extended information extra field does not include compressed size"));n.compressedSize=QP(D,M),M+=8}if(n.relativeOffsetOfLocalHeader===4294967295){if(M+8>D.length)return e_(r,new Error("zip64 extended information extra field does not include relative header offset"));n.relativeOffsetOfLocalHeader=QP(D,M),M+=8}}if(r.decodeStrings)for(var u=0;u<n.extraFields.length;u++){var P=n.extraFields[u];if(P.id===28789){if(P.data.length<6||P.data.readUInt8(0)!==1)continue;var A=P.data.readUInt32LE(1);if(Jyt.unsigned(e.slice(0,n.fileNameLength))!==A)continue;n.fileName=VU(P.data,5,P.data.length,!0);break}}if(r.validateEntrySizes&&n.compressionMethod===0){var U=n.uncompressedSize;if(n.isEncrypted()&&(U+=12),n.compressedSize!==U){var ne="compressed/uncompressed size mismatch for stored file: "+n.compressedSize+" != "+n.uncompressedSize;return e_(r,new Error(ne))}}if(r.decodeStrings){r.strictFileNames||(n.fileName=n.fileName.replace(/\\/g,"/"));var pe=Txe(n.fileName,r.validateFileNameOptions);if(pe!=null)return e_(r,new Error(pe))}r.emit("entry",n),r.lazyEntries||r._readEntry()}})}})}};GT.prototype.openReadStream=function(r,e,t){var n=this,i=0,o=r.compressedSize;if(t==null)t=e,e={};else{if(e.decrypt!=null){if(!r.isEncrypted())throw new Error("options.decrypt can only be specified for encrypted entries");if(e.decrypt!==!1)throw new Error("invalid options.decrypt value: "+e.decrypt);if(r.isCompressed()&&e.decompress!==!1)throw new Error("entry is encrypted and compressed, and options.decompress !== false")}if(e.decompress!=null){if(!r.isCompressed())throw new Error("options.decompress can only be specified for compressed entries");if(!(e.decompress===!1||e.decompress===!0))throw new Error("invalid options.decompress value: "+e.decompress)}if(e.start!=null||e.end!=null){if(r.isCompressed()&&e.decompress!==!1)throw new Error("start/end range not allowed for compressed entry without options.decompress === false");if(r.isEncrypted()&&e.decrypt!==!1)throw new Error("start/end range not allowed for encrypted entry without options.decrypt === false")}if(e.start!=null){if(i=e.start,i<0)throw new Error("options.start < 0");if(i>r.compressedSize)throw new Error("options.start > entry.compressedSize")}if(e.end!=null){if(o=e.end,o<0)throw new Error("options.end < 0");if(o>r.compressedSize)throw new Error("options.end > entry.compressedSize");if(o<i)throw new Error("options.end < options.start")}}if(!n.isOpen)return t(new Error("closed"));if(r.isEncrypted()&&e.decrypt!==!1)return t(new Error("entry is encrypted, and options.decrypt !== false"));n.reader.ref();var s=Db(30);XP(n.reader,s,0,s.length,r.relativeOffsetOfLocalHeader,function(a){try{if(a)return t(a);var c=s.readUInt32LE(0);if(c!==67324752)return t(new Error("invalid local file header signature: 0x"+c.toString(16)));var u=s.readUInt16LE(26),l=s.readUInt16LE(28),d=r.relativeOffsetOfLocalHeader+s.length+u+l,f;if(r.compressionMethod===0)f=!1;else if(r.compressionMethod===8)f=e.decompress!=null?e.decompress:!0;else return t(new Error("unsupported compression method: "+r.compressionMethod));var p=d,_=p+r.compressedSize;if(r.compressedSize!==0&&_>n.fileSize)return t(new Error("file data overflows file bounds: "+p+" + "+r.compressedSize+" > "+n.fileSize));var D=n.reader.createReadStream({start:p+i,end:p+o}),P=D;if(f){var M=!1,A=Yyt.createInflateRaw();D.on("error",function(U){setImmediate(function(){M||A.emit("error",U)})}),D.pipe(A),n.validateEntrySizes?(P=new uM(r.uncompressedSize),A.on("error",function(U){setImmediate(function(){M||P.emit("error",U)})}),A.pipe(P)):P=A,P.destroy=function(){M=!0,A!==P&&A.unpipe(P),D.unpipe(A),D.destroy()}}t(null,P)}finally{n.reader.unref()}})};function cM(){}cM.prototype.getLastModDate=function(){return Cxe(this.lastModFileDate,this.lastModFileTime)};cM.prototype.isEncrypted=function(){return(this.generalPurposeBitFlag&1)!==0};cM.prototype.isCompressed=function(){return this.compressionMethod===8};function Cxe(r,e){var t=r&31,n=(r>>5&15)-1,i=(r>>9&127)+1980,o=0,s=(e&31)*2,a=e>>5&63,c=e>>11&31;return new Date(i,n,t,c,a,s,o)}function Txe(r){return r.indexOf("\\")!==-1?"invalid characters in fileName: "+r:/^[a-zA-Z]:/.test(r)||/^\//.test(r)?"absolute path: "+r:r.split("/").indexOf("..")!==-1?"invalid relative path: "+r:null}function XP(r,e,t,n,i,o){if(n===0)return setImmediate(function(){o(null,Db(0))});r.read(e,t,n,i,function(s,a){if(s)return o(s);if(a<n)return o(new Error("unexpected EOF"));o()})}KU.inherits(uM,bxe);function uM(r){bxe.call(this),this.actualByteCount=0,this.expectedByteCount=r}uM.prototype._transform=function(r,e,t){if(this.actualByteCount+=r.length,this.actualByteCount>this.expectedByteCount){var n="too many bytes in the stream. expected "+this.expectedByteCount+". got at least "+this.actualByteCount;return t(new Error(n))}t(null,r)};uM.prototype._flush=function(r){if(this.actualByteCount<this.expectedByteCount){var e="not enough bytes in the stream. expected "+this.expectedByteCount+". got only "+this.actualByteCount;return r(new Error(e))}r()};KU.inherits(KT,YU);function KT(){YU.call(this),this.refCount=0}KT.prototype.ref=function(){this.refCount+=1};KT.prototype.unref=function(){var r=this;if(r.refCount-=1,r.refCount>0)return;if(r.refCount<0)throw new Error("invalid unref");r.close(e);function e(t){if(t)return r.emit("error",t);r.emit("close")}};KT.prototype.createReadStream=function(r){var e=r.start,t=r.end;if(e===t){var n=new pQ;return setImmediate(function(){n.end()}),n}var i=this._readStreamForRange(e,t),o=!1,s=new JU(this);i.on("error",function(c){setImmediate(function(){o||s.emit("error",c)})}),s.destroy=function(){i.unpipe(s),s.unref(),i.destroy()};var a=new uM(t-e);return s.on("error",function(c){setImmediate(function(){o||a.emit("error",c)})}),a.destroy=function(){o=!0,s.unpipe(a),s.destroy()},i.pipe(s).pipe(a)};KT.prototype._readStreamForRange=function(r,e){throw new Error("not implemented")};KT.prototype.read=function(r,e,t,n,i){var o=this.createReadStream({start:n,end:n+t}),s=new Xyt,a=0;s._write=function(c,u,l){c.copy(r,e+a,0,c.length),a+=c.length,l()},s.on("finish",i),o.on("error",function(c){i(c)}),o.pipe(s)};KT.prototype.close=function(r){setImmediate(r)};KU.inherits(JU,pQ);function JU(r){pQ.call(this),this.context=r,this.context.ref(),this.unreffedYet=!1}JU.prototype._flush=function(r){this.unref(),r()};JU.prototype.unref=function(r){this.unreffedYet||(this.unreffedYet=!0,this.context.unref())};var e_t="\0\u263A\u263B\u2665\u2666\u2663\u2660\u2022\u25D8\u25CB\u25D9\u2642\u2640\u266A\u266B\u263C\u25BA\u25C4\u2195\u203C\xB6\xA7\u25AC\u21A8\u2191\u2193\u2192\u2190\u221F\u2194\u25B2\u25BC !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\u2302\xC7\xFC\xE9\xE2\xE4\xE0\xE5\xE7\xEA\xEB\xE8\xEF\xEE\xEC\xC4\xC5\xC9\xE6\xC6\xF4\xF6\xF2\xFB\xF9\xFF\xD6\xDC\xA2\xA3\xA5\u20A7\u0192\xE1\xED\xF3\xFA\xF1\xD1\xAA\xBA\xBF\u2310\xAC\xBD\xBC\xA1\xAB\xBB\u2591\u2592\u2593\u2502\u2524\u2561\u2562\u2556\u2555\u2563\u2551\u2557\u255D\u255C\u255B\u2510\u2514\u2534\u252C\u251C\u2500\u253C\u255E\u255F\u255A\u2554\u2569\u2566\u2560\u2550\u256C\u2567\u2568\u2564\u2565\u2559\u2558\u2552\u2553\u256B\u256A\u2518\u250C\u2588\u2584\u258C\u2590\u2580\u03B1\xDF\u0393\u03C0\u03A3\u03C3\xB5\u03C4\u03A6\u0398\u03A9\u03B4\u221E\u03C6\u03B5\u2229\u2261\xB1\u2265\u2264\u2320\u2321\xF7\u2248\xB0\u2219\xB7\u221A\u207F\xB2\u25A0\xA0";function VU(r,e,t,n){if(n)return r.toString("utf8",e,t);for(var i="",o=e;o<t;o++)i+=e_t[r[o]];return i}function QP(r,e){var t=r.readUInt32LE(e),n=r.readUInt32LE(e+4);return n*4294967296+t}var Db;typeof Buffer.allocUnsafe=="function"?Db=function(r){return Buffer.allocUnsafe(r)}:Db=function(r){return new Buffer(r)};function GU(r){if(r)throw r}});var qOe=C((HYt,FOe)=>{"use strict";FOe.exports=function(r){try{return r()}catch{}}});var BOe=C((BYt,HOe)=>{HOe.exports=UOe;UOe.sync=g_t;var jOe=require("fs");function m_t(r,e){var t=e.pathExt!==void 0?e.pathExt:process.env.PATHEXT;if(!t||(t=t.split(";"),t.indexOf("")!==-1))return!0;for(var n=0;n<t.length;n++){var i=t[n].toLowerCase();if(i&&r.substr(-i.length).toLowerCase()===i)return!0}return!1}function zOe(r,e,t){return!r.isSymbolicLink()&&!r.isFile()?!1:m_t(e,t)}function UOe(r,e,t){jOe.stat(r,function(n,i){t(n,n?!1:zOe(i,r,e))})}function g_t(r,e){return zOe(jOe.statSync(r),r,e)}});var KOe=C((WYt,GOe)=>{GOe.exports=$Oe;$Oe.sync=v_t;var WOe=require("fs");function $Oe(r,e,t){WOe.stat(r,function(n,i){t(n,n?!1:VOe(i,e))})}function v_t(r,e){return VOe(WOe.statSync(r),e)}function VOe(r,e){return r.isFile()&&y_t(r,e)}function y_t(r,e){var t=r.mode,n=r.uid,i=r.gid,o=e.uid!==void 0?e.uid:process.getuid&&process.getuid(),s=e.gid!==void 0?e.gid:process.getgid&&process.getgid(),a=parseInt("100",8),c=parseInt("010",8),u=parseInt("001",8),l=a|c,d=t&u||t&c&&i===s||t&a&&n===o||t&l&&o===0;return d}});var EQ=C((VYt,YOe)=>{var $Yt=require("fs"),yB;process.platform==="win32"||global.TESTING_WINDOWS?yB=BOe():yB=KOe();YOe.exports=DQ;DQ.sync=__t;function DQ(r,e,t){if(typeof e=="function"&&(t=e,e={}),!t){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,i){DQ(r,e||{},function(o,s){o?i(o):n(s)})})}yB(r,e||{},function(n,i){n&&(n.code==="EACCES"||e&&e.ignoreErrors)&&(n=null,i=!1),t(n,i)})}function __t(r,e){try{return yB.sync(r,e||{})}catch(t){if(e&&e.ignoreErrors||t.code==="EACCES")return!1;throw t}}});var rIe=C((GYt,tIe)=>{tIe.exports=eIe;eIe.sync=w_t;var RQ=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",JOe=require("path"),b_t=RQ?";":":",XOe=EQ();function QOe(r){var e=new Error("not found: "+r);return e.code="ENOENT",e}function ZOe(r,e){var t=e.colon||b_t,n=e.path||process.env.PATH||"",i=[""];n=n.split(t);var o="";return RQ&&(n.unshift(process.cwd()),o=e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM",i=o.split(t),r.indexOf(".")!==-1&&i[0]!==""&&i.unshift("")),(r.match(/\//)||RQ&&r.match(/\\/))&&(n=[""]),{env:n,ext:i,extExe:o}}function eIe(r,e,t){typeof e=="function"&&(t=e,e={});var n=ZOe(r,e),i=n.env,o=n.ext,s=n.extExe,a=[];(function c(u,l){if(u===l)return e.all&&a.length?t(null,a):t(QOe(r));var d=i[u];d.charAt(0)==='"'&&d.slice(-1)==='"'&&(d=d.slice(1,-1));var f=JOe.join(d,r);!d&&/^\.[\\\/]/.test(r)&&(f=r.slice(0,2)+f),function p(_,D){if(_===D)return c(u+1,l);var P=o[_];XOe(f+P,{pathExt:s},function(M,A){if(!M&&A)if(e.all)a.push(f+P);else return t(null,f+P);return p(_+1,D)})}(0,o.length)})(0,i.length)}function w_t(r,e){e=e||{};for(var t=ZOe(r,e),n=t.env,i=t.ext,o=t.extExe,s=[],a=0,c=n.length;a<c;a++){var u=n[a];u.charAt(0)==='"'&&u.slice(-1)==='"'&&(u=u.slice(1,-1));var l=JOe.join(u,r);!u&&/^\.[\\\/]/.test(r)&&(l=r.slice(0,2)+l);for(var d=0,f=i.length;d<f;d++){var p=l+i[d],_;try{if(_=XOe.sync(p,{pathExt:o}),_)if(e.all)s.push(p);else return p}catch{}}}if(e.all&&s.length)return s;if(e.nothrow)return null;throw QOe(r)}});var iIe=C((KYt,nIe)=>{"use strict";nIe.exports=r=>{r=r||{};let e=r.env||process.env;return(r.platform||process.platform)!=="win32"?"PATH":Object.keys(e).find(n=>n.toUpperCase()==="PATH")||"Path"}});var cIe=C((YYt,aIe)=>{"use strict";var oIe=require("path"),S_t=rIe(),C_t=iIe()();function sIe(r,e){let t=process.cwd(),n=r.options.cwd!=null,i=n&&process.chdir!==void 0;if(i)try{process.chdir(r.options.cwd)}catch{}let o;try{o=S_t.sync(r.command,{path:(r.options.env||process.env)[C_t],pathExt:e?oIe.delimiter:void 0})}catch{}finally{i&&process.chdir(t)}return o&&(o=oIe.resolve(n?r.options.cwd:"",o)),o}function T_t(r){return sIe(r)||sIe(r,!0)}aIe.exports=T_t});var uIe=C((JYt,xQ)=>{"use strict";var PQ=/([()\][%!^"`<>&|;, *?])/g;function D_t(r){return r=r.replace(PQ,"^$1"),r}function E_t(r,e){return r=`${r}`,r=r.replace(/(?=(\\+?)?)\1"/g,'$1$1\\"'),r=r.replace(/(?=(\\+?)?)\1$/,"$1$1"),r=`"${r}"`,r=r.replace(PQ,"^$1"),e&&(r=r.replace(PQ,"^$1")),r}xQ.exports.command=D_t;xQ.exports.argument=E_t});var dIe=C((XYt,lIe)=>{"use strict";lIe.exports=/^#!.*/});var hIe=C((QYt,fIe)=>{"use strict";var R_t=dIe();fIe.exports=function(r){var e=r.match(R_t);if(!e)return null;var t=e[0].replace(/#! ?/,"").split(" "),n=t[0].split("/").pop(),i=t[1];return n==="env"?i:n+(i?" "+i:"")}});var mIe=C((ZYt,pIe)=>{"use strict";var OQ=require("fs"),P_t=hIe();function x_t(r){let t;Buffer.alloc?t=Buffer.alloc(150):(t=new Buffer(150),t.fill(0));let n;try{n=OQ.openSync(r,"r"),OQ.readSync(n,t,0,150,0),OQ.closeSync(n)}catch{}return P_t(t.toString())}pIe.exports=x_t});var kIe=C((Li,IIe)=>{Li=IIe.exports=Lo;var Us;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?Us=function(){var r=Array.prototype.slice.call(arguments,0);r.unshift("SEMVER"),console.log.apply(console,r)}:Us=function(){};Li.SEMVER_SPEC_VERSION="2.0.0";var bM=256,_B=Number.MAX_SAFE_INTEGER||9007199254740991,IQ=16,O_t=bM-6,wM=Li.re=[],Ra=Li.safeRe=[],dr=Li.src=[],Co=0,NQ="[a-zA-Z0-9-]",kQ=[["\\s",1],["\\d",bM],[NQ,O_t]];function DB(r){for(var e=0;e<kQ.length;e++){var t=kQ[e][0],n=kQ[e][1];r=r.split(t+"*").join(t+"{0,"+n+"}").split(t+"+").join(t+"{1,"+n+"}")}return r}var hx=Co++;dr[hx]="0|[1-9]\\d*";var px=Co++;dr[px]="\\d+";var FQ=Co++;dr[FQ]="\\d*[a-zA-Z-]"+NQ+"*";var vIe=Co++;dr[vIe]="("+dr[hx]+")\\.("+dr[hx]+")\\.("+dr[hx]+")";var yIe=Co++;dr[yIe]="("+dr[px]+")\\.("+dr[px]+")\\.("+dr[px]+")";var AQ=Co++;dr[AQ]="(?:"+dr[hx]+"|"+dr[FQ]+")";var LQ=Co++;dr[LQ]="(?:"+dr[px]+"|"+dr[FQ]+")";var qQ=Co++;dr[qQ]="(?:-("+dr[AQ]+"(?:\\."+dr[AQ]+")*))";var jQ=Co++;dr[jQ]="(?:-?("+dr[LQ]+"(?:\\."+dr[LQ]+")*))";var MQ=Co++;dr[MQ]=NQ+"+";var CM=Co++;dr[CM]="(?:\\+("+dr[MQ]+"(?:\\."+dr[MQ]+")*))";var zQ=Co++,_Ie="v?"+dr[vIe]+dr[qQ]+"?"+dr[CM]+"?";dr[zQ]="^"+_Ie+"$";var UQ="[v=\\s]*"+dr[yIe]+dr[jQ]+"?"+dr[CM]+"?",HQ=Co++;dr[HQ]="^"+UQ+"$";var _x=Co++;dr[_x]="((?:<|>)?=?)";var bB=Co++;dr[bB]=dr[px]+"|x|X|\\*";var wB=Co++;dr[wB]=dr[hx]+"|x|X|\\*";var uE=Co++;dr[uE]="[v=\\s]*("+dr[wB]+")(?:\\.("+dr[wB]+")(?:\\.("+dr[wB]+")(?:"+dr[qQ]+")?"+dr[CM]+"?)?)?";var gx=Co++;dr[gx]="[v=\\s]*("+dr[bB]+")(?:\\.("+dr[bB]+")(?:\\.("+dr[bB]+")(?:"+dr[jQ]+")?"+dr[CM]+"?)?)?";var bIe=Co++;dr[bIe]="^"+dr[_x]+"\\s*"+dr[uE]+"$";var wIe=Co++;dr[wIe]="^"+dr[_x]+"\\s*"+dr[gx]+"$";var SIe=Co++;dr[SIe]="(?:^|[^\\d])(\\d{1,"+IQ+"})(?:\\.(\\d{1,"+IQ+"}))?(?:\\.(\\d{1,"+IQ+"}))?(?:$|[^\\d])";var EB=Co++;dr[EB]="(?:~>?)";var vx=Co++;dr[vx]="(\\s*)"+dr[EB]+"\\s+";wM[vx]=new RegExp(dr[vx],"g");Ra[vx]=new RegExp(DB(dr[vx]),"g");var I_t="$1~",CIe=Co++;dr[CIe]="^"+dr[EB]+dr[uE]+"$";var TIe=Co++;dr[TIe]="^"+dr[EB]+dr[gx]+"$";var RB=Co++;dr[RB]="(?:\\^)";var yx=Co++;dr[yx]="(\\s*)"+dr[RB]+"\\s+";wM[yx]=new RegExp(dr[yx],"g");Ra[yx]=new RegExp(DB(dr[yx]),"g");var k_t="$1^",DIe=Co++;dr[DIe]="^"+dr[RB]+dr[uE]+"$";var EIe=Co++;dr[EIe]="^"+dr[RB]+dr[gx]+"$";var BQ=Co++;dr[BQ]="^"+dr[_x]+"\\s*("+UQ+")$|^$";var WQ=Co++;dr[WQ]="^"+dr[_x]+"\\s*("+_Ie+")$|^$";var lE=Co++;dr[lE]="(\\s*)"+dr[_x]+"\\s*("+UQ+"|"+dr[uE]+")";wM[lE]=new RegExp(dr[lE],"g");Ra[lE]=new RegExp(DB(dr[lE]),"g");var A_t="$1$2$3",RIe=Co++;dr[RIe]="^\\s*("+dr[uE]+")\\s+-\\s+("+dr[uE]+")\\s*$";var PIe=Co++;dr[PIe]="^\\s*("+dr[gx]+")\\s+-\\s+("+dr[gx]+")\\s*$";var xIe=Co++;dr[xIe]="(<|>)?=?\\s*\\*";for(Rb=0;Rb<Co;Rb++)Us(Rb,dr[Rb]),wM[Rb]||(wM[Rb]=new RegExp(dr[Rb]),Ra[Rb]=new RegExp(DB(dr[Rb])));var Rb;Li.parse=dE;function dE(r,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),r instanceof Lo)return r;if(typeof r!="string"||r.length>bM)return null;var t=e.loose?Ra[HQ]:Ra[zQ];if(!t.test(r))return null;try{return new Lo(r,e)}catch{return null}}Li.valid=L_t;function L_t(r,e){var t=dE(r,e);return t?t.version:null}Li.clean=M_t;function M_t(r,e){var t=dE(r.trim().replace(/^[=v]+/,""),e);return t?t.version:null}Li.SemVer=Lo;function Lo(r,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),r instanceof Lo){if(r.loose===e.loose)return r;r=r.version}else if(typeof r!="string")throw new TypeError("Invalid Version: "+r);if(r.length>bM)throw new TypeError("version is longer than "+bM+" characters");if(!(this instanceof Lo))return new Lo(r,e);Us("SemVer",r,e),this.options=e,this.loose=!!e.loose;var t=r.trim().match(e.loose?Ra[HQ]:Ra[zQ]);if(!t)throw new TypeError("Invalid Version: "+r);if(this.raw=r,this.major=+t[1],this.minor=+t[2],this.patch=+t[3],this.major>_B||this.major<0)throw new TypeError("Invalid major version");if(this.minor>_B||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>_B||this.patch<0)throw new TypeError("Invalid patch version");t[4]?this.prerelease=t[4].split(".").map(function(n){if(/^[0-9]+$/.test(n)){var i=+n;if(i>=0&&i<_B)return i}return n}):this.prerelease=[],this.build=t[5]?t[5].split("."):[],this.format()}Lo.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version};Lo.prototype.toString=function(){return this.version};Lo.prototype.compare=function(r){return Us("SemVer.compare",this.version,this.options,r),r instanceof Lo||(r=new Lo(r,this.options)),this.compareMain(r)||this.comparePre(r)};Lo.prototype.compareMain=function(r){return r instanceof Lo||(r=new Lo(r,this.options)),mx(this.major,r.major)||mx(this.minor,r.minor)||mx(this.patch,r.patch)};Lo.prototype.comparePre=function(r){if(r instanceof Lo||(r=new Lo(r,this.options)),this.prerelease.length&&!r.prerelease.length)return-1;if(!this.prerelease.length&&r.prerelease.length)return 1;if(!this.prerelease.length&&!r.prerelease.length)return 0;var e=0;do{var t=this.prerelease[e],n=r.prerelease[e];if(Us("prerelease compare",e,t,n),t===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(t===void 0)return-1;if(t===n)continue;return mx(t,n)}while(++e)};Lo.prototype.inc=function(r,e){switch(r){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",e),this.inc("pre",e);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var t=this.prerelease.length;--t>=0;)typeof this.prerelease[t]=="number"&&(this.prerelease[t]++,t=-2);t===-1&&this.prerelease.push(0)}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error("invalid increment argument: "+r)}return this.format(),this.raw=this.version,this};Li.inc=N_t;function N_t(r,e,t,n){typeof t=="string"&&(n=t,t=void 0);try{return new Lo(r,t).inc(e,n).version}catch{return null}}Li.diff=F_t;function F_t(r,e){if($Q(r,e))return null;var t=dE(r),n=dE(e),i="";if(t.prerelease.length||n.prerelease.length){i="pre";var o="prerelease"}for(var s in t)if((s==="major"||s==="minor"||s==="patch")&&t[s]!==n[s])return i+s;return o}Li.compareIdentifiers=mx;var gIe=/^[0-9]+$/;function mx(r,e){var t=gIe.test(r),n=gIe.test(e);return t&&n&&(r=+r,e=+e),r===e?0:t&&!n?-1:n&&!t?1:r<e?-1:1}Li.rcompareIdentifiers=q_t;function q_t(r,e){return mx(e,r)}Li.major=j_t;function j_t(r,e){return new Lo(r,e).major}Li.minor=z_t;function z_t(r,e){return new Lo(r,e).minor}Li.patch=U_t;function U_t(r,e){return new Lo(r,e).patch}Li.compare=ES;function ES(r,e,t){return new Lo(r,t).compare(new Lo(e,t))}Li.compareLoose=H_t;function H_t(r,e){return ES(r,e,!0)}Li.rcompare=B_t;function B_t(r,e,t){return ES(e,r,t)}Li.sort=W_t;function W_t(r,e){return r.sort(function(t,n){return Li.compare(t,n,e)})}Li.rsort=$_t;function $_t(r,e){return r.sort(function(t,n){return Li.rcompare(t,n,e)})}Li.gt=SM;function SM(r,e,t){return ES(r,e,t)>0}Li.lt=SB;function SB(r,e,t){return ES(r,e,t)<0}Li.eq=$Q;function $Q(r,e,t){return ES(r,e,t)===0}Li.neq=OIe;function OIe(r,e,t){return ES(r,e,t)!==0}Li.gte=VQ;function VQ(r,e,t){return ES(r,e,t)>=0}Li.lte=GQ;function GQ(r,e,t){return ES(r,e,t)<=0}Li.cmp=CB;function CB(r,e,t,n){switch(e){case"===":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r===t;case"!==":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r!==t;case"":case"=":case"==":return $Q(r,t,n);case"!=":return OIe(r,t,n);case">":return SM(r,t,n);case">=":return VQ(r,t,n);case"<":return SB(r,t,n);case"<=":return GQ(r,t,n);default:throw new TypeError("Invalid operator: "+e)}}Li.Comparator=Bv;function Bv(r,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),r instanceof Bv){if(r.loose===!!e.loose)return r;r=r.value}if(!(this instanceof Bv))return new Bv(r,e);r=r.trim().split(/\s+/).join(" "),Us("comparator",r,e),this.options=e,this.loose=!!e.loose,this.parse(r),this.semver===TM?this.value="":this.value=this.operator+this.semver.version,Us("comp",this)}var TM={};Bv.prototype.parse=function(r){var e=this.options.loose?Ra[BQ]:Ra[WQ],t=r.match(e);if(!t)throw new TypeError("Invalid comparator: "+r);this.operator=t[1],this.operator==="="&&(this.operator=""),t[2]?this.semver=new Lo(t[2],this.options.loose):this.semver=TM};Bv.prototype.toString=function(){return this.value};Bv.prototype.test=function(r){return Us("Comparator.test",r,this.options.loose),this.semver===TM?!0:(typeof r=="string"&&(r=new Lo(r,this.options)),CB(r,this.operator,this.semver,this.options))};Bv.prototype.intersects=function(r,e){if(!(r instanceof Bv))throw new TypeError("a Comparator is required");(!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1});var t;if(this.operator==="")return t=new Wc(r.value,e),TB(this.value,t,e);if(r.operator==="")return t=new Wc(this.value,e),TB(r.semver,t,e);var n=(this.operator===">="||this.operator===">")&&(r.operator===">="||r.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(r.operator==="<="||r.operator==="<"),o=this.semver.version===r.semver.version,s=(this.operator===">="||this.operator==="<=")&&(r.operator===">="||r.operator==="<="),a=CB(this.semver,"<",r.semver,e)&&(this.operator===">="||this.operator===">")&&(r.operator==="<="||r.operator==="<"),c=CB(this.semver,">",r.semver,e)&&(this.operator==="<="||this.operator==="<")&&(r.operator===">="||r.operator===">");return n||i||o&&s||a||c};Li.Range=Wc;function Wc(r,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),r instanceof Wc)return r.loose===!!e.loose&&r.includePrerelease===!!e.includePrerelease?r:new Wc(r.raw,e);if(r instanceof Bv)return new Wc(r.value,e);if(!(this instanceof Wc))return new Wc(r,e);if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=r.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(function(t){return this.parseRange(t.trim())},this).filter(function(t){return t.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+this.raw);this.format()}Wc.prototype.format=function(){return this.range=this.set.map(function(r){return r.join(" ").trim()}).join("||").trim(),this.range};Wc.prototype.toString=function(){return this.range};Wc.prototype.parseRange=function(r){var e=this.options.loose,t=e?Ra[PIe]:Ra[RIe];r=r.replace(t,tbt),Us("hyphen replace",r),r=r.replace(Ra[lE],A_t),Us("comparator trim",r,Ra[lE]),r=r.replace(Ra[vx],I_t),r=r.replace(Ra[yx],k_t);var n=e?Ra[BQ]:Ra[WQ],i=r.split(" ").map(function(o){return G_t(o,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(i=i.filter(function(o){return!!o.match(n)})),i=i.map(function(o){return new Bv(o,this.options)},this),i};Wc.prototype.intersects=function(r,e){if(!(r instanceof Wc))throw new TypeError("a Range is required");return this.set.some(function(t){return t.every(function(n){return r.set.some(function(i){return i.every(function(o){return n.intersects(o,e)})})})})};Li.toComparators=V_t;function V_t(r,e){return new Wc(r,e).set.map(function(t){return t.map(function(n){return n.value}).join(" ").trim().split(" ")})}function G_t(r,e){return Us("comp",r,e),r=J_t(r,e),Us("caret",r),r=K_t(r,e),Us("tildes",r),r=Q_t(r,e),Us("xrange",r),r=ebt(r,e),Us("stars",r),r}function mp(r){return!r||r.toLowerCase()==="x"||r==="*"}function K_t(r,e){return r.trim().split(/\s+/).map(function(t){return Y_t(t,e)}).join(" ")}function Y_t(r,e){var t=e.loose?Ra[TIe]:Ra[CIe];return r.replace(t,function(n,i,o,s,a){Us("tilde",r,n,i,o,s,a);var c;return mp(i)?c="":mp(o)?c=">="+i+".0.0 <"+(+i+1)+".0.0":mp(s)?c=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0":a?(Us("replaceTilde pr",a),c=">="+i+"."+o+"."+s+"-"+a+" <"+i+"."+(+o+1)+".0"):c=">="+i+"."+o+"."+s+" <"+i+"."+(+o+1)+".0",Us("tilde return",c),c})}function J_t(r,e){return r.trim().split(/\s+/).map(function(t){return X_t(t,e)}).join(" ")}function X_t(r,e){Us("caret",r,e);var t=e.loose?Ra[EIe]:Ra[DIe];return r.replace(t,function(n,i,o,s,a){Us("caret",r,n,i,o,s,a);var c;return mp(i)?c="":mp(o)?c=">="+i+".0.0 <"+(+i+1)+".0.0":mp(s)?i==="0"?c=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0":c=">="+i+"."+o+".0 <"+(+i+1)+".0.0":a?(Us("replaceCaret pr",a),i==="0"?o==="0"?c=">="+i+"."+o+"."+s+"-"+a+" <"+i+"."+o+"."+(+s+1):c=">="+i+"."+o+"."+s+"-"+a+" <"+i+"."+(+o+1)+".0":c=">="+i+"."+o+"."+s+"-"+a+" <"+(+i+1)+".0.0"):(Us("no pr"),i==="0"?o==="0"?c=">="+i+"."+o+"."+s+" <"+i+"."+o+"."+(+s+1):c=">="+i+"."+o+"."+s+" <"+i+"."+(+o+1)+".0":c=">="+i+"."+o+"."+s+" <"+(+i+1)+".0.0"),Us("caret return",c),c})}function Q_t(r,e){return Us("replaceXRanges",r,e),r.split(/\s+/).map(function(t){return Z_t(t,e)}).join(" ")}function Z_t(r,e){r=r.trim();var t=e.loose?Ra[wIe]:Ra[bIe];return r.replace(t,function(n,i,o,s,a,c){Us("xRange",r,n,i,o,s,a,c);var u=mp(o),l=u||mp(s),d=l||mp(a),f=d;return i==="="&&f&&(i=""),u?i===">"||i==="<"?n="<0.0.0":n="*":i&&f?(l&&(s=0),a=0,i===">"?(i=">=",l?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):i==="<="&&(i="<",l?o=+o+1:s=+s+1),n=i+o+"."+s+"."+a):l?n=">="+o+".0.0 <"+(+o+1)+".0.0":d&&(n=">="+o+"."+s+".0 <"+o+"."+(+s+1)+".0"),Us("xRange return",n),n})}function ebt(r,e){return Us("replaceStars",r,e),r.trim().replace(Ra[xIe],"")}function tbt(r,e,t,n,i,o,s,a,c,u,l,d,f){return mp(t)?e="":mp(n)?e=">="+t+".0.0":mp(i)?e=">="+t+"."+n+".0":e=">="+e,mp(c)?a="":mp(u)?a="<"+(+c+1)+".0.0":mp(l)?a="<"+c+"."+(+u+1)+".0":d?a="<="+c+"."+u+"."+l+"-"+d:a="<="+a,(e+" "+a).trim()}Wc.prototype.test=function(r){if(!r)return!1;typeof r=="string"&&(r=new Lo(r,this.options));for(var e=0;e<this.set.length;e++)if(rbt(this.set[e],r,this.options))return!0;return!1};function rbt(r,e,t){for(var n=0;n<r.length;n++)if(!r[n].test(e))return!1;if(e.prerelease.length&&!t.includePrerelease){for(n=0;n<r.length;n++)if(Us(r[n].semver),r[n].semver!==TM&&r[n].semver.prerelease.length>0){var i=r[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}Li.satisfies=TB;function TB(r,e,t){try{e=new Wc(e,t)}catch{return!1}return e.test(r)}Li.maxSatisfying=nbt;function nbt(r,e,t){var n=null,i=null;try{var o=new Wc(e,t)}catch{return null}return r.forEach(function(s){o.test(s)&&(!n||i.compare(s)===-1)&&(n=s,i=new Lo(n,t))}),n}Li.minSatisfying=ibt;function ibt(r,e,t){var n=null,i=null;try{var o=new Wc(e,t)}catch{return null}return r.forEach(function(s){o.test(s)&&(!n||i.compare(s)===1)&&(n=s,i=new Lo(n,t))}),n}Li.minVersion=obt;function obt(r,e){r=new Wc(r,e);var t=new Lo("0.0.0");if(r.test(t)||(t=new Lo("0.0.0-0"),r.test(t)))return t;t=null;for(var n=0;n<r.set.length;++n){var i=r.set[n];i.forEach(function(o){var s=new Lo(o.semver.version);switch(o.operator){case">":s.prerelease.length===0?s.patch++:s.prerelease.push(0),s.raw=s.format();case"":case">=":(!t||SM(t,s))&&(t=s);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+o.operator)}})}return t&&r.test(t)?t:null}Li.validRange=sbt;function sbt(r,e){try{return new Wc(r,e).range||"*"}catch{return null}}Li.ltr=abt;function abt(r,e,t){return KQ(r,e,"<",t)}Li.gtr=cbt;function cbt(r,e,t){return KQ(r,e,">",t)}Li.outside=KQ;function KQ(r,e,t,n){r=new Lo(r,n),e=new Wc(e,n);var i,o,s,a,c;switch(t){case">":i=SM,o=GQ,s=SB,a=">",c=">=";break;case"<":i=SB,o=VQ,s=SM,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(TB(r,e,n))return!1;for(var u=0;u<e.set.length;++u){var l=e.set[u],d=null,f=null;if(l.forEach(function(p){p.semver===TM&&(p=new Bv(">=0.0.0")),d=d||p,f=f||p,i(p.semver,d.semver,n)?d=p:s(p.semver,f.semver,n)&&(f=p)}),d.operator===a||d.operator===c||(!f.operator||f.operator===a)&&o(r,f.semver))return!1;if(f.operator===c&&s(r,f.semver))return!1}return!0}Li.prerelease=ubt;function ubt(r,e){var t=dE(r,e);return t&&t.prerelease.length?t.prerelease:null}Li.intersects=lbt;function lbt(r,e,t){return r=new Wc(r,t),e=new Wc(e,t),r.intersects(e)}Li.coerce=dbt;function dbt(r){if(r instanceof Lo)return r;if(typeof r!="string")return null;var e=r.match(Ra[SIe]);return e==null?null:dE(e[1]+"."+(e[2]||"0")+"."+(e[3]||"0"))}});var FIe=C((eJt,NIe)=>{"use strict";var fbt=require("path"),hbt=qOe(),AIe=cIe(),LIe=uIe(),pbt=mIe(),mbt=kIe(),MIe=process.platform==="win32",gbt=/\.(?:com|exe)$/i,vbt=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i,ybt=hbt(()=>mbt.satisfies(process.version,"^4.8.0 || ^5.7.0 || >= 6.0.0",!0))||!1;function _bt(r){r.file=AIe(r);let e=r.file&&pbt(r.file);return e?(r.args.unshift(r.file),r.command=e,AIe(r)):r.file}function bbt(r){if(!MIe)return r;let e=_bt(r),t=!gbt.test(e);if(r.options.forceShell||t){let n=vbt.test(e);r.command=fbt.normalize(r.command),r.command=LIe.command(r.command),r.args=r.args.map(o=>LIe.argument(o,n));let i=[r.command].concat(r.args).join(" ");r.args=["/d","/s","/c",`"${i}"`],r.command=process.env.comspec||"cmd.exe",r.options.windowsVerbatimArguments=!0}return r}function wbt(r){if(ybt)return r;let e=[r.command].concat(r.args).join(" ");return MIe?(r.command=typeof r.options.shell=="string"?r.options.shell:process.env.comspec||"cmd.exe",r.args=["/d","/s","/c",`"${e}"`],r.options.windowsVerbatimArguments=!0):(typeof r.options.shell=="string"?r.command=r.options.shell:process.platform==="android"?r.command="/system/bin/sh":r.command="/bin/sh",r.args=["-c",e]),r}function Sbt(r,e,t){e&&!Array.isArray(e)&&(t=e,e=null),e=e?e.slice(0):[],t=Object.assign({},t);let n={command:r,args:e,options:t,file:void 0,original:{command:r,args:e}};return t.shell?wbt(n):bbt(n)}NIe.exports=Sbt});var zIe=C((tJt,jIe)=>{"use strict";var YQ=process.platform==="win32";function JQ(r,e){return Object.assign(new Error(`${e} ${r.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${e} ${r.command}`,path:r.command,spawnargs:r.args})}function Cbt(r,e){if(!YQ)return;let t=r.emit;r.emit=function(n,i){if(n==="exit"){let o=qIe(i,e,"spawn");if(o)return t.call(r,"error",o)}return t.apply(r,arguments)}}function qIe(r,e){return YQ&&r===1&&!e.file?JQ(e.original,"spawn"):null}function Tbt(r,e){return YQ&&r===1&&!e.file?JQ(e.original,"spawnSync"):null}jIe.exports={hookChildProcess:Cbt,verifyENOENT:qIe,verifyENOENTSync:Tbt,notFoundError:JQ}});var BIe=C((rJt,bx)=>{"use strict";var UIe=require("child_process"),XQ=FIe(),QQ=zIe();function HIe(r,e,t){let n=XQ(r,e,t),i=UIe.spawn(n.command,n.args,n.options);return QQ.hookChildProcess(i,n),i}function Dbt(r,e,t){let n=XQ(r,e,t),i=UIe.spawnSync(n.command,n.args,n.options);return i.error=i.error||QQ.verifyENOENTSync(i.status,n),i}bx.exports=HIe;bx.exports.spawn=HIe;bx.exports.sync=Dbt;bx.exports._parse=XQ;bx.exports._enoent=QQ});var wx=C(PS=>{"use strict";Object.defineProperty(PS,"__esModule",{value:!0});PS.boolean=Ubt;PS.string=$Ie;PS.number=Hbt;PS.error=Bbt;PS.func=Wbt;PS.array=VIe;PS.stringArray=$bt;function Ubt(r){return r===!0||r===!1}function $Ie(r){return typeof r=="string"||r instanceof String}function Hbt(r){return typeof r=="number"||r instanceof Number}function Bbt(r){return r instanceof Error}function Wbt(r){return typeof r=="function"}function VIe(r){return Array.isArray(r)}function $bt(r){return VIe(r)&&r.every(e=>$Ie(e))}});var DZ=C(yn=>{"use strict";var Vbt=yn&&yn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Gbt=yn&&yn.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Kbt=yn&&yn.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Vbt(t,e,n[i]);return Gbt(t,e),t}}();Object.defineProperty(yn,"__esModule",{value:!0});yn.Message=yn.NotificationType9=yn.NotificationType8=yn.NotificationType7=yn.NotificationType6=yn.NotificationType5=yn.NotificationType4=yn.NotificationType3=yn.NotificationType2=yn.NotificationType1=yn.NotificationType0=yn.NotificationType=yn.RequestType9=yn.RequestType8=yn.RequestType7=yn.RequestType6=yn.RequestType5=yn.RequestType4=yn.RequestType3=yn.RequestType2=yn.RequestType1=yn.RequestType=yn.RequestType0=yn.AbstractMessageSignature=yn.ParameterStructures=yn.ResponseError=yn.ErrorCodes=void 0;var fE=Kbt(wx()),tZ;(function(r){r.ParseError=-32700,r.InvalidRequest=-32600,r.MethodNotFound=-32601,r.InvalidParams=-32602,r.InternalError=-32603,r.jsonrpcReservedErrorRangeStart=-32099,r.serverErrorStart=-32099,r.MessageWriteError=-32099,r.MessageReadError=-32098,r.PendingResponseRejected=-32097,r.ConnectionInactive=-32096,r.ServerNotInitialized=-32002,r.UnknownErrorCode=-32001,r.jsonrpcReservedErrorRangeEnd=-32e3,r.serverErrorEnd=-32e3})(tZ||(yn.ErrorCodes=tZ={}));var rZ=class r extends Error{code;data;constructor(e,t,n){super(t),this.code=fE.number(e)?e:tZ.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,r.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};yn.ResponseError=rZ;var QT=class r{kind;static auto=new r("auto");static byPosition=new r("byPosition");static byName=new r("byName");constructor(e){this.kind=e}static is(e){return e===r.auto||e===r.byName||e===r.byPosition}toString(){return this.kind}};yn.ParameterStructures=QT;var Wa=class{method;numberOfParams;constructor(e,t){this.method=e,this.numberOfParams=t}get parameterStructures(){return QT.auto}};yn.AbstractMessageSignature=Wa;var nZ=class extends Wa{_;constructor(e){super(e,0)}};yn.RequestType0=nZ;var iZ=class extends Wa{_parameterStructures;_;constructor(e,t=QT.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};yn.RequestType=iZ;var oZ=class extends Wa{_parameterStructures;_;constructor(e,t=QT.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};yn.RequestType1=oZ;var sZ=class extends Wa{_;constructor(e){super(e,2)}};yn.RequestType2=sZ;var aZ=class extends Wa{_;constructor(e){super(e,3)}};yn.RequestType3=aZ;var cZ=class extends Wa{_;constructor(e){super(e,4)}};yn.RequestType4=cZ;var uZ=class extends Wa{_;constructor(e){super(e,5)}};yn.RequestType5=uZ;var lZ=class extends Wa{_;constructor(e){super(e,6)}};yn.RequestType6=lZ;var dZ=class extends Wa{_;constructor(e){super(e,7)}};yn.RequestType7=dZ;var fZ=class extends Wa{_;constructor(e){super(e,8)}};yn.RequestType8=fZ;var hZ=class extends Wa{_;constructor(e){super(e,9)}};yn.RequestType9=hZ;var pZ=class extends Wa{_parameterStructures;_;constructor(e,t=QT.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};yn.NotificationType=pZ;var mZ=class extends Wa{_;constructor(e){super(e,0)}};yn.NotificationType0=mZ;var gZ=class extends Wa{_parameterStructures;_;constructor(e,t=QT.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};yn.NotificationType1=gZ;var vZ=class extends Wa{_;constructor(e){super(e,2)}};yn.NotificationType2=vZ;var yZ=class extends Wa{_;constructor(e){super(e,3)}};yn.NotificationType3=yZ;var _Z=class extends Wa{_;constructor(e){super(e,4)}};yn.NotificationType4=_Z;var bZ=class extends Wa{_;constructor(e){super(e,5)}};yn.NotificationType5=bZ;var wZ=class extends Wa{_;constructor(e){super(e,6)}};yn.NotificationType6=wZ;var SZ=class extends Wa{_;constructor(e){super(e,7)}};yn.NotificationType7=SZ;var CZ=class extends Wa{_;constructor(e){super(e,8)}};yn.NotificationType8=CZ;var TZ=class extends Wa{_;constructor(e){super(e,9)}};yn.NotificationType9=TZ;var GIe;(function(r){function e(i){let o=i;return o&&fE.string(o.method)&&(fE.string(o.id)||fE.number(o.id))}r.isRequest=e;function t(i){let o=i;return o&&fE.string(o.method)&&i.id===void 0}r.isNotification=t;function n(i){let o=i;return o&&(o.result!==void 0||!!o.error)&&(fE.string(o.id)||fE.number(o.id)||o.id===null)}r.isResponse=n})(GIe||(yn.Message=GIe={}))});var RZ=C(ZT=>{"use strict";Object.defineProperty(ZT,"__esModule",{value:!0});ZT.LRUCache=ZT.LinkedMap=ZT.Touch=void 0;var lh;(function(r){r.None=0,r.First=1,r.AsOld=r.First,r.Last=2,r.AsNew=r.Last})(lh||(ZT.Touch=lh={}));var OB=class{[Symbol.toStringTag]="LinkedMap";_map;_head;_tail;_size;_state;constructor(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}before(e){let t=this._map.get(e);return t?t.previous?.value:void 0}after(e){let t=this._map.get(e);return t?t.next?.value:void 0}has(e){return this._map.has(e)}get(e,t=lh.None){let n=this._map.get(e);if(n)return t!==lh.None&&this.touch(n,t),n.value}set(e,t,n=lh.None){let i=this._map.get(e);if(i)i.value=t,n!==lh.None&&this.touch(i,n);else{switch(i={key:e,value:t,next:void 0,previous:void 0},n){case lh.None:this.addItemLast(i);break;case lh.First:this.addItemFirst(i);break;case lh.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let n=this._state,i=this._head;for(;i;){if(t?e.bind(t)(i.value,i.key,this):e(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:t.key,done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}values(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:t.value,done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}entries(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:[t.key,t.value],done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==lh.First&&t!==lh.Last)){if(t===lh.First){if(e===this._head)return;let n=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===lh.Last){if(e===this._tail)return;let n=e.next,i=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((t,n)=>{e.push([n,t])}),e}fromJSON(e){this.clear();for(let[t,n]of e)this.set(t,n)}};ZT.LinkedMap=OB;var EZ=class extends OB{_limit;_ratio;constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=lh.AsNew){return super.get(e,t)}peek(e){return super.get(e,lh.None)}set(e,t){return super.set(e,t,lh.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};ZT.LRUCache=EZ});var YIe=C(IB=>{"use strict";Object.defineProperty(IB,"__esModule",{value:!0});IB.Disposable=void 0;var KIe;(function(r){function e(t){return{dispose:t}}r.create=e})(KIe||(IB.Disposable=KIe={}))});var eD=C(OZ=>{"use strict";Object.defineProperty(OZ,"__esModule",{value:!0});var PZ;function xZ(){if(PZ===void 0)throw new Error("No runtime abstraction layer installed");return PZ}(function(r){function e(t){if(t===void 0)throw new Error("No runtime abstraction layer provided");PZ=t}r.install=e})(xZ||(xZ={}));OZ.default=xZ});var Sx=C(tD=>{"use strict";var Ybt=tD&&tD.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(tD,"__esModule",{value:!0});tD.Emitter=tD.Event=void 0;var Jbt=Ybt(eD()),JIe;(function(r){let e={dispose(){}};r.None=function(){return e}})(JIe||(tD.Event=JIe={}));var IZ=class{_callbacks;_contexts;add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(!this._callbacks)return;let n=!1;for(let i=0,o=this._callbacks.length;i<o;i++)if(this._callbacks[i]===e)if(this._contexts[i]===t){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let t=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,s=n.length;o<s;o++)try{t.push(n[o].apply(i[o],e))}catch(a){(0,Jbt.default)().console.error(a)}return t}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},kZ=class r{_options;static _noop=function(){};_event;_callbacks;constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,n)=>{this._callbacks||(this._callbacks=new IZ),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t);let i={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,t),i.dispose=r._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};tD.Emitter=kZ});var LB=C(wm=>{"use strict";var Xbt=wm&&wm.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Qbt=wm&&wm.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Zbt=wm&&wm.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Xbt(t,e,n[i]);return Qbt(t,e),t}}(),ewt=wm&&wm.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(wm,"__esModule",{value:!0});wm.CancellationTokenSource=wm.CancellationToken=void 0;var twt=ewt(eD()),rwt=Zbt(wx()),AZ=Sx(),kB;(function(r){r.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:AZ.Event.None}),r.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:AZ.Event.None});function e(t){let n=t;return n&&(n===r.None||n===r.Cancelled||rwt.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}r.is=e})(kB||(wm.CancellationToken=kB={}));var nwt=Object.freeze(function(r,e){let t=(0,twt.default)().timer.setTimeout(r.bind(e),0);return{dispose(){t.dispose()}}}),AB=class{_isCancelled=!1;_emitter;cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?nwt:(this._emitter||(this._emitter=new AZ.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},LZ=class{_token;get token(){return this._token||(this._token=new AB),this._token}cancel(){this._token?this._token.cancel():this._token=kB.Cancelled}dispose(){this._token?this._token instanceof AB&&this._token.dispose():this._token=kB.None}};wm.CancellationTokenSource=LZ});var XIe=C(Cx=>{"use strict";Object.defineProperty(Cx,"__esModule",{value:!0});Cx.SharedArrayReceiverStrategy=Cx.SharedArraySenderStrategy=void 0;var iwt=LB(),DM;(function(r){r.Continue=0,r.Cancelled=1})(DM||(DM={}));var MZ=class{buffers;constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;let t=new SharedArrayBuffer(4),n=new Int32Array(t,0,1);n[0]=DM.Continue,this.buffers.set(e.id,t),e.$cancellationData=t}async sendCancellation(e,t){let n=this.buffers.get(t);if(n===void 0)return;let i=new Int32Array(n,0,1);Atomics.store(i,0,DM.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}};Cx.SharedArraySenderStrategy=MZ;var NZ=class{data;constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===DM.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},FZ=class{token;constructor(e){this.token=new NZ(e)}cancel(){}dispose(){}},qZ=class{kind="request";createCancellationTokenSource(e){let t=e.$cancellationData;return t===void 0?new iwt.CancellationTokenSource:new FZ(t)}};Cx.SharedArrayReceiverStrategy=qZ});var zZ=C(Tx=>{"use strict";var owt=Tx&&Tx.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Tx,"__esModule",{value:!0});Tx.Semaphore=void 0;var swt=owt(eD()),jZ=class{_capacity;_active;_waiting;constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,swt.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let t=e.thunk();t instanceof Promise?t.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}};Tx.Semaphore=jZ});var ZIe=C(dh=>{"use strict";var awt=dh&&dh.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),cwt=dh&&dh.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),uwt=dh&&dh.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&awt(t,e,n[i]);return cwt(t,e),t}}(),lwt=dh&&dh.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(dh,"__esModule",{value:!0});dh.ReadableStreamMessageReader=dh.AbstractMessageReader=dh.MessageReader=void 0;var HZ=lwt(eD()),Dx=uwt(wx()),UZ=Sx(),dwt=zZ(),QIe;(function(r){function e(t){let n=t;return n&&Dx.func(n.listen)&&Dx.func(n.dispose)&&Dx.func(n.onError)&&Dx.func(n.onClose)&&Dx.func(n.onPartialMessage)}r.is=e})(QIe||(dh.MessageReader=QIe={}));var MB=class{errorEmitter;closeEmitter;partialMessageEmitter;constructor(){this.errorEmitter=new UZ.Emitter,this.closeEmitter=new UZ.Emitter,this.partialMessageEmitter=new UZ.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose(),this.partialMessageEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${Dx.string(e.message)?e.message:"unknown"}`)}};dh.AbstractMessageReader=MB;var BZ;(function(r){function e(t){let n,i,o,s=new Map,a,c=new Map;if(t===void 0||typeof t=="string")n=t??"utf-8";else{if(n=t.charset??"utf-8",t.contentDecoder!==void 0&&(o=t.contentDecoder,s.set(o.name,o)),t.contentDecoders!==void 0)for(let u of t.contentDecoders)s.set(u.name,u);if(t.contentTypeDecoder!==void 0&&(a=t.contentTypeDecoder,c.set(a.name,a)),t.contentTypeDecoders!==void 0)for(let u of t.contentTypeDecoders)c.set(u.name,u)}return a===void 0&&(a=(0,HZ.default)().applicationJson.decoder,c.set(a.name,a)),{charset:n,contentDecoder:o,contentDecoders:s,contentTypeDecoder:a,contentTypeDecoders:c}}r.fromOptions=e})(BZ||(BZ={}));var WZ=class extends MB{readable;options;callback;nextMessageLength;messageToken;buffer;partialMessageTimer;_partialMessageTimeout;readSemaphore;constructor(e,t){super(),this.readable=e,this.options=BZ.fromOptions(t),this.buffer=(0,HZ.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new dwt.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let t=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),t}onData(e){try{for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders(!0);if(!n)return;let i=n.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(n))}`));return}let o=parseInt(i);if(isNaN(o)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=o}let t=this.buffer.tryReadBody(this.nextMessageLength);if(t===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let n=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(t):t,i=await this.options.contentTypeDecoder.decode(n,this.options);this.callback(i)}).catch(n=>{this.fireError(n)})}}catch(t){this.fireError(t)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,HZ.default)().timer.setTimeout((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};dh.ReadableStreamMessageReader=WZ});var ike=C(fh=>{"use strict";var fwt=fh&&fh.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),hwt=fh&&fh.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),pwt=fh&&fh.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&fwt(t,e,n[i]);return hwt(t,e),t}}(),mwt=fh&&fh.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(fh,"__esModule",{value:!0});fh.WriteableStreamMessageWriter=fh.AbstractMessageWriter=fh.MessageWriter=void 0;var eke=mwt(eD()),EM=pwt(wx()),gwt=zZ(),tke=Sx(),vwt="Content-Length: ",rke=`\r
`,nke;(function(r){function e(t){let n=t;return n&&EM.func(n.dispose)&&EM.func(n.onClose)&&EM.func(n.onError)&&EM.func(n.write)}r.is=e})(nke||(fh.MessageWriter=nke={}));var NB=class{errorEmitter;closeEmitter;constructor(){this.errorEmitter=new tke.Emitter,this.closeEmitter=new tke.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${EM.string(e.message)?e.message:"unknown"}`)}};fh.AbstractMessageWriter=NB;var $Z;(function(r){function e(t){return t===void 0||typeof t=="string"?{charset:t??"utf-8",contentTypeEncoder:(0,eke.default)().applicationJson.encoder}:{charset:t.charset??"utf-8",contentEncoder:t.contentEncoder,contentTypeEncoder:t.contentTypeEncoder??(0,eke.default)().applicationJson.encoder}}r.fromOptions=e})($Z||($Z={}));var VZ=class extends NB{writable;options;errorCount;writeSemaphore;constructor(e,t){super(),this.writable=e,this.options=$Z.fromOptions(t),this.errorCount=0,this.writeSemaphore=new gwt.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(vwt,n.byteLength.toString(),rke),i.push(rke),this.doWrite(e,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(e,t,n){try{return await this.writable.write(t.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){this.writable.end()}};fh.WriteableStreamMessageWriter=VZ});var oke=C(FB=>{"use strict";Object.defineProperty(FB,"__esModule",{value:!0});FB.AbstractMessageBuffer=void 0;var ywt=13,_wt=10,bwt=`\r
`,GZ=class{_encoding;_chunks;_totalLength;constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let t=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(t),this._totalLength+=t.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let t=0,n=0,i=0,o=0;e:for(;n<this._chunks.length;){let u=this._chunks[n];for(i=0;i<u.length;){switch(u[i]){case ywt:switch(t){case 0:t=1;break;case 2:t=3;break;default:t=0}break;case _wt:switch(t){case 1:t=2;break;case 3:t=4,i++;break e;default:t=0}break;default:t=0}i++}o+=u.byteLength,n++}if(t!==4)return;let s=this._read(o+i),a=new Map,c=this.toString(s,"ascii").split(bwt);if(c.length<2)return a;for(let u=0;u<c.length-2;u++){let l=c[u],d=l.indexOf(":");if(d===-1)throw new Error(`Message header must separate key and value using ':'
${l}`);let f=l.substr(0,d),p=l.substr(d+1).trim();a.set(e?f.toLowerCase():f,p)}return a}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let o=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(o)}if(this._chunks[0].byteLength>e){let o=this._chunks[0],s=this.asNative(o,e);return this._chunks[0]=o.slice(e),this._totalLength-=e,s}let t=this.allocNative(e),n=0,i=0;for(;e>0;){let o=this._chunks[i];if(o.byteLength>e){let s=o.slice(0,e);t.set(s,n),n+=e,this._chunks[i]=o.slice(e),this._totalLength-=e,e-=e}else t.set(o,n),n+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,e-=o.byteLength}return t}};FB.AbstractMessageBuffer=GZ});var uke=C(Kn=>{"use strict";var wwt=Kn&&Kn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Swt=Kn&&Kn.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Cwt=Kn&&Kn.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&wwt(t,e,n[i]);return Swt(t,e),t}}(),Twt=Kn&&Kn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Kn,"__esModule",{value:!0});Kn.ConnectionOptions=Kn.MessageStrategy=Kn.CancellationStrategy=Kn.CancellationSenderStrategy=Kn.CancellationReceiverStrategy=Kn.RequestCancellationReceiverStrategy=Kn.IdCancellationReceiverStrategy=Kn.ConnectionStrategy=Kn.ConnectionError=Kn.ConnectionErrors=Kn.LogTraceNotification=Kn.SetTraceNotification=Kn.TraceFormat=Kn.TraceValues=Kn.TraceValue=Kn.Trace=Kn.NullLogger=Kn.ProgressType=Kn.ProgressToken=void 0;Kn.createMessageConnection=Dwt;var ske=Twt(eD()),$c=Cwt(wx()),qi=DZ(),ake=RZ(),RM=Sx(),KZ=LB(),OM;(function(r){r.type=new qi.NotificationType("$/cancelRequest")})(OM||(OM={}));var YZ;(function(r){function e(t){return typeof t=="string"||typeof t=="number"}r.is=e})(YZ||(Kn.ProgressToken=YZ={}));var PM;(function(r){r.type=new qi.NotificationType("$/progress")})(PM||(PM={}));var JZ=class{__;_pr;constructor(){}};Kn.ProgressType=JZ;var XZ;(function(r){function e(t){return $c.func(t)}r.is=e})(XZ||(XZ={}));Kn.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var _s;(function(r){r[r.Off=0]="Off",r[r.Messages=1]="Messages",r[r.Compact=2]="Compact",r[r.Verbose=3]="Verbose"})(_s||(Kn.Trace=_s={}));var QZ;(function(r){r.Off="off",r.Messages="messages",r.Compact="compact",r.Verbose="verbose"})(QZ||(Kn.TraceValue=QZ={}));Kn.TraceValues=QZ;(function(r){function e(n){if(!$c.string(n))return r.Off;switch(n=n.toLowerCase(),n){case"off":return r.Off;case"messages":return r.Messages;case"compact":return r.Compact;case"verbose":return r.Verbose;default:return r.Off}}r.fromString=e;function t(n){switch(n){case r.Off:return"off";case r.Messages:return"messages";case r.Compact:return"compact";case r.Verbose:return"verbose";default:return"off"}}r.toString=t})(_s||(Kn.Trace=_s={}));var xg;(function(r){r.Text="text",r.JSON="json"})(xg||(Kn.TraceFormat=xg={}));(function(r){function e(t){return $c.string(t)?(t=t.toLowerCase(),t==="json"?r.JSON:r.Text):r.Text}r.fromString=e})(xg||(Kn.TraceFormat=xg={}));var ZZ;(function(r){r.type=new qi.NotificationType("$/setTrace")})(ZZ||(Kn.SetTraceNotification=ZZ={}));var qB;(function(r){r.type=new qi.NotificationType("$/logTrace")})(qB||(Kn.LogTraceNotification=qB={}));var xM;(function(r){r[r.Closed=1]="Closed",r[r.Disposed=2]="Disposed",r[r.AlreadyListening=3]="AlreadyListening"})(xM||(Kn.ConnectionErrors=xM={}));var Ex=class r extends Error{code;constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,r.prototype)}};Kn.ConnectionError=Ex;var eee;(function(r){function e(t){let n=t;return n&&$c.func(n.cancelUndispatched)}r.is=e})(eee||(Kn.ConnectionStrategy=eee={}));var jB;(function(r){function e(t){let n=t;return n&&(n.kind===void 0||n.kind==="id")&&$c.func(n.createCancellationTokenSource)&&(n.dispose===void 0||$c.func(n.dispose))}r.is=e})(jB||(Kn.IdCancellationReceiverStrategy=jB={}));var tee;(function(r){function e(t){let n=t;return n&&n.kind==="request"&&$c.func(n.createCancellationTokenSource)&&(n.dispose===void 0||$c.func(n.dispose))}r.is=e})(tee||(Kn.RequestCancellationReceiverStrategy=tee={}));var zB;(function(r){r.Message=Object.freeze({createCancellationTokenSource(t){return new KZ.CancellationTokenSource}});function e(t){return jB.is(t)||tee.is(t)}r.is=e})(zB||(Kn.CancellationReceiverStrategy=zB={}));var UB;(function(r){r.Message=Object.freeze({sendCancellation(t,n){return t.sendNotification(OM.type,{id:n})},cleanup(t){}});function e(t){let n=t;return n&&$c.func(n.sendCancellation)&&$c.func(n.cleanup)}r.is=e})(UB||(Kn.CancellationSenderStrategy=UB={}));var HB;(function(r){r.Message=Object.freeze({receiver:zB.Message,sender:UB.Message});function e(t){let n=t;return n&&zB.is(n.receiver)&&UB.is(n.sender)}r.is=e})(HB||(Kn.CancellationStrategy=HB={}));var BB;(function(r){function e(t){let n=t;return n&&$c.func(n.handleMessage)}r.is=e})(BB||(Kn.MessageStrategy=BB={}));var cke;(function(r){function e(t){let n=t;return n&&(HB.is(n.cancellationStrategy)||eee.is(n.connectionStrategy)||BB.is(n.messageStrategy)||$c.number(n.maxParallelism))}r.is=e})(cke||(Kn.ConnectionOptions=cke={}));var r_;(function(r){r[r.New=1]="New",r[r.Listening=2]="Listening",r[r.Closed=3]="Closed",r[r.Disposed=4]="Disposed"})(r_||(r_={}));function Dwt(r,e,t,n){let i=t!==void 0?t:Kn.NullLogger,o=0,s=0,a=0,c="2.0",u=n?.maxParallelism??-1,l=0,d,f=new Map,p,_=new Map,D=new Map,P,M=new ake.LinkedMap,A=new Map,U=new Set,ne=new Map,pe=_s.Off,ve=xg.Text,V,W=r_.New,ee=new RM.Emitter,De=new RM.Emitter,ae=new RM.Emitter,ue=new RM.Emitter,Fe=new RM.Emitter,Me=n&&n.cancellationStrategy?n.cancellationStrategy:HB.Message;function ce(Q){}function Ce(){return W===r_.Listening}function be(){return W===r_.Closed}function xe(){return W===r_.Disposed}function Ne(){(W===r_.New||W===r_.Listening)&&(W=r_.Closed,De.fire(void 0))}function $e(Q){ee.fire([Q,void 0,void 0])}function Ct(Q){ee.fire(Q)}r.onClose(Ne),r.onError($e),e.onClose(Ne),e.onError(Ct);function ze(Q){if(Q===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+Q.toString()}function st(Q){return Q===null?"res-unknown-"+(++a).toString():"res-"+Q.toString()}function at(){return"not-"+(++s).toString()}function tt(Q,we){qi.Message.isRequest(we)?Q.set(ze(we.id),we):qi.Message.isResponse(we)?u===-1?Q.set(st(we.id),we):xt(we):Q.set(at(),we)}function fr(){P||M.size===0||u!==-1&&l>=u||(P=(0,ske.default)().timer.setImmediate(async()=>{if(P=void 0,M.size===0||u!==-1&&l>=u)return;let Q=M.shift(),we;try{l++;let Je=n?.messageStrategy;BB.is(Je)?we=Je.handleMessage(Q,Lr):we=Lr(Q)}catch(Je){i.error(`Processing message queue failed: ${Je.toString()}`)}finally{we instanceof Promise?we.then(()=>{l--,fr()}).catch(Je=>{i.error(`Processing message queue failed: ${Je.toString()}`)}):l--,fr()}}))}async function Lr(Q){return qi.Message.isRequest(Q)?cr(Q):qi.Message.isNotification(Q)?hr(Q):qi.Message.isResponse(Q)?xt(Q):Mt(Q)}let zr=Q=>{try{if(qi.Message.isNotification(Q)&&Q.method===OM.type.method){let we=Q.params.id,Je=ze(we),ft=M.get(Je);if(qi.Message.isRequest(ft)){let rr=n?.connectionStrategy,Jt=rr&&rr.cancelUndispatched?rr.cancelUndispatched(ft,ce):void 0;if(Jt&&(Jt.error!==void 0||Jt.result!==void 0)){M.delete(Je),ne.delete(we),Jt.id=ft.id,Or(Jt,Q.method,Date.now()),e.write(Jt).catch(()=>i.error("Sending response for canceled message failed."));return}}let Yt=ne.get(we);if(Yt!==void 0){Yt.cancel(),$r(Q);return}else U.add(we)}tt(M,Q)}finally{fr()}};async function cr(Q){if(xe())return Promise.resolve();function we($t,kt,K){let qe={jsonrpc:c,id:Q.id};return $t instanceof qi.ResponseError?qe.error=$t.toJson():qe.result=$t===void 0?null:$t,Or(qe,kt,K),e.write(qe)}function Je($t,kt,K){let qe={jsonrpc:c,id:Q.id,error:$t.toJson()};return Or(qe,kt,K),e.write(qe)}Hn(Q);let ft=f.get(Q.method),Yt,rr;ft&&(Yt=ft.type,rr=ft.handler);let Jt=Date.now();if(rr||d){let $t=Q.id??String(Date.now()),kt=jB.is(Me.receiver)?Me.receiver.createCancellationTokenSource($t):Me.receiver.createCancellationTokenSource(Q);Q.id!==null&&U.has(Q.id)&&kt.cancel(),Q.id!==null&&ne.set($t,kt);try{let K;if(rr)if(Q.params===void 0){if(Yt!==void 0&&Yt.numberOfParams!==0)return Je(new qi.ResponseError(qi.ErrorCodes.InvalidParams,`Request ${Q.method} defines ${Yt.numberOfParams} params but received none.`),Q.method,Jt);K=rr(kt.token)}else if(Array.isArray(Q.params)){if(Yt!==void 0&&Yt.parameterStructures===qi.ParameterStructures.byName)return Je(new qi.ResponseError(qi.ErrorCodes.InvalidParams,`Request ${Q.method} defines parameters by name but received parameters by position`),Q.method,Jt);K=rr(...Q.params,kt.token)}else{if(Yt!==void 0&&Yt.parameterStructures===qi.ParameterStructures.byPosition)return Je(new qi.ResponseError(qi.ErrorCodes.InvalidParams,`Request ${Q.method} defines parameters by position but received parameters by name`),Q.method,Jt);K=rr(Q.params,kt.token)}else d&&(K=d(Q.method,Q.params,kt.token));let qe=await K;await we(qe,Q.method,Jt)}catch(K){K instanceof qi.ResponseError?await we(K,Q.method,Jt):K&&$c.string(K.message)?await Je(new qi.ResponseError(qi.ErrorCodes.InternalError,`Request ${Q.method} failed with message: ${K.message}`),Q.method,Jt):await Je(new qi.ResponseError(qi.ErrorCodes.InternalError,`Request ${Q.method} failed unexpectedly without providing any details.`),Q.method,Jt)}finally{ne.delete($t)}}else await Je(new qi.ResponseError(qi.ErrorCodes.MethodNotFound,`Unhandled method ${Q.method}`),Q.method,Jt)}function xt(Q){if(!xe())if(Q.id===null)Q.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(Q.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let we=Q.id,Je=A.get(we);if(dn(Q,Je),Je!==void 0){A.delete(we);try{if(Q.error){let ft=Q.error;Je.reject(new qi.ResponseError(ft.code,ft.message,ft.data))}else if(Q.result!==void 0)Je.resolve(Q.result);else throw new Error("Should never happen.")}catch(ft){ft.message?i.error(`Response handler '${Je.method}' failed with message: ${ft.message}`):i.error(`Response handler '${Je.method}' failed unexpectedly.`)}}}}async function hr(Q){if(xe())return;let we,Je;if(Q.method===OM.type.method){let ft=Q.params.id;U.delete(ft),$r(Q);return}else{let ft=_.get(Q.method);ft&&(Je=ft.handler,we=ft.type)}if(Je||p)try{if($r(Q),Je)if(Q.params===void 0)we!==void 0&&we.numberOfParams!==0&&we.parameterStructures!==qi.ParameterStructures.byName&&i.error(`Notification ${Q.method} defines ${we.numberOfParams} params but received none.`),await Je();else if(Array.isArray(Q.params)){let ft=Q.params;Q.method===PM.type.method&&ft.length===2&&YZ.is(ft[0])?await Je({token:ft[0],value:ft[1]}):(we!==void 0&&(we.parameterStructures===qi.ParameterStructures.byName&&i.error(`Notification ${Q.method} defines parameters by name but received parameters by position`),we.numberOfParams!==Q.params.length&&i.error(`Notification ${Q.method} defines ${we.numberOfParams} params but received ${ft.length} arguments`)),await Je(...ft))}else we!==void 0&&we.parameterStructures===qi.ParameterStructures.byPosition&&i.error(`Notification ${Q.method} defines parameters by position but received parameters by name`),await Je(Q.params);else p&&await p(Q.method,Q.params)}catch(ft){ft.message?i.error(`Notification handler '${Q.method}' failed with message: ${ft.message}`):i.error(`Notification handler '${Q.method}' failed unexpectedly.`)}else ae.fire(Q)}function Mt(Q){if(!Q){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(Q,null,4)}`);let we=Q;if($c.string(we.id)||$c.number(we.id)){let Je=we.id,ft=A.get(Je);ft&&ft.reject(new Error("The received response has neither a result nor an error property."))}}function nn(Q){if(Q!=null)switch(pe){case _s.Verbose:return JSON.stringify(Q,null,4);case _s.Compact:return JSON.stringify(Q);default:return}}function ln(Q){if(!(pe===_s.Off||!V))if(ve===xg.Text){let we;(pe===_s.Verbose||pe===_s.Compact)&&Q.params&&(we=`Params: ${nn(Q.params)}

`),V.log(`Sending request '${Q.method} - (${Q.id})'.`,we)}else ii("send-request",Q)}function On(Q){if(!(pe===_s.Off||!V))if(ve===xg.Text){let we;(pe===_s.Verbose||pe===_s.Compact)&&(Q.params?we=`Params: ${nn(Q.params)}

`:we=`No parameters provided.

`),V.log(`Sending notification '${Q.method}'.`,we)}else ii("send-notification",Q)}function Or(Q,we,Je){if(!(pe===_s.Off||!V))if(ve===xg.Text){let ft;(pe===_s.Verbose||pe===_s.Compact)&&(Q.error&&Q.error.data?ft=`Error data: ${nn(Q.error.data)}

`:Q.result?ft=`Result: ${nn(Q.result)}

`:Q.error===void 0&&(ft=`No result returned.

`)),V.log(`Sending response '${we} - (${Q.id})'. Processing request took ${Date.now()-Je}ms`,ft)}else ii("send-response",Q)}function Hn(Q){if(!(pe===_s.Off||!V))if(ve===xg.Text){let we;(pe===_s.Verbose||pe===_s.Compact)&&Q.params&&(we=`Params: ${nn(Q.params)}

`),V.log(`Received request '${Q.method} - (${Q.id})'.`,we)}else ii("receive-request",Q)}function $r(Q){if(!(pe===_s.Off||!V||Q.method===qB.type.method))if(ve===xg.Text){let we;(pe===_s.Verbose||pe===_s.Compact)&&(Q.params?we=`Params: ${nn(Q.params)}

`:we=`No parameters provided.

`),V.log(`Received notification '${Q.method}'.`,we)}else ii("receive-notification",Q)}function dn(Q,we){if(!(pe===_s.Off||!V))if(ve===xg.Text){let Je;if((pe===_s.Verbose||pe===_s.Compact)&&(Q.error&&Q.error.data?Je=`Error data: ${nn(Q.error.data)}

`:Q.result?Je=`Result: ${nn(Q.result)}

`:Q.error===void 0&&(Je=`No result returned.

`)),we){let ft=Q.error?` Request failed: ${Q.error.message} (${Q.error.code}).`:"";V.log(`Received response '${we.method} - (${Q.id})' in ${Date.now()-we.timerStart}ms.${ft}`,Je)}else V.log(`Received response ${Q.id} without active response promise.`,Je)}else ii("receive-response",Q)}function ii(Q,we){if(!V||pe===_s.Off)return;let Je={isLSPMessage:!0,type:Q,message:we,timestamp:Date.now()};V.log(Je)}function Vr(){if(be())throw new Ex(xM.Closed,"Connection is closed.");if(xe())throw new Ex(xM.Disposed,"Connection is disposed.")}function An(){if(Ce())throw new Ex(xM.AlreadyListening,"Connection is already listening")}function xi(){if(!Ce())throw new Error("Call listen() first.")}function Gr(Q){return Q===void 0?null:Q}function Qi(Q){if(Q!==null)return Q}function oi(Q){return Q!=null&&!Array.isArray(Q)&&typeof Q=="object"}function fn(Q,we){switch(Q){case qi.ParameterStructures.auto:return oi(we)?Qi(we):[Gr(we)];case qi.ParameterStructures.byName:if(!oi(we))throw new Error("Received parameters by name but param is not an object literal.");return Qi(we);case qi.ParameterStructures.byPosition:return[Gr(we)];default:throw new Error(`Unknown parameter structure ${Q.toString()}`)}}function Oe(Q,we){let Je,ft=Q.numberOfParams;switch(ft){case 0:Je=void 0;break;case 1:Je=fn(Q.parameterStructures,we[0]);break;default:Je=[];for(let Yt=0;Yt<we.length&&Yt<ft;Yt++)Je.push(Gr(we[Yt]));if(we.length<ft)for(let Yt=we.length;Yt<ft;Yt++)Je.push(null);break}return Je}let oe={sendNotification:(Q,...we)=>{Vr();let Je,ft;if($c.string(Q)){Je=Q;let rr=we[0],Jt=0,$t=qi.ParameterStructures.auto;qi.ParameterStructures.is(rr)&&(Jt=1,$t=rr);let kt=we.length,K=kt-Jt;switch(K){case 0:ft=void 0;break;case 1:ft=fn($t,we[Jt]);break;default:if($t===qi.ParameterStructures.byName)throw new Error(`Received ${K} parameters for 'by Name' notification parameter structure.`);ft=we.slice(Jt,kt).map(qe=>Gr(qe));break}}else{let rr=we;Je=Q.method,ft=Oe(Q,rr)}let Yt={jsonrpc:c,method:Je,params:ft};return On(Yt),e.write(Yt).catch(rr=>{throw i.error("Sending notification failed."),rr})},onNotification:(Q,we)=>{Vr();let Je;return $c.func(Q)?p=Q:we&&($c.string(Q)?(Je=Q,_.set(Q,{type:void 0,handler:we})):(Je=Q.method,_.set(Q.method,{type:Q,handler:we}))),{dispose:()=>{Je!==void 0?_.delete(Je):p=void 0}}},onProgress:(Q,we,Je)=>{if(D.has(we))throw new Error(`Progress handler for token ${we} already registered`);return D.set(we,Je),{dispose:()=>{D.delete(we)}}},sendProgress:(Q,we,Je)=>oe.sendNotification(PM.type,{token:we,value:Je}),onUnhandledProgress:ue.event,sendRequest:(Q,...we)=>{Vr(),xi();function Je(qe,Ht){let Dr=Me.sender.sendCancellation(qe,Ht);Dr===void 0?i.log(`Received no promise from cancellation strategy when cancelling id ${Ht}`):Dr.catch(()=>{i.log(`Sending cancellation messages for id ${Ht} failed.`)})}let ft,Yt,rr;if($c.string(Q)){ft=Q;let qe=we[0],Ht=we[we.length-1],Dr=0,He=qi.ParameterStructures.auto;qi.ParameterStructures.is(qe)&&(Dr=1,He=qe);let re=we.length;KZ.CancellationToken.is(Ht)&&(re=re-1,rr=Ht);let Pe=re-Dr;switch(Pe){case 0:Yt=void 0;break;case 1:Yt=fn(He,we[Dr]);break;default:if(He===qi.ParameterStructures.byName)throw new Error(`Received ${Pe} parameters for 'by Name' request parameter structure.`);Yt=we.slice(Dr,re).map(je=>Gr(je));break}}else{let qe=we;ft=Q.method,Yt=Oe(Q,qe);let Ht=Q.numberOfParams;rr=KZ.CancellationToken.is(qe[Ht])?qe[Ht]:void 0}let Jt=o++,$t,kt=!1;rr!==void 0&&(rr.isCancellationRequested?kt=!0:$t=rr.onCancellationRequested(()=>{Je(oe,Jt)}));let K={jsonrpc:c,id:Jt,method:ft,params:Yt};return ln(K),typeof Me.sender.enableCancellation=="function"&&Me.sender.enableCancellation(K),new Promise(async(qe,Ht)=>{let Dr=Pe=>{qe(Pe),Me.sender.cleanup(Jt),$t?.dispose()},He=Pe=>{Ht(Pe),Me.sender.cleanup(Jt),$t?.dispose()},re={method:ft,timerStart:Date.now(),resolve:Dr,reject:He};try{A.set(Jt,re),await e.write(K),kt&&Je(oe,Jt)}catch(Pe){throw A.delete(Jt),re.reject(new qi.ResponseError(qi.ErrorCodes.MessageWriteError,Pe.message?Pe.message:"Unknown reason")),i.error("Sending request failed."),Pe}})},onRequest:(Q,we)=>{Vr();let Je=null;return XZ.is(Q)?(Je=void 0,d=Q):$c.string(Q)?(Je=null,we!==void 0&&(Je=Q,f.set(Q,{handler:we,type:void 0}))):we!==void 0&&(Je=Q.method,f.set(Q.method,{type:Q,handler:we})),{dispose:()=>{Je!==null&&(Je!==void 0?f.delete(Je):d=void 0)}}},hasPendingResponse:()=>A.size>0,trace:async(Q,we,Je)=>{let ft=!1,Yt=xg.Text;Je!==void 0&&($c.boolean(Je)?ft=Je:(ft=Je.sendNotification||!1,Yt=Je.traceFormat||xg.Text)),pe=Q,ve=Yt,pe===_s.Off?V=void 0:V=we,ft&&!be()&&!xe()&&await oe.sendNotification(ZZ.type,{value:_s.toString(Q)})},onError:ee.event,onClose:De.event,onUnhandledNotification:ae.event,onDispose:Fe.event,end:()=>{e.end()},dispose:()=>{if(xe())return;W=r_.Disposed,Fe.fire(void 0);let Q=new qi.ResponseError(qi.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let we of A.values())we.reject(Q);A=new Map,ne=new Map,U=new Set,M=new ake.LinkedMap,$c.func(e.dispose)&&e.dispose(),$c.func(r.dispose)&&r.dispose()},listen:()=>{Vr(),An(),W=r_.Listening,r.listen(zr)},inspect:()=>{(0,ske.default)().console.log("inspect")}};return oe.onNotification(qB.type,Q=>{if(pe===_s.Off||!V)return;let we=pe===_s.Verbose||pe===_s.Compact;V.log(Q.message,we?Q.verbose:void 0)}),oe.onNotification(PM.type,async Q=>{let we=D.get(Q.token);we?await we(Q.value):ue.fire(Q)}),oe}});var cl=C(Pt=>{"use strict";var Ewt=Pt&&Pt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.ProgressType=Pt.ProgressToken=Pt.createMessageConnection=Pt.NullLogger=Pt.ConnectionOptions=Pt.ConnectionStrategy=Pt.AbstractMessageBuffer=Pt.WriteableStreamMessageWriter=Pt.AbstractMessageWriter=Pt.MessageWriter=Pt.ReadableStreamMessageReader=Pt.AbstractMessageReader=Pt.MessageReader=Pt.SharedArrayReceiverStrategy=Pt.SharedArraySenderStrategy=Pt.CancellationToken=Pt.CancellationTokenSource=Pt.Emitter=Pt.Event=Pt.Disposable=Pt.LRUCache=Pt.Touch=Pt.LinkedMap=Pt.ParameterStructures=Pt.NotificationType9=Pt.NotificationType8=Pt.NotificationType7=Pt.NotificationType6=Pt.NotificationType5=Pt.NotificationType4=Pt.NotificationType3=Pt.NotificationType2=Pt.NotificationType1=Pt.NotificationType0=Pt.NotificationType=Pt.ErrorCodes=Pt.ResponseError=Pt.RequestType9=Pt.RequestType8=Pt.RequestType7=Pt.RequestType6=Pt.RequestType5=Pt.RequestType4=Pt.RequestType3=Pt.RequestType2=Pt.RequestType1=Pt.RequestType0=Pt.RequestType=Pt.Message=Pt.RAL=void 0;Pt.MessageStrategy=Pt.CancellationStrategy=Pt.CancellationSenderStrategy=Pt.RequestCancellationReceiverStrategy=Pt.IdCancellationReceiverStrategy=Pt.CancellationReceiverStrategy=Pt.ConnectionError=Pt.ConnectionErrors=Pt.LogTraceNotification=Pt.SetTraceNotification=Pt.TraceFormat=Pt.TraceValues=Pt.TraceValue=Pt.Trace=void 0;var Pa=DZ();Object.defineProperty(Pt,"Message",{enumerable:!0,get:function(){return Pa.Message}});Object.defineProperty(Pt,"RequestType",{enumerable:!0,get:function(){return Pa.RequestType}});Object.defineProperty(Pt,"RequestType0",{enumerable:!0,get:function(){return Pa.RequestType0}});Object.defineProperty(Pt,"RequestType1",{enumerable:!0,get:function(){return Pa.RequestType1}});Object.defineProperty(Pt,"RequestType2",{enumerable:!0,get:function(){return Pa.RequestType2}});Object.defineProperty(Pt,"RequestType3",{enumerable:!0,get:function(){return Pa.RequestType3}});Object.defineProperty(Pt,"RequestType4",{enumerable:!0,get:function(){return Pa.RequestType4}});Object.defineProperty(Pt,"RequestType5",{enumerable:!0,get:function(){return Pa.RequestType5}});Object.defineProperty(Pt,"RequestType6",{enumerable:!0,get:function(){return Pa.RequestType6}});Object.defineProperty(Pt,"RequestType7",{enumerable:!0,get:function(){return Pa.RequestType7}});Object.defineProperty(Pt,"RequestType8",{enumerable:!0,get:function(){return Pa.RequestType8}});Object.defineProperty(Pt,"RequestType9",{enumerable:!0,get:function(){return Pa.RequestType9}});Object.defineProperty(Pt,"ResponseError",{enumerable:!0,get:function(){return Pa.ResponseError}});Object.defineProperty(Pt,"ErrorCodes",{enumerable:!0,get:function(){return Pa.ErrorCodes}});Object.defineProperty(Pt,"NotificationType",{enumerable:!0,get:function(){return Pa.NotificationType}});Object.defineProperty(Pt,"NotificationType0",{enumerable:!0,get:function(){return Pa.NotificationType0}});Object.defineProperty(Pt,"NotificationType1",{enumerable:!0,get:function(){return Pa.NotificationType1}});Object.defineProperty(Pt,"NotificationType2",{enumerable:!0,get:function(){return Pa.NotificationType2}});Object.defineProperty(Pt,"NotificationType3",{enumerable:!0,get:function(){return Pa.NotificationType3}});Object.defineProperty(Pt,"NotificationType4",{enumerable:!0,get:function(){return Pa.NotificationType4}});Object.defineProperty(Pt,"NotificationType5",{enumerable:!0,get:function(){return Pa.NotificationType5}});Object.defineProperty(Pt,"NotificationType6",{enumerable:!0,get:function(){return Pa.NotificationType6}});Object.defineProperty(Pt,"NotificationType7",{enumerable:!0,get:function(){return Pa.NotificationType7}});Object.defineProperty(Pt,"NotificationType8",{enumerable:!0,get:function(){return Pa.NotificationType8}});Object.defineProperty(Pt,"NotificationType9",{enumerable:!0,get:function(){return Pa.NotificationType9}});Object.defineProperty(Pt,"ParameterStructures",{enumerable:!0,get:function(){return Pa.ParameterStructures}});var ree=RZ();Object.defineProperty(Pt,"LinkedMap",{enumerable:!0,get:function(){return ree.LinkedMap}});Object.defineProperty(Pt,"LRUCache",{enumerable:!0,get:function(){return ree.LRUCache}});Object.defineProperty(Pt,"Touch",{enumerable:!0,get:function(){return ree.Touch}});var Rwt=YIe();Object.defineProperty(Pt,"Disposable",{enumerable:!0,get:function(){return Rwt.Disposable}});var lke=Sx();Object.defineProperty(Pt,"Event",{enumerable:!0,get:function(){return lke.Event}});Object.defineProperty(Pt,"Emitter",{enumerable:!0,get:function(){return lke.Emitter}});var dke=LB();Object.defineProperty(Pt,"CancellationTokenSource",{enumerable:!0,get:function(){return dke.CancellationTokenSource}});Object.defineProperty(Pt,"CancellationToken",{enumerable:!0,get:function(){return dke.CancellationToken}});var fke=XIe();Object.defineProperty(Pt,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return fke.SharedArraySenderStrategy}});Object.defineProperty(Pt,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return fke.SharedArrayReceiverStrategy}});var nee=ZIe();Object.defineProperty(Pt,"MessageReader",{enumerable:!0,get:function(){return nee.MessageReader}});Object.defineProperty(Pt,"AbstractMessageReader",{enumerable:!0,get:function(){return nee.AbstractMessageReader}});Object.defineProperty(Pt,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return nee.ReadableStreamMessageReader}});var iee=ike();Object.defineProperty(Pt,"MessageWriter",{enumerable:!0,get:function(){return iee.MessageWriter}});Object.defineProperty(Pt,"AbstractMessageWriter",{enumerable:!0,get:function(){return iee.AbstractMessageWriter}});Object.defineProperty(Pt,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return iee.WriteableStreamMessageWriter}});var Pwt=oke();Object.defineProperty(Pt,"AbstractMessageBuffer",{enumerable:!0,get:function(){return Pwt.AbstractMessageBuffer}});var al=uke();Object.defineProperty(Pt,"ConnectionStrategy",{enumerable:!0,get:function(){return al.ConnectionStrategy}});Object.defineProperty(Pt,"ConnectionOptions",{enumerable:!0,get:function(){return al.ConnectionOptions}});Object.defineProperty(Pt,"NullLogger",{enumerable:!0,get:function(){return al.NullLogger}});Object.defineProperty(Pt,"createMessageConnection",{enumerable:!0,get:function(){return al.createMessageConnection}});Object.defineProperty(Pt,"ProgressToken",{enumerable:!0,get:function(){return al.ProgressToken}});Object.defineProperty(Pt,"ProgressType",{enumerable:!0,get:function(){return al.ProgressType}});Object.defineProperty(Pt,"Trace",{enumerable:!0,get:function(){return al.Trace}});Object.defineProperty(Pt,"TraceValue",{enumerable:!0,get:function(){return al.TraceValue}});Object.defineProperty(Pt,"TraceFormat",{enumerable:!0,get:function(){return al.TraceFormat}});Object.defineProperty(Pt,"SetTraceNotification",{enumerable:!0,get:function(){return al.SetTraceNotification}});Object.defineProperty(Pt,"LogTraceNotification",{enumerable:!0,get:function(){return al.LogTraceNotification}});Object.defineProperty(Pt,"ConnectionErrors",{enumerable:!0,get:function(){return al.ConnectionErrors}});Object.defineProperty(Pt,"ConnectionError",{enumerable:!0,get:function(){return al.ConnectionError}});Object.defineProperty(Pt,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return al.CancellationReceiverStrategy}});Object.defineProperty(Pt,"IdCancellationReceiverStrategy",{enumerable:!0,get:function(){return al.IdCancellationReceiverStrategy}});Object.defineProperty(Pt,"RequestCancellationReceiverStrategy",{enumerable:!0,get:function(){return al.RequestCancellationReceiverStrategy}});Object.defineProperty(Pt,"CancellationSenderStrategy",{enumerable:!0,get:function(){return al.CancellationSenderStrategy}});Object.defineProperty(Pt,"CancellationStrategy",{enumerable:!0,get:function(){return al.CancellationStrategy}});Object.defineProperty(Pt,"MessageStrategy",{enumerable:!0,get:function(){return al.MessageStrategy}});Object.defineProperty(Pt,"TraceValues",{enumerable:!0,get:function(){return al.TraceValues}});var xwt=Ewt(eD());Pt.RAL=xwt.default});var eW={};g1(eW,{AnnotatedTextEdit:()=>xS,ApplyKind:()=>Eee,ChangeAnnotation:()=>rD,ChangeAnnotationIdentifier:()=>Td,CodeAction:()=>Hee,CodeActionContext:()=>Uee,CodeActionKind:()=>zee,CodeActionTag:()=>JB,CodeActionTriggerKind:()=>FM,CodeDescription:()=>pee,CodeLens:()=>Bee,Color:()=>$B,ColorInformation:()=>cee,ColorPresentation:()=>uee,Command:()=>hE,CompletionItem:()=>Pee,CompletionItemKind:()=>wee,CompletionItemLabelDetails:()=>Ree,CompletionItemTag:()=>Cee,CompletionList:()=>xee,CreateFile:()=>Px,DeleteFile:()=>Ox,Diagnostic:()=>AM,DiagnosticRelatedInformation:()=>VB,DiagnosticSeverity:()=>fee,DiagnosticTag:()=>hee,DocumentHighlight:()=>Lee,DocumentHighlightKind:()=>Aee,DocumentLink:()=>$ee,DocumentSymbol:()=>jee,DocumentUri:()=>oee,EOL:()=>Owt,FoldingRange:()=>dee,FoldingRangeKind:()=>lee,FormattingOptions:()=>Wee,Hover:()=>Oee,InlayHint:()=>ete,InlayHintKind:()=>XB,InlayHintLabelPart:()=>QB,InlineCompletionContext:()=>ote,InlineCompletionItem:()=>tte,InlineCompletionList:()=>rte,InlineCompletionTriggerKind:()=>nte,InlineValueContext:()=>Zee,InlineValueEvaluatableExpression:()=>Qee,InlineValueText:()=>Jee,InlineValueVariableLookup:()=>Xee,InsertReplaceEdit:()=>Tee,InsertTextFormat:()=>See,InsertTextMode:()=>Dee,LanguageKind:()=>_ee,Location:()=>kM,LocationLink:()=>aee,MarkedString:()=>NM,MarkupContent:()=>Ix,MarkupKind:()=>YB,OptionalVersionedTextDocumentIdentifier:()=>MM,ParameterInformation:()=>Iee,Position:()=>Wv,Range:()=>Vc,RenameFile:()=>xx,SelectedCompletionInfo:()=>ite,SelectionRange:()=>Vee,SemanticTokenModifiers:()=>Kee,SemanticTokenTypes:()=>Gee,SemanticTokens:()=>Yee,SignatureInformation:()=>kee,SnippetTextEdit:()=>mee,StringValue:()=>ZB,SymbolInformation:()=>Fee,SymbolKind:()=>Mee,SymbolTag:()=>Nee,TextDocument:()=>ate,TextDocumentEdit:()=>LM,TextDocumentIdentifier:()=>vee,TextDocumentItem:()=>bee,TextEdit:()=>Pb,URI:()=>WB,VersionedTextDocumentIdentifier:()=>yee,WorkspaceChange:()=>gee,WorkspaceEdit:()=>GB,WorkspaceFolder:()=>ste,WorkspaceSymbol:()=>qee,integer:()=>see,uinteger:()=>IM});var oee,WB,see,IM,Wv,Vc,kM,aee,$B,cee,uee,lee,dee,VB,fee,hee,pee,AM,hE,Pb,rD,Td,xS,LM,Px,xx,Ox,GB,Rx,mee,KB,gee,vee,yee,MM,_ee,bee,YB,Ix,wee,See,Cee,Tee,Dee,Eee,Ree,Pee,xee,NM,Oee,Iee,kee,Aee,Lee,Mee,Nee,Fee,qee,jee,zee,FM,Uee,JB,Hee,Bee,Wee,$ee,Vee,Gee,Kee,Yee,Jee,Xee,Qee,Zee,XB,QB,ete,ZB,tte,rte,nte,ite,ote,ste,Owt,ate,cte,dt,tW=Ti(()=>{"use strict";(function(r){function e(t){return typeof t=="string"}r.is=e})(oee||(oee={}));(function(r){function e(t){return typeof t=="string"}r.is=e})(WB||(WB={}));(function(r){r.MIN_VALUE=-2147483648,r.MAX_VALUE=2147483647;function e(t){return typeof t=="number"&&r.MIN_VALUE<=t&&t<=r.MAX_VALUE}r.is=e})(see||(see={}));(function(r){r.MIN_VALUE=0,r.MAX_VALUE=2147483647;function e(t){return typeof t=="number"&&r.MIN_VALUE<=t&&t<=r.MAX_VALUE}r.is=e})(IM||(IM={}));(function(r){function e(n,i){return n===Number.MAX_VALUE&&(n=IM.MAX_VALUE),i===Number.MAX_VALUE&&(i=IM.MAX_VALUE),{line:n,character:i}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&dt.uinteger(i.line)&&dt.uinteger(i.character)}r.is=t})(Wv||(Wv={}));(function(r){function e(n,i,o,s){if(dt.uinteger(n)&&dt.uinteger(i)&&dt.uinteger(o)&&dt.uinteger(s))return{start:Wv.create(n,i),end:Wv.create(o,s)};if(Wv.is(n)&&Wv.is(i))return{start:n,end:i};throw new Error(`Range#create called with invalid arguments[${n}, ${i}, ${o}, ${s}]`)}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&Wv.is(i.start)&&Wv.is(i.end)}r.is=t})(Vc||(Vc={}));(function(r){function e(n,i){return{uri:n,range:i}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&Vc.is(i.range)&&(dt.string(i.uri)||dt.undefined(i.uri))}r.is=t})(kM||(kM={}));(function(r){function e(n,i,o,s){return{targetUri:n,targetRange:i,targetSelectionRange:o,originSelectionRange:s}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&Vc.is(i.targetRange)&&dt.string(i.targetUri)&&Vc.is(i.targetSelectionRange)&&(Vc.is(i.originSelectionRange)||dt.undefined(i.originSelectionRange))}r.is=t})(aee||(aee={}));(function(r){function e(n,i,o,s){return{red:n,green:i,blue:o,alpha:s}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&dt.numberRange(i.red,0,1)&&dt.numberRange(i.green,0,1)&&dt.numberRange(i.blue,0,1)&&dt.numberRange(i.alpha,0,1)}r.is=t})($B||($B={}));(function(r){function e(n,i){return{range:n,color:i}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&Vc.is(i.range)&&$B.is(i.color)}r.is=t})(cee||(cee={}));(function(r){function e(n,i,o){return{label:n,textEdit:i,additionalTextEdits:o}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&dt.string(i.label)&&(dt.undefined(i.textEdit)||Pb.is(i))&&(dt.undefined(i.additionalTextEdits)||dt.typedArray(i.additionalTextEdits,Pb.is))}r.is=t})(uee||(uee={}));(function(r){r.Comment="comment",r.Imports="imports",r.Region="region"})(lee||(lee={}));(function(r){function e(n,i,o,s,a,c){let u={startLine:n,endLine:i};return dt.defined(o)&&(u.startCharacter=o),dt.defined(s)&&(u.endCharacter=s),dt.defined(a)&&(u.kind=a),dt.defined(c)&&(u.collapsedText=c),u}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&dt.uinteger(i.startLine)&&dt.uinteger(i.startLine)&&(dt.undefined(i.startCharacter)||dt.uinteger(i.startCharacter))&&(dt.undefined(i.endCharacter)||dt.uinteger(i.endCharacter))&&(dt.undefined(i.kind)||dt.string(i.kind))}r.is=t})(dee||(dee={}));(function(r){function e(n,i){return{location:n,message:i}}r.create=e;function t(n){let i=n;return dt.defined(i)&&kM.is(i.location)&&dt.string(i.message)}r.is=t})(VB||(VB={}));(function(r){r.Error=1,r.Warning=2,r.Information=3,r.Hint=4})(fee||(fee={}));(function(r){r.Unnecessary=1,r.Deprecated=2})(hee||(hee={}));(function(r){function e(t){let n=t;return dt.objectLiteral(n)&&dt.string(n.href)}r.is=e})(pee||(pee={}));(function(r){function e(n,i,o,s,a,c){let u={range:n,message:i};return dt.defined(o)&&(u.severity=o),dt.defined(s)&&(u.code=s),dt.defined(a)&&(u.source=a),dt.defined(c)&&(u.relatedInformation=c),u}r.create=e;function t(n){var i;let o=n;return dt.defined(o)&&Vc.is(o.range)&&dt.string(o.message)&&(dt.number(o.severity)||dt.undefined(o.severity))&&(dt.integer(o.code)||dt.string(o.code)||dt.undefined(o.code))&&(dt.undefined(o.codeDescription)||dt.string((i=o.codeDescription)===null||i===void 0?void 0:i.href))&&(dt.string(o.source)||dt.undefined(o.source))&&(dt.undefined(o.relatedInformation)||dt.typedArray(o.relatedInformation,VB.is))}r.is=t})(AM||(AM={}));(function(r){function e(n,i,...o){let s={title:n,command:i};return dt.defined(o)&&o.length>0&&(s.arguments=o),s}r.create=e;function t(n){let i=n;return dt.defined(i)&&dt.string(i.title)&&(i.tooltip===void 0||dt.string(i.tooltip))&&dt.string(i.command)}r.is=t})(hE||(hE={}));(function(r){function e(o,s){return{range:o,newText:s}}r.replace=e;function t(o,s){return{range:{start:o,end:o},newText:s}}r.insert=t;function n(o){return{range:o,newText:""}}r.del=n;function i(o){let s=o;return dt.objectLiteral(s)&&dt.string(s.newText)&&Vc.is(s.range)}r.is=i})(Pb||(Pb={}));(function(r){function e(n,i,o){let s={label:n};return i!==void 0&&(s.needsConfirmation=i),o!==void 0&&(s.description=o),s}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&dt.string(i.label)&&(dt.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(dt.string(i.description)||i.description===void 0)}r.is=t})(rD||(rD={}));(function(r){function e(t){let n=t;return dt.string(n)}r.is=e})(Td||(Td={}));(function(r){function e(o,s,a){return{range:o,newText:s,annotationId:a}}r.replace=e;function t(o,s,a){return{range:{start:o,end:o},newText:s,annotationId:a}}r.insert=t;function n(o,s){return{range:o,newText:"",annotationId:s}}r.del=n;function i(o){let s=o;return Pb.is(s)&&(rD.is(s.annotationId)||Td.is(s.annotationId))}r.is=i})(xS||(xS={}));(function(r){function e(n,i){return{textDocument:n,edits:i}}r.create=e;function t(n){let i=n;return dt.defined(i)&&MM.is(i.textDocument)&&Array.isArray(i.edits)}r.is=t})(LM||(LM={}));(function(r){function e(n,i,o){let s={kind:"create",uri:n};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(s.options=i),o!==void 0&&(s.annotationId=o),s}r.create=e;function t(n){let i=n;return i&&i.kind==="create"&&dt.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||dt.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||dt.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||Td.is(i.annotationId))}r.is=t})(Px||(Px={}));(function(r){function e(n,i,o,s){let a={kind:"rename",oldUri:n,newUri:i};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(a.options=o),s!==void 0&&(a.annotationId=s),a}r.create=e;function t(n){let i=n;return i&&i.kind==="rename"&&dt.string(i.oldUri)&&dt.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||dt.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||dt.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||Td.is(i.annotationId))}r.is=t})(xx||(xx={}));(function(r){function e(n,i,o){let s={kind:"delete",uri:n};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(s.options=i),o!==void 0&&(s.annotationId=o),s}r.create=e;function t(n){let i=n;return i&&i.kind==="delete"&&dt.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||dt.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||dt.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||Td.is(i.annotationId))}r.is=t})(Ox||(Ox={}));(function(r){function e(t){let n=t;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(i=>dt.string(i.kind)?Px.is(i)||xx.is(i)||Ox.is(i):LM.is(i)))}r.is=e})(GB||(GB={}));Rx=class{constructor(e,t){this.edits=e,this.changeAnnotations=t}insert(e,t,n){let i,o;if(n===void 0?i=Pb.insert(e,t):Td.is(n)?(o=n,i=xS.insert(e,t,n)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(n),i=xS.insert(e,t,o)),this.edits.push(i),o!==void 0)return o}replace(e,t,n){let i,o;if(n===void 0?i=Pb.replace(e,t):Td.is(n)?(o=n,i=xS.replace(e,t,n)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(n),i=xS.replace(e,t,o)),this.edits.push(i),o!==void 0)return o}delete(e,t){let n,i;if(t===void 0?n=Pb.del(e):Td.is(t)?(i=t,n=xS.del(e,t)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(t),n=xS.del(e,i)),this.edits.push(n),i!==void 0)return i}add(e){this.edits.push(e)}all(){return this.edits}clear(){this.edits.splice(0,this.edits.length)}assertChangeAnnotations(e){if(e===void 0)throw new Error("Text edit change is not configured to manage change annotations.")}};(function(r){function e(t){let n=t;return dt.objectLiteral(n)&&Vc.is(n.range)&&ZB.isSnippet(n.snippet)&&(n.annotationId===void 0||rD.is(n.annotationId)||Td.is(n.annotationId))}r.is=e})(mee||(mee={}));KB=class{constructor(e){this._annotations=e===void 0?Object.create(null):e,this._counter=0,this._size=0}all(){return this._annotations}get size(){return this._size}manage(e,t){let n;if(Td.is(e)?n=e:(n=this.nextId(),t=e),this._annotations[n]!==void 0)throw new Error(`Id ${n} is already in use.`);if(t===void 0)throw new Error(`No annotation provided for id ${n}`);return this._annotations[n]=t,this._size++,n}nextId(){return this._counter++,this._counter.toString()}},gee=class{constructor(e){this._textEditChanges=Object.create(null),e!==void 0?(this._workspaceEdit=e,e.documentChanges?(this._changeAnnotations=new KB(e.changeAnnotations),e.changeAnnotations=this._changeAnnotations.all(),e.documentChanges.forEach(t=>{if(LM.is(t)){let n=new Rx(t.edits,this._changeAnnotations);this._textEditChanges[t.textDocument.uri]=n}})):e.changes&&Object.keys(e.changes).forEach(t=>{let n=new Rx(e.changes[t]);this._textEditChanges[t]=n})):this._workspaceEdit={}}get edit(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit}getTextEditChange(e){if(MM.is(e)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let t={uri:e.uri,version:e.version},n=this._textEditChanges[t.uri];if(!n){let i=[],o={textDocument:t,edits:i};this._workspaceEdit.documentChanges.push(o),n=new Rx(i,this._changeAnnotations),this._textEditChanges[t.uri]=n}return n}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");let t=this._textEditChanges[e];if(!t){let n=[];this._workspaceEdit.changes[e]=n,t=new Rx(n),this._textEditChanges[e]=t}return t}}initDocumentChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new KB,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())}initChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))}createFile(e,t,n){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;rD.is(t)||Td.is(t)?i=t:n=t;let o,s;if(i===void 0?o=Px.create(e,n):(s=Td.is(i)?i:this._changeAnnotations.manage(i),o=Px.create(e,n,s)),this._workspaceEdit.documentChanges.push(o),s!==void 0)return s}renameFile(e,t,n,i){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let o;rD.is(n)||Td.is(n)?o=n:i=n;let s,a;if(o===void 0?s=xx.create(e,t,i):(a=Td.is(o)?o:this._changeAnnotations.manage(o),s=xx.create(e,t,i,a)),this._workspaceEdit.documentChanges.push(s),a!==void 0)return a}deleteFile(e,t,n){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;rD.is(t)||Td.is(t)?i=t:n=t;let o,s;if(i===void 0?o=Ox.create(e,n):(s=Td.is(i)?i:this._changeAnnotations.manage(i),o=Ox.create(e,n,s)),this._workspaceEdit.documentChanges.push(o),s!==void 0)return s}};(function(r){function e(n){return{uri:n}}r.create=e;function t(n){let i=n;return dt.defined(i)&&dt.string(i.uri)}r.is=t})(vee||(vee={}));(function(r){function e(n,i){return{uri:n,version:i}}r.create=e;function t(n){let i=n;return dt.defined(i)&&dt.string(i.uri)&&dt.integer(i.version)}r.is=t})(yee||(yee={}));(function(r){function e(n,i){return{uri:n,version:i}}r.create=e;function t(n){let i=n;return dt.defined(i)&&dt.string(i.uri)&&(i.version===null||dt.integer(i.version))}r.is=t})(MM||(MM={}));(function(r){r.ABAP="abap",r.WindowsBat="bat",r.BibTeX="bibtex",r.Clojure="clojure",r.Coffeescript="coffeescript",r.C="c",r.CPP="cpp",r.CSharp="csharp",r.CSS="css",r.D="d",r.Delphi="pascal",r.Diff="diff",r.Dart="dart",r.Dockerfile="dockerfile",r.Elixir="elixir",r.Erlang="erlang",r.FSharp="fsharp",r.GitCommit="git-commit",r.GitRebase="rebase",r.Go="go",r.Groovy="groovy",r.Handlebars="handlebars",r.Haskell="haskell",r.HTML="html",r.Ini="ini",r.Java="java",r.JavaScript="javascript",r.JavaScriptReact="javascriptreact",r.JSON="json",r.LaTeX="latex",r.Less="less",r.Lua="lua",r.Makefile="makefile",r.Markdown="markdown",r.ObjectiveC="objective-c",r.ObjectiveCPP="objective-cpp",r.Pascal="pascal",r.Perl="perl",r.Perl6="perl6",r.PHP="php",r.Powershell="powershell",r.Pug="jade",r.Python="python",r.R="r",r.Razor="razor",r.Ruby="ruby",r.Rust="rust",r.SCSS="scss",r.SASS="sass",r.Scala="scala",r.ShaderLab="shaderlab",r.ShellScript="shellscript",r.SQL="sql",r.Swift="swift",r.TypeScript="typescript",r.TypeScriptReact="typescriptreact",r.TeX="tex",r.VisualBasic="vb",r.XML="xml",r.XSL="xsl",r.YAML="yaml"})(_ee||(_ee={}));(function(r){function e(n,i,o,s){return{uri:n,languageId:i,version:o,text:s}}r.create=e;function t(n){let i=n;return dt.defined(i)&&dt.string(i.uri)&&dt.string(i.languageId)&&dt.integer(i.version)&&dt.string(i.text)}r.is=t})(bee||(bee={}));(function(r){r.PlainText="plaintext",r.Markdown="markdown";function e(t){let n=t;return n===r.PlainText||n===r.Markdown}r.is=e})(YB||(YB={}));(function(r){function e(t){let n=t;return dt.objectLiteral(t)&&YB.is(n.kind)&&dt.string(n.value)}r.is=e})(Ix||(Ix={}));(function(r){r.Text=1,r.Method=2,r.Function=3,r.Constructor=4,r.Field=5,r.Variable=6,r.Class=7,r.Interface=8,r.Module=9,r.Property=10,r.Unit=11,r.Value=12,r.Enum=13,r.Keyword=14,r.Snippet=15,r.Color=16,r.File=17,r.Reference=18,r.Folder=19,r.EnumMember=20,r.Constant=21,r.Struct=22,r.Event=23,r.Operator=24,r.TypeParameter=25})(wee||(wee={}));(function(r){r.PlainText=1,r.Snippet=2})(See||(See={}));(function(r){r.Deprecated=1})(Cee||(Cee={}));(function(r){function e(n,i,o){return{newText:n,insert:i,replace:o}}r.create=e;function t(n){let i=n;return i&&dt.string(i.newText)&&Vc.is(i.insert)&&Vc.is(i.replace)}r.is=t})(Tee||(Tee={}));(function(r){r.asIs=1,r.adjustIndentation=2})(Dee||(Dee={}));(function(r){r.Replace=1,r.Merge=2})(Eee||(Eee={}));(function(r){function e(t){let n=t;return n&&(dt.string(n.detail)||n.detail===void 0)&&(dt.string(n.description)||n.description===void 0)}r.is=e})(Ree||(Ree={}));(function(r){function e(t){return{label:t}}r.create=e})(Pee||(Pee={}));(function(r){function e(t,n){return{items:t||[],isIncomplete:!!n}}r.create=e})(xee||(xee={}));(function(r){function e(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}r.fromPlainText=e;function t(n){let i=n;return dt.string(i)||dt.objectLiteral(i)&&dt.string(i.language)&&dt.string(i.value)}r.is=t})(NM||(NM={}));(function(r){function e(t){let n=t;return!!n&&dt.objectLiteral(n)&&(Ix.is(n.contents)||NM.is(n.contents)||dt.typedArray(n.contents,NM.is))&&(t.range===void 0||Vc.is(t.range))}r.is=e})(Oee||(Oee={}));(function(r){function e(t,n){return n?{label:t,documentation:n}:{label:t}}r.create=e})(Iee||(Iee={}));(function(r){function e(t,n,...i){let o={label:t};return dt.defined(n)&&(o.documentation=n),dt.defined(i)?o.parameters=i:o.parameters=[],o}r.create=e})(kee||(kee={}));(function(r){r.Text=1,r.Read=2,r.Write=3})(Aee||(Aee={}));(function(r){function e(t,n){let i={range:t};return dt.number(n)&&(i.kind=n),i}r.create=e})(Lee||(Lee={}));(function(r){r.File=1,r.Module=2,r.Namespace=3,r.Package=4,r.Class=5,r.Method=6,r.Property=7,r.Field=8,r.Constructor=9,r.Enum=10,r.Interface=11,r.Function=12,r.Variable=13,r.Constant=14,r.String=15,r.Number=16,r.Boolean=17,r.Array=18,r.Object=19,r.Key=20,r.Null=21,r.EnumMember=22,r.Struct=23,r.Event=24,r.Operator=25,r.TypeParameter=26})(Mee||(Mee={}));(function(r){r.Deprecated=1})(Nee||(Nee={}));(function(r){function e(t,n,i,o,s){let a={name:t,kind:n,location:{uri:o,range:i}};return s&&(a.containerName=s),a}r.create=e})(Fee||(Fee={}));(function(r){function e(t,n,i,o){return o!==void 0?{name:t,kind:n,location:{uri:i,range:o}}:{name:t,kind:n,location:{uri:i}}}r.create=e})(qee||(qee={}));(function(r){function e(n,i,o,s,a,c){let u={name:n,detail:i,kind:o,range:s,selectionRange:a};return c!==void 0&&(u.children=c),u}r.create=e;function t(n){let i=n;return i&&dt.string(i.name)&&dt.number(i.kind)&&Vc.is(i.range)&&Vc.is(i.selectionRange)&&(i.detail===void 0||dt.string(i.detail))&&(i.deprecated===void 0||dt.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}r.is=t})(jee||(jee={}));(function(r){r.Empty="",r.QuickFix="quickfix",r.Refactor="refactor",r.RefactorExtract="refactor.extract",r.RefactorInline="refactor.inline",r.RefactorMove="refactor.move",r.RefactorRewrite="refactor.rewrite",r.Source="source",r.SourceOrganizeImports="source.organizeImports",r.SourceFixAll="source.fixAll",r.Notebook="notebook"})(zee||(zee={}));(function(r){r.Invoked=1,r.Automatic=2})(FM||(FM={}));(function(r){function e(n,i,o){let s={diagnostics:n};return i!=null&&(s.only=i),o!=null&&(s.triggerKind=o),s}r.create=e;function t(n){let i=n;return dt.defined(i)&&dt.typedArray(i.diagnostics,AM.is)&&(i.only===void 0||dt.typedArray(i.only,dt.string))&&(i.triggerKind===void 0||i.triggerKind===FM.Invoked||i.triggerKind===FM.Automatic)}r.is=t})(Uee||(Uee={}));(function(r){r.LLMGenerated=1;function e(t){return dt.defined(t)&&t===r.LLMGenerated}r.is=e})(JB||(JB={}));(function(r){function e(n,i,o){let s={title:n},a=!0;return typeof i=="string"?(a=!1,s.kind=i):hE.is(i)?s.command=i:s.edit=i,a&&o!==void 0&&(s.kind=o),s}r.create=e;function t(n){let i=n;return i&&dt.string(i.title)&&(i.diagnostics===void 0||dt.typedArray(i.diagnostics,AM.is))&&(i.kind===void 0||dt.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||hE.is(i.command))&&(i.isPreferred===void 0||dt.boolean(i.isPreferred))&&(i.edit===void 0||GB.is(i.edit))&&(i.tags===void 0||dt.typedArray(i.tags,JB.is))}r.is=t})(Hee||(Hee={}));(function(r){function e(n,i){let o={range:n};return dt.defined(i)&&(o.data=i),o}r.create=e;function t(n){let i=n;return dt.defined(i)&&Vc.is(i.range)&&(dt.undefined(i.command)||hE.is(i.command))}r.is=t})(Bee||(Bee={}));(function(r){function e(n,i){return{tabSize:n,insertSpaces:i}}r.create=e;function t(n){let i=n;return dt.defined(i)&&dt.uinteger(i.tabSize)&&dt.boolean(i.insertSpaces)}r.is=t})(Wee||(Wee={}));(function(r){function e(n,i,o){return{range:n,target:i,data:o}}r.create=e;function t(n){let i=n;return dt.defined(i)&&Vc.is(i.range)&&(dt.undefined(i.target)||dt.string(i.target))}r.is=t})($ee||($ee={}));(function(r){function e(n,i){return{range:n,parent:i}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&Vc.is(i.range)&&(i.parent===void 0||r.is(i.parent))}r.is=t})(Vee||(Vee={}));(function(r){r.namespace="namespace",r.type="type",r.class="class",r.enum="enum",r.interface="interface",r.struct="struct",r.typeParameter="typeParameter",r.parameter="parameter",r.variable="variable",r.property="property",r.enumMember="enumMember",r.event="event",r.function="function",r.method="method",r.macro="macro",r.keyword="keyword",r.modifier="modifier",r.comment="comment",r.string="string",r.number="number",r.regexp="regexp",r.operator="operator",r.decorator="decorator",r.label="label"})(Gee||(Gee={}));(function(r){r.declaration="declaration",r.definition="definition",r.readonly="readonly",r.static="static",r.deprecated="deprecated",r.abstract="abstract",r.async="async",r.modification="modification",r.documentation="documentation",r.defaultLibrary="defaultLibrary"})(Kee||(Kee={}));(function(r){function e(t){let n=t;return dt.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}r.is=e})(Yee||(Yee={}));(function(r){function e(n,i){return{range:n,text:i}}r.create=e;function t(n){let i=n;return i!=null&&Vc.is(i.range)&&dt.string(i.text)}r.is=t})(Jee||(Jee={}));(function(r){function e(n,i,o){return{range:n,variableName:i,caseSensitiveLookup:o}}r.create=e;function t(n){let i=n;return i!=null&&Vc.is(i.range)&&dt.boolean(i.caseSensitiveLookup)&&(dt.string(i.variableName)||i.variableName===void 0)}r.is=t})(Xee||(Xee={}));(function(r){function e(n,i){return{range:n,expression:i}}r.create=e;function t(n){let i=n;return i!=null&&Vc.is(i.range)&&(dt.string(i.expression)||i.expression===void 0)}r.is=t})(Qee||(Qee={}));(function(r){function e(n,i){return{frameId:n,stoppedLocation:i}}r.create=e;function t(n){let i=n;return dt.defined(i)&&Vc.is(n.stoppedLocation)}r.is=t})(Zee||(Zee={}));(function(r){r.Type=1,r.Parameter=2;function e(t){return t===1||t===2}r.is=e})(XB||(XB={}));(function(r){function e(n){return{value:n}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&(i.tooltip===void 0||dt.string(i.tooltip)||Ix.is(i.tooltip))&&(i.location===void 0||kM.is(i.location))&&(i.command===void 0||hE.is(i.command))}r.is=t})(QB||(QB={}));(function(r){function e(n,i,o){let s={position:n,label:i};return o!==void 0&&(s.kind=o),s}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&Wv.is(i.position)&&(dt.string(i.label)||dt.typedArray(i.label,QB.is))&&(i.kind===void 0||XB.is(i.kind))&&i.textEdits===void 0||dt.typedArray(i.textEdits,Pb.is)&&(i.tooltip===void 0||dt.string(i.tooltip)||Ix.is(i.tooltip))&&(i.paddingLeft===void 0||dt.boolean(i.paddingLeft))&&(i.paddingRight===void 0||dt.boolean(i.paddingRight))}r.is=t})(ete||(ete={}));(function(r){function e(n){return{kind:"snippet",value:n}}r.createSnippet=e;function t(n){let i=n;return dt.objectLiteral(i)&&i.kind==="snippet"&&dt.string(i.value)}r.isSnippet=t})(ZB||(ZB={}));(function(r){function e(t,n,i,o){return{insertText:t,filterText:n,range:i,command:o}}r.create=e})(tte||(tte={}));(function(r){function e(t){return{items:t}}r.create=e})(rte||(rte={}));(function(r){r.Invoked=1,r.Automatic=2})(nte||(nte={}));(function(r){function e(t,n){return{range:t,text:n}}r.create=e})(ite||(ite={}));(function(r){function e(t,n){return{triggerKind:t,selectedCompletionInfo:n}}r.create=e})(ote||(ote={}));(function(r){function e(t){let n=t;return dt.objectLiteral(n)&&WB.is(n.uri)&&dt.string(n.name)}r.is=e})(ste||(ste={}));Owt=[`
`,`\r
`,"\r"];(function(r){function e(o,s,a,c){return new cte(o,s,a,c)}r.create=e;function t(o){let s=o;return!!(dt.defined(s)&&dt.string(s.uri)&&(dt.undefined(s.languageId)||dt.string(s.languageId))&&dt.uinteger(s.lineCount)&&dt.func(s.getText)&&dt.func(s.positionAt)&&dt.func(s.offsetAt))}r.is=t;function n(o,s){let a=o.getText(),c=i(s,(l,d)=>{let f=l.range.start.line-d.range.start.line;return f===0?l.range.start.character-d.range.start.character:f}),u=a.length;for(let l=c.length-1;l>=0;l--){let d=c[l],f=o.offsetAt(d.range.start),p=o.offsetAt(d.range.end);if(p<=u)a=a.substring(0,f)+d.newText+a.substring(p,a.length);else throw new Error("Overlapping edit");u=f}return a}r.applyEdits=n;function i(o,s){if(o.length<=1)return o;let a=o.length/2|0,c=o.slice(0,a),u=o.slice(a);i(c,s),i(u,s);let l=0,d=0,f=0;for(;l<c.length&&d<u.length;)s(c[l],u[d])<=0?o[f++]=c[l++]:o[f++]=u[d++];for(;l<c.length;)o[f++]=c[l++];for(;d<u.length;)o[f++]=u[d++];return o}})(ate||(ate={}));cte=class{constructor(e,t,n,i){this._uri=e,this._languageId=t,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content}update(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let e=[],t=this._content,n=!0;for(let i=0;i<t.length;i++){n&&(e.push(i),n=!1);let o=t.charAt(i);n=o==="\r"||o===`
`,o==="\r"&&i+1<t.length&&t.charAt(i+1)===`
`&&i++}n&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let t=this.getLineOffsets(),n=0,i=t.length;if(i===0)return Wv.create(0,e);for(;n<i;){let s=Math.floor((n+i)/2);t[s]>e?i=s:n=s+1}let o=n-1;return Wv.create(o,e-t[o])}offsetAt(e){let t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;let n=t[e.line],i=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,i),n)}get lineCount(){return this.getLineOffsets().length}};(function(r){let e=Object.prototype.toString;function t(p){return typeof p<"u"}r.defined=t;function n(p){return typeof p>"u"}r.undefined=n;function i(p){return p===!0||p===!1}r.boolean=i;function o(p){return e.call(p)==="[object String]"}r.string=o;function s(p){return e.call(p)==="[object Number]"}r.number=s;function a(p,_,D){return e.call(p)==="[object Number]"&&_<=p&&p<=D}r.numberRange=a;function c(p){return e.call(p)==="[object Number]"&&-2147483648<=p&&p<=2147483647}r.integer=c;function u(p){return e.call(p)==="[object Number]"&&0<=p&&p<=2147483647}r.uinteger=u;function l(p){return e.call(p)==="[object Function]"}r.func=l;function d(p){return p!==null&&typeof p=="object"}r.objectLiteral=d;function f(p,_){return Array.isArray(p)&&p.every(_)}r.typedArray=f})(dt||(dt={}))});var $a=C(Sm=>{"use strict";Object.defineProperty(Sm,"__esModule",{value:!0});Sm.ProtocolNotificationType=Sm.ProtocolNotificationType0=Sm.ProtocolRequestType=Sm.ProtocolRequestType0=Sm.RegistrationType=Sm.MessageDirection=void 0;var kx=cl(),hke;(function(r){r.clientToServer="clientToServer",r.serverToClient="serverToClient",r.both="both"})(hke||(Sm.MessageDirection=hke={}));var ute=class{____;method;constructor(e){this.method=e}};Sm.RegistrationType=ute;var lte=class extends kx.RequestType0{__;___;____;_pr;constructor(e){super(e)}};Sm.ProtocolRequestType0=lte;var dte=class extends kx.RequestType{__;___;____;_pr;constructor(e){super(e,kx.ParameterStructures.byName)}};Sm.ProtocolRequestType=dte;var fte=class extends kx.NotificationType0{___;____;constructor(e){super(e)}};Sm.ProtocolNotificationType0=fte;var hte=class extends kx.NotificationType{___;____;constructor(e){super(e,kx.ParameterStructures.byName)}};Sm.ProtocolNotificationType=hte});var rW=C(n_=>{"use strict";Object.defineProperty(n_,"__esModule",{value:!0});n_.boolean=Iwt;n_.string=pke;n_.number=kwt;n_.error=Awt;n_.func=Lwt;n_.array=mke;n_.stringArray=Mwt;n_.typedArray=Nwt;n_.objectLiteral=Fwt;function Iwt(r){return r===!0||r===!1}function pke(r){return typeof r=="string"||r instanceof String}function kwt(r){return typeof r=="number"||r instanceof Number}function Awt(r){return r instanceof Error}function Lwt(r){return typeof r=="function"}function mke(r){return Array.isArray(r)}function Mwt(r){return mke(r)&&r.every(e=>pke(e))}function Nwt(r,e){return Array.isArray(r)&&r.every(e)}function Fwt(r){return r!==null&&typeof r=="object"}});var yke=C(nW=>{"use strict";Object.defineProperty(nW,"__esModule",{value:!0});nW.ImplementationRequest=void 0;var gke=$a(),vke;(function(r){r.method="textDocument/implementation",r.messageDirection=gke.MessageDirection.clientToServer,r.type=new gke.ProtocolRequestType(r.method)})(vke||(nW.ImplementationRequest=vke={}))});var wke=C(iW=>{"use strict";Object.defineProperty(iW,"__esModule",{value:!0});iW.TypeDefinitionRequest=void 0;var _ke=$a(),bke;(function(r){r.method="textDocument/typeDefinition",r.messageDirection=_ke.MessageDirection.clientToServer,r.type=new _ke.ProtocolRequestType(r.method)})(bke||(iW.TypeDefinitionRequest=bke={}))});var Tke=C(Ax=>{"use strict";Object.defineProperty(Ax,"__esModule",{value:!0});Ax.DidChangeWorkspaceFoldersNotification=Ax.WorkspaceFoldersRequest=void 0;var oW=$a(),Ske;(function(r){r.method="workspace/workspaceFolders",r.messageDirection=oW.MessageDirection.serverToClient,r.type=new oW.ProtocolRequestType0(r.method)})(Ske||(Ax.WorkspaceFoldersRequest=Ske={}));var Cke;(function(r){r.method="workspace/didChangeWorkspaceFolders",r.messageDirection=oW.MessageDirection.clientToServer,r.type=new oW.ProtocolNotificationType(r.method)})(Cke||(Ax.DidChangeWorkspaceFoldersNotification=Cke={}))});var Rke=C(sW=>{"use strict";Object.defineProperty(sW,"__esModule",{value:!0});sW.ConfigurationRequest=void 0;var Dke=$a(),Eke;(function(r){r.method="workspace/configuration",r.messageDirection=Dke.MessageDirection.serverToClient,r.type=new Dke.ProtocolRequestType(r.method)})(Eke||(sW.ConfigurationRequest=Eke={}))});var Oke=C(Lx=>{"use strict";Object.defineProperty(Lx,"__esModule",{value:!0});Lx.ColorPresentationRequest=Lx.DocumentColorRequest=void 0;var aW=$a(),Pke;(function(r){r.method="textDocument/documentColor",r.messageDirection=aW.MessageDirection.clientToServer,r.type=new aW.ProtocolRequestType(r.method)})(Pke||(Lx.DocumentColorRequest=Pke={}));var xke;(function(r){r.method="textDocument/colorPresentation",r.messageDirection=aW.MessageDirection.clientToServer,r.type=new aW.ProtocolRequestType(r.method)})(xke||(Lx.ColorPresentationRequest=xke={}))});var Ake=C(Mx=>{"use strict";Object.defineProperty(Mx,"__esModule",{value:!0});Mx.FoldingRangeRefreshRequest=Mx.FoldingRangeRequest=void 0;var cW=$a(),Ike;(function(r){r.method="textDocument/foldingRange",r.messageDirection=cW.MessageDirection.clientToServer,r.type=new cW.ProtocolRequestType(r.method)})(Ike||(Mx.FoldingRangeRequest=Ike={}));var kke;(function(r){r.method="workspace/foldingRange/refresh",r.messageDirection=cW.MessageDirection.serverToClient,r.type=new cW.ProtocolRequestType0(r.method)})(kke||(Mx.FoldingRangeRefreshRequest=kke={}))});var Nke=C(uW=>{"use strict";Object.defineProperty(uW,"__esModule",{value:!0});uW.DeclarationRequest=void 0;var Lke=$a(),Mke;(function(r){r.method="textDocument/declaration",r.messageDirection=Lke.MessageDirection.clientToServer,r.type=new Lke.ProtocolRequestType(r.method)})(Mke||(uW.DeclarationRequest=Mke={}))});var jke=C(lW=>{"use strict";Object.defineProperty(lW,"__esModule",{value:!0});lW.SelectionRangeRequest=void 0;var Fke=$a(),qke;(function(r){r.method="textDocument/selectionRange",r.messageDirection=Fke.MessageDirection.clientToServer,r.type=new Fke.ProtocolRequestType(r.method)})(qke||(lW.SelectionRangeRequest=qke={}))});var Bke=C(nD=>{"use strict";Object.defineProperty(nD,"__esModule",{value:!0});nD.WorkDoneProgressCancelNotification=nD.WorkDoneProgressCreateRequest=nD.WorkDoneProgress=void 0;var qwt=cl(),dW=$a(),zke;(function(r){r.type=new qwt.ProgressType;function e(t){return t===r.type}r.is=e})(zke||(nD.WorkDoneProgress=zke={}));var Uke;(function(r){r.method="window/workDoneProgress/create",r.messageDirection=dW.MessageDirection.serverToClient,r.type=new dW.ProtocolRequestType(r.method)})(Uke||(nD.WorkDoneProgressCreateRequest=Uke={}));var Hke;(function(r){r.method="window/workDoneProgress/cancel",r.messageDirection=dW.MessageDirection.clientToServer,r.type=new dW.ProtocolNotificationType(r.method)})(Hke||(nD.WorkDoneProgressCancelNotification=Hke={}))});var Gke=C(iD=>{"use strict";Object.defineProperty(iD,"__esModule",{value:!0});iD.CallHierarchyOutgoingCallsRequest=iD.CallHierarchyIncomingCallsRequest=iD.CallHierarchyPrepareRequest=void 0;var Nx=$a(),Wke;(function(r){r.method="textDocument/prepareCallHierarchy",r.messageDirection=Nx.MessageDirection.clientToServer,r.type=new Nx.ProtocolRequestType(r.method)})(Wke||(iD.CallHierarchyPrepareRequest=Wke={}));var $ke;(function(r){r.method="callHierarchy/incomingCalls",r.messageDirection=Nx.MessageDirection.clientToServer,r.type=new Nx.ProtocolRequestType(r.method)})($ke||(iD.CallHierarchyIncomingCallsRequest=$ke={}));var Vke;(function(r){r.method="callHierarchy/outgoingCalls",r.messageDirection=Nx.MessageDirection.clientToServer,r.type=new Nx.ProtocolRequestType(r.method)})(Vke||(iD.CallHierarchyOutgoingCallsRequest=Vke={}))});var Zke=C(Cm=>{"use strict";Object.defineProperty(Cm,"__esModule",{value:!0});Cm.SemanticTokensRefreshRequest=Cm.SemanticTokensRangeRequest=Cm.SemanticTokensDeltaRequest=Cm.SemanticTokensRequest=Cm.SemanticTokensRegistrationType=Cm.TokenFormat=void 0;var OS=$a(),Kke;(function(r){r.Relative="relative"})(Kke||(Cm.TokenFormat=Kke={}));var qM;(function(r){r.method="textDocument/semanticTokens",r.type=new OS.RegistrationType(r.method)})(qM||(Cm.SemanticTokensRegistrationType=qM={}));var Yke;(function(r){r.method="textDocument/semanticTokens/full",r.messageDirection=OS.MessageDirection.clientToServer,r.type=new OS.ProtocolRequestType(r.method),r.registrationMethod=qM.method})(Yke||(Cm.SemanticTokensRequest=Yke={}));var Jke;(function(r){r.method="textDocument/semanticTokens/full/delta",r.messageDirection=OS.MessageDirection.clientToServer,r.type=new OS.ProtocolRequestType(r.method),r.registrationMethod=qM.method})(Jke||(Cm.SemanticTokensDeltaRequest=Jke={}));var Xke;(function(r){r.method="textDocument/semanticTokens/range",r.messageDirection=OS.MessageDirection.clientToServer,r.type=new OS.ProtocolRequestType(r.method),r.registrationMethod=qM.method})(Xke||(Cm.SemanticTokensRangeRequest=Xke={}));var Qke;(function(r){r.method="workspace/semanticTokens/refresh",r.messageDirection=OS.MessageDirection.serverToClient,r.type=new OS.ProtocolRequestType0(r.method)})(Qke||(Cm.SemanticTokensRefreshRequest=Qke={}))});var r1e=C(fW=>{"use strict";Object.defineProperty(fW,"__esModule",{value:!0});fW.ShowDocumentRequest=void 0;var e1e=$a(),t1e;(function(r){r.method="window/showDocument",r.messageDirection=e1e.MessageDirection.serverToClient,r.type=new e1e.ProtocolRequestType(r.method)})(t1e||(fW.ShowDocumentRequest=t1e={}))});var o1e=C(hW=>{"use strict";Object.defineProperty(hW,"__esModule",{value:!0});hW.LinkedEditingRangeRequest=void 0;var n1e=$a(),i1e;(function(r){r.method="textDocument/linkedEditingRange",r.messageDirection=n1e.MessageDirection.clientToServer,r.type=new n1e.ProtocolRequestType(r.method)})(i1e||(hW.LinkedEditingRangeRequest=i1e={}))});var h1e=C(hh=>{"use strict";Object.defineProperty(hh,"__esModule",{value:!0});hh.WillDeleteFilesRequest=hh.DidDeleteFilesNotification=hh.DidRenameFilesNotification=hh.WillRenameFilesRequest=hh.DidCreateFilesNotification=hh.WillCreateFilesRequest=hh.FileOperationPatternKind=void 0;var $v=$a(),s1e;(function(r){r.file="file",r.folder="folder"})(s1e||(hh.FileOperationPatternKind=s1e={}));var a1e;(function(r){r.method="workspace/willCreateFiles",r.messageDirection=$v.MessageDirection.clientToServer,r.type=new $v.ProtocolRequestType(r.method)})(a1e||(hh.WillCreateFilesRequest=a1e={}));var c1e;(function(r){r.method="workspace/didCreateFiles",r.messageDirection=$v.MessageDirection.clientToServer,r.type=new $v.ProtocolNotificationType(r.method)})(c1e||(hh.DidCreateFilesNotification=c1e={}));var u1e;(function(r){r.method="workspace/willRenameFiles",r.messageDirection=$v.MessageDirection.clientToServer,r.type=new $v.ProtocolRequestType(r.method)})(u1e||(hh.WillRenameFilesRequest=u1e={}));var l1e;(function(r){r.method="workspace/didRenameFiles",r.messageDirection=$v.MessageDirection.clientToServer,r.type=new $v.ProtocolNotificationType(r.method)})(l1e||(hh.DidRenameFilesNotification=l1e={}));var d1e;(function(r){r.method="workspace/didDeleteFiles",r.messageDirection=$v.MessageDirection.clientToServer,r.type=new $v.ProtocolNotificationType(r.method)})(d1e||(hh.DidDeleteFilesNotification=d1e={}));var f1e;(function(r){r.method="workspace/willDeleteFiles",r.messageDirection=$v.MessageDirection.clientToServer,r.type=new $v.ProtocolRequestType(r.method)})(f1e||(hh.WillDeleteFilesRequest=f1e={}))});var y1e=C(oD=>{"use strict";Object.defineProperty(oD,"__esModule",{value:!0});oD.MonikerRequest=oD.MonikerKind=oD.UniquenessLevel=void 0;var p1e=$a(),m1e;(function(r){r.document="document",r.project="project",r.group="group",r.scheme="scheme",r.global="global"})(m1e||(oD.UniquenessLevel=m1e={}));var g1e;(function(r){r.$import="import",r.$export="export",r.local="local"})(g1e||(oD.MonikerKind=g1e={}));var v1e;(function(r){r.method="textDocument/moniker",r.messageDirection=p1e.MessageDirection.clientToServer,r.type=new p1e.ProtocolRequestType(r.method)})(v1e||(oD.MonikerRequest=v1e={}))});var S1e=C(sD=>{"use strict";Object.defineProperty(sD,"__esModule",{value:!0});sD.TypeHierarchySubtypesRequest=sD.TypeHierarchySupertypesRequest=sD.TypeHierarchyPrepareRequest=void 0;var Fx=$a(),_1e;(function(r){r.method="textDocument/prepareTypeHierarchy",r.messageDirection=Fx.MessageDirection.clientToServer,r.type=new Fx.ProtocolRequestType(r.method)})(_1e||(sD.TypeHierarchyPrepareRequest=_1e={}));var b1e;(function(r){r.method="typeHierarchy/supertypes",r.messageDirection=Fx.MessageDirection.clientToServer,r.type=new Fx.ProtocolRequestType(r.method)})(b1e||(sD.TypeHierarchySupertypesRequest=b1e={}));var w1e;(function(r){r.method="typeHierarchy/subtypes",r.messageDirection=Fx.MessageDirection.clientToServer,r.type=new Fx.ProtocolRequestType(r.method)})(w1e||(sD.TypeHierarchySubtypesRequest=w1e={}))});var D1e=C(qx=>{"use strict";Object.defineProperty(qx,"__esModule",{value:!0});qx.InlineValueRefreshRequest=qx.InlineValueRequest=void 0;var pW=$a(),C1e;(function(r){r.method="textDocument/inlineValue",r.messageDirection=pW.MessageDirection.clientToServer,r.type=new pW.ProtocolRequestType(r.method)})(C1e||(qx.InlineValueRequest=C1e={}));var T1e;(function(r){r.method="workspace/inlineValue/refresh",r.messageDirection=pW.MessageDirection.serverToClient,r.type=new pW.ProtocolRequestType0(r.method)})(T1e||(qx.InlineValueRefreshRequest=T1e={}))});var x1e=C(aD=>{"use strict";Object.defineProperty(aD,"__esModule",{value:!0});aD.InlayHintRefreshRequest=aD.InlayHintResolveRequest=aD.InlayHintRequest=void 0;var jx=$a(),E1e;(function(r){r.method="textDocument/inlayHint",r.messageDirection=jx.MessageDirection.clientToServer,r.type=new jx.ProtocolRequestType(r.method)})(E1e||(aD.InlayHintRequest=E1e={}));var R1e;(function(r){r.method="inlayHint/resolve",r.messageDirection=jx.MessageDirection.clientToServer,r.type=new jx.ProtocolRequestType(r.method)})(R1e||(aD.InlayHintResolveRequest=R1e={}));var P1e;(function(r){r.method="workspace/inlayHint/refresh",r.messageDirection=jx.MessageDirection.serverToClient,r.type=new jx.ProtocolRequestType0(r.method)})(P1e||(aD.InlayHintRefreshRequest=P1e={}))});var N1e=C(Dd=>{"use strict";var jwt=Dd&&Dd.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),zwt=Dd&&Dd.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Uwt=Dd&&Dd.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&jwt(t,e,n[i]);return zwt(t,e),t}}();Object.defineProperty(Dd,"__esModule",{value:!0});Dd.DiagnosticRefreshRequest=Dd.WorkspaceDiagnosticRequest=Dd.DocumentDiagnosticRequest=Dd.DocumentDiagnosticReportKind=Dd.DiagnosticServerCancellationData=void 0;var M1e=cl(),Hwt=Uwt(rW()),zx=$a(),O1e;(function(r){function e(t){let n=t;return n&&Hwt.boolean(n.retriggerRequest)}r.is=e})(O1e||(Dd.DiagnosticServerCancellationData=O1e={}));var I1e;(function(r){r.Full="full",r.Unchanged="unchanged"})(I1e||(Dd.DocumentDiagnosticReportKind=I1e={}));var k1e;(function(r){r.method="textDocument/diagnostic",r.messageDirection=zx.MessageDirection.clientToServer,r.type=new zx.ProtocolRequestType(r.method),r.partialResult=new M1e.ProgressType})(k1e||(Dd.DocumentDiagnosticRequest=k1e={}));var A1e;(function(r){r.method="workspace/diagnostic",r.messageDirection=zx.MessageDirection.clientToServer,r.type=new zx.ProtocolRequestType(r.method),r.partialResult=new M1e.ProgressType})(A1e||(Dd.WorkspaceDiagnosticRequest=A1e={}));var L1e;(function(r){r.method="workspace/diagnostic/refresh",r.messageDirection=zx.MessageDirection.serverToClient,r.type=new zx.ProtocolRequestType0(r.method)})(L1e||(Dd.DiagnosticRefreshRequest=L1e={}))});var B1e=C(na=>{"use strict";var Bwt=na&&na.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Wwt=na&&na.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),$wt=na&&na.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Bwt(t,e,n[i]);return Wwt(t,e),t}}();Object.defineProperty(na,"__esModule",{value:!0});na.DidCloseNotebookDocumentNotification=na.DidSaveNotebookDocumentNotification=na.DidChangeNotebookDocumentNotification=na.NotebookCellArrayChange=na.DidOpenNotebookDocumentNotification=na.NotebookDocumentSyncRegistrationType=na.NotebookDocument=na.NotebookCell=na.ExecutionSummary=na.NotebookCellKind=void 0;var jM=(tW(),rT(eW)),i_=$wt(rW()),xb=$a(),pte;(function(r){r.Markup=1,r.Code=2;function e(t){return t===1||t===2}r.is=e})(pte||(na.NotebookCellKind=pte={}));var mte;(function(r){function e(i,o){let s={executionOrder:i};return(o===!0||o===!1)&&(s.success=o),s}r.create=e;function t(i){let o=i;return i_.objectLiteral(o)&&jM.uinteger.is(o.executionOrder)&&(o.success===void 0||i_.boolean(o.success))}r.is=t;function n(i,o){return i===o?!0:i==null||o===null||o===void 0?!1:i.executionOrder===o.executionOrder&&i.success===o.success}r.equals=n})(mte||(na.ExecutionSummary=mte={}));var mW;(function(r){function e(o,s){return{kind:o,document:s}}r.create=e;function t(o){let s=o;return i_.objectLiteral(s)&&pte.is(s.kind)&&jM.DocumentUri.is(s.document)&&(s.metadata===void 0||i_.objectLiteral(s.metadata))}r.is=t;function n(o,s){let a=new Set;return o.document!==s.document&&a.add("document"),o.kind!==s.kind&&a.add("kind"),o.executionSummary!==s.executionSummary&&a.add("executionSummary"),(o.metadata!==void 0||s.metadata!==void 0)&&!i(o.metadata,s.metadata)&&a.add("metadata"),(o.executionSummary!==void 0||s.executionSummary!==void 0)&&!mte.equals(o.executionSummary,s.executionSummary)&&a.add("executionSummary"),a}r.diff=n;function i(o,s){if(o===s)return!0;if(o==null||s===null||s===void 0||typeof o!=typeof s||typeof o!="object")return!1;let a=Array.isArray(o),c=Array.isArray(s);if(a!==c)return!1;if(a&&c){if(o.length!==s.length)return!1;for(let u=0;u<o.length;u++)if(!i(o[u],s[u]))return!1}if(i_.objectLiteral(o)&&i_.objectLiteral(s)){let u=Object.keys(o),l=Object.keys(s);if(u.length!==l.length||(u.sort(),l.sort(),!i(u,l)))return!1;for(let d=0;d<u.length;d++){let f=u[d];if(!i(o[f],s[f]))return!1}}return!0}})(mW||(na.NotebookCell=mW={}));var F1e;(function(r){function e(n,i,o,s){return{uri:n,notebookType:i,version:o,cells:s}}r.create=e;function t(n){let i=n;return i_.objectLiteral(i)&&i_.string(i.uri)&&jM.integer.is(i.version)&&i_.typedArray(i.cells,mW.is)}r.is=t})(F1e||(na.NotebookDocument=F1e={}));var Ux;(function(r){r.method="notebookDocument/sync",r.messageDirection=xb.MessageDirection.clientToServer,r.type=new xb.RegistrationType(r.method)})(Ux||(na.NotebookDocumentSyncRegistrationType=Ux={}));var q1e;(function(r){r.method="notebookDocument/didOpen",r.messageDirection=xb.MessageDirection.clientToServer,r.type=new xb.ProtocolNotificationType(r.method),r.registrationMethod=Ux.method})(q1e||(na.DidOpenNotebookDocumentNotification=q1e={}));var j1e;(function(r){function e(n){let i=n;return i_.objectLiteral(i)&&jM.uinteger.is(i.start)&&jM.uinteger.is(i.deleteCount)&&(i.cells===void 0||i_.typedArray(i.cells,mW.is))}r.is=e;function t(n,i,o){let s={start:n,deleteCount:i};return o!==void 0&&(s.cells=o),s}r.create=t})(j1e||(na.NotebookCellArrayChange=j1e={}));var z1e;(function(r){r.method="notebookDocument/didChange",r.messageDirection=xb.MessageDirection.clientToServer,r.type=new xb.ProtocolNotificationType(r.method),r.registrationMethod=Ux.method})(z1e||(na.DidChangeNotebookDocumentNotification=z1e={}));var U1e;(function(r){r.method="notebookDocument/didSave",r.messageDirection=xb.MessageDirection.clientToServer,r.type=new xb.ProtocolNotificationType(r.method),r.registrationMethod=Ux.method})(U1e||(na.DidSaveNotebookDocumentNotification=U1e={}));var H1e;(function(r){r.method="notebookDocument/didClose",r.messageDirection=xb.MessageDirection.clientToServer,r.type=new xb.ProtocolNotificationType(r.method),r.registrationMethod=Ux.method})(H1e||(na.DidCloseNotebookDocumentNotification=H1e={}))});var V1e=C(gW=>{"use strict";Object.defineProperty(gW,"__esModule",{value:!0});gW.InlineCompletionRequest=void 0;var W1e=$a(),$1e;(function(r){r.method="textDocument/inlineCompletion",r.messageDirection=W1e.MessageDirection.clientToServer,r.type=new W1e.ProtocolRequestType(r.method)})($1e||(gW.InlineCompletionRequest=$1e={}))});var Y1e=C(Hx=>{"use strict";Object.defineProperty(Hx,"__esModule",{value:!0});Hx.TextDocumentContentRefreshRequest=Hx.TextDocumentContentRequest=void 0;var vW=$a(),G1e;(function(r){r.method="workspace/textDocumentContent",r.messageDirection=vW.MessageDirection.clientToServer,r.type=new vW.ProtocolRequestType(r.method)})(G1e||(Hx.TextDocumentContentRequest=G1e={}));var K1e;(function(r){r.method="workspace/textDocumentContent/refresh",r.messageDirection=vW.MessageDirection.serverToClient,r.type=new vW.ProtocolRequestType(r.method)})(K1e||(Hx.TextDocumentContentRefreshRequest=K1e={}))});var uLe=C(Re=>{"use strict";var Vwt=Re&&Re.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Gwt=Re&&Re.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Kwt=Re&&Re.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Vwt(t,e,n[i]);return Gwt(t,e),t}}();Object.defineProperty(Re,"__esModule",{value:!0});Re.CodeActionRequest=Re.DocumentSymbolRequest=Re.DocumentHighlightRequest=Re.ReferencesRequest=Re.DefinitionRequest=Re.SignatureHelpRequest=Re.SignatureHelpTriggerKind=Re.HoverRequest=Re.CompletionResolveRequest=Re.CompletionRequest=Re.CompletionTriggerKind=Re.PublishDiagnosticsNotification=Re.WatchKind=Re.GlobPattern=Re.RelativePattern=Re.FileChangeType=Re.DidChangeWatchedFilesNotification=Re.WillSaveTextDocumentWaitUntilRequest=Re.WillSaveTextDocumentNotification=Re.TextDocumentSaveReason=Re.DidSaveTextDocumentNotification=Re.DidCloseTextDocumentNotification=Re.DidChangeTextDocumentNotification=Re.TextDocumentContentChangeEvent=Re.DidOpenTextDocumentNotification=Re.TextDocumentSyncKind=Re.TelemetryEventNotification=Re.LogMessageNotification=Re.ShowMessageRequest=Re.ShowMessageNotification=Re.MessageType=Re.DidChangeConfigurationNotification=Re.ExitNotification=Re.ShutdownRequest=Re.InitializedNotification=Re.InitializeErrorCodes=Re.InitializeRequest=Re.WorkDoneProgressOptions=Re.TextDocumentRegistrationOptions=Re.StaticRegistrationOptions=Re.PositionEncodingKind=Re.RegularExpressionEngineKind=Re.FailureHandlingKind=Re.ResourceOperationKind=Re.UnregistrationRequest=Re.RegistrationRequest=Re.DocumentSelector=Re.NotebookCellTextDocumentFilter=Re.NotebookDocumentFilter=Re.TextDocumentFilter=void 0;Re.UniquenessLevel=Re.WillDeleteFilesRequest=Re.DidDeleteFilesNotification=Re.WillRenameFilesRequest=Re.DidRenameFilesNotification=Re.WillCreateFilesRequest=Re.DidCreateFilesNotification=Re.FileOperationPatternKind=Re.LinkedEditingRangeRequest=Re.ShowDocumentRequest=Re.SemanticTokensRegistrationType=Re.SemanticTokensRefreshRequest=Re.SemanticTokensRangeRequest=Re.SemanticTokensDeltaRequest=Re.SemanticTokensRequest=Re.TokenFormat=Re.CallHierarchyPrepareRequest=Re.CallHierarchyOutgoingCallsRequest=Re.CallHierarchyIncomingCallsRequest=Re.WorkDoneProgressCancelNotification=Re.WorkDoneProgressCreateRequest=Re.WorkDoneProgress=Re.SelectionRangeRequest=Re.DeclarationRequest=Re.FoldingRangeRefreshRequest=Re.FoldingRangeRequest=Re.ColorPresentationRequest=Re.DocumentColorRequest=Re.ConfigurationRequest=Re.DidChangeWorkspaceFoldersNotification=Re.WorkspaceFoldersRequest=Re.TypeDefinitionRequest=Re.ImplementationRequest=Re.ApplyWorkspaceEditRequest=Re.ExecuteCommandRequest=Re.PrepareRenameRequest=Re.RenameRequest=Re.PrepareSupportDefaultBehavior=Re.DocumentOnTypeFormattingRequest=Re.DocumentRangesFormattingRequest=Re.DocumentRangeFormattingRequest=Re.DocumentFormattingRequest=Re.DocumentLinkResolveRequest=Re.DocumentLinkRequest=Re.CodeLensRefreshRequest=Re.CodeLensResolveRequest=Re.CodeLensRequest=Re.WorkspaceSymbolResolveRequest=Re.WorkspaceSymbolRequest=Re.CodeActionResolveRequest=void 0;Re.TextDocumentContentRefreshRequest=Re.TextDocumentContentRequest=Re.InlineCompletionRequest=Re.DidCloseNotebookDocumentNotification=Re.DidSaveNotebookDocumentNotification=Re.DidChangeNotebookDocumentNotification=Re.NotebookCellArrayChange=Re.DidOpenNotebookDocumentNotification=Re.NotebookDocumentSyncRegistrationType=Re.NotebookDocument=Re.NotebookCell=Re.ExecutionSummary=Re.NotebookCellKind=Re.DiagnosticRefreshRequest=Re.WorkspaceDiagnosticRequest=Re.DocumentDiagnosticRequest=Re.DocumentDiagnosticReportKind=Re.DiagnosticServerCancellationData=Re.InlayHintRefreshRequest=Re.InlayHintResolveRequest=Re.InlayHintRequest=Re.InlineValueRefreshRequest=Re.InlineValueRequest=Re.TypeHierarchySupertypesRequest=Re.TypeHierarchySubtypesRequest=Re.TypeHierarchyPrepareRequest=Re.MonikerRequest=Re.MonikerKind=void 0;var Cr=$a(),J1e=(tW(),rT(eW)),Ed=Kwt(rW()),Ywt=yke();Object.defineProperty(Re,"ImplementationRequest",{enumerable:!0,get:function(){return Ywt.ImplementationRequest}});var Jwt=wke();Object.defineProperty(Re,"TypeDefinitionRequest",{enumerable:!0,get:function(){return Jwt.TypeDefinitionRequest}});var iLe=Tke();Object.defineProperty(Re,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return iLe.WorkspaceFoldersRequest}});Object.defineProperty(Re,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return iLe.DidChangeWorkspaceFoldersNotification}});var Xwt=Rke();Object.defineProperty(Re,"ConfigurationRequest",{enumerable:!0,get:function(){return Xwt.ConfigurationRequest}});var oLe=Oke();Object.defineProperty(Re,"DocumentColorRequest",{enumerable:!0,get:function(){return oLe.DocumentColorRequest}});Object.defineProperty(Re,"ColorPresentationRequest",{enumerable:!0,get:function(){return oLe.ColorPresentationRequest}});var sLe=Ake();Object.defineProperty(Re,"FoldingRangeRequest",{enumerable:!0,get:function(){return sLe.FoldingRangeRequest}});Object.defineProperty(Re,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return sLe.FoldingRangeRefreshRequest}});var Qwt=Nke();Object.defineProperty(Re,"DeclarationRequest",{enumerable:!0,get:function(){return Qwt.DeclarationRequest}});var Zwt=jke();Object.defineProperty(Re,"SelectionRangeRequest",{enumerable:!0,get:function(){return Zwt.SelectionRangeRequest}});var Ste=Bke();Object.defineProperty(Re,"WorkDoneProgress",{enumerable:!0,get:function(){return Ste.WorkDoneProgress}});Object.defineProperty(Re,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return Ste.WorkDoneProgressCreateRequest}});Object.defineProperty(Re,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return Ste.WorkDoneProgressCancelNotification}});var Cte=Gke();Object.defineProperty(Re,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return Cte.CallHierarchyIncomingCallsRequest}});Object.defineProperty(Re,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return Cte.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(Re,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return Cte.CallHierarchyPrepareRequest}});var Bx=Zke();Object.defineProperty(Re,"TokenFormat",{enumerable:!0,get:function(){return Bx.TokenFormat}});Object.defineProperty(Re,"SemanticTokensRequest",{enumerable:!0,get:function(){return Bx.SemanticTokensRequest}});Object.defineProperty(Re,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return Bx.SemanticTokensDeltaRequest}});Object.defineProperty(Re,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return Bx.SemanticTokensRangeRequest}});Object.defineProperty(Re,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return Bx.SemanticTokensRefreshRequest}});Object.defineProperty(Re,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return Bx.SemanticTokensRegistrationType}});var eSt=r1e();Object.defineProperty(Re,"ShowDocumentRequest",{enumerable:!0,get:function(){return eSt.ShowDocumentRequest}});var tSt=o1e();Object.defineProperty(Re,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return tSt.LinkedEditingRangeRequest}});var pE=h1e();Object.defineProperty(Re,"FileOperationPatternKind",{enumerable:!0,get:function(){return pE.FileOperationPatternKind}});Object.defineProperty(Re,"DidCreateFilesNotification",{enumerable:!0,get:function(){return pE.DidCreateFilesNotification}});Object.defineProperty(Re,"WillCreateFilesRequest",{enumerable:!0,get:function(){return pE.WillCreateFilesRequest}});Object.defineProperty(Re,"DidRenameFilesNotification",{enumerable:!0,get:function(){return pE.DidRenameFilesNotification}});Object.defineProperty(Re,"WillRenameFilesRequest",{enumerable:!0,get:function(){return pE.WillRenameFilesRequest}});Object.defineProperty(Re,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return pE.DidDeleteFilesNotification}});Object.defineProperty(Re,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return pE.WillDeleteFilesRequest}});var Tte=y1e();Object.defineProperty(Re,"UniquenessLevel",{enumerable:!0,get:function(){return Tte.UniquenessLevel}});Object.defineProperty(Re,"MonikerKind",{enumerable:!0,get:function(){return Tte.MonikerKind}});Object.defineProperty(Re,"MonikerRequest",{enumerable:!0,get:function(){return Tte.MonikerRequest}});var Dte=S1e();Object.defineProperty(Re,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return Dte.TypeHierarchyPrepareRequest}});Object.defineProperty(Re,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return Dte.TypeHierarchySubtypesRequest}});Object.defineProperty(Re,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return Dte.TypeHierarchySupertypesRequest}});var aLe=D1e();Object.defineProperty(Re,"InlineValueRequest",{enumerable:!0,get:function(){return aLe.InlineValueRequest}});Object.defineProperty(Re,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return aLe.InlineValueRefreshRequest}});var Ete=x1e();Object.defineProperty(Re,"InlayHintRequest",{enumerable:!0,get:function(){return Ete.InlayHintRequest}});Object.defineProperty(Re,"InlayHintResolveRequest",{enumerable:!0,get:function(){return Ete.InlayHintResolveRequest}});Object.defineProperty(Re,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return Ete.InlayHintRefreshRequest}});var zM=N1e();Object.defineProperty(Re,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return zM.DiagnosticServerCancellationData}});Object.defineProperty(Re,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return zM.DocumentDiagnosticReportKind}});Object.defineProperty(Re,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return zM.DocumentDiagnosticRequest}});Object.defineProperty(Re,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return zM.WorkspaceDiagnosticRequest}});Object.defineProperty(Re,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return zM.DiagnosticRefreshRequest}});var Ob=B1e();Object.defineProperty(Re,"NotebookCellKind",{enumerable:!0,get:function(){return Ob.NotebookCellKind}});Object.defineProperty(Re,"ExecutionSummary",{enumerable:!0,get:function(){return Ob.ExecutionSummary}});Object.defineProperty(Re,"NotebookCell",{enumerable:!0,get:function(){return Ob.NotebookCell}});Object.defineProperty(Re,"NotebookDocument",{enumerable:!0,get:function(){return Ob.NotebookDocument}});Object.defineProperty(Re,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return Ob.NotebookDocumentSyncRegistrationType}});Object.defineProperty(Re,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return Ob.DidOpenNotebookDocumentNotification}});Object.defineProperty(Re,"NotebookCellArrayChange",{enumerable:!0,get:function(){return Ob.NotebookCellArrayChange}});Object.defineProperty(Re,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return Ob.DidChangeNotebookDocumentNotification}});Object.defineProperty(Re,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return Ob.DidSaveNotebookDocumentNotification}});Object.defineProperty(Re,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return Ob.DidCloseNotebookDocumentNotification}});var rSt=V1e();Object.defineProperty(Re,"InlineCompletionRequest",{enumerable:!0,get:function(){return rSt.InlineCompletionRequest}});var cLe=Y1e();Object.defineProperty(Re,"TextDocumentContentRequest",{enumerable:!0,get:function(){return cLe.TextDocumentContentRequest}});Object.defineProperty(Re,"TextDocumentContentRefreshRequest",{enumerable:!0,get:function(){return cLe.TextDocumentContentRefreshRequest}});var gte;(function(r){function e(t){let n=t;return Ed.string(n)||Ed.string(n.language)||Ed.string(n.scheme)||wte.is(n.pattern)}r.is=e})(gte||(Re.TextDocumentFilter=gte={}));var vte;(function(r){function e(t){let n=t;return Ed.objectLiteral(n)&&(Ed.string(n.notebookType)||Ed.string(n.scheme)||Ed.string(n.pattern))}r.is=e})(vte||(Re.NotebookDocumentFilter=vte={}));var yte;(function(r){function e(t){let n=t;return Ed.objectLiteral(n)&&(Ed.string(n.notebook)||vte.is(n.notebook))&&(n.language===void 0||Ed.string(n.language))}r.is=e})(yte||(Re.NotebookCellTextDocumentFilter=yte={}));var _te;(function(r){function e(t){if(!Array.isArray(t))return!1;for(let n of t)if(!Ed.string(n)&&!gte.is(n)&&!yte.is(n))return!1;return!0}r.is=e})(_te||(Re.DocumentSelector=_te={}));var X1e;(function(r){r.method="client/registerCapability",r.messageDirection=Cr.MessageDirection.serverToClient,r.type=new Cr.ProtocolRequestType(r.method)})(X1e||(Re.RegistrationRequest=X1e={}));var Q1e;(function(r){r.method="client/unregisterCapability",r.messageDirection=Cr.MessageDirection.serverToClient,r.type=new Cr.ProtocolRequestType(r.method)})(Q1e||(Re.UnregistrationRequest=Q1e={}));var Z1e;(function(r){r.Create="create",r.Rename="rename",r.Delete="delete"})(Z1e||(Re.ResourceOperationKind=Z1e={}));var eAe;(function(r){r.Abort="abort",r.Transactional="transactional",r.TextOnlyTransactional="textOnlyTransactional",r.Undo="undo"})(eAe||(Re.FailureHandlingKind=eAe={}));var tAe;(function(r){r.ES2020="ES2020"})(tAe||(Re.RegularExpressionEngineKind=tAe={}));var rAe;(function(r){r.UTF8="utf-8",r.UTF16="utf-16",r.UTF32="utf-32"})(rAe||(Re.PositionEncodingKind=rAe={}));var nAe;(function(r){function e(t){let n=t;return n&&Ed.string(n.id)&&n.id.length>0}r.hasId=e})(nAe||(Re.StaticRegistrationOptions=nAe={}));var iAe;(function(r){function e(t){let n=t;return n&&(n.documentSelector===null||_te.is(n.documentSelector))}r.is=e})(iAe||(Re.TextDocumentRegistrationOptions=iAe={}));var oAe;(function(r){function e(n){let i=n;return Ed.objectLiteral(i)&&(i.workDoneProgress===void 0||Ed.boolean(i.workDoneProgress))}r.is=e;function t(n){let i=n;return i&&Ed.boolean(i.workDoneProgress)}r.hasWorkDoneProgress=t})(oAe||(Re.WorkDoneProgressOptions=oAe={}));var sAe;(function(r){r.method="initialize",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(sAe||(Re.InitializeRequest=sAe={}));var aAe;(function(r){r.unknownProtocolVersion=1})(aAe||(Re.InitializeErrorCodes=aAe={}));var cAe;(function(r){r.method="initialized",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolNotificationType(r.method)})(cAe||(Re.InitializedNotification=cAe={}));var uAe;(function(r){r.method="shutdown",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType0(r.method)})(uAe||(Re.ShutdownRequest=uAe={}));var lAe;(function(r){r.method="exit",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolNotificationType0(r.method)})(lAe||(Re.ExitNotification=lAe={}));var dAe;(function(r){r.method="workspace/didChangeConfiguration",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolNotificationType(r.method)})(dAe||(Re.DidChangeConfigurationNotification=dAe={}));var fAe;(function(r){r.Error=1,r.Warning=2,r.Info=3,r.Log=4,r.Debug=5})(fAe||(Re.MessageType=fAe={}));var hAe;(function(r){r.method="window/showMessage",r.messageDirection=Cr.MessageDirection.serverToClient,r.type=new Cr.ProtocolNotificationType(r.method)})(hAe||(Re.ShowMessageNotification=hAe={}));var pAe;(function(r){r.method="window/showMessageRequest",r.messageDirection=Cr.MessageDirection.serverToClient,r.type=new Cr.ProtocolRequestType(r.method)})(pAe||(Re.ShowMessageRequest=pAe={}));var mAe;(function(r){r.method="window/logMessage",r.messageDirection=Cr.MessageDirection.serverToClient,r.type=new Cr.ProtocolNotificationType(r.method)})(mAe||(Re.LogMessageNotification=mAe={}));var gAe;(function(r){r.method="telemetry/event",r.messageDirection=Cr.MessageDirection.serverToClient,r.type=new Cr.ProtocolNotificationType(r.method)})(gAe||(Re.TelemetryEventNotification=gAe={}));var vAe;(function(r){r.None=0,r.Full=1,r.Incremental=2})(vAe||(Re.TextDocumentSyncKind=vAe={}));var yAe;(function(r){r.method="textDocument/didOpen",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolNotificationType(r.method)})(yAe||(Re.DidOpenTextDocumentNotification=yAe={}));var _Ae;(function(r){function e(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}r.isIncremental=e;function t(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}r.isFull=t})(_Ae||(Re.TextDocumentContentChangeEvent=_Ae={}));var bAe;(function(r){r.method="textDocument/didChange",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolNotificationType(r.method)})(bAe||(Re.DidChangeTextDocumentNotification=bAe={}));var wAe;(function(r){r.method="textDocument/didClose",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolNotificationType(r.method)})(wAe||(Re.DidCloseTextDocumentNotification=wAe={}));var SAe;(function(r){r.method="textDocument/didSave",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolNotificationType(r.method)})(SAe||(Re.DidSaveTextDocumentNotification=SAe={}));var CAe;(function(r){r.Manual=1,r.AfterDelay=2,r.FocusOut=3})(CAe||(Re.TextDocumentSaveReason=CAe={}));var TAe;(function(r){r.method="textDocument/willSave",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolNotificationType(r.method)})(TAe||(Re.WillSaveTextDocumentNotification=TAe={}));var DAe;(function(r){r.method="textDocument/willSaveWaitUntil",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(DAe||(Re.WillSaveTextDocumentWaitUntilRequest=DAe={}));var EAe;(function(r){r.method="workspace/didChangeWatchedFiles",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolNotificationType(r.method)})(EAe||(Re.DidChangeWatchedFilesNotification=EAe={}));var RAe;(function(r){r.Created=1,r.Changed=2,r.Deleted=3})(RAe||(Re.FileChangeType=RAe={}));var bte;(function(r){function e(t){let n=t;return Ed.objectLiteral(n)&&(J1e.URI.is(n.baseUri)||J1e.WorkspaceFolder.is(n.baseUri))&&Ed.string(n.pattern)}r.is=e})(bte||(Re.RelativePattern=bte={}));var wte;(function(r){function e(t){let n=t;return Ed.string(n)||bte.is(n)}r.is=e})(wte||(Re.GlobPattern=wte={}));var PAe;(function(r){r.Create=1,r.Change=2,r.Delete=4})(PAe||(Re.WatchKind=PAe={}));var xAe;(function(r){r.method="textDocument/publishDiagnostics",r.messageDirection=Cr.MessageDirection.serverToClient,r.type=new Cr.ProtocolNotificationType(r.method)})(xAe||(Re.PublishDiagnosticsNotification=xAe={}));var OAe;(function(r){r.Invoked=1,r.TriggerCharacter=2,r.TriggerForIncompleteCompletions=3})(OAe||(Re.CompletionTriggerKind=OAe={}));var IAe;(function(r){r.method="textDocument/completion",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(IAe||(Re.CompletionRequest=IAe={}));var kAe;(function(r){r.method="completionItem/resolve",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(kAe||(Re.CompletionResolveRequest=kAe={}));var AAe;(function(r){r.method="textDocument/hover",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(AAe||(Re.HoverRequest=AAe={}));var LAe;(function(r){r.Invoked=1,r.TriggerCharacter=2,r.ContentChange=3})(LAe||(Re.SignatureHelpTriggerKind=LAe={}));var MAe;(function(r){r.method="textDocument/signatureHelp",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(MAe||(Re.SignatureHelpRequest=MAe={}));var NAe;(function(r){r.method="textDocument/definition",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(NAe||(Re.DefinitionRequest=NAe={}));var FAe;(function(r){r.method="textDocument/references",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(FAe||(Re.ReferencesRequest=FAe={}));var qAe;(function(r){r.method="textDocument/documentHighlight",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(qAe||(Re.DocumentHighlightRequest=qAe={}));var jAe;(function(r){r.method="textDocument/documentSymbol",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(jAe||(Re.DocumentSymbolRequest=jAe={}));var zAe;(function(r){r.method="textDocument/codeAction",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(zAe||(Re.CodeActionRequest=zAe={}));var UAe;(function(r){r.method="codeAction/resolve",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(UAe||(Re.CodeActionResolveRequest=UAe={}));var HAe;(function(r){r.method="workspace/symbol",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(HAe||(Re.WorkspaceSymbolRequest=HAe={}));var BAe;(function(r){r.method="workspaceSymbol/resolve",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(BAe||(Re.WorkspaceSymbolResolveRequest=BAe={}));var WAe;(function(r){r.method="textDocument/codeLens",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(WAe||(Re.CodeLensRequest=WAe={}));var $Ae;(function(r){r.method="codeLens/resolve",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})($Ae||(Re.CodeLensResolveRequest=$Ae={}));var VAe;(function(r){r.method="workspace/codeLens/refresh",r.messageDirection=Cr.MessageDirection.serverToClient,r.type=new Cr.ProtocolRequestType0(r.method)})(VAe||(Re.CodeLensRefreshRequest=VAe={}));var GAe;(function(r){r.method="textDocument/documentLink",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(GAe||(Re.DocumentLinkRequest=GAe={}));var KAe;(function(r){r.method="documentLink/resolve",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(KAe||(Re.DocumentLinkResolveRequest=KAe={}));var YAe;(function(r){r.method="textDocument/formatting",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(YAe||(Re.DocumentFormattingRequest=YAe={}));var JAe;(function(r){r.method="textDocument/rangeFormatting",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(JAe||(Re.DocumentRangeFormattingRequest=JAe={}));var XAe;(function(r){r.method="textDocument/rangesFormatting",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(XAe||(Re.DocumentRangesFormattingRequest=XAe={}));var QAe;(function(r){r.method="textDocument/onTypeFormatting",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(QAe||(Re.DocumentOnTypeFormattingRequest=QAe={}));var ZAe;(function(r){r.Identifier=1})(ZAe||(Re.PrepareSupportDefaultBehavior=ZAe={}));var eLe;(function(r){r.method="textDocument/rename",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(eLe||(Re.RenameRequest=eLe={}));var tLe;(function(r){r.method="textDocument/prepareRename",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(tLe||(Re.PrepareRenameRequest=tLe={}));var rLe;(function(r){r.method="workspace/executeCommand",r.messageDirection=Cr.MessageDirection.clientToServer,r.type=new Cr.ProtocolRequestType(r.method)})(rLe||(Re.ExecuteCommandRequest=rLe={}));var nLe;(function(r){r.method="workspace/applyEdit",r.messageDirection=Cr.MessageDirection.serverToClient,r.type=new Cr.ProtocolRequestType("workspace/applyEdit")})(nLe||(Re.ApplyWorkspaceEditRequest=nLe={}))});var dLe=C(Rte=>{"use strict";Object.defineProperty(Rte,"__esModule",{value:!0});Rte.createProtocolConnection=nSt;var lLe=cl();function nSt(r,e,t,n){return lLe.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,lLe.createMessageConnection)(r,e,t,n)}});var en=C(Tm=>{"use strict";var iSt=Tm&&Tm.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),yW=Tm&&Tm.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&iSt(e,r,t)};Object.defineProperty(Tm,"__esModule",{value:!0});Tm.LSPErrorCodes=Tm.createProtocolConnection=void 0;yW(cl(),Tm);yW((tW(),rT(eW)),Tm);yW($a(),Tm);yW(uLe(),Tm);var oSt=dLe();Object.defineProperty(Tm,"createProtocolConnection",{enumerable:!0,get:function(){return oSt.createProtocolConnection}});var fLe;(function(r){r.lspReservedErrorRangeStart=-32899,r.RequestFailed=-32803,r.ServerCancelled=-32802,r.ContentModified=-32801,r.RequestCancelled=-32800,r.lspReservedErrorRangeEnd=-32800})(fLe||(Tm.LSPErrorCodes=fLe={}))});var Gv=C(Vv=>{"use strict";Object.defineProperty(Vv,"__esModule",{value:!0});Vv.boolean=sSt;Vv.string=hLe;Vv.number=aSt;Vv.error=cSt;Vv.func=pLe;Vv.array=mLe;Vv.stringArray=uSt;Vv.typedArray=lSt;Vv.thenable=gLe;Vv.asPromise=dSt;function sSt(r){return r===!0||r===!1}function hLe(r){return typeof r=="string"||r instanceof String}function aSt(r){return typeof r=="number"||r instanceof Number}function cSt(r){return r instanceof Error}function pLe(r){return typeof r=="function"}function mLe(r){return Array.isArray(r)}function uSt(r){return mLe(r)&&r.every(e=>hLe(e))}function lSt(r,e){return Array.isArray(r)&&r.every(e)}function gLe(r){return r&&pLe(r.then)}function dSt(r){return r instanceof Promise?r:gLe(r)?new Promise((e,t)=>{r.then(n=>e(n),n=>t(n))}):Promise.resolve(r)}});var _W=C(o_=>{"use strict";Object.defineProperty(o_,"__esModule",{value:!0});o_.Semaphore=o_.Delayer=void 0;o_.setTestMode=fSt;o_.clearTestMode=hSt;o_.map=pSt;o_.mapAsync=mSt;o_.forEach=gSt;var HM=en(),Pte=class{defaultDelay;timeout;completionPromise;onSuccess;task;constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,t=this.defaultDelay){return this.task=e,t>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(n=>{this.onSuccess=n}).then(()=>{this.completionPromise=void 0,this.onSuccess=void 0;let n=this.task();return this.task=void 0,n})),(t>=0||this.timeout===void 0)&&(this.timeout=(0,HM.RAL)().timer.setTimeout(()=>{this.timeout=void 0,this.onSuccess(void 0)},t>=0?t:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return this.timeout!==void 0}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){this.timeout!==void 0&&(this.timeout.dispose(),this.timeout=void 0)}};o_.Delayer=Pte;var xte=class{_capacity;_active;_waiting;constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,HM.RAL)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let t=e.thunk();t instanceof Promise?t.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}};o_.Semaphore=xte;var Ote=!1;function fSt(){Ote=!0}function hSt(){Ote=!1}var vLe=15,UM=class{yieldAfter;startTime;counter;total;counterInterval;constructor(e=vLe){this.yieldAfter=Ote===!0?Math.max(e,2):Math.max(e,vLe),this.startTime=Date.now(),this.counter=0,this.total=0,this.counterInterval=1}start(){this.counter=0,this.total=0,this.counterInterval=1,this.startTime=Date.now()}shouldYield(){if(++this.counter>=this.counterInterval){let e=Date.now()-this.startTime,t=Math.max(0,this.yieldAfter-e);if(this.total+=this.counter,this.counter=0,e>=this.yieldAfter||t<=1)return this.counterInterval=1,this.total=0,!0;switch(e){case 0:case 1:this.counterInterval=this.total*2;break}}return!1}};async function pSt(r,e,t,n){if(r.length===0)return[];let i=new Array(r.length),o=new UM(n?.yieldAfter);function s(c){o.start();for(let u=c;u<r.length;u++)if(i[u]=e(r[u]),o.shouldYield())return n?.yieldCallback&&n.yieldCallback(),u+1;return-1}let a=s(0);for(;a!==-1&&!(t!==void 0&&t.isCancellationRequested);)a=await new Promise(c=>{(0,HM.RAL)().timer.setImmediate(()=>{c(s(a))})});return i}async function mSt(r,e,t,n){if(r.length===0)return[];let i=new Array(r.length),o=new UM(n?.yieldAfter);async function s(c){o.start();for(let u=c;u<r.length;u++)if(i[u]=await e(r[u],t),o.shouldYield())return n?.yieldCallback&&n.yieldCallback(),u+1;return-1}let a=await s(0);for(;a!==-1&&!(t!==void 0&&t.isCancellationRequested);)a=await new Promise(c=>{(0,HM.RAL)().timer.setImmediate(()=>{c(s(a))})});return i}async function gSt(r,e,t,n){if(r.length===0)return;let i=new UM(n?.yieldAfter);function o(a){i.start();for(let c=a;c<r.length;c++)if(e(r[c]),i.shouldYield())return n?.yieldCallback&&n.yieldCallback(),c+1;return-1}let s=o(0);for(;s!==-1&&!(t!==void 0&&t.isCancellationRequested);)s=await new Promise(a=>{(0,HM.RAL)().timer.setImmediate(()=>{a(o(s))})})}});var kte=C(IS=>{"use strict";var vSt=IS&&IS.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ySt=IS&&IS.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),_St=IS&&IS.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&vSt(t,e,n[i]);return ySt(t,e),t}}();Object.defineProperty(IS,"__esModule",{value:!0});var bSt=_St(require("vscode")),Ite=class extends bSt.CompletionItem{data;fromEdit;documentationFormat;originalItemKind;deprecated;insertTextMode;constructor(e){super(e)}};IS.default=Ite});var Lte=C(kS=>{"use strict";var wSt=kS&&kS.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),SSt=kS&&kS.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),CSt=kS&&kS.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&wSt(t,e,n[i]);return SSt(t,e),t}}();Object.defineProperty(kS,"__esModule",{value:!0});var TSt=CSt(require("vscode")),Ate=class extends TSt.CodeLens{data;constructor(e){super(e)}};kS.default=Ate});var Nte=C(AS=>{"use strict";var DSt=AS&&AS.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ESt=AS&&AS.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),RSt=AS&&AS.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&DSt(t,e,n[i]);return ESt(t,e),t}}();Object.defineProperty(AS,"__esModule",{value:!0});var PSt=RSt(require("vscode")),Mte=class extends PSt.DocumentLink{data;constructor(e,t){super(e,t)}};AS.default=Mte});var qte=C(LS=>{"use strict";var xSt=LS&&LS.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),OSt=LS&&LS.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ISt=LS&&LS.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&xSt(t,e,n[i]);return OSt(t,e),t}}();Object.defineProperty(LS,"__esModule",{value:!0});var kSt=ISt(require("vscode")),Fte=class extends kSt.CodeAction{data;constructor(e,t){super(e),this.data=t}};LS.default=Fte});var Ute=C(Kv=>{"use strict";var ASt=Kv&&Kv.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),LSt=Kv&&Kv.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),_Le=Kv&&Kv.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&ASt(t,e,n[i]);return LSt(t,e),t}}();Object.defineProperty(Kv,"__esModule",{value:!0});Kv.ProtocolDiagnostic=Kv.DiagnosticCode=void 0;var MSt=_Le(require("vscode")),jte=_Le(Gv()),yLe;(function(r){function e(t){let n=t;return n!=null&&(jte.number(n.value)||jte.string(n.value))&&jte.string(n.target)}r.is=e})(yLe||(Kv.DiagnosticCode=yLe={}));var zte=class extends MSt.Diagnostic{data;hasDiagnosticCode;constructor(e,t,n,i){super(e,t,n),this.data=i,this.hasDiagnosticCode=!1}};Kv.ProtocolDiagnostic=zte});var Bte=C(MS=>{"use strict";var NSt=MS&&MS.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),FSt=MS&&MS.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),qSt=MS&&MS.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&NSt(t,e,n[i]);return FSt(t,e),t}}();Object.defineProperty(MS,"__esModule",{value:!0});var jSt=qSt(require("vscode")),Hte=class extends jSt.CallHierarchyItem{data;constructor(e,t,n,i,o,s,a){super(e,t,n,i,o,s),a!==void 0&&(this.data=a)}};MS.default=Hte});var $te=C(NS=>{"use strict";var zSt=NS&&NS.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),USt=NS&&NS.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),HSt=NS&&NS.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&zSt(t,e,n[i]);return USt(t,e),t}}();Object.defineProperty(NS,"__esModule",{value:!0});var BSt=HSt(require("vscode")),Wte=class extends BSt.TypeHierarchyItem{data;constructor(e,t,n,i,o,s,a){super(e,t,n,i,o,s),a!==void 0&&(this.data=a)}};NS.default=Wte});var Gte=C(FS=>{"use strict";var WSt=FS&&FS.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),$St=FS&&FS.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),VSt=FS&&FS.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&WSt(t,e,n[i]);return $St(t,e),t}}();Object.defineProperty(FS,"__esModule",{value:!0});var bW=VSt(require("vscode")),Vte=class extends bW.SymbolInformation{data;hasRange;constructor(e,t,n,i,o){let s=!(i instanceof bW.Uri);super(e,t,n,s?i:new bW.Location(i,new bW.Range(0,0,0,0))),this.hasRange=s,o!==void 0&&(this.data=o)}};FS.default=Vte});var Yte=C(qS=>{"use strict";var GSt=qS&&qS.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),KSt=qS&&qS.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),YSt=qS&&qS.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&GSt(t,e,n[i]);return KSt(t,e),t}}();Object.defineProperty(qS,"__esModule",{value:!0});var JSt=YSt(require("vscode")),Kte=class extends JSt.InlayHint{data;constructor(e,t,n){super(e,t,n)}};qS.default=Kte});var CLe=C(s_=>{"use strict";var XSt=s_&&s_.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),QSt=s_&&s_.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),wW=s_&&s_.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&XSt(t,e,n[i]);return QSt(t,e),t}}(),cD=s_&&s_.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(s_,"__esModule",{value:!0});s_.createConverter=sCt;var mu=wW(require("vscode")),Di=wW(en()),mE=wW(Gv()),bLe=wW(_W()),ZSt=cD(kte()),eCt=cD(Lte()),tCt=cD(Nte()),wLe=cD(qte()),SLe=Ute(),rCt=cD(Bte()),nCt=cD($te()),iCt=cD(Gte()),oCt=cD(Yte()),Jte;(function(r){function e(t){let n=t;return n&&!!n.inserting&&!!n.replacing}r.is=e})(Jte||(Jte={}));function sCt(r){let t=r||(S=>S.toString());function n(S){return t(S)}function i(S){return{uri:t(S.uri)}}function o(S){return{uri:t(S.uri),languageId:S.languageId,version:S.version,text:S.getText()}}function s(S){return{uri:t(S.uri),version:S.version}}function a(S){return{textDocument:o(S)}}function c(S){let de=S;return!!de.document&&!!de.contentChanges}function u(S){let de=S;return!!de.uri&&!!de.version}function l(S,de,Ye){if(u(S))return{textDocument:{uri:t(S.uri),version:S.version},contentChanges:[{text:S.getText()}]};if(c(S)){let Tr=de,Wr=Ye;return{textDocument:{uri:t(Tr),version:Wr},contentChanges:S.contentChanges.map(qn=>{let Oi=qn.range;return{range:{start:{line:Oi.start.line,character:Oi.start.character},end:{line:Oi.end.line,character:Oi.end.character}},rangeLength:qn.rangeLength,text:qn.text}})}}else throw Error("Unsupported text document change parameter")}function d(S){return{textDocument:i(S)}}function f(S,de=!1){let Ye={textDocument:i(S)};return de&&(Ye.text=S.getText()),Ye}function p(S){switch(S){case mu.TextDocumentSaveReason.Manual:return Di.TextDocumentSaveReason.Manual;case mu.TextDocumentSaveReason.AfterDelay:return Di.TextDocumentSaveReason.AfterDelay;case mu.TextDocumentSaveReason.FocusOut:return Di.TextDocumentSaveReason.FocusOut}return Di.TextDocumentSaveReason.Manual}function _(S){return{textDocument:i(S.document),reason:p(S.reason)}}function D(S){return{files:S.files.map(de=>({uri:t(de)}))}}function P(S){return{files:S.files.map(de=>({oldUri:t(de.oldUri),newUri:t(de.newUri)}))}}function M(S){return{files:S.files.map(de=>({uri:t(de)}))}}function A(S){return{files:S.files.map(de=>({uri:t(de)}))}}function U(S){return{files:S.files.map(de=>({oldUri:t(de.oldUri),newUri:t(de.newUri)}))}}function ne(S){return{files:S.files.map(de=>({uri:t(de)}))}}function pe(S,de){return{textDocument:i(S),position:ce(de)}}function ve(S){switch(S){case mu.CompletionTriggerKind.TriggerCharacter:return Di.CompletionTriggerKind.TriggerCharacter;case mu.CompletionTriggerKind.TriggerForIncompleteCompletions:return Di.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return Di.CompletionTriggerKind.Invoked}}function V(S,de,Ye){return{textDocument:i(S),position:ce(de),context:{triggerKind:ve(Ye.triggerKind),triggerCharacter:Ye.triggerCharacter}}}function W(S){switch(S){case mu.SignatureHelpTriggerKind.Invoke:return Di.SignatureHelpTriggerKind.Invoked;case mu.SignatureHelpTriggerKind.TriggerCharacter:return Di.SignatureHelpTriggerKind.TriggerCharacter;case mu.SignatureHelpTriggerKind.ContentChange:return Di.SignatureHelpTriggerKind.ContentChange}}function ee(S){return{label:S.label}}function De(S){return S.map(ee)}function ae(S){return{label:S.label,parameters:De(S.parameters)}}function ue(S){return S.map(ae)}function Fe(S){return S===void 0?S:{signatures:ue(S.signatures),activeSignature:S.activeSignature,activeParameter:S.activeParameter}}function Me(S,de,Ye){return{textDocument:i(S),position:ce(de),context:{isRetrigger:Ye.isRetrigger,triggerCharacter:Ye.triggerCharacter,triggerKind:W(Ye.triggerKind),activeSignatureHelp:Fe(Ye.activeSignatureHelp)}}}function ce(S){return{line:S.line,character:S.character}}function Ce(S){return S==null?S:{line:S.line>Di.uinteger.MAX_VALUE?Di.uinteger.MAX_VALUE:S.line,character:S.character>Di.uinteger.MAX_VALUE?Di.uinteger.MAX_VALUE:S.character}}function be(S,de){return bLe.map(S,Ce,de)}function xe(S){return S.map(Ce)}function Ne(S){return S==null?S:{start:Ce(S.start),end:Ce(S.end)}}function $e(S){return S.map(Ne)}function Ct(S){return S==null?S:Di.Location.create(n(S.uri),Ne(S.range))}function ze(S){switch(S){case mu.DiagnosticSeverity.Error:return Di.DiagnosticSeverity.Error;case mu.DiagnosticSeverity.Warning:return Di.DiagnosticSeverity.Warning;case mu.DiagnosticSeverity.Information:return Di.DiagnosticSeverity.Information;case mu.DiagnosticSeverity.Hint:return Di.DiagnosticSeverity.Hint}}function st(S){if(!S)return;let de=[];for(let Ye of S){let Tr=at(Ye);Tr!==void 0&&de.push(Tr)}return de.length>0?de:void 0}function at(S){switch(S){case mu.DiagnosticTag.Unnecessary:return Di.DiagnosticTag.Unnecessary;case mu.DiagnosticTag.Deprecated:return Di.DiagnosticTag.Deprecated;default:return}}function tt(S){return{message:S.message,location:Ct(S.location)}}function fr(S){return S.map(tt)}function Lr(S){if(S!=null)return mE.number(S)||mE.string(S)?S:{value:S.value,target:n(S.target)}}function zr(S){let de=Di.Diagnostic.create(Ne(S.range),S.message),Ye=S instanceof SLe.ProtocolDiagnostic?S:void 0;Ye!==void 0&&Ye.data!==void 0&&(de.data=Ye.data);let Tr=Lr(S.code);return SLe.DiagnosticCode.is(Tr)?Ye!==void 0&&Ye.hasDiagnosticCode?de.code=Tr:(de.code=Tr.value,de.codeDescription={href:Tr.target}):de.code=Tr,mE.number(S.severity)&&(de.severity=ze(S.severity)),Array.isArray(S.tags)&&(de.tags=st(S.tags)),S.relatedInformation&&(de.relatedInformation=fr(S.relatedInformation)),S.source&&(de.source=S.source),de}function cr(S,de){return S==null?S:bLe.map(S,zr,de)}function xt(S){return S==null?S:S.map(zr)}function hr(S,de){switch(S){case"$string":return de;case Di.MarkupKind.PlainText:return{kind:S,value:de};case Di.MarkupKind.Markdown:return{kind:S,value:de.value};default:return`Unsupported Markup content received. Kind is: ${S}`}}function Mt(S){switch(S){case mu.CompletionItemTag.Deprecated:return Di.CompletionItemTag.Deprecated}}function nn(S){if(S===void 0)return S;let de=[];for(let Ye of S){let Tr=Mt(Ye);Tr!==void 0&&de.push(Tr)}return de}function ln(S,de){return de!==void 0?de:S+1}function On(S,de=!1){let Ye,Tr;mE.string(S.label)?Ye=S.label:(Ye=S.label.label,de&&(S.label.detail!==void 0||S.label.description!==void 0)&&(Tr={detail:S.label.detail,description:S.label.description}));let Wr={label:Ye};Tr!==void 0&&(Wr.labelDetails=Tr);let Xr=S instanceof ZSt.default?S:void 0;S.detail&&(Wr.detail=S.detail),S.documentation&&(!Xr||Xr.documentationFormat==="$string"?Wr.documentation=S.documentation:Wr.documentation=hr(Xr.documentationFormat,S.documentation)),S.filterText&&(Wr.filterText=S.filterText),Or(Wr,S),mE.number(S.kind)&&(Wr.kind=ln(S.kind,Xr&&Xr.originalItemKind)),S.sortText&&(Wr.sortText=S.sortText),S.additionalTextEdits&&(Wr.additionalTextEdits=dn(S.additionalTextEdits)),S.commitCharacters&&(Wr.commitCharacters=S.commitCharacters.slice()),S.command&&(Wr.command=rr(S.command)),(S.preselect===!0||S.preselect===!1)&&(Wr.preselect=S.preselect);let qn=nn(S.tags);if(Xr){if(Xr.data!==void 0&&(Wr.data=Xr.data),Xr.deprecated===!0||Xr.deprecated===!1){if(Xr.deprecated===!0&&qn!==void 0&&qn.length>0){let Oi=qn.indexOf(mu.CompletionItemTag.Deprecated);Oi!==-1&&qn.splice(Oi,1)}Wr.deprecated=Xr.deprecated}Xr.insertTextMode!==void 0&&(Wr.insertTextMode=Xr.insertTextMode)}return qn!==void 0&&qn.length>0&&(Wr.tags=qn),Wr.insertTextMode===void 0&&S.keepWhitespace===!0&&(Wr.insertTextMode=Di.InsertTextMode.adjustIndentation),Wr}function Or(S,de){let Ye=Di.InsertTextFormat.PlainText,Tr,Wr;de.textEdit?(Tr=de.textEdit.newText,Wr=de.textEdit.range):de.insertText instanceof mu.SnippetString?(Ye=Di.InsertTextFormat.Snippet,Tr=de.insertText.value):Tr=de.insertText,de.range&&(Wr=de.range),S.insertTextFormat=Ye,de.fromEdit&&Tr!==void 0&&Wr!==void 0?S.textEdit=Hn(Tr,Wr):S.insertText=Tr}function Hn(S,de){return Jte.is(de)?Di.InsertReplaceEdit.create(S,Ne(de.inserting),Ne(de.replacing)):{newText:S,range:Ne(de)}}function $r(S){return{range:Ne(S.range),newText:S.newText}}function dn(S){return S==null?S:S.map($r)}function ii(S){return S<=mu.SymbolKind.TypeParameter?S+1:Di.SymbolKind.Property}function Vr(S){return S}function An(S){return S.map(Vr)}function xi(S,de,Ye){return{textDocument:i(S),position:ce(de),context:{includeDeclaration:Ye.includeDeclaration}}}async function Gr(S,de){let Ye=Di.CodeAction.create(S.title);if(S instanceof wLe.default&&S.data!==void 0&&(Ye.data=S.data),S.kind!==void 0&&(Ye.kind=oe(S.kind)),S.diagnostics!==void 0&&(Ye.diagnostics=await cr(S.diagnostics,de)),S.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return S.command!==void 0&&(Ye.command=rr(S.command)),S.isPreferred!==void 0&&(Ye.isPreferred=S.isPreferred),S.disabled!==void 0&&(Ye.disabled={reason:S.disabled.reason}),S.isAI&&(Ye.tags??=[],Ye.tags.push(Di.CodeActionTag.LLMGenerated)),Ye}function Qi(S){let de=Di.CodeAction.create(S.title);if(S instanceof wLe.default&&S.data!==void 0&&(de.data=S.data),S.kind!==void 0&&(de.kind=oe(S.kind)),S.diagnostics!==void 0&&(de.diagnostics=xt(S.diagnostics)),S.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return S.command!==void 0&&(de.command=rr(S.command)),S.isPreferred!==void 0&&(de.isPreferred=S.isPreferred),S.disabled!==void 0&&(de.disabled={reason:S.disabled.reason}),S.isAI&&(de.tags??=[],de.tags.push(Di.CodeActionTag.LLMGenerated)),de}async function oi(S,de){if(S==null)return S;let Ye;return S.only&&mE.string(S.only.value)&&(Ye=[S.only.value]),Di.CodeActionContext.create(await cr(S.diagnostics,de),Ye,Oe(S.triggerKind))}function fn(S){if(S==null)return S;let de;return S.only&&mE.string(S.only.value)&&(de=[S.only.value]),Di.CodeActionContext.create(xt(S.diagnostics),de,Oe(S.triggerKind))}function Oe(S){switch(S){case mu.CodeActionTriggerKind.Invoke:return Di.CodeActionTriggerKind.Invoked;case mu.CodeActionTriggerKind.Automatic:return Di.CodeActionTriggerKind.Automatic;default:return}}function oe(S){if(S!=null)return S.value}function Q(S){return Di.InlineValueContext.create(S.frameId,Ne(S.stoppedLocation))}function we(S,de,Ye){return{textDocument:i(S),position:Ce(de),context:Je(Ye)}}function Je(S){return{triggerKind:ft(S.triggerKind),selectedCompletionInfo:Yt(S.selectedCompletionInfo)}}function ft(S){switch(S){case mu.InlineCompletionTriggerKind.Invoke:return Di.InlineCompletionTriggerKind.Invoked;case mu.InlineCompletionTriggerKind.Automatic:return Di.InlineCompletionTriggerKind.Automatic}}function Yt(S){if(S!=null)return{range:Ne(S.range),text:S.text}}function rr(S){let de=Di.Command.create(S.title,S.command);return S.tooltip&&(de.tooltip=S.tooltip),S.arguments&&(de.arguments=S.arguments),de}function Jt(S){let de=Di.CodeLens.create(Ne(S.range));return S.command&&(de.command=rr(S.command)),S instanceof eCt.default&&S.data&&(de.data=S.data),de}function $t(S,de){let Ye={tabSize:S.tabSize,insertSpaces:S.insertSpaces};return de.trimTrailingWhitespace&&(Ye.trimTrailingWhitespace=!0),de.trimFinalNewlines&&(Ye.trimFinalNewlines=!0),de.insertFinalNewline&&(Ye.insertFinalNewline=!0),Ye}function kt(S){return{textDocument:i(S)}}function K(S){return{textDocument:i(S)}}function qe(S){let de=Di.DocumentLink.create(Ne(S.range));S.target&&(de.target=n(S.target)),S.tooltip!==void 0&&(de.tooltip=S.tooltip);let Ye=S instanceof tCt.default?S:void 0;return Ye&&Ye.data&&(de.data=Ye.data),de}function Ht(S){return{textDocument:i(S)}}function Dr(S){let de={name:S.name,kind:ii(S.kind),uri:n(S.uri),range:Ne(S.range),selectionRange:Ne(S.selectionRange)};return S.detail!==void 0&&S.detail.length>0&&(de.detail=S.detail),S.tags!==void 0&&(de.tags=An(S.tags)),S instanceof rCt.default&&S.data!==void 0&&(de.data=S.data),de}function He(S){let de={name:S.name,kind:ii(S.kind),uri:n(S.uri),range:Ne(S.range),selectionRange:Ne(S.selectionRange)};return S.detail!==void 0&&S.detail.length>0&&(de.detail=S.detail),S.tags!==void 0&&(de.tags=An(S.tags)),S instanceof nCt.default&&S.data!==void 0&&(de.data=S.data),de}function re(S){let de=S instanceof iCt.default?{name:S.name,kind:ii(S.kind),location:S.hasRange?Ct(S.location):{uri:t(S.location.uri)},data:S.data}:{name:S.name,kind:ii(S.kind),location:Ct(S.location)};return S.tags!==void 0&&(de.tags=An(S.tags)),S.containerName!==""&&(de.containerName=S.containerName),de}function Pe(S){let de=typeof S.label=="string"?S.label:S.label.map(je),Ye=Di.InlayHint.create(Ce(S.position),de);return S.kind!==void 0&&(Ye.kind=S.kind),S.textEdits!==void 0&&(Ye.textEdits=dn(S.textEdits)),S.tooltip!==void 0&&(Ye.tooltip=fe(S.tooltip)),S.paddingLeft!==void 0&&(Ye.paddingLeft=S.paddingLeft),S.paddingRight!==void 0&&(Ye.paddingRight=S.paddingRight),S instanceof oCt.default&&S.data!==void 0&&(Ye.data=S.data),Ye}function je(S){let de=Di.InlayHintLabelPart.create(S.value);return S.location!==void 0&&(de.location=Ct(S.location)),S.command!==void 0&&(de.command=rr(S.command)),S.tooltip!==void 0&&(de.tooltip=fe(S.tooltip)),de}function fe(S){return typeof S=="string"?S:{kind:Di.MarkupKind.Markdown,value:S.value}}return{asUri:n,asTextDocumentIdentifier:i,asTextDocumentItem:o,asVersionedTextDocumentIdentifier:s,asOpenTextDocumentParams:a,asChangeTextDocumentParams:l,asCloseTextDocumentParams:d,asSaveTextDocumentParams:f,asWillSaveTextDocumentParams:_,asDidCreateFilesParams:D,asDidRenameFilesParams:P,asDidDeleteFilesParams:M,asWillCreateFilesParams:A,asWillRenameFilesParams:U,asWillDeleteFilesParams:ne,asTextDocumentPositionParams:pe,asCompletionParams:V,asSignatureHelpParams:Me,asWorkerPosition:ce,asRange:Ne,asRanges:$e,asPosition:Ce,asPositions:be,asPositionsSync:xe,asLocation:Ct,asDiagnosticSeverity:ze,asDiagnosticTag:at,asDiagnostic:zr,asDiagnostics:cr,asDiagnosticsSync:xt,asCompletionItem:On,asTextEdit:$r,asSymbolKind:ii,asSymbolTag:Vr,asSymbolTags:An,asReferenceParams:xi,asCodeAction:Gr,asCodeActionSync:Qi,asCodeActionContext:oi,asCodeActionContextSync:fn,asInlineValueContext:Q,asCommand:rr,asCodeLens:Jt,asFormattingOptions:$t,asDocumentSymbolParams:kt,asCodeLensParams:K,asDocumentLink:qe,asDocumentLinkParams:Ht,asCallHierarchyItem:Dr,asTypeHierarchyItem:He,asInlayHint:Pe,asWorkspaceSymbol:re,asInlineCompletionParams:we,asInlineCompletionContext:Je}}});var TW=C(a_=>{"use strict";var aCt=a_&&a_.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),cCt=a_&&a_.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),CW=a_&&a_.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&aCt(t,e,n[i]);return cCt(t,e),t}}(),uD=a_&&a_.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(a_,"__esModule",{value:!0});a_.createConverter=vCt;var kr=CW(require("vscode")),Un=CW(en()),Og=CW(Gv()),Qo=CW(_W()),uCt=uD(kte()),lCt=uD(Lte()),dCt=uD(Nte()),fCt=uD(qte()),TLe=Ute(),hCt=uD(Bte()),pCt=uD($te()),mCt=uD(Gte()),gCt=uD(Yte()),DLe=en(),SW;(function(r){function e(t){let n=t;return n&&Og.string(n.language)&&Og.string(n.value)}r.is=e})(SW||(SW={}));function vCt(r,e,t,n){let o=r||(N=>kr.Uri.parse(N));function s(N){return o(N)}function a(N){let Le=[];for(let rt of N)if(typeof rt=="string")Le.push(rt);else if(DLe.NotebookCellTextDocumentFilter.is(rt))if(typeof rt.notebook=="string")Le.push({notebookType:rt.notebook,language:rt.language});else{let zt=rt.notebook.notebookType??"*";Le.push({notebookType:zt,scheme:rt.notebook.scheme,pattern:Fr(rt.notebook.pattern),language:rt.language})}else DLe.TextDocumentFilter.is(rt)&&Le.push({language:rt.language,scheme:rt.scheme,pattern:Fr(rt.pattern)});return Le}async function c(N,Le){return Qo.map(N,l,Le)}function u(N){let Le=new Array(N.length);for(let rt=0;rt<N.length;rt++)Le[rt]=l(N[rt]);return Le}function l(N){let Le=new TLe.ProtocolDiagnostic(D(N.range),N.message,M(N.severity),N.data);if(N.code!==void 0){if(typeof N.code=="string"||typeof N.code=="number")Un.CodeDescription.is(N.codeDescription)?Le.code={value:N.code,target:s(N.codeDescription.href)}:Le.code=N.code;else if(TLe.DiagnosticCode.is(N.code)){Le.hasDiagnosticCode=!0;let rt=N.code;Le.code={value:rt.value,target:s(rt.target)}}}return N.source&&(Le.source=N.source),N.relatedInformation&&(Le.relatedInformation=d(N.relatedInformation)),Array.isArray(N.tags)&&(Le.tags=f(N.tags)),Le}function d(N){let Le=new Array(N.length);for(let rt=0;rt<N.length;rt++){let zt=N[rt];Le[rt]=new kr.DiagnosticRelatedInformation(tt(zt.location),zt.message)}return Le}function f(N){if(!N)return;let Le=[];for(let rt of N){let zt=p(rt);zt!==void 0&&Le.push(zt)}return Le.length>0?Le:void 0}function p(N){switch(N){case Un.DiagnosticTag.Unnecessary:return kr.DiagnosticTag.Unnecessary;case Un.DiagnosticTag.Deprecated:return kr.DiagnosticTag.Deprecated;default:return}}function _(N){return N?new kr.Position(N.line,N.character):void 0}function D(N){return N?new kr.Range(N.start.line,N.start.character,N.end.line,N.end.character):void 0}async function P(N,Le){return Qo.map(N,rt=>new kr.Range(rt.start.line,rt.start.character,rt.end.line,rt.end.character),Le)}function M(N){if(N==null)return kr.DiagnosticSeverity.Error;switch(N){case Un.DiagnosticSeverity.Error:return kr.DiagnosticSeverity.Error;case Un.DiagnosticSeverity.Warning:return kr.DiagnosticSeverity.Warning;case Un.DiagnosticSeverity.Information:return kr.DiagnosticSeverity.Information;case Un.DiagnosticSeverity.Hint:return kr.DiagnosticSeverity.Hint}return kr.DiagnosticSeverity.Error}function A(N){if(Og.string(N))return ne(N);if(SW.is(N))return ne().appendCodeblock(N.value,N.language);if(Array.isArray(N)){let Le=[];for(let rt of N){let zt=ne();SW.is(rt)?zt.appendCodeblock(rt.value,rt.language):zt.appendMarkdown(rt),Le.push(zt)}return Le}else return ne(N)}function U(N){if(Og.string(N))return N;switch(N.kind){case Un.MarkupKind.Markdown:return ne(N.value);case Un.MarkupKind.PlainText:return N.value;default:return`Unsupported Markup content received. Kind is: ${N.kind}`}}function ne(N){let Le;if(N===void 0||typeof N=="string")Le=new kr.MarkdownString(N);else switch(N.kind){case Un.MarkupKind.Markdown:Le=new kr.MarkdownString(N.value);break;case Un.MarkupKind.PlainText:Le=new kr.MarkdownString,Le.appendText(N.value);break;default:Le=new kr.MarkdownString,Le.appendText(`Unsupported Markup content received. Kind is: ${N.kind}`);break}return Le.isTrusted=e,Le.supportHtml=t,Le.supportThemeIcons=n,Le}function pe(N){if(N)return new kr.Hover(A(N.contents),D(N.range))}async function ve(N,Le,rt){if(!N)return;if(Array.isArray(N))return Qo.map(N,co=>ae(co,Le),rt);let zt=N,{defaultRange:Ln,commitCharacters:Cn}=V(zt,Le),Nn=await Qo.map(zt.items,co=>ae(co,Cn,zt.applyKind?.commitCharacters,Ln,zt.itemDefaults?.insertTextMode,zt.itemDefaults?.insertTextFormat,zt.itemDefaults?.data,zt.applyKind?.data),rt);return new kr.CompletionList(Nn,zt.isIncomplete)}function V(N,Le){let rt=N.itemDefaults?.editRange,zt=N.itemDefaults?.commitCharacters??Le;return Un.Range.is(rt)?{defaultRange:D(rt),commitCharacters:zt}:rt!==void 0?{defaultRange:{inserting:D(rt.insert),replacing:D(rt.replace)},commitCharacters:zt}:{defaultRange:void 0,commitCharacters:zt}}function W(N){return Un.CompletionItemKind.Text<=N&&N<=Un.CompletionItemKind.TypeParameter?[N-1,void 0]:[kr.CompletionItemKind.Text,N]}function ee(N){switch(N){case Un.CompletionItemTag.Deprecated:return kr.CompletionItemTag.Deprecated}}function De(N){if(N==null)return[];let Le=[];for(let rt of N){let zt=ee(rt);zt!==void 0&&Le.push(zt)}return Le}function ae(N,Le,rt,zt,Ln,Cn,Nn,co){let Ui=De(N.tags),Po=Me(N),Gi=new uCt.default(Po);N.detail&&(Gi.detail=N.detail),N.documentation&&(Gi.documentation=U(N.documentation),Gi.documentationFormat=Og.string(N.documentation)?"$string":N.documentation.kind),N.filterText&&(Gi.filterText=N.filterText);let Jn=ce(N,zt,Cn);if(Jn&&(Gi.insertText=Jn.text,Gi.range=Jn.range,Gi.fromEdit=Jn.fromEdit),Og.number(N.kind)){let[yl,Fi]=W(N.kind);Gi.kind=yl,Fi&&(Gi.originalItemKind=Fi)}N.sortText&&(Gi.sortText=N.sortText),N.additionalTextEdits&&(Gi.additionalTextEdits=Ne(N.additionalTextEdits));let Su=ue(N,Le,rt);Su&&(Gi.commitCharacters=Su.slice()),N.command&&(Gi.command=An(N.command)),(N.deprecated===!0||N.deprecated===!1)&&(Gi.deprecated=N.deprecated,N.deprecated===!0&&Ui.push(kr.CompletionItemTag.Deprecated)),(N.preselect===!0||N.preselect===!1)&&(Gi.preselect=N.preselect);let ns=Fe(N,Nn,co);ns!==void 0&&(Gi.data=ns),Ui.length>0&&(Gi.tags=Ui);let _o=N.insertTextMode??Ln;return _o!==void 0&&(Gi.insertTextMode=_o,_o===Un.InsertTextMode.asIs&&(Gi.keepWhitespace=!0)),Gi}function ue(N,Le,rt){if(rt===Un.ApplyKind.Merge){if(!Le&&!N.commitCharacters)return;let zt=new Set;if(Le)for(let Ln of Le)zt.add(Ln);if(Og.stringArray(N.commitCharacters))for(let Ln of N.commitCharacters)zt.add(Ln);return Array.from(zt)}return N.commitCharacters!==void 0?Og.stringArray(N.commitCharacters)?N.commitCharacters:void 0:Le}function Fe(N,Le,rt){if(rt===Un.ApplyKind.Merge){let zt={...Le};return N.data&&Object.entries(N.data).forEach(([Ln,Cn])=>{Cn!=null&&(zt[Ln]=Cn)}),zt}return N.data??Le}function Me(N){return Un.CompletionItemLabelDetails.is(N.labelDetails)?{label:N.label,detail:N.labelDetails.detail,description:N.labelDetails.description}:N.label}function ce(N,Le,rt){let zt=N.insertTextFormat??rt;if(N.textEdit!==void 0||Le!==void 0){let[Ln,Cn]=N.textEdit!==void 0?Ce(N.textEdit):[Le,N.textEditText??N.label];return zt===Un.InsertTextFormat.Snippet?{text:new kr.SnippetString(Cn),range:Ln,fromEdit:!0}:{text:Cn,range:Ln,fromEdit:!0}}else return N.insertText?zt===Un.InsertTextFormat.Snippet?{text:new kr.SnippetString(N.insertText),fromEdit:!1}:{text:N.insertText,fromEdit:!1}:void 0}function Ce(N){return Un.InsertReplaceEdit.is(N)?[{inserting:D(N.insert),replacing:D(N.replace)},N.newText]:[D(N.range),N.newText]}function be(N){if(N)return new kr.TextEdit(D(N.range),N.newText)}async function xe(N,Le){if(N)return Qo.map(N,be,Le)}function Ne(N){if(!N)return;let Le=new Array(N.length);for(let rt=0;rt<N.length;rt++)Le[rt]=be(N[rt]);return Le}async function $e(N,Le){if(!N)return;let rt=new kr.SignatureHelp;return Og.number(N.activeSignature)?rt.activeSignature=N.activeSignature:rt.activeSignature=0,Og.number(N.activeParameter)?rt.activeParameter=N.activeParameter:N.activeParameter===null?rt.activeParameter=-1:rt.activeParameter=0,N.signatures&&(rt.signatures=await Ct(N.signatures,Le)),rt}async function Ct(N,Le){return Qo.mapAsync(N,ze,Le)}async function ze(N,Le){let rt=new kr.SignatureInformation(N.label);return N.documentation!==void 0&&(rt.documentation=U(N.documentation)),N.parameters!==void 0&&(rt.parameters=await st(N.parameters,Le)),N.activeParameter!==void 0&&(rt.activeParameter=N.activeParameter??-1),rt}function st(N,Le){return Qo.map(N,at,Le)}function at(N){let Le=new kr.ParameterInformation(N.label);return N.documentation&&(Le.documentation=U(N.documentation)),Le}function tt(N){return N?new kr.Location(o(N.uri),D(N.range)):void 0}async function fr(N,Le){if(N)return cr(N,Le)}async function Lr(N,Le){if(N)return cr(N,Le)}function zr(N){if(!N)return;let Le={targetUri:o(N.targetUri),targetRange:D(N.targetRange),originSelectionRange:D(N.originSelectionRange),targetSelectionRange:D(N.targetSelectionRange)};if(!Le.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return Le}async function cr(N,Le){if(N)if(Og.array(N)){if(N.length===0)return[];if(Un.LocationLink.is(N[0])){let rt=N;return Qo.map(rt,zr,Le)}else{let rt=N;return Qo.map(rt,tt,Le)}}else return Un.LocationLink.is(N)?[zr(N)]:tt(N)}async function xt(N,Le){if(N)return Qo.map(N,tt,Le)}async function hr(N,Le){if(N)return Qo.map(N,Mt,Le)}function Mt(N){let Le=new kr.DocumentHighlight(D(N.range));return Og.number(N.kind)&&(Le.kind=nn(N.kind)),Le}function nn(N){switch(N){case Un.DocumentHighlightKind.Text:return kr.DocumentHighlightKind.Text;case Un.DocumentHighlightKind.Read:return kr.DocumentHighlightKind.Read;case Un.DocumentHighlightKind.Write:return kr.DocumentHighlightKind.Write}return kr.DocumentHighlightKind.Text}async function ln(N,Le){if(N)return Qo.map(N,$r,Le)}function On(N){return N<=Un.SymbolKind.TypeParameter?N-1:kr.SymbolKind.Property}function Or(N){switch(N){case Un.SymbolTag.Deprecated:return kr.SymbolTag.Deprecated;default:return}}function Hn(N){if(N==null)return;let Le=[];for(let rt of N){let zt=Or(rt);zt!==void 0&&Le.push(zt)}return Le.length===0?void 0:Le}function $r(N){let Le=N.data,rt=N.location,zt=rt.range===void 0||Le!==void 0?new mCt.default(N.name,On(N.kind),N.containerName??"",rt.range===void 0?o(rt.uri):new kr.Location(o(N.location.uri),D(rt.range)),Le):new kr.SymbolInformation(N.name,On(N.kind),N.containerName??"",new kr.Location(o(N.location.uri),D(rt.range)));return Vr(zt,N),zt}async function dn(N,Le){if(N!=null)return Qo.map(N,ii,Le)}function ii(N){let Le=new kr.DocumentSymbol(N.name,N.detail||"",On(N.kind),D(N.range),D(N.selectionRange));if(Vr(Le,N),N.children!==void 0&&N.children.length>0){let rt=[];for(let zt of N.children)rt.push(ii(zt));Le.children=rt}return Le}function Vr(N,Le){N.tags=Hn(Le.tags),Le.deprecated&&(N.tags?N.tags.includes(kr.SymbolTag.Deprecated)||(N.tags=N.tags.concat(kr.SymbolTag.Deprecated)):N.tags=[kr.SymbolTag.Deprecated])}function An(N){let Le={title:N.title,command:N.command};return N.tooltip&&(Le.tooltip=N.tooltip),N.arguments&&(Le.arguments=N.arguments),Le}async function xi(N,Le){if(N)return Qo.map(N,An,Le)}let Gr=new Map;Gr.set(Un.CodeActionKind.Empty,kr.CodeActionKind.Empty),Gr.set(Un.CodeActionKind.QuickFix,kr.CodeActionKind.QuickFix),Gr.set(Un.CodeActionKind.Refactor,kr.CodeActionKind.Refactor),Gr.set(Un.CodeActionKind.RefactorExtract,kr.CodeActionKind.RefactorExtract),Gr.set(Un.CodeActionKind.RefactorInline,kr.CodeActionKind.RefactorInline),Gr.set(Un.CodeActionKind.RefactorRewrite,kr.CodeActionKind.RefactorRewrite),Gr.set(Un.CodeActionKind.Source,kr.CodeActionKind.Source),Gr.set(Un.CodeActionKind.SourceOrganizeImports,kr.CodeActionKind.SourceOrganizeImports);function Qi(N){if(N==null)return;let Le=Gr.get(N);if(Le)return Le;let rt=N.split(".");Le=kr.CodeActionKind.Empty;for(let zt of rt)Le=Le.append(zt);return Le}function oi(N){if(N!=null)return N.map(Le=>Qi(Le))}function fn(N){if(N!=null)return N.map(Le=>({kind:Qi(Le.kind),command:An(Le.command)}))}async function Oe(N,Le){if(N==null)return;let rt=new fCt.default(N.title,N.data);return N.kind!==void 0&&(rt.kind=Qi(N.kind)),N.diagnostics!==void 0&&(rt.diagnostics=u(N.diagnostics)),N.edit!==void 0&&(rt.edit=await Je(N.edit,Le)),N.command!==void 0&&(rt.command=An(N.command)),N.isPreferred!==void 0&&(rt.isPreferred=N.isPreferred),N.disabled!==void 0&&(rt.disabled={reason:N.disabled.reason}),N.tags?.includes(Un.CodeActionTag.LLMGenerated)&&(rt.isAI=!0),rt}function oe(N,Le){return Qo.mapAsync(N,async rt=>Un.Command.is(rt)?An(rt):Oe(rt,Le),Le)}function Q(N){if(!N)return;let Le=new lCt.default(D(N.range));return N.command&&(Le.command=An(N.command)),N.data!==void 0&&N.data!==null&&(Le.data=N.data),Le}async function we(N,Le){if(N)return Qo.map(N,Q,Le)}async function Je(N,Le){if(!N)return;let rt=new Map;if(N.changeAnnotations!==void 0){let Cn=N.changeAnnotations;await Qo.forEach(Object.keys(Cn),Nn=>{let co=ft(Cn[Nn]);rt.set(Nn,co)},Le)}let zt=Cn=>{if(Cn!==void 0)return rt.get(Cn)},Ln=new kr.WorkspaceEdit;if(N.documentChanges){let Cn=N.documentChanges;await Qo.forEach(Cn,Nn=>{if(Un.CreateFile.is(Nn))Ln.createFile(o(Nn.uri),Nn.options,zt(Nn.annotationId));else if(Un.RenameFile.is(Nn))Ln.renameFile(o(Nn.oldUri),o(Nn.newUri),Nn.options,zt(Nn.annotationId));else if(Un.DeleteFile.is(Nn))Ln.deleteFile(o(Nn.uri),Nn.options,zt(Nn.annotationId));else if(Un.TextDocumentEdit.is(Nn)){let co=o(Nn.textDocument.uri),Ui=[];for(let Po of Nn.edits)Un.AnnotatedTextEdit.is(Po)?Ui.push([new kr.TextEdit(D(Po.range),Po.newText),zt(Po.annotationId)]):Un.SnippetTextEdit.is(Po)?Ui.push([new kr.SnippetTextEdit(D(Po.range),new kr.SnippetString(Po.snippet.value)),zt(Po.annotationId)]):Ui.push([new kr.TextEdit(D(Po.range),Po.newText),void 0]);Ln.set(co,Ui)}else throw new Error(`Unknown workspace edit change received:
${JSON.stringify(Nn,void 0,4)}`)},Le)}else if(N.changes){let Cn=N.changes;await Qo.forEach(Object.keys(Cn),Nn=>{Ln.set(o(Nn),Ne(Cn[Nn]))},Le)}return Ln}function ft(N){if(N!==void 0)return{label:N.label,needsConfirmation:!!N.needsConfirmation,description:N.description}}function Yt(N){let Le=D(N.range),rt=N.target?s(N.target):void 0,zt=new dCt.default(Le,rt);return N.tooltip!==void 0&&(zt.tooltip=N.tooltip),N.data!==void 0&&N.data!==null&&(zt.data=N.data),zt}async function rr(N,Le){if(N)return Qo.map(N,Yt,Le)}function Jt(N){return new kr.Color(N.red,N.green,N.blue,N.alpha)}function $t(N){return new kr.ColorInformation(D(N.range),Jt(N.color))}async function kt(N,Le){if(N)return Qo.map(N,$t,Le)}function K(N){let Le=new kr.ColorPresentation(N.label);return Le.additionalTextEdits=Ne(N.additionalTextEdits),N.textEdit&&(Le.textEdit=be(N.textEdit)),Le}async function qe(N,Le){if(N)return Qo.map(N,K,Le)}function Ht(N){if(N)switch(N){case Un.FoldingRangeKind.Comment:return kr.FoldingRangeKind.Comment;case Un.FoldingRangeKind.Imports:return kr.FoldingRangeKind.Imports;case Un.FoldingRangeKind.Region:return kr.FoldingRangeKind.Region}}function Dr(N){return new kr.FoldingRange(N.startLine,N.endLine,Ht(N.kind))}async function He(N,Le){if(N)return Qo.map(N,Dr,Le)}function re(N){return new kr.SelectionRange(D(N.range),N.parent?re(N.parent):void 0)}async function Pe(N,Le){return Array.isArray(N)?Qo.map(N,re,Le):[]}function je(N){return Un.InlineValueText.is(N)?new kr.InlineValueText(D(N.range),N.text):Un.InlineValueVariableLookup.is(N)?new kr.InlineValueVariableLookup(D(N.range),N.variableName,N.caseSensitiveLookup):new kr.InlineValueEvaluatableExpression(D(N.range),N.expression)}async function fe(N,Le){return Array.isArray(N)?Qo.map(N,je,Le):[]}async function S(N,Le){let rt=typeof N.label=="string"?N.label:await Qo.map(N.label,de,Le),zt=new gCt.default(_(N.position),rt);return N.kind!==void 0&&(zt.kind=N.kind),N.textEdits!==void 0&&(zt.textEdits=await xe(N.textEdits,Le)),N.tooltip!==void 0&&(zt.tooltip=Ye(N.tooltip)),N.paddingLeft!==void 0&&(zt.paddingLeft=N.paddingLeft),N.paddingRight!==void 0&&(zt.paddingRight=N.paddingRight),N.data!==void 0&&(zt.data=N.data),zt}function de(N){let Le=new kr.InlayHintLabelPart(N.value);return N.location!==void 0&&(Le.location=tt(N.location)),N.tooltip!==void 0&&(Le.tooltip=Ye(N.tooltip)),N.command!==void 0&&(Le.command=An(N.command)),Le}function Ye(N){return typeof N=="string"?N:ne(N)}async function Tr(N,Le){if(Array.isArray(N))return Qo.mapAsync(N,S,Le)}function Wr(N){if(N===null)return;let Le=new hCt.default(On(N.kind),N.name,N.detail||"",s(N.uri),D(N.range),D(N.selectionRange),N.data);return N.tags!==void 0&&(Le.tags=Hn(N.tags)),Le}async function Xr(N,Le){if(N!==null)return Qo.map(N,Wr,Le)}async function qn(N,Le){return new kr.CallHierarchyIncomingCall(Wr(N.from),await P(N.fromRanges,Le))}async function Oi(N,Le){if(N!==null)return Qo.mapAsync(N,qn,Le)}async function Ms(N,Le){return new kr.CallHierarchyOutgoingCall(Wr(N.to),await P(N.fromRanges,Le))}async function Sn(N,Le){if(N!==null)return Qo.mapAsync(N,Ms,Le)}async function rs(N,Le){if(N!=null)return new kr.SemanticTokens(new Uint32Array(N.data),N.resultId)}function Vs(N){return new kr.SemanticTokensEdit(N.start,N.deleteCount,N.data!==void 0?new Uint32Array(N.data):void 0)}async function oa(N,Le){if(N!=null)return new kr.SemanticTokensEdits(N.edits.map(Vs),N.resultId)}function jo(N){return N}async function Ro(N,Le){if(N!=null)return new kr.LinkedEditingRanges(await P(N.ranges,Le),H(N.wordPattern))}function H(N){if(N!=null)return new RegExp(N)}function Ue(N){if(N===null)return;let Le=new pCt.default(On(N.kind),N.name,N.detail||"",s(N.uri),D(N.range),D(N.selectionRange),N.data);return N.tags!==void 0&&(Le.tags=Hn(N.tags)),Le}async function vt(N,Le){if(N!==null)return Qo.map(N,Ue,Le)}function Fr(N){if(Og.string(N))return N;if(Un.RelativePattern.is(N)){if(Un.URI.is(N.baseUri))return new kr.RelativePattern(s(N.baseUri),N.pattern);if(Un.WorkspaceFolder.is(N.baseUri)){let Le=kr.workspace.getWorkspaceFolder(s(N.baseUri.uri));return Le!==void 0?new kr.RelativePattern(Le,N.pattern):void 0}}}async function ao(N,Le){if(!N)return;if(Array.isArray(N))return Qo.map(N,Ln=>$i(Ln),Le);let rt=N,zt=await Qo.map(rt.items,Ln=>$i(Ln),Le);return new kr.InlineCompletionList(zt)}function $i(N){let Le;typeof N.insertText=="string"?Le=N.insertText:Le=new kr.SnippetString(N.insertText.value);let rt;N.command&&(rt=An(N.command));let zt=new kr.InlineCompletionItem(Le,D(N.range),rt);return N.filterText&&(zt.filterText=N.filterText),zt}return{asUri:s,asDocumentSelector:a,asDiagnostics:c,asDiagnostic:l,asRange:D,asRanges:P,asPosition:_,asDiagnosticSeverity:M,asDiagnosticTag:p,asHover:pe,asCompletionResult:ve,asCompletionItem:ae,asTextEdit:be,asTextEdits:xe,asSignatureHelp:$e,asSignatureInformations:Ct,asSignatureInformation:ze,asParameterInformations:st,asParameterInformation:at,asDeclarationResult:fr,asDefinitionResult:Lr,asLocation:tt,asReferences:xt,asDocumentHighlights:hr,asDocumentHighlight:Mt,asDocumentHighlightKind:nn,asSymbolKind:On,asSymbolTag:Or,asSymbolTags:Hn,asSymbolInformations:ln,asSymbolInformation:$r,asDocumentSymbols:dn,asDocumentSymbol:ii,asCommand:An,asCommands:xi,asCodeAction:Oe,asCodeActionKind:Qi,asCodeActionKinds:oi,asCodeActionDocumentations:fn,asCodeActionResult:oe,asCodeLens:Q,asCodeLenses:we,asWorkspaceEdit:Je,asDocumentLink:Yt,asDocumentLinks:rr,asFoldingRangeKind:Ht,asFoldingRange:Dr,asFoldingRanges:He,asColor:Jt,asColorInformation:$t,asColorInformations:kt,asColorPresentation:K,asColorPresentations:qe,asSelectionRange:re,asSelectionRanges:Pe,asInlineValue:je,asInlineValues:fe,asInlayHint:S,asInlayHints:Tr,asSemanticTokensLegend:jo,asSemanticTokens:rs,asSemanticTokensEdit:Vs,asSemanticTokensEdits:oa,asCallHierarchyItem:Wr,asCallHierarchyItems:Xr,asCallHierarchyIncomingCall:qn,asCallHierarchyIncomingCalls:Oi,asCallHierarchyOutgoingCall:Ms,asCallHierarchyOutgoingCalls:Sn,asLinkedEditingRanges:Ro,asTypeHierarchyItem:Ue,asTypeHierarchyItems:vt,asGlobPattern:Fr,asInlineCompletionResult:ao,asInlineCompletionItem:$i}}});var Va=C(lD=>{"use strict";Object.defineProperty(lD,"__esModule",{value:!0});lD.empty=void 0;lD.v4=ELe;lD.isUUID=RLe;lD.parse=_Ct;lD.generateUuid=bCt;var BM=class{_value;constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},Xte=class r extends BM{static _chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];static _timeHighBits=["8","9","a","b"];static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return r._oneOf(r._chars)}constructor(){super([r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),"-",r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),"-","4",r._randomHex(),r._randomHex(),r._randomHex(),"-",r._oneOf(r._timeHighBits),r._randomHex(),r._randomHex(),r._randomHex(),"-",r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex()].join(""))}};lD.empty=new BM("00000000-0000-0000-0000-000000000000");function ELe(){return new Xte}var yCt=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function RLe(r){return yCt.test(r)}function _Ct(r){if(!RLe(r))throw new Error("invalid uuid");return new BM(r)}function bCt(){return ELe().asHex()}});var Zte=C(Ib=>{"use strict";var wCt=Ib&&Ib.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),SCt=Ib&&Ib.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),CCt=Ib&&Ib.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&wCt(t,e,n[i]);return SCt(t,e),t}}();Object.defineProperty(Ib,"__esModule",{value:!0});Ib.ProgressPart=void 0;var PLe=require("vscode"),xLe=en(),OLe=CCt(Gv()),Qte=class{_client;_token;_infinite;_reported;_lspProgressDisposable;_progress;_cancellationToken;_tokenDisposable;_resolve;_reject;constructor(e,t,n){this._client=e,this._token=t,this._reported=0,this._infinite=!1,this._lspProgressDisposable=this._client.onProgress(xLe.WorkDoneProgress.type,this._token,i=>{switch(i.kind){case"begin":this.begin(i);break;case"report":this.report(i);break;case"end":this.done(),n&&n(this);break}})}begin(e){this._infinite=e.percentage===void 0,this._lspProgressDisposable!==void 0&&PLe.window.withProgress({location:PLe.ProgressLocation.Window,cancellable:e.cancellable,title:e.title},async(t,n)=>{if(this._lspProgressDisposable!==void 0)return this._progress=t,this._cancellationToken=n,this._tokenDisposable=this._cancellationToken.onCancellationRequested(()=>{this._client.sendNotification(xLe.WorkDoneProgressCancelNotification.type,{token:this._token})}),this.report(e),new Promise((i,o)=>{this._resolve=i,this._reject=o})})}report(e){if(this._infinite&&OLe.string(e.message))this._progress!==void 0&&this._progress.report({message:e.message});else if(OLe.number(e.percentage)){let t=Math.max(0,Math.min(e.percentage,100)),n=Math.max(0,t-this._reported);this._reported+=n,this._progress!==void 0&&this._progress.report({message:e.message,increment:n})}}cancel(){this.cleanup(),this._reject!==void 0&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this.cleanup(),this._resolve!==void 0&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}cleanup(){this._lspProgressDisposable!==void 0&&(this._lspProgressDisposable.dispose(),this._lspProgressDisposable=void 0),this._tokenDisposable!==void 0&&(this._tokenDisposable.dispose(),this._tokenDisposable=void 0),this._progress=void 0,this._cancellationToken=void 0}};Ib.ProgressPart=Qte});var Mo=C(Gc=>{"use strict";var TCt=Gc&&Gc.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),DCt=Gc&&Gc.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),LLe=Gc&&Gc.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&TCt(t,e,n[i]);return DCt(t,e),t}}();Object.defineProperty(Gc,"__esModule",{value:!0});Gc.WorkspaceFeature=Gc.TextDocumentLanguageFeature=Gc.TextDocumentEventFeature=Gc.DynamicDocumentFeature=Gc.DynamicFeature=Gc.StaticFeature=Gc.LSPCancellationError=void 0;Gc.ensure=ECt;var dD=require("vscode"),ere=en(),gp=LLe(Gv()),ILe=LLe(Va()),tre=class extends dD.CancellationError{data;constructor(e){super(),this.data=e}};Gc.LSPCancellationError=tre;function ECt(r,e){return r[e]===void 0&&(r[e]={}),r[e]}var kLe;(function(r){function e(t){let n=t;return n!=null&&gp.func(n.fillClientCapabilities)&&gp.func(n.initialize)&&gp.func(n.getState)&&gp.func(n.clear)&&(n.fillInitializeParams===void 0||gp.func(n.fillInitializeParams))}r.is=e})(kLe||(Gc.StaticFeature=kLe={}));var ALe;(function(r){function e(t){let n=t;return n!=null&&gp.func(n.fillClientCapabilities)&&gp.func(n.initialize)&&gp.func(n.getState)&&gp.func(n.clear)&&(n.fillInitializeParams===void 0||gp.func(n.fillInitializeParams))&&gp.func(n.register)&&gp.func(n.unregister)&&n.registrationType!==void 0}r.is=e})(ALe||(Gc.DynamicFeature=ALe={}));var WM=class{_client;constructor(e){this._client=e}getState(){let e=this.getDocumentSelectors(),t=0;for(let i of e){t++;for(let o of dD.workspace.textDocuments)if(dD.languages.match(i,o)>0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}let n=t>0;return{kind:"document",id:this.registrationType.method,registrations:n,matches:!1}}};Gc.DynamicDocumentFeature=WM;var rre=class extends WM{_event;_type;_middleware;_createParams;_textDocument;_selectorFilter;_listener;_selectors;_onNotificationSent;static textDocumentFilter(e,t){for(let n of e)if(dD.languages.match(n,t)>0)return!0;return!1}constructor(e,t,n,i,o,s,a){super(e),this._event=t,this._type=n,this._middleware=i,this._createParams=o,this._textDocument=s,this._selectorFilter=a,this._selectors=new Map,this._onNotificationSent=new dD.EventEmitter}getStateInfo(){return[this._selectors.values(),!1]}getDocumentSelectors(){return this._selectors.values()}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=this._event(t=>{this.callback(t).catch(n=>{this._client.error(`Sending document notification ${this._type.method} failed.`,n)})})),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}async callback(e){let t=async n=>{let i=this._createParams(n);await this._client.sendNotification(this._type,i),this.notificationSent(this.getTextDocument(n),this._type,i)};if(this.matches(e)){let n=this._middleware();return n?n(e,i=>t(i)):t(e)}}matches(e){return this._client.hasDedicatedTextSynchronizationFeature(this._textDocument(e))?!1:!this._selectorFilter||this._selectorFilter(this._selectors.values(),e)}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(e,t,n){this._onNotificationSent.fire({textDocument:e,type:t,params:n})}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._selectors.clear(),this._onNotificationSent.dispose(),this._onNotificationSent=new dD.EventEmitter,this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(e){for(let t of this._selectors.values())if(dD.languages.match(t,e)>0)return{send:n=>this.callback(n)}}};Gc.TextDocumentEventFeature=rre;var nre=class extends WM{_registrationType;_registrations;constructor(e,t){super(e),this._registrationType=t,this._registrations=new Map}*getDocumentSelectors(){for(let e of this._registrations.values()){let t=e.data.registerOptions.documentSelector;t!==null&&(yield this._client.protocol2CodeConverter.asDocumentSelector(t))}}get registrationType(){return this._registrationType}register(e){if(!e.registerOptions.documentSelector)return;let t=this.registerLanguageProvider(e.registerOptions,e.id);this._registrations.set(e.id,{disposable:t[0],data:e,provider:t[1]})}unregister(e){let t=this._registrations.get(e);t!==void 0&&(this._registrations.delete(e),t.disposable.dispose())}clear(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getRegistration(e,t){if(t){if(ere.TextDocumentRegistrationOptions.is(t)){let n=ere.StaticRegistrationOptions.hasId(t)?t.id:ILe.generateUuid(),i=t.documentSelector??e;if(i)return[n,Object.assign({},t,{documentSelector:i})]}else if(gp.boolean(t)&&t===!0||ere.WorkDoneProgressOptions.is(t)){if(!e)return[void 0,void 0];let n=gp.boolean(t)&&t===!0?{documentSelector:e}:Object.assign({},t,{documentSelector:e});return[ILe.generateUuid(),n]}}else return[void 0,void 0];return[void 0,void 0]}getRegistrationOptions(e,t){if(!(!e||!t))return gp.boolean(t)&&t===!0?{documentSelector:e}:Object.assign({},t,{documentSelector:e})}getProvider(e){for(let t of this._registrations.values()){let n=t.data.registerOptions.documentSelector;if(n!==null&&dD.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(n),e)>0)return t.provider}}getAllProviders(){let e=[];for(let t of this._registrations.values())e.push(t.provider);return e}};Gc.TextDocumentLanguageFeature=nre;var ire=class{_client;_registrationType;_registrations;constructor(e,t){this._client=e,this._registrationType=t,this._registrations=new Map}getState(){let e=this._registrations.size>0;return{kind:"workspace",id:this._registrationType.method,registrations:e}}get registrationType(){return this._registrationType}register(e){let t=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:t[0],provider:t[1]})}unregister(e){let t=this._registrations.get(e);t!==void 0&&(this._registrations.delete(e),t.disposable.dispose())}clear(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getProviders(){let e=[];for(let t of this._registrations.values())e.push(t.provider);return e}};Gc.WorkspaceFeature=ire});var HLe=C((lXt,ULe)=>{var MLe=FX();ULe.exports=xCt;var NLe="\0SLASH"+Math.random()+"\0",FLe="\0OPEN"+Math.random()+"\0",sre="\0CLOSE"+Math.random()+"\0",qLe="\0COMMA"+Math.random()+"\0",jLe="\0PERIOD"+Math.random()+"\0";function ore(r){return parseInt(r,10)==r?parseInt(r,10):r.charCodeAt(0)}function RCt(r){return r.split("\\\\").join(NLe).split("\\{").join(FLe).split("\\}").join(sre).split("\\,").join(qLe).split("\\.").join(jLe)}function PCt(r){return r.split(NLe).join("\\").split(FLe).join("{").split(sre).join("}").split(qLe).join(",").split(jLe).join(".")}function zLe(r){if(!r)return[""];var e=[],t=MLe("{","}",r);if(!t)return r.split(",");var n=t.pre,i=t.body,o=t.post,s=n.split(",");s[s.length-1]+="{"+i+"}";var a=zLe(o);return o.length&&(s[s.length-1]+=a.shift(),s.push.apply(s,a)),e.push.apply(e,s),e}function xCt(r){return r?(r.substr(0,2)==="{}"&&(r="\\{\\}"+r.substr(2)),$M(RCt(r),!0).map(PCt)):[]}function OCt(r){return"{"+r+"}"}function ICt(r){return/^-?0\d/.test(r)}function kCt(r,e){return r<=e}function ACt(r,e){return r>=e}function $M(r,e){var t=[],n=MLe("{","}",r);if(!n)return[r];var i=n.pre,o=n.post.length?$M(n.post,!1):[""];if(/\$$/.test(n.pre))for(var s=0;s<o.length;s++){var a=i+"{"+n.body+"}"+o[s];t.push(a)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),l=c||u,d=n.body.indexOf(",")>=0;if(!l&&!d)return n.post.match(/,.*\}/)?(r=n.pre+"{"+n.body+sre+n.post,$M(r)):[r];var f;if(l)f=n.body.split(/\.\./);else if(f=zLe(n.body),f.length===1&&(f=$M(f[0],!1).map(OCt),f.length===1))return o.map(function(De){return n.pre+f[0]+De});var p;if(l){var _=ore(f[0]),D=ore(f[1]),P=Math.max(f[0].length,f[1].length),M=f.length==3?Math.abs(ore(f[2])):1,A=kCt,U=D<_;U&&(M*=-1,A=ACt);var ne=f.some(ICt);p=[];for(var pe=_;A(pe,D);pe+=M){var ve;if(u)ve=String.fromCharCode(pe),ve==="\\"&&(ve="");else if(ve=String(pe),ne){var V=P-ve.length;if(V>0){var W=new Array(V+1).join("0");pe<0?ve="-"+W+ve.slice(1):ve=W+ve}}p.push(ve)}}else{p=[];for(var ee=0;ee<f.length;ee++)p.push.apply(p,$M(f[ee],!1))}for(var ee=0;ee<p.length;ee++)for(var s=0;s<o.length;s++){var a=i+p[ee]+o[s];(!e||l||a)&&t.push(a)}}return t}});var BLe=C(DW=>{"use strict";Object.defineProperty(DW,"__esModule",{value:!0});DW.assertValidPattern=void 0;var LCt=1024*64,MCt=r=>{if(typeof r!="string")throw new TypeError("invalid pattern");if(r.length>LCt)throw new TypeError("pattern is too long")};DW.assertValidPattern=MCt});var $Le=C(EW=>{"use strict";Object.defineProperty(EW,"__esModule",{value:!0});EW.parseClass=void 0;var NCt={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},VM=r=>r.replace(/[[\]\\-]/g,"\\$&"),FCt=r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),WLe=r=>r.join(""),qCt=(r,e)=>{let t=e;if(r.charAt(t)!=="[")throw new Error("not in a brace expression");let n=[],i=[],o=t+1,s=!1,a=!1,c=!1,u=!1,l=t,d="";e:for(;o<r.length;){let D=r.charAt(o);if((D==="!"||D==="^")&&o===t+1){u=!0,o++;continue}if(D==="]"&&s&&!c){l=o+1;break}if(s=!0,D==="\\"&&!c){c=!0,o++;continue}if(D==="["&&!c){for(let[P,[M,A,U]]of Object.entries(NCt))if(r.startsWith(P,o)){if(d)return["$.",!1,r.length-t,!0];o+=P.length,U?i.push(M):n.push(M),a=a||A;continue e}}if(c=!1,d){D>d?n.push(VM(d)+"-"+VM(D)):D===d&&n.push(VM(D)),d="",o++;continue}if(r.startsWith("-]",o+1)){n.push(VM(D+"-")),o+=2;continue}if(r.startsWith("-",o+1)){d=D,o+=2;continue}n.push(VM(D)),o++}if(l<o)return["",!1,0,!1];if(!n.length&&!i.length)return["$.",!1,r.length-t,!0];if(i.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!u){let D=n[0].length===2?n[0].slice(-1):n[0];return[FCt(D),!1,l-t,!1]}let f="["+(u?"^":"")+WLe(n)+"]",p="["+(u?"":"^")+WLe(i)+"]";return[n.length&&i.length?"("+f+"|"+p+")":n.length?f:p,a,l-t,!0]};EW.parseClass=qCt});var PW=C(RW=>{"use strict";Object.defineProperty(RW,"__esModule",{value:!0});RW.unescape=void 0;var jCt=(r,{windowsPathsNoEscape:e=!1}={})=>e?r.replace(/\[([^\/\\])\]/g,"$1"):r.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");RW.unescape=jCt});var ure=C(IW=>{"use strict";Object.defineProperty(IW,"__esModule",{value:!0});IW.AST=void 0;var zCt=$Le(),xW=PW(),UCt=new Set(["!","?","+","*","@"]),VLe=r=>UCt.has(r),HCt="(?!(?:^|/)\\.\\.?(?:$|/))",OW="(?!\\.)",BCt=new Set(["[","."]),WCt=new Set(["..","."]),$Ct=new Set("().*{}+?[]^$\\!"),VCt=r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),cre="[^/]",GLe=cre+"*?",KLe=cre+"+?",are=class r{type;#t;#n;#o=!1;#e=[];#r;#s;#c;#a=!1;#i;#u;#d=!1;constructor(e,t,n={}){this.type=e,e&&(this.#n=!0),this.#r=t,this.#t=this.#r?this.#r.#t:this,this.#i=this.#t===this?n:this.#t.#i,this.#c=this.#t===this?[]:this.#t.#c,e==="!"&&!this.#t.#a&&this.#c.push(this),this.#s=this.#r?this.#r.#e.length:0}get hasMagic(){if(this.#n!==void 0)return this.#n;for(let e of this.#e)if(typeof e!="string"&&(e.type||e.hasMagic))return this.#n=!0;return this.#n}toString(){return this.#u!==void 0?this.#u:this.type?this.#u=this.type+"("+this.#e.map(e=>String(e)).join("|")+")":this.#u=this.#e.map(e=>String(e)).join("")}#h(){if(this!==this.#t)throw new Error("should only call on root");if(this.#a)return this;this.toString(),this.#a=!0;let e;for(;e=this.#c.pop();){if(e.type!=="!")continue;let t=e,n=t.#r;for(;n;){for(let i=t.#s+1;!n.type&&i<n.#e.length;i++)for(let o of e.#e){if(typeof o=="string")throw new Error("string part in extglob AST??");o.copyIn(n.#e[i])}t=n,n=t.#r}}return this}push(...e){for(let t of e)if(t!==""){if(typeof t!="string"&&!(t instanceof r&&t.#r===this))throw new Error("invalid part: "+t);this.#e.push(t)}}toJSON(){let e=this.type===null?this.#e.slice().map(t=>typeof t=="string"?t:t.toJSON()):[this.type,...this.#e.map(t=>t.toJSON())];return this.isStart()&&!this.type&&e.unshift([]),this.isEnd()&&(this===this.#t||this.#t.#a&&this.#r?.type==="!")&&e.push({}),e}isStart(){if(this.#t===this)return!0;if(!this.#r?.isStart())return!1;if(this.#s===0)return!0;let e=this.#r;for(let t=0;t<this.#s;t++){let n=e.#e[t];if(!(n instanceof r&&n.type==="!"))return!1}return!0}isEnd(){if(this.#t===this||this.#r?.type==="!")return!0;if(!this.#r?.isEnd())return!1;if(!this.type)return this.#r?.isEnd();let e=this.#r?this.#r.#e.length:0;return this.#s===e-1}copyIn(e){typeof e=="string"?this.push(e):this.push(e.clone(this))}clone(e){let t=new r(this.type,e);for(let n of this.#e)t.copyIn(n);return t}static#l(e,t,n,i){let o=!1,s=!1,a=-1,c=!1;if(t.type===null){let p=n,_="";for(;p<e.length;){let D=e.charAt(p++);if(o||D==="\\"){o=!o,_+=D;continue}if(s){p===a+1?(D==="^"||D==="!")&&(c=!0):D==="]"&&!(p===a+2&&c)&&(s=!1),_+=D;continue}else if(D==="["){s=!0,a=p,c=!1,_+=D;continue}if(!i.noext&&VLe(D)&&e.charAt(p)==="("){t.push(_),_="";let P=new r(D,t);p=r.#l(e,P,p,i),t.push(P);continue}_+=D}return t.push(_),p}let u=n+1,l=new r(null,t),d=[],f="";for(;u<e.length;){let p=e.charAt(u++);if(o||p==="\\"){o=!o,f+=p;continue}if(s){u===a+1?(p==="^"||p==="!")&&(c=!0):p==="]"&&!(u===a+2&&c)&&(s=!1),f+=p;continue}else if(p==="["){s=!0,a=u,c=!1,f+=p;continue}if(VLe(p)&&e.charAt(u)==="("){l.push(f),f="";let _=new r(p,l);l.push(_),u=r.#l(e,_,u,i);continue}if(p==="|"){l.push(f),f="",d.push(l),l=new r(null,t);continue}if(p===")")return f===""&&t.#e.length===0&&(t.#d=!0),l.push(f),f="",t.push(...d,l),u;f+=p}return t.type=null,t.#n=void 0,t.#e=[e.substring(n-1)],u}static fromGlob(e,t={}){let n=new r(null,void 0,t);return r.#l(e,n,0,t),n}toMMPattern(){if(this!==this.#t)return this.#t.toMMPattern();let e=this.toString(),[t,n,i,o]=this.toRegExpSource();if(!(i||this.#n||this.#i.nocase&&!this.#i.nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase()))return n;let a=(this.#i.nocase?"i":"")+(o?"u":"");return Object.assign(new RegExp(`^${t}$`,a),{_src:t,_glob:e})}get options(){return this.#i}toRegExpSource(e){let t=e??!!this.#i.dot;if(this.#t===this&&this.#h(),!this.type){let c=this.isStart()&&this.isEnd(),u=this.#e.map(p=>{let[_,D,P,M]=typeof p=="string"?r.#p(p,this.#n,c):p.toRegExpSource(e);return this.#n=this.#n||P,this.#o=this.#o||M,_}).join(""),l="";if(this.isStart()&&typeof this.#e[0]=="string"&&!(this.#e.length===1&&WCt.has(this.#e[0]))){let _=BCt,D=t&&_.has(u.charAt(0))||u.startsWith("\\.")&&_.has(u.charAt(2))||u.startsWith("\\.\\.")&&_.has(u.charAt(4)),P=!t&&!e&&_.has(u.charAt(0));l=D?HCt:P?OW:""}let d="";return this.isEnd()&&this.#t.#a&&this.#r?.type==="!"&&(d="(?:$|\\/)"),[l+u+d,(0,xW.unescape)(u),this.#n=!!this.#n,this.#o]}let n=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:",o=this.#f(t);if(this.isStart()&&this.isEnd()&&!o&&this.type!=="!"){let c=this.toString();return this.#e=[c],this.type=null,this.#n=void 0,[c,(0,xW.unescape)(this.toString()),!1,!1]}let s=!n||e||t||!OW?"":this.#f(!0);s===o&&(s=""),s&&(o=`(?:${o})(?:${s})*?`);let a="";if(this.type==="!"&&this.#d)a=(this.isStart()&&!t?OW:"")+KLe;else{let c=this.type==="!"?"))"+(this.isStart()&&!t&&!e?OW:"")+GLe+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&s?")":this.type==="*"&&s?")?":`)${this.type}`;a=i+o+c}return[a,(0,xW.unescape)(o),this.#n=!!this.#n,this.#o]}#f(e){return this.#e.map(t=>{if(typeof t=="string")throw new Error("string type in extglob ast??");let[n,i,o,s]=t.toRegExpSource(e);return this.#o=this.#o||s,n}).filter(t=>!(this.isStart()&&this.isEnd())||!!t).join("|")}static#p(e,t,n=!1){let i=!1,o="",s=!1;for(let a=0;a<e.length;a++){let c=e.charAt(a);if(i){i=!1,o+=($Ct.has(c)?"\\":"")+c;continue}if(c==="\\"){a===e.length-1?o+="\\\\":i=!0;continue}if(c==="["){let[u,l,d,f]=(0,zCt.parseClass)(e,a);if(d){o+=u,s=s||l,a+=d-1,t=t||f;continue}}if(c==="*"){n&&e==="*"?o+=KLe:o+=GLe,t=!0;continue}if(c==="?"){o+=cre,t=!0;continue}o+=VCt(c)}return[o,(0,xW.unescape)(e),!!t,s]}};IW.AST=are});var lre=C(kW=>{"use strict";Object.defineProperty(kW,"__esModule",{value:!0});kW.escape=void 0;var GCt=(r,{windowsPathsNoEscape:e=!1}={})=>e?r.replace(/[?*()[\]]/g,"[$&]"):r.replace(/[?*()[\]\\]/g,"\\$&");kW.escape=GCt});var dre=C(_n=>{"use strict";var KCt=_n&&_n.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(_n,"__esModule",{value:!0});_n.unescape=_n.escape=_n.AST=_n.Minimatch=_n.match=_n.makeRe=_n.braceExpand=_n.defaults=_n.filter=_n.GLOBSTAR=_n.sep=_n.minimatch=void 0;var YCt=KCt(HLe()),AW=BLe(),XLe=ure(),JCt=lre(),XCt=PW(),QCt=(r,e,t={})=>((0,AW.assertValidPattern)(e),!t.nocomment&&e.charAt(0)==="#"?!1:new gE(e,t).match(r));_n.minimatch=QCt;var ZCt=/^\*+([^+@!?\*\[\(]*)$/,eTt=r=>e=>!e.startsWith(".")&&e.endsWith(r),tTt=r=>e=>e.endsWith(r),rTt=r=>(r=r.toLowerCase(),e=>!e.startsWith(".")&&e.toLowerCase().endsWith(r)),nTt=r=>(r=r.toLowerCase(),e=>e.toLowerCase().endsWith(r)),iTt=/^\*+\.\*+$/,oTt=r=>!r.startsWith(".")&&r.includes("."),sTt=r=>r!=="."&&r!==".."&&r.includes("."),aTt=/^\.\*+$/,cTt=r=>r!=="."&&r!==".."&&r.startsWith("."),uTt=/^\*+$/,lTt=r=>r.length!==0&&!r.startsWith("."),dTt=r=>r.length!==0&&r!=="."&&r!=="..",fTt=/^\?+([^+@!?\*\[\(]*)?$/,hTt=([r,e=""])=>{let t=QLe([r]);return e?(e=e.toLowerCase(),n=>t(n)&&n.toLowerCase().endsWith(e)):t},pTt=([r,e=""])=>{let t=ZLe([r]);return e?(e=e.toLowerCase(),n=>t(n)&&n.toLowerCase().endsWith(e)):t},mTt=([r,e=""])=>{let t=ZLe([r]);return e?n=>t(n)&&n.endsWith(e):t},gTt=([r,e=""])=>{let t=QLe([r]);return e?n=>t(n)&&n.endsWith(e):t},QLe=([r])=>{let e=r.length;return t=>t.length===e&&!t.startsWith(".")},ZLe=([r])=>{let e=r.length;return t=>t.length===e&&t!=="."&&t!==".."},eMe=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",YLe={win32:{sep:"\\"},posix:{sep:"/"}};_n.sep=eMe==="win32"?YLe.win32.sep:YLe.posix.sep;_n.minimatch.sep=_n.sep;_n.GLOBSTAR=Symbol("globstar **");_n.minimatch.GLOBSTAR=_n.GLOBSTAR;var vTt="[^/]",yTt=vTt+"*?",_Tt="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",bTt="(?:(?!(?:\\/|^)\\.).)*?",wTt=(r,e={})=>t=>(0,_n.minimatch)(t,r,e);_n.filter=wTt;_n.minimatch.filter=_n.filter;var Yv=(r,e={})=>Object.assign({},r,e),STt=r=>{if(!r||typeof r!="object"||!Object.keys(r).length)return _n.minimatch;let e=_n.minimatch;return Object.assign((n,i,o={})=>e(n,i,Yv(r,o)),{Minimatch:class extends e.Minimatch{constructor(i,o={}){super(i,Yv(r,o))}static defaults(i){return e.defaults(Yv(r,i)).Minimatch}},AST:class extends e.AST{constructor(i,o,s={}){super(i,o,Yv(r,s))}static fromGlob(i,o={}){return e.AST.fromGlob(i,Yv(r,o))}},unescape:(n,i={})=>e.unescape(n,Yv(r,i)),escape:(n,i={})=>e.escape(n,Yv(r,i)),filter:(n,i={})=>e.filter(n,Yv(r,i)),defaults:n=>e.defaults(Yv(r,n)),makeRe:(n,i={})=>e.makeRe(n,Yv(r,i)),braceExpand:(n,i={})=>e.braceExpand(n,Yv(r,i)),match:(n,i,o={})=>e.match(n,i,Yv(r,o)),sep:e.sep,GLOBSTAR:_n.GLOBSTAR})};_n.defaults=STt;_n.minimatch.defaults=_n.defaults;var CTt=(r,e={})=>((0,AW.assertValidPattern)(r),e.nobrace||!/\{(?:(?!\{).)*\}/.test(r)?[r]:(0,YCt.default)(r));_n.braceExpand=CTt;_n.minimatch.braceExpand=_n.braceExpand;var TTt=(r,e={})=>new gE(r,e).makeRe();_n.makeRe=TTt;_n.minimatch.makeRe=_n.makeRe;var DTt=(r,e,t={})=>{let n=new gE(e,t);return r=r.filter(i=>n.match(i)),n.options.nonull&&!r.length&&r.push(e),r};_n.match=DTt;_n.minimatch.match=_n.match;var JLe=/[?*]|[+@!]\(.*?\)|\[|\]/,ETt=r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),gE=class{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(e,t={}){(0,AW.assertValidPattern)(e),t=t||{},this.options=t,this.pattern=e,this.platform=t.platform||eMe,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!t.windowsPathsNoEscape||t.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!t.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!t.nonegate,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=t.windowsNoMagicRoot!==void 0?t.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let e of this.set)for(let t of e)if(typeof t!="string")return!0;return!1}debug(...e){}make(){let e=this.pattern,t=this.options;if(!t.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],t.debug&&(this.debug=(...o)=>console.error(...o)),this.debug(this.pattern,this.globSet);let n=this.globSet.map(o=>this.slashSplit(o));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let i=this.globParts.map((o,s,a)=>{if(this.isWindows&&this.windowsNoMagicRoot){let c=o[0]===""&&o[1]===""&&(o[2]==="?"||!JLe.test(o[2]))&&!JLe.test(o[3]),u=/^[a-z]:/i.test(o[0]);if(c)return[...o.slice(0,4),...o.slice(4).map(l=>this.parse(l))];if(u)return[o[0],...o.slice(1).map(l=>this.parse(l))]}return o.map(c=>this.parse(c))});if(this.debug(this.pattern,i),this.set=i.filter(o=>o.indexOf(!1)===-1),this.isWindows)for(let o=0;o<this.set.length;o++){let s=this.set[o];s[0]===""&&s[1]===""&&this.globParts[o][2]==="?"&&typeof s[3]=="string"&&/^[a-z]:$/i.test(s[3])&&(s[2]="?")}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar)for(let n=0;n<e.length;n++)for(let i=0;i<e[n].length;i++)e[n][i]==="**"&&(e[n][i]="*");let{optimizationLevel:t=1}=this.options;return t>=2?(e=this.firstPhasePreProcess(e),e=this.secondPhasePreProcess(e)):t>=1?e=this.levelOneOptimize(e):e=this.adjascentGlobstarOptimize(e),e}adjascentGlobstarOptimize(e){return e.map(t=>{let n=-1;for(;(n=t.indexOf("**",n+1))!==-1;){let i=n;for(;t[i+1]==="**";)i++;i!==n&&t.splice(n,i-n)}return t})}levelOneOptimize(e){return e.map(t=>(t=t.reduce((n,i)=>{let o=n[n.length-1];return i==="**"&&o==="**"?n:i===".."&&o&&o!==".."&&o!=="."&&o!=="**"?(n.pop(),n):(n.push(i),n)},[]),t.length===0?[""]:t))}levelTwoFileOptimize(e){Array.isArray(e)||(e=this.slashSplit(e));let t=!1;do{if(t=!1,!this.preserveMultipleSlashes){for(let i=1;i<e.length-1;i++){let o=e[i];i===1&&o===""&&e[0]===""||(o==="."||o==="")&&(t=!0,e.splice(i,1),i--)}e[0]==="."&&e.length===2&&(e[1]==="."||e[1]==="")&&(t=!0,e.pop())}let n=0;for(;(n=e.indexOf("..",n+1))!==-1;){let i=e[n-1];i&&i!=="."&&i!==".."&&i!=="**"&&(t=!0,e.splice(n-1,2),n-=2)}}while(t);return e.length===0?[""]:e}firstPhasePreProcess(e){let t=!1;do{t=!1;for(let n of e){let i=-1;for(;(i=n.indexOf("**",i+1))!==-1;){let s=i;for(;n[s+1]==="**";)s++;s>i&&n.splice(i+1,s-i);let a=n[i+1],c=n[i+2],u=n[i+3];if(a!==".."||!c||c==="."||c===".."||!u||u==="."||u==="..")continue;t=!0,n.splice(i,1);let l=n.slice(0);l[i]="**",e.push(l),i--}if(!this.preserveMultipleSlashes){for(let s=1;s<n.length-1;s++){let a=n[s];s===1&&a===""&&n[0]===""||(a==="."||a==="")&&(t=!0,n.splice(s,1),s--)}n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")&&(t=!0,n.pop())}let o=0;for(;(o=n.indexOf("..",o+1))!==-1;){let s=n[o-1];if(s&&s!=="."&&s!==".."&&s!=="**"){t=!0;let c=o===1&&n[o+1]==="**"?["."]:[];n.splice(o-1,2,...c),n.length===0&&n.push(""),o-=2}}}}while(t);return e}secondPhasePreProcess(e){for(let t=0;t<e.length-1;t++)for(let n=t+1;n<e.length;n++){let i=this.partsMatch(e[t],e[n],!this.preserveMultipleSlashes);if(i){e[t]=[],e[n]=i;break}}return e.filter(t=>t.length)}partsMatch(e,t,n=!1){let i=0,o=0,s=[],a="";for(;i<e.length&&o<t.length;)if(e[i]===t[o])s.push(a==="b"?t[o]:e[i]),i++,o++;else if(n&&e[i]==="**"&&t[o]===e[i+1])s.push(e[i]),i++;else if(n&&t[o]==="**"&&e[i]===t[o+1])s.push(t[o]),o++;else if(e[i]==="*"&&t[o]&&(this.options.dot||!t[o].startsWith("."))&&t[o]!=="**"){if(a==="b")return!1;a="a",s.push(e[i]),i++,o++}else if(t[o]==="*"&&e[i]&&(this.options.dot||!e[i].startsWith("."))&&e[i]!=="**"){if(a==="a")return!1;a="b",s.push(t[o]),i++,o++}else return!1;return e.length===t.length&&s}parseNegate(){if(this.nonegate)return;let e=this.pattern,t=!1,n=0;for(let i=0;i<e.length&&e.charAt(i)==="!";i++)t=!t,n++;n&&(this.pattern=e.slice(n)),this.negate=t}matchOne(e,t,n=!1){let i=this.options;if(this.isWindows){let D=typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0]),P=!D&&e[0]===""&&e[1]===""&&e[2]==="?"&&/^[a-z]:$/i.test(e[3]),M=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),A=!M&&t[0]===""&&t[1]===""&&t[2]==="?"&&typeof t[3]=="string"&&/^[a-z]:$/i.test(t[3]),U=P?3:D?0:void 0,ne=A?3:M?0:void 0;if(typeof U=="number"&&typeof ne=="number"){let[pe,ve]=[e[U],t[ne]];pe.toLowerCase()===ve.toLowerCase()&&(t[ne]=pe,ne>U?t=t.slice(ne):U>ne&&(e=e.slice(U)))}}let{optimizationLevel:o=1}=this.options;o>=2&&(e=this.levelTwoFileOptimize(e)),this.debug("matchOne",this,{file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var s=0,a=0,c=e.length,u=t.length;s<c&&a<u;s++,a++){this.debug("matchOne loop");var l=t[a],d=e[s];if(this.debug(t,l,d),l===!1)return!1;if(l===_n.GLOBSTAR){this.debug("GLOBSTAR",[t,l,d]);var f=s,p=a+1;if(p===u){for(this.debug("** at the end");s<c;s++)if(e[s]==="."||e[s]===".."||!i.dot&&e[s].charAt(0)===".")return!1;return!0}for(;f<c;){var _=e[f];if(this.debug(`
globstar while`,e,f,t,p,_),this.matchOne(e.slice(f),t.slice(p),n))return this.debug("globstar found match!",f,c,_),!0;if(_==="."||_===".."||!i.dot&&_.charAt(0)==="."){this.debug("dot detected!",e,f,t,p);break}this.debug("globstar swallow a segment, and continue"),f++}return!!(n&&(this.debug(`
>>> no match, partial?`,e,f,t,p),f===c))}let D;if(typeof l=="string"?(D=d===l,this.debug("string match",l,d,D)):(D=l.test(d),this.debug("pattern match",l,d,D)),!D)return!1}if(s===c&&a===u)return!0;if(s===c)return n;if(a===u)return s===c-1&&e[s]==="";throw new Error("wtf?")}braceExpand(){return(0,_n.braceExpand)(this.pattern,this.options)}parse(e){(0,AW.assertValidPattern)(e);let t=this.options;if(e==="**")return _n.GLOBSTAR;if(e==="")return"";let n,i=null;(n=e.match(uTt))?i=t.dot?dTt:lTt:(n=e.match(ZCt))?i=(t.nocase?t.dot?nTt:rTt:t.dot?tTt:eTt)(n[1]):(n=e.match(fTt))?i=(t.nocase?t.dot?pTt:hTt:t.dot?mTt:gTt)(n):(n=e.match(iTt))?i=t.dot?sTt:oTt:(n=e.match(aTt))&&(i=cTt);let o=XLe.AST.fromGlob(e,this.options).toMMPattern();return i&&typeof o=="object"&&Reflect.defineProperty(o,"test",{value:i}),o}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let t=this.options,n=t.noglobstar?yTt:t.dot?_Tt:bTt,i=new Set(t.nocase?["i"]:[]),o=e.map(c=>{let u=c.map(l=>{if(l instanceof RegExp)for(let d of l.flags.split(""))i.add(d);return typeof l=="string"?ETt(l):l===_n.GLOBSTAR?_n.GLOBSTAR:l._src});return u.forEach((l,d)=>{let f=u[d+1],p=u[d-1];l!==_n.GLOBSTAR||p===_n.GLOBSTAR||(p===void 0?f!==void 0&&f!==_n.GLOBSTAR?u[d+1]="(?:\\/|"+n+"\\/)?"+f:u[d]=n:f===void 0?u[d-1]=p+"(?:\\/|"+n+")?":f!==_n.GLOBSTAR&&(u[d-1]=p+"(?:\\/|\\/"+n+"\\/)"+f,u[d+1]=_n.GLOBSTAR))}),u.filter(l=>l!==_n.GLOBSTAR).join("/")}).join("|"),[s,a]=e.length>1?["(?:",")"]:["",""];o="^"+s+o+a+"$",this.negate&&(o="^(?!"+o+").+$");try{this.regexp=new RegExp(o,[...i].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(e){return this.preserveMultipleSlashes?e.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(e)?["",...e.split(/\/+/)]:e.split(/\/+/)}match(e,t=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&t)return!0;let n=this.options;this.isWindows&&(e=e.split("\\").join("/"));let i=this.slashSplit(e);this.debug(this.pattern,"split",i);let o=this.set;this.debug(this.pattern,"set",o);let s=i[i.length-1];if(!s)for(let a=i.length-2;!s&&a>=0;a--)s=i[a];for(let a=0;a<o.length;a++){let c=o[a],u=i;if(n.matchBase&&c.length===1&&(u=[s]),this.matchOne(u,c,t))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(e){return _n.minimatch.defaults(e).Minimatch}};_n.Minimatch=gE;var RTt=ure();Object.defineProperty(_n,"AST",{enumerable:!0,get:function(){return RTt.AST}});var PTt=lre();Object.defineProperty(_n,"escape",{enumerable:!0,get:function(){return PTt.escape}});var xTt=PW();Object.defineProperty(_n,"unescape",{enumerable:!0,get:function(){return xTt.unescape}});_n.minimatch.AST=XLe.AST;_n.minimatch.Minimatch=gE;_n.minimatch.escape=JCt.escape;_n.minimatch.unescape=XCt.unescape});var fre=C(jS=>{"use strict";var OTt=jS&&jS.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ITt=jS&&jS.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),kTt=jS&&jS.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&OTt(t,e,n[i]);return ITt(t,e),t}}();Object.defineProperty(jS,"__esModule",{value:!0});jS.matchGlobPattern=MTt;var ATt=kTt(dre()),LTt=require("vscode");function MTt(r,e){let t;if(typeof r=="string")t=r.replace(/\\/g,"/");else try{let i=LTt.Uri.parse(typeof r.baseUri=="string"?r.baseUri:r.baseUri.uri);t=i.with({path:i.path+"/"+r.pattern}).fsPath.replace(/\\/g,"/")}catch{return!1}let n=new ATt.Minimatch(t,{noext:!0});return n.makeRe()?n.match(e.fsPath):!1}});var MW=C(fD=>{"use strict";Object.defineProperty(fD,"__esModule",{value:!0});fD.DiagnosticFeature=fD.DiagnosticPullMode=fD.vsdiag=void 0;var bc=require("vscode"),Ga=en(),NTt=Va(),FTt=fre(),hre=Mo();function LW(r,e){return r[e]===void 0&&(r[e]={}),r[e]}var Jv;(function(r){let e;(function(t){t.full="full",t.unChanged="unChanged"})(e=r.DocumentDiagnosticReportKind||(r.DocumentDiagnosticReportKind={}))})(Jv||(fD.vsdiag=Jv={}));var GM;(function(r){r.onType="onType",r.onSave="onSave",r.onFocus="onFocus"})(GM||(fD.DiagnosticPullMode=GM={}));var ph;(function(r){r.active="open",r.reschedule="reschedule",r.outDated="drop"})(ph||(ph={}));var Rd;(function(r){r[r.document=1]="document",r[r.workspace=2]="workspace"})(Rd||(Rd={}));var zS;(function(r){function e(t){return t instanceof bc.Uri?t.toString():t.uri.toString()}r.asKey=e})(zS||(zS={}));var pre=class{documentPullStates;workspacePullStates;constructor(){this.documentPullStates=new Map,this.workspacePullStates=new Map}track(e,t,n){let i=e===Rd.document?this.documentPullStates:this.workspacePullStates,[o,s,a]=t instanceof bc.Uri?[t.toString(),t,n]:[t.uri.toString(),t.uri,t.version],c=i.get(o);return c===void 0&&(c={document:s,pulledVersion:a,resultId:void 0},i.set(o,c)),c}update(e,t,n,i){let o=e===Rd.document?this.documentPullStates:this.workspacePullStates,[s,a,c,u]=t instanceof bc.Uri?[t.toString(),t,n,i]:[t.uri.toString(),t.uri,t.version,n],l=o.get(s);l===void 0?(l={document:a,pulledVersion:c,resultId:u},o.set(s,l)):(l.pulledVersion=c,l.resultId=u)}unTrack(e,t){let n=zS.asKey(t);(e===Rd.document?this.documentPullStates:this.workspacePullStates).delete(n)}tracks(e,t){let n=zS.asKey(t);return(e===Rd.document?this.documentPullStates:this.workspacePullStates).has(n)}getResultId(e,t){let n=zS.asKey(t);return(e===Rd.document?this.documentPullStates:this.workspacePullStates).get(n)?.resultId}getAllResultIds(){let e=[];for(let[t,n]of this.workspacePullStates)this.documentPullStates.has(t)&&(n=this.documentPullStates.get(t)),n.resultId!==void 0&&e.push({uri:t,value:n.resultId});return e}},mre=class{isDisposed;client;tabs;options;onDidChangeDiagnosticsEmitter;provider;diagnostics;openRequests;documentStates;workspaceErrorCounter;workspaceCancellation;workspaceTimeout;constructor(e,t,n){this.client=e,this.tabs=t,this.options=n,this.isDisposed=!1,this.onDidChangeDiagnosticsEmitter=new bc.EventEmitter,this.provider=this.createProvider(),this.diagnostics=bc.languages.createDiagnosticCollection(n.identifier),this.openRequests=new Map,this.documentStates=new pre,this.workspaceErrorCounter=0}knows(e,t){let n=t instanceof bc.Uri?t:t.uri;return this.documentStates.tracks(e,t)||this.openRequests.has(n.toString())}forget(e,t){this.documentStates.unTrack(e,t)}pull(e,t){if(this.isDisposed)return;let n=e instanceof bc.Uri?e:e.uri;this.pullAsync(e).then(()=>{t&&t()},i=>{this.client.error(`Document pull failed for text document ${n.toString()}`,i,!1)})}async pullAsync(e,t){if(this.isDisposed)return;let n=e instanceof bc.Uri,i=n?e:e.uri,o=i.toString();t=n?t:e.version;let s=this.openRequests.get(o),a=n?this.documentStates.track(Rd.document,e,t):this.documentStates.track(Rd.document,e);if(s===void 0){let c=new bc.CancellationTokenSource;this.openRequests.set(o,{state:ph.active,document:e,version:t,tokenSource:c});let u,l;try{u=await this.provider.provideDiagnostics(e,a.resultId,c.token)??{kind:Jv.DocumentDiagnosticReportKind.full,items:[]}}catch(d){if(d instanceof hre.LSPCancellationError&&Ga.DiagnosticServerCancellationData.is(d.data)&&d.data.retriggerRequest===!1&&(l={state:ph.outDated,document:e}),l===void 0&&d instanceof bc.CancellationError)l={state:ph.reschedule,document:e};else throw d}if(l=l??this.openRequests.get(o),l===void 0){this.client.error(`Lost request state in diagnostic pull model. Clearing diagnostics for ${o}`),this.diagnostics.delete(i);return}if(this.openRequests.delete(o),!this.tabs.isVisible(e)){this.documentStates.unTrack(Rd.document,e);return}if(l.state===ph.outDated)return;u!==void 0&&(u.kind===Jv.DocumentDiagnosticReportKind.full&&this.diagnostics.set(i,u.items),a.pulledVersion=t,a.resultId=u.resultId),l.state===ph.reschedule&&this.pull(e)}else s.state===ph.active?(s.tokenSource.cancel(),this.openRequests.set(o,{state:ph.reschedule,document:s.document})):s.state===ph.outDated&&this.openRequests.set(o,{state:ph.reschedule,document:s.document})}forgetDocument(e){let t=e instanceof bc.Uri?e:e.uri,n=t.toString(),i=this.openRequests.get(n);this.options.workspaceDiagnostics?i!==void 0?this.openRequests.set(n,{state:ph.reschedule,document:e}):this.pull(e,()=>{this.forget(Rd.document,e)}):(i!==void 0&&(i.state===ph.active&&i.tokenSource.cancel(),this.openRequests.set(n,{state:ph.outDated,document:e})),this.diagnostics.delete(t),this.forget(Rd.document,e))}pullWorkspace(){this.isDisposed||this.pullWorkspaceAsync().then(()=>{this.workspaceTimeout=(0,Ga.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3)},e=>{!(e instanceof hre.LSPCancellationError)&&!Ga.DiagnosticServerCancellationData.is(e.data)&&(this.client.error("Workspace diagnostic pull failed.",e,!1),this.workspaceErrorCounter++),this.workspaceErrorCounter<=5&&(this.workspaceTimeout=(0,Ga.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3))})}async pullWorkspaceAsync(){if(!this.provider.provideWorkspaceDiagnostics||this.isDisposed)return;this.workspaceCancellation!==void 0&&(this.workspaceCancellation.cancel(),this.workspaceCancellation=void 0),this.workspaceCancellation=new bc.CancellationTokenSource;let e=this.documentStates.getAllResultIds().map(t=>({uri:this.client.protocol2CodeConverter.asUri(t.uri),value:t.value}));await this.provider.provideWorkspaceDiagnostics(e,this.workspaceCancellation.token,t=>{if(!(!t||this.isDisposed))for(let n of t.items)n.kind===Jv.DocumentDiagnosticReportKind.full&&(this.documentStates.tracks(Rd.document,n.uri)||this.diagnostics.set(n.uri,n.items)),this.documentStates.update(Rd.workspace,n.uri,n.version??void 0,n.resultId)})}createProvider(){let e={onDidChangeDiagnostics:this.onDidChangeDiagnosticsEmitter.event,provideDiagnostics:(t,n,i)=>{let o=(a,c,u)=>{let l={identifier:this.options.identifier,textDocument:{uri:this.client.code2ProtocolConverter.asUri(a instanceof bc.Uri?a:a.uri)},previousResultId:c};return this.isDisposed===!0||!this.client.isRunning()?{kind:Jv.DocumentDiagnosticReportKind.full,items:[]}:this.client.sendRequest(Ga.DocumentDiagnosticRequest.type,l,u).then(async d=>d==null||this.isDisposed||u.isCancellationRequested?{kind:Jv.DocumentDiagnosticReportKind.full,items:[]}:d.kind===Ga.DocumentDiagnosticReportKind.Full?{kind:Jv.DocumentDiagnosticReportKind.full,resultId:d.resultId,items:await this.client.protocol2CodeConverter.asDiagnostics(d.items,u)}:{kind:Jv.DocumentDiagnosticReportKind.unChanged,resultId:d.resultId},d=>this.client.handleFailedRequest(Ga.DocumentDiagnosticRequest.type,u,d,{kind:Jv.DocumentDiagnosticReportKind.full,items:[]},!0,!0))},s=this.client.middleware;return s.provideDiagnostics?s.provideDiagnostics(t,n,i,o):o(t,n,i)}};return this.options.workspaceDiagnostics&&(e.provideWorkspaceDiagnostics=(t,n,i)=>{let o=async u=>u.kind===Ga.DocumentDiagnosticReportKind.Full?{kind:Jv.DocumentDiagnosticReportKind.full,uri:this.client.protocol2CodeConverter.asUri(u.uri),resultId:u.resultId,version:u.version,items:await this.client.protocol2CodeConverter.asDiagnostics(u.items,n)}:{kind:Jv.DocumentDiagnosticReportKind.unChanged,uri:this.client.protocol2CodeConverter.asUri(u.uri),resultId:u.resultId,version:u.version},s=u=>{let l=[];for(let d of u)l.push({uri:this.client.code2ProtocolConverter.asUri(d.uri),value:d.value});return l},a=(u,l,d)=>{let f=(0,NTt.generateUuid)(),p=this.client.onProgress(Ga.WorkspaceDiagnosticRequest.partialResult,f,async D=>{if(D==null){d(null);return}let P={items:[]};for(let M of D.items)try{P.items.push(await o(M))}catch(A){this.client.error("Converting workspace diagnostics failed.",A)}d(P)}),_={identifier:this.options.identifier,previousResultIds:s(u),partialResultToken:f};return this.isDisposed===!0||!this.client.isRunning()?{items:[]}:this.client.sendRequest(Ga.WorkspaceDiagnosticRequest.type,_,l).then(async D=>{if(l.isCancellationRequested)return{items:[]};let P={items:[]};for(let M of D.items)P.items.push(await o(M));return p.dispose(),d(P),{items:[]}},D=>(p.dispose(),this.client.handleFailedRequest(Ga.DocumentDiagnosticRequest.type,l,D,{items:[]})))},c=this.client.middleware;return c.provideWorkspaceDiagnostics?c.provideWorkspaceDiagnostics(t,n,i,a):a(t,n,i)}),e}dispose(){this.isDisposed=!0,this.workspaceCancellation?.cancel(),this.workspaceTimeout?.dispose();for(let[e,t]of this.openRequests)t.state===ph.active&&t.tokenSource.cancel(),this.openRequests.set(e,{state:ph.outDated,document:t.document});this.diagnostics.dispose()}},gre=class{client;diagnosticRequestor;lastDocumentToPull;documents;timeoutHandle;isDisposed;constructor(e,t){this.client=e,this.diagnosticRequestor=t,this.documents=new Ga.LinkedMap,this.isDisposed=!1}add(e){if(this.isDisposed===!0)return;let t=zS.asKey(e);this.documents.has(t)||(this.documents.set(t,e,Ga.Touch.Last),this.lastDocumentToPull=e)}remove(e){let t=zS.asKey(e);if(this.documents.delete(t),this.documents.size===0){this.stop();return}else if(t===this.lastDocumentToPullKey()){let n=this.documents.before(t);n===void 0?this.stop():this.lastDocumentToPull=n}}trigger(){this.lastDocumentToPull=this.documents.last,this.runLoop()}runLoop(){if(this.isDisposed!==!0){if(this.documents.size===0){this.stop();return}this.lastDocumentToPull!==void 0&&this.timeoutHandle===void 0&&(this.timeoutHandle=(0,Ga.RAL)().timer.setTimeout(()=>{let e=this.documents.first;if(e===void 0)return;let t=zS.asKey(e);this.diagnosticRequestor.pullAsync(e).catch(n=>{this.client.error(`Document pull failed for text document ${t}`,n,!1)}).finally(()=>{this.timeoutHandle=void 0,this.documents.set(t,e,Ga.Touch.Last),t!==this.lastDocumentToPullKey()&&this.runLoop()})},500))}}dispose(){this.isDisposed=!0,this.stop(),this.documents.clear(),this.lastDocumentToPull=void 0}stop(){this.timeoutHandle?.dispose(),this.timeoutHandle=void 0,this.lastDocumentToPull=void 0}lastDocumentToPullKey(){return this.lastDocumentToPull!==void 0?zS.asKey(this.lastDocumentToPull):void 0}},vre=class{disposable;diagnosticRequestor;activeTextDocument;backgroundScheduler;constructor(e,t,n){let i=Object.assign({onChange:!1,onSave:!1,onFocus:!1},e.clientOptions.diagnosticPullOptions),o=e.protocol2CodeConverter.asDocumentSelector(n.documentSelector),s=[],a=(A,U)=>!(typeof A=="string"||A.language!==void 0&&A.language!=="*"||A.scheme!==void 0&&A.scheme!=="*"&&A.scheme!==U.scheme||A.pattern!==void 0&&!(0,FTt.matchGlobPattern)(A.pattern,U)),c=A=>{let U=n.documentSelector;if(i.match!==void 0)return i.match(U,A);for(let ne of U)if(Ga.TextDocumentFilter.is(ne)&&a(ne,A))return!0;return!1},u=A=>A instanceof bc.Uri?c(A):bc.languages.match(o,A)>0&&t.isVisible(A),l=A=>bc.languages.match(o,A.document)>0&&t.isVisible(A.notebook.uri),d=A=>A instanceof bc.Uri?this.activeTextDocument?.uri.toString()===A.toString():this.activeTextDocument===A;this.diagnosticRequestor=new mre(e,t,n),this.backgroundScheduler=new gre(e,this.diagnosticRequestor);let f=A=>{!u(A)||!n.interFileDependencies||d(A)||i.onChange===!1||this.backgroundScheduler.add(A)},p=(A,U)=>(i.filter===void 0||!i.filter(A,U))&&this.diagnosticRequestor.knows(Rd.document,A);this.activeTextDocument=bc.window.activeTextEditor?.document,s.push(bc.window.onDidChangeActiveTextEditor(A=>{let U=this.activeTextDocument;this.activeTextDocument=A?.document,U!==void 0&&f(U),this.activeTextDocument!==void 0&&(this.backgroundScheduler.remove(this.activeTextDocument),i.onFocus===!0&&u(this.activeTextDocument)&&p(this.activeTextDocument,GM.onFocus)&&this.diagnosticRequestor.pull(this.activeTextDocument))}));let _=e.getFeature(Ga.DidOpenTextDocumentNotification.method);s.push(_.onNotificationSent(A=>{let U=A.textDocument;this.diagnosticRequestor.knows(Rd.document,U)||u(U)&&this.diagnosticRequestor.pull(U,()=>{f(U)})}));let D=e.getFeature(Ga.NotebookDocumentSyncRegistrationType.method);s.push(D.onOpenNotificationSent(A=>{for(let U of A.getCells())l(U)&&this.diagnosticRequestor.pull(U.document,()=>{f(U.document)})})),s.push(t.onOpen(A=>{for(let U of A){if(this.diagnosticRequestor.knows(Rd.document,U))continue;let ne=U.toString(),pe;for(let ve of bc.workspace.textDocuments)if(ne===ve.uri.toString()){pe=ve;break}pe!==void 0&&u(pe)&&this.diagnosticRequestor.pull(pe,()=>{f(pe)})}}));let P=new Set;for(let A of bc.workspace.textDocuments)u(A)&&(this.diagnosticRequestor.pull(A,()=>{f(A)}),P.add(A.uri.toString()));for(let A of bc.workspace.notebookDocuments)for(let U of A.getCells())l(U)&&(this.diagnosticRequestor.pull(U.document,()=>{f(U.document)}),P.add(U.document.uri.toString()));if(i.onTabs===!0)for(let A of t.getTabResources())!P.has(A.toString())&&u(A)&&this.diagnosticRequestor.pull(A,()=>{f(A)});if(i.onChange===!0){let A=e.getFeature(Ga.DidChangeTextDocumentNotification.method);s.push(A.onNotificationSent(async U=>{let ne=U.textDocument;p(ne,GM.onType)&&this.diagnosticRequestor.pull(ne,()=>{this.backgroundScheduler.trigger()})})),s.push(D.onChangeNotificationSent(async U=>{let pe=(U.cells?.textContent||[]).map(W=>U.notebook.getCells().find(ee=>ee.document.uri.toString()===W.document.uri.toString()));for(let W of pe)W&&l(W)&&this.diagnosticRequestor.pull(W.document,()=>{this.backgroundScheduler.trigger()});let ve=U.cells?.structure?.didClose||[];for(let W of ve)this.diagnosticRequestor.forgetDocument(W.document);let V=U.cells?.structure?.didOpen||[];for(let W of V)l(W)&&this.diagnosticRequestor.pull(W.document,()=>{this.backgroundScheduler.trigger()})}))}if(i.onSave===!0){let A=e.getFeature(Ga.DidSaveTextDocumentNotification.method);s.push(A.onNotificationSent(U=>{let ne=U.textDocument;p(ne,GM.onSave)&&this.diagnosticRequestor.pull(U.textDocument)})),s.push(D.onSaveNotificationSent(U=>{for(let ne of U.getCells())l(ne)&&this.diagnosticRequestor.pull(ne.document)}))}let M=e.getFeature(Ga.DidCloseTextDocumentNotification.method);s.push(M.onNotificationSent(A=>{this.cleanUpDocument(A.textDocument)})),s.push(D.onCloseNotificationSent(A=>{for(let U of A.getCells())this.cleanUpDocument(U.document)})),t.onClose(A=>{for(let U of A)this.cleanUpDocument(U)}),this.diagnosticRequestor.onDidChangeDiagnosticsEmitter.event(()=>{for(let A of bc.workspace.textDocuments)u(A)&&this.diagnosticRequestor.pull(A)}),n.workspaceDiagnostics===!0&&n.identifier!=="da348dc5-c30a-4515-9d98-31ff3be38d14"&&this.diagnosticRequestor.pullWorkspace(),this.disposable=bc.Disposable.from(...s,this.backgroundScheduler,this.diagnosticRequestor)}get onDidChangeDiagnosticsEmitter(){return this.diagnosticRequestor.onDidChangeDiagnosticsEmitter}get diagnostics(){return this.diagnosticRequestor.provider}forget(e){this.cleanUpDocument(e)}cleanUpDocument(e){this.backgroundScheduler.remove(e),this.diagnosticRequestor.knows(Rd.document,e)&&this.diagnosticRequestor.forgetDocument(e)}},yre=class extends hre.TextDocumentLanguageFeature{constructor(e){super(e,Ga.DocumentDiagnosticRequest.type)}fillClientCapabilities(e){let t=LW(LW(e,"textDocument"),"diagnostic");t.relatedInformation=!0,t.tagSupport={valueSet:[Ga.DiagnosticTag.Unnecessary,Ga.DiagnosticTag.Deprecated]},t.codeDescriptionSupport=!0,t.dataSupport=!0,t.dynamicRegistration=!0,t.relatedDocumentSupport=!1,LW(LW(e,"workspace"),"diagnostics").refreshSupport=!0}initialize(e,t){this._client.onRequest(Ga.DiagnosticRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeDiagnosticsEmitter.fire()});let[i,o]=this.getRegistration(t,e.diagnosticProvider);!i||!o||this.register({id:i,registerOptions:o})}clear(){super.clear()}refresh(){for(let e of this.getAllProviders())e.onDidChangeDiagnosticsEmitter.fire()}registerLanguageProvider(e){let t=new vre(this._client,this._client.tabsModel,e);return[t.disposable,t]}};fD.DiagnosticFeature=yre});var wre=C(kb=>{"use strict";var qTt=kb&&kb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),jTt=kb&&kb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),jW=kb&&kb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&qTt(t,e,n[i]);return jTt(t,e),t}}();Object.defineProperty(kb,"__esModule",{value:!0});kb.NotebookDocumentSyncFeature=void 0;var wc=jW(require("vscode")),US=jW(en()),zTt=jW(Va()),tMe=jW(Gv()),UTt=fre();function rMe(r,e){return r[e]===void 0&&(r[e]={}),r[e]}var Wx;(function(r){let e;(function(t){function n(f,p){return{version:f.version,uri:p.asUri(f.uri)}}t.asVersionedNotebookDocumentIdentifier=n;function i(f,p,_){let D=US.NotebookDocument.create(_.asUri(f.uri),f.notebookType,f.version,o(p,_));return Object.keys(f.metadata).length>0&&(D.metadata=s(f.metadata)),D}t.asNotebookDocument=i;function o(f,p){return f.map(_=>a(_,p))}t.asNotebookCells=o;function s(f){return u(new Set,f)}t.asMetadata=s;function a(f,p){let _=US.NotebookCell.create(c(f.kind),p.asUri(f.document.uri));return Object.keys(f.metadata).length>0&&(_.metadata=s(f.metadata)),f.executionSummary!==void 0&&tMe.number(f.executionSummary.executionOrder)&&tMe.boolean(f.executionSummary.success)&&(_.executionSummary={executionOrder:f.executionSummary.executionOrder,success:f.executionSummary.success}),_}t.asNotebookCell=a;function c(f){switch(f){case wc.NotebookCellKind.Markup:return US.NotebookCellKind.Markup;case wc.NotebookCellKind.Code:return US.NotebookCellKind.Code}}function u(f,p){if(f.has(p))throw new Error("Can't deep copy cyclic structures.");if(Array.isArray(p)){let _=[];for(let D of p)if(D!==null&&typeof D=="object"||Array.isArray(D))_.push(u(f,D));else{if(D instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");_.push(D)}return _}else{let _=Object.keys(p),D=Object.create(null);for(let P of _){let M=p[P];if(M!==null&&typeof M=="object"||Array.isArray(M))D[P]=u(f,M);else{if(M instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");D[P]=M}}return D}}function l(f,p){let _=p.asChangeTextDocumentParams(f,f.document.uri,f.document.version);return{document:_.textDocument,changes:_.contentChanges}}t.asTextContentChange=l;function d(f,p){let _=Object.create(null);if(f.metadata&&(_.metadata=r.c2p.asMetadata(f.metadata)),f.cells!==void 0){let D=Object.create(null),P=f.cells;P.structure&&(D.structure={array:{start:P.structure.array.start,deleteCount:P.structure.array.deleteCount,cells:P.structure.array.cells!==void 0?P.structure.array.cells.map(M=>r.c2p.asNotebookCell(M,p)):void 0},didOpen:P.structure.didOpen!==void 0?P.structure.didOpen.map(M=>p.asOpenTextDocumentParams(M.document).textDocument):void 0,didClose:P.structure.didClose!==void 0?P.structure.didClose.map(M=>p.asCloseTextDocumentParams(M.document).textDocument):void 0}),P.data!==void 0&&(D.data=P.data.map(M=>r.c2p.asNotebookCell(M,p))),P.textContent!==void 0&&(D.textContent=P.textContent.map(M=>r.c2p.asTextContentChange(M,p))),Object.keys(D).length>0&&(_.cells=D)}return _}t.asNotebookDocumentChangeEvent=d})(e=r.c2p||(r.c2p={}))})(Wx||(Wx={}));var _re;(function(r){function e(a,c,u){let l=a.length,d=c.length,f=0;for(;f<d&&f<l&&t(a[f],c[f],u);)f++;if(f<d&&f<l){let p=l-1,_=d-1;for(;p>=0&&_>=0&&t(a[p],c[_],u);)p--,_--;let D=p+1-f,P=f===_+1?void 0:c.slice(f,_+1);return P!==void 0?{start:f,deleteCount:D,cells:P}:{start:f,deleteCount:D}}else return f<d?{start:f,deleteCount:0,cells:c.slice(f)}:f<l?{start:f,deleteCount:l-f}:void 0}r.computeDiff=e;function t(a,c,u=!0){return a.kind!==c.kind||a.document.uri.toString()!==c.document.uri.toString()||a.document.languageId!==c.document.languageId||!n(a.executionSummary,c.executionSummary)?!1:!u||u&&o(a.metadata,c.metadata)}function n(a,c){return a===c?!0:a===void 0||c===void 0?!1:a.executionOrder===c.executionOrder&&a.success===c.success&&i(a.timing,c.timing)}function i(a,c){return a===c?!0:a===void 0||c===void 0?!1:a.startTime===c.startTime&&a.endTime===c.endTime}function o(a,c){if(a===c)return!0;if(a==null||c===null||c===void 0||typeof a!=typeof c||typeof a!="object")return!1;let u=Array.isArray(a),l=Array.isArray(c);if(u!==l)return!1;if(u&&l){if(a.length!==c.length)return!1;for(let d=0;d<a.length;d++)if(!o(a[d],c[d]))return!1}if(s(a)&&s(c)){let d=Object.keys(a),f=Object.keys(c);if(d.length!==f.length||(d.sort(),f.sort(),!o(d,f)))return!1;for(let p=0;p<d.length;p++){let _=d[p];if(!o(a[_],c[_]))return!1}return!0}return!1}function s(a){return a!==null&&typeof a=="object"}r.isObjectLiteral=s})(_re||(_re={}));var NW;(function(r){function e(t,n){if(typeof t=="string")return t==="*"||n.notebookType===t;if(t.notebookType!==void 0&&t.notebookType!=="*"&&n.notebookType!==t.notebookType)return!1;let i=n.uri;return!(t.scheme!==void 0&&t.scheme!=="*"&&i.scheme!==t.scheme||t.pattern!==void 0&&!(0,UTt.matchGlobPattern)(t.pattern,i))}r.matchNotebook=e})(NW||(NW={}));var FW;(function(r){function e(n){let i=n.notebookSelector,o=[];for(let s of i){let a=(typeof s.notebook=="string"?s.notebook:s.notebook?.notebookType)??"*",c=typeof s.notebook=="string"?void 0:s.notebook?.scheme,u=typeof s.notebook=="string"?void 0:s.notebook?.pattern;if(s.cells!==void 0)for(let l of s.cells)o.push(t(a,c,u,l.language));else o.push(t(a,c,u,void 0))}return o}r.asDocumentSelector=e;function t(n,i,o,s){return i===void 0&&o===void 0?{notebook:n,language:s}:{notebook:{notebookType:n,scheme:i,pattern:o},language:s}}})(FW||(FW={}));var qW;(function(r){function e(t){return{cells:t,uris:new Set(t.map(n=>n.document.uri.toString()))}}r.create=e})(qW||(qW={}));var $x=class{client;options;notebookSyncInfo;notebookDidOpen;disposables;selector;onChangeNotificationSent;onOpenNotificationSent;onCloseNotificationSent;onSaveNotificationSent;constructor(e,t,n,i,o,s){this.client=e,this.options=t,this.notebookSyncInfo=new Map,this.notebookDidOpen=new Set,this.disposables=[],this.selector=e.protocol2CodeConverter.asDocumentSelector(FW.asDocumentSelector(t)),this.onChangeNotificationSent=n,this.onOpenNotificationSent=i,this.onCloseNotificationSent=o,this.onSaveNotificationSent=s,wc.workspace.onDidOpenNotebookDocument(a=>{this.notebookDidOpen.add(a.uri.toString()),this.didOpen(a)},void 0,this.disposables);for(let a of wc.workspace.notebookDocuments)this.notebookDidOpen.add(a.uri.toString()),this.didOpen(a);wc.workspace.onDidChangeNotebookDocument(a=>this.didChangeNotebookDocument(a),void 0,this.disposables),this.options.save===!0&&wc.workspace.onDidSaveNotebookDocument(a=>this.didSave(a),void 0,this.disposables),wc.workspace.onDidCloseNotebookDocument(a=>{this.didClose(a),this.notebookDidOpen.delete(a.uri.toString())},void 0,this.disposables)}getState(){for(let e of wc.workspace.notebookDocuments)if(this.getMatchingCellsConsideringSyncInfo(e)!==void 0)return{kind:"document",id:"$internal",registrations:!0,matches:!0};return{kind:"document",id:"$internal",registrations:!0,matches:!1}}get mode(){return"notebook"}handles(e){if(wc.languages.match(this.selector,e)>0)return!0;let t=e.uri.toString();for(let n of this.notebookSyncInfo.values())if(n.uris.has(t))return!0;return!1}didOpenNotebookCellTextDocument(e,t){if(wc.languages.match(this.selector,t.document)===0||!this.notebookDidOpen.has(e.uri.toString()))return;let n=this.getSyncInfo(e),i=this.cellMatches(e,t);if(n!==void 0){let o=n.uris.has(t.document.uri.toString());if(i&&o||!i&&!o)return;if(i){let s=this.mergeCells(e,n,[t]);if(s!==void 0){let a=this.asNotebookDocumentChangeEvent(e,void 0,n,s);a!==void 0&&this.doSendChange(a,s).catch(()=>{})}}}else i&&this.doSendOpen(e,[t]).catch(()=>{})}didChangeNotebookCellTextDocument(e,t,n){if(wc.languages.match(this.selector,n.document)===0)return;let i=this.getSyncInfo(e);i===void 0||!i.uris.has(t.document.uri.toString())||this.doSendChange({notebook:e,cells:{textContent:[n]}},i.cells).catch(()=>{})}didCloseNotebookCellTextDocument(e,t){let n=this.getSyncInfo(e);if(n===void 0)return;let i=t.document.uri,o=n.cells.findIndex(s=>s.document.uri.toString()===i.toString());if(o!==-1)if(o===0&&n.cells.length===1)this.doSendClose(e,n.cells).catch(()=>{});else{let s=n.cells.slice(),a=s.splice(o,1);this.doSendChange({notebook:e,cells:{structure:{array:{start:o,deleteCount:1},didClose:a}}},s).catch(()=>{})}}dispose(){for(let e of this.disposables)e.dispose()}didOpen(e,t,n=this.getSyncInfo(e)){if(n!==void 0)if(t===void 0&&(t=n.cells.slice()),t!==void 0){let i=this.asNotebookDocumentChangeEvent(e,void 0,n,t);i!==void 0&&this.doSendChange(i,t).catch(()=>{})}else this.doSendClose(e,[]).catch(()=>{});else{if(t=this.getMatchingCells(e),t===void 0)return;this.doSendOpen(e,t).catch(()=>{})}}didChangeNotebookDocument(e){let t=e.notebook,n=this.getSyncInfo(t);if(n===void 0){if(e.contentChanges.length===0)return;let i=this.getMatchingCells(t);if(i===void 0)return;this.didOpen(t,i,n)}else{let i=this.getMatchingCellsFromEvent(t,n,e);if(i===void 0){this.didClose(t,n);return}let o=this.asNotebookDocumentChangeEvent(e.notebook,e,n,i);o!==void 0&&this.doSendChange(o,i).catch(()=>{})}}didSave(e){this.getSyncInfo(e)!==void 0&&this.doSendSave(e).catch(()=>{})}didClose(e,t=this.getSyncInfo(e)){if(t===void 0)return;let n=e.getCells().filter(i=>t.uris.has(i.document.uri.toString()));this.doSendClose(e,n).catch(()=>{})}async sendDidOpenNotebookDocument(e){if(this.getSyncInfo(e)!==void 0)throw new Error(`Notebook document ${e.uri.toString()} is already open`);let n=this.getMatchingCells(e);if(n!==void 0)return this.doSendOpen(e,n)}async doSendOpen(e,t){let n=async(o,s)=>{let a=s.map(c=>this.client.code2ProtocolConverter.asTextDocumentItem(c.document));try{await this.client.sendNotification(US.DidOpenNotebookDocumentNotification.type,{notebookDocument:Wx.c2p.asNotebookDocument(o,s,this.client.code2ProtocolConverter),cellTextDocuments:a}),this.onOpenNotificationSent.fire(o)}catch(c){throw this.client.error("Sending DidOpenNotebookDocumentNotification failed",c),c}},i=this.client.middleware?.notebooks;return this.notebookSyncInfo.set(e.uri.toString(),qW.create(t)),i?.didOpen!==void 0?i.didOpen(e,t,n):n(e,t)}async sendDidChangeNotebookDocument(e){let t=this.getMatchingCellsFromSyncInfo(e.notebook);if(t===void 0)throw new Error(`Received changed event for un-synced notebook ${e.notebook.uri.toString()}`);return this.doSendChange(e,t)}async doSendChange(e,t){let n=async o=>{try{await this.client.sendNotification(US.DidChangeNotebookDocumentNotification.type,{notebookDocument:Wx.c2p.asVersionedNotebookDocumentIdentifier(o.notebook,this.client.code2ProtocolConverter),change:Wx.c2p.asNotebookDocumentChangeEvent(o,this.client.code2ProtocolConverter)}),this.onChangeNotificationSent.fire(o)}catch(s){throw this.client.error("Sending DidChangeNotebookDocumentNotification failed",s),s}},i=this.client.middleware?.notebooks;return e.cells?.structure!==void 0&&this.notebookSyncInfo.set(e.notebook.uri.toString(),qW.create(t)),i?.didChange!==void 0?i?.didChange(e,n):n(e)}async sendDidSaveNotebookDocument(e){return this.doSendSave(e)}async doSendSave(e){let t=async i=>{try{await this.client.sendNotification(US.DidSaveNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(i.uri)}}),this.onSaveNotificationSent.fire(i)}catch(o){throw this.client.error("Sending DidSaveNotebookDocumentNotification failed",o),o}},n=this.client.middleware?.notebooks;return n?.didSave!==void 0?n.didSave(e,t):t(e)}async sendDidCloseNotebookDocument(e){let t=this.getMatchingCellsFromSyncInfo(e);if(t===void 0)throw new Error(`Received close event for un-synced notebook ${e.uri.toString()}`);return this.doSendClose(e,t)}async doSendClose(e,t){let n=async(o,s)=>{try{await this.client.sendNotification(US.DidCloseNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(o.uri)},cellTextDocuments:s.map(a=>this.client.code2ProtocolConverter.asTextDocumentIdentifier(a.document))}),this.onCloseNotificationSent.fire(o)}catch(a){throw this.client.error("Sending DidCloseNotebookDocumentNotification failed",a),a}},i=this.client.middleware?.notebooks;return this.notebookSyncInfo.delete(e.uri.toString()),i?.didClose!==void 0?i.didClose(e,t,n):n(e,t)}getSynchronizedCells(e){return this.getSyncInfo(e)?.cells}asNotebookDocumentChangeEvent(e,t,n,i){if(t!==void 0&&t.notebook!==e)throw new Error("Notebook must be identical");let o={notebook:e};t?.metadata!==void 0&&(o.metadata=Wx.c2p.asMetadata(t.metadata));let s;if(t?.cellChanges!==void 0&&t.cellChanges.length>0){let a=[];s=new Set(i.map(c=>c.document.uri.toString()));for(let c of t.cellChanges)s.has(c.cell.document.uri.toString())&&(c.executionSummary!==void 0||c.metadata!==void 0)&&a.push(c.cell);a.length>0&&(o.cells=o.cells??{},o.cells.data=a)}if((t?.contentChanges!==void 0&&t.contentChanges.length>0||t===void 0)&&n!==void 0&&i!==void 0){let a=n.cells,c=i,u=_re.computeDiff(a,c,!1),l,d;if(u!==void 0){l=u.cells===void 0?new Map:new Map(u.cells.map(_=>[_.document.uri.toString(),_])),d=u.deleteCount===0?new Map:new Map(a.slice(u.start,u.start+u.deleteCount).map(_=>[_.document.uri.toString(),_]));for(let _ of Array.from(d.keys()))l.has(_)&&(d.delete(_),l.delete(_));o.cells=o.cells??{};let f=[],p=[];if(l.size>0||d.size>0){for(let _ of l.values())f.push(_);for(let _ of d.values())p.push(_)}o.cells.structure={array:u,didOpen:f,didClose:p}}}return Object.keys(o).length>1?o:void 0}getMatchingCells(e,t=e.getCells()){if(this.options.notebookSelector!==void 0){for(let n of this.options.notebookSelector)if(n.notebook===void 0||NW.matchNotebook(n.notebook,e)){let i=this.filterCells(e,t,n.cells);return i.length===0?void 0:i}}}getMatchingCellsFromEvent(e,t,n){if(this.options.notebookSelector===void 0)return;let i;for(let c of this.options.notebookSelector)if(c.notebook===void 0||NW.matchNotebook(c.notebook,e)){i=c;break}if(i===void 0)return;if((n.cellChanges===void 0||n.cellChanges.length===0)&&(n.contentChanges===void 0||n.contentChanges.length===0))return t.cells;let o;if(n.cellChanges!==void 0&&n.cellChanges.length>0){let c=n.cellChanges.map(l=>l.cell),u=this.filterCells(e,c,i.cells);if(u.length!==c.length){o=new Set(t.uris);for(let l of c)o.delete(l.document.uri.toString());for(let l of u)o.add(l.document.uri.toString())}}if(n.contentChanges!==void 0&&n.contentChanges.length>0){o===void 0&&(o=new Set(t.uris));for(let c of n.contentChanges){for(let l of c.removedCells)o.delete(l.document.uri.toString());let u=this.filterCells(e,new Array(...c.addedCells),i.cells);for(let l of u)o.add(l.document.uri.toString())}}if(o===void 0)return t.cells;let s=[],a=e.getCells();for(let c of a)o.has(c.document.uri.toString())&&s.push(c);return s}getMatchingCellsFromSyncInfo(e){let t=this.getSyncInfo(e);return t!==void 0?t.cells:void 0}getMatchingCellsConsideringSyncInfo(e){let t=this.getSyncInfo(e);return t!==void 0?t.cells:this.getMatchingCells(e)}mergeCells(e,t,n){let i=[],o=new Set(t.uris);for(let s of n)o.add(s.document.uri.toString());for(let s of e.getCells())o.has(s.document.uri.toString())&&i.push(s);return i}cellMatches(e,t){let n=this.getMatchingCells(e,[t]);return n!==void 0&&n[0]===t}filterCells(e,t,n){let i=n!==void 0?t.filter(o=>{let s=o.document.languageId;return n.some(a=>a.language==="*"||s===a.language)}):t;return typeof this.client.clientOptions.notebookDocumentOptions?.filterCells=="function"?this.client.clientOptions.notebookDocumentOptions.filterCells(e,i):i}getSyncInfo(e){return this.notebookSyncInfo.get(e.uri.toString())}},bre=class r{static CellScheme="vscode-notebook-cell";client;registrations;dedicatedChannel;_onChangeNotificationSent;_onOpenNotificationSent;_onCloseNotificationSent;_onSaveNotificationSent;constructor(e){this.client=e,this.registrations=new Map,this.registrationType=US.NotebookDocumentSyncRegistrationType.type,this._onChangeNotificationSent=new wc.EventEmitter,this._onOpenNotificationSent=new wc.EventEmitter,this._onCloseNotificationSent=new wc.EventEmitter,this._onSaveNotificationSent=new wc.EventEmitter,wc.workspace.onDidOpenTextDocument(t=>{if(t.uri.scheme!==r.CellScheme)return;let[n,i]=this.findNotebookDocumentAndCell(t);if(!(n===void 0||i===void 0))for(let o of this.registrations.values())o instanceof $x&&o.didOpenNotebookCellTextDocument(n,i)}),wc.workspace.onDidChangeTextDocument(t=>{if(t.contentChanges.length===0)return;let n=t.document;if(n.uri.scheme!==r.CellScheme)return;let[i,o]=this.findNotebookDocumentAndCell(n);if(!(i===void 0||o===void 0))for(let s of this.registrations.values())s instanceof $x&&s.didChangeNotebookCellTextDocument(i,o,t)}),wc.workspace.onDidCloseTextDocument(t=>{if(t.uri.scheme!==r.CellScheme)return;let[n,i]=this.findNotebookDocumentAndCell(t);if(!(n===void 0||i===void 0))for(let o of this.registrations.values())o instanceof $x&&o.didCloseNotebookCellTextDocument(n,i)})}getState(){if(this.registrations.size===0)return{kind:"document",id:this.registrationType.method,registrations:!1,matches:!1};for(let e of this.registrations.values()){let t=e.getState();if(t.kind==="document"&&t.registrations===!0&&t.matches===!0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!1}}registrationType;get onOpenNotificationSent(){return this._onOpenNotificationSent.event}get onChangeNotificationSent(){return this._onChangeNotificationSent.event}get onCloseNotificationSent(){return this._onCloseNotificationSent.event}get onSaveNotificationSent(){return this._onSaveNotificationSent.event}fillClientCapabilities(e){let t=rMe(rMe(e,"notebookDocument"),"synchronization");t.dynamicRegistration=!0,t.executionSummarySupport=!0}preInitialize(e){let t=e.notebookDocumentSync;t!==void 0&&(this.dedicatedChannel=this.client.protocol2CodeConverter.asDocumentSelector(FW.asDocumentSelector(t)))}initialize(e){let t=e.notebookDocumentSync;if(t===void 0)return;let n=t.id??zTt.generateUuid();this.register({id:n,registerOptions:t})}register(e){let t=new $x(this.client,e.registerOptions,this._onChangeNotificationSent,this._onOpenNotificationSent,this._onCloseNotificationSent,this._onSaveNotificationSent);this.registrations.set(e.id,t)}unregister(e){let t=this.registrations.get(e);t!==void 0&&(this.registrations.delete(e),t.dispose())}clear(){for(let e of this.registrations.values())e.dispose();this.registrations.clear(),this._onChangeNotificationSent.dispose(),this._onChangeNotificationSent=new wc.EventEmitter,this._onOpenNotificationSent.dispose(),this._onOpenNotificationSent=new wc.EventEmitter,this._onCloseNotificationSent.dispose(),this._onCloseNotificationSent=new wc.EventEmitter,this._onSaveNotificationSent.dispose(),this._onSaveNotificationSent=new wc.EventEmitter}handles(e){if(e.uri.scheme!==r.CellScheme)return!1;if(this.dedicatedChannel!==void 0&&wc.languages.match(this.dedicatedChannel,e)>0)return!0;for(let t of this.registrations.values())if(t.handles(e))return!0;return!1}getProvider(e){for(let t of this.registrations.values())if(t.handles(e.document))return t}findNotebookDocumentAndCell(e){let t=e.uri.toString();for(let n of wc.workspace.notebookDocuments)for(let i of n.getCells())if(i.document.uri.toString()===t)return[n,i];return[void 0,void 0]}};kb.NotebookDocumentSyncFeature=bre});var oMe=C(Ig=>{"use strict";var HTt=Ig&&Ig.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),BTt=Ig&&Ig.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),iMe=Ig&&Ig.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&HTt(t,e,n[i]);return BTt(t,e),t}}();Object.defineProperty(Ig,"__esModule",{value:!0});Ig.SyncConfigurationFeature=Ig.ConfigurationFeature=void 0;Ig.toJSONObject=vE;var Vx=require("vscode"),KM=en(),WTt=iMe(Gv()),$Tt=iMe(Va()),nMe=Mo(),Sre=class{_client;constructor(e){this._client=e}getState(){return{kind:"static"}}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest(KM.ConfigurationRequest.type,(t,n)=>{let i=s=>{let a=[];for(let c of s.items){let u=c.scopeUri!==void 0&&c.scopeUri!==null?this._client.protocol2CodeConverter.asUri(c.scopeUri):void 0;a.push(this.getConfiguration(u,c.section!==null?c.section:void 0))}return a},o=e.middleware.workspace;return o&&o.configuration?o.configuration(t,n,i):i(t,n)})}getConfiguration(e,t){let n=null;if(t){let i=t.lastIndexOf(".");if(i===-1)n=vE(Vx.workspace.getConfiguration(void 0,e).get(t));else{let o=Vx.workspace.getConfiguration(t.substr(0,i),e);o&&(n=vE(o.get(t.substr(i+1))))}}else{let i=Vx.workspace.getConfiguration(void 0,e);n={};for(let o of Object.keys(i))i.has(o)&&(n[o]=vE(i.get(o)))}return n===void 0&&(n=null),n}clear(){}};Ig.ConfigurationFeature=Sre;function vE(r){if(r){if(Array.isArray(r))return r.map(vE);if(typeof r=="object"){let e=Object.create(null);for(let t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=vE(r[t]));return e}}return r}var Cre=class{_client;isCleared;_listeners;constructor(e){this._client=e,this.isCleared=!1,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return KM.DidChangeConfigurationNotification.type}fillClientCapabilities(e){(0,nMe.ensure)((0,nMe.ensure)(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){this.isCleared=!1;let e=this._client.clientOptions.synchronize?.configurationSection;e!==void 0&&this.register({id:$Tt.generateUuid(),registerOptions:{section:e}})}register(e){let t=Vx.workspace.onDidChangeConfiguration(n=>{this.onDidChangeConfiguration(e.registerOptions.section,n)});this._listeners.set(e.id,t),e.registerOptions.section!==void 0&&this.onDidChangeConfiguration(e.registerOptions.section,void 0)}unregister(e){let t=this._listeners.get(e);t&&(this._listeners.delete(e),t.dispose())}clear(){for(let e of this._listeners.values())e.dispose();this._listeners.clear(),this.isCleared=!0}onDidChangeConfiguration(e,t){if(this.isCleared)return;let n;if(WTt.string(e)?n=[e]:n=e,n!==void 0&&t!==void 0&&!n.some(a=>t.affectsConfiguration(a)))return;let i=async s=>s===void 0?this._client.sendNotification(KM.DidChangeConfigurationNotification.type,{settings:null}):this._client.sendNotification(KM.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(s)}),o=this._client.middleware.workspace?.didChangeConfiguration;(o?o(n,i):i(n)).catch(s=>{this._client.error(`Sending notification ${KM.DidChangeConfigurationNotification.type.method} failed`,s)})}extractSettingsInformation(e){function t(o,s){let a=o;for(let c=0;c<s.length-1;c++){let u=a[s[c]];u||(u=Object.create(null),a[s[c]]=u),a=u}return a}let n=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,i=Object.create(null);for(let o=0;o<e.length;o++){let s=e[o],a=s.indexOf("."),c=null;if(a>=0?c=Vx.workspace.getConfiguration(s.substr(0,a),n).get(s.substr(a+1)):c=Vx.workspace.getConfiguration(void 0,n).get(s),c){let u=e[o].split(".");t(i,u)[u[u.length-1]]=vE(c)}}return i}};Ig.SyncConfigurationFeature=Cre});var sMe=C(ul=>{"use strict";var VTt=ul&&ul.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),GTt=ul&&ul.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),KTt=ul&&ul.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&VTt(t,e,n[i]);return GTt(t,e),t}}();Object.defineProperty(ul,"__esModule",{value:!0});ul.DidSaveTextDocumentFeature=ul.WillSaveWaitUntilFeature=ul.WillSaveFeature=ul.DidChangeTextDocumentFeature=ul.DidCloseTextDocumentFeature=ul.DidOpenTextDocumentFeature=void 0;var Dm=require("vscode"),ga=en(),Kc=Mo(),Gx=KTt(Va()),Tre=class extends Kc.TextDocumentEventFeature{_syncedDocuments;_pendingOpenNotifications;_delayOpen;_pendingOpenListeners;constructor(e,t){super(e,Dm.workspace.onDidOpenTextDocument,ga.DidOpenTextDocumentNotification.type,()=>e.middleware.didOpen,n=>e.code2ProtocolConverter.asOpenTextDocumentParams(n),n=>n,Kc.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=t,this._pendingOpenNotifications=new Map,this._delayOpen=e.clientOptions.textSynchronization?.delayOpenNotifications??!1}async callback(e){if(this._delayOpen){if(!this.matches(e))return;if(this._client.tabsModel.isVisible(e))return super.callback(e);this._pendingOpenNotifications.set(e.uri.toString(),e)}else return super.callback(e)}get openDocuments(){return this._syncedDocuments.values()}fillClientCapabilities(e){(0,Kc.ensure)((0,Kc.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register({id:Gx.generateUuid(),registerOptions:{documentSelector:t}})}get registrationType(){return ga.DidOpenTextDocumentNotification.type}register(e){if(super.register(e),!e.registerOptions.documentSelector)return;let t=this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector);if(Dm.workspace.textDocuments.forEach(n=>{let i=n.uri.toString();if(!this._syncedDocuments.has(i)&&Dm.languages.match(t,n)>0&&!this._client.hasDedicatedTextSynchronizationFeature(n))if(this._client.tabsModel.isVisible(n)){let s=this._client.middleware,a=c=>this._client.sendNotification(this._type,this._createParams(c));(s.didOpen?s.didOpen(n,a):a(n)).catch(c=>{this._client.error(`Sending document notification ${this._type.method} failed`,c)}),this._syncedDocuments.set(i,n)}else this._pendingOpenNotifications.set(i,n)}),this._delayOpen&&this._pendingOpenListeners===void 0){this._pendingOpenListeners=[];let n=this._client.tabsModel;this._pendingOpenListeners.push(n.onClose(i=>{for(let o of i)this._pendingOpenNotifications.delete(o.toString())})),this._pendingOpenListeners.push(n.onOpen(i=>{for(let o of i){let s=this._pendingOpenNotifications.get(o.toString());s!==void 0&&(super.callback(s).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a)}),this._pendingOpenNotifications.delete(o.toString()))}})),this._pendingOpenListeners.push(Dm.workspace.onDidCloseTextDocument(i=>{this._pendingOpenNotifications.delete(i.uri.toString())}))}}async sendPendingOpenNotifications(e){let t=Array.from(this._pendingOpenNotifications.values());this._pendingOpenNotifications.clear();for(let n of t)e!==void 0&&n.uri.toString()===e||await super.callback(n)}getTextDocument(e){return e}notificationSent(e,t,n){this._syncedDocuments.set(e.uri.toString(),e),super.notificationSent(e,t,n)}clear(){if(this._pendingOpenNotifications.clear(),this._pendingOpenListeners!==void 0){for(let e of this._pendingOpenListeners)e.dispose();this._pendingOpenListeners=void 0}super.clear()}};ul.DidOpenTextDocumentFeature=Tre;var Dre=class extends Kc.TextDocumentEventFeature{_syncedDocuments;_pendingTextDocumentChanges;constructor(e,t,n){super(e,Dm.workspace.onDidCloseTextDocument,ga.DidCloseTextDocumentNotification.type,()=>e.middleware.didClose,i=>e.code2ProtocolConverter.asCloseTextDocumentParams(i),i=>i,Kc.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=t,this._pendingTextDocumentChanges=n}get registrationType(){return ga.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){(0,Kc.ensure)((0,Kc.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register({id:Gx.generateUuid(),registerOptions:{documentSelector:t}})}async callback(e){await super.callback(e),this._pendingTextDocumentChanges.delete(e.uri.toString())}getTextDocument(e){return e}notificationSent(e,t,n){this._syncedDocuments.delete(e.uri.toString()),super.notificationSent(e,t,n)}unregister(e){let t=this._selectors.get(e);if(t===void 0)return;super.unregister(e);let n=this._selectors.values();this._syncedDocuments.forEach(i=>{if(Dm.languages.match(t,i)>0&&!this._selectorFilter(n,i)&&!this._client.hasDedicatedTextSynchronizationFeature(i)){let o=this._client.middleware,s=a=>this._client.sendNotification(this._type,this._createParams(a));this._syncedDocuments.delete(i.uri.toString()),(o.didClose?o.didClose(i,s):s(i)).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a)})}})}};ul.DidCloseTextDocumentFeature=Dre;var Ere=class extends Kc.DynamicDocumentFeature{_listener;_changeData;_onNotificationSent;_onPendingChangeAdded;_pendingTextDocumentChanges;_syncKind;constructor(e,t){super(e),this._changeData=new Map,this._onNotificationSent=new Dm.EventEmitter,this._onPendingChangeAdded=new Dm.EventEmitter,this._pendingTextDocumentChanges=t,this._syncKind=ga.TextDocumentSyncKind.None}get onNotificationSent(){return this._onNotificationSent.event}get onPendingChangeAdded(){return this._onPendingChangeAdded.event}get syncKind(){return this._syncKind}get registrationType(){return ga.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){(0,Kc.ensure)((0,Kc.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.change!==void 0&&n.change!==ga.TextDocumentSyncKind.None&&this.register({id:Gx.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},{syncKind:n.change})})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=Dm.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(e.id,{syncKind:e.registerOptions.syncKind,documentSelector:this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)}),this.updateSyncKind(e.registerOptions.syncKind))}*getDocumentSelectors(){for(let e of this._changeData.values())yield e.documentSelector}async callback(e){if(e.contentChanges.length===0)return;let t=e.document.uri,n=e.document.version,i=[];for(let o of this._changeData.values())if(Dm.languages.match(o.documentSelector,e.document)>0&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let s=this._client.middleware;if(o.syncKind===ga.TextDocumentSyncKind.Incremental){let a=async c=>{let u=this._client.code2ProtocolConverter.asChangeTextDocumentParams(c,t,n);await this._client.sendNotification(ga.DidChangeTextDocumentNotification.type,u),this.notificationSent(c.document,ga.DidChangeTextDocumentNotification.type,u)};i.push(s.didChange?s.didChange(e,c=>a(c)):a(e))}else if(o.syncKind===ga.TextDocumentSyncKind.Full){let a=async c=>{let u=c.document.uri.toString();this._pendingTextDocumentChanges.set(u,c.document),this._onPendingChangeAdded.fire()};i.push(s.didChange?s.didChange(e,c=>a(c)):a(e))}}return Promise.all(i).then(void 0,o=>{throw this._client.error(`Sending document notification ${ga.DidChangeTextDocumentNotification.type.method} failed`,o),o})}notificationSent(e,t,n){this._onNotificationSent.fire({textDocument:e,type:t,params:n})}unregister(e){if(this._changeData.delete(e),this._changeData.size===0)this._listener&&(this._listener.dispose(),this._listener=void 0),this._syncKind=ga.TextDocumentSyncKind.None;else{this._syncKind=ga.TextDocumentSyncKind.None;for(let t of this._changeData.values())if(this.updateSyncKind(t.syncKind),this._syncKind===ga.TextDocumentSyncKind.Full)break}}clear(){this._pendingTextDocumentChanges.clear(),this._changeData.clear(),this._syncKind=ga.TextDocumentSyncKind.None,this._listener&&(this._listener.dispose(),this._listener=void 0)}getPendingDocumentChanges(e){if(this._pendingTextDocumentChanges.size===0)return[];let t;if(e.size===0)t=Array.from(this._pendingTextDocumentChanges.values()),this._pendingTextDocumentChanges.clear();else{t=[];for(let n of this._pendingTextDocumentChanges)e.has(n[0])||(t.push(n[1]),this._pendingTextDocumentChanges.delete(n[0]))}return t}getProvider(e){for(let t of this._changeData.values())if(Dm.languages.match(t.documentSelector,e)>0)return{send:n=>this.callback(n)}}updateSyncKind(e){if(this._syncKind!==ga.TextDocumentSyncKind.Full)switch(e){case ga.TextDocumentSyncKind.Full:this._syncKind=e;break;case ga.TextDocumentSyncKind.Incremental:this._syncKind===ga.TextDocumentSyncKind.None&&(this._syncKind=ga.TextDocumentSyncKind.Incremental);break}}};ul.DidChangeTextDocumentFeature=Ere;var Rre=class extends Kc.TextDocumentEventFeature{constructor(e){super(e,Dm.workspace.onWillSaveTextDocument,ga.WillSaveTextDocumentNotification.type,()=>e.middleware.willSave,t=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(t),t=>t.document,(t,n)=>Kc.TextDocumentEventFeature.textDocumentFilter(t,n.document))}get registrationType(){return ga.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){let t=(0,Kc.ensure)((0,Kc.ensure)(e,"textDocument"),"synchronization");t.willSave=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSave&&this.register({id:Gx.generateUuid(),registerOptions:{documentSelector:t}})}getTextDocument(e){return e.document}};ul.WillSaveFeature=Rre;var Pre=class extends Kc.DynamicDocumentFeature{_listener;_selectors;constructor(e){super(e),this._selectors=new Map}getDocumentSelectors(){return this._selectors.values()}get registrationType(){return ga.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){let t=(0,Kc.ensure)((0,Kc.ensure)(e,"textDocument"),"synchronization");t.willSaveWaitUntil=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSaveWaitUntil&&this.register({id:Gx.generateUuid(),registerOptions:{documentSelector:t}})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=Dm.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}callback(e){if(Kc.TextDocumentEventFeature.textDocumentFilter(this._selectors.values(),e.document)&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let t=this._client.middleware,n=i=>this._client.sendRequest(ga.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(i)).then(async o=>{let s=await this._client.protocol2CodeConverter.asTextEdits(o);return s===void 0?[]:s});e.waitUntil(t.willSaveWaitUntil?t.willSaveWaitUntil(e,n):n(e))}}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}};ul.WillSaveWaitUntilFeature=Pre;var xre=class extends Kc.TextDocumentEventFeature{_includeText;constructor(e){super(e,Dm.workspace.onDidSaveTextDocument,ga.DidSaveTextDocumentNotification.type,()=>e.middleware.didSave,t=>e.code2ProtocolConverter.asSaveTextDocumentParams(t,this._includeText),t=>t,Kc.TextDocumentEventFeature.textDocumentFilter),this._includeText=!1}get registrationType(){return ga.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){(0,Kc.ensure)((0,Kc.ensure)(e,"textDocument"),"synchronization").didSave=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;if(t&&n&&n.save){let i=typeof n.save=="boolean"?{includeText:!1}:{includeText:!!n.save.includeText};this.register({id:Gx.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},i)})}}register(e){this._includeText=!!e.registerOptions.includeText,super.register(e)}getTextDocument(e){return e}};ul.DidSaveTextDocumentFeature=xre});var aMe=C(Ab=>{"use strict";var YTt=Ab&&Ab.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),JTt=Ab&&Ab.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),XTt=Ab&&Ab.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&YTt(t,e,n[i]);return JTt(t,e),t}}();Object.defineProperty(Ab,"__esModule",{value:!0});Ab.CompletionItemFeature=void 0;var QTt=require("vscode"),To=en(),Ore=Mo(),ZTt=XTt(Va()),eDt=[To.CompletionItemKind.Text,To.CompletionItemKind.Method,To.CompletionItemKind.Function,To.CompletionItemKind.Constructor,To.CompletionItemKind.Field,To.CompletionItemKind.Variable,To.CompletionItemKind.Class,To.CompletionItemKind.Interface,To.CompletionItemKind.Module,To.CompletionItemKind.Property,To.CompletionItemKind.Unit,To.CompletionItemKind.Value,To.CompletionItemKind.Enum,To.CompletionItemKind.Keyword,To.CompletionItemKind.Snippet,To.CompletionItemKind.Color,To.CompletionItemKind.File,To.CompletionItemKind.Reference,To.CompletionItemKind.Folder,To.CompletionItemKind.EnumMember,To.CompletionItemKind.Constant,To.CompletionItemKind.Struct,To.CompletionItemKind.Event,To.CompletionItemKind.Operator,To.CompletionItemKind.TypeParameter],Ire=class extends Ore.TextDocumentLanguageFeature{labelDetailsSupport;constructor(e){super(e,To.CompletionRequest.type),this.labelDetailsSupport=new Map}fillClientCapabilities(e){let t=(0,Ore.ensure)((0,Ore.ensure)(e,"textDocument"),"completion");t.dynamicRegistration=!0,t.contextSupport=!0,t.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[To.MarkupKind.Markdown,To.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[To.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[To.InsertTextMode.asIs,To.InsertTextMode.adjustIndentation]},labelDetailsSupport:!0},t.insertTextMode=To.InsertTextMode.adjustIndentation,t.completionItemKind={valueSet:eDt},t.completionList={itemDefaults:["commitCharacters","editRange","insertTextFormat","insertTextMode","data"],applyKindSupport:!0}}initialize(e,t){let n=this.getRegistrationOptions(t,e.completionProvider);n&&this.register({id:ZTt.generateUuid(),registerOptions:n})}registerLanguageProvider(e,t){this.labelDetailsSupport.set(t,!!e.completionItem?.labelDetailsSupport);let n=e.triggerCharacters??[],i=e.allCommitCharacters,o=e.documentSelector,s={provideCompletionItems:(a,c,u,l)=>{let d=this._client,f=this._client.middleware,p=(_,D,P,M)=>d.sendRequest(To.CompletionRequest.type,d.code2ProtocolConverter.asCompletionParams(_,D,P),M).then(A=>M.isCancellationRequested?null:d.protocol2CodeConverter.asCompletionResult(A,i,M),A=>d.handleFailedRequest(To.CompletionRequest.type,M,A,null));return f.provideCompletionItem?f.provideCompletionItem(a,c,l,u,p):p(a,c,l,u)},resolveCompletionItem:e.resolveProvider?(a,c)=>{let u=this._client,l=this._client.middleware,d=(f,p)=>u.sendRequest(To.CompletionResolveRequest.type,u.code2ProtocolConverter.asCompletionItem(f,!!this.labelDetailsSupport.get(t)),p).then(_=>p.isCancellationRequested?null:u.protocol2CodeConverter.asCompletionItem(_),_=>u.handleFailedRequest(To.CompletionResolveRequest.type,p,_,f));return l.resolveCompletionItem?l.resolveCompletionItem(a,c,d):d(a,c)}:void 0};return[QTt.languages.registerCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(o),s,...n),s]}};Ab.CompletionItemFeature=Ire});var cMe=C(Lb=>{"use strict";var tDt=Lb&&Lb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),rDt=Lb&&Lb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),nDt=Lb&&Lb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&tDt(t,e,n[i]);return rDt(t,e),t}}();Object.defineProperty(Lb,"__esModule",{value:!0});Lb.HoverFeature=void 0;var iDt=require("vscode"),YM=en(),kre=Mo(),oDt=nDt(Va()),Are=class extends kre.TextDocumentLanguageFeature{constructor(e){super(e,YM.HoverRequest.type)}fillClientCapabilities(e){let t=(0,kre.ensure)((0,kre.ensure)(e,"textDocument"),"hover");t.dynamicRegistration=!0,t.contentFormat=[YM.MarkupKind.Markdown,YM.MarkupKind.PlainText]}initialize(e,t){let n=this.getRegistrationOptions(t,e.hoverProvider);n&&this.register({id:oDt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideHover:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(YM.HoverRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(p=>f.isCancellationRequested?null:a.protocol2CodeConverter.asHover(p),p=>a.handleFailedRequest(YM.HoverRequest.type,f,p,null)),u=a.middleware;return u.provideHover?u.provideHover(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return iDt.languages.registerHoverProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};Lb.HoverFeature=Are});var uMe=C(Mb=>{"use strict";var sDt=Mb&&Mb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),aDt=Mb&&Mb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),cDt=Mb&&Mb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&sDt(t,e,n[i]);return aDt(t,e),t}}();Object.defineProperty(Mb,"__esModule",{value:!0});Mb.DefinitionFeature=void 0;var uDt=require("vscode"),Lre=en(),Mre=Mo(),lDt=cDt(Va()),Nre=class extends Mre.TextDocumentLanguageFeature{constructor(e){super(e,Lre.DefinitionRequest.type)}fillClientCapabilities(e){let t=(0,Mre.ensure)((0,Mre.ensure)(e,"textDocument"),"definition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.definitionProvider);n&&this.register({id:lDt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDefinition:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(Lre.DefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(p=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(p,f),p=>a.handleFailedRequest(Lre.DefinitionRequest.type,f,p,null)),u=a.middleware;return u.provideDefinition?u.provideDefinition(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return uDt.languages.registerDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};Mb.DefinitionFeature=Nre});var dMe=C(Nb=>{"use strict";var dDt=Nb&&Nb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),fDt=Nb&&Nb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),hDt=Nb&&Nb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&dDt(t,e,n[i]);return fDt(t,e),t}}();Object.defineProperty(Nb,"__esModule",{value:!0});Nb.SignatureHelpFeature=void 0;var lMe=require("vscode"),JM=en(),Fre=Mo(),pDt=hDt(Va()),qre=class extends Fre.TextDocumentLanguageFeature{constructor(e){super(e,JM.SignatureHelpRequest.type)}fillClientCapabilities(e){let t=(0,Fre.ensure)((0,Fre.ensure)(e,"textDocument"),"signatureHelp");t.dynamicRegistration=!0,t.signatureInformation={documentationFormat:[JM.MarkupKind.Markdown,JM.MarkupKind.PlainText]},t.signatureInformation.parameterInformation={labelOffsetSupport:!0},t.signatureInformation.activeParameterSupport=!0,t.signatureInformation.noActiveParameterSupport=!0,t.contextSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.signatureHelpProvider);n&&this.register({id:pDt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t={provideSignatureHelp:(n,i,o,s)=>{let a=this._client,c=(l,d,f,p)=>a.sendRequest(JM.SignatureHelpRequest.type,a.code2ProtocolConverter.asSignatureHelpParams(l,d,f),p).then(_=>p.isCancellationRequested?null:a.protocol2CodeConverter.asSignatureHelp(_,p),_=>a.handleFailedRequest(JM.SignatureHelpRequest.type,p,_,null)),u=a.middleware;return u.provideSignatureHelp?u.provideSignatureHelp(n,i,s,o,c):c(n,i,s,o)}};return[this.registerProvider(e,t),t]}registerProvider(e,t){let n=this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector);if(e.retriggerCharacters===void 0){let i=e.triggerCharacters||[];return lMe.languages.registerSignatureHelpProvider(n,t,...i)}else{let i={triggerCharacters:e.triggerCharacters||[],retriggerCharacters:e.retriggerCharacters||[]};return lMe.languages.registerSignatureHelpProvider(n,t,i)}}};Nb.SignatureHelpFeature=qre});var fMe=C(Fb=>{"use strict";var mDt=Fb&&Fb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),gDt=Fb&&Fb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),vDt=Fb&&Fb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&mDt(t,e,n[i]);return gDt(t,e),t}}();Object.defineProperty(Fb,"__esModule",{value:!0});Fb.DocumentHighlightFeature=void 0;var yDt=require("vscode"),jre=en(),zre=Mo(),_Dt=vDt(Va()),Ure=class extends zre.TextDocumentLanguageFeature{constructor(e){super(e,jre.DocumentHighlightRequest.type)}fillClientCapabilities(e){(0,zre.ensure)((0,zre.ensure)(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentHighlightProvider);n&&this.register({id:_Dt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentHighlights:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(jre.DocumentHighlightRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(p=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDocumentHighlights(p,f),p=>a.handleFailedRequest(jre.DocumentHighlightRequest.type,f,p,null)),u=a.middleware;return u.provideDocumentHighlights?u.provideDocumentHighlights(i,o,s,c):c(i,o,s)}};return[yDt.languages.registerDocumentHighlightProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};Fb.DocumentHighlightFeature=Ure});var Wre=C(mh=>{"use strict";var bDt=mh&&mh.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),wDt=mh&&mh.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),SDt=mh&&mh.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&bDt(t,e,n[i]);return wDt(t,e),t}}();Object.defineProperty(mh,"__esModule",{value:!0});mh.DocumentSymbolFeature=mh.SupportedSymbolTags=mh.SupportedSymbolKinds=void 0;var CDt=require("vscode"),bs=en(),Hre=Mo(),TDt=SDt(Va());mh.SupportedSymbolKinds=[bs.SymbolKind.File,bs.SymbolKind.Module,bs.SymbolKind.Namespace,bs.SymbolKind.Package,bs.SymbolKind.Class,bs.SymbolKind.Method,bs.SymbolKind.Property,bs.SymbolKind.Field,bs.SymbolKind.Constructor,bs.SymbolKind.Enum,bs.SymbolKind.Interface,bs.SymbolKind.Function,bs.SymbolKind.Variable,bs.SymbolKind.Constant,bs.SymbolKind.String,bs.SymbolKind.Number,bs.SymbolKind.Boolean,bs.SymbolKind.Array,bs.SymbolKind.Object,bs.SymbolKind.Key,bs.SymbolKind.Null,bs.SymbolKind.EnumMember,bs.SymbolKind.Struct,bs.SymbolKind.Event,bs.SymbolKind.Operator,bs.SymbolKind.TypeParameter];mh.SupportedSymbolTags=[bs.SymbolTag.Deprecated];var Bre=class extends Hre.TextDocumentLanguageFeature{constructor(e){super(e,bs.DocumentSymbolRequest.type)}fillClientCapabilities(e){let t=(0,Hre.ensure)((0,Hre.ensure)(e,"textDocument"),"documentSymbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:mh.SupportedSymbolKinds},t.hierarchicalDocumentSymbolSupport=!0,t.tagSupport={valueSet:mh.SupportedSymbolTags},t.labelSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentSymbolProvider);n&&this.register({id:TDt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentSymbols:(o,s)=>{let a=this._client,c=async(l,d)=>{try{let f=await a.sendRequest(bs.DocumentSymbolRequest.type,a.code2ProtocolConverter.asDocumentSymbolParams(l),d);if(d.isCancellationRequested||f===void 0||f===null)return null;if(f.length===0)return[];{let p=f[0];return bs.DocumentSymbol.is(p)?await a.protocol2CodeConverter.asDocumentSymbols(f,d):await a.protocol2CodeConverter.asSymbolInformations(f,d)}}catch(f){return a.handleFailedRequest(bs.DocumentSymbolRequest.type,d,f,null)}},u=a.middleware;return u.provideDocumentSymbols?u.provideDocumentSymbols(o,s,c):c(o,s)}},i=e.label!==void 0?{label:e.label}:void 0;return[CDt.languages.registerDocumentSymbolProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,i),n]}};mh.DocumentSymbolFeature=Bre});var pMe=C(qb=>{"use strict";var DDt=qb&&qb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),EDt=qb&&qb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),RDt=qb&&qb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&DDt(t,e,n[i]);return EDt(t,e),t}}();Object.defineProperty(qb,"__esModule",{value:!0});qb.WorkspaceSymbolFeature=void 0;var PDt=require("vscode"),XM=en(),$re=Mo(),hMe=Wre(),xDt=RDt(Va()),Vre=class extends $re.WorkspaceFeature{constructor(e){super(e,XM.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let t=(0,$re.ensure)((0,$re.ensure)(e,"workspace"),"symbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:hMe.SupportedSymbolKinds},t.tagSupport={valueSet:hMe.SupportedSymbolTags},t.resolveSupport={properties:["location.range"]}}initialize(e){e.workspaceSymbolProvider&&this.register({id:xDt.generateUuid(),registerOptions:e.workspaceSymbolProvider===!0?{workDoneProgress:!1}:e.workspaceSymbolProvider})}registerLanguageProvider(e){let t={provideWorkspaceSymbols:(n,i)=>{let o=this._client,s=(c,u)=>o.sendRequest(XM.WorkspaceSymbolRequest.type,{query:c},u).then(l=>u.isCancellationRequested?null:o.protocol2CodeConverter.asSymbolInformations(l,u),l=>o.handleFailedRequest(XM.WorkspaceSymbolRequest.type,u,l,null)),a=o.middleware;return a.provideWorkspaceSymbols?a.provideWorkspaceSymbols(n,i,s):s(n,i)},resolveWorkspaceSymbol:e.resolveProvider===!0?(n,i)=>{let o=this._client,s=(c,u)=>o.sendRequest(XM.WorkspaceSymbolResolveRequest.type,o.code2ProtocolConverter.asWorkspaceSymbol(c),u).then(l=>u.isCancellationRequested?null:o.protocol2CodeConverter.asSymbolInformation(l),l=>o.handleFailedRequest(XM.WorkspaceSymbolResolveRequest.type,u,l,null)),a=o.middleware;return a.resolveWorkspaceSymbol?a.resolveWorkspaceSymbol(n,i,s):s(n,i)}:void 0};return[PDt.languages.registerWorkspaceSymbolProvider(t),t]}};qb.WorkspaceSymbolFeature=Vre});var mMe=C(jb=>{"use strict";var ODt=jb&&jb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),IDt=jb&&jb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),kDt=jb&&jb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&ODt(t,e,n[i]);return IDt(t,e),t}}();Object.defineProperty(jb,"__esModule",{value:!0});jb.ReferencesFeature=void 0;var ADt=require("vscode"),Gre=en(),Kre=Mo(),LDt=kDt(Va()),Yre=class extends Kre.TextDocumentLanguageFeature{constructor(e){super(e,Gre.ReferencesRequest.type)}fillClientCapabilities(e){(0,Kre.ensure)((0,Kre.ensure)(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.referencesProvider);n&&this.register({id:LDt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideReferences:(i,o,s,a)=>{let c=this._client,u=(d,f,p,_)=>c.sendRequest(Gre.ReferencesRequest.type,c.code2ProtocolConverter.asReferenceParams(d,f,p),_).then(D=>_.isCancellationRequested?null:c.protocol2CodeConverter.asReferences(D,_),D=>c.handleFailedRequest(Gre.ReferencesRequest.type,_,D,null)),l=c.middleware;return l.provideReferences?l.provideReferences(i,o,s,a,u):u(i,o,s,a)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return ADt.languages.registerReferenceProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};jb.ReferencesFeature=Yre});var gMe=C(zW=>{"use strict";Object.defineProperty(zW,"__esModule",{value:!0});zW.TypeDefinitionFeature=void 0;var MDt=require("vscode"),Jre=en(),QM=Mo(),Xre=class extends QM.TextDocumentLanguageFeature{constructor(e){super(e,Jre.TypeDefinitionRequest.type)}fillClientCapabilities(e){(0,QM.ensure)((0,QM.ensure)(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let t=(0,QM.ensure)((0,QM.ensure)(e,"textDocument"),"typeDefinition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.typeDefinitionProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideTypeDefinition:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(Jre.TypeDefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(p=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(p,f),p=>a.handleFailedRequest(Jre.TypeDefinitionRequest.type,f,p,null)),u=a.middleware;return u.provideTypeDefinition?u.provideTypeDefinition(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return MDt.languages.registerTypeDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};zW.TypeDefinitionFeature=Xre});var vMe=C(UW=>{"use strict";Object.defineProperty(UW,"__esModule",{value:!0});UW.ImplementationFeature=void 0;var NDt=require("vscode"),Qre=en(),Zre=Mo(),ene=class extends Zre.TextDocumentLanguageFeature{constructor(e){super(e,Qre.ImplementationRequest.type)}fillClientCapabilities(e){let t=(0,Zre.ensure)((0,Zre.ensure)(e,"textDocument"),"implementation");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.implementationProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideImplementation:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(Qre.ImplementationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(p=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(p,f),p=>a.handleFailedRequest(Qre.ImplementationRequest.type,f,p,null)),u=a.middleware;return u.provideImplementation?u.provideImplementation(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return NDt.languages.registerImplementationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};UW.ImplementationFeature=ene});var nne=C(HW=>{"use strict";Object.defineProperty(HW,"__esModule",{value:!0});HW.ColorProviderFeature=void 0;var FDt=require("vscode"),ZM=en(),tne=Mo(),rne=class extends tne.TextDocumentLanguageFeature{constructor(e){super(e,ZM.DocumentColorRequest.type)}fillClientCapabilities(e){(0,tne.ensure)((0,tne.ensure)(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.colorProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideColorPresentations:(i,o,s)=>{let a=this._client,c=(l,d,f)=>{let p={color:l,textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(d.document),range:a.code2ProtocolConverter.asRange(d.range)};return a.sendRequest(ZM.ColorPresentationRequest.type,p,f).then(_=>f.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorPresentations(_,f),_=>a.handleFailedRequest(ZM.ColorPresentationRequest.type,f,_,null))},u=a.middleware;return u.provideColorPresentations?u.provideColorPresentations(i,o,s,c):c(i,o,s)},provideDocumentColors:(i,o)=>{let s=this._client,a=(u,l)=>{let d={textDocument:s.code2ProtocolConverter.asTextDocumentIdentifier(u)};return s.sendRequest(ZM.DocumentColorRequest.type,d,l).then(f=>l.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorInformations(f,l),f=>s.handleFailedRequest(ZM.DocumentColorRequest.type,l,f,null))},c=s.middleware;return c.provideDocumentColors?c.provideDocumentColors(i,o,a):a(i,o)}};return[FDt.languages.registerColorProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};HW.ColorProviderFeature=rne});var yMe=C(zb=>{"use strict";var qDt=zb&&zb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),jDt=zb&&zb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),zDt=zb&&zb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&qDt(t,e,n[i]);return jDt(t,e),t}}();Object.defineProperty(zb,"__esModule",{value:!0});zb.CodeActionFeature=void 0;var UDt=require("vscode"),gh=en(),HDt=zDt(Va()),ine=Mo(),one=class extends ine.TextDocumentLanguageFeature{constructor(e){super(e,gh.CodeActionRequest.type)}fillClientCapabilities(e){let t=(0,ine.ensure)((0,ine.ensure)(e,"textDocument"),"codeAction");t.dynamicRegistration=!0,t.isPreferredSupport=!0,t.disabledSupport=!0,t.dataSupport=!0,t.resolveSupport={properties:["edit","command"]},t.codeActionLiteralSupport={codeActionKind:{valueSet:[gh.CodeActionKind.Empty,gh.CodeActionKind.QuickFix,gh.CodeActionKind.Refactor,gh.CodeActionKind.RefactorExtract,gh.CodeActionKind.RefactorInline,gh.CodeActionKind.RefactorMove,gh.CodeActionKind.RefactorRewrite,gh.CodeActionKind.Source,gh.CodeActionKind.SourceOrganizeImports,gh.CodeActionKind.Notebook]}},t.honorsChangeAnnotations=!0,t.documentationSupport=!0,t.tagSupport={valueSet:[gh.CodeActionTag.LLMGenerated]}}initialize(e,t){let n=this.getRegistrationOptions(t,e.codeActionProvider);n&&this.register({id:HDt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideCodeActions:(i,o,s,a)=>{let c=this._client,u=async(d,f,p,_)=>{let D={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),range:c.code2ProtocolConverter.asRange(f),context:c.code2ProtocolConverter.asCodeActionContextSync(p)};return c.sendRequest(gh.CodeActionRequest.type,D,_).then(P=>_.isCancellationRequested||P===null||P===void 0?null:c.protocol2CodeConverter.asCodeActionResult(P,_),P=>c.handleFailedRequest(gh.CodeActionRequest.type,_,P,null))},l=c.middleware;return l.provideCodeActions?l.provideCodeActions(i,o,s,a,u):u(i,o,s,a)},resolveCodeAction:e.resolveProvider?(i,o)=>{let s=this._client,a=this._client.middleware,c=async(u,l)=>s.sendRequest(gh.CodeActionResolveRequest.type,s.code2ProtocolConverter.asCodeActionSync(u),l).then(d=>l.isCancellationRequested?u:s.protocol2CodeConverter.asCodeAction(d,l),d=>s.handleFailedRequest(gh.CodeActionResolveRequest.type,l,d,u));return a.resolveCodeAction?a.resolveCodeAction(i,o,c):c(i,o)}:void 0};return[UDt.languages.registerCodeActionsProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,this.getMetadata(e)),n]}getMetadata(e){if(!(e.codeActionKinds===void 0&&e.documentation===void 0))return{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds),documentation:this._client.protocol2CodeConverter.asCodeActionDocumentations(e.documentation)}}};zb.CodeActionFeature=one});var bMe=C(Ub=>{"use strict";var BDt=Ub&&Ub.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),WDt=Ub&&Ub.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),$Dt=Ub&&Ub.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&BDt(t,e,n[i]);return WDt(t,e),t}}();Object.defineProperty(Ub,"__esModule",{value:!0});Ub.CodeLensFeature=void 0;var _Me=require("vscode"),Kx=en(),VDt=$Dt(Va()),eN=Mo(),sne=class extends eN.TextDocumentLanguageFeature{constructor(e){super(e,Kx.CodeLensRequest.type)}fillClientCapabilities(e){let t=(0,eN.ensure)((0,eN.ensure)(e,"textDocument"),"codeLens");t.dynamicRegistration=!0,t.resolveSupport={properties:["command"]},(0,eN.ensure)((0,eN.ensure)(e,"workspace"),"codeLens").refreshSupport=!0}initialize(e,t){this._client.onRequest(Kx.CodeLensRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeCodeLensEmitter.fire()});let i=this.getRegistrationOptions(t,e.codeLensProvider);i&&this.register({id:VDt.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n=new _Me.EventEmitter,i={onDidChangeCodeLenses:n.event,provideCodeLenses:(o,s)=>{let a=this._client,c=(l,d)=>a.sendRequest(Kx.CodeLensRequest.type,a.code2ProtocolConverter.asCodeLensParams(l),d).then(f=>d.isCancellationRequested?null:a.protocol2CodeConverter.asCodeLenses(f,d),f=>a.handleFailedRequest(Kx.CodeLensRequest.type,d,f,null)),u=a.middleware;return u.provideCodeLenses?u.provideCodeLenses(o,s,c):c(o,s)},resolveCodeLens:e.resolveProvider?(o,s)=>{let a=this._client,c=(l,d)=>a.sendRequest(Kx.CodeLensResolveRequest.type,a.code2ProtocolConverter.asCodeLens(l),d).then(f=>d.isCancellationRequested?l:a.protocol2CodeConverter.asCodeLens(f),f=>a.handleFailedRequest(Kx.CodeLensResolveRequest.type,d,f,l)),u=a.middleware;return u.resolveCodeLens?u.resolveCodeLens(o,s,c):c(o,s)}:void 0};return[_Me.languages.registerCodeLensProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),i),{provider:i,onDidChangeCodeLensEmitter:n}]}};Ub.CodeLensFeature=sne});var wMe=C(Em=>{"use strict";var GDt=Em&&Em.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),KDt=Em&&Em.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),YDt=Em&&Em.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&GDt(t,e,n[i]);return KDt(t,e),t}}();Object.defineProperty(Em,"__esModule",{value:!0});Em.DocumentOnTypeFormattingFeature=Em.DocumentRangeFormattingFeature=Em.DocumentFormattingFeature=void 0;var BW=require("vscode"),c_=en(),lne=YDt(Va()),HS=Mo(),Yx;(function(r){function e(t){let n=BW.workspace.getConfiguration("files",t);return{trimTrailingWhitespace:n.get("trimTrailingWhitespace"),trimFinalNewlines:n.get("trimFinalNewlines"),insertFinalNewline:n.get("insertFinalNewline")}}r.fromConfiguration=e})(Yx||(Yx={}));var ane=class extends HS.TextDocumentLanguageFeature{constructor(e){super(e,c_.DocumentFormattingRequest.type)}fillClientCapabilities(e){(0,HS.ensure)((0,HS.ensure)(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentFormattingProvider);n&&this.register({id:lne.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentFormattingEdits:(i,o,s)=>{let a=this._client,c=(l,d,f)=>{let p={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),options:a.code2ProtocolConverter.asFormattingOptions(d,Yx.fromConfiguration(l))};return a.sendRequest(c_.DocumentFormattingRequest.type,p,f).then(_=>f.isCancellationRequested?null:a.protocol2CodeConverter.asTextEdits(_,f),_=>a.handleFailedRequest(c_.DocumentFormattingRequest.type,f,_,null))},u=a.middleware;return u.provideDocumentFormattingEdits?u.provideDocumentFormattingEdits(i,o,s,c):c(i,o,s)}};return[BW.languages.registerDocumentFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};Em.DocumentFormattingFeature=ane;var cne=class extends HS.TextDocumentLanguageFeature{constructor(e){super(e,c_.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){let t=(0,HS.ensure)((0,HS.ensure)(e,"textDocument"),"rangeFormatting");t.dynamicRegistration=!0,t.rangesSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentRangeFormattingProvider);n&&this.register({id:lne.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentRangeFormattingEdits:(i,o,s,a)=>{let c=this._client,u=(d,f,p,_)=>{let D={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),range:c.code2ProtocolConverter.asRange(f),options:c.code2ProtocolConverter.asFormattingOptions(p,Yx.fromConfiguration(d))};return c.sendRequest(c_.DocumentRangeFormattingRequest.type,D,_).then(P=>_.isCancellationRequested?null:c.protocol2CodeConverter.asTextEdits(P,_),P=>c.handleFailedRequest(c_.DocumentRangeFormattingRequest.type,_,P,null))},l=c.middleware;return l.provideDocumentRangeFormattingEdits?l.provideDocumentRangeFormattingEdits(i,o,s,a,u):u(i,o,s,a)}};return e.rangesSupport&&(n.provideDocumentRangesFormattingEdits=(i,o,s,a)=>{let c=this._client,u=(d,f,p,_)=>{let D={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),ranges:c.code2ProtocolConverter.asRanges(f),options:c.code2ProtocolConverter.asFormattingOptions(p,Yx.fromConfiguration(d))};return c.sendRequest(c_.DocumentRangesFormattingRequest.type,D,_).then(P=>_.isCancellationRequested?null:c.protocol2CodeConverter.asTextEdits(P,_),P=>c.handleFailedRequest(c_.DocumentRangesFormattingRequest.type,_,P,null))},l=c.middleware;return l.provideDocumentRangesFormattingEdits?l.provideDocumentRangesFormattingEdits(i,o,s,a,u):u(i,o,s,a)}),[BW.languages.registerDocumentRangeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};Em.DocumentRangeFormattingFeature=cne;var une=class extends HS.TextDocumentLanguageFeature{constructor(e){super(e,c_.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){(0,HS.ensure)((0,HS.ensure)(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentOnTypeFormattingProvider);n&&this.register({id:lne.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideOnTypeFormattingEdits:(o,s,a,c,u)=>{let l=this._client,d=(p,_,D,P,M)=>{let A={textDocument:l.code2ProtocolConverter.asTextDocumentIdentifier(p),position:l.code2ProtocolConverter.asPosition(_),ch:D,options:l.code2ProtocolConverter.asFormattingOptions(P,Yx.fromConfiguration(p))};return l.sendRequest(c_.DocumentOnTypeFormattingRequest.type,A,M).then(U=>M.isCancellationRequested?null:l.protocol2CodeConverter.asTextEdits(U,M),U=>l.handleFailedRequest(c_.DocumentOnTypeFormattingRequest.type,M,U,null))},f=l.middleware;return f.provideOnTypeFormattingEdits?f.provideOnTypeFormattingEdits(o,s,a,c,u,d):d(o,s,a,c,u)}},i=e.moreTriggerCharacter||[];return[BW.languages.registerOnTypeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,e.firstTriggerCharacter,...i),n]}};Em.DocumentOnTypeFormattingFeature=une});var TMe=C(Hb=>{"use strict";var JDt=Hb&&Hb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),XDt=Hb&&Hb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),CMe=Hb&&Hb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&JDt(t,e,n[i]);return XDt(t,e),t}}();Object.defineProperty(Hb,"__esModule",{value:!0});Hb.RenameFeature=void 0;var QDt=require("vscode"),yE=en(),ZDt=CMe(Va()),SMe=CMe(Gv()),dne=Mo(),fne=class extends dne.TextDocumentLanguageFeature{constructor(e){super(e,yE.RenameRequest.type)}fillClientCapabilities(e){let t=(0,dne.ensure)((0,dne.ensure)(e,"textDocument"),"rename");t.dynamicRegistration=!0,t.prepareSupport=!0,t.prepareSupportDefaultBehavior=yE.PrepareSupportDefaultBehavior.Identifier,t.honorsChangeAnnotations=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.renameProvider);n&&(SMe.boolean(e.renameProvider)&&(n.prepareProvider=!1),this.register({id:ZDt.generateUuid(),registerOptions:n}))}registerLanguageProvider(e){let t=e.documentSelector,n={provideRenameEdits:(i,o,s,a)=>{let c=this._client,u=(d,f,p,_)=>{let D={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),position:c.code2ProtocolConverter.asPosition(f),newName:p};return c.sendRequest(yE.RenameRequest.type,D,_).then(P=>_.isCancellationRequested?null:c.protocol2CodeConverter.asWorkspaceEdit(P,_),P=>c.handleFailedRequest(yE.RenameRequest.type,_,P,null,!1))},l=c.middleware;return l.provideRenameEdits?l.provideRenameEdits(i,o,s,a,u):u(i,o,s,a)},prepareRename:e.prepareProvider?(i,o,s)=>{let a=this._client,c=(l,d,f)=>{let p={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),position:a.code2ProtocolConverter.asPosition(d)};return a.sendRequest(yE.PrepareRenameRequest.type,p,f).then(_=>f.isCancellationRequested?null:yE.Range.is(_)?a.protocol2CodeConverter.asRange(_):this.isDefaultBehavior(_)?_.defaultBehavior===!0?null:Promise.reject(new Error("The element can't be renamed.")):_&&yE.Range.is(_.range)?{range:a.protocol2CodeConverter.asRange(_.range),placeholder:_.placeholder}:Promise.reject(new Error("The element can't be renamed.")),_=>{throw typeof _.message=="string"?new Error(_.message):new Error("The element can't be renamed.")})},u=a.middleware;return u.prepareRename?u.prepareRename(i,o,s,c):c(i,o,s)}:void 0};return[this.registerProvider(t,n),n]}registerProvider(e,t){return QDt.languages.registerRenameProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}isDefaultBehavior(e){let t=e;return t&&SMe.boolean(t.defaultBehavior)}};Hb.RenameFeature=fne});var mne=C(Bb=>{"use strict";var e0t=Bb&&Bb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),t0t=Bb&&Bb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),r0t=Bb&&Bb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&e0t(t,e,n[i]);return t0t(t,e),t}}();Object.defineProperty(Bb,"__esModule",{value:!0});Bb.DocumentLinkFeature=void 0;var n0t=require("vscode"),tN=en(),hne=Mo(),i0t=r0t(Va()),pne=class extends hne.TextDocumentLanguageFeature{constructor(e){super(e,tN.DocumentLinkRequest.type)}fillClientCapabilities(e){let t=(0,hne.ensure)((0,hne.ensure)(e,"textDocument"),"documentLink");t.dynamicRegistration=!0,t.tooltipSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentLinkProvider);n&&this.register({id:i0t.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentLinks:(i,o)=>{let s=this._client,a=(u,l)=>s.sendRequest(tN.DocumentLinkRequest.type,s.code2ProtocolConverter.asDocumentLinkParams(u),l).then(d=>l.isCancellationRequested?null:s.protocol2CodeConverter.asDocumentLinks(d,l),d=>s.handleFailedRequest(tN.DocumentLinkRequest.type,l,d,null)),c=s.middleware;return c.provideDocumentLinks?c.provideDocumentLinks(i,o,a):a(i,o)},resolveDocumentLink:e.resolveProvider?(i,o)=>{let s=this._client,a=(u,l)=>s.sendRequest(tN.DocumentLinkResolveRequest.type,s.code2ProtocolConverter.asDocumentLink(u),l).then(d=>l.isCancellationRequested?u:s.protocol2CodeConverter.asDocumentLink(d),d=>s.handleFailedRequest(tN.DocumentLinkResolveRequest.type,l,d,u)),c=s.middleware;return c.resolveDocumentLink?c.resolveDocumentLink(i,o,a):a(i,o)}:void 0};return[n0t.languages.registerDocumentLinkProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};Bb.DocumentLinkFeature=pne});var EMe=C(Wb=>{"use strict";var o0t=Wb&&Wb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),s0t=Wb&&Wb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),a0t=Wb&&Wb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&o0t(t,e,n[i]);return s0t(t,e),t}}();Object.defineProperty(Wb,"__esModule",{value:!0});Wb.ExecuteCommandFeature=void 0;var c0t=require("vscode"),gne=en(),u0t=a0t(Va()),DMe=Mo(),vne=class{_client;_commands;constructor(e){this._client=e,this._commands=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._commands.size>0}}get registrationType(){return gne.ExecuteCommandRequest.type}fillClientCapabilities(e){(0,DMe.ensure)((0,DMe.ensure)(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){e.executeCommandProvider&&this.register({id:u0t.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e){let t=this._client,n=t.middleware,i=(o,s)=>{let a={command:o,arguments:s};return t.sendRequest(gne.ExecuteCommandRequest.type,a).then(void 0,c=>t.handleFailedRequest(gne.ExecuteCommandRequest.type,void 0,c,void 0))};if(e.registerOptions.commands){let o=[];for(let s of e.registerOptions.commands)o.push(c0t.commands.registerCommand(s,(...a)=>n.executeCommand?n.executeCommand(s,a,i):i(s,a)));this._commands.set(e.id,o)}}unregister(e){let t=this._commands.get(e);t&&(this._commands.delete(e),t.forEach(n=>n.dispose()))}clear(){this._commands.forEach(e=>{e.forEach(t=>t.dispose())}),this._commands.clear()}};Wb.ExecuteCommandFeature=vne});var PMe=C(WW=>{"use strict";Object.defineProperty(WW,"__esModule",{value:!0});WW.FoldingRangeFeature=void 0;var RMe=require("vscode"),_E=en(),rN=Mo(),yne=class extends rN.TextDocumentLanguageFeature{constructor(e){super(e,_E.FoldingRangeRequest.type)}fillClientCapabilities(e){let t=(0,rN.ensure)((0,rN.ensure)(e,"textDocument"),"foldingRange");t.dynamicRegistration=!0,t.rangeLimit=5e3,t.lineFoldingOnly=!0,t.foldingRangeKind={valueSet:[_E.FoldingRangeKind.Comment,_E.FoldingRangeKind.Imports,_E.FoldingRangeKind.Region]},t.foldingRange={collapsedText:!1},(0,rN.ensure)((0,rN.ensure)(e,"workspace"),"foldingRange").refreshSupport=!0}initialize(e,t){this._client.onRequest(_E.FoldingRangeRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeFoldingRange.fire()});let[n,i]=this.getRegistration(t,e.foldingRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n=new RMe.EventEmitter,i={onDidChangeFoldingRanges:n.event,provideFoldingRanges:(o,s,a)=>{let c=this._client,u=(d,f,p)=>{let _={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d)};return c.sendRequest(_E.FoldingRangeRequest.type,_,p).then(D=>p.isCancellationRequested?null:c.protocol2CodeConverter.asFoldingRanges(D,p),D=>c.handleFailedRequest(_E.FoldingRangeRequest.type,p,D,null))},l=c.middleware;return l.provideFoldingRanges?l.provideFoldingRanges(o,s,a,u):u(o,s,a)}};return[RMe.languages.registerFoldingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),i),{provider:i,onDidChangeFoldingRange:n}]}};WW.FoldingRangeFeature=yne});var Sne=C($W=>{"use strict";Object.defineProperty($W,"__esModule",{value:!0});$W.DeclarationFeature=void 0;var l0t=require("vscode"),_ne=en(),bne=Mo(),wne=class extends bne.TextDocumentLanguageFeature{constructor(e){super(e,_ne.DeclarationRequest.type)}fillClientCapabilities(e){let t=(0,bne.ensure)((0,bne.ensure)(e,"textDocument"),"declaration");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.declarationProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDeclaration:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(_ne.DeclarationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(p=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDeclarationResult(p,f),p=>a.handleFailedRequest(_ne.DeclarationRequest.type,f,p,null)),u=a.middleware;return u.provideDeclaration?u.provideDeclaration(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return l0t.languages.registerDeclarationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};$W.DeclarationFeature=wne});var Ene=C(VW=>{"use strict";Object.defineProperty(VW,"__esModule",{value:!0});VW.SelectionRangeFeature=void 0;var d0t=require("vscode"),Cne=en(),Tne=Mo(),Dne=class extends Tne.TextDocumentLanguageFeature{constructor(e){super(e,Cne.SelectionRangeRequest.type)}fillClientCapabilities(e){let t=(0,Tne.ensure)((0,Tne.ensure)(e,"textDocument"),"selectionRange");t.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.selectionRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideSelectionRanges:(i,o,s)=>{let a=this._client,c=async(l,d,f)=>{let p={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),positions:a.code2ProtocolConverter.asPositionsSync(d,f)};return a.sendRequest(Cne.SelectionRangeRequest.type,p,f).then(_=>f.isCancellationRequested?null:a.protocol2CodeConverter.asSelectionRanges(_,f),_=>a.handleFailedRequest(Cne.SelectionRangeRequest.type,f,_,null))},u=a.middleware;return u.provideSelectionRanges?u.provideSelectionRanges(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return d0t.languages.registerSelectionRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};VW.SelectionRangeFeature=Dne});var One=C(GW=>{"use strict";Object.defineProperty(GW,"__esModule",{value:!0});GW.CallHierarchyFeature=void 0;var f0t=require("vscode"),bE=en(),Rne=Mo(),Pne=class{client;middleware;constructor(e){this.client=e,this.middleware=e.middleware}prepareCallHierarchy(e,t,n){let i=this.client,o=this.middleware,s=(a,c,u)=>{let l=i.code2ProtocolConverter.asTextDocumentPositionParams(a,c);return i.sendRequest(bE.CallHierarchyPrepareRequest.type,l,u).then(d=>u.isCancellationRequested?null:i.protocol2CodeConverter.asCallHierarchyItems(d,u),d=>i.handleFailedRequest(bE.CallHierarchyPrepareRequest.type,u,d,null))};return o.prepareCallHierarchy?o.prepareCallHierarchy(e,t,n,s):s(e,t,n)}provideCallHierarchyIncomingCalls(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asCallHierarchyItem(s)};return n.sendRequest(bE.CallHierarchyIncomingCallsRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asCallHierarchyIncomingCalls(u,a),u=>n.handleFailedRequest(bE.CallHierarchyIncomingCallsRequest.type,a,u,null))};return i.provideCallHierarchyIncomingCalls?i.provideCallHierarchyIncomingCalls(e,t,o):o(e,t)}provideCallHierarchyOutgoingCalls(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asCallHierarchyItem(s)};return n.sendRequest(bE.CallHierarchyOutgoingCallsRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asCallHierarchyOutgoingCalls(u,a),u=>n.handleFailedRequest(bE.CallHierarchyOutgoingCallsRequest.type,a,u,null))};return i.provideCallHierarchyOutgoingCalls?i.provideCallHierarchyOutgoingCalls(e,t,o):o(e,t)}},xne=class extends Rne.TextDocumentLanguageFeature{constructor(e){super(e,bE.CallHierarchyPrepareRequest.type)}fillClientCapabilities(e){let t=e,n=(0,Rne.ensure)((0,Rne.ensure)(t,"textDocument"),"callHierarchy");n.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.callHierarchyProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=this._client,n=new Pne(t);return[f0t.languages.registerCallHierarchyProvider(this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector),n),n]}};GW.CallHierarchyFeature=xne});var OMe=C($b=>{"use strict";var h0t=$b&&$b.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),p0t=$b&&$b.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),xMe=$b&&$b.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&h0t(t,e,n[i]);return p0t(t,e),t}}();Object.defineProperty($b,"__esModule",{value:!0});$b.SemanticTokensFeature=void 0;var KW=xMe(require("vscode")),ji=en(),nN=Mo(),m0t=xMe(Gv()),Ine=class extends nN.TextDocumentLanguageFeature{constructor(e){super(e,ji.SemanticTokensRegistrationType.type)}fillClientCapabilities(e){let t=(0,nN.ensure)((0,nN.ensure)(e,"textDocument"),"semanticTokens");t.dynamicRegistration=!0,t.tokenTypes=[ji.SemanticTokenTypes.namespace,ji.SemanticTokenTypes.type,ji.SemanticTokenTypes.class,ji.SemanticTokenTypes.enum,ji.SemanticTokenTypes.interface,ji.SemanticTokenTypes.struct,ji.SemanticTokenTypes.typeParameter,ji.SemanticTokenTypes.parameter,ji.SemanticTokenTypes.variable,ji.SemanticTokenTypes.property,ji.SemanticTokenTypes.enumMember,ji.SemanticTokenTypes.event,ji.SemanticTokenTypes.function,ji.SemanticTokenTypes.method,ji.SemanticTokenTypes.macro,ji.SemanticTokenTypes.keyword,ji.SemanticTokenTypes.modifier,ji.SemanticTokenTypes.comment,ji.SemanticTokenTypes.string,ji.SemanticTokenTypes.number,ji.SemanticTokenTypes.regexp,ji.SemanticTokenTypes.operator,ji.SemanticTokenTypes.decorator,ji.SemanticTokenTypes.label],t.tokenModifiers=[ji.SemanticTokenModifiers.declaration,ji.SemanticTokenModifiers.definition,ji.SemanticTokenModifiers.readonly,ji.SemanticTokenModifiers.static,ji.SemanticTokenModifiers.deprecated,ji.SemanticTokenModifiers.abstract,ji.SemanticTokenModifiers.async,ji.SemanticTokenModifiers.modification,ji.SemanticTokenModifiers.documentation,ji.SemanticTokenModifiers.defaultLibrary],t.formats=[ji.TokenFormat.Relative],t.requests={range:!0,full:{delta:!0}},t.multilineTokenSupport=!1,t.overlappingTokenSupport=!1,t.serverCancelSupport=!0,t.augmentsSyntaxTokens=!0,(0,nN.ensure)((0,nN.ensure)(e,"workspace"),"semanticTokens").refreshSupport=!0}initialize(e,t){this._client.onRequest(ji.SemanticTokensRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeSemanticTokensEmitter.fire()});let[i,o]=this.getRegistration(t,e.semanticTokensProvider);!i||!o||this.register({id:i,registerOptions:o})}registerLanguageProvider(e){let t=e.documentSelector,n=m0t.boolean(e.full)?e.full:e.full!==void 0,i=e.full!==void 0&&typeof e.full!="boolean"&&e.full.delta===!0,o=new KW.EventEmitter,s=n?{onDidChangeSemanticTokens:o.event,provideDocumentSemanticTokens:(p,_)=>{let D=this._client,P=D.middleware,M=(A,U)=>{let ne={textDocument:D.code2ProtocolConverter.asTextDocumentIdentifier(A)};return D.sendRequest(ji.SemanticTokensRequest.type,ne,U).then(pe=>U.isCancellationRequested?null:D.protocol2CodeConverter.asSemanticTokens(pe,U),pe=>D.handleFailedRequest(ji.SemanticTokensRequest.type,U,pe,null))};return P.provideDocumentSemanticTokens?P.provideDocumentSemanticTokens(p,_,M):M(p,_)},provideDocumentSemanticTokensEdits:i?(p,_,D)=>{let P=this._client,M=P.middleware,A=(U,ne,pe)=>{let ve={textDocument:P.code2ProtocolConverter.asTextDocumentIdentifier(U),previousResultId:ne};return P.sendRequest(ji.SemanticTokensDeltaRequest.type,ve,pe).then(async V=>pe.isCancellationRequested?null:ji.SemanticTokens.is(V)?await P.protocol2CodeConverter.asSemanticTokens(V,pe):await P.protocol2CodeConverter.asSemanticTokensEdits(V,pe),V=>P.handleFailedRequest(ji.SemanticTokensDeltaRequest.type,pe,V,null))};return M.provideDocumentSemanticTokensEdits?M.provideDocumentSemanticTokensEdits(p,_,D,A):A(p,_,D)}:void 0}:void 0,c=e.range===!0?{provideDocumentRangeSemanticTokens:(p,_,D)=>{let P=this._client,M=P.middleware,A=(U,ne,pe)=>{let ve={textDocument:P.code2ProtocolConverter.asTextDocumentIdentifier(U),range:P.code2ProtocolConverter.asRange(ne)};return P.sendRequest(ji.SemanticTokensRangeRequest.type,ve,pe).then(V=>pe.isCancellationRequested?null:P.protocol2CodeConverter.asSemanticTokens(V,pe),V=>P.handleFailedRequest(ji.SemanticTokensRangeRequest.type,pe,V,null))};return M.provideDocumentRangeSemanticTokens?M.provideDocumentRangeSemanticTokens(p,_,D,A):A(p,_,D)}}:void 0,u=[],l=this._client,d=l.protocol2CodeConverter.asSemanticTokensLegend(e.legend),f=l.protocol2CodeConverter.asDocumentSelector(t);return s!==void 0&&u.push(KW.languages.registerDocumentSemanticTokensProvider(f,s,d)),c!==void 0&&u.push(KW.languages.registerDocumentRangeSemanticTokensProvider(f,c,d)),[new KW.Disposable(()=>u.forEach(p=>p.dispose())),{range:c,full:s,onDidChangeSemanticTokensEmitter:o}]}};$b.SemanticTokensFeature=Ine});var kMe=C(Vb=>{"use strict";var g0t=Vb&&Vb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),v0t=Vb&&Vb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),IMe=Vb&&Vb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&g0t(t,e,n[i]);return v0t(t,e),t}}();Object.defineProperty(Vb,"__esModule",{value:!0});Vb.LinkedEditingFeature=void 0;var y0t=IMe(require("vscode")),kne=IMe(en()),Ane=Mo(),Lne=class extends Ane.TextDocumentLanguageFeature{constructor(e){super(e,kne.LinkedEditingRangeRequest.type)}fillClientCapabilities(e){let t=(0,Ane.ensure)((0,Ane.ensure)(e,"textDocument"),"linkedEditingRange");t.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.linkedEditingRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideLinkedEditingRanges:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(kne.LinkedEditingRangeRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(p=>f.isCancellationRequested?null:a.protocol2CodeConverter.asLinkedEditingRanges(p,f),p=>a.handleFailedRequest(kne.LinkedEditingRangeRequest.type,f,p,null)),u=a.middleware;return u.provideLinkedEditingRange?u.provideLinkedEditingRange(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return y0t.languages.registerLinkedEditingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};Vb.LinkedEditingFeature=Lne});var qne=C(YW=>{"use strict";Object.defineProperty(YW,"__esModule",{value:!0});YW.TypeHierarchyFeature=void 0;var _0t=require("vscode"),wE=en(),Mne=Mo(),Nne=class{client;middleware;constructor(e){this.client=e,this.middleware=e.middleware}prepareTypeHierarchy(e,t,n){let i=this.client,o=this.middleware,s=(a,c,u)=>{let l=i.code2ProtocolConverter.asTextDocumentPositionParams(a,c);return i.sendRequest(wE.TypeHierarchyPrepareRequest.type,l,u).then(d=>u.isCancellationRequested?null:i.protocol2CodeConverter.asTypeHierarchyItems(d,u),d=>i.handleFailedRequest(wE.TypeHierarchyPrepareRequest.type,u,d,null))};return o.prepareTypeHierarchy?o.prepareTypeHierarchy(e,t,n,s):s(e,t,n)}provideTypeHierarchySupertypes(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asTypeHierarchyItem(s)};return n.sendRequest(wE.TypeHierarchySupertypesRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asTypeHierarchyItems(u,a),u=>n.handleFailedRequest(wE.TypeHierarchySupertypesRequest.type,a,u,null))};return i.provideTypeHierarchySupertypes?i.provideTypeHierarchySupertypes(e,t,o):o(e,t)}provideTypeHierarchySubtypes(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asTypeHierarchyItem(s)};return n.sendRequest(wE.TypeHierarchySubtypesRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asTypeHierarchyItems(u,a),u=>n.handleFailedRequest(wE.TypeHierarchySubtypesRequest.type,a,u,null))};return i.provideTypeHierarchySubtypes?i.provideTypeHierarchySubtypes(e,t,o):o(e,t)}},Fne=class extends Mne.TextDocumentLanguageFeature{constructor(e){super(e,wE.TypeHierarchyPrepareRequest.type)}fillClientCapabilities(e){let t=(0,Mne.ensure)((0,Mne.ensure)(e,"textDocument"),"typeHierarchy");t.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.typeHierarchyProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=this._client,n=new Nne(t);return[_0t.languages.registerTypeHierarchyProvider(t.protocol2CodeConverter.asDocumentSelector(e.documentSelector),n),n]}};YW.TypeHierarchyFeature=Fne});var zne=C(XW=>{"use strict";Object.defineProperty(XW,"__esModule",{value:!0});XW.InlineValueFeature=void 0;var AMe=require("vscode"),JW=en(),iN=Mo(),jne=class extends iN.TextDocumentLanguageFeature{constructor(e){super(e,JW.InlineValueRequest.type)}fillClientCapabilities(e){(0,iN.ensure)((0,iN.ensure)(e,"textDocument"),"inlineValue").dynamicRegistration=!0,(0,iN.ensure)((0,iN.ensure)(e,"workspace"),"inlineValue").refreshSupport=!0}initialize(e,t){this._client.onRequest(JW.InlineValueRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeInlineValues.fire()});let[n,i]=this.getRegistration(t,e.inlineValueProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n=new AMe.EventEmitter,i={onDidChangeInlineValues:n.event,provideInlineValues:(o,s,a,c)=>{let u=this._client,l=(f,p,_,D)=>{let P={textDocument:u.code2ProtocolConverter.asTextDocumentIdentifier(f),range:u.code2ProtocolConverter.asRange(p),context:u.code2ProtocolConverter.asInlineValueContext(_)};return u.sendRequest(JW.InlineValueRequest.type,P,D).then(M=>D.isCancellationRequested?null:u.protocol2CodeConverter.asInlineValues(M,D),M=>u.handleFailedRequest(JW.InlineValueRequest.type,D,M,null))},d=u.middleware;return d.provideInlineValues?d.provideInlineValues(o,s,a,c,l):l(o,s,a,c)}};return[this.registerProvider(t,i),{provider:i,onDidChangeInlineValues:n}]}registerProvider(e,t){return AMe.languages.registerInlineValuesProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};XW.InlineValueFeature=jne});var MMe=C(QW=>{"use strict";Object.defineProperty(QW,"__esModule",{value:!0});QW.InlayHintsFeature=void 0;var LMe=require("vscode"),Jx=en(),oN=Mo(),Une=class extends oN.TextDocumentLanguageFeature{constructor(e){super(e,Jx.InlayHintRequest.type)}fillClientCapabilities(e){let t=(0,oN.ensure)((0,oN.ensure)(e,"textDocument"),"inlayHint");t.dynamicRegistration=!0,t.resolveSupport={properties:["tooltip","textEdits","label.tooltip","label.location","label.command"]},(0,oN.ensure)((0,oN.ensure)(e,"workspace"),"inlayHint").refreshSupport=!0}initialize(e,t){this._client.onRequest(Jx.InlayHintRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeInlayHints.fire()});let[n,i]=this.getRegistration(t,e.inlayHintProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n=new LMe.EventEmitter,i={onDidChangeInlayHints:n.event,provideInlayHints:(o,s,a)=>{let c=this._client,u=async(d,f,p)=>{let _={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),range:c.code2ProtocolConverter.asRange(f)};try{let D=await c.sendRequest(Jx.InlayHintRequest.type,_,p);return p.isCancellationRequested?null:c.protocol2CodeConverter.asInlayHints(D,p)}catch(D){return c.handleFailedRequest(Jx.InlayHintRequest.type,p,D,null)}},l=c.middleware;return l.provideInlayHints?l.provideInlayHints(o,s,a,u):u(o,s,a)}};return i.resolveInlayHint=e.resolveProvider===!0?(o,s)=>{let a=this._client,c=async(l,d)=>{try{let f=await a.sendRequest(Jx.InlayHintResolveRequest.type,a.code2ProtocolConverter.asInlayHint(l),d);if(d.isCancellationRequested)return null;let p=a.protocol2CodeConverter.asInlayHint(f,d);return d.isCancellationRequested?null:p}catch(f){return a.handleFailedRequest(Jx.InlayHintResolveRequest.type,d,f,null)}},u=a.middleware;return u.resolveInlayHint?u.resolveInlayHint(o,s,c):c(o,s)}:void 0,[this.registerProvider(t,i),{provider:i,onDidChangeInlayHints:n}]}registerProvider(e,t){return LMe.languages.registerInlayHintsProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};QW.InlayHintsFeature=Une});var $ne=C(u_=>{"use strict";var b0t=u_&&u_.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),w0t=u_&&u_.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),S0t=u_&&u_.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&b0t(t,e,n[i]);return w0t(t,e),t}}();Object.defineProperty(u_,"__esModule",{value:!0});u_.WorkspaceFoldersFeature=void 0;u_.arrayDiff=Bne;var C0t=S0t(Va()),ZW=require("vscode"),sN=en();function Hne(r,e){if(r!=null)return r[e]}function Bne(r,e){return r.filter(t=>e.indexOf(t)<0)}var Wne=class{_client;_listeners;_initialFolders;constructor(e){this._client=e,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return sN.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){let t=ZW.workspace.workspaceFolders;this.initializeWithFolders(t),t===void 0?e.workspaceFolders=null:e.workspaceFolders=t.map(n=>this.asProtocol(n))}initializeWithFolders(e){this._initialFolders=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){let t=this._client;t.onRequest(sN.WorkspaceFoldersRequest.type,o=>{let s=()=>{let c=ZW.workspace.workspaceFolders;return c===void 0?null:c.map(l=>this.asProtocol(l))},a=t.middleware.workspace;return a&&a.workspaceFolders?a.workspaceFolders(o,s):s(o)});let n=Hne(Hne(Hne(e,"workspace"),"workspaceFolders"),"changeNotifications"),i;typeof n=="string"?i=n:n===!0&&(i=C0t.generateUuid()),i&&this.register({id:i,registerOptions:void 0})}sendInitialEvent(e){let t;if(this._initialFolders&&e){let n=Bne(this._initialFolders,e),i=Bne(e,this._initialFolders);(i.length>0||n.length>0)&&(t=this.doSendEvent(i,n))}else this._initialFolders?t=this.doSendEvent([],this._initialFolders):e&&(t=this.doSendEvent(e,[]));t!==void 0&&t.catch(n=>{this._client.error(`Sending notification ${sN.DidChangeWorkspaceFoldersNotification.type.method} failed`,n)})}doSendEvent(e,t){let n={event:{added:e.map(i=>this.asProtocol(i)),removed:t.map(i=>this.asProtocol(i))}};return this._client.sendNotification(sN.DidChangeWorkspaceFoldersNotification.type,n)}register(e){let t=e.id,n=this._client,i=ZW.workspace.onDidChangeWorkspaceFolders(o=>{let s=u=>this.doSendEvent(u.added,u.removed),a=n.middleware.workspace;(a&&a.didChangeWorkspaceFolders?a.didChangeWorkspaceFolders(o,s):s(o)).catch(u=>{this._client.error(`Sending notification ${sN.DidChangeWorkspaceFoldersNotification.type.method} failed`,u)})});this._listeners.set(t,i),this.sendInitialEvent(ZW.workspace.workspaceFolders)}unregister(e){let t=this._listeners.get(e);t!==void 0&&(this._listeners.delete(e),t.dispose())}clear(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return e===void 0?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}};u_.WorkspaceFoldersFeature=Wne});var qMe=C(ll=>{"use strict";var T0t=ll&&ll.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),D0t=ll&&ll.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),r$=ll&&ll.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&T0t(t,e,n[i]);return D0t(t,e),t}}();Object.defineProperty(ll,"__esModule",{value:!0});ll.WillDeleteFilesFeature=ll.WillRenameFilesFeature=ll.WillCreateFilesFeature=ll.DidDeleteFilesFeature=ll.DidRenameFilesFeature=ll.DidCreateFilesFeature=void 0;var Xv=r$(require("vscode")),E0t=r$(dre()),BS=r$(en()),R0t=r$(Va());function NMe(r,e){return r[e]===void 0&&(r[e]={}),r[e]}function P0t(r,e){return r[e]}function FMe(r,e,t){r[e]=t}var aN=class r{_client;_event;_registrationType;_clientCapability;_serverCapability;_listener;_filters;constructor(e,t,n,i,o){this._client=e,this._event=t,this._registrationType=n,this._clientCapability=i,this._serverCapability=o,this._filters=new Map}getState(){return{kind:"workspace",id:this._registrationType.method,registrations:this._filters.size>0}}filterSize(){return this._filters.size}get registrationType(){return this._registrationType}fillClientCapabilities(e){let t=NMe(NMe(e,"workspace"),"fileOperations");FMe(t,"dynamicRegistration",!0),FMe(t,this._clientCapability,!0)}initialize(e){let t=e.workspace?.fileOperations,n=t!==void 0?P0t(t,this._serverCapability):void 0;if(n?.filters!==void 0)try{this.register({id:R0t.generateUuid(),registerOptions:{filters:n.filters}})}catch(i){this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${i}`)}}register(e){this._listener||(this._listener=this._event(this.send,this));let t=e.registerOptions.filters.map(n=>{let i=new E0t.Minimatch(n.pattern.glob,r.asMinimatchOptions(n.pattern.options));if(!i.makeRe())throw new Error(`Invalid pattern ${n.pattern.glob}!`);return{scheme:n.scheme,matcher:i,kind:n.pattern.matches}});this._filters.set(e.id,t)}unregister(e){this._filters.delete(e),this._filters.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getFileType(e){return r.getFileType(e)}async filter(e,t){let n=await Promise.all(e.files.map(async o=>{let s=t(o),a=s.fsPath.replace(/\\/g,"/");for(let c of this._filters.values())for(let u of c)if(!(u.scheme!==void 0&&u.scheme!==s.scheme)){if(u.matcher.match(a)){if(u.kind===void 0)return!0;let l=await this.getFileType(s);if(l===void 0)return this._client.info(`Unable to determine file type for ${s.toString()}. Treating as a match.`),!0;if(l===Xv.FileType.File&&u.kind===BS.FileOperationPatternKind.file||l===Xv.FileType.Directory&&u.kind===BS.FileOperationPatternKind.folder)return!0}else if(u.kind===BS.FileOperationPatternKind.folder&&await r.getFileType(s)===Xv.FileType.Directory&&u.matcher.match(`${a}/`))return!0}return!1})),i=e.files.filter((o,s)=>n[s]);return{...e,files:i}}static async getFileType(e){try{return(await Xv.workspace.fs.stat(e)).type}catch{return}}static asMinimatchOptions(e){let t={dot:!0};return e?.ignoreCase===!0&&(t.nocase=!0),t}},e$=class extends aN{_notificationType;_accessUri;_createParams;constructor(e,t,n,i,o,s,a){super(e,t,n,i,o),this._notificationType=n,this._accessUri=s,this._createParams=a}async send(e){let t=await this.filter(e,this._accessUri);if(t.files.length){let n=async i=>this._client.sendNotification(this._notificationType,this._createParams(i));return this.doSend(t,n)}}},t$=class extends e${_willListener;_fsPathFileTypes=new Map;async getFileType(e){let t=e.fsPath;if(this._fsPathFileTypes.has(t))return this._fsPathFileTypes.get(t);let n=await aN.getFileType(e);return n&&this._fsPathFileTypes.set(t,n),n}async cacheFileTypes(e,t){await this.filter(e,t)}clearFileTypeCache(){this._fsPathFileTypes.clear()}unregister(e){super.unregister(e),this.filterSize()===0&&this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}clear(){super.clear(),this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}},Vne=class extends e${constructor(e){super(e,Xv.workspace.onDidCreateFiles,BS.DidCreateFilesNotification.type,"didCreate","didCreate",t=>t,e.code2ProtocolConverter.asDidCreateFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.didCreateFiles?n.didCreateFiles(e,t):t(e)}};ll.DidCreateFilesFeature=Vne;var Gne=class extends t${constructor(e){super(e,Xv.workspace.onDidRenameFiles,BS.DidRenameFilesNotification.type,"didRename","didRename",t=>t.oldUri,e.code2ProtocolConverter.asDidRenameFilesParams)}register(e){this._willListener||(this._willListener=Xv.workspace.onWillRenameFiles(this.willRename,this)),super.register(e)}willRename(e){e.waitUntil(this.cacheFileTypes(e,t=>t.oldUri))}doSend(e,t){this.clearFileTypeCache();let n=this._client.middleware.workspace;return n?.didRenameFiles?n.didRenameFiles(e,t):t(e)}};ll.DidRenameFilesFeature=Gne;var Kne=class extends t${constructor(e){super(e,Xv.workspace.onDidDeleteFiles,BS.DidDeleteFilesNotification.type,"didDelete","didDelete",t=>t,e.code2ProtocolConverter.asDidDeleteFilesParams)}register(e){this._willListener||(this._willListener=Xv.workspace.onWillDeleteFiles(this.willDelete,this)),super.register(e)}willDelete(e){e.waitUntil(this.cacheFileTypes(e,t=>t))}doSend(e,t){this.clearFileTypeCache();let n=this._client.middleware.workspace;return n?.didDeleteFiles?n.didDeleteFiles(e,t):t(e)}};ll.DidDeleteFilesFeature=Kne;var cN=class extends aN{_requestType;_accessUri;_createParams;constructor(e,t,n,i,o,s,a){super(e,t,n,i,o),this._requestType=n,this._accessUri=s,this._createParams=a}async send(e){let t=this.waitUntil(e);e.waitUntil(t)}async waitUntil(e){let t=await this.filter(e,this._accessUri);if(t.files.length){let n=i=>this._client.sendRequest(this._requestType,this._createParams(i),i.token).then(this._client.protocol2CodeConverter.asWorkspaceEdit);return this.doSend(t,n)}else return}},Yne=class extends cN{constructor(e){super(e,Xv.workspace.onWillCreateFiles,BS.WillCreateFilesRequest.type,"willCreate","willCreate",t=>t,e.code2ProtocolConverter.asWillCreateFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.willCreateFiles?n.willCreateFiles(e,t):t(e)}};ll.WillCreateFilesFeature=Yne;var Jne=class extends cN{constructor(e){super(e,Xv.workspace.onWillRenameFiles,BS.WillRenameFilesRequest.type,"willRename","willRename",t=>t.oldUri,e.code2ProtocolConverter.asWillRenameFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.willRenameFiles?n.willRenameFiles(e,t):t(e)}};ll.WillRenameFilesFeature=Jne;var Xne=class extends cN{constructor(e){super(e,Xv.workspace.onWillDeleteFiles,BS.WillDeleteFilesRequest.type,"willDelete","willDelete",t=>t,e.code2ProtocolConverter.asWillDeleteFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.willDeleteFiles?n.willDeleteFiles(e,t):t(e)}};ll.WillDeleteFilesFeature=Xne});var jMe=C(Gb=>{"use strict";var x0t=Gb&&Gb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),O0t=Gb&&Gb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),I0t=Gb&&Gb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&x0t(t,e,n[i]);return O0t(t,e),t}}();Object.defineProperty(Gb,"__esModule",{value:!0});Gb.InlineCompletionItemFeature=void 0;var k0t=require("vscode"),Qne=en(),Zne=Mo(),A0t=I0t(Va()),eie=class extends Zne.TextDocumentLanguageFeature{constructor(e){super(e,Qne.InlineCompletionRequest.type)}fillClientCapabilities(e){let t=(0,Zne.ensure)((0,Zne.ensure)(e,"textDocument"),"inlineCompletion");t.dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.inlineCompletionProvider);n&&this.register({id:A0t.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideInlineCompletionItems:(i,o,s,a)=>{let c=this._client,u=this._client.middleware,l=(d,f,p,_)=>c.sendRequest(Qne.InlineCompletionRequest.type,c.code2ProtocolConverter.asInlineCompletionParams(d,f,p),_).then(D=>_.isCancellationRequested?null:c.protocol2CodeConverter.asInlineCompletionResult(D,_),D=>c.handleFailedRequest(Qne.InlineCompletionRequest.type,_,D,null));return u.provideInlineCompletionItems?u.provideInlineCompletionItems(i,o,s,a,l):l(i,o,s,a)}};return[k0t.languages.registerInlineCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};Gb.InlineCompletionItemFeature=eie});var HMe=C(Kb=>{"use strict";var L0t=Kb&&Kb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),M0t=Kb&&Kb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),UMe=Kb&&Kb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&L0t(t,e,n[i]);return M0t(t,e),t}}();Object.defineProperty(Kb,"__esModule",{value:!0});Kb.TextDocumentContentFeature=void 0;var tie=UMe(require("vscode")),Xx=en(),zMe=Mo(),N0t=UMe(Va()),rie=class{_client;_registrations=new Map;constructor(e){this._client=e}getState(){let e=this._registrations.size>0;return{kind:"workspace",id:Xx.TextDocumentContentRequest.method,registrations:e}}get registrationType(){return Xx.TextDocumentContentRequest.type}getProviders(){let e=[];for(let t of this._registrations.values())e.push(...t.providers);return e}fillClientCapabilities(e){let t=(0,zMe.ensure)((0,zMe.ensure)(e,"workspace"),"textDocumentContent");t.dynamicRegistration=!0}initialize(e){let t=this._client;if(t.onRequest(Xx.TextDocumentContentRefreshRequest.type,async o=>{let s=t.protocol2CodeConverter.asUri(o.uri);for(let a of this._registrations.values())for(let c of a.providers)c.scheme!==s.scheme&&c.onDidChangeEmitter.fire(s)}),!e?.workspace?.textDocumentContent)return;let n=e.workspace.textDocumentContent,i=Xx.StaticRegistrationOptions.hasId(n)?n.id:N0t.generateUuid();this.register({id:i,registerOptions:n})}register(e){let t=[],n=[];for(let i of e.registerOptions.schemes){let[o,s]=this.registerTextDocumentContentProvider(i);t.push(s),n.push(o)}this._registrations.set(e.id,{disposable:tie.Disposable.from(...n),providers:t})}registerTextDocumentContentProvider(e){let t=new tie.EventEmitter,n={onDidChange:t.event,provideTextDocumentContent:(i,o)=>{let s=this._client,a=(u,l)=>{let d={uri:s.code2ProtocolConverter.asUri(u)};return s.sendRequest(Xx.TextDocumentContentRequest.type,d,l).then(f=>l.isCancellationRequested?null:f.text,f=>s.handleFailedRequest(Xx.TextDocumentContentRequest.type,l,f,null))},c=s.middleware;return c.provideTextDocumentContent?c.provideTextDocumentContent(i,o,a):a(i,o)}};return[tie.workspace.registerTextDocumentContentProvider(e,n),{scheme:e,onDidChangeEmitter:t,provider:n}]}unregister(e){let t=this._registrations.get(e);t!==void 0&&(this._registrations.delete(e),t.disposable.dispose())}clear(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}};Kb.TextDocumentContentFeature=rie});var BMe=C(i$=>{"use strict";Object.defineProperty(i$,"__esModule",{value:!0});i$.FileSystemWatcherFeature=void 0;var F0t=require("vscode"),SE=en(),n$=Mo(),nie=class{_client;_notifyFileEvent;_watchers;constructor(e,t){this._client=e,this._notifyFileEvent=t,this._watchers=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._watchers.size>0}}get registrationType(){return SE.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){(0,n$.ensure)((0,n$.ensure)(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0,(0,n$.ensure)((0,n$.ensure)(e,"workspace"),"didChangeWatchedFiles").relativePatternSupport=!0}initialize(e,t){}register(e){if(!Array.isArray(e.registerOptions.watchers))return;let t=[];for(let n of e.registerOptions.watchers){let i=this._client.protocol2CodeConverter.asGlobPattern(n.globPattern);if(i===void 0)continue;let o=!0,s=!0,a=!0;n.kind!==void 0&&n.kind!==null&&(o=(n.kind&SE.WatchKind.Create)!==0,s=(n.kind&SE.WatchKind.Change)!==0,a=(n.kind&SE.WatchKind.Delete)!==0);let c=F0t.workspace.createFileSystemWatcher(i,!o,!s,!a);this.hookListeners(c,o,s,a,t),t.push(c)}this._watchers.set(e.id,t)}registerRaw(e,t){let n=[];for(let i of t)this.hookListeners(i,!0,!0,!0,n);this._watchers.set(e,n)}hookListeners(e,t,n,i,o){t&&e.onDidCreate(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:SE.FileChangeType.Created}),null,o),n&&e.onDidChange(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:SE.FileChangeType.Changed}),null,o),i&&e.onDidDelete(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:SE.FileChangeType.Deleted}),null,o)}unregister(e){let t=this._watchers.get(e);if(t){this._watchers.delete(e);for(let n of t)n.dispose()}}clear(){this._watchers.forEach(e=>{for(let t of e)t.dispose()}),this._watchers.clear()}};i$.FileSystemWatcherFeature=nie});var $Me=C(o$=>{"use strict";Object.defineProperty(o$,"__esModule",{value:!0});o$.ProgressFeature=void 0;var WMe=en(),q0t=Zte();function j0t(r,e){return r[e]===void 0&&(r[e]=Object.create(null)),r[e]}var iie=class{_client;activeParts;constructor(e){this._client=e,this.activeParts=new Set}getState(){return{kind:"window",id:WMe.WorkDoneProgressCreateRequest.method,registrations:this.activeParts.size>0}}fillClientCapabilities(e){j0t(e,"window").workDoneProgress=!0}initialize(){let e=this._client,t=i=>{this.activeParts.delete(i)},n=i=>{this.activeParts.add(new q0t.ProgressPart(this._client,i.token,t))};e.onRequest(WMe.WorkDoneProgressCreateRequest.type,n)}clear(){for(let e of this.activeParts)e.done();this.activeParts.clear()}};o$.ProgressFeature=iie});var hie=C(ia=>{"use strict";var z0t=ia&&ia.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),U0t=ia&&ia.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),c$=ia&&ia.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&z0t(t,e,n[i]);return U0t(t,e),t}}();Object.defineProperty(ia,"__esModule",{value:!0});ia.ProposedFeatures=ia.LanguageClient=ia.BaseLanguageClient=ia.ShutdownMode=ia.MessageTransports=ia.SuspendMode=ia.State=ia.CloseAction=ia.ErrorAction=ia.RevealOutputChannelOn=void 0;var Mi=require("vscode"),mr=en(),H0t=c$(CLe()),B0t=c$(TW()),l_=c$(Gv()),s$=_W(),VMe=c$(Va()),W0t=Zte(),kg=Mo(),$0t=MW(),sie=wre(),GMe=oMe(),Qx=sMe(),V0t=aMe(),G0t=cMe(),K0t=uMe(),Y0t=dMe(),J0t=fMe(),X0t=Wre(),Q0t=pMe(),Z0t=mMe(),eEt=gMe(),tEt=vMe(),rEt=nne(),nEt=yMe(),iEt=bMe(),oie=wMe(),oEt=TMe(),sEt=mne(),aEt=EMe(),cEt=PMe(),uEt=Sne(),lEt=Ene(),dEt=One(),fEt=OMe(),hEt=kMe(),pEt=qne(),mEt=zne(),gEt=MMe(),vEt=$ne(),Zx=qMe(),yEt=jMe(),_Et=HMe(),bEt=BMe(),wEt=$Me(),CE;(function(r){r[r.Debug=0]="Debug",r[r.Info=1]="Info",r[r.Warn=2]="Warn",r[r.Error=3]="Error",r[r.Never=4]="Never"})(CE||(ia.RevealOutputChannelOn=CE={}));var uN;(function(r){r[r.Continue=1]="Continue",r[r.Shutdown=2]="Shutdown"})(uN||(ia.ErrorAction=uN={}));var pD;(function(r){r[r.DoNotRestart=1]="DoNotRestart",r[r.Restart=2]="Restart"})(pD||(ia.CloseAction=pD={}));var eO;(function(r){r[r.Stopped=1]="Stopped",r[r.Starting=3]="Starting",r[r.StartFailed=4]="StartFailed",r[r.Running=2]="Running"})(eO||(ia.State=eO={}));var KMe;(function(r){r.off="off",r.on="on"})(KMe||(ia.SuspendMode=KMe={}));var aie;(function(r){function e(t){return t==null?!1:typeof t=="boolean"||typeof t=="object"&&t!==null&&l_.stringArray(t.enabledCommands)?t:!1}r.sanitizeIsTrusted=e})(aie||(aie={}));var cie=class{client;maxRestartCount;restarts;constructor(e,t){this.client=e,this.maxRestartCount=t,this.restarts=[]}error(e,t,n){return n&&n<=3?{action:uN.Continue}:{action:uN.Shutdown}}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?{action:pD.Restart}:this.restarts[this.restarts.length-1]-this.restarts[0]<=3*60*1e3?{action:pD.DoNotRestart,message:`The ${this.client.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted. See the output for more information.`}:(this.restarts.shift(),{action:pD.Restart})}},oo;(function(r){r.Initial="initial",r.Starting="starting",r.StartFailed="startFailed",r.Running="running",r.Stopping="stopping",r.Stopped="stopped"})(oo||(oo={}));var YMe;(function(r){function e(t){return t&&mr.MessageReader.is(t.reader)&&mr.MessageWriter.is(t.writer)}r.is=e})(YMe||(ia.MessageTransports=YMe={}));var hD;(function(r){r.Restart="restart",r.Stop="stop"})(hD||(ia.ShutdownMode=hD={}));var uie=class r{open;_onOpen;_onClose;disposable;constructor(){this.open=new Set,this._onOpen=new Mi.EventEmitter,this._onClose=new Mi.EventEmitter,r.fillTabResources(this.open);let e=t=>{if(t.closed.length===0&&t.opened.length===0)return;let n=this.open,i=new Set;r.fillTabResources(i);let o=new Set,s=new Set(i);for(let a of n.values())i.has(a)?s.delete(a):o.add(a);if(this.open=i,o.size>0){let a=new Set;for(let c of o)a.add(Mi.Uri.parse(c));this._onClose.fire(a)}if(s.size>0){let a=new Set;for(let c of s)a.add(Mi.Uri.parse(c));this._onOpen.fire(a)}};Mi.window.tabGroups.onDidChangeTabs!==void 0?this.disposable=Mi.window.tabGroups.onDidChangeTabs(e):this.disposable={dispose:()=>{}}}get onClose(){return this._onClose.event}get onOpen(){return this._onOpen.event}dispose(){this.disposable.dispose()}isActive(e){return e instanceof Mi.Uri?Mi.window.activeTextEditor?.document.uri===e:Mi.window.activeTextEditor?.document===e}isVisible(e){let t=e instanceof Mi.Uri?e:e.uri;return t.scheme===sie.NotebookDocumentSyncFeature.CellScheme?Mi.workspace.notebookDocuments.some(n=>this.open.has(n.uri.toString())?n.getCells().find(o=>o.document.uri.toString()===t.toString())!==void 0:!1):this.open.has(t.toString())}getTabResources(){let e=new Set;return r.fillTabResources(new Set,e),e}static fillTabResources(e,t){let n=e??new Set;for(let i of Mi.window.tabGroups.all)for(let o of i.tabs){let s=o.input,a;s instanceof Mi.TabInputText?a=s.uri:s instanceof Mi.TabInputTextDiff?a=s.modified:(s instanceof Mi.TabInputCustom||s instanceof Mi.TabInputNotebook)&&(a=s.uri),a!==void 0&&!n.has(a.toString())&&(n.add(a.toString()),t!==void 0&&t.add(a))}}},a$=class r{_id;_name;_clientOptions;_state;_onStart;_onStop;_connection;_idleInterval;_ignoredRegistrations;_listeners;_disposed;_notificationHandlers;_notificationDisposables;_pendingNotificationHandlers;_requestHandlers;_requestDisposables;_pendingRequestHandlers;_progressHandlers;_pendingProgressHandlers;_progressDisposables;_initializeResult;_outputChannel;_disposeOutputChannel;_traceOutputChannel;_capabilities;_diagnostics;_syncedDocuments;_didChangeTextDocumentFeature;_inFlightOpenNotifications;_pendingChangeSemaphore;_pendingChangeDelayer;_didOpenTextDocumentFeature;_fileEvents;_fileEventDelayer;_telemetryEmitter;_stateChangeEmitter;_trace;_traceFormat=mr.TraceFormat.Text;_tracer;_c2p;_p2c;_tabsModel;constructor(e,t,n){this._id=e,this._name=t,n=n||{};let i={isTrusted:!1,supportHtml:!1,supportThemeIcons:!1};n.markdown!==void 0&&(i.isTrusted=aie.sanitizeIsTrusted(n.markdown.isTrusted),i.supportHtml=n.markdown.supportHtml===!0,i.supportThemeIcons=n.markdown.supportThemeIcons===!0),this._clientOptions={documentSelector:n.documentSelector??[],synchronize:n.synchronize??{},diagnosticCollectionName:n.diagnosticCollectionName,outputChannelName:n.outputChannelName??this._name,revealOutputChannelOn:n.revealOutputChannelOn??CE.Error,stdioEncoding:n.stdioEncoding??"utf8",initializationOptions:n.initializationOptions,initializationFailedHandler:n.initializationFailedHandler,progressOnInitialization:!!n.progressOnInitialization,errorHandler:n.errorHandler??this.createDefaultErrorHandler(n.connectionOptions?.maxRestartCount),middleware:n.middleware??{},uriConverters:n.uriConverters,workspaceFolder:n.workspaceFolder,connectionOptions:n.connectionOptions,markdown:i,diagnosticPullOptions:n.diagnosticPullOptions??{onChange:!0,onSave:!1},notebookDocumentOptions:n.notebookDocumentOptions??{},textSynchronization:this.createTextSynchronizationOptions(n.textSynchronization)},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=oo.Initial,this._ignoredRegistrations=new Set,this._listeners=[],this._notificationHandlers=new Map,this._pendingNotificationHandlers=new Map,this._notificationDisposables=new Map,this._requestHandlers=new Map,this._pendingRequestHandlers=new Map,this._requestDisposables=new Map,this._progressHandlers=new Map,this._pendingProgressHandlers=new Map,this._progressDisposables=new Map,this._connection=void 0,this._initializeResult=void 0,n.outputChannel?(this._outputChannel=n.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=n.traceOutputChannel,this._diagnostics=void 0,this._inFlightOpenNotifications=new Set,this._pendingChangeSemaphore=new s$.Semaphore(1),this._pendingChangeDelayer=new s$.Delayer(250),this._fileEvents=[],this._fileEventDelayer=new s$.Delayer(250),this._onStop=void 0,this._telemetryEmitter=new mr.Emitter,this._stateChangeEmitter=new mr.Emitter,this._trace=mr.Trace.Off,this._tracer={log:(o,s)=>{l_.string(o)?this.logTrace(o,s):this.logObjectTrace(o)}},this._c2p=H0t.createConverter(n.uriConverters?n.uriConverters.code2Protocol:void 0),this._p2c=B0t.createConverter(n.uriConverters?n.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted,this._clientOptions.markdown.supportHtml,this._clientOptions.markdown.supportThemeIcons),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}createTextSynchronizationOptions(e){return e?typeof e.delayOpenNotifications=="boolean"?{delayOpenNotifications:e.delayOpenNotifications}:{delayOpenNotifications:!1}:{delayOpenNotifications:!1}}get name(){return this._name}get middleware(){return this._clientOptions.middleware??Object.create(null)}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get tabsModel(){return this._tabsModel===void 0&&(this._tabsModel=new uie),this._tabsModel}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=Mi.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}get state(){return this.getPublicState()}get $state(){return this._state}set $state(e){let t=this.getPublicState();this._state=e;let n=this.getPublicState();n!==t&&this._stateChangeEmitter.fire({oldState:t,newState:n})}getPublicState(){switch(this.$state){case oo.Starting:return eO.Starting;case oo.Running:return eO.Running;case oo.StartFailed:return eO.StartFailed;default:return eO.Stopped}}get initializeResult(){return this._initializeResult}async sendRequest(e,...t){if(this.$state===oo.StartFailed||this.$state===oo.Stopping||this.$state===oo.Stopped)return Promise.reject(new mr.ResponseError(mr.ErrorCodes.ConnectionInactive,"Client is not running"));let n=await this.$start();await this._didOpenTextDocumentFeature.sendPendingOpenNotifications(),this._didChangeTextDocumentFeature.syncKind===mr.TextDocumentSyncKind.Full&&await this.sendPendingFullTextDocumentChanges(n);let i,o;if(t.length===1?mr.CancellationToken.is(t[0])?o=t[0]:i=t[0]:t.length===2&&(i=t[0],o=t[1]),o!==void 0&&o.isCancellationRequested)return Promise.reject(new mr.ResponseError(mr.LSPErrorCodes.RequestCancelled,"Request got cancelled"));let s=this._clientOptions.middleware?.sendRequest;return s!==void 0?s(e,i,o,(a,c,u)=>{let l=[];return c!==void 0&&l.push(c),u!==void 0&&l.push(u),n.sendRequest(a,...l)}):n.sendRequest(e,...t)}onRequest(e,t){let n=typeof e=="string"?e:e.method;this._requestHandlers.set(n,t);let i=this.activeConnection(),o;return i!==void 0?(this._requestDisposables.set(n,i.onRequest(e,t)),o={dispose:()=>{let s=this._requestDisposables.get(n);s!==void 0&&(s.dispose(),this._requestDisposables.delete(n))}}):(this._pendingRequestHandlers.set(n,t),o={dispose:()=>{this._pendingRequestHandlers.delete(n);let s=this._requestDisposables.get(n);s!==void 0&&(s.dispose(),this._requestDisposables.delete(n))}}),{dispose:()=>{this._requestHandlers.delete(n),o.dispose()}}}async sendNotification(e,t){if(this.$state===oo.StartFailed||this.$state===oo.Stopping||this.$state===oo.Stopped)return Promise.reject(new mr.ResponseError(mr.ErrorCodes.ConnectionInactive,"Client is not running"));let n=this._didChangeTextDocumentFeature.syncKind===mr.TextDocumentSyncKind.Full,i;n&&typeof e!="string"&&e.method===mr.DidOpenTextDocumentNotification.method&&(i=t?.textDocument.uri,this._inFlightOpenNotifications.add(i));let o;typeof e!="string"&&e.method===mr.DidCloseTextDocumentNotification.method&&(o=t.textDocument.uri);let s=await this.$start();await this._didOpenTextDocumentFeature.sendPendingOpenNotifications(o),n&&await this.sendPendingFullTextDocumentChanges(s),i!==void 0&&this._inFlightOpenNotifications.delete(i);let a=this._clientOptions.middleware?.sendNotification;return a?a(e,s.sendNotification.bind(s),t):s.sendNotification(e,t)}onNotification(e,t){let n=typeof e=="string"?e:e.method;this._notificationHandlers.set(n,t);let i=this.activeConnection(),o;return i!==void 0?(this._notificationDisposables.set(n,i.onNotification(e,t)),o={dispose:()=>{let s=this._notificationDisposables.get(n);s!==void 0&&(s.dispose(),this._notificationDisposables.delete(n))}}):(this._pendingNotificationHandlers.set(n,t),o={dispose:()=>{this._pendingNotificationHandlers.delete(n);let s=this._notificationDisposables.get(n);s!==void 0&&(s.dispose(),this._notificationDisposables.delete(n))}}),{dispose:()=>{this._notificationHandlers.delete(n),o.dispose()}}}async sendProgress(e,t,n){if(this.$state===oo.StartFailed||this.$state===oo.Stopping||this.$state===oo.Stopped)return Promise.reject(new mr.ResponseError(mr.ErrorCodes.ConnectionInactive,"Client is not running"));try{return(await this.$start()).sendProgress(e,t,n)}catch(i){throw this.error(`Sending progress for token ${t} failed.`,i),i}}onProgress(e,t,n){this._progressHandlers.set(t,{type:e,handler:n});let i=this.activeConnection(),o,s=this._clientOptions.middleware?.handleWorkDoneProgress,a=mr.WorkDoneProgress.is(e)&&s!==void 0?c=>{s(t,c,()=>n(c))}:n;return i!==void 0?(this._progressDisposables.set(t,i.onProgress(e,t,a)),o={dispose:()=>{let c=this._progressDisposables.get(t);c!==void 0&&(c.dispose(),this._progressDisposables.delete(t))}}):(this._pendingProgressHandlers.set(t,{type:e,handler:n}),o={dispose:()=>{this._pendingProgressHandlers.delete(t);let c=this._progressDisposables.get(t);c!==void 0&&(c.dispose(),this._progressDisposables.delete(t))}}),{dispose:()=>{this._progressHandlers.delete(t),o.dispose()}}}createDefaultErrorHandler(e){if(e!==void 0&&e<0)throw new Error(`Invalid maxRestartCount: ${e}`);return new cie(this,e??4)}async setTrace(e){this._trace=e;let t=this.activeConnection();t!==void 0&&await t.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})}data2String(e){if(e instanceof mr.ResponseError){let t=e;return`  Message: ${t.message}
  Code: ${t.code} ${t.data?`
`+t.data.toString():""}`}return e instanceof Error?l_.string(e.stack)?e.stack:e.message:l_.string(e)?e:e.toString()}debug(e,t,n=!0){this.logOutputMessage(mr.MessageType.Debug,CE.Debug,"Debug",e,t,n)}info(e,t,n=!0){this.logOutputMessage(mr.MessageType.Info,CE.Info,"Info",e,t,n)}warn(e,t,n=!0){this.logOutputMessage(mr.MessageType.Warning,CE.Warn,"Warn",e,t,n)}error(e,t,n=!0){this.logOutputMessage(mr.MessageType.Error,CE.Error,"Error",e,t,n)}logOutputMessage(e,t,n,i,o,s){this.outputChannel.appendLine(`[${n.padEnd(5)} - ${new Date().toLocaleTimeString()}] ${i}`),o!=null&&this.outputChannel.appendLine(this.data2String(o)),(s==="force"||s&&this._clientOptions.revealOutputChannelOn<=t)&&this.showNotificationMessage(e,i,o)}showNotificationMessage(e,t,n){t=t??"A request has failed. See the output for more information.",n&&(t+=`
`+this.data2String(n)),(e===mr.MessageType.Error?Mi.window.showErrorMessage:e===mr.MessageType.Warning?Mi.window.showWarningMessage:Mi.window.showInformationMessage)(t,"Go to output").then(o=>{o!==void 0&&this.outputChannel.show(!0)})}logTrace(e,t){this.traceOutputChannel.appendLine(`[Trace - ${new Date().toLocaleTimeString()}] ${e}`),t&&this.traceOutputChannel.appendLine(this.data2String(t))}logObjectTrace(e){e.isLSPMessage&&e.type?this.traceOutputChannel.append(`[LSP   - ${new Date().toLocaleTimeString()}] `):this.traceOutputChannel.append(`[Trace - ${new Date().toLocaleTimeString()}] `),e&&this.traceOutputChannel.appendLine(`${JSON.stringify(e)}`)}needsStart(){return this.$state===oo.Initial||this.$state===oo.Stopping||this.$state===oo.Stopped}needsStop(){return this.$state===oo.Starting||this.$state===oo.Running}activeConnection(){return this.$state===oo.Running&&this._connection!==void 0?this._connection:void 0}isRunning(){return this.$state===oo.Running}async start(){if(this._disposed==="disposing"||this._disposed==="disposed")throw new Error("Client got disposed and can't be restarted.");if(this.$state===oo.Stopping)throw new Error("Client is currently stopping. Can only restart a full stopped client");if(this._onStart!==void 0)return this._onStart;let[e,t,n]=this.createOnStartPromise();this._onStart=e,this._diagnostics===void 0&&(this._diagnostics=Mi.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName??this._id));for(let[i,o]of this._notificationHandlers)this._pendingNotificationHandlers.has(i)||this._pendingNotificationHandlers.set(i,o);for(let[i,o]of this._requestHandlers)this._pendingRequestHandlers.has(i)||this._pendingRequestHandlers.set(i,o);for(let[i,o]of this._progressHandlers)this._pendingProgressHandlers.has(i)||this._pendingProgressHandlers.set(i,o);this.$state=oo.Starting;try{let i=await this.createConnection();i.onNotification(mr.LogMessageNotification.type,o=>{switch(o.type){case mr.MessageType.Error:this.error(o.message,void 0,!1);break;case mr.MessageType.Warning:this.warn(o.message,void 0,!1);break;case mr.MessageType.Info:this.info(o.message,void 0,!1);break;case mr.MessageType.Debug:this.debug(o.message,void 0,!1);break;default:this.outputChannel.appendLine(o.message)}}),i.onNotification(mr.ShowMessageNotification.type,o=>{switch(o.type){case mr.MessageType.Error:Mi.window.showErrorMessage(o.message);break;case mr.MessageType.Warning:Mi.window.showWarningMessage(o.message);break;case mr.MessageType.Info:Mi.window.showInformationMessage(o.message);break;default:Mi.window.showInformationMessage(o.message)}}),i.onRequest(mr.ShowMessageRequest.type,o=>{let s;switch(o.type){case mr.MessageType.Error:s=Mi.window.showErrorMessage;break;case mr.MessageType.Warning:s=Mi.window.showWarningMessage;break;case mr.MessageType.Info:s=Mi.window.showInformationMessage;break;default:s=Mi.window.showInformationMessage}let a=o.actions||[];return s(o.message,...a)}),i.onNotification(mr.TelemetryEventNotification.type,o=>{this._telemetryEmitter.fire(o)}),i.onRequest(mr.ShowDocumentRequest.type,async(o,s)=>{let a=async u=>{let l=this.protocol2CodeConverter.asUri(u.uri);try{if(u.external===!0)return{success:await Mi.env.openExternal(l)};{let d={};return u.selection!==void 0&&(d.selection=this.protocol2CodeConverter.asRange(u.selection)),u.takeFocus===void 0||u.takeFocus===!1?d.preserveFocus=!0:u.takeFocus===!0&&(d.preserveFocus=!1),await Mi.window.showTextDocument(l,d),{success:!0}}}catch{return{success:!1}}},c=this._clientOptions.middleware.window?.showDocument;return c!==void 0?c(o,s,a):a(o)}),i.listen(),await this.initialize(i),t()}catch(i){this.$state=oo.StartFailed,this.error(`${this._name} client: couldn't create connection to server.`,i,"force"),n(i)}return this._onStart}createOnStartPromise(){let e,t;return[new Promise((i,o)=>{e=i,t=o}),e,t]}async initialize(e){this.refreshTrace(e,!1);let t=this._clientOptions.initializationOptions,[n,i]=this._clientOptions.workspaceFolder!==void 0?[this._clientOptions.workspaceFolder.uri.fsPath,[{uri:this._c2p.asUri(this._clientOptions.workspaceFolder.uri),name:this._clientOptions.workspaceFolder.name}]]:[this._clientGetRootPath(),null],o={processId:null,clientInfo:{name:Mi.env.appName,version:Mi.version},locale:this.getLocale(),rootPath:n||null,rootUri:n?this._c2p.asUri(Mi.Uri.file(n)):null,capabilities:this.computeClientCapabilities(),initializationOptions:l_.func(t)?t():t,trace:mr.Trace.toString(this._trace),workspaceFolders:i};if(this.fillInitializeParams(o),this._clientOptions.progressOnInitialization){let s=VMe.generateUuid(),a=new W0t.ProgressPart(e,s);o.workDoneToken=s;try{let c=await this.doInitialize(e,o);return a.done(),c}catch(c){throw a.cancel(),c}}else return this.doInitialize(e,o)}async doInitialize(e,t){try{let n=await e.initialize(t);if(n.capabilities.positionEncoding!==void 0&&n.capabilities.positionEncoding!==mr.PositionEncodingKind.UTF16)throw new Error(`Unsupported position encoding (${n.capabilities.positionEncoding}) received from server ${this.name}`);this._initializeResult=n,this.$state=oo.Running;let i;l_.number(n.capabilities.textDocumentSync)?n.capabilities.textDocumentSync===mr.TextDocumentSyncKind.None?i={openClose:!1,change:mr.TextDocumentSyncKind.None,save:void 0}:i={openClose:!0,change:n.capabilities.textDocumentSync,save:{includeText:!1}}:n.capabilities.textDocumentSync!==void 0&&n.capabilities.textDocumentSync!==null&&(i=n.capabilities.textDocumentSync),this._capabilities=Object.assign({},n.capabilities,{resolvedTextDocumentSync:i}),e.onNotification(mr.PublishDiagnosticsNotification.type,o=>this.handleDiagnostics(o)),e.onRequest(mr.RegistrationRequest.type,o=>this.handleRegistrationRequest(o)),e.onRequest("client/registerFeature",o=>this.handleRegistrationRequest(o)),e.onRequest(mr.UnregistrationRequest.type,o=>this.handleUnregistrationRequest(o)),e.onRequest("client/unregisterFeature",o=>this.handleUnregistrationRequest(o)),e.onRequest(mr.ApplyWorkspaceEditRequest.type,o=>this.handleApplyWorkspaceEdit(o));for(let[o,s]of this._pendingNotificationHandlers)this._notificationDisposables.set(o,e.onNotification(o,s));this._pendingNotificationHandlers.clear();for(let[o,s]of this._pendingRequestHandlers)this._requestDisposables.set(o,e.onRequest(o,s));this._pendingRequestHandlers.clear();for(let[o,s]of this._pendingProgressHandlers)this._progressDisposables.set(o,e.onProgress(s.type,o,s.handler));return this._pendingProgressHandlers.clear(),await e.sendNotification(mr.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),n}catch(n){throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(n)?this.initialize(e):this.stop():n instanceof mr.ResponseError&&n.data&&n.data.retry?Mi.window.showErrorMessage(n.message,{title:"Retry",id:"retry"}).then(i=>{i&&i.id==="retry"?this.initialize(e):this.stop()}):(n&&n.message&&Mi.window.showErrorMessage(n.message),this.error("Server initialization failed.",n),this.stop()),n}}_clientGetRootPath(){let e=Mi.workspace.workspaceFolders;if(!e||e.length===0)return;let t=e[0];if(t.uri.scheme==="file")return t.uri.fsPath}stop(e=2e3){return this.shutdown(hD.Stop,e)}dispose(e=2e3){try{return this._disposed="disposing",this.stop(e)}finally{this._disposed="disposed"}}async shutdown(e,t=2e3){if(this.$state===oo.Stopped||this.$state===oo.Initial)return;if(this.$state===oo.Stopping){if(this._onStop!==void 0)return this._onStop;throw new Error("Client is stopping but no stop promise available.")}let n=this.activeConnection();if(n===void 0||this.$state!==oo.Running)throw new Error(`Client is not running and can't be stopped. It's current state is: ${this.$state}`);this._initializeResult=void 0,this.$state=oo.Stopping,this.cleanUp(e);let i=new Promise(s=>{(0,mr.RAL)().timer.setTimeout(s,t)}),o=(async s=>(await s.shutdown(),await s.exit(),s))(n);return this._onStop=Promise.race([i,o]).then(s=>{if(s!==void 0)s.end(),s.dispose();else throw this.error("Stopping server timed out",void 0,!1),new Error("Stopping the server timed out")},s=>{throw this.error("Stopping server failed",s,!1),s}).finally(()=>{this.$state=oo.Stopped,e===hD.Stop&&this.cleanUpChannel(),this._onStart=void 0,this._onStop=void 0,this._connection=void 0,this._ignoredRegistrations.clear()})}cleanUp(e){this._fileEvents=[],this._fileEventDelayer.cancel();let t=this._listeners.splice(0,this._listeners.length);for(let n of t)n.dispose();this._syncedDocuments&&this._syncedDocuments.clear();for(let n of Array.from(this._features.entries()).map(i=>i[1]).reverse())n.clear();(e===hD.Stop||e===hD.Restart)&&this._diagnostics!==void 0&&(this._diagnostics.dispose(),this._diagnostics=void 0),this._idleInterval!==void 0&&(this._idleInterval.dispose(),this._idleInterval=void 0)}cleanUpChannel(){this._outputChannel!==void 0&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(e){let t=this;async function n(o){return t._fileEvents.push(o),t._fileEventDelayer.trigger(async()=>{let s=t._fileEvents;t._fileEvents=[];try{await t.sendNotification(mr.DidChangeWatchedFilesNotification.type,{changes:s})}catch(a){throw t._fileEvents.push(...s),a}})}let i=this.clientOptions.middleware?.workspace;(i?.didChangeWatchedFile?i.didChangeWatchedFile(e,n):n(e)).catch(o=>{t.error("Notifying file events failed.",o)})}async sendPendingFullTextDocumentChanges(e){return this._pendingChangeSemaphore.lock(async()=>{try{let t=this._didChangeTextDocumentFeature.getPendingDocumentChanges(this._inFlightOpenNotifications);if(t.length===0)return;for(let n of t){let i=this.code2ProtocolConverter.asChangeTextDocumentParams(n);await e.sendNotification(mr.DidChangeTextDocumentNotification.type,i),this._didChangeTextDocumentFeature.notificationSent(n,mr.DidChangeTextDocumentNotification.type,i)}}catch(t){throw this.error("Sending pending changes failed",t,!1),t}})}triggerPendingChangeDelivery(){this._pendingChangeDelayer.trigger(async()=>{let e=this.activeConnection();if(e===void 0){this.triggerPendingChangeDelivery();return}await this.sendPendingFullTextDocumentChanges(e)}).catch(e=>this.error("Delivering pending changes failed",e,!1))}_diagnosticQueue=new Map;_diagnosticQueueState={state:"idle"};handleDiagnostics(e){if(!this._diagnostics)return;let t=e.uri;this._diagnosticQueueState.state==="busy"&&this._diagnosticQueueState.document===t&&this._diagnosticQueueState.tokenSource.cancel(),this._diagnosticQueue.set(e.uri,e.diagnostics),this.triggerDiagnosticQueue()}triggerDiagnosticQueue(){(0,mr.RAL)().timer.setImmediate(()=>{this.workDiagnosticQueue()})}workDiagnosticQueue(){if(this._diagnosticQueueState.state==="busy")return;let e=this._diagnosticQueue.entries().next();if(e.done===!0)return;let[t,n]=e.value;this._diagnosticQueue.delete(t);let i=new Mi.CancellationTokenSource;this._diagnosticQueueState={state:"busy",document:t,tokenSource:i},this._p2c.asDiagnostics(n,i.token).then(o=>{if(!i.token.isCancellationRequested){let s=this._p2c.asUri(t),a=this.clientOptions.middleware;a.handleDiagnostics?a.handleDiagnostics(s,o,(c,u)=>this.setDiagnostics(c,u)):this.setDiagnostics(s,o)}}).catch(o=>{this.error("Processing diagnostic queue failed.",o)}).finally(()=>{this._diagnosticQueueState={state:"idle"},this.triggerDiagnosticQueue()})}setDiagnostics(e,t){this._diagnostics&&this._diagnostics.set(e,t)}getLocale(){return Mi.env.language}async $start(){if(this.$state===oo.StartFailed)throw new Error("Previous start failed. Can't restart server.");await this.start();let e=this.activeConnection();if(e===void 0)throw new Error("Starting server failed");return e}async createConnection(){let e=(i,o,s)=>{this.handleConnectionError(i,o,s).catch(a=>this.error("Handling connection error failed",a))},t=()=>{this.handleConnectionClosed().catch(i=>this.error("Handling connection close failed",i))},n=await this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8");return this._connection=SEt(n.reader,n.writer,e,t,this._clientOptions.connectionOptions),this._connection}async handleConnectionClosed(){if(this.$state===oo.Stopped)return;try{this._connection!==void 0&&this._connection.dispose()}catch{}let e={action:pD.DoNotRestart};if(this.$state!==oo.Stopping)try{e=await this._clientOptions.errorHandler.closed()}catch{}this._connection=void 0,e.action===pD.DoNotRestart?(this.error(e.message??"Connection to server got closed. Server will not be restarted.",void 0,e.handled===!0?!1:"force"),this.cleanUp(hD.Stop),this.$state===oo.Starting?this.$state=oo.StartFailed:this.$state=oo.Stopped,this._onStop=Promise.resolve(),this._onStart=void 0):e.action===pD.Restart&&(this.info(e.message??"Connection to server got closed. Server will restart.",void 0,!e.handled),this.cleanUp(hD.Restart),this.$state=oo.Initial,this._onStop=Promise.resolve(),this._onStart=void 0,this.start().catch(t=>this.error("Restarting server failed",t,"force")))}async handleConnectionError(e,t,n){let i=await this._clientOptions.errorHandler.error(e,t,n);i.action===uN.Shutdown?(this.error(i.message??`Client ${this._name}: connection to server is erroring.
${e.message}
Shutting down server.`,void 0,i.handled===!0?!1:"force"),this.stop().catch(o=>{this.error("Stopping server failed",o,!1)})):this.error(i.message??`Client ${this._name}: connection to server is erroring.
${e.message}`,void 0,i.handled===!0?!1:"force")}hookConfigurationChanged(e){this._listeners.push(Mi.workspace.onDidChangeConfiguration(()=>{this.refreshTrace(e,!0)}))}refreshTrace(e,t=!1){let n=Mi.workspace.getConfiguration(this._id),i=mr.Trace.Off,o=mr.TraceFormat.Text;if(n){let s=n.get("trace.server","off");typeof s=="string"?i=mr.Trace.fromString(s):(i=mr.Trace.fromString(n.get("trace.server.verbosity","off")),o=mr.TraceFormat.fromString(n.get("trace.server.format","text")))}this._trace=i,this._traceFormat=o,e.trace(this._trace,this._tracer,{sendNotification:t,traceFormat:this._traceFormat}).catch(s=>{this.error("Updating trace failed with error",s,!1)})}hookFileEvents(e){let t=this._clientOptions.synchronize.fileEvents;if(!t)return;let n;l_.array(t)?n=t:n=[t],n&&this._dynamicFeatures.get(mr.DidChangeWatchedFilesNotification.type.method).registerRaw(VMe.generateUuid(),n)}_features=[];_dynamicFeatures=new Map;registerFeatures(e){for(let t of e)this.registerFeature(t)}registerFeature(e){if(this._features.push(e),kg.DynamicFeature.is(e)){let t=e.registrationType;this._dynamicFeatures.set(t.method,e)}}getFeature(e){return this._dynamicFeatures.get(e)}hasDedicatedTextSynchronizationFeature(e){let t=this.getFeature(mr.NotebookDocumentSyncRegistrationType.method);return t===void 0||!(t instanceof sie.NotebookDocumentSyncFeature)?!1:t.handles(e)}registerBuiltinFeatures(){let e=new Map;this.registerFeature(new GMe.ConfigurationFeature(this)),this._didOpenTextDocumentFeature=new Qx.DidOpenTextDocumentFeature(this,this._syncedDocuments),this.registerFeature(this._didOpenTextDocumentFeature),this._didChangeTextDocumentFeature=new Qx.DidChangeTextDocumentFeature(this,e),this._didChangeTextDocumentFeature.onPendingChangeAdded(()=>{this.triggerPendingChangeDelivery()}),this.registerFeature(this._didChangeTextDocumentFeature),this.registerFeature(new Qx.WillSaveFeature(this)),this.registerFeature(new Qx.WillSaveWaitUntilFeature(this)),this.registerFeature(new Qx.DidSaveTextDocumentFeature(this)),this.registerFeature(new Qx.DidCloseTextDocumentFeature(this,this._syncedDocuments,e)),this.registerFeature(new bEt.FileSystemWatcherFeature(this,t=>this.notifyFileEvent(t))),this.registerFeature(new V0t.CompletionItemFeature(this)),this.registerFeature(new G0t.HoverFeature(this)),this.registerFeature(new Y0t.SignatureHelpFeature(this)),this.registerFeature(new K0t.DefinitionFeature(this)),this.registerFeature(new Z0t.ReferencesFeature(this)),this.registerFeature(new J0t.DocumentHighlightFeature(this)),this.registerFeature(new X0t.DocumentSymbolFeature(this)),this.registerFeature(new Q0t.WorkspaceSymbolFeature(this)),this.registerFeature(new nEt.CodeActionFeature(this)),this.registerFeature(new iEt.CodeLensFeature(this)),this.registerFeature(new oie.DocumentFormattingFeature(this)),this.registerFeature(new oie.DocumentRangeFormattingFeature(this)),this.registerFeature(new oie.DocumentOnTypeFormattingFeature(this)),this.registerFeature(new oEt.RenameFeature(this)),this.registerFeature(new sEt.DocumentLinkFeature(this)),this.registerFeature(new aEt.ExecuteCommandFeature(this)),this.registerFeature(new GMe.SyncConfigurationFeature(this)),this.registerFeature(new eEt.TypeDefinitionFeature(this)),this.registerFeature(new tEt.ImplementationFeature(this)),this.registerFeature(new rEt.ColorProviderFeature(this)),this.clientOptions.workspaceFolder===void 0&&this.registerFeature(new vEt.WorkspaceFoldersFeature(this)),this.registerFeature(new cEt.FoldingRangeFeature(this)),this.registerFeature(new uEt.DeclarationFeature(this)),this.registerFeature(new lEt.SelectionRangeFeature(this)),this.registerFeature(new wEt.ProgressFeature(this)),this.registerFeature(new dEt.CallHierarchyFeature(this)),this.registerFeature(new fEt.SemanticTokensFeature(this)),this.registerFeature(new hEt.LinkedEditingFeature(this)),this.registerFeature(new Zx.DidCreateFilesFeature(this)),this.registerFeature(new Zx.DidRenameFilesFeature(this)),this.registerFeature(new Zx.DidDeleteFilesFeature(this)),this.registerFeature(new Zx.WillCreateFilesFeature(this)),this.registerFeature(new Zx.WillRenameFilesFeature(this)),this.registerFeature(new Zx.WillDeleteFilesFeature(this)),this.registerFeature(new pEt.TypeHierarchyFeature(this)),this.registerFeature(new mEt.InlineValueFeature(this)),this.registerFeature(new gEt.InlayHintsFeature(this)),this.registerFeature(new $0t.DiagnosticFeature(this)),this.registerFeature(new sie.NotebookDocumentSyncFeature(this))}registerProposedFeatures(){this.registerFeatures(fie.createAll(this))}fillInitializeParams(e){for(let t of this._features)l_.func(t.fillInitializeParams)&&t.fillInitializeParams(e)}computeClientCapabilities(){let e={};(0,kg.ensure)(e,"workspace").applyEdit=!0;let t=(0,kg.ensure)((0,kg.ensure)(e,"workspace"),"workspaceEdit");t.documentChanges=!0,t.resourceOperations=[mr.ResourceOperationKind.Create,mr.ResourceOperationKind.Rename,mr.ResourceOperationKind.Delete],t.failureHandling=mr.FailureHandlingKind.TextOnlyTransactional,t.normalizesLineEndings=!0,t.changeAnnotationSupport={groupsOnLabel:!0},t.metadataSupport=!0,t.snippetEditSupport=!0;let n=(0,kg.ensure)((0,kg.ensure)(e,"textDocument"),"publishDiagnostics");n.relatedInformation=!0,n.versionSupport=!1,n.tagSupport={valueSet:[mr.DiagnosticTag.Unnecessary,mr.DiagnosticTag.Deprecated]},n.codeDescriptionSupport=!0,n.dataSupport=!0;let i=(0,kg.ensure)((0,kg.ensure)(e,"textDocument"),"filters");i.relativePatternSupport=!0;let o=(0,kg.ensure)(e,"window"),s=(0,kg.ensure)(o,"showMessage");s.messageActionItem={additionalPropertiesSupport:!0};let a=(0,kg.ensure)(o,"showDocument");a.support=!0;let c=(0,kg.ensure)(e,"general");c.staleRequestSupport={cancel:!0,retryOnContentModified:Array.from(r.RequestsToCancelOnContentModified)},c.regularExpressions={engine:"ECMAScript",version:"ES2020"},c.markdown={parser:"marked",version:"1.1.0"},c.positionEncodings=["utf-16"],this._clientOptions.markdown.supportHtml&&(c.markdown.allowedTags=["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"]);for(let u of this._features)u.fillClientCapabilities(e);return e}initializeFeatures(e){let t=this._clientOptions.documentSelector;for(let n of this._features)l_.func(n.preInitialize)&&n.preInitialize(this._capabilities,t);for(let n of this._features)n.initialize(this._capabilities,t)}async handleRegistrationRequest(e){let t=this.clientOptions.middleware?.handleRegisterCapability;return t?t(e,n=>this.doRegisterCapability(n)):this.doRegisterCapability(e)}async doRegisterCapability(e){if(!this.isRunning()){for(let t of e.registrations)this._ignoredRegistrations.add(t.id);return}for(let t of e.registrations){let n=this._dynamicFeatures.get(t.method);if(n===void 0)return Promise.reject(new Error(`No feature implementation for ${t.method} found. Registration failed.`));let i=t.registerOptions??{};i.documentSelector=i.documentSelector??this._clientOptions.documentSelector;let o={id:t.id,registerOptions:i};try{n.register(o)}catch(s){return Promise.reject(s)}}}async handleUnregistrationRequest(e){let t=this.clientOptions.middleware?.handleUnregisterCapability;return t?t(e,n=>this.doUnregisterCapability(n)):this.doUnregisterCapability(e)}async doUnregisterCapability(e){for(let t of e.unregisterations){if(this._ignoredRegistrations.has(t.id))continue;let n=this._dynamicFeatures.get(t.method);if(!n)return Promise.reject(new Error(`No feature implementation for ${t.method} found. Unregistration failed.`));n.unregister(t.id)}}async handleApplyWorkspaceEdit(e){let t=this.clientOptions.middleware?.workspace?.handleApplyEdit;if(t){let n=await t(e,i=>this.doHandleApplyWorkspaceEdit(i));return n instanceof mr.ResponseError?Promise.reject(n):n}else return this.doHandleApplyWorkspaceEdit(e)}workspaceEditLock=new s$.Semaphore(1);async doHandleApplyWorkspaceEdit(e){let t=e.edit,n=await this.workspaceEditLock.lock(()=>this._p2c.asWorkspaceEdit(t)),i=new Map;Mi.workspace.textDocuments.forEach(s=>i.set(s.uri.toString(),s));let o=!1;if(t.documentChanges){for(let s of t.documentChanges)if(mr.TextDocumentEdit.is(s)&&s.textDocument.version&&s.textDocument.version>=0){let a=this._p2c.asUri(s.textDocument.uri).toString(),c=i.get(a);if(c&&c.version!==s.textDocument.version){o=!0;break}}}return o?Promise.resolve({applied:!1}):l_.asPromise(Mi.workspace.applyEdit(n,{isRefactoring:e.metadata?.isRefactoring}).then(s=>({applied:s})))}static RequestsToCancelOnContentModified=new Set([mr.SemanticTokensRequest.method,mr.SemanticTokensRangeRequest.method,mr.SemanticTokensDeltaRequest.method]);static CancellableResolveCalls=new Set([mr.CompletionResolveRequest.method,mr.CodeLensResolveRequest.method,mr.CodeActionResolveRequest.method,mr.InlayHintResolveRequest.method,mr.DocumentLinkResolveRequest.method,mr.WorkspaceSymbolResolveRequest.method]);handleFailedRequest(e,t,n,i,o=!0,s=!1){if(n instanceof mr.ResponseError){if(n.code===mr.ErrorCodes.PendingResponseRejected||n.code===mr.ErrorCodes.ConnectionInactive)return i;if(n.code===mr.LSPErrorCodes.RequestCancelled||n.code===mr.LSPErrorCodes.ServerCancelled){if(t!==void 0&&t.isCancellationRequested&&!s)return i;throw n.data!==void 0?new kg.LSPCancellationError(n.data):new Mi.CancellationError}else if(n.code===mr.LSPErrorCodes.ContentModified){if(r.RequestsToCancelOnContentModified.has(e.method)||r.CancellableResolveCalls.has(e.method))throw new Mi.CancellationError;return i}}throw this.error(`Request ${e.method} failed.`,n,o),n}};ia.BaseLanguageClient=a$;var lie=class extends a${serverOptions;constructor(e,t,n,i){super(e,t,i),this.serverOptions=n}async createMessageTransports(e){return this.serverOptions()}};ia.LanguageClient=lie;var die=class{error(e){(0,mr.RAL)().console.error(e)}warn(e){(0,mr.RAL)().console.warn(e)}info(e){(0,mr.RAL)().console.info(e)}log(e){(0,mr.RAL)().console.log(e)}};function SEt(r,e,t,n,i){let o=new die,s=(0,mr.createProtocolConnection)(r,e,o,i);return s.onError(c=>{t(c[0],c[1],c[2])}),s.onClose(n),{listen:()=>s.listen(),sendRequest:s.sendRequest,onRequest:s.onRequest,hasPendingResponse:s.hasPendingResponse,sendNotification:s.sendNotification,onNotification:s.onNotification,onProgress:s.onProgress,sendProgress:s.sendProgress,trace:(c,u,l)=>{let d={sendNotification:!1,traceFormat:mr.TraceFormat.Text};return l===void 0?s.trace(c,u,d):(l_.boolean(l),s.trace(c,u,l))},initialize:c=>s.sendRequest(mr.InitializeRequest.type,c),shutdown:()=>s.sendRequest(mr.ShutdownRequest.type,void 0),exit:()=>s.sendNotification(mr.ExitNotification.type),end:()=>s.end(),dispose:()=>s.dispose()}}var fie;(function(r){function e(t){return[new yEt.InlineCompletionItemFeature(t),new _Et.TextDocumentContentFeature(t)]}r.createAll=e})(fie||(ia.ProposedFeatures=fie={}))});var XMe=C(WS=>{"use strict";var CEt=WS&&WS.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),TEt=WS&&WS.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),DEt=WS&&WS.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&CEt(t,e,n[i]);return TEt(t,e),t}}();Object.defineProperty(WS,"__esModule",{value:!0});WS.terminate=OEt;var JMe=DEt(require("child_process")),EEt=require("path"),REt=process.platform==="win32",PEt=process.platform==="darwin",xEt=process.platform==="linux";function OEt(r,e){if(REt)try{let t={stdio:["pipe","pipe","ignore"]};return e&&(t.cwd=e),JMe.execFileSync("taskkill",["/T","/F","/PID",r.pid.toString()],t),!0}catch{return!1}else if(xEt||PEt)try{let t=(0,EEt.join)(__dirname,"terminateProcess.sh");return!JMe.spawnSync(t,[r.pid.toString()]).error}catch{return!1}else return r.kill("SIGKILL"),!0}});var eNe=C(yie=>{"use strict";Object.defineProperty(yie,"__esModule",{value:!0});var QMe=require("util"),$S=cl(),pie=class r extends $S.AbstractMessageBuffer{static emptyBuffer=Buffer.allocUnsafe(0);constructor(e="utf-8"){super(e)}emptyBuffer(){return r.emptyBuffer}fromString(e,t){return Buffer.from(e,t)}toString(e,t){return e instanceof Buffer?e.toString(t):new QMe.TextDecoder(t).decode(e)}asNative(e,t){return t===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,t):Buffer.from(e,0,t)}allocNative(e){return Buffer.allocUnsafe(e)}},mie=class{stream;constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),$S.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),$S.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),$S.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),$S.Disposable.create(()=>this.stream.off("data",e))}},gie=class{stream;constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),$S.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),$S.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),$S.Disposable.create(()=>this.stream.off("end",e))}write(e,t){return new Promise((n,i)=>{let o=s=>{s==null?n():i(s)};typeof e=="string"?this.stream.write(e,t,o):this.stream.write(e,o)})}end(){this.stream.end()}},ZMe=Object.freeze({messageBuffer:Object.freeze({create:r=>new pie(r)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(r,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(r,void 0,0),e.charset))}catch(t){return Promise.reject(t)}}}),decoder:Object.freeze({name:"application/json",decode:(r,e)=>{try{return r instanceof Buffer?Promise.resolve(JSON.parse(r.toString(e.charset))):Promise.resolve(JSON.parse(new QMe.TextDecoder(e.charset).decode(r)))}catch(t){return Promise.reject(t)}}})}),stream:Object.freeze({asReadableStream:r=>new mie(r),asWritableStream:r=>new gie(r)}),console,timer:Object.freeze({setTimeout(r,e,...t){let n=setTimeout(r,e,...t);return{dispose:()=>clearTimeout(n)}},setImmediate(r,...e){let t=setImmediate(r,...e);return{dispose:()=>clearImmediate(t)}},setInterval(r,e,...t){let n=setInterval(r,e,...t);return{dispose:()=>clearInterval(n)}}})});function vie(){return ZMe}(function(r){function e(){$S.RAL.install(ZMe)}r.install=e})(vie||(vie={}));yie.default=vie});var Tie=C(No=>{"use strict";var rNe=No&&No.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),IEt=No&&No.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Cie=No&&No.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&rNe(t,e,n[i]);return IEt(t,e),t}}(),kEt=No&&No.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&rNe(e,r,t)},AEt=No&&No.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(No,"__esModule",{value:!0});No.StreamMessageWriter=No.StreamMessageReader=No.SocketMessageWriter=No.SocketMessageReader=No.PortMessageWriter=No.PortMessageReader=No.IPCMessageWriter=No.IPCMessageReader=void 0;No.generateRandomPipeName=jEt;No.createClientPipeTransport=zEt;No.createServerPipeTransport=UEt;No.createClientSocketTransport=HEt;No.createServerSocketTransport=BEt;No.createMessageConnection=VEt;var lN=AEt(eNe());lN.default.install();var LEt=Cie(require("path")),MEt=Cie(require("os")),NEt=Cie(require("fs")),tNe=require("crypto"),d$=require("net"),Ag=cl();kEt(cl(),No);var _ie=class extends Ag.AbstractMessageReader{process;constructor(e){super(),this.process=e;let t=this.process;t.on("error",n=>this.fireError(n)),t.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),Ag.Disposable.create(()=>this.process.off("message",e))}};No.IPCMessageReader=_ie;var bie=class extends Ag.AbstractMessageWriter{process;errorCount;constructor(e){super(),this.process=e,this.errorCount=0;let t=this.process;t.on("error",n=>this.fireError(n)),t.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,t=>{t?(this.errorCount++,this.handleError(t,e)):this.errorCount=0}),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}};No.IPCMessageWriter=bie;var wie=class extends Ag.AbstractMessageReader{onData;constructor(e){super(),this.onData=new Ag.Emitter,e.on("close",()=>this.fireClose),e.on("error",t=>this.fireError(t)),e.on("message",t=>{this.onData.fire(t)})}listen(e){return this.onData.event(e)}};No.PortMessageReader=wie;var Sie=class extends Ag.AbstractMessageWriter{port;errorCount;constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",()=>this.fireClose()),e.on("error",t=>this.fireError(t))}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}};No.PortMessageWriter=Sie;var TE=class extends Ag.ReadableStreamMessageReader{constructor(e,t="utf-8"){super((0,lN.default)().stream.asReadableStream(e),t)}};No.SocketMessageReader=TE;var DE=class extends Ag.WriteableStreamMessageWriter{socket;constructor(e,t){super((0,lN.default)().stream.asWritableStream(e),t),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};No.SocketMessageWriter=DE;var u$=class extends Ag.ReadableStreamMessageReader{constructor(e,t){super((0,lN.default)().stream.asReadableStream(e),t)}};No.StreamMessageReader=u$;var l$=class extends Ag.WriteableStreamMessageWriter{constructor(e,t){super((0,lN.default)().stream.asWritableStream(e),t)}};No.StreamMessageWriter=l$;var FEt=process.env.XDG_RUNTIME_DIR,qEt=new Map([["linux",107],["darwin",103]]);function jEt(){if(process.platform==="win32")return`\\\\.\\pipe\\lsp-${(0,tNe.randomBytes)(16).toString("hex")}-sock`;let r=32,e=9,t=NEt.realpathSync(FEt??MEt.tmpdir()),n=qEt.get(process.platform);if(n!==void 0&&(r=Math.min(n-t.length-e,r)),r<16)throw new Error(`Unable to generate a random pipe name with ${r} characters.`);let i=(0,tNe.randomBytes)(Math.floor(r/2)).toString("hex");return LEt.join(t,`lsp-${i}.sock`)}function zEt(r,e="utf-8"){let t,n=new Promise((i,o)=>{t=i});return new Promise((i,o)=>{let s=(0,d$.createServer)(a=>{s.close(),t([new TE(a,e),new DE(a,e)])});s.on("error",o),s.listen(r,()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}function UEt(r,e="utf-8"){let t=(0,d$.createConnection)(r);return[new TE(t,e),new DE(t,e)]}function HEt(r,e="utf-8"){let t,n=new Promise((i,o)=>{t=i});return new Promise((i,o)=>{let s=(0,d$.createServer)(a=>{s.close(),t([new TE(a,e),new DE(a,e)])});s.on("error",o),s.listen(r,"127.0.0.1",()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}function BEt(r,e="utf-8"){let t=(0,d$.createConnection)(r,"127.0.0.1");return[new TE(t,e),new DE(t,e)]}function WEt(r){let e=r;return e.read!==void 0&&e.addListener!==void 0}function $Et(r){let e=r;return e.write!==void 0&&e.addListener!==void 0}function VEt(r,e,t,n){t||(t=Ag.NullLogger);let i=WEt(r)?new u$(r):r,o=$Et(e)?new l$(e):e;return Ag.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,Ag.createMessageConnection)(i,o,t,n)}});var Die=C(VS=>{"use strict";var GEt=VS&&VS.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),nNe=VS&&VS.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&GEt(e,r,t)};Object.defineProperty(VS,"__esModule",{value:!0});VS.createProtocolConnection=YEt;var KEt=Tie();nNe(Tie(),VS);nNe(en(),VS);function YEt(r,e,t,n){return(0,KEt.createMessageConnection)(r,e,t,n)}});var dN=C((aQt,iNe)=>{var JEt=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};iNe.exports=JEt});var f$=C((cQt,oNe)=>{var XEt="2.0.0",QEt=Number.MAX_SAFE_INTEGER||9007199254740991,ZEt=16,eRt=250,tRt=["major","premajor","minor","preminor","patch","prepatch","prerelease"];oNe.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:ZEt,MAX_SAFE_BUILD_LENGTH:eRt,MAX_SAFE_INTEGER:QEt,RELEASE_TYPES:tRt,SEMVER_SPEC_VERSION:XEt,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var h$=C((Yb,sNe)=>{var{MAX_SAFE_COMPONENT_LENGTH:Eie,MAX_SAFE_BUILD_LENGTH:rRt,MAX_LENGTH:nRt}=f$(),iRt=dN();Yb=sNe.exports={};var oRt=Yb.re=[],sRt=Yb.safeRe=[],tn=Yb.src=[],aRt=Yb.safeSrc=[],rn=Yb.t={},cRt=0,Rie="[a-zA-Z0-9-]",uRt=[["\\s",1],["\\d",nRt],[Rie,rRt]],lRt=r=>{for(let[e,t]of uRt)r=r.split(`${e}*`).join(`${e}{0,${t}}`).split(`${e}+`).join(`${e}{1,${t}}`);return r},Bi=(r,e,t)=>{let n=lRt(e),i=cRt++;iRt(r,i,e),rn[r]=i,tn[i]=e,aRt[i]=n,oRt[i]=new RegExp(e,t?"g":void 0),sRt[i]=new RegExp(n,t?"g":void 0)};Bi("NUMERICIDENTIFIER","0|[1-9]\\d*");Bi("NUMERICIDENTIFIERLOOSE","\\d+");Bi("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${Rie}*`);Bi("MAINVERSION",`(${tn[rn.NUMERICIDENTIFIER]})\\.(${tn[rn.NUMERICIDENTIFIER]})\\.(${tn[rn.NUMERICIDENTIFIER]})`);Bi("MAINVERSIONLOOSE",`(${tn[rn.NUMERICIDENTIFIERLOOSE]})\\.(${tn[rn.NUMERICIDENTIFIERLOOSE]})\\.(${tn[rn.NUMERICIDENTIFIERLOOSE]})`);Bi("PRERELEASEIDENTIFIER",`(?:${tn[rn.NUMERICIDENTIFIER]}|${tn[rn.NONNUMERICIDENTIFIER]})`);Bi("PRERELEASEIDENTIFIERLOOSE",`(?:${tn[rn.NUMERICIDENTIFIERLOOSE]}|${tn[rn.NONNUMERICIDENTIFIER]})`);Bi("PRERELEASE",`(?:-(${tn[rn.PRERELEASEIDENTIFIER]}(?:\\.${tn[rn.PRERELEASEIDENTIFIER]})*))`);Bi("PRERELEASELOOSE",`(?:-?(${tn[rn.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${tn[rn.PRERELEASEIDENTIFIERLOOSE]})*))`);Bi("BUILDIDENTIFIER",`${Rie}+`);Bi("BUILD",`(?:\\+(${tn[rn.BUILDIDENTIFIER]}(?:\\.${tn[rn.BUILDIDENTIFIER]})*))`);Bi("FULLPLAIN",`v?${tn[rn.MAINVERSION]}${tn[rn.PRERELEASE]}?${tn[rn.BUILD]}?`);Bi("FULL",`^${tn[rn.FULLPLAIN]}$`);Bi("LOOSEPLAIN",`[v=\\s]*${tn[rn.MAINVERSIONLOOSE]}${tn[rn.PRERELEASELOOSE]}?${tn[rn.BUILD]}?`);Bi("LOOSE",`^${tn[rn.LOOSEPLAIN]}$`);Bi("GTLT","((?:<|>)?=?)");Bi("XRANGEIDENTIFIERLOOSE",`${tn[rn.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Bi("XRANGEIDENTIFIER",`${tn[rn.NUMERICIDENTIFIER]}|x|X|\\*`);Bi("XRANGEPLAIN",`[v=\\s]*(${tn[rn.XRANGEIDENTIFIER]})(?:\\.(${tn[rn.XRANGEIDENTIFIER]})(?:\\.(${tn[rn.XRANGEIDENTIFIER]})(?:${tn[rn.PRERELEASE]})?${tn[rn.BUILD]}?)?)?`);Bi("XRANGEPLAINLOOSE",`[v=\\s]*(${tn[rn.XRANGEIDENTIFIERLOOSE]})(?:\\.(${tn[rn.XRANGEIDENTIFIERLOOSE]})(?:\\.(${tn[rn.XRANGEIDENTIFIERLOOSE]})(?:${tn[rn.PRERELEASELOOSE]})?${tn[rn.BUILD]}?)?)?`);Bi("XRANGE",`^${tn[rn.GTLT]}\\s*${tn[rn.XRANGEPLAIN]}$`);Bi("XRANGELOOSE",`^${tn[rn.GTLT]}\\s*${tn[rn.XRANGEPLAINLOOSE]}$`);Bi("COERCEPLAIN",`(^|[^\\d])(\\d{1,${Eie}})(?:\\.(\\d{1,${Eie}}))?(?:\\.(\\d{1,${Eie}}))?`);Bi("COERCE",`${tn[rn.COERCEPLAIN]}(?:$|[^\\d])`);Bi("COERCEFULL",tn[rn.COERCEPLAIN]+`(?:${tn[rn.PRERELEASE]})?(?:${tn[rn.BUILD]})?(?:$|[^\\d])`);Bi("COERCERTL",tn[rn.COERCE],!0);Bi("COERCERTLFULL",tn[rn.COERCEFULL],!0);Bi("LONETILDE","(?:~>?)");Bi("TILDETRIM",`(\\s*)${tn[rn.LONETILDE]}\\s+`,!0);Yb.tildeTrimReplace="$1~";Bi("TILDE",`^${tn[rn.LONETILDE]}${tn[rn.XRANGEPLAIN]}$`);Bi("TILDELOOSE",`^${tn[rn.LONETILDE]}${tn[rn.XRANGEPLAINLOOSE]}$`);Bi("LONECARET","(?:\\^)");Bi("CARETTRIM",`(\\s*)${tn[rn.LONECARET]}\\s+`,!0);Yb.caretTrimReplace="$1^";Bi("CARET",`^${tn[rn.LONECARET]}${tn[rn.XRANGEPLAIN]}$`);Bi("CARETLOOSE",`^${tn[rn.LONECARET]}${tn[rn.XRANGEPLAINLOOSE]}$`);Bi("COMPARATORLOOSE",`^${tn[rn.GTLT]}\\s*(${tn[rn.LOOSEPLAIN]})$|^$`);Bi("COMPARATOR",`^${tn[rn.GTLT]}\\s*(${tn[rn.FULLPLAIN]})$|^$`);Bi("COMPARATORTRIM",`(\\s*)${tn[rn.GTLT]}\\s*(${tn[rn.LOOSEPLAIN]}|${tn[rn.XRANGEPLAIN]})`,!0);Yb.comparatorTrimReplace="$1$2$3";Bi("HYPHENRANGE",`^\\s*(${tn[rn.XRANGEPLAIN]})\\s+-\\s+(${tn[rn.XRANGEPLAIN]})\\s*$`);Bi("HYPHENRANGELOOSE",`^\\s*(${tn[rn.XRANGEPLAINLOOSE]})\\s+-\\s+(${tn[rn.XRANGEPLAINLOOSE]})\\s*$`);Bi("STAR","(<|>)?=?\\s*\\*");Bi("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Bi("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var p$=C((uQt,aNe)=>{var dRt=Object.freeze({loose:!0}),fRt=Object.freeze({}),hRt=r=>r?typeof r!="object"?dRt:r:fRt;aNe.exports=hRt});var dNe=C((lQt,lNe)=>{var cNe=/^[0-9]+$/,uNe=(r,e)=>{let t=cNe.test(r),n=cNe.test(e);return t&&n&&(r=+r,e=+e),r===e?0:t&&!n?-1:n&&!t?1:r<e?-1:1},pRt=(r,e)=>uNe(e,r);lNe.exports={compareIdentifiers:uNe,rcompareIdentifiers:pRt}});var fN=C((dQt,mNe)=>{var m$=dN(),{MAX_LENGTH:fNe,MAX_SAFE_INTEGER:g$}=f$(),{safeRe:hNe,safeSrc:pNe,t:v$}=h$(),mRt=p$(),{compareIdentifiers:tO}=dNe(),Pie=class r{constructor(e,t){if(t=mRt(t),e instanceof r){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>fNe)throw new TypeError(`version is longer than ${fNe} characters`);m$("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let n=e.trim().match(t.loose?hNe[v$.LOOSE]:hNe[v$.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>g$||this.major<0)throw new TypeError("Invalid major version");if(this.minor>g$||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>g$||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let o=+i;if(o>=0&&o<g$)return o}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(m$("SemVer.compare",this.version,this.options,e),!(e instanceof r)){if(typeof e=="string"&&e===this.version)return 0;e=new r(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof r||(e=new r(e,this.options)),tO(this.major,e.major)||tO(this.minor,e.minor)||tO(this.patch,e.patch)}comparePre(e){if(e instanceof r||(e=new r(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let n=this.prerelease[t],i=e.prerelease[t];if(m$("prerelease compare",t,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return tO(n,i)}while(++t)}compareBuild(e){e instanceof r||(e=new r(e,this.options));let t=0;do{let n=this.build[t],i=e.build[t];if(m$("build compare",t,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return tO(n,i)}while(++t)}inc(e,t,n){if(e.startsWith("pre")){if(!t&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(t){let i=new RegExp(`^${this.options.loose?pNe[v$.PRERELEASELOOSE]:pNe[v$.PRERELEASE]}$`),o=`-${t}`.match(i);if(!o||o[1]!==t)throw new Error(`invalid identifier: ${t}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(t===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(t){let o=[t,i];n===!1&&(o=[t]),tO(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};mNe.exports=Pie});var yNe=C((fQt,vNe)=>{var gNe=fN(),gRt=(r,e,t=!1)=>{if(r instanceof gNe)return r;try{return new gNe(r,e)}catch(n){if(!t)return null;throw n}};vNe.exports=gRt});var bNe=C((hQt,_Ne)=>{var xie=class{constructor(){this.max=1e3,this.map=new Map}get(e){let t=this.map.get(e);if(t!==void 0)return this.map.delete(e),this.map.set(e,t),t}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&t!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(e,t)}return this}};_Ne.exports=xie});var EE=C((pQt,SNe)=>{var wNe=fN(),vRt=(r,e,t)=>new wNe(r,t).compare(new wNe(e,t));SNe.exports=vRt});var TNe=C((mQt,CNe)=>{var yRt=EE(),_Rt=(r,e,t)=>yRt(r,e,t)===0;CNe.exports=_Rt});var ENe=C((gQt,DNe)=>{var bRt=EE(),wRt=(r,e,t)=>bRt(r,e,t)!==0;DNe.exports=wRt});var PNe=C((vQt,RNe)=>{var SRt=EE(),CRt=(r,e,t)=>SRt(r,e,t)>0;RNe.exports=CRt});var ONe=C((yQt,xNe)=>{var TRt=EE(),DRt=(r,e,t)=>TRt(r,e,t)>=0;xNe.exports=DRt});var kNe=C((_Qt,INe)=>{var ERt=EE(),RRt=(r,e,t)=>ERt(r,e,t)<0;INe.exports=RRt});var LNe=C((bQt,ANe)=>{var PRt=EE(),xRt=(r,e,t)=>PRt(r,e,t)<=0;ANe.exports=xRt});var NNe=C((wQt,MNe)=>{var ORt=TNe(),IRt=ENe(),kRt=PNe(),ARt=ONe(),LRt=kNe(),MRt=LNe(),NRt=(r,e,t,n)=>{switch(e){case"===":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r===t;case"!==":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r!==t;case"":case"=":case"==":return ORt(r,t,n);case"!=":return IRt(r,t,n);case">":return kRt(r,t,n);case">=":return ARt(r,t,n);case"<":return LRt(r,t,n);case"<=":return MRt(r,t,n);default:throw new TypeError(`Invalid operator: ${e}`)}};MNe.exports=NRt});var BNe=C((SQt,HNe)=>{var hN=Symbol("SemVer ANY"),kie=class r{static get ANY(){return hN}constructor(e,t){if(t=FNe(t),e instanceof r){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),Iie("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===hN?this.value="":this.value=this.operator+this.semver.version,Iie("comp",this)}parse(e){let t=this.options.loose?qNe[jNe.COMPARATORLOOSE]:qNe[jNe.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new zNe(n[2],this.options.loose):this.semver=hN}toString(){return this.value}test(e){if(Iie("Comparator.test",e,this.options.loose),this.semver===hN||e===hN)return!0;if(typeof e=="string")try{e=new zNe(e,this.options)}catch{return!1}return Oie(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new UNe(e.value,t).test(this.value):e.operator===""?e.value===""?!0:new UNe(this.value,t).test(e.semver):(t=FNe(t),t.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||Oie(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||Oie(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};HNe.exports=kie;var FNe=p$(),{safeRe:qNe,t:jNe}=h$(),Oie=NNe(),Iie=dN(),zNe=fN(),UNe=Aie()});var Aie=C((CQt,GNe)=>{var FRt=/\s+/g,Lie=class r{constructor(e,t){if(t=jRt(t),e instanceof r)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new r(e.raw,t);if(e instanceof Mie)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(FRt," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!$Ne(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&VRt(i[0])){this.set=[i];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let t=this.set[e];for(let n=0;n<t.length;n++)n>0&&(this.formatted+=" "),this.formatted+=t[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&WRt)|(this.options.loose&&$Rt))+":"+e,i=WNe.get(n);if(i)return i;let o=this.options.loose,s=o?Rm[vp.HYPHENRANGELOOSE]:Rm[vp.HYPHENRANGE];e=e.replace(s,rPt(this.options.includePrerelease)),Ka("hyphen replace",e),e=e.replace(Rm[vp.COMPARATORTRIM],URt),Ka("comparator trim",e),e=e.replace(Rm[vp.TILDETRIM],HRt),Ka("tilde trim",e),e=e.replace(Rm[vp.CARETTRIM],BRt),Ka("caret trim",e);let a=e.split(" ").map(d=>GRt(d,this.options)).join(" ").split(/\s+/).map(d=>tPt(d,this.options));o&&(a=a.filter(d=>(Ka("loose invalid filter",d,this.options),!!d.match(Rm[vp.COMPARATORLOOSE])))),Ka("range list",a);let c=new Map,u=a.map(d=>new Mie(d,this.options));for(let d of u){if($Ne(d))return[d];c.set(d.value,d)}c.size>1&&c.has("")&&c.delete("");let l=[...c.values()];return WNe.set(n,l),l}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Range is required");return this.set.some(n=>VNe(n,t)&&e.set.some(i=>VNe(i,t)&&n.every(o=>i.every(s=>o.intersects(s,t)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new zRt(e,this.options)}catch{return!1}for(let t=0;t<this.set.length;t++)if(nPt(this.set[t],e,this.options))return!0;return!1}};GNe.exports=Lie;var qRt=bNe(),WNe=new qRt,jRt=p$(),Mie=BNe(),Ka=dN(),zRt=fN(),{safeRe:Rm,t:vp,comparatorTrimReplace:URt,tildeTrimReplace:HRt,caretTrimReplace:BRt}=h$(),{FLAG_INCLUDE_PRERELEASE:WRt,FLAG_LOOSE:$Rt}=f$(),$Ne=r=>r.value==="<0.0.0-0",VRt=r=>r.value==="",VNe=(r,e)=>{let t=!0,n=r.slice(),i=n.pop();for(;t&&n.length;)t=n.every(o=>i.intersects(o,e)),i=n.pop();return t},GRt=(r,e)=>(Ka("comp",r,e),r=JRt(r,e),Ka("caret",r),r=KRt(r,e),Ka("tildes",r),r=QRt(r,e),Ka("xrange",r),r=ePt(r,e),Ka("stars",r),r),yp=r=>!r||r.toLowerCase()==="x"||r==="*",KRt=(r,e)=>r.trim().split(/\s+/).map(t=>YRt(t,e)).join(" "),YRt=(r,e)=>{let t=e.loose?Rm[vp.TILDELOOSE]:Rm[vp.TILDE];return r.replace(t,(n,i,o,s,a)=>{Ka("tilde",r,n,i,o,s,a);let c;return yp(i)?c="":yp(o)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:yp(s)?c=`>=${i}.${o}.0 <${i}.${+o+1}.0-0`:a?(Ka("replaceTilde pr",a),c=`>=${i}.${o}.${s}-${a} <${i}.${+o+1}.0-0`):c=`>=${i}.${o}.${s} <${i}.${+o+1}.0-0`,Ka("tilde return",c),c})},JRt=(r,e)=>r.trim().split(/\s+/).map(t=>XRt(t,e)).join(" "),XRt=(r,e)=>{Ka("caret",r,e);let t=e.loose?Rm[vp.CARETLOOSE]:Rm[vp.CARET],n=e.includePrerelease?"-0":"";return r.replace(t,(i,o,s,a,c)=>{Ka("caret",r,i,o,s,a,c);let u;return yp(o)?u="":yp(s)?u=`>=${o}.0.0${n} <${+o+1}.0.0-0`:yp(a)?o==="0"?u=`>=${o}.${s}.0${n} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.0${n} <${+o+1}.0.0-0`:c?(Ka("replaceCaret pr",c),o==="0"?s==="0"?u=`>=${o}.${s}.${a}-${c} <${o}.${s}.${+a+1}-0`:u=`>=${o}.${s}.${a}-${c} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.${a}-${c} <${+o+1}.0.0-0`):(Ka("no pr"),o==="0"?s==="0"?u=`>=${o}.${s}.${a}${n} <${o}.${s}.${+a+1}-0`:u=`>=${o}.${s}.${a}${n} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.${a} <${+o+1}.0.0-0`),Ka("caret return",u),u})},QRt=(r,e)=>(Ka("replaceXRanges",r,e),r.split(/\s+/).map(t=>ZRt(t,e)).join(" ")),ZRt=(r,e)=>{r=r.trim();let t=e.loose?Rm[vp.XRANGELOOSE]:Rm[vp.XRANGE];return r.replace(t,(n,i,o,s,a,c)=>{Ka("xRange",r,n,i,o,s,a,c);let u=yp(o),l=u||yp(s),d=l||yp(a),f=d;return i==="="&&f&&(i=""),c=e.includePrerelease?"-0":"",u?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&f?(l&&(s=0),a=0,i===">"?(i=">=",l?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):i==="<="&&(i="<",l?o=+o+1:s=+s+1),i==="<"&&(c="-0"),n=`${i+o}.${s}.${a}${c}`):l?n=`>=${o}.0.0${c} <${+o+1}.0.0-0`:d&&(n=`>=${o}.${s}.0${c} <${o}.${+s+1}.0-0`),Ka("xRange return",n),n})},ePt=(r,e)=>(Ka("replaceStars",r,e),r.trim().replace(Rm[vp.STAR],"")),tPt=(r,e)=>(Ka("replaceGTE0",r,e),r.trim().replace(Rm[e.includePrerelease?vp.GTE0PRE:vp.GTE0],"")),rPt=r=>(e,t,n,i,o,s,a,c,u,l,d,f)=>(yp(n)?t="":yp(i)?t=`>=${n}.0.0${r?"-0":""}`:yp(o)?t=`>=${n}.${i}.0${r?"-0":""}`:s?t=`>=${t}`:t=`>=${t}${r?"-0":""}`,yp(u)?c="":yp(l)?c=`<${+u+1}.0.0-0`:yp(d)?c=`<${u}.${+l+1}.0-0`:f?c=`<=${u}.${l}.${d}-${f}`:r?c=`<${u}.${l}.${+d+1}-0`:c=`<=${c}`,`${t} ${c}`.trim()),nPt=(r,e,t)=>{for(let n=0;n<r.length;n++)if(!r[n].test(e))return!1;if(e.prerelease.length&&!t.includePrerelease){for(let n=0;n<r.length;n++)if(Ka(r[n].semver),r[n].semver!==Mie.ANY&&r[n].semver.prerelease.length>0){let i=r[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var YNe=C((TQt,KNe)=>{var iPt=Aie(),oPt=(r,e,t)=>{try{e=new iPt(e,t)}catch{return!1}return e.test(r)};KNe.exports=oPt});var pN=C(Lg=>{"use strict";var sPt=Lg&&Lg.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Nie=Lg&&Lg.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&sPt(e,r,t)};Object.defineProperty(Lg,"__esModule",{value:!0});Lg.DiagnosticPullMode=Lg.vsdiag=void 0;Nie(en(),Lg);Nie(Mo(),Lg);var JNe=MW();Object.defineProperty(Lg,"vsdiag",{enumerable:!0,get:function(){return JNe.vsdiag}});Object.defineProperty(Lg,"DiagnosticPullMode",{enumerable:!0,get:function(){return JNe.DiagnosticPullMode}});Nie(hie(),Lg)});var KS=C(Pd=>{"use strict";var ZNe=Pd&&Pd.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),aPt=Pd&&Pd.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),y$=Pd&&Pd.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&ZNe(t,e,n[i]);return aPt(t,e),t}}(),eFe=Pd&&Pd.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&ZNe(e,r,t)};Object.defineProperty(Pd,"__esModule",{value:!0});Pd.SettingMonitor=Pd.LanguageClient=Pd.TransportKind=void 0;var GS=y$(require("child_process")),Fie=y$(require("fs")),qie=y$(require("path")),gD=require("vscode"),Sc=y$(Gv()),XNe=hie(),cPt=XMe(),Yc=Die(),uPt=yNe(),lPt=YNe();eFe(Die(),Pd);eFe(pN(),Pd);var QNe="^1.91.0",Jc;(function(r){r[r.stdio=0]="stdio",r[r.ipc=1]="ipc",r[r.pipe=2]="pipe",r[r.socket=3]="socket"})(Jc||(Pd.TransportKind=Jc={}));var mD;(function(r){function e(t){let n=t;return n&&n.kind===Jc.socket&&Sc.number(n.port)}r.isSocket=e})(mD||(mD={}));var jie;(function(r){function e(t){return Sc.string(t.command)}r.is=e})(jie||(jie={}));var zie;(function(r){function e(t){return Sc.string(t.module)}r.is=e})(zie||(zie={}));var Uie;(function(r){function e(t){let n=t;return n&&n.writer!==void 0&&n.reader!==void 0}r.is=e})(Uie||(Uie={}));var Hie;(function(r){function e(t){let n=t;return n&&n.process!==void 0&&typeof n.detached=="boolean"}r.is=e})(Hie||(Hie={}));var Bie=class extends XNe.BaseLanguageClient{_serverOptions;_forceDebug;_serverProcess;_isDetached;_isInDebugMode;constructor(e,t,n,i,o){let s,a,c,u,l;Sc.string(t)?(s=e,a=t,c=n,u=i,l=!!o):(s=e.toLowerCase(),a=e,c=t,u=n,l=i),l===void 0&&(l=!1),super(s,a,u),this._serverOptions=c,this._forceDebug=l,this._isInDebugMode=l;try{this.checkVersion()}catch(d){throw Sc.string(d.message)&&this.outputChannel.appendLine(d.message),d}}checkVersion(){let e=uPt(gD.version);if(!e)throw new Error(`No valid VS Code version detected. Version string is: ${gD.version}`);if(e.prerelease&&e.prerelease.length>0&&(e.prerelease=[]),!lPt(e,QNe))throw new Error(`The language client requires VS Code version ${QNe} but received version ${gD.version}`)}get isInDebugMode(){return this._isInDebugMode}async restart(){await this.stop(),this.isInDebugMode?(await new Promise(e=>setTimeout(e,1e3)),await this.start()):await this.start()}shutdown(e,t=2e3){return super.shutdown(e,t).finally(()=>{if(this._serverProcess){let n=this._serverProcess;this._serverProcess=void 0,(this._isDetached===void 0||!this._isDetached)&&this.checkProcessDied(n),this._isDetached=void 0}})}checkProcessDied(e){!e||e.pid===void 0||setTimeout(()=>{try{e.pid!==void 0&&(process.kill(e.pid,0),(0,cPt.terminate)(e))}catch{}},2e3)}handleConnectionClosed(){return this._serverProcess=void 0,super.handleConnectionClosed()}fillInitializeParams(e){super.fillInitializeParams(e),e.processId===null&&(e.processId=process.pid)}createMessageTransports(e){function t(l,d){if(!l&&!d)return;let f=Object.create(null);return Object.keys(process.env).forEach(p=>f[p]=process.env[p]),d&&(f.ELECTRON_RUN_AS_NODE="1",f.ELECTRON_NO_ASAR="1"),l&&Object.keys(l).forEach(p=>f[p]=l[p]),f}let n=["--debug=","--debug-brk=","--inspect=","--inspect-brk="],i=["--debug","--debug-brk","--inspect","--inspect-brk"];function o(){let l=process.execArgv;return l?l.some(d=>n.some(f=>d.startsWith(f))||i.some(f=>d===f)):!1}function s(l){if(l.stdin===null||l.stdout===null||l.stderr===null)throw new Error("Process created without stdio streams")}let a=this._serverOptions;if(Sc.func(a))return a().then(l=>{if(XNe.MessageTransports.is(l))return this._isDetached=!!l.detached,l;if(Uie.is(l))return this._isDetached=!!l.detached,{reader:new Yc.StreamMessageReader(l.reader),writer:new Yc.StreamMessageWriter(l.writer)};{let d;return Hie.is(l)?(d=l.process,this._isDetached=l.detached):(d=l,this._isDetached=!1),d.stderr.on("data",f=>this.outputChannel.append(Sc.string(f)?f:f.toString(e))),{reader:new Yc.StreamMessageReader(d.stdout),writer:new Yc.StreamMessageWriter(d.stdin)}}});let c,u=a;return u.run||u.debug?this._forceDebug||o()?(c=u.debug,this._isInDebugMode=!0):(c=u.run,this._isInDebugMode=!1):c=a,this._getServerWorkingDir(c.options).then(l=>{if(zie.is(c)&&c.module){let d=c,f=d.transport||Jc.stdio;if(d.runtime){let p=[],_=d.options??Object.create(null);_.execArgv&&_.execArgv.forEach(A=>p.push(A)),p.push(d.module),d.args&&d.args.forEach(A=>p.push(A));let D=Object.create(null);D.cwd=l,D.env=t(_.env,!1);let P=this._getRuntimePath(d.runtime,l),M;if(f===Jc.ipc?(D.stdio=[null,null,null,"ipc"],p.push("--node-ipc")):f===Jc.stdio?p.push("--stdio"):f===Jc.pipe?(M=(0,Yc.generateRandomPipeName)(),p.push(`--pipe=${M}`)):mD.isSocket(f)&&p.push(`--socket=${f.port}`),p.push(`--clientProcessId=${process.pid.toString()}`),f===Jc.ipc||f===Jc.stdio){let A=GS.spawn(P,p,D);return!A||!A.pid?rO(A,`Launching server using runtime ${P} failed.`):(this._serverProcess=A,A.stderr.on("data",U=>this.outputChannel.append(Sc.string(U)?U:U.toString(e))),f===Jc.ipc?(A.stdout.on("data",U=>this.outputChannel.append(Sc.string(U)?U:U.toString(e))),Promise.resolve({reader:new Yc.IPCMessageReader(A),writer:new Yc.IPCMessageWriter(A)})):Promise.resolve({reader:new Yc.StreamMessageReader(A.stdout),writer:new Yc.StreamMessageWriter(A.stdin)}))}else{if(f===Jc.pipe)return(0,Yc.createClientPipeTransport)(M).then(A=>{let U=GS.spawn(P,p,D);return!U||!U.pid?rO(U,`Launching server using runtime ${P} failed.`):(this._serverProcess=U,U.stderr.on("data",ne=>this.outputChannel.append(Sc.string(ne)?ne:ne.toString(e))),U.stdout.on("data",ne=>this.outputChannel.append(Sc.string(ne)?ne:ne.toString(e))),A.onConnected().then(ne=>({reader:ne[0],writer:ne[1]})))});if(mD.isSocket(f))return(0,Yc.createClientSocketTransport)(f.port).then(A=>{let U=GS.spawn(P,p,D);return!U||!U.pid?rO(U,`Launching server using runtime ${P} failed.`):(this._serverProcess=U,U.stderr.on("data",ne=>this.outputChannel.append(Sc.string(ne)?ne:ne.toString(e))),U.stdout.on("data",ne=>this.outputChannel.append(Sc.string(ne)?ne:ne.toString(e))),A.onConnected().then(ne=>({reader:ne[0],writer:ne[1]})))})}}else{let p;return new Promise((_,D)=>{let P=(d.args&&d.args.slice())??[];f===Jc.ipc?P.push("--node-ipc"):f===Jc.stdio?P.push("--stdio"):f===Jc.pipe?(p=(0,Yc.generateRandomPipeName)(),P.push(`--pipe=${p}`)):mD.isSocket(f)&&P.push(`--socket=${f.port}`),P.push(`--clientProcessId=${process.pid.toString()}`);let M=d.options??Object.create(null);if(M.env=t(M.env,!0),M.execArgv=M.execArgv||[],M.cwd=l,M.silent=!0,f===Jc.ipc||f===Jc.stdio){let A=GS.fork(d.module,P||[],M);s(A),this._serverProcess=A,A.stderr.on("data",U=>this.outputChannel.append(Sc.string(U)?U:U.toString(e))),f===Jc.ipc?(A.stdout.on("data",U=>this.outputChannel.append(Sc.string(U)?U:U.toString(e))),_({reader:new Yc.IPCMessageReader(this._serverProcess),writer:new Yc.IPCMessageWriter(this._serverProcess)})):_({reader:new Yc.StreamMessageReader(A.stdout),writer:new Yc.StreamMessageWriter(A.stdin)})}else f===Jc.pipe?(0,Yc.createClientPipeTransport)(p).then(A=>{let U=GS.fork(d.module,P||[],M);s(U),this._serverProcess=U,U.stderr.on("data",ne=>this.outputChannel.append(Sc.string(ne)?ne:ne.toString(e))),U.stdout.on("data",ne=>this.outputChannel.append(Sc.string(ne)?ne:ne.toString(e))),A.onConnected().then(ne=>{_({reader:ne[0],writer:ne[1]})},D)},D):mD.isSocket(f)&&(0,Yc.createClientSocketTransport)(f.port).then(A=>{let U=GS.fork(d.module,P||[],M);s(U),this._serverProcess=U,U.stderr.on("data",ne=>this.outputChannel.append(Sc.string(ne)?ne:ne.toString(e))),U.stdout.on("data",ne=>this.outputChannel.append(Sc.string(ne)?ne:ne.toString(e))),A.onConnected().then(ne=>{_({reader:ne[0],writer:ne[1]})},D)},D)})}}else if(jie.is(c)&&c.command){let d=c,f=c.args!==void 0?c.args.slice(0):[],p,_=c.transport;if(_===Jc.stdio)f.push("--stdio");else if(_===Jc.pipe)p=(0,Yc.generateRandomPipeName)(),f.push(`--pipe=${p}`);else if(mD.isSocket(_))f.push(`--socket=${_.port}`);else if(_===Jc.ipc)throw new Error("Transport kind ipc is not support for command executable");let D=Object.assign({},d.options);if(D.cwd=D.cwd||l,_===void 0||_===Jc.stdio){let P=GS.spawn(d.command,f,D);return!P||!P.pid?rO(P,`Launching server using command ${d.command} failed.`):(P.stderr.on("data",M=>this.outputChannel.append(Sc.string(M)?M:M.toString(e))),this._serverProcess=P,this._isDetached=!!D.detached,Promise.resolve({reader:new Yc.StreamMessageReader(P.stdout),writer:new Yc.StreamMessageWriter(P.stdin)}))}else{if(_===Jc.pipe)return(0,Yc.createClientPipeTransport)(p).then(P=>{let M=GS.spawn(d.command,f,D);return!M||!M.pid?rO(M,`Launching server using command ${d.command} failed.`):(this._serverProcess=M,this._isDetached=!!D.detached,M.stderr.on("data",A=>this.outputChannel.append(Sc.string(A)?A:A.toString(e))),M.stdout.on("data",A=>this.outputChannel.append(Sc.string(A)?A:A.toString(e))),P.onConnected().then(A=>({reader:A[0],writer:A[1]})))});if(mD.isSocket(_))return(0,Yc.createClientSocketTransport)(_.port).then(P=>{let M=GS.spawn(d.command,f,D);return!M||!M.pid?rO(M,`Launching server using command ${d.command} failed.`):(this._serverProcess=M,this._isDetached=!!D.detached,M.stderr.on("data",A=>this.outputChannel.append(Sc.string(A)?A:A.toString(e))),M.stdout.on("data",A=>this.outputChannel.append(Sc.string(A)?A:A.toString(e))),P.onConnected().then(A=>({reader:A[0],writer:A[1]})))})}}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(a,null,4)))}).finally(()=>{this._serverProcess!==void 0&&this._serverProcess.on("exit",(l,d)=>{l===0?this.info("Server process exited successfully",void 0,!1):l!==null&&this.error(`Server process exited with code ${l}.`,void 0,!1),d!==null&&this.error(`Server process exited with signal ${d}.`,void 0,!1)})})}_getRuntimePath(e,t){if(qie.isAbsolute(e))return e;let n=this._mainGetRootPath();if(n!==void 0){let i=qie.join(n,e);if(Fie.existsSync(i))return i}if(t!==void 0){let i=qie.join(t,e);if(Fie.existsSync(i))return i}return e}_mainGetRootPath(){let e=gD.workspace.workspaceFolders;if(!e||e.length===0)return;let t=e[0];if(t.uri.scheme==="file")return t.uri.fsPath}_getServerWorkingDir(e){let t=e&&e.cwd;return t||(t=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),t?new Promise(n=>{Fie.lstat(t,(i,o)=>{n(!i&&o.isDirectory()?t:void 0)})}):Promise.resolve(void 0)}};Pd.LanguageClient=Bie;var Wie=class{_client;_setting;_listeners;constructor(e,t){this._client=e,this._setting=t,this._listeners=[]}start(){return gD.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new gD.Disposable(()=>{this._client.needsStop()&&this._client.stop()})}onDidChangeConfiguration(){let e=this._setting.indexOf("."),t=e>=0?this._setting.substr(0,e):this._setting,n=e>=0?this._setting.substr(e+1):void 0,i=n?gD.workspace.getConfiguration(t).get(n,!1):gD.workspace.getConfiguration(t);i&&this._client.needsStart()?this._client.start().catch(o=>this._client.error("Start failed after configuration change",o,"force")):!i&&this._client.needsStop()&&this._client.stop().catch(o=>this._client.error("Stop failed after configuration change",o,"force"))}};Pd.SettingMonitor=Wie;function rO(r,e){return r===null?Promise.reject(e):new Promise((t,n)=>{r.on("error",i=>{n(`${e} ${i}`)}),setImmediate(()=>n(e))})}});var wFe=C((_Fe,bFe)=>{_Fe=bFe.exports=function(r){for(var e=0;e<r.length;){if(r[e]==9||r[e]==10||r[e]==13||32<=r[e]&&r[e]<=126){e+=1;continue}if(194<=r[e]&&r[e]<=223&&128<=r[e+1]&&r[e+1]<=191){e+=2;continue}if(r[e]==224&&160<=r[e+1]&&r[e+1]<=191&&128<=r[e+2]&&r[e+2]<=191||(225<=r[e]&&r[e]<=236||r[e]==238||r[e]==239)&&128<=r[e+1]&&r[e+1]<=191&&128<=r[e+2]&&r[e+2]<=191||r[e]==237&&128<=r[e+1]&&r[e+1]<=159&&128<=r[e+2]&&r[e+2]<=191){e+=3;continue}if(r[e]==240&&144<=r[e+1]&&r[e+1]<=191&&128<=r[e+2]&&r[e+2]<=191&&128<=r[e+3]&&r[e+3]<=191||241<=r[e]&&r[e]<=243&&128<=r[e+1]&&r[e+1]<=191&&128<=r[e+2]&&r[e+2]<=191&&128<=r[e+3]&&r[e+3]<=191||r[e]==244&&128<=r[e+1]&&r[e+1]<=143&&128<=r[e+2]&&r[e+2]<=191&&128<=r[e+3]&&r[e+3]<=191){e+=4;continue}return!1}return!0}});var CFe=C((qQt,SFe)=>{"use strict";var pPt=wFe();SFe.exports=r=>{if(!Buffer.isBuffer(r))throw new TypeError(`Expected a Buffer, got ${typeof r}`);return r[0]===239&&r[1]===187&&r[2]===191&&pPt(r)?r.slice(3):r}});var yqe=C((GN,_oe)=>{(function(r,e){typeof GN=="object"&&typeof _oe=="object"?_oe.exports=e(require("child_process"),require("crypto")):typeof define=="function"&&define.amd?define(["child_process","crypto"],e):typeof GN=="object"?GN["electron-machine-id"]=e(require("child_process"),require("crypto")):r["electron-machine-id"]=e(r.child_process,r.crypto)})(GN,function(r,e){return function(t){function n(o){if(i[o])return i[o].exports;var s=i[o]={exports:{},id:o,loaded:!1};return t[o].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}var i={};return n.m=t,n.c=i,n.p="",n(0)}([function(t,n,i){t.exports=i(34)},function(t,n,i){var o=i(29)("wks"),s=i(33),a=i(2).Symbol,c=typeof a=="function",u=t.exports=function(l){return o[l]||(o[l]=c&&a[l]||(c?a:s)("Symbol."+l))};u.store=o},function(t,n){var i=t.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=i)},function(t,n,i){var o=i(9);t.exports=function(s){if(!o(s))throw TypeError(s+" is not an object!");return s}},function(t,n,i){t.exports=!i(24)(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},function(t,n,i){var o=i(12),s=i(17);t.exports=i(4)?function(a,c,u){return o.f(a,c,s(1,u))}:function(a,c,u){return a[c]=u,a}},function(t,n){var i=t.exports={version:"2.4.0"};typeof __e=="number"&&(__e=i)},function(t,n,i){var o=i(14);t.exports=function(s,a,c){if(o(s),a===void 0)return s;switch(c){case 1:return function(u){return s.call(a,u)};case 2:return function(u,l){return s.call(a,u,l)};case 3:return function(u,l,d){return s.call(a,u,l,d)}}return function(){return s.apply(a,arguments)}}},function(t,n){var i={}.hasOwnProperty;t.exports=function(o,s){return i.call(o,s)}},function(t,n){t.exports=function(i){return typeof i=="object"?i!==null:typeof i=="function"}},function(t,n){t.exports={}},function(t,n){var i={}.toString;t.exports=function(o){return i.call(o).slice(8,-1)}},function(t,n,i){var o=i(3),s=i(26),a=i(32),c=Object.defineProperty;n.f=i(4)?Object.defineProperty:function(u,l,d){if(o(u),l=a(l,!0),o(d),s)try{return c(u,l,d)}catch{}if("get"in d||"set"in d)throw TypeError("Accessors not supported!");return"value"in d&&(u[l]=d.value),u}},function(t,n,i){var o=i(42),s=i(15);t.exports=function(a){return o(s(a))}},function(t,n){t.exports=function(i){if(typeof i!="function")throw TypeError(i+" is not a function!");return i}},function(t,n){t.exports=function(i){if(i==null)throw TypeError("Can't call method on  "+i);return i}},function(t,n,i){var o=i(9),s=i(2).document,a=o(s)&&o(s.createElement);t.exports=function(c){return a?s.createElement(c):{}}},function(t,n){t.exports=function(i,o){return{enumerable:!(1&i),configurable:!(2&i),writable:!(4&i),value:o}}},function(t,n,i){var o=i(12).f,s=i(8),a=i(1)("toStringTag");t.exports=function(c,u,l){c&&!s(c=l?c:c.prototype,a)&&o(c,a,{configurable:!0,value:u})}},function(t,n,i){var o=i(29)("keys"),s=i(33);t.exports=function(a){return o[a]||(o[a]=s(a))}},function(t,n){var i=Math.ceil,o=Math.floor;t.exports=function(s){return isNaN(s=+s)?0:(s>0?o:i)(s)}},function(t,n,i){var o=i(11),s=i(1)("toStringTag"),a=o(function(){return arguments}())=="Arguments",c=function(u,l){try{return u[l]}catch{}};t.exports=function(u){var l,d,f;return u===void 0?"Undefined":u===null?"Null":typeof(d=c(l=Object(u),s))=="string"?d:a?o(l):(f=o(l))=="Object"&&typeof l.callee=="function"?"Arguments":f}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n,i){var o=i(2),s=i(6),a=i(7),c=i(5),u="prototype",l=function(d,f,p){var _,D,P,M=d&l.F,A=d&l.G,U=d&l.S,ne=d&l.P,pe=d&l.B,ve=d&l.W,V=A?s:s[f]||(s[f]={}),W=V[u],ee=A?o:U?o[f]:(o[f]||{})[u];A&&(p=f);for(_ in p)D=!M&&ee&&ee[_]!==void 0,D&&_ in V||(P=D?ee[_]:p[_],V[_]=A&&typeof ee[_]!="function"?p[_]:pe&&D?a(P,o):ve&&ee[_]==P?function(De){var ae=function(ue,Fe,Me){if(this instanceof De){switch(arguments.length){case 0:return new De;case 1:return new De(ue);case 2:return new De(ue,Fe)}return new De(ue,Fe,Me)}return De.apply(this,arguments)};return ae[u]=De[u],ae}(P):ne&&typeof P=="function"?a(Function.call,P):P,ne&&((V.virtual||(V.virtual={}))[_]=P,d&l.R&&W&&!W[_]&&c(W,_,P)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,n){t.exports=function(i){try{return!!i()}catch{return!0}}},function(t,n,i){t.exports=i(2).document&&document.documentElement},function(t,n,i){t.exports=!i(4)&&!i(24)(function(){return Object.defineProperty(i(16)("div"),"a",{get:function(){return 7}}).a!=7})},function(t,n,i){"use strict";var o=i(28),s=i(23),a=i(57),c=i(5),u=i(8),l=i(10),d=i(45),f=i(18),p=i(52),_=i(1)("iterator"),D=!([].keys&&"next"in[].keys()),P="@@iterator",M="keys",A="values",U=function(){return this};t.exports=function(ne,pe,ve,V,W,ee,De){d(ve,pe,V);var ae,ue,Fe,Me=function(st){if(!D&&st in xe)return xe[st];switch(st){case M:return function(){return new ve(this,st)};case A:return function(){return new ve(this,st)}}return function(){return new ve(this,st)}},ce=pe+" Iterator",Ce=W==A,be=!1,xe=ne.prototype,Ne=xe[_]||xe[P]||W&&xe[W],$e=Ne||Me(W),Ct=W?Ce?Me("entries"):$e:void 0,ze=pe=="Array"&&xe.entries||Ne;if(ze&&(Fe=p(ze.call(new ne)),Fe!==Object.prototype&&(f(Fe,ce,!0),o||u(Fe,_)||c(Fe,_,U))),Ce&&Ne&&Ne.name!==A&&(be=!0,$e=function(){return Ne.call(this)}),o&&!De||!D&&!be&&xe[_]||c(xe,_,$e),l[pe]=$e,l[ce]=U,W)if(ae={values:Ce?$e:Me(A),keys:ee?$e:Me(M),entries:Ct},De)for(ue in ae)ue in xe||a(xe,ue,ae[ue]);else s(s.P+s.F*(D||be),pe,ae);return ae}},function(t,n){t.exports=!0},function(t,n,i){var o=i(2),s="__core-js_shared__",a=o[s]||(o[s]={});t.exports=function(c){return a[c]||(a[c]={})}},function(t,n,i){var o,s,a,c=i(7),u=i(41),l=i(25),d=i(16),f=i(2),p=f.process,_=f.setImmediate,D=f.clearImmediate,P=f.MessageChannel,M=0,A={},U="onreadystatechange",ne=function(){var ve=+this;if(A.hasOwnProperty(ve)){var V=A[ve];delete A[ve],V()}},pe=function(ve){ne.call(ve.data)};_&&D||(_=function(ve){for(var V=[],W=1;arguments.length>W;)V.push(arguments[W++]);return A[++M]=function(){u(typeof ve=="function"?ve:Function(ve),V)},o(M),M},D=function(ve){delete A[ve]},i(11)(p)=="process"?o=function(ve){p.nextTick(c(ne,ve,1))}:P?(s=new P,a=s.port2,s.port1.onmessage=pe,o=c(a.postMessage,a,1)):f.addEventListener&&typeof postMessage=="function"&&!f.importScripts?(o=function(ve){f.postMessage(ve+"","*")},f.addEventListener("message",pe,!1)):o=U in d("script")?function(ve){l.appendChild(d("script"))[U]=function(){l.removeChild(this),ne.call(ve)}}:function(ve){setTimeout(c(ne,ve,1),0)}),t.exports={set:_,clear:D}},function(t,n,i){var o=i(20),s=Math.min;t.exports=function(a){return a>0?s(o(a),9007199254740991):0}},function(t,n,i){var o=i(9);t.exports=function(s,a){if(!o(s))return s;var c,u;if(a&&typeof(c=s.toString)=="function"&&!o(u=c.call(s))||typeof(c=s.valueOf)=="function"&&!o(u=c.call(s))||!a&&typeof(c=s.toString)=="function"&&!o(u=c.call(s)))return u;throw TypeError("Can't convert object to primitive value")}},function(t,n){var i=0,o=Math.random();t.exports=function(s){return"Symbol(".concat(s===void 0?"":s,")_",(++i+o).toString(36))}},function(t,n,i){"use strict";function o(U){return U&&U.__esModule?U:{default:U}}function s(){return process.platform!=="win32"?"":process.arch==="ia32"&&process.env.hasOwnProperty("PROCESSOR_ARCHITEW6432")?"mixed":"native"}function a(U){return(0,_.createHash)("sha256").update(U).digest("hex")}function c(U){switch(P){case"darwin":return U.split("IOPlatformUUID")[1].split(`
`)[0].replace(/\=|\s+|\"/gi,"").toLowerCase();case"win32":return U.toString().split("REG_SZ")[1].replace(/\r+|\n+|\s+/gi,"").toLowerCase();case"linux":return U.toString().replace(/\r+|\n+|\s+/gi,"").toLowerCase();case"freebsd":return U.toString().replace(/\r+|\n+|\s+/gi,"").toLowerCase();default:throw new Error("Unsupported platform: "+process.platform)}}function u(U){var ne=c((0,p.execSync)(A[P]).toString());return U?ne:a(ne)}function l(U){return new f.default(function(ne,pe){return(0,p.exec)(A[P],{},function(ve,V,W){if(ve)return pe(new Error("Error while obtaining machine id: "+ve.stack));var ee=c(V.toString());return ne(U?ee:a(ee))})})}Object.defineProperty(n,"__esModule",{value:!0});var d=i(35),f=o(d);n.machineIdSync=u,n.machineId=l;var p=i(70),_=i(71),D=process,P=D.platform,M={native:"%windir%\\System32",mixed:"%windir%\\sysnative\\cmd.exe /c %windir%\\System32"},A={darwin:"ioreg -rd1 -c IOPlatformExpertDevice",win32:M[s()]+"\\REG.exe QUERY HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography /v MachineGuid",linux:"( cat /var/lib/dbus/machine-id /etc/machine-id 2> /dev/null || hostname ) | head -n 1 || :",freebsd:"kenv -q smbios.system.uuid || sysctl -n kern.hostuuid"}},function(t,n,i){t.exports={default:i(36),__esModule:!0}},function(t,n,i){i(66),i(68),i(69),i(67),t.exports=i(6).Promise},function(t,n){t.exports=function(){}},function(t,n){t.exports=function(i,o,s,a){if(!(i instanceof o)||a!==void 0&&a in i)throw TypeError(s+": incorrect invocation!");return i}},function(t,n,i){var o=i(13),s=i(31),a=i(62);t.exports=function(c){return function(u,l,d){var f,p=o(u),_=s(p.length),D=a(d,_);if(c&&l!=l){for(;_>D;)if(f=p[D++],f!=f)return!0}else for(;_>D;D++)if((c||D in p)&&p[D]===l)return c||D||0;return!c&&-1}}},function(t,p,i){var o=i(7),s=i(44),a=i(43),c=i(3),u=i(31),l=i(64),d={},f={},p=t.exports=function(_,D,P,M,A){var U,ne,pe,ve,V=A?function(){return _}:l(_),W=o(P,M,D?2:1),ee=0;if(typeof V!="function")throw TypeError(_+" is not iterable!");if(a(V)){for(U=u(_.length);U>ee;ee++)if(ve=D?W(c(ne=_[ee])[0],ne[1]):W(_[ee]),ve===d||ve===f)return ve}else for(pe=V.call(_);!(ne=pe.next()).done;)if(ve=s(pe,W,ne.value,D),ve===d||ve===f)return ve};p.BREAK=d,p.RETURN=f},function(t,n){t.exports=function(i,o,s){var a=s===void 0;switch(o.length){case 0:return a?i():i.call(s);case 1:return a?i(o[0]):i.call(s,o[0]);case 2:return a?i(o[0],o[1]):i.call(s,o[0],o[1]);case 3:return a?i(o[0],o[1],o[2]):i.call(s,o[0],o[1],o[2]);case 4:return a?i(o[0],o[1],o[2],o[3]):i.call(s,o[0],o[1],o[2],o[3])}return i.apply(s,o)}},function(t,n,i){var o=i(11);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(s){return o(s)=="String"?s.split(""):Object(s)}},function(t,n,i){var o=i(10),s=i(1)("iterator"),a=Array.prototype;t.exports=function(c){return c!==void 0&&(o.Array===c||a[s]===c)}},function(t,n,i){var o=i(3);t.exports=function(s,a,c,u){try{return u?a(o(c)[0],c[1]):a(c)}catch(d){var l=s.return;throw l!==void 0&&o(l.call(s)),d}}},function(t,n,i){"use strict";var o=i(49),s=i(17),a=i(18),c={};i(5)(c,i(1)("iterator"),function(){return this}),t.exports=function(u,l,d){u.prototype=o(c,{next:s(1,d)}),a(u,l+" Iterator")}},function(t,n,i){var o=i(1)("iterator"),s=!1;try{var a=[7][o]();a.return=function(){s=!0},Array.from(a,function(){throw 2})}catch{}t.exports=function(c,u){if(!u&&!s)return!1;var l=!1;try{var d=[7],f=d[o]();f.next=function(){return{done:l=!0}},d[o]=function(){return f},c(d)}catch{}return l}},function(t,n){t.exports=function(i,o){return{value:o,done:!!i}}},function(t,n,i){var o=i(2),s=i(30).set,a=o.MutationObserver||o.WebKitMutationObserver,c=o.process,u=o.Promise,l=i(11)(c)=="process";t.exports=function(){var d,f,p,_=function(){var A,U;for(l&&(A=c.domain)&&A.exit();d;){U=d.fn,d=d.next;try{U()}catch(ne){throw d?p():f=void 0,ne}}f=void 0,A&&A.enter()};if(l)p=function(){c.nextTick(_)};else if(a){var D=!0,P=document.createTextNode("");new a(_).observe(P,{characterData:!0}),p=function(){P.data=D=!D}}else if(u&&u.resolve){var M=u.resolve();p=function(){M.then(_)}}else p=function(){s.call(o,_)};return function(A){var U={fn:A,next:void 0};f&&(f.next=U),d||(d=U,p()),f=U}}},function(t,n,i){var o=i(3),s=i(50),a=i(22),c=i(19)("IE_PROTO"),u=function(){},l="prototype",d=function(){var f,p=i(16)("iframe"),_=a.length,D=">";for(p.style.display="none",i(25).appendChild(p),p.src="javascript:",f=p.contentWindow.document,f.open(),f.write("<script>document.F=Object</script"+D),f.close(),d=f.F;_--;)delete d[l][a[_]];return d()};t.exports=Object.create||function(f,p){var _;return f!==null?(u[l]=o(f),_=new u,u[l]=null,_[c]=f):_=d(),p===void 0?_:s(_,p)}},function(t,n,i){var o=i(12),s=i(3),a=i(54);t.exports=i(4)?Object.defineProperties:function(c,u){s(c);for(var l,d=a(u),f=d.length,p=0;f>p;)o.f(c,l=d[p++],u[l]);return c}},function(t,n,i){var o=i(55),s=i(17),a=i(13),c=i(32),u=i(8),l=i(26),d=Object.getOwnPropertyDescriptor;n.f=i(4)?d:function(f,p){if(f=a(f),p=c(p,!0),l)try{return d(f,p)}catch{}if(u(f,p))return s(!o.f.call(f,p),f[p])}},function(t,n,i){var o=i(8),s=i(63),a=i(19)("IE_PROTO"),c=Object.prototype;t.exports=Object.getPrototypeOf||function(u){return u=s(u),o(u,a)?u[a]:typeof u.constructor=="function"&&u instanceof u.constructor?u.constructor.prototype:u instanceof Object?c:null}},function(t,n,i){var o=i(8),s=i(13),a=i(39)(!1),c=i(19)("IE_PROTO");t.exports=function(u,l){var d,f=s(u),p=0,_=[];for(d in f)d!=c&&o(f,d)&&_.push(d);for(;l.length>p;)o(f,d=l[p++])&&(~a(_,d)||_.push(d));return _}},function(t,n,i){var o=i(53),s=i(22);t.exports=Object.keys||function(a){return o(a,s)}},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,i){var o=i(5);t.exports=function(s,a,c){for(var u in a)c&&s[u]?s[u]=a[u]:o(s,u,a[u]);return s}},function(t,n,i){t.exports=i(5)},function(t,n,i){var o=i(9),s=i(3),a=function(c,u){if(s(c),!o(u)&&u!==null)throw TypeError(u+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(c,u,l){try{l=i(7)(Function.call,i(51).f(Object.prototype,"__proto__").set,2),l(c,[]),u=!(c instanceof Array)}catch{u=!0}return function(d,f){return a(d,f),u?d.__proto__=f:l(d,f),d}}({},!1):void 0),check:a}},function(t,n,i){"use strict";var o=i(2),s=i(6),a=i(12),c=i(4),u=i(1)("species");t.exports=function(l){var d=typeof s[l]=="function"?s[l]:o[l];c&&d&&!d[u]&&a.f(d,u,{configurable:!0,get:function(){return this}})}},function(t,n,i){var o=i(3),s=i(14),a=i(1)("species");t.exports=function(c,u){var l,d=o(c).constructor;return d===void 0||(l=o(d)[a])==null?u:s(l)}},function(t,n,i){var o=i(20),s=i(15);t.exports=function(a){return function(c,u){var l,d,f=String(s(c)),p=o(u),_=f.length;return p<0||p>=_?a?"":void 0:(l=f.charCodeAt(p),l<55296||l>56319||p+1===_||(d=f.charCodeAt(p+1))<56320||d>57343?a?f.charAt(p):l:a?f.slice(p,p+2):(l-55296<<10)+(d-56320)+65536)}}},function(t,n,i){var o=i(20),s=Math.max,a=Math.min;t.exports=function(c,u){return c=o(c),c<0?s(c+u,0):a(c,u)}},function(t,n,i){var o=i(15);t.exports=function(s){return Object(o(s))}},function(t,n,i){var o=i(21),s=i(1)("iterator"),a=i(10);t.exports=i(6).getIteratorMethod=function(c){if(c!=null)return c[s]||c["@@iterator"]||a[o(c)]}},function(t,n,i){"use strict";var o=i(37),s=i(47),a=i(10),c=i(13);t.exports=i(27)(Array,"Array",function(u,l){this._t=c(u),this._i=0,this._k=l},function(){var u=this._t,l=this._k,d=this._i++;return!u||d>=u.length?(this._t=void 0,s(1)):l=="keys"?s(0,d):l=="values"?s(0,u[d]):s(0,[d,u[d]])},"values"),a.Arguments=a.Array,o("keys"),o("values"),o("entries")},function(t,n){},function(t,n,i){"use strict";var o,s,a,c=i(28),u=i(2),l=i(7),d=i(21),f=i(23),p=i(9),_=(i(3),i(14)),D=i(38),P=i(40),M=(i(58).set,i(60)),A=i(30).set,U=i(48)(),ne="Promise",pe=u.TypeError,V=u.process,ve=u[ne],V=u.process,W=d(V)=="process",ee=function(){},De=!!function(){try{var ze=ve.resolve(1),st=(ze.constructor={})[i(1)("species")]=function(at){at(ee,ee)};return(W||typeof PromiseRejectionEvent=="function")&&ze.then(ee)instanceof st}catch{}}(),ae=function(ze,st){return ze===st||ze===ve&&st===a},ue=function(ze){var st;return!(!p(ze)||typeof(st=ze.then)!="function")&&st},Fe=function(ze){return ae(ve,ze)?new Me(ze):new s(ze)},Me=s=function(ze){var st,at;this.promise=new ze(function(tt,fr){if(st!==void 0||at!==void 0)throw pe("Bad Promise constructor");st=tt,at=fr}),this.resolve=_(st),this.reject=_(at)},ce=function(ze){try{ze()}catch(st){return{error:st}}},Ce=function(ze,st){if(!ze._n){ze._n=!0;var at=ze._c;U(function(){for(var tt=ze._v,fr=ze._s==1,Lr=0,zr=function(cr){var xt,hr,Mt=fr?cr.ok:cr.fail,nn=cr.resolve,ln=cr.reject,On=cr.domain;try{Mt?(fr||(ze._h==2&&Ne(ze),ze._h=1),Mt===!0?xt=tt:(On&&On.enter(),xt=Mt(tt),On&&On.exit()),xt===cr.promise?ln(pe("Promise-chain cycle")):(hr=ue(xt))?hr.call(xt,nn,ln):nn(xt)):ln(tt)}catch(Or){ln(Or)}};at.length>Lr;)zr(at[Lr++]);ze._c=[],ze._n=!1,st&&!ze._h&&be(ze)})}},be=function(ze){A.call(u,function(){var st,at,tt,fr=ze._v;if(xe(ze)&&(st=ce(function(){W?V.emit("unhandledRejection",fr,ze):(at=u.onunhandledrejection)?at({promise:ze,reason:fr}):(tt=u.console)&&tt.error&&tt.error("Unhandled promise rejection",fr)}),ze._h=W||xe(ze)?2:1),ze._a=void 0,st)throw st.error})},xe=function(ze){if(ze._h==1)return!1;for(var st,at=ze._a||ze._c,tt=0;at.length>tt;)if(st=at[tt++],st.fail||!xe(st.promise))return!1;return!0},Ne=function(ze){A.call(u,function(){var st;W?V.emit("rejectionHandled",ze):(st=u.onrejectionhandled)&&st({promise:ze,reason:ze._v})})},$e=function(ze){var st=this;st._d||(st._d=!0,st=st._w||st,st._v=ze,st._s=2,st._a||(st._a=st._c.slice()),Ce(st,!0))},Ct=function(ze){var st,at=this;if(!at._d){at._d=!0,at=at._w||at;try{if(at===ze)throw pe("Promise can't be resolved itself");(st=ue(ze))?U(function(){var tt={_w:at,_d:!1};try{st.call(ze,l(Ct,tt,1),l($e,tt,1))}catch(fr){$e.call(tt,fr)}}):(at._v=ze,at._s=1,Ce(at,!1))}catch(tt){$e.call({_w:at,_d:!1},tt)}}};De||(ve=function(ze){D(this,ve,ne,"_h"),_(ze),o.call(this);try{ze(l(Ct,this,1),l($e,this,1))}catch(st){$e.call(this,st)}},o=function(ze){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},o.prototype=i(56)(ve.prototype,{then:function(ze,st){var at=Fe(M(this,ve));return at.ok=typeof ze!="function"||ze,at.fail=typeof st=="function"&&st,at.domain=W?V.domain:void 0,this._c.push(at),this._a&&this._a.push(at),this._s&&Ce(this,!1),at.promise},catch:function(ze){return this.then(void 0,ze)}}),Me=function(){var ze=new o;this.promise=ze,this.resolve=l(Ct,ze,1),this.reject=l($e,ze,1)}),f(f.G+f.W+f.F*!De,{Promise:ve}),i(18)(ve,ne),i(59)(ne),a=i(6)[ne],f(f.S+f.F*!De,ne,{reject:function(ze){var st=Fe(this),at=st.reject;return at(ze),st.promise}}),f(f.S+f.F*(c||!De),ne,{resolve:function(ze){if(ze instanceof ve&&ae(ze.constructor,this))return ze;var st=Fe(this),at=st.resolve;return at(ze),st.promise}}),f(f.S+f.F*!(De&&i(46)(function(ze){ve.all(ze).catch(ee)})),ne,{all:function(ze){var st=this,at=Fe(st),tt=at.resolve,fr=at.reject,Lr=ce(function(){var zr=[],cr=0,xt=1;P(ze,!1,function(hr){var Mt=cr++,nn=!1;zr.push(void 0),xt++,st.resolve(hr).then(function(ln){nn||(nn=!0,zr[Mt]=ln,--xt||tt(zr))},fr)}),--xt||tt(zr)});return Lr&&fr(Lr.error),at.promise},race:function(ze){var st=this,at=Fe(st),tt=at.reject,fr=ce(function(){P(ze,!1,function(Lr){st.resolve(Lr).then(at.resolve,tt)})});return fr&&tt(fr.error),at.promise}})},function(t,n,i){"use strict";var o=i(61)(!0);i(27)(String,"String",function(s){this._t=String(s),this._i=0},function(){var s,a=this._t,c=this._i;return c>=a.length?{value:void 0,done:!0}:(s=o(a,c),this._i+=s.length,{value:s,done:!1})})},function(t,n,i){i(65);for(var o=i(2),s=i(5),a=i(10),c=i(1)("toStringTag"),u=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],l=0;l<5;l++){var d=u[l],f=o[d],p=f&&f.prototype;p&&!p[c]&&s(p,c,d),a[d]=a.Array}},function(t,n){t.exports=require("child_process")},function(t,n){t.exports=require("crypto")}])})});var boe=C(yO=>{"use strict";Object.defineProperty(yO,"__esModule",{value:!0});yO.JS_DEBUG_NAME=yO.SERVER_APP_NAME=void 0;yO.SERVER_APP_NAME=".NET Application Server";yO.JS_DEBUG_NAME="Debug Blazor Web Assembly in Browser"});var Soe=C((Eir,Eqe)=>{"use strict";var _xt=require("util"),Cqe=require("path"),Tqe=require("child_process"),woe=1e3*1e3*10,Dqe=_xt.promisify(Tqe.execFile),bxt=async()=>{let r;switch(process.arch){case"x64":r="fastlist-0.3.0-x64.exe";break;case"ia32":r="fastlist-0.3.0-x86.exe";break;default:throw new Error(`Unsupported architecture: ${process.arch}`)}let e=Cqe.join(__dirname,"vendor",r),{stdout:t}=await Dqe(e,{maxBuffer:woe,windowsHide:!0});return t.trim().split(`\r
`).map(n=>n.split("	")).map(([n,i,o])=>({pid:Number.parseInt(n,10),ppid:Number.parseInt(i,10),name:o}))},wxt=async(r={})=>{let e=(r.all===!1?"":"a")+"wwxo",t={};return await Promise.all(["comm","args","ppid","uid","%cpu","%mem"].map(async n=>{let{stdout:i}=await Dqe("ps",[e,`pid,${n}`],{maxBuffer:woe});for(let o of i.trim().split(`
`).slice(1)){o=o.trim();let[s]=o.split(" ",1),a=o.slice(s.length+1).trim();t[s]===void 0&&(t[s]={}),t[s][n]=a}})),Object.entries(t).filter(([,n])=>n.comm&&n.args&&n.ppid&&n.uid&&n["%cpu"]&&n["%mem"]).map(([n,i])=>({pid:Number.parseInt(n,10),name:Cqe.basename(i.comm),cmd:i.args,ppid:Number.parseInt(i.ppid,10),uid:Number.parseInt(i.uid,10),cpu:Number.parseFloat(i["%cpu"]),memory:Number.parseFloat(i["%mem"])}))},Sqe="ps output parsing failed",Sxt="pid,ppid,uid,%cpu,%mem,comm,args",Cxt=/^[ \t]*(?<pid>\d+)[ \t]+(?<ppid>\d+)[ \t]+(?<uid>\d+)[ \t]+(?<cpu>\d+\.\d+)[ \t]+(?<memory>\d+\.\d+)[ \t]+/,Txt=async(r={})=>{let e=r.all===!1?"wwxo":"awwxo",[t,n]=await new Promise((l,d)=>{let f=Tqe.execFile("ps",[e,Sxt],{maxBuffer:woe},(p,_)=>{p===null?l([f.pid,_]):d(p)})}),i=n.trim().split(`
`);i.shift();let o,s,a,c=i.map((l,d)=>{let f=Cxt.exec(l);if(f===null)throw new Error(Sqe);let{pid:p,ppid:_,uid:D,cpu:P,memory:M}=f.groups,A={pid:Number.parseInt(p,10),ppid:Number.parseInt(_,10),uid:Number.parseInt(D,10),cpu:Number.parseFloat(P),memory:Number.parseFloat(M),name:void 0,cmd:void 0};return A.pid===t&&(o=d,s=l.indexOf("ps",f[0].length),a=l.indexOf("ps",s+2)),A});if(o===void 0||s===-1||a===-1)throw new Error(Sqe);let u=a-s;for(let[l,d]of i.entries())c[l].name=d.slice(s,s+u).trim(),c[l].cmd=d.slice(a).trim();return c.splice(o,1),c},Dxt=async(r={})=>{try{return await Txt(r)}catch{return wxt(r)}};Eqe.exports=process.platform==="win32"?bxt:Dxt});var Oqe=C(Qb=>{"use strict";var Pqe=Qb&&Qb.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(Qb,"__esModule",{value:!0});Qb.onDidTerminateDebugSession=Qb.isValidEvent=void 0;var Ext=Soe(),Rqe=boe(),Rxt=r=>r===Rqe.JS_DEBUG_NAME||r===Rqe.SERVER_APP_NAME;Qb.isValidEvent=Rxt;var xqe=(r,e)=>{if(r)try{e.logVerbose(`[DEBUGGER] Terminating debugging session with PID ${r}...`),process.kill(r)}catch(t){e.logError(`[DEBUGGER] Error terminating debug processes with PID ${r}: `,t)}};function Pxt(r,e,t){return Pqe(this,void 0,void 0,function*(){t&&(typeof t=="number"?xxt(r,e,t):yield Oxt(r,e,t))})}Qb.onDidTerminateDebugSession=Pxt;function xxt(r,e,t){(0,Qb.isValidEvent)(r.name)&&xqe(t,e)}function Oxt(r,e,t){return Pqe(this,void 0,void 0,function*(){if(!(0,Qb.isValidEvent)(r.name))return;let n=[];try{n=yield Ext()}catch(o){e.logError("Error retrieving processes to clean-up: ",o)}let i=n.find(o=>!!(o&&o.cmd&&o.cmd.toLowerCase().match(t)));i&&xqe(i.pid,e)})}});var kqe=C(_O=>{"use strict";var KN=_O&&_O.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(_O,"__esModule",{value:!0});_O.BlazorDebugConfigurationProvider=void 0;var Ixt=require("fs"),kxt=require("path"),Iqe=require("url"),Coe=boe(),Axt=Oqe(),Toe=class{constructor(e,t){this.logger=e,this.vscodeType=t}resolveDebugConfiguration(e,t){var n;return KN(this,void 0,void 0,function*(){t.request==="launch"&&(yield this.launchApp(e,t));let i="{wsProtocol}://{url.hostname}:{url.port}/_framework/debug/ws-proxy?browser={browserInspectUri}",o="https://localhost:5001";try{if(e!==void 0){let s=t.cwd?t.cwd:(0,Iqe.fileURLToPath)(e.uri.toString());s=s.replace("${workspaceFolder}",(0,Iqe.fileURLToPath)(e.uri.toString()));let a=JSON.parse((0,Ixt.readFileSync)((0,kxt.join)(s,"Properties","launchSettings.json"),"utf8"));a?.profiles&&(!((n=a?.profiles[Object.keys(a.profiles)[0]])===null||n===void 0)&&n.inspectUri)&&(i=a.profiles[Object.keys(a.profiles)[0]].inspectUri,o=a.profiles[Object.keys(a.profiles)[0]].applicationUrl.split(";",1)[0])}}catch(s){this.logger.logError("[DEBUGGER] Error while getting information from launchSettings.json: ",s)}yield this.launchBrowser(e,t,i,o)})}launchApp(e,t){return KN(this,void 0,void 0,function*(){let n=t.hosted?t.program:"dotnet",i=t.cwd||"${workspaceFolder}",o=t.hosted?[]:["run"],s=Object.assign({name:Coe.SERVER_APP_NAME,type:"coreclr",request:"launch",prelaunchTask:"build",program:n,args:o,cwd:i,env:Object.assign({ASPNETCORE_ENVIRONMENT:"Development"},t.env),launchBrowser:{enabled:!1}},t.dotNetConfig);try{if(yield this.vscodeType.debug.startDebugging(e,s),process.platform!=="win32"){let a=this.vscodeType.debug.onDidTerminateDebugSession(c=>KN(this,void 0,void 0,function*(){let u="blazor-devserver\\.dll",d=(e&&e.uri&&e.uri.fsPath).toLowerCase().replace(/\//g,"\\/"),f=t.hosted?s.program:`${d}.*${u}|${u}.*${d}`;yield(0,Axt.onDidTerminateDebugSession)(c,this.logger,f),a.dispose()}))}}catch(a){this.logger.logError("[DEBUGGER] Error when launching application: ",a)}})}launchBrowser(e,t,n,i){return KN(this,void 0,void 0,function*(){let o=Object.assign(Object.assign({name:Coe.JS_DEBUG_NAME,type:t.browser==="edge"?"pwa-msedge":"pwa-chrome",request:"launch",timeout:t.timeout||3e4,url:t.url||i,webRoot:t.webRoot||"${workspaceFolder}",inspectUri:n,trace:t.trace||!1,noDebug:t.noDebug||!1},t.browserConfig),{cascadeTerminateToConfigurations:[Coe.SERVER_APP_NAME]});try{yield this.vscodeType.debug.startDebugging(e,o)}catch(s){this.logger.logError("[DEBUGGER] Error when launching browser debugger: ",s),this.vscodeType.window.showErrorMessage("There was an unexpected error while launching your debugging session. Check the console for helpful logs and visit the debugging docs for more info.","View Debug Docs","Ignore").then(c=>KN(this,void 0,void 0,function*(){c==="View Debug Docs"&&(yield this.vscodeType.commands.executeCommand("vcode.open","https://aka.ms/blazorwasmcodedebug"))}))}})}};_O.BlazorDebugConfigurationProvider=Toe});var Aqe=C(bO=>{"use strict";Object.defineProperty(bO,"__esModule",{value:!0});bO.convertPositionFromSerializable=bO.convertPositionToSerializable=void 0;var Lxt=require("vscode");function Mxt(r){return{line:r.line,character:r.character}}bO.convertPositionToSerializable=Mxt;function Nxt(r){return new Lxt.Position(r.line,r.character)}bO.convertPositionFromSerializable=Nxt});var SO=C(wO=>{"use strict";Object.defineProperty(wO,"__esModule",{value:!0});wO.convertRangeFromSerializable=wO.convertRangeToSerializable=void 0;var Fxt=require("vscode"),t3=Aqe();function qxt(r){return{start:(0,t3.convertPositionToSerializable)(r.start),end:(0,t3.convertPositionToSerializable)(r.end)}}wO.convertRangeToSerializable=qxt;function jxt(r){return new Fxt.Range((0,t3.convertPositionFromSerializable)(r.start),(0,t3.convertPositionFromSerializable)(r.end))}wO.convertRangeFromSerializable=jxt});var YN=C(CO=>{"use strict";Object.defineProperty(CO,"__esModule",{value:!0});CO.convertTextEditFromSerializable=CO.convertTextEditToSerializable=void 0;var zxt=require("vscode"),Lqe=SO();function Uxt(r){return{range:(0,Lqe.convertRangeToSerializable)(r.range),newText:r.newText}}CO.convertTextEditToSerializable=Uxt;function Hxt(r){return new zxt.TextEdit((0,Lqe.convertRangeFromSerializable)(r.range),r.newText)}CO.convertTextEditFromSerializable=Hxt});var Nqe=C(r3=>{"use strict";Object.defineProperty(r3,"__esModule",{value:!0});r3.convertWorkspaceEditFromSerializable=void 0;var xE=require("vscode"),Mqe=YN();function Bxt(r){let e=new xE.WorkspaceEdit;if(Array.isArray(r.documentChanges))for(let t of r.documentChanges)if(t.kind==="create")e.createFile(xE.Uri.parse(t.uri),t.options);else if(t.kind==="rename")e.renameFile(xE.Uri.parse(t.oldUri),xE.Uri.parse(t.newUri),t.options);else if(t.kind==="delete")e.deleteFile(xE.Uri.parse(t.uri),t.options);else{let n=t.edits.map(Mqe.convertTextEditFromSerializable);e.set(xE.Uri.parse(t.textDocument.uri),n)}if(r.changes!==void 0)for(let t in r.changes){if(!r.changes.hasOwnProperty(t))continue;let n=r.changes[t].map(Mqe.convertTextEditFromSerializable);e.set(xE.Uri.parse(t),n)}return e}r3.convertWorkspaceEditFromSerializable=Bxt});var qqe=C(TO=>{"use strict";var Wxt=TO&&TO.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(TO,"__esModule",{value:!0});TO.RazorCodeActionRunner=void 0;var Doe=require("vscode"),Fqe=Nqe(),JN=class r{constructor(e,t){this.serverClient=e,this.logger=t}register(){return Doe.commands.registerCommand(r.razorCodeActionRunnerCommand,e=>this.runCodeAction(e),this)}runCodeAction(e){return Wxt(this,void 0,void 0,function*(){let t=yield this.serverClient.sendRequest(r.codeActionResolveEndpoint,{data:e,title:e.action}),n,i;try{n=(0,Fqe.convertWorkspaceEditFromSerializable)({changes:t.edit.changes}),i=(0,Fqe.convertWorkspaceEditFromSerializable)({documentChanges:t.edit.documentChanges})}catch(o){return this.logger.logError(`Unexpected error deserializing code action for ${e.action}`,o),Promise.resolve(!1)}return Doe.workspace.applyEdit(i).then(()=>Doe.workspace.applyEdit(n))})}};TO.RazorCodeActionRunner=JN;JN.codeActionResolveEndpoint="textDocument/codeActionResolve";JN.razorCodeActionRunnerCommand="razor/runCodeAction"});var XS=C(XN=>{"use strict";Object.defineProperty(XN,"__esModule",{value:!0});XN.RazorDocumentChangeKind=void 0;var $xt;(function(r){r[r.added=0]="added",r[r.removed=1]="removed",r[r.opened=2]="opened",r[r.closed=3]="closed",r[r.csharpChanged=4]="csharpChanged",r[r.htmlChanged=5]="htmlChanged"})($xt=XN.RazorDocumentChangeKind||(XN.RazorDocumentChangeKind={}))});var Qv=C(QN=>{"use strict";Object.defineProperty(QN,"__esModule",{value:!0});QN.LanguageKind=void 0;var Vxt;(function(r){r[r.CSharp=1]="CSharp",r[r.Html=2]="Html",r[r.Razor=3]="Razor"})(Vxt=QN.LanguageKind||(QN.LanguageKind={}))});var Ng=C(n3=>{"use strict";Object.defineProperty(n3,"__esModule",{value:!0});n3.getUriPath=void 0;function Gxt(r){let e=r;if(r.authority&&r.scheme==="file"){let t=r.authority.toLowerCase();e=r.with({authority:t})}return e.fsPath||e.path}n3.getUriPath=Gxt});var d_=C(DO=>{"use strict";var Kxt=DO&&DO.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(DO,"__esModule",{value:!0});DO.RazorLanguageFeatureBase=void 0;var Eoe=Qv(),Yxt=Ng(),Roe=class{constructor(e,t,n,i){this.documentSynchronizer=e,this.documentManager=t,this.serviceClient=n,this.logger=i}getProjection(e,t,n){return Kxt(this,void 0,void 0,function*(){let i=yield this.serviceClient.languageQuery(t,e.uri);switch(i.kind){case Eoe.LanguageKind.CSharp:case Eoe.LanguageKind.Html:let o=yield this.documentManager.getDocument(e.uri),s=i.kind===Eoe.LanguageKind.CSharp?o.csharpDocument:o.htmlDocument;if(i.hostDocumentVersion===void 0)this.logger.verboseEnabled&&this.logger.logVerbose(`Could not find a document version associated with the document '${(0,Yxt.getUriPath)(e.uri)}'.`);else if(!(yield this.documentSynchronizer.trySynchronizeProjectedDocument(e,s,i.hostDocumentVersion,n)))return null;return{uri:s.uri,position:i.position,languageKind:i.kind};default:return null}})}};DO.RazorLanguageFeatureBase=Roe});var jqe=C(i3=>{"use strict";Object.defineProperty(i3,"__esModule",{value:!0});i3.RazorCodeLens=void 0;var Jxt=require("vscode"),Poe=class extends Jxt.CodeLens{constructor(e,t,n,i){super(e,i),this.uri=t,this.document=n}};i3.RazorCodeLens=Poe});var Hqe=C(EO=>{"use strict";var o3=EO&&EO.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(EO,"__esModule",{value:!0});EO.RazorCodeLensProvider=void 0;var s3=require("vscode"),Xxt=XS(),Qxt=d_(),zqe=Qv(),Uqe=jqe(),xoe=class extends Qxt.RazorLanguageFeatureBase{constructor(e,t,n,i){super(e,t,n,i);let o=new s3.EventEmitter;this.onDidChangeCodeLenses=o.event,t.onChange(s=>o3(this,void 0,void 0,function*(){if(s.kind!==Xxt.RazorDocumentChangeKind.added)return;s3.workspace.textDocuments.filter(c=>!c.isClosed).map(c=>c.uri).includes(s.document.uri)&&(yield new Promise(c=>setTimeout(c,5e3)),o.fire())}))}provideCodeLenses(e,t){return o3(this,void 0,void 0,function*(){try{let n=yield this.documentManager.getDocument(e.uri);if(!n)return;let i=n.csharpDocument,o=yield s3.commands.executeCommand("vscode.executeCodeLensProvider",i.uri);if(!o)return;let s=new Array;for(let a of o){let c=yield this.serviceClient.mapToDocumentRanges(zqe.LanguageKind.CSharp,[a.range],n.uri);if(c&&c.ranges.length>0){let u=new Uqe.RazorCodeLens(c.ranges[0],n.uri,e,a.command);s.push(u)}}return s}catch(n){return this.logger.logWarning(`provideCodeLens failed with ${n}`),[]}})}resolveCodeLens(e,t){return o3(this,void 0,void 0,function*(){if(e instanceof Uqe.RazorCodeLens)return this.resolveRazorCodeLens(e,t)})}resolveRazorCodeLens(e,t){return o3(this,void 0,void 0,function*(){e.command={title:"",command:"",arguments:[]};try{let n=yield this.documentManager.getDocument(e.uri);if(!n)return e;let i=yield this.getProjection(e.document,e.range.start,t);if(!i||i.languageKind!==zqe.LanguageKind.CSharp)return e;let o=yield s3.commands.executeCommand("vscode.executeReferenceProvider",i.uri,i.position),s=o.length;return e.command={title:s===1?"1 reference":`${s} references`,command:"editor.action.showReferences",arguments:[n.uri,e.range.start,o]},e}catch(n){return this.logger.logWarning(`resolveCodeLens failed with ${n}`),e}})}};EO.RazorCodeLensProvider=xoe});var Zv=C(gu=>{"use strict";Object.defineProperty(gu,"__esModule",{value:!0});gu.asPromise=gu.thenable=gu.typedArray=gu.stringArray=gu.array=gu.func=gu.error=gu.number=gu.string=gu.boolean=void 0;function Zxt(r){return r===!0||r===!1}gu.boolean=Zxt;function Bqe(r){return typeof r=="string"||r instanceof String}gu.string=Bqe;function eOt(r){return typeof r=="number"||r instanceof Number}gu.number=eOt;function tOt(r){return r instanceof Error}gu.error=tOt;function Wqe(r){return typeof r=="function"}gu.func=Wqe;function $qe(r){return Array.isArray(r)}gu.array=$qe;function rOt(r){return $qe(r)&&r.every(e=>Bqe(e))}gu.stringArray=rOt;function nOt(r,e){return Array.isArray(r)&&r.every(e)}gu.typedArray=nOt;function Vqe(r){return r&&Wqe(r.then)}gu.thenable=Vqe;function iOt(r){return r instanceof Promise?r:Vqe(r)?new Promise((e,t)=>{r.then(n=>e(n),n=>t(n))}):Promise.resolve(r)}gu.asPromise=iOt});var QS=C(koe=>{"use strict";Object.defineProperty(koe,"__esModule",{value:!0});var Ooe;function Ioe(){if(Ooe===void 0)throw new Error("No runtime abstraction layer installed");return Ooe}(function(r){function e(t){if(t===void 0)throw new Error("No runtime abstraction layer provided");Ooe=t}r.install=e})(Ioe||(Ioe={}));koe.default=Ioe});var Aoe=C(ZN=>{"use strict";Object.defineProperty(ZN,"__esModule",{value:!0});ZN.Disposable=void 0;var oOt;(function(r){function e(t){return{dispose:t}}r.create=e})(oOt=ZN.Disposable||(ZN.Disposable={}))});var Gqe=C(a3=>{"use strict";Object.defineProperty(a3,"__esModule",{value:!0});a3.AbstractMessageBuffer=void 0;var sOt=13,aOt=10,cOt=`\r
`,Loe=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let t=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(t),this._totalLength+=t.byteLength}tryReadHeaders(){if(this._chunks.length===0)return;let e=0,t=0,n=0,i=0;e:for(;t<this._chunks.length;){let c=this._chunks[t];for(n=0;n<c.length;){switch(c[n]){case sOt:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case aOt:switch(e){case 1:e=2;break;case 3:e=4,n++;break e;default:e=0}break;default:e=0}n++}i+=c.byteLength,t++}if(e!==4)return;let o=this._read(i+n),s=new Map,a=this.toString(o,"ascii").split(cOt);if(a.length<2)return s;for(let c=0;c<a.length-2;c++){let u=a[c],l=u.indexOf(":");if(l===-1)throw new Error("Message header must separate key and value using :");let d=u.substr(0,l),f=u.substr(l+1).trim();s.set(d,f)}return s}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let o=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(o)}if(this._chunks[0].byteLength>e){let o=this._chunks[0],s=this.asNative(o,e);return this._chunks[0]=o.slice(e),this._totalLength-=e,s}let t=this.allocNative(e),n=0,i=0;for(;e>0;){let o=this._chunks[i];if(o.byteLength>e){let s=o.slice(0,e);t.set(s,n),n+=e,this._chunks[i]=o.slice(e),this._totalLength-=e,e-=e}else t.set(o,n),n+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,e-=o.byteLength}return t}};a3.AbstractMessageBuffer=Loe});var Jqe=C(qoe=>{"use strict";Object.defineProperty(qoe,"__esModule",{value:!0});var uOt=QS(),Kqe=require("util"),OE=Aoe(),lOt=Gqe(),c3=class r extends lOt.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return r.emptyBuffer}fromString(e,t){return Buffer.from(e,t)}toString(e,t){return e instanceof Buffer?e.toString(t):new Kqe.TextDecoder(t).decode(e)}asNative(e,t){return t===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,t):Buffer.from(e,0,t)}allocNative(e){return Buffer.allocUnsafe(e)}};c3.emptyBuffer=Buffer.allocUnsafe(0);var Moe=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),OE.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),OE.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),OE.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),OE.Disposable.create(()=>this.stream.off("data",e))}},Noe=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),OE.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),OE.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),OE.Disposable.create(()=>this.stream.off("end",e))}write(e,t){return new Promise((n,i)=>{let o=s=>{s==null?n():i(s)};typeof e=="string"?this.stream.write(e,t,o):this.stream.write(e,o)})}end(){this.stream.end()}},Yqe=Object.freeze({messageBuffer:Object.freeze({create:r=>new c3(r)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(r,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(r,void 0,0),e.charset))}catch(t){return Promise.reject(t)}}}),decoder:Object.freeze({name:"application/json",decode:(r,e)=>{try{return r instanceof Buffer?Promise.resolve(JSON.parse(r.toString(e.charset))):Promise.resolve(JSON.parse(new Kqe.TextDecoder(e.charset).decode(r)))}catch(t){return Promise.reject(t)}}})}),stream:Object.freeze({asReadableStream:r=>new Moe(r),asWritableStream:r=>new Noe(r)}),console,timer:Object.freeze({setTimeout(r,e,...t){let n=setTimeout(r,e,...t);return{dispose:()=>clearTimeout(n)}},setImmediate(r,...e){let t=setImmediate(r,...e);return{dispose:()=>clearImmediate(t)}},setInterval(r,e,...t){let n=setInterval(r,e,...t);return{dispose:()=>clearInterval(n)}}})});function Foe(){return Yqe}(function(r){function e(){uOt.default.install(Yqe)}r.install=e})(Foe||(Foe={}));qoe.default=Foe});var RO=C(_h=>{"use strict";Object.defineProperty(_h,"__esModule",{value:!0});_h.stringArray=_h.array=_h.func=_h.error=_h.number=_h.string=_h.boolean=void 0;function dOt(r){return r===!0||r===!1}_h.boolean=dOt;function Xqe(r){return typeof r=="string"||r instanceof String}_h.string=Xqe;function fOt(r){return typeof r=="number"||r instanceof Number}_h.number=fOt;function hOt(r){return r instanceof Error}_h.error=hOt;function pOt(r){return typeof r=="function"}_h.func=pOt;function Qqe(r){return Array.isArray(r)}_h.array=Qqe;function mOt(r){return Qqe(r)&&r.every(e=>Xqe(e))}_h.stringArray=mOt});var cse=C(Pn=>{"use strict";Object.defineProperty(Pn,"__esModule",{value:!0});Pn.Message=Pn.NotificationType9=Pn.NotificationType8=Pn.NotificationType7=Pn.NotificationType6=Pn.NotificationType5=Pn.NotificationType4=Pn.NotificationType3=Pn.NotificationType2=Pn.NotificationType1=Pn.NotificationType0=Pn.NotificationType=Pn.RequestType9=Pn.RequestType8=Pn.RequestType7=Pn.RequestType6=Pn.RequestType5=Pn.RequestType4=Pn.RequestType3=Pn.RequestType2=Pn.RequestType1=Pn.RequestType=Pn.RequestType0=Pn.AbstractMessageSignature=Pn.ParameterStructures=Pn.ResponseError=Pn.ErrorCodes=void 0;var IE=RO(),Zqe;(function(r){r.ParseError=-32700,r.InvalidRequest=-32600,r.MethodNotFound=-32601,r.InvalidParams=-32602,r.InternalError=-32603,r.jsonrpcReservedErrorRangeStart=-32099,r.serverErrorStart=-32099,r.MessageWriteError=-32099,r.MessageReadError=-32098,r.PendingResponseRejected=-32097,r.ConnectionInactive=-32096,r.ServerNotInitialized=-32002,r.UnknownErrorCode=-32001,r.jsonrpcReservedErrorRangeEnd=-32e3,r.serverErrorEnd=-32e3})(Zqe=Pn.ErrorCodes||(Pn.ErrorCodes={}));var joe=class r extends Error{constructor(e,t,n){super(t),this.code=IE.number(e)?e:Zqe.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,r.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};Pn.ResponseError=joe;var Om=class r{constructor(e){this.kind=e}static is(e){return e===r.auto||e===r.byName||e===r.byPosition}toString(){return this.kind}};Pn.ParameterStructures=Om;Om.auto=new Om("auto");Om.byPosition=new Om("byPosition");Om.byName=new Om("byName");var Qa=class{constructor(e,t){this.method=e,this.numberOfParams=t}get parameterStructures(){return Om.auto}};Pn.AbstractMessageSignature=Qa;var zoe=class extends Qa{constructor(e){super(e,0)}};Pn.RequestType0=zoe;var Uoe=class extends Qa{constructor(e,t=Om.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};Pn.RequestType=Uoe;var Hoe=class extends Qa{constructor(e,t=Om.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};Pn.RequestType1=Hoe;var Boe=class extends Qa{constructor(e){super(e,2)}};Pn.RequestType2=Boe;var Woe=class extends Qa{constructor(e){super(e,3)}};Pn.RequestType3=Woe;var $oe=class extends Qa{constructor(e){super(e,4)}};Pn.RequestType4=$oe;var Voe=class extends Qa{constructor(e){super(e,5)}};Pn.RequestType5=Voe;var Goe=class extends Qa{constructor(e){super(e,6)}};Pn.RequestType6=Goe;var Koe=class extends Qa{constructor(e){super(e,7)}};Pn.RequestType7=Koe;var Yoe=class extends Qa{constructor(e){super(e,8)}};Pn.RequestType8=Yoe;var Joe=class extends Qa{constructor(e){super(e,9)}};Pn.RequestType9=Joe;var Xoe=class extends Qa{constructor(e,t=Om.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};Pn.NotificationType=Xoe;var Qoe=class extends Qa{constructor(e){super(e,0)}};Pn.NotificationType0=Qoe;var Zoe=class extends Qa{constructor(e,t=Om.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};Pn.NotificationType1=Zoe;var ese=class extends Qa{constructor(e){super(e,2)}};Pn.NotificationType2=ese;var tse=class extends Qa{constructor(e){super(e,3)}};Pn.NotificationType3=tse;var rse=class extends Qa{constructor(e){super(e,4)}};Pn.NotificationType4=rse;var nse=class extends Qa{constructor(e){super(e,5)}};Pn.NotificationType5=nse;var ise=class extends Qa{constructor(e){super(e,6)}};Pn.NotificationType6=ise;var ose=class extends Qa{constructor(e){super(e,7)}};Pn.NotificationType7=ose;var sse=class extends Qa{constructor(e){super(e,8)}};Pn.NotificationType8=sse;var ase=class extends Qa{constructor(e){super(e,9)}};Pn.NotificationType9=ase;var gOt;(function(r){function e(i){let o=i;return o&&IE.string(o.method)&&(IE.string(o.id)||IE.number(o.id))}r.isRequest=e;function t(i){let o=i;return o&&IE.string(o.method)&&i.id===void 0}r.isNotification=t;function n(i){let o=i;return o&&(o.result!==void 0||!!o.error)&&(IE.string(o.id)||IE.number(o.id)||o.id===null)}r.isResponse=n})(gOt=Pn.Message||(Pn.Message={}))});var lse=C(ZS=>{"use strict";var e2e;Object.defineProperty(ZS,"__esModule",{value:!0});ZS.LRUCache=ZS.LinkedMap=ZS.Touch=void 0;var bp;(function(r){r.None=0,r.First=1,r.AsOld=r.First,r.Last=2,r.AsNew=r.Last})(bp=ZS.Touch||(ZS.Touch={}));var u3=class{constructor(){this[e2e]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,t=bp.None){let n=this._map.get(e);if(n)return t!==bp.None&&this.touch(n,t),n.value}set(e,t,n=bp.None){let i=this._map.get(e);if(i)i.value=t,n!==bp.None&&this.touch(i,n);else{switch(i={key:e,value:t,next:void 0,previous:void 0},n){case bp.None:this.addItemLast(i);break;case bp.First:this.addItemFirst(i);break;case bp.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let n=this._state,i=this._head;for(;i;){if(t?e.bind(t)(i.value,i.key,this):e(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:t.key,done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}values(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:t.value,done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}entries(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:[t.key,t.value],done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}[(e2e=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==bp.First&&t!==bp.Last)){if(t===bp.First){if(e===this._head)return;let n=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===bp.Last){if(e===this._tail)return;let n=e.next,i=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((t,n)=>{e.push([n,t])}),e}fromJSON(e){this.clear();for(let[t,n]of e)this.set(t,n)}};ZS.LinkedMap=u3;var use=class extends u3{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=bp.AsNew){return super.get(e,t)}peek(e){return super.get(e,bp.None)}set(e,t){return super.set(e,t,bp.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};ZS.LRUCache=use});var PO=C(kE=>{"use strict";Object.defineProperty(kE,"__esModule",{value:!0});kE.Emitter=kE.Event=void 0;var vOt=QS(),yOt;(function(r){let e={dispose(){}};r.None=function(){return e}})(yOt=kE.Event||(kE.Event={}));var dse=class{add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(!this._callbacks)return;let n=!1;for(let i=0,o=this._callbacks.length;i<o;i++)if(this._callbacks[i]===e)if(this._contexts[i]===t){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let t=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,s=n.length;o<s;o++)try{t.push(n[o].apply(i[o],e))}catch(a){(0,vOt.default)().console.error(a)}return t}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},l3=class r{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,n)=>{this._callbacks||(this._callbacks=new dse),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t);let i={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,t),i.dispose=r._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};kE.Emitter=l3;l3._noop=function(){}});var mse=C(AE=>{"use strict";Object.defineProperty(AE,"__esModule",{value:!0});AE.CancellationTokenSource=AE.CancellationToken=void 0;var _Ot=QS(),bOt=RO(),fse=PO(),hse;(function(r){r.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:fse.Event.None}),r.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:fse.Event.None});function e(t){let n=t;return n&&(n===r.None||n===r.Cancelled||bOt.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}r.is=e})(hse=AE.CancellationToken||(AE.CancellationToken={}));var wOt=Object.freeze(function(r,e){let t=(0,_Ot.default)().timer.setTimeout(r.bind(e),0);return{dispose(){t.dispose()}}}),d3=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?wOt:(this._emitter||(this._emitter=new fse.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},pse=class{get token(){return this._token||(this._token=new d3),this._token}cancel(){this._token?this._token.cancel():this._token=hse.Cancelled}dispose(){this._token?this._token instanceof d3&&this._token.dispose():this._token=hse.None}};AE.CancellationTokenSource=pse});var t2e=C(eC=>{"use strict";Object.defineProperty(eC,"__esModule",{value:!0});eC.ReadableStreamMessageReader=eC.AbstractMessageReader=eC.MessageReader=void 0;var vse=QS(),xO=RO(),gse=PO(),SOt;(function(r){function e(t){let n=t;return n&&xO.func(n.listen)&&xO.func(n.dispose)&&xO.func(n.onError)&&xO.func(n.onClose)&&xO.func(n.onPartialMessage)}r.is=e})(SOt=eC.MessageReader||(eC.MessageReader={}));var f3=class{constructor(){this.errorEmitter=new gse.Emitter,this.closeEmitter=new gse.Emitter,this.partialMessageEmitter=new gse.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${xO.string(e.message)?e.message:"unknown"}`)}};eC.AbstractMessageReader=f3;var yse;(function(r){function e(t){let n,i,o,s=new Map,a,c=new Map;if(t===void 0||typeof t=="string")n=t??"utf-8";else{if(n=t.charset??"utf-8",t.contentDecoder!==void 0&&(o=t.contentDecoder,s.set(o.name,o)),t.contentDecoders!==void 0)for(let u of t.contentDecoders)s.set(u.name,u);if(t.contentTypeDecoder!==void 0&&(a=t.contentTypeDecoder,c.set(a.name,a)),t.contentTypeDecoders!==void 0)for(let u of t.contentTypeDecoders)c.set(u.name,u)}return a===void 0&&(a=(0,vse.default)().applicationJson.decoder,c.set(a.name,a)),{charset:n,contentDecoder:o,contentDecoders:s,contentTypeDecoder:a,contentTypeDecoders:c}}r.fromOptions=e})(yse||(yse={}));var _se=class extends f3{constructor(e,t){super(),this.readable=e,this.options=yse.fromOptions(t),this.buffer=(0,vse.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let t=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),t}onData(e){for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let i=this.buffer.tryReadHeaders();if(!i)return;let o=i.get("Content-Length");if(!o)throw new Error("Header must provide a Content-Length property.");let s=parseInt(o);if(isNaN(s))throw new Error("Content-Length value must be a number.");this.nextMessageLength=s}let t=this.buffer.tryReadBody(this.nextMessageLength);if(t===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let n;this.options.contentDecoder!==void 0?n=this.options.contentDecoder.decode(t):n=Promise.resolve(t),n.then(i=>{this.options.contentTypeDecoder.decode(i,this.options).then(o=>{this.callback(o)},o=>{this.fireError(o)})},i=>{this.fireError(i)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,vse.default)().timer.setTimeout((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};eC.ReadableStreamMessageReader=_se});var r2e=C(h3=>{"use strict";Object.defineProperty(h3,"__esModule",{value:!0});h3.Semaphore=void 0;var COt=QS(),bse=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,COt.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let t=e.thunk();t instanceof Promise?t.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}};h3.Semaphore=bse});var s2e=C(tC=>{"use strict";Object.defineProperty(tC,"__esModule",{value:!0});tC.WriteableStreamMessageWriter=tC.AbstractMessageWriter=tC.MessageWriter=void 0;var n2e=QS(),eF=RO(),TOt=r2e(),i2e=PO(),DOt="Content-Length: ",o2e=`\r
`,EOt;(function(r){function e(t){let n=t;return n&&eF.func(n.dispose)&&eF.func(n.onClose)&&eF.func(n.onError)&&eF.func(n.write)}r.is=e})(EOt=tC.MessageWriter||(tC.MessageWriter={}));var p3=class{constructor(){this.errorEmitter=new i2e.Emitter,this.closeEmitter=new i2e.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${eF.string(e.message)?e.message:"unknown"}`)}};tC.AbstractMessageWriter=p3;var wse;(function(r){function e(t){return t===void 0||typeof t=="string"?{charset:t??"utf-8",contentTypeEncoder:(0,n2e.default)().applicationJson.encoder}:{charset:t.charset??"utf-8",contentEncoder:t.contentEncoder,contentTypeEncoder:t.contentTypeEncoder??(0,n2e.default)().applicationJson.encoder}}r.fromOptions=e})(wse||(wse={}));var Sse=class extends p3{constructor(e,t){super(),this.writable=e,this.options=wse.fromOptions(t),this.errorCount=0,this.writeSemaphore=new TOt.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(DOt,n.byteLength.toString(),o2e),i.push(o2e),this.doWrite(e,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(e,t,n){try{return await this.writable.write(t.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){this.writable.end()}};tC.WriteableStreamMessageWriter=Sse});var f2e=C(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});ni.createMessageConnection=ni.ConnectionOptions=ni.CancellationStrategy=ni.CancellationSenderStrategy=ni.CancellationReceiverStrategy=ni.ConnectionStrategy=ni.ConnectionError=ni.ConnectionErrors=ni.LogTraceNotification=ni.SetTraceNotification=ni.TraceFormat=ni.TraceValues=ni.Trace=ni.NullLogger=ni.ProgressType=ni.ProgressToken=void 0;var a2e=QS(),jl=RO(),vi=cse(),c2e=lse(),tF=PO(),Cse=mse(),nF;(function(r){r.type=new vi.NotificationType("$/cancelRequest")})(nF||(nF={}));var u2e;(function(r){function e(t){return typeof t=="string"||typeof t=="number"}r.is=e})(u2e=ni.ProgressToken||(ni.ProgressToken={}));var rF;(function(r){r.type=new vi.NotificationType("$/progress")})(rF||(rF={}));var Tse=class{constructor(){}};ni.ProgressType=Tse;var Dse;(function(r){function e(t){return jl.func(t)}r.is=e})(Dse||(Dse={}));ni.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var Hs;(function(r){r[r.Off=0]="Off",r[r.Messages=1]="Messages",r[r.Compact=2]="Compact",r[r.Verbose=3]="Verbose"})(Hs=ni.Trace||(ni.Trace={}));var ROt;(function(r){r.Off="off",r.Messages="messages",r.Compact="compact",r.Verbose="verbose"})(ROt=ni.TraceValues||(ni.TraceValues={}));(function(r){function e(n){if(!jl.string(n))return r.Off;switch(n=n.toLowerCase(),n){case"off":return r.Off;case"messages":return r.Messages;case"compact":return r.Compact;case"verbose":return r.Verbose;default:return r.Off}}r.fromString=e;function t(n){switch(n){case r.Off:return"off";case r.Messages:return"messages";case r.Compact:return"compact";case r.Verbose:return"verbose";default:return"off"}}r.toString=t})(Hs=ni.Trace||(ni.Trace={}));var f_;(function(r){r.Text="text",r.JSON="json"})(f_=ni.TraceFormat||(ni.TraceFormat={}));(function(r){function e(t){return jl.string(t)?(t=t.toLowerCase(),t==="json"?r.JSON:r.Text):r.Text}r.fromString=e})(f_=ni.TraceFormat||(ni.TraceFormat={}));var l2e;(function(r){r.type=new vi.NotificationType("$/setTrace")})(l2e=ni.SetTraceNotification||(ni.SetTraceNotification={}));var Ese;(function(r){r.type=new vi.NotificationType("$/logTrace")})(Ese=ni.LogTraceNotification||(ni.LogTraceNotification={}));var m3;(function(r){r[r.Closed=1]="Closed",r[r.Disposed=2]="Disposed",r[r.AlreadyListening=3]="AlreadyListening"})(m3=ni.ConnectionErrors||(ni.ConnectionErrors={}));var OO=class r extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,r.prototype)}};ni.ConnectionError=OO;var d2e;(function(r){function e(t){let n=t;return n&&jl.func(n.cancelUndispatched)}r.is=e})(d2e=ni.ConnectionStrategy||(ni.ConnectionStrategy={}));var Rse;(function(r){r.Message=Object.freeze({createCancellationTokenSource(t){return new Cse.CancellationTokenSource}});function e(t){let n=t;return n&&jl.func(n.createCancellationTokenSource)}r.is=e})(Rse=ni.CancellationReceiverStrategy||(ni.CancellationReceiverStrategy={}));var Pse;(function(r){r.Message=Object.freeze({sendCancellation(t,n){return t.sendNotification(nF.type,{id:n})},cleanup(t){}});function e(t){let n=t;return n&&jl.func(n.sendCancellation)&&jl.func(n.cleanup)}r.is=e})(Pse=ni.CancellationSenderStrategy||(ni.CancellationSenderStrategy={}));var xse;(function(r){r.Message=Object.freeze({receiver:Rse.Message,sender:Pse.Message});function e(t){let n=t;return n&&Rse.is(n.receiver)&&Pse.is(n.sender)}r.is=e})(xse=ni.CancellationStrategy||(ni.CancellationStrategy={}));var POt;(function(r){function e(t){let n=t;return n&&(xse.is(n.cancellationStrategy)||d2e.is(n.connectionStrategy))}r.is=e})(POt=ni.ConnectionOptions||(ni.ConnectionOptions={}));var h_;(function(r){r[r.New=1]="New",r[r.Listening=2]="Listening",r[r.Closed=3]="Closed",r[r.Disposed=4]="Disposed"})(h_||(h_={}));function xOt(r,e,t,n){let i=t!==void 0?t:ni.NullLogger,o=0,s=0,a=0,c="2.0",u,l=new Map,d,f=new Map,p=new Map,_,D=new c2e.LinkedMap,P=new Map,M=new Set,A=new Map,U=Hs.Off,ne=f_.Text,pe,ve=h_.New,V=new tF.Emitter,W=new tF.Emitter,ee=new tF.Emitter,De=new tF.Emitter,ae=new tF.Emitter,ue=n&&n.cancellationStrategy?n.cancellationStrategy:xse.Message;function Fe(Oe){if(Oe===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+Oe.toString()}function Me(Oe){return Oe===null?"res-unknown-"+(++a).toString():"res-"+Oe.toString()}function ce(){return"not-"+(++s).toString()}function Ce(Oe,oe){vi.Message.isRequest(oe)?Oe.set(Fe(oe.id),oe):vi.Message.isResponse(oe)?Oe.set(Me(oe.id),oe):Oe.set(ce(),oe)}function be(Oe){}function xe(){return ve===h_.Listening}function Ne(){return ve===h_.Closed}function $e(){return ve===h_.Disposed}function Ct(){(ve===h_.New||ve===h_.Listening)&&(ve=h_.Closed,W.fire(void 0))}function ze(Oe){V.fire([Oe,void 0,void 0])}function st(Oe){V.fire(Oe)}r.onClose(Ct),r.onError(ze),e.onClose(Ct),e.onError(st);function at(){_||D.size===0||(_=(0,a2e.default)().timer.setImmediate(()=>{_=void 0,tt()}))}function tt(){if(D.size===0)return;let Oe=D.shift();try{vi.Message.isRequest(Oe)?Lr(Oe):vi.Message.isNotification(Oe)?cr(Oe):vi.Message.isResponse(Oe)?zr(Oe):xt(Oe)}finally{at()}}let fr=Oe=>{try{if(vi.Message.isNotification(Oe)&&Oe.method===nF.type.method){let oe=Oe.params.id,Q=Fe(oe),we=D.get(Q);if(vi.Message.isRequest(we)){let ft=n?.connectionStrategy,Yt=ft&&ft.cancelUndispatched?ft.cancelUndispatched(we,be):void 0;if(Yt&&(Yt.error!==void 0||Yt.result!==void 0)){D.delete(Q),A.delete(oe),Yt.id=we.id,ln(Yt,Oe.method,Date.now()),e.write(Yt).catch(()=>i.error("Sending response for canceled message failed."));return}}let Je=A.get(oe);if(Je!==void 0){Je.cancel(),Or(Oe);return}else M.add(oe)}Ce(D,Oe)}finally{at()}};function Lr(Oe){if($e())return;function oe(Jt,$t,kt){let K={jsonrpc:c,id:Oe.id};Jt instanceof vi.ResponseError?K.error=Jt.toJson():K.result=Jt===void 0?null:Jt,ln(K,$t,kt),e.write(K).catch(()=>i.error("Sending response failed."))}function Q(Jt,$t,kt){let K={jsonrpc:c,id:Oe.id,error:Jt.toJson()};ln(K,$t,kt),e.write(K).catch(()=>i.error("Sending response failed."))}function we(Jt,$t,kt){Jt===void 0&&(Jt=null);let K={jsonrpc:c,id:Oe.id,result:Jt};ln(K,$t,kt),e.write(K).catch(()=>i.error("Sending response failed."))}On(Oe);let Je=l.get(Oe.method),ft,Yt;Je&&(ft=Je.type,Yt=Je.handler);let rr=Date.now();if(Yt||u){let Jt=Oe.id??String(Date.now()),$t=ue.receiver.createCancellationTokenSource(Jt);Oe.id!==null&&M.has(Oe.id)&&$t.cancel(),Oe.id!==null&&A.set(Jt,$t);try{let kt;if(Yt)if(Oe.params===void 0){if(ft!==void 0&&ft.numberOfParams!==0){Q(new vi.ResponseError(vi.ErrorCodes.InvalidParams,`Request ${Oe.method} defines ${ft.numberOfParams} params but received none.`),Oe.method,rr);return}kt=Yt($t.token)}else if(Array.isArray(Oe.params)){if(ft!==void 0&&ft.parameterStructures===vi.ParameterStructures.byName){Q(new vi.ResponseError(vi.ErrorCodes.InvalidParams,`Request ${Oe.method} defines parameters by name but received parameters by position`),Oe.method,rr);return}kt=Yt(...Oe.params,$t.token)}else{if(ft!==void 0&&ft.parameterStructures===vi.ParameterStructures.byPosition){Q(new vi.ResponseError(vi.ErrorCodes.InvalidParams,`Request ${Oe.method} defines parameters by position but received parameters by name`),Oe.method,rr);return}kt=Yt(Oe.params,$t.token)}else u&&(kt=u(Oe.method,Oe.params,$t.token));let K=kt;kt?K.then?K.then(qe=>{A.delete(Jt),oe(qe,Oe.method,rr)},qe=>{A.delete(Jt),qe instanceof vi.ResponseError?Q(qe,Oe.method,rr):qe&&jl.string(qe.message)?Q(new vi.ResponseError(vi.ErrorCodes.InternalError,`Request ${Oe.method} failed with message: ${qe.message}`),Oe.method,rr):Q(new vi.ResponseError(vi.ErrorCodes.InternalError,`Request ${Oe.method} failed unexpectedly without providing any details.`),Oe.method,rr)}):(A.delete(Jt),oe(kt,Oe.method,rr)):(A.delete(Jt),we(kt,Oe.method,rr))}catch(kt){A.delete(Jt),kt instanceof vi.ResponseError?oe(kt,Oe.method,rr):kt&&jl.string(kt.message)?Q(new vi.ResponseError(vi.ErrorCodes.InternalError,`Request ${Oe.method} failed with message: ${kt.message}`),Oe.method,rr):Q(new vi.ResponseError(vi.ErrorCodes.InternalError,`Request ${Oe.method} failed unexpectedly without providing any details.`),Oe.method,rr)}}else Q(new vi.ResponseError(vi.ErrorCodes.MethodNotFound,`Unhandled method ${Oe.method}`),Oe.method,rr)}function zr(Oe){if(!$e())if(Oe.id===null)Oe.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(Oe.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let oe=Oe.id,Q=P.get(oe);if(Hn(Oe,Q),Q!==void 0){P.delete(oe);try{if(Oe.error){let we=Oe.error;Q.reject(new vi.ResponseError(we.code,we.message,we.data))}else if(Oe.result!==void 0)Q.resolve(Oe.result);else throw new Error("Should never happen.")}catch(we){we.message?i.error(`Response handler '${Q.method}' failed with message: ${we.message}`):i.error(`Response handler '${Q.method}' failed unexpectedly.`)}}}}function cr(Oe){if($e())return;let oe,Q;if(Oe.method===nF.type.method){let we=Oe.params.id;M.delete(we),Or(Oe);return}else{let we=f.get(Oe.method);we&&(Q=we.handler,oe=we.type)}if(Q||d)try{if(Or(Oe),Q)if(Oe.params===void 0)oe!==void 0&&oe.numberOfParams!==0&&oe.parameterStructures!==vi.ParameterStructures.byName&&i.error(`Notification ${Oe.method} defines ${oe.numberOfParams} params but received none.`),Q();else if(Array.isArray(Oe.params)){let we=Oe.params;Oe.method===rF.type.method&&we.length===2&&u2e.is(we[0])?Q({token:we[0],value:we[1]}):(oe!==void 0&&(oe.parameterStructures===vi.ParameterStructures.byName&&i.error(`Notification ${Oe.method} defines parameters by name but received parameters by position`),oe.numberOfParams!==Oe.params.length&&i.error(`Notification ${Oe.method} defines ${oe.numberOfParams} params but received ${we.length} arguments`)),Q(...we))}else oe!==void 0&&oe.parameterStructures===vi.ParameterStructures.byPosition&&i.error(`Notification ${Oe.method} defines parameters by position but received parameters by name`),Q(Oe.params);else d&&d(Oe.method,Oe.params)}catch(we){we.message?i.error(`Notification handler '${Oe.method}' failed with message: ${we.message}`):i.error(`Notification handler '${Oe.method}' failed unexpectedly.`)}else ee.fire(Oe)}function xt(Oe){if(!Oe){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(Oe,null,4)}`);let oe=Oe;if(jl.string(oe.id)||jl.number(oe.id)){let Q=oe.id,we=P.get(Q);we&&we.reject(new Error("The received response has neither a result nor an error property."))}}function hr(Oe){if(Oe!=null)switch(U){case Hs.Verbose:return JSON.stringify(Oe,null,4);case Hs.Compact:return JSON.stringify(Oe);default:return}}function Mt(Oe){if(!(U===Hs.Off||!pe))if(ne===f_.Text){let oe;(U===Hs.Verbose||U===Hs.Compact)&&Oe.params&&(oe=`Params: ${hr(Oe.params)}

`),pe.log(`Sending request '${Oe.method} - (${Oe.id})'.`,oe)}else $r("send-request",Oe)}function nn(Oe){if(!(U===Hs.Off||!pe))if(ne===f_.Text){let oe;(U===Hs.Verbose||U===Hs.Compact)&&(Oe.params?oe=`Params: ${hr(Oe.params)}

`:oe=`No parameters provided.

`),pe.log(`Sending notification '${Oe.method}'.`,oe)}else $r("send-notification",Oe)}function ln(Oe,oe,Q){if(!(U===Hs.Off||!pe))if(ne===f_.Text){let we;(U===Hs.Verbose||U===Hs.Compact)&&(Oe.error&&Oe.error.data?we=`Error data: ${hr(Oe.error.data)}

`:Oe.result?we=`Result: ${hr(Oe.result)}

`:Oe.error===void 0&&(we=`No result returned.

`)),pe.log(`Sending response '${oe} - (${Oe.id})'. Processing request took ${Date.now()-Q}ms`,we)}else $r("send-response",Oe)}function On(Oe){if(!(U===Hs.Off||!pe))if(ne===f_.Text){let oe;(U===Hs.Verbose||U===Hs.Compact)&&Oe.params&&(oe=`Params: ${hr(Oe.params)}

`),pe.log(`Received request '${Oe.method} - (${Oe.id})'.`,oe)}else $r("receive-request",Oe)}function Or(Oe){if(!(U===Hs.Off||!pe||Oe.method===Ese.type.method))if(ne===f_.Text){let oe;(U===Hs.Verbose||U===Hs.Compact)&&(Oe.params?oe=`Params: ${hr(Oe.params)}

`:oe=`No parameters provided.

`),pe.log(`Received notification '${Oe.method}'.`,oe)}else $r("receive-notification",Oe)}function Hn(Oe,oe){if(!(U===Hs.Off||!pe))if(ne===f_.Text){let Q;if((U===Hs.Verbose||U===Hs.Compact)&&(Oe.error&&Oe.error.data?Q=`Error data: ${hr(Oe.error.data)}

`:Oe.result?Q=`Result: ${hr(Oe.result)}

`:Oe.error===void 0&&(Q=`No result returned.

`)),oe){let we=Oe.error?` Request failed: ${Oe.error.message} (${Oe.error.code}).`:"";pe.log(`Received response '${oe.method} - (${Oe.id})' in ${Date.now()-oe.timerStart}ms.${we}`,Q)}else pe.log(`Received response ${Oe.id} without active response promise.`,Q)}else $r("receive-response",Oe)}function $r(Oe,oe){if(!pe||U===Hs.Off)return;let Q={isLSPMessage:!0,type:Oe,message:oe,timestamp:Date.now()};pe.log(Q)}function dn(){if(Ne())throw new OO(m3.Closed,"Connection is closed.");if($e())throw new OO(m3.Disposed,"Connection is disposed.")}function ii(){if(xe())throw new OO(m3.AlreadyListening,"Connection is already listening")}function Vr(){if(!xe())throw new Error("Call listen() first.")}function An(Oe){return Oe===void 0?null:Oe}function xi(Oe){if(Oe!==null)return Oe}function Gr(Oe){return Oe!=null&&!Array.isArray(Oe)&&typeof Oe=="object"}function Qi(Oe,oe){switch(Oe){case vi.ParameterStructures.auto:return Gr(oe)?xi(oe):[An(oe)];case vi.ParameterStructures.byName:if(!Gr(oe))throw new Error("Received parameters by name but param is not an object literal.");return xi(oe);case vi.ParameterStructures.byPosition:return[An(oe)];default:throw new Error(`Unknown parameter structure ${Oe.toString()}`)}}function oi(Oe,oe){let Q,we=Oe.numberOfParams;switch(we){case 0:Q=void 0;break;case 1:Q=Qi(Oe.parameterStructures,oe[0]);break;default:Q=[];for(let Je=0;Je<oe.length&&Je<we;Je++)Q.push(An(oe[Je]));if(oe.length<we)for(let Je=oe.length;Je<we;Je++)Q.push(null);break}return Q}let fn={sendNotification:(Oe,...oe)=>{dn();let Q,we;if(jl.string(Oe)){Q=Oe;let ft=oe[0],Yt=0,rr=vi.ParameterStructures.auto;vi.ParameterStructures.is(ft)&&(Yt=1,rr=ft);let Jt=oe.length,$t=Jt-Yt;switch($t){case 0:we=void 0;break;case 1:we=Qi(rr,oe[Yt]);break;default:if(rr===vi.ParameterStructures.byName)throw new Error(`Received ${$t} parameters for 'by Name' notification parameter structure.`);we=oe.slice(Yt,Jt).map(kt=>An(kt));break}}else{let ft=oe;Q=Oe.method,we=oi(Oe,ft)}let Je={jsonrpc:c,method:Q,params:we};return nn(Je),e.write(Je).catch(()=>i.error("Sending notification failed."))},onNotification:(Oe,oe)=>{dn();let Q;return jl.func(Oe)?d=Oe:oe&&(jl.string(Oe)?(Q=Oe,f.set(Oe,{type:void 0,handler:oe})):(Q=Oe.method,f.set(Oe.method,{type:Oe,handler:oe}))),{dispose:()=>{Q!==void 0?f.delete(Q):d=void 0}}},onProgress:(Oe,oe,Q)=>{if(p.has(oe))throw new Error(`Progress handler for token ${oe} already registered`);return p.set(oe,Q),{dispose:()=>{p.delete(oe)}}},sendProgress:(Oe,oe,Q)=>fn.sendNotification(rF.type,{token:oe,value:Q}),onUnhandledProgress:De.event,sendRequest:(Oe,...oe)=>{dn(),Vr();let Q,we,Je;if(jl.string(Oe)){Q=Oe;let Jt=oe[0],$t=oe[oe.length-1],kt=0,K=vi.ParameterStructures.auto;vi.ParameterStructures.is(Jt)&&(kt=1,K=Jt);let qe=oe.length;Cse.CancellationToken.is($t)&&(qe=qe-1,Je=$t);let Ht=qe-kt;switch(Ht){case 0:we=void 0;break;case 1:we=Qi(K,oe[kt]);break;default:if(K===vi.ParameterStructures.byName)throw new Error(`Received ${Ht} parameters for 'by Name' request parameter structure.`);we=oe.slice(kt,qe).map(Dr=>An(Dr));break}}else{let Jt=oe;Q=Oe.method,we=oi(Oe,Jt);let $t=Oe.numberOfParams;Je=Cse.CancellationToken.is(Jt[$t])?Jt[$t]:void 0}let ft=o++,Yt;return Je&&(Yt=Je.onCancellationRequested(()=>{let Jt=ue.sender.sendCancellation(fn,ft);return Jt===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${ft}`),Promise.resolve()):Jt.catch(()=>{i.log(`Sending cancellation messages for id ${ft} failed`)})})),new Promise((Jt,$t)=>{let kt={jsonrpc:c,id:ft,method:Q,params:we},K=Dr=>{Jt(Dr),ue.sender.cleanup(ft),Yt?.dispose()},qe=Dr=>{$t(Dr),ue.sender.cleanup(ft),Yt?.dispose()},Ht={method:Q,timerStart:Date.now(),resolve:K,reject:qe};Mt(kt);try{e.write(kt).catch(()=>i.error("Sending request failed."))}catch(Dr){Ht.reject(new vi.ResponseError(vi.ErrorCodes.MessageWriteError,Dr.message?Dr.message:"Unknown reason")),Ht=null}Ht&&P.set(ft,Ht)})},onRequest:(Oe,oe)=>{dn();let Q=null;return Dse.is(Oe)?(Q=void 0,u=Oe):jl.string(Oe)?(Q=null,oe!==void 0&&(Q=Oe,l.set(Oe,{handler:oe,type:void 0}))):oe!==void 0&&(Q=Oe.method,l.set(Oe.method,{type:Oe,handler:oe})),{dispose:()=>{Q!==null&&(Q!==void 0?l.delete(Q):u=void 0)}}},hasPendingResponse:()=>P.size>0,trace:async(Oe,oe,Q)=>{let we=!1,Je=f_.Text;Q!==void 0&&(jl.boolean(Q)?we=Q:(we=Q.sendNotification||!1,Je=Q.traceFormat||f_.Text)),U=Oe,ne=Je,U===Hs.Off?pe=void 0:pe=oe,we&&!Ne()&&!$e()&&await fn.sendNotification(l2e.type,{value:Hs.toString(Oe)})},onError:V.event,onClose:W.event,onUnhandledNotification:ee.event,onDispose:ae.event,end:()=>{e.end()},dispose:()=>{if($e())return;ve=h_.Disposed,ae.fire(void 0);let Oe=new vi.ResponseError(vi.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let oe of P.values())oe.reject(Oe);P=new Map,A=new Map,M=new Set,D=new c2e.LinkedMap,jl.func(e.dispose)&&e.dispose(),jl.func(r.dispose)&&r.dispose()},listen:()=>{dn(),ii(),ve=h_.Listening,r.listen(fr)},inspect:()=>{(0,a2e.default)().console.log("inspect")}};return fn.onNotification(Ese.type,Oe=>{if(U===Hs.Off||!pe)return;let oe=U===Hs.Verbose||U===Hs.Compact;pe.log(Oe.message,oe?Oe.verbose:void 0)}),fn.onNotification(rF.type,Oe=>{let oe=p.get(Oe.token);oe?oe(Oe.value):De.fire(Oe)}),fn}ni.createMessageConnection=xOt});var Ase=C(Gt=>{"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});Gt.TraceFormat=Gt.TraceValues=Gt.Trace=Gt.ProgressType=Gt.ProgressToken=Gt.createMessageConnection=Gt.NullLogger=Gt.ConnectionOptions=Gt.ConnectionStrategy=Gt.WriteableStreamMessageWriter=Gt.AbstractMessageWriter=Gt.MessageWriter=Gt.ReadableStreamMessageReader=Gt.AbstractMessageReader=Gt.MessageReader=Gt.CancellationToken=Gt.CancellationTokenSource=Gt.Emitter=Gt.Event=Gt.Disposable=Gt.LRUCache=Gt.Touch=Gt.LinkedMap=Gt.ParameterStructures=Gt.NotificationType9=Gt.NotificationType8=Gt.NotificationType7=Gt.NotificationType6=Gt.NotificationType5=Gt.NotificationType4=Gt.NotificationType3=Gt.NotificationType2=Gt.NotificationType1=Gt.NotificationType0=Gt.NotificationType=Gt.ErrorCodes=Gt.ResponseError=Gt.RequestType9=Gt.RequestType8=Gt.RequestType7=Gt.RequestType6=Gt.RequestType5=Gt.RequestType4=Gt.RequestType3=Gt.RequestType2=Gt.RequestType1=Gt.RequestType0=Gt.RequestType=Gt.Message=Gt.RAL=void 0;Gt.CancellationStrategy=Gt.CancellationSenderStrategy=Gt.CancellationReceiverStrategy=Gt.ConnectionError=Gt.ConnectionErrors=Gt.LogTraceNotification=Gt.SetTraceNotification=void 0;var xa=cse();Object.defineProperty(Gt,"Message",{enumerable:!0,get:function(){return xa.Message}});Object.defineProperty(Gt,"RequestType",{enumerable:!0,get:function(){return xa.RequestType}});Object.defineProperty(Gt,"RequestType0",{enumerable:!0,get:function(){return xa.RequestType0}});Object.defineProperty(Gt,"RequestType1",{enumerable:!0,get:function(){return xa.RequestType1}});Object.defineProperty(Gt,"RequestType2",{enumerable:!0,get:function(){return xa.RequestType2}});Object.defineProperty(Gt,"RequestType3",{enumerable:!0,get:function(){return xa.RequestType3}});Object.defineProperty(Gt,"RequestType4",{enumerable:!0,get:function(){return xa.RequestType4}});Object.defineProperty(Gt,"RequestType5",{enumerable:!0,get:function(){return xa.RequestType5}});Object.defineProperty(Gt,"RequestType6",{enumerable:!0,get:function(){return xa.RequestType6}});Object.defineProperty(Gt,"RequestType7",{enumerable:!0,get:function(){return xa.RequestType7}});Object.defineProperty(Gt,"RequestType8",{enumerable:!0,get:function(){return xa.RequestType8}});Object.defineProperty(Gt,"RequestType9",{enumerable:!0,get:function(){return xa.RequestType9}});Object.defineProperty(Gt,"ResponseError",{enumerable:!0,get:function(){return xa.ResponseError}});Object.defineProperty(Gt,"ErrorCodes",{enumerable:!0,get:function(){return xa.ErrorCodes}});Object.defineProperty(Gt,"NotificationType",{enumerable:!0,get:function(){return xa.NotificationType}});Object.defineProperty(Gt,"NotificationType0",{enumerable:!0,get:function(){return xa.NotificationType0}});Object.defineProperty(Gt,"NotificationType1",{enumerable:!0,get:function(){return xa.NotificationType1}});Object.defineProperty(Gt,"NotificationType2",{enumerable:!0,get:function(){return xa.NotificationType2}});Object.defineProperty(Gt,"NotificationType3",{enumerable:!0,get:function(){return xa.NotificationType3}});Object.defineProperty(Gt,"NotificationType4",{enumerable:!0,get:function(){return xa.NotificationType4}});Object.defineProperty(Gt,"NotificationType5",{enumerable:!0,get:function(){return xa.NotificationType5}});Object.defineProperty(Gt,"NotificationType6",{enumerable:!0,get:function(){return xa.NotificationType6}});Object.defineProperty(Gt,"NotificationType7",{enumerable:!0,get:function(){return xa.NotificationType7}});Object.defineProperty(Gt,"NotificationType8",{enumerable:!0,get:function(){return xa.NotificationType8}});Object.defineProperty(Gt,"NotificationType9",{enumerable:!0,get:function(){return xa.NotificationType9}});Object.defineProperty(Gt,"ParameterStructures",{enumerable:!0,get:function(){return xa.ParameterStructures}});var Ose=lse();Object.defineProperty(Gt,"LinkedMap",{enumerable:!0,get:function(){return Ose.LinkedMap}});Object.defineProperty(Gt,"LRUCache",{enumerable:!0,get:function(){return Ose.LRUCache}});Object.defineProperty(Gt,"Touch",{enumerable:!0,get:function(){return Ose.Touch}});var OOt=Aoe();Object.defineProperty(Gt,"Disposable",{enumerable:!0,get:function(){return OOt.Disposable}});var h2e=PO();Object.defineProperty(Gt,"Event",{enumerable:!0,get:function(){return h2e.Event}});Object.defineProperty(Gt,"Emitter",{enumerable:!0,get:function(){return h2e.Emitter}});var p2e=mse();Object.defineProperty(Gt,"CancellationTokenSource",{enumerable:!0,get:function(){return p2e.CancellationTokenSource}});Object.defineProperty(Gt,"CancellationToken",{enumerable:!0,get:function(){return p2e.CancellationToken}});var Ise=t2e();Object.defineProperty(Gt,"MessageReader",{enumerable:!0,get:function(){return Ise.MessageReader}});Object.defineProperty(Gt,"AbstractMessageReader",{enumerable:!0,get:function(){return Ise.AbstractMessageReader}});Object.defineProperty(Gt,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return Ise.ReadableStreamMessageReader}});var kse=s2e();Object.defineProperty(Gt,"MessageWriter",{enumerable:!0,get:function(){return kse.MessageWriter}});Object.defineProperty(Gt,"AbstractMessageWriter",{enumerable:!0,get:function(){return kse.AbstractMessageWriter}});Object.defineProperty(Gt,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return kse.WriteableStreamMessageWriter}});var bh=f2e();Object.defineProperty(Gt,"ConnectionStrategy",{enumerable:!0,get:function(){return bh.ConnectionStrategy}});Object.defineProperty(Gt,"ConnectionOptions",{enumerable:!0,get:function(){return bh.ConnectionOptions}});Object.defineProperty(Gt,"NullLogger",{enumerable:!0,get:function(){return bh.NullLogger}});Object.defineProperty(Gt,"createMessageConnection",{enumerable:!0,get:function(){return bh.createMessageConnection}});Object.defineProperty(Gt,"ProgressToken",{enumerable:!0,get:function(){return bh.ProgressToken}});Object.defineProperty(Gt,"ProgressType",{enumerable:!0,get:function(){return bh.ProgressType}});Object.defineProperty(Gt,"Trace",{enumerable:!0,get:function(){return bh.Trace}});Object.defineProperty(Gt,"TraceValues",{enumerable:!0,get:function(){return bh.TraceValues}});Object.defineProperty(Gt,"TraceFormat",{enumerable:!0,get:function(){return bh.TraceFormat}});Object.defineProperty(Gt,"SetTraceNotification",{enumerable:!0,get:function(){return bh.SetTraceNotification}});Object.defineProperty(Gt,"LogTraceNotification",{enumerable:!0,get:function(){return bh.LogTraceNotification}});Object.defineProperty(Gt,"ConnectionErrors",{enumerable:!0,get:function(){return bh.ConnectionErrors}});Object.defineProperty(Gt,"ConnectionError",{enumerable:!0,get:function(){return bh.ConnectionError}});Object.defineProperty(Gt,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return bh.CancellationReceiverStrategy}});Object.defineProperty(Gt,"CancellationSenderStrategy",{enumerable:!0,get:function(){return bh.CancellationSenderStrategy}});Object.defineProperty(Gt,"CancellationStrategy",{enumerable:!0,get:function(){return bh.CancellationStrategy}});var IOt=QS();Gt.RAL=IOt.default});var NE=C(Ss=>{"use strict";var kOt=Ss&&Ss.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),AOt=Ss&&Ss.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&kOt(e,r,t)};Object.defineProperty(Ss,"__esModule",{value:!0});Ss.createMessageConnection=Ss.createServerSocketTransport=Ss.createClientSocketTransport=Ss.createServerPipeTransport=Ss.createClientPipeTransport=Ss.generateRandomPipeName=Ss.StreamMessageWriter=Ss.StreamMessageReader=Ss.SocketMessageWriter=Ss.SocketMessageReader=Ss.IPCMessageWriter=Ss.IPCMessageReader=void 0;var IO=Jqe();IO.default.install();var Zb=Ase(),m2e=require("path"),LOt=require("os"),MOt=require("crypto"),y3=require("net");AOt(Ase(),Ss);var Lse=class extends Zb.AbstractMessageReader{constructor(e){super(),this.process=e;let t=this.process;t.on("error",n=>this.fireError(n)),t.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),Zb.Disposable.create(()=>this.process.off("message",e))}};Ss.IPCMessageReader=Lse;var Mse=class extends Zb.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let t=this.process;t.on("error",n=>this.fireError(n)),t.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,t=>{t?(this.errorCount++,this.handleError(t,e)):this.errorCount=0}),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}};Ss.IPCMessageWriter=Mse;var LE=class extends Zb.ReadableStreamMessageReader{constructor(e,t="utf-8"){super((0,IO.default)().stream.asReadableStream(e),t)}};Ss.SocketMessageReader=LE;var ME=class extends Zb.WriteableStreamMessageWriter{constructor(e,t){super((0,IO.default)().stream.asWritableStream(e),t),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};Ss.SocketMessageWriter=ME;var g3=class extends Zb.ReadableStreamMessageReader{constructor(e,t){super((0,IO.default)().stream.asReadableStream(e),t)}};Ss.StreamMessageReader=g3;var v3=class extends Zb.WriteableStreamMessageWriter{constructor(e,t){super((0,IO.default)().stream.asWritableStream(e),t)}};Ss.StreamMessageWriter=v3;var g2e=process.env.XDG_RUNTIME_DIR,NOt=new Map([["linux",107],["darwin",103]]);function FOt(){let r=(0,MOt.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${r}-sock`;let e;g2e?e=m2e.join(g2e,`vscode-ipc-${r}.sock`):e=m2e.join(LOt.tmpdir(),`vscode-${r}.sock`);let t=NOt.get(process.platform);return t!==void 0&&e.length>=t&&(0,IO.default)().console.warn(`WARNING: IPC handle "${e}" is longer than ${t} characters.`),e}Ss.generateRandomPipeName=FOt;function qOt(r,e="utf-8"){let t,n=new Promise((i,o)=>{t=i});return new Promise((i,o)=>{let s=(0,y3.createServer)(a=>{s.close(),t([new LE(a,e),new ME(a,e)])});s.on("error",o),s.listen(r,()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}Ss.createClientPipeTransport=qOt;function jOt(r,e="utf-8"){let t=(0,y3.createConnection)(r);return[new LE(t,e),new ME(t,e)]}Ss.createServerPipeTransport=jOt;function zOt(r,e="utf-8"){let t,n=new Promise((i,o)=>{t=i});return new Promise((i,o)=>{let s=(0,y3.createServer)(a=>{s.close(),t([new LE(a,e),new ME(a,e)])});s.on("error",o),s.listen(r,"127.0.0.1",()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}Ss.createClientSocketTransport=zOt;function UOt(r,e="utf-8"){let t=(0,y3.createConnection)(r,"127.0.0.1");return[new LE(t,e),new ME(t,e)]}Ss.createServerSocketTransport=UOt;function HOt(r){let e=r;return e.read!==void 0&&e.addListener!==void 0}function BOt(r){let e=r;return e.write!==void 0&&e.addListener!==void 0}function WOt(r,e,t,n){t||(t=Zb.NullLogger);let i=HOt(r)?new g3(r):r,o=BOt(e)?new v3(e):e;return Zb.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,Zb.createMessageConnection)(i,o,t,n)}Ss.createMessageConnection=WOt});var Nse=C((ror,v2e)=>{"use strict";v2e.exports=NE()});var b3=C((y2e,_3)=>{(function(r){if(typeof _3=="object"&&typeof _3.exports=="object"){var e=r(require,y2e);e!==void 0&&(_3.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],r)})(function(r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.WorkspaceFolder=e.InlayHint=e.InlayHintLabelPart=e.InlayHintKind=e.InlineValueContext=e.InlineValueEvaluatableExpression=e.InlineValueVariableLookup=e.InlineValueText=e.SemanticTokens=e.SemanticTokenModifiers=e.SemanticTokenTypes=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionTriggerKind=e.CodeActionKind=e.DocumentSymbol=e.WorkspaceSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.CompletionItemLabelDetails=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=e.URI=e.DocumentUri=void 0;var t;(function(re){function Pe(je){return typeof je=="string"}re.is=Pe})(t=e.DocumentUri||(e.DocumentUri={}));var n;(function(re){function Pe(je){return typeof je=="string"}re.is=Pe})(n=e.URI||(e.URI={}));var i;(function(re){re.MIN_VALUE=-2147483648,re.MAX_VALUE=2147483647;function Pe(je){return typeof je=="number"&&re.MIN_VALUE<=je&&je<=re.MAX_VALUE}re.is=Pe})(i=e.integer||(e.integer={}));var o;(function(re){re.MIN_VALUE=0,re.MAX_VALUE=2147483647;function Pe(je){return typeof je=="number"&&re.MIN_VALUE<=je&&je<=re.MAX_VALUE}re.is=Pe})(o=e.uinteger||(e.uinteger={}));var s;(function(re){function Pe(fe,S){return fe===Number.MAX_VALUE&&(fe=o.MAX_VALUE),S===Number.MAX_VALUE&&(S=o.MAX_VALUE),{line:fe,character:S}}re.create=Pe;function je(fe){var S=fe;return He.objectLiteral(S)&&He.uinteger(S.line)&&He.uinteger(S.character)}re.is=je})(s=e.Position||(e.Position={}));var a;(function(re){function Pe(fe,S,de,Ye){if(He.uinteger(fe)&&He.uinteger(S)&&He.uinteger(de)&&He.uinteger(Ye))return{start:s.create(fe,S),end:s.create(de,Ye)};if(s.is(fe)&&s.is(S))return{start:fe,end:S};throw new Error("Range#create called with invalid arguments[".concat(fe,", ").concat(S,", ").concat(de,", ").concat(Ye,"]"))}re.create=Pe;function je(fe){var S=fe;return He.objectLiteral(S)&&s.is(S.start)&&s.is(S.end)}re.is=je})(a=e.Range||(e.Range={}));var c;(function(re){function Pe(fe,S){return{uri:fe,range:S}}re.create=Pe;function je(fe){var S=fe;return He.objectLiteral(S)&&a.is(S.range)&&(He.string(S.uri)||He.undefined(S.uri))}re.is=je})(c=e.Location||(e.Location={}));var u;(function(re){function Pe(fe,S,de,Ye){return{targetUri:fe,targetRange:S,targetSelectionRange:de,originSelectionRange:Ye}}re.create=Pe;function je(fe){var S=fe;return He.objectLiteral(S)&&a.is(S.targetRange)&&He.string(S.targetUri)&&a.is(S.targetSelectionRange)&&(a.is(S.originSelectionRange)||He.undefined(S.originSelectionRange))}re.is=je})(u=e.LocationLink||(e.LocationLink={}));var l;(function(re){function Pe(fe,S,de,Ye){return{red:fe,green:S,blue:de,alpha:Ye}}re.create=Pe;function je(fe){var S=fe;return He.objectLiteral(S)&&He.numberRange(S.red,0,1)&&He.numberRange(S.green,0,1)&&He.numberRange(S.blue,0,1)&&He.numberRange(S.alpha,0,1)}re.is=je})(l=e.Color||(e.Color={}));var d;(function(re){function Pe(fe,S){return{range:fe,color:S}}re.create=Pe;function je(fe){var S=fe;return He.objectLiteral(S)&&a.is(S.range)&&l.is(S.color)}re.is=je})(d=e.ColorInformation||(e.ColorInformation={}));var f;(function(re){function Pe(fe,S,de){return{label:fe,textEdit:S,additionalTextEdits:de}}re.create=Pe;function je(fe){var S=fe;return He.objectLiteral(S)&&He.string(S.label)&&(He.undefined(S.textEdit)||pe.is(S))&&(He.undefined(S.additionalTextEdits)||He.typedArray(S.additionalTextEdits,pe.is))}re.is=je})(f=e.ColorPresentation||(e.ColorPresentation={}));var p;(function(re){re.Comment="comment",re.Imports="imports",re.Region="region"})(p=e.FoldingRangeKind||(e.FoldingRangeKind={}));var _;(function(re){function Pe(fe,S,de,Ye,Tr,Wr){var Xr={startLine:fe,endLine:S};return He.defined(de)&&(Xr.startCharacter=de),He.defined(Ye)&&(Xr.endCharacter=Ye),He.defined(Tr)&&(Xr.kind=Tr),He.defined(Wr)&&(Xr.collapsedText=Wr),Xr}re.create=Pe;function je(fe){var S=fe;return He.objectLiteral(S)&&He.uinteger(S.startLine)&&He.uinteger(S.startLine)&&(He.undefined(S.startCharacter)||He.uinteger(S.startCharacter))&&(He.undefined(S.endCharacter)||He.uinteger(S.endCharacter))&&(He.undefined(S.kind)||He.string(S.kind))}re.is=je})(_=e.FoldingRange||(e.FoldingRange={}));var D;(function(re){function Pe(fe,S){return{location:fe,message:S}}re.create=Pe;function je(fe){var S=fe;return He.defined(S)&&c.is(S.location)&&He.string(S.message)}re.is=je})(D=e.DiagnosticRelatedInformation||(e.DiagnosticRelatedInformation={}));var P;(function(re){re.Error=1,re.Warning=2,re.Information=3,re.Hint=4})(P=e.DiagnosticSeverity||(e.DiagnosticSeverity={}));var M;(function(re){re.Unnecessary=1,re.Deprecated=2})(M=e.DiagnosticTag||(e.DiagnosticTag={}));var A;(function(re){function Pe(je){var fe=je;return He.objectLiteral(fe)&&He.string(fe.href)}re.is=Pe})(A=e.CodeDescription||(e.CodeDescription={}));var U;(function(re){function Pe(fe,S,de,Ye,Tr,Wr){var Xr={range:fe,message:S};return He.defined(de)&&(Xr.severity=de),He.defined(Ye)&&(Xr.code=Ye),He.defined(Tr)&&(Xr.source=Tr),He.defined(Wr)&&(Xr.relatedInformation=Wr),Xr}re.create=Pe;function je(fe){var S,de=fe;return He.defined(de)&&a.is(de.range)&&He.string(de.message)&&(He.number(de.severity)||He.undefined(de.severity))&&(He.integer(de.code)||He.string(de.code)||He.undefined(de.code))&&(He.undefined(de.codeDescription)||He.string((S=de.codeDescription)===null||S===void 0?void 0:S.href))&&(He.string(de.source)||He.undefined(de.source))&&(He.undefined(de.relatedInformation)||He.typedArray(de.relatedInformation,D.is))}re.is=je})(U=e.Diagnostic||(e.Diagnostic={}));var ne;(function(re){function Pe(fe,S){for(var de=[],Ye=2;Ye<arguments.length;Ye++)de[Ye-2]=arguments[Ye];var Tr={title:fe,command:S};return He.defined(de)&&de.length>0&&(Tr.arguments=de),Tr}re.create=Pe;function je(fe){var S=fe;return He.defined(S)&&He.string(S.title)&&He.string(S.command)}re.is=je})(ne=e.Command||(e.Command={}));var pe;(function(re){function Pe(de,Ye){return{range:de,newText:Ye}}re.replace=Pe;function je(de,Ye){return{range:{start:de,end:de},newText:Ye}}re.insert=je;function fe(de){return{range:de,newText:""}}re.del=fe;function S(de){var Ye=de;return He.objectLiteral(Ye)&&He.string(Ye.newText)&&a.is(Ye.range)}re.is=S})(pe=e.TextEdit||(e.TextEdit={}));var ve;(function(re){function Pe(fe,S,de){var Ye={label:fe};return S!==void 0&&(Ye.needsConfirmation=S),de!==void 0&&(Ye.description=de),Ye}re.create=Pe;function je(fe){var S=fe;return He.objectLiteral(S)&&He.string(S.label)&&(He.boolean(S.needsConfirmation)||S.needsConfirmation===void 0)&&(He.string(S.description)||S.description===void 0)}re.is=je})(ve=e.ChangeAnnotation||(e.ChangeAnnotation={}));var V;(function(re){function Pe(je){var fe=je;return He.string(fe)}re.is=Pe})(V=e.ChangeAnnotationIdentifier||(e.ChangeAnnotationIdentifier={}));var W;(function(re){function Pe(de,Ye,Tr){return{range:de,newText:Ye,annotationId:Tr}}re.replace=Pe;function je(de,Ye,Tr){return{range:{start:de,end:de},newText:Ye,annotationId:Tr}}re.insert=je;function fe(de,Ye){return{range:de,newText:"",annotationId:Ye}}re.del=fe;function S(de){var Ye=de;return pe.is(Ye)&&(ve.is(Ye.annotationId)||V.is(Ye.annotationId))}re.is=S})(W=e.AnnotatedTextEdit||(e.AnnotatedTextEdit={}));var ee;(function(re){function Pe(fe,S){return{textDocument:fe,edits:S}}re.create=Pe;function je(fe){var S=fe;return He.defined(S)&&Ne.is(S.textDocument)&&Array.isArray(S.edits)}re.is=je})(ee=e.TextDocumentEdit||(e.TextDocumentEdit={}));var De;(function(re){function Pe(fe,S,de){var Ye={kind:"create",uri:fe};return S!==void 0&&(S.overwrite!==void 0||S.ignoreIfExists!==void 0)&&(Ye.options=S),de!==void 0&&(Ye.annotationId=de),Ye}re.create=Pe;function je(fe){var S=fe;return S&&S.kind==="create"&&He.string(S.uri)&&(S.options===void 0||(S.options.overwrite===void 0||He.boolean(S.options.overwrite))&&(S.options.ignoreIfExists===void 0||He.boolean(S.options.ignoreIfExists)))&&(S.annotationId===void 0||V.is(S.annotationId))}re.is=je})(De=e.CreateFile||(e.CreateFile={}));var ae;(function(re){function Pe(fe,S,de,Ye){var Tr={kind:"rename",oldUri:fe,newUri:S};return de!==void 0&&(de.overwrite!==void 0||de.ignoreIfExists!==void 0)&&(Tr.options=de),Ye!==void 0&&(Tr.annotationId=Ye),Tr}re.create=Pe;function je(fe){var S=fe;return S&&S.kind==="rename"&&He.string(S.oldUri)&&He.string(S.newUri)&&(S.options===void 0||(S.options.overwrite===void 0||He.boolean(S.options.overwrite))&&(S.options.ignoreIfExists===void 0||He.boolean(S.options.ignoreIfExists)))&&(S.annotationId===void 0||V.is(S.annotationId))}re.is=je})(ae=e.RenameFile||(e.RenameFile={}));var ue;(function(re){function Pe(fe,S,de){var Ye={kind:"delete",uri:fe};return S!==void 0&&(S.recursive!==void 0||S.ignoreIfNotExists!==void 0)&&(Ye.options=S),de!==void 0&&(Ye.annotationId=de),Ye}re.create=Pe;function je(fe){var S=fe;return S&&S.kind==="delete"&&He.string(S.uri)&&(S.options===void 0||(S.options.recursive===void 0||He.boolean(S.options.recursive))&&(S.options.ignoreIfNotExists===void 0||He.boolean(S.options.ignoreIfNotExists)))&&(S.annotationId===void 0||V.is(S.annotationId))}re.is=je})(ue=e.DeleteFile||(e.DeleteFile={}));var Fe;(function(re){function Pe(je){var fe=je;return fe&&(fe.changes!==void 0||fe.documentChanges!==void 0)&&(fe.documentChanges===void 0||fe.documentChanges.every(function(S){return He.string(S.kind)?De.is(S)||ae.is(S)||ue.is(S):ee.is(S)}))}re.is=Pe})(Fe=e.WorkspaceEdit||(e.WorkspaceEdit={}));var Me=function(){function re(Pe,je){this.edits=Pe,this.changeAnnotations=je}return re.prototype.insert=function(Pe,je,fe){var S,de;if(fe===void 0?S=pe.insert(Pe,je):V.is(fe)?(de=fe,S=W.insert(Pe,je,fe)):(this.assertChangeAnnotations(this.changeAnnotations),de=this.changeAnnotations.manage(fe),S=W.insert(Pe,je,de)),this.edits.push(S),de!==void 0)return de},re.prototype.replace=function(Pe,je,fe){var S,de;if(fe===void 0?S=pe.replace(Pe,je):V.is(fe)?(de=fe,S=W.replace(Pe,je,fe)):(this.assertChangeAnnotations(this.changeAnnotations),de=this.changeAnnotations.manage(fe),S=W.replace(Pe,je,de)),this.edits.push(S),de!==void 0)return de},re.prototype.delete=function(Pe,je){var fe,S;if(je===void 0?fe=pe.del(Pe):V.is(je)?(S=je,fe=W.del(Pe,je)):(this.assertChangeAnnotations(this.changeAnnotations),S=this.changeAnnotations.manage(je),fe=W.del(Pe,S)),this.edits.push(fe),S!==void 0)return S},re.prototype.add=function(Pe){this.edits.push(Pe)},re.prototype.all=function(){return this.edits},re.prototype.clear=function(){this.edits.splice(0,this.edits.length)},re.prototype.assertChangeAnnotations=function(Pe){if(Pe===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},re}(),ce=function(){function re(Pe){this._annotations=Pe===void 0?Object.create(null):Pe,this._counter=0,this._size=0}return re.prototype.all=function(){return this._annotations},Object.defineProperty(re.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),re.prototype.manage=function(Pe,je){var fe;if(V.is(Pe)?fe=Pe:(fe=this.nextId(),je=Pe),this._annotations[fe]!==void 0)throw new Error("Id ".concat(fe," is already in use."));if(je===void 0)throw new Error("No annotation provided for id ".concat(fe));return this._annotations[fe]=je,this._size++,fe},re.prototype.nextId=function(){return this._counter++,this._counter.toString()},re}(),Ce=function(){function re(Pe){var je=this;this._textEditChanges=Object.create(null),Pe!==void 0?(this._workspaceEdit=Pe,Pe.documentChanges?(this._changeAnnotations=new ce(Pe.changeAnnotations),Pe.changeAnnotations=this._changeAnnotations.all(),Pe.documentChanges.forEach(function(fe){if(ee.is(fe)){var S=new Me(fe.edits,je._changeAnnotations);je._textEditChanges[fe.textDocument.uri]=S}})):Pe.changes&&Object.keys(Pe.changes).forEach(function(fe){var S=new Me(Pe.changes[fe]);je._textEditChanges[fe]=S})):this._workspaceEdit={}}return Object.defineProperty(re.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),re.prototype.getTextEditChange=function(Pe){if(Ne.is(Pe)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var je={uri:Pe.uri,version:Pe.version},fe=this._textEditChanges[je.uri];if(!fe){var S=[],de={textDocument:je,edits:S};this._workspaceEdit.documentChanges.push(de),fe=new Me(S,this._changeAnnotations),this._textEditChanges[je.uri]=fe}return fe}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var fe=this._textEditChanges[Pe];if(!fe){var S=[];this._workspaceEdit.changes[Pe]=S,fe=new Me(S),this._textEditChanges[Pe]=fe}return fe}},re.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new ce,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},re.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},re.prototype.createFile=function(Pe,je,fe){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var S;ve.is(je)||V.is(je)?S=je:fe=je;var de,Ye;if(S===void 0?de=De.create(Pe,fe):(Ye=V.is(S)?S:this._changeAnnotations.manage(S),de=De.create(Pe,fe,Ye)),this._workspaceEdit.documentChanges.push(de),Ye!==void 0)return Ye},re.prototype.renameFile=function(Pe,je,fe,S){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var de;ve.is(fe)||V.is(fe)?de=fe:S=fe;var Ye,Tr;if(de===void 0?Ye=ae.create(Pe,je,S):(Tr=V.is(de)?de:this._changeAnnotations.manage(de),Ye=ae.create(Pe,je,S,Tr)),this._workspaceEdit.documentChanges.push(Ye),Tr!==void 0)return Tr},re.prototype.deleteFile=function(Pe,je,fe){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var S;ve.is(je)||V.is(je)?S=je:fe=je;var de,Ye;if(S===void 0?de=ue.create(Pe,fe):(Ye=V.is(S)?S:this._changeAnnotations.manage(S),de=ue.create(Pe,fe,Ye)),this._workspaceEdit.documentChanges.push(de),Ye!==void 0)return Ye},re}();e.WorkspaceChange=Ce;var be;(function(re){function Pe(fe){return{uri:fe}}re.create=Pe;function je(fe){var S=fe;return He.defined(S)&&He.string(S.uri)}re.is=je})(be=e.TextDocumentIdentifier||(e.TextDocumentIdentifier={}));var xe;(function(re){function Pe(fe,S){return{uri:fe,version:S}}re.create=Pe;function je(fe){var S=fe;return He.defined(S)&&He.string(S.uri)&&He.integer(S.version)}re.is=je})(xe=e.VersionedTextDocumentIdentifier||(e.VersionedTextDocumentIdentifier={}));var Ne;(function(re){function Pe(fe,S){return{uri:fe,version:S}}re.create=Pe;function je(fe){var S=fe;return He.defined(S)&&He.string(S.uri)&&(S.version===null||He.integer(S.version))}re.is=je})(Ne=e.OptionalVersionedTextDocumentIdentifier||(e.OptionalVersionedTextDocumentIdentifier={}));var $e;(function(re){function Pe(fe,S,de,Ye){return{uri:fe,languageId:S,version:de,text:Ye}}re.create=Pe;function je(fe){var S=fe;return He.defined(S)&&He.string(S.uri)&&He.string(S.languageId)&&He.integer(S.version)&&He.string(S.text)}re.is=je})($e=e.TextDocumentItem||(e.TextDocumentItem={}));var Ct;(function(re){re.PlainText="plaintext",re.Markdown="markdown";function Pe(je){var fe=je;return fe===re.PlainText||fe===re.Markdown}re.is=Pe})(Ct=e.MarkupKind||(e.MarkupKind={}));var ze;(function(re){function Pe(je){var fe=je;return He.objectLiteral(je)&&Ct.is(fe.kind)&&He.string(fe.value)}re.is=Pe})(ze=e.MarkupContent||(e.MarkupContent={}));var st;(function(re){re.Text=1,re.Method=2,re.Function=3,re.Constructor=4,re.Field=5,re.Variable=6,re.Class=7,re.Interface=8,re.Module=9,re.Property=10,re.Unit=11,re.Value=12,re.Enum=13,re.Keyword=14,re.Snippet=15,re.Color=16,re.File=17,re.Reference=18,re.Folder=19,re.EnumMember=20,re.Constant=21,re.Struct=22,re.Event=23,re.Operator=24,re.TypeParameter=25})(st=e.CompletionItemKind||(e.CompletionItemKind={}));var at;(function(re){re.PlainText=1,re.Snippet=2})(at=e.InsertTextFormat||(e.InsertTextFormat={}));var tt;(function(re){re.Deprecated=1})(tt=e.CompletionItemTag||(e.CompletionItemTag={}));var fr;(function(re){function Pe(fe,S,de){return{newText:fe,insert:S,replace:de}}re.create=Pe;function je(fe){var S=fe;return S&&He.string(S.newText)&&a.is(S.insert)&&a.is(S.replace)}re.is=je})(fr=e.InsertReplaceEdit||(e.InsertReplaceEdit={}));var Lr;(function(re){re.asIs=1,re.adjustIndentation=2})(Lr=e.InsertTextMode||(e.InsertTextMode={}));var zr;(function(re){function Pe(je){var fe=je;return fe&&(He.string(fe.detail)||fe.detail===void 0)&&(He.string(fe.description)||fe.description===void 0)}re.is=Pe})(zr=e.CompletionItemLabelDetails||(e.CompletionItemLabelDetails={}));var cr;(function(re){function Pe(je){return{label:je}}re.create=Pe})(cr=e.CompletionItem||(e.CompletionItem={}));var xt;(function(re){function Pe(je,fe){return{items:je||[],isIncomplete:!!fe}}re.create=Pe})(xt=e.CompletionList||(e.CompletionList={}));var hr;(function(re){function Pe(fe){return fe.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}re.fromPlainText=Pe;function je(fe){var S=fe;return He.string(S)||He.objectLiteral(S)&&He.string(S.language)&&He.string(S.value)}re.is=je})(hr=e.MarkedString||(e.MarkedString={}));var Mt;(function(re){function Pe(je){var fe=je;return!!fe&&He.objectLiteral(fe)&&(ze.is(fe.contents)||hr.is(fe.contents)||He.typedArray(fe.contents,hr.is))&&(je.range===void 0||a.is(je.range))}re.is=Pe})(Mt=e.Hover||(e.Hover={}));var nn;(function(re){function Pe(je,fe){return fe?{label:je,documentation:fe}:{label:je}}re.create=Pe})(nn=e.ParameterInformation||(e.ParameterInformation={}));var ln;(function(re){function Pe(je,fe){for(var S=[],de=2;de<arguments.length;de++)S[de-2]=arguments[de];var Ye={label:je};return He.defined(fe)&&(Ye.documentation=fe),He.defined(S)?Ye.parameters=S:Ye.parameters=[],Ye}re.create=Pe})(ln=e.SignatureInformation||(e.SignatureInformation={}));var On;(function(re){re.Text=1,re.Read=2,re.Write=3})(On=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var Or;(function(re){function Pe(je,fe){var S={range:je};return He.number(fe)&&(S.kind=fe),S}re.create=Pe})(Or=e.DocumentHighlight||(e.DocumentHighlight={}));var Hn;(function(re){re.File=1,re.Module=2,re.Namespace=3,re.Package=4,re.Class=5,re.Method=6,re.Property=7,re.Field=8,re.Constructor=9,re.Enum=10,re.Interface=11,re.Function=12,re.Variable=13,re.Constant=14,re.String=15,re.Number=16,re.Boolean=17,re.Array=18,re.Object=19,re.Key=20,re.Null=21,re.EnumMember=22,re.Struct=23,re.Event=24,re.Operator=25,re.TypeParameter=26})(Hn=e.SymbolKind||(e.SymbolKind={}));var $r;(function(re){re.Deprecated=1})($r=e.SymbolTag||(e.SymbolTag={}));var dn;(function(re){function Pe(je,fe,S,de,Ye){var Tr={name:je,kind:fe,location:{uri:de,range:S}};return Ye&&(Tr.containerName=Ye),Tr}re.create=Pe})(dn=e.SymbolInformation||(e.SymbolInformation={}));var ii;(function(re){function Pe(je,fe,S,de){return de!==void 0?{name:je,kind:fe,location:{uri:S,range:de}}:{name:je,kind:fe,location:{uri:S}}}re.create=Pe})(ii=e.WorkspaceSymbol||(e.WorkspaceSymbol={}));var Vr;(function(re){function Pe(fe,S,de,Ye,Tr,Wr){var Xr={name:fe,detail:S,kind:de,range:Ye,selectionRange:Tr};return Wr!==void 0&&(Xr.children=Wr),Xr}re.create=Pe;function je(fe){var S=fe;return S&&He.string(S.name)&&He.number(S.kind)&&a.is(S.range)&&a.is(S.selectionRange)&&(S.detail===void 0||He.string(S.detail))&&(S.deprecated===void 0||He.boolean(S.deprecated))&&(S.children===void 0||Array.isArray(S.children))&&(S.tags===void 0||Array.isArray(S.tags))}re.is=je})(Vr=e.DocumentSymbol||(e.DocumentSymbol={}));var An;(function(re){re.Empty="",re.QuickFix="quickfix",re.Refactor="refactor",re.RefactorExtract="refactor.extract",re.RefactorInline="refactor.inline",re.RefactorRewrite="refactor.rewrite",re.Source="source",re.SourceOrganizeImports="source.organizeImports",re.SourceFixAll="source.fixAll"})(An=e.CodeActionKind||(e.CodeActionKind={}));var xi;(function(re){re.Invoked=1,re.Automatic=2})(xi=e.CodeActionTriggerKind||(e.CodeActionTriggerKind={}));var Gr;(function(re){function Pe(fe,S,de){var Ye={diagnostics:fe};return S!=null&&(Ye.only=S),de!=null&&(Ye.triggerKind=de),Ye}re.create=Pe;function je(fe){var S=fe;return He.defined(S)&&He.typedArray(S.diagnostics,U.is)&&(S.only===void 0||He.typedArray(S.only,He.string))&&(S.triggerKind===void 0||S.triggerKind===xi.Invoked||S.triggerKind===xi.Automatic)}re.is=je})(Gr=e.CodeActionContext||(e.CodeActionContext={}));var Qi;(function(re){function Pe(fe,S,de){var Ye={title:fe},Tr=!0;return typeof S=="string"?(Tr=!1,Ye.kind=S):ne.is(S)?Ye.command=S:Ye.edit=S,Tr&&de!==void 0&&(Ye.kind=de),Ye}re.create=Pe;function je(fe){var S=fe;return S&&He.string(S.title)&&(S.diagnostics===void 0||He.typedArray(S.diagnostics,U.is))&&(S.kind===void 0||He.string(S.kind))&&(S.edit!==void 0||S.command!==void 0)&&(S.command===void 0||ne.is(S.command))&&(S.isPreferred===void 0||He.boolean(S.isPreferred))&&(S.edit===void 0||Fe.is(S.edit))}re.is=je})(Qi=e.CodeAction||(e.CodeAction={}));var oi;(function(re){function Pe(fe,S){var de={range:fe};return He.defined(S)&&(de.data=S),de}re.create=Pe;function je(fe){var S=fe;return He.defined(S)&&a.is(S.range)&&(He.undefined(S.command)||ne.is(S.command))}re.is=je})(oi=e.CodeLens||(e.CodeLens={}));var fn;(function(re){function Pe(fe,S){return{tabSize:fe,insertSpaces:S}}re.create=Pe;function je(fe){var S=fe;return He.defined(S)&&He.uinteger(S.tabSize)&&He.boolean(S.insertSpaces)}re.is=je})(fn=e.FormattingOptions||(e.FormattingOptions={}));var Oe;(function(re){function Pe(fe,S,de){return{range:fe,target:S,data:de}}re.create=Pe;function je(fe){var S=fe;return He.defined(S)&&a.is(S.range)&&(He.undefined(S.target)||He.string(S.target))}re.is=je})(Oe=e.DocumentLink||(e.DocumentLink={}));var oe;(function(re){function Pe(fe,S){return{range:fe,parent:S}}re.create=Pe;function je(fe){var S=fe;return He.objectLiteral(S)&&a.is(S.range)&&(S.parent===void 0||re.is(S.parent))}re.is=je})(oe=e.SelectionRange||(e.SelectionRange={}));var Q;(function(re){re.namespace="namespace",re.type="type",re.class="class",re.enum="enum",re.interface="interface",re.struct="struct",re.typeParameter="typeParameter",re.parameter="parameter",re.variable="variable",re.property="property",re.enumMember="enumMember",re.event="event",re.function="function",re.method="method",re.macro="macro",re.keyword="keyword",re.modifier="modifier",re.comment="comment",re.string="string",re.number="number",re.regexp="regexp",re.operator="operator",re.decorator="decorator"})(Q=e.SemanticTokenTypes||(e.SemanticTokenTypes={}));var we;(function(re){re.declaration="declaration",re.definition="definition",re.readonly="readonly",re.static="static",re.deprecated="deprecated",re.abstract="abstract",re.async="async",re.modification="modification",re.documentation="documentation",re.defaultLibrary="defaultLibrary"})(we=e.SemanticTokenModifiers||(e.SemanticTokenModifiers={}));var Je;(function(re){function Pe(je){var fe=je;return He.objectLiteral(fe)&&(fe.resultId===void 0||typeof fe.resultId=="string")&&Array.isArray(fe.data)&&(fe.data.length===0||typeof fe.data[0]=="number")}re.is=Pe})(Je=e.SemanticTokens||(e.SemanticTokens={}));var ft;(function(re){function Pe(fe,S){return{range:fe,text:S}}re.create=Pe;function je(fe){var S=fe;return S!=null&&a.is(S.range)&&He.string(S.text)}re.is=je})(ft=e.InlineValueText||(e.InlineValueText={}));var Yt;(function(re){function Pe(fe,S,de){return{range:fe,variableName:S,caseSensitiveLookup:de}}re.create=Pe;function je(fe){var S=fe;return S!=null&&a.is(S.range)&&He.boolean(S.caseSensitiveLookup)&&(He.string(S.variableName)||S.variableName===void 0)}re.is=je})(Yt=e.InlineValueVariableLookup||(e.InlineValueVariableLookup={}));var rr;(function(re){function Pe(fe,S){return{range:fe,expression:S}}re.create=Pe;function je(fe){var S=fe;return S!=null&&a.is(S.range)&&(He.string(S.expression)||S.expression===void 0)}re.is=je})(rr=e.InlineValueEvaluatableExpression||(e.InlineValueEvaluatableExpression={}));var Jt;(function(re){function Pe(fe,S){return{frameId:fe,stoppedLocation:S}}re.create=Pe;function je(fe){var S=fe;return He.defined(S)&&a.is(fe.stoppedLocation)}re.is=je})(Jt=e.InlineValueContext||(e.InlineValueContext={}));var $t;(function(re){re.Type=1,re.Parameter=2;function Pe(je){return je===1||je===2}re.is=Pe})($t=e.InlayHintKind||(e.InlayHintKind={}));var kt;(function(re){function Pe(fe){return{value:fe}}re.create=Pe;function je(fe){var S=fe;return He.objectLiteral(S)&&(S.tooltip===void 0||He.string(S.tooltip)||ze.is(S.tooltip))&&(S.location===void 0||c.is(S.location))&&(S.command===void 0||ne.is(S.command))}re.is=je})(kt=e.InlayHintLabelPart||(e.InlayHintLabelPart={}));var K;(function(re){function Pe(fe,S,de){var Ye={position:fe,label:S};return de!==void 0&&(Ye.kind=de),Ye}re.create=Pe;function je(fe){var S=fe;return He.objectLiteral(S)&&s.is(S.position)&&(He.string(S.label)||He.typedArray(S.label,kt.is))&&(S.kind===void 0||$t.is(S.kind))&&S.textEdits===void 0||He.typedArray(S.textEdits,pe.is)&&(S.tooltip===void 0||He.string(S.tooltip)||ze.is(S.tooltip))&&(S.paddingLeft===void 0||He.boolean(S.paddingLeft))&&(S.paddingRight===void 0||He.boolean(S.paddingRight))}re.is=je})(K=e.InlayHint||(e.InlayHint={}));var qe;(function(re){function Pe(je){var fe=je;return He.objectLiteral(fe)&&n.is(fe.uri)&&He.string(fe.name)}re.is=Pe})(qe=e.WorkspaceFolder||(e.WorkspaceFolder={})),e.EOL=[`
`,`\r
`,"\r"];var Ht;(function(re){function Pe(de,Ye,Tr,Wr){return new Dr(de,Ye,Tr,Wr)}re.create=Pe;function je(de){var Ye=de;return!!(He.defined(Ye)&&He.string(Ye.uri)&&(He.undefined(Ye.languageId)||He.string(Ye.languageId))&&He.uinteger(Ye.lineCount)&&He.func(Ye.getText)&&He.func(Ye.positionAt)&&He.func(Ye.offsetAt))}re.is=je;function fe(de,Ye){for(var Tr=de.getText(),Wr=S(Ye,function(rs,Vs){var oa=rs.range.start.line-Vs.range.start.line;return oa===0?rs.range.start.character-Vs.range.start.character:oa}),Xr=Tr.length,qn=Wr.length-1;qn>=0;qn--){var Oi=Wr[qn],Ms=de.offsetAt(Oi.range.start),Sn=de.offsetAt(Oi.range.end);if(Sn<=Xr)Tr=Tr.substring(0,Ms)+Oi.newText+Tr.substring(Sn,Tr.length);else throw new Error("Overlapping edit");Xr=Ms}return Tr}re.applyEdits=fe;function S(de,Ye){if(de.length<=1)return de;var Tr=de.length/2|0,Wr=de.slice(0,Tr),Xr=de.slice(Tr);S(Wr,Ye),S(Xr,Ye);for(var qn=0,Oi=0,Ms=0;qn<Wr.length&&Oi<Xr.length;){var Sn=Ye(Wr[qn],Xr[Oi]);Sn<=0?de[Ms++]=Wr[qn++]:de[Ms++]=Xr[Oi++]}for(;qn<Wr.length;)de[Ms++]=Wr[qn++];for(;Oi<Xr.length;)de[Ms++]=Xr[Oi++];return de}})(Ht=e.TextDocument||(e.TextDocument={}));var Dr=function(){function re(Pe,je,fe,S){this._uri=Pe,this._languageId=je,this._version=fe,this._content=S,this._lineOffsets=void 0}return Object.defineProperty(re.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(re.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(re.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),re.prototype.getText=function(Pe){if(Pe){var je=this.offsetAt(Pe.start),fe=this.offsetAt(Pe.end);return this._content.substring(je,fe)}return this._content},re.prototype.update=function(Pe,je){this._content=Pe.text,this._version=je,this._lineOffsets=void 0},re.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var Pe=[],je=this._content,fe=!0,S=0;S<je.length;S++){fe&&(Pe.push(S),fe=!1);var de=je.charAt(S);fe=de==="\r"||de===`
`,de==="\r"&&S+1<je.length&&je.charAt(S+1)===`
`&&S++}fe&&je.length>0&&Pe.push(je.length),this._lineOffsets=Pe}return this._lineOffsets},re.prototype.positionAt=function(Pe){Pe=Math.max(Math.min(Pe,this._content.length),0);var je=this.getLineOffsets(),fe=0,S=je.length;if(S===0)return s.create(0,Pe);for(;fe<S;){var de=Math.floor((fe+S)/2);je[de]>Pe?S=de:fe=de+1}var Ye=fe-1;return s.create(Ye,Pe-je[Ye])},re.prototype.offsetAt=function(Pe){var je=this.getLineOffsets();if(Pe.line>=je.length)return this._content.length;if(Pe.line<0)return 0;var fe=je[Pe.line],S=Pe.line+1<je.length?je[Pe.line+1]:this._content.length;return Math.max(Math.min(fe+Pe.character,S),fe)},Object.defineProperty(re.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),re}(),He;(function(re){var Pe=Object.prototype.toString;function je(Sn){return typeof Sn<"u"}re.defined=je;function fe(Sn){return typeof Sn>"u"}re.undefined=fe;function S(Sn){return Sn===!0||Sn===!1}re.boolean=S;function de(Sn){return Pe.call(Sn)==="[object String]"}re.string=de;function Ye(Sn){return Pe.call(Sn)==="[object Number]"}re.number=Ye;function Tr(Sn,rs,Vs){return Pe.call(Sn)==="[object Number]"&&rs<=Sn&&Sn<=Vs}re.numberRange=Tr;function Wr(Sn){return Pe.call(Sn)==="[object Number]"&&-2147483648<=Sn&&Sn<=2147483647}re.integer=Wr;function Xr(Sn){return Pe.call(Sn)==="[object Number]"&&0<=Sn&&Sn<=2147483647}re.uinteger=Xr;function qn(Sn){return Pe.call(Sn)==="[object Function]"}re.func=qn;function Oi(Sn){return Sn!==null&&typeof Sn=="object"}re.objectLiteral=Oi;function Ms(Sn,rs){return Array.isArray(Sn)&&Sn.every(rs)}re.typedArray=Ms})(He||(He={}))})});var Qc=C(wp=>{"use strict";Object.defineProperty(wp,"__esModule",{value:!0});wp.ProtocolNotificationType=wp.ProtocolNotificationType0=wp.ProtocolRequestType=wp.ProtocolRequestType0=wp.RegistrationType=wp.MessageDirection=void 0;var kO=NE(),$Ot;(function(r){r.clientToServer="clientToServer",r.serverToClient="serverToClient",r.both="both"})($Ot=wp.MessageDirection||(wp.MessageDirection={}));var Fse=class{constructor(e){this.method=e}};wp.RegistrationType=Fse;var qse=class extends kO.RequestType0{constructor(e){super(e)}};wp.ProtocolRequestType0=qse;var jse=class extends kO.RequestType{constructor(e){super(e,kO.ParameterStructures.byName)}};wp.ProtocolRequestType=jse;var zse=class extends kO.NotificationType0{constructor(e){super(e)}};wp.ProtocolNotificationType0=zse;var Use=class extends kO.NotificationType{constructor(e){super(e,kO.ParameterStructures.byName)}};wp.ProtocolNotificationType=Use});var w3=C(fl=>{"use strict";Object.defineProperty(fl,"__esModule",{value:!0});fl.objectLiteral=fl.typedArray=fl.stringArray=fl.array=fl.func=fl.error=fl.number=fl.string=fl.boolean=void 0;function VOt(r){return r===!0||r===!1}fl.boolean=VOt;function _2e(r){return typeof r=="string"||r instanceof String}fl.string=_2e;function GOt(r){return typeof r=="number"||r instanceof Number}fl.number=GOt;function KOt(r){return r instanceof Error}fl.error=KOt;function YOt(r){return typeof r=="function"}fl.func=YOt;function b2e(r){return Array.isArray(r)}fl.array=b2e;function JOt(r){return b2e(r)&&r.every(e=>_2e(e))}fl.stringArray=JOt;function XOt(r,e){return Array.isArray(r)&&r.every(e)}fl.typedArray=XOt;function QOt(r){return r!==null&&typeof r=="object"}fl.objectLiteral=QOt});var S2e=C(iF=>{"use strict";Object.defineProperty(iF,"__esModule",{value:!0});iF.ImplementationRequest=void 0;var w2e=Qc(),ZOt;(function(r){r.method="textDocument/implementation",r.messageDirection=w2e.MessageDirection.clientToServer,r.type=new w2e.ProtocolRequestType(r.method)})(ZOt=iF.ImplementationRequest||(iF.ImplementationRequest={}))});var T2e=C(oF=>{"use strict";Object.defineProperty(oF,"__esModule",{value:!0});oF.TypeDefinitionRequest=void 0;var C2e=Qc(),eIt;(function(r){r.method="textDocument/typeDefinition",r.messageDirection=C2e.MessageDirection.clientToServer,r.type=new C2e.ProtocolRequestType(r.method)})(eIt=oF.TypeDefinitionRequest||(oF.TypeDefinitionRequest={}))});var D2e=C(CD=>{"use strict";Object.defineProperty(CD,"__esModule",{value:!0});CD.DidChangeWorkspaceFoldersNotification=CD.WorkspaceFoldersRequest=void 0;var S3=Qc(),tIt;(function(r){r.method="workspace/workspaceFolders",r.messageDirection=S3.MessageDirection.serverToClient,r.type=new S3.ProtocolRequestType0(r.method)})(tIt=CD.WorkspaceFoldersRequest||(CD.WorkspaceFoldersRequest={}));var rIt;(function(r){r.method="workspace/didChangeWorkspaceFolders",r.messageDirection=S3.MessageDirection.clientToServer,r.type=new S3.ProtocolNotificationType(r.method)})(rIt=CD.DidChangeWorkspaceFoldersNotification||(CD.DidChangeWorkspaceFoldersNotification={}))});var R2e=C(sF=>{"use strict";Object.defineProperty(sF,"__esModule",{value:!0});sF.ConfigurationRequest=void 0;var E2e=Qc(),nIt;(function(r){r.method="workspace/configuration",r.messageDirection=E2e.MessageDirection.serverToClient,r.type=new E2e.ProtocolRequestType(r.method)})(nIt=sF.ConfigurationRequest||(sF.ConfigurationRequest={}))});var P2e=C(TD=>{"use strict";Object.defineProperty(TD,"__esModule",{value:!0});TD.ColorPresentationRequest=TD.DocumentColorRequest=void 0;var C3=Qc(),iIt;(function(r){r.method="textDocument/documentColor",r.messageDirection=C3.MessageDirection.clientToServer,r.type=new C3.ProtocolRequestType(r.method)})(iIt=TD.DocumentColorRequest||(TD.DocumentColorRequest={}));var oIt;(function(r){r.method="textDocument/colorPresentation",r.messageDirection=C3.MessageDirection.clientToServer,r.type=new C3.ProtocolRequestType(r.method)})(oIt=TD.ColorPresentationRequest||(TD.ColorPresentationRequest={}))});var O2e=C(aF=>{"use strict";Object.defineProperty(aF,"__esModule",{value:!0});aF.FoldingRangeRequest=void 0;var x2e=Qc(),sIt;(function(r){r.method="textDocument/foldingRange",r.messageDirection=x2e.MessageDirection.clientToServer,r.type=new x2e.ProtocolRequestType(r.method)})(sIt=aF.FoldingRangeRequest||(aF.FoldingRangeRequest={}))});var k2e=C(cF=>{"use strict";Object.defineProperty(cF,"__esModule",{value:!0});cF.DeclarationRequest=void 0;var I2e=Qc(),aIt;(function(r){r.method="textDocument/declaration",r.messageDirection=I2e.MessageDirection.clientToServer,r.type=new I2e.ProtocolRequestType(r.method)})(aIt=cF.DeclarationRequest||(cF.DeclarationRequest={}))});var L2e=C(uF=>{"use strict";Object.defineProperty(uF,"__esModule",{value:!0});uF.SelectionRangeRequest=void 0;var A2e=Qc(),cIt;(function(r){r.method="textDocument/selectionRange",r.messageDirection=A2e.MessageDirection.clientToServer,r.type=new A2e.ProtocolRequestType(r.method)})(cIt=uF.SelectionRangeRequest||(uF.SelectionRangeRequest={}))});var M2e=C(p_=>{"use strict";Object.defineProperty(p_,"__esModule",{value:!0});p_.WorkDoneProgressCancelNotification=p_.WorkDoneProgressCreateRequest=p_.WorkDoneProgress=void 0;var uIt=NE(),T3=Qc(),lIt;(function(r){r.type=new uIt.ProgressType;function e(t){return t===r.type}r.is=e})(lIt=p_.WorkDoneProgress||(p_.WorkDoneProgress={}));var dIt;(function(r){r.method="window/workDoneProgress/create",r.messageDirection=T3.MessageDirection.serverToClient,r.type=new T3.ProtocolRequestType(r.method)})(dIt=p_.WorkDoneProgressCreateRequest||(p_.WorkDoneProgressCreateRequest={}));var fIt;(function(r){r.method="window/workDoneProgress/cancel",r.messageDirection=T3.MessageDirection.clientToServer,r.type=new T3.ProtocolNotificationType(r.method)})(fIt=p_.WorkDoneProgressCancelNotification||(p_.WorkDoneProgressCancelNotification={}))});var N2e=C(m_=>{"use strict";Object.defineProperty(m_,"__esModule",{value:!0});m_.CallHierarchyOutgoingCallsRequest=m_.CallHierarchyIncomingCallsRequest=m_.CallHierarchyPrepareRequest=void 0;var AO=Qc(),hIt;(function(r){r.method="textDocument/prepareCallHierarchy",r.messageDirection=AO.MessageDirection.clientToServer,r.type=new AO.ProtocolRequestType(r.method)})(hIt=m_.CallHierarchyPrepareRequest||(m_.CallHierarchyPrepareRequest={}));var pIt;(function(r){r.method="callHierarchy/incomingCalls",r.messageDirection=AO.MessageDirection.clientToServer,r.type=new AO.ProtocolRequestType(r.method)})(pIt=m_.CallHierarchyIncomingCallsRequest||(m_.CallHierarchyIncomingCallsRequest={}));var mIt;(function(r){r.method="callHierarchy/outgoingCalls",r.messageDirection=AO.MessageDirection.clientToServer,r.type=new AO.ProtocolRequestType(r.method)})(mIt=m_.CallHierarchyOutgoingCallsRequest||(m_.CallHierarchyOutgoingCallsRequest={}))});var F2e=C(hl=>{"use strict";Object.defineProperty(hl,"__esModule",{value:!0});hl.SemanticTokensRefreshRequest=hl.SemanticTokensRangeRequest=hl.SemanticTokensDeltaRequest=hl.SemanticTokensRequest=hl.SemanticTokensRegistrationType=hl.TokenFormat=void 0;var rC=Qc(),gIt;(function(r){r.Relative="relative"})(gIt=hl.TokenFormat||(hl.TokenFormat={}));var D3;(function(r){r.method="textDocument/semanticTokens",r.type=new rC.RegistrationType(r.method)})(D3=hl.SemanticTokensRegistrationType||(hl.SemanticTokensRegistrationType={}));var vIt;(function(r){r.method="textDocument/semanticTokens/full",r.messageDirection=rC.MessageDirection.clientToServer,r.type=new rC.ProtocolRequestType(r.method),r.registrationMethod=D3.method})(vIt=hl.SemanticTokensRequest||(hl.SemanticTokensRequest={}));var yIt;(function(r){r.method="textDocument/semanticTokens/full/delta",r.messageDirection=rC.MessageDirection.clientToServer,r.type=new rC.ProtocolRequestType(r.method),r.registrationMethod=D3.method})(yIt=hl.SemanticTokensDeltaRequest||(hl.SemanticTokensDeltaRequest={}));var _It;(function(r){r.method="textDocument/semanticTokens/range",r.messageDirection=rC.MessageDirection.clientToServer,r.type=new rC.ProtocolRequestType(r.method),r.registrationMethod=D3.method})(_It=hl.SemanticTokensRangeRequest||(hl.SemanticTokensRangeRequest={}));var bIt;(function(r){r.method="workspace/semanticTokens/refresh",r.messageDirection=rC.MessageDirection.clientToServer,r.type=new rC.ProtocolRequestType0(r.method)})(bIt=hl.SemanticTokensRefreshRequest||(hl.SemanticTokensRefreshRequest={}))});var j2e=C(lF=>{"use strict";Object.defineProperty(lF,"__esModule",{value:!0});lF.ShowDocumentRequest=void 0;var q2e=Qc(),wIt;(function(r){r.method="window/showDocument",r.messageDirection=q2e.MessageDirection.serverToClient,r.type=new q2e.ProtocolRequestType(r.method)})(wIt=lF.ShowDocumentRequest||(lF.ShowDocumentRequest={}))});var U2e=C(dF=>{"use strict";Object.defineProperty(dF,"__esModule",{value:!0});dF.LinkedEditingRangeRequest=void 0;var z2e=Qc(),SIt;(function(r){r.method="textDocument/linkedEditingRange",r.messageDirection=z2e.MessageDirection.clientToServer,r.type=new z2e.ProtocolRequestType(r.method)})(SIt=dF.LinkedEditingRangeRequest||(dF.LinkedEditingRangeRequest={}))});var H2e=C(Zc=>{"use strict";Object.defineProperty(Zc,"__esModule",{value:!0});Zc.WillDeleteFilesRequest=Zc.DidDeleteFilesNotification=Zc.DidRenameFilesNotification=Zc.WillRenameFilesRequest=Zc.DidCreateFilesNotification=Zc.WillCreateFilesRequest=Zc.FileOperationPatternKind=void 0;var ey=Qc(),CIt;(function(r){r.file="file",r.folder="folder"})(CIt=Zc.FileOperationPatternKind||(Zc.FileOperationPatternKind={}));var TIt;(function(r){r.method="workspace/willCreateFiles",r.messageDirection=ey.MessageDirection.clientToServer,r.type=new ey.ProtocolRequestType(r.method)})(TIt=Zc.WillCreateFilesRequest||(Zc.WillCreateFilesRequest={}));var DIt;(function(r){r.method="workspace/didCreateFiles",r.messageDirection=ey.MessageDirection.clientToServer,r.type=new ey.ProtocolNotificationType(r.method)})(DIt=Zc.DidCreateFilesNotification||(Zc.DidCreateFilesNotification={}));var EIt;(function(r){r.method="workspace/willRenameFiles",r.messageDirection=ey.MessageDirection.clientToServer,r.type=new ey.ProtocolRequestType(r.method)})(EIt=Zc.WillRenameFilesRequest||(Zc.WillRenameFilesRequest={}));var RIt;(function(r){r.method="workspace/didRenameFiles",r.messageDirection=ey.MessageDirection.clientToServer,r.type=new ey.ProtocolNotificationType(r.method)})(RIt=Zc.DidRenameFilesNotification||(Zc.DidRenameFilesNotification={}));var PIt;(function(r){r.method="workspace/didDeleteFiles",r.messageDirection=ey.MessageDirection.clientToServer,r.type=new ey.ProtocolNotificationType(r.method)})(PIt=Zc.DidDeleteFilesNotification||(Zc.DidDeleteFilesNotification={}));var xIt;(function(r){r.method="workspace/willDeleteFiles",r.messageDirection=ey.MessageDirection.clientToServer,r.type=new ey.ProtocolRequestType(r.method)})(xIt=Zc.WillDeleteFilesRequest||(Zc.WillDeleteFilesRequest={}))});var W2e=C(g_=>{"use strict";Object.defineProperty(g_,"__esModule",{value:!0});g_.MonikerRequest=g_.MonikerKind=g_.UniquenessLevel=void 0;var B2e=Qc(),OIt;(function(r){r.document="document",r.project="project",r.group="group",r.scheme="scheme",r.global="global"})(OIt=g_.UniquenessLevel||(g_.UniquenessLevel={}));var IIt;(function(r){r.$import="import",r.$export="export",r.local="local"})(IIt=g_.MonikerKind||(g_.MonikerKind={}));var kIt;(function(r){r.method="textDocument/moniker",r.messageDirection=B2e.MessageDirection.clientToServer,r.type=new B2e.ProtocolRequestType(r.method)})(kIt=g_.MonikerRequest||(g_.MonikerRequest={}))});var $2e=C(v_=>{"use strict";Object.defineProperty(v_,"__esModule",{value:!0});v_.TypeHierarchySubtypesRequest=v_.TypeHierarchySupertypesRequest=v_.TypeHierarchyPrepareRequest=void 0;var LO=Qc(),AIt;(function(r){r.method="textDocument/prepareTypeHierarchy",r.messageDirection=LO.MessageDirection.clientToServer,r.type=new LO.ProtocolRequestType(r.method)})(AIt=v_.TypeHierarchyPrepareRequest||(v_.TypeHierarchyPrepareRequest={}));var LIt;(function(r){r.method="typeHierarchy/supertypes",r.messageDirection=LO.MessageDirection.clientToServer,r.type=new LO.ProtocolRequestType(r.method)})(LIt=v_.TypeHierarchySupertypesRequest||(v_.TypeHierarchySupertypesRequest={}));var MIt;(function(r){r.method="typeHierarchy/subtypes",r.messageDirection=LO.MessageDirection.clientToServer,r.type=new LO.ProtocolRequestType(r.method)})(MIt=v_.TypeHierarchySubtypesRequest||(v_.TypeHierarchySubtypesRequest={}))});var V2e=C(DD=>{"use strict";Object.defineProperty(DD,"__esModule",{value:!0});DD.InlineValueRefreshRequest=DD.InlineValueRequest=void 0;var E3=Qc(),NIt;(function(r){r.method="textDocument/inlineValue",r.messageDirection=E3.MessageDirection.clientToServer,r.type=new E3.ProtocolRequestType(r.method)})(NIt=DD.InlineValueRequest||(DD.InlineValueRequest={}));var FIt;(function(r){r.method="workspace/inlineValue/refresh",r.messageDirection=E3.MessageDirection.clientToServer,r.type=new E3.ProtocolRequestType0(r.method)})(FIt=DD.InlineValueRefreshRequest||(DD.InlineValueRefreshRequest={}))});var G2e=C(y_=>{"use strict";Object.defineProperty(y_,"__esModule",{value:!0});y_.InlayHintRefreshRequest=y_.InlayHintResolveRequest=y_.InlayHintRequest=void 0;var MO=Qc(),qIt;(function(r){r.method="textDocument/inlayHint",r.messageDirection=MO.MessageDirection.clientToServer,r.type=new MO.ProtocolRequestType(r.method)})(qIt=y_.InlayHintRequest||(y_.InlayHintRequest={}));var jIt;(function(r){r.method="inlayHint/resolve",r.messageDirection=MO.MessageDirection.clientToServer,r.type=new MO.ProtocolRequestType(r.method)})(jIt=y_.InlayHintResolveRequest||(y_.InlayHintResolveRequest={}));var zIt;(function(r){r.method="workspace/inlayHint/refresh",r.messageDirection=MO.MessageDirection.clientToServer,r.type=new MO.ProtocolRequestType0(r.method)})(zIt=y_.InlayHintRefreshRequest||(y_.InlayHintRefreshRequest={}))});var Y2e=C(gf=>{"use strict";Object.defineProperty(gf,"__esModule",{value:!0});gf.DiagnosticRefreshRequest=gf.WorkspaceDiagnosticRequest=gf.DocumentDiagnosticRequest=gf.DocumentDiagnosticReportKind=gf.DiagnosticServerCancellationData=void 0;var K2e=NE(),UIt=w3(),NO=Qc(),HIt;(function(r){function e(t){let n=t;return n&&UIt.boolean(n.retriggerRequest)}r.is=e})(HIt=gf.DiagnosticServerCancellationData||(gf.DiagnosticServerCancellationData={}));var BIt;(function(r){r.Full="full",r.Unchanged="unchanged"})(BIt=gf.DocumentDiagnosticReportKind||(gf.DocumentDiagnosticReportKind={}));var WIt;(function(r){r.method="textDocument/diagnostic",r.messageDirection=NO.MessageDirection.clientToServer,r.type=new NO.ProtocolRequestType(r.method),r.partialResult=new K2e.ProgressType})(WIt=gf.DocumentDiagnosticRequest||(gf.DocumentDiagnosticRequest={}));var $It;(function(r){r.method="workspace/diagnostic",r.messageDirection=NO.MessageDirection.clientToServer,r.type=new NO.ProtocolRequestType(r.method),r.partialResult=new K2e.ProgressType})($It=gf.WorkspaceDiagnosticRequest||(gf.WorkspaceDiagnosticRequest={}));var VIt;(function(r){r.method="workspace/diagnostic/refresh",r.messageDirection=NO.MessageDirection.clientToServer,r.type=new NO.ProtocolRequestType0(r.method)})(VIt=gf.DiagnosticRefreshRequest||(gf.DiagnosticRefreshRequest={}))});var Q2e=C(ps=>{"use strict";Object.defineProperty(ps,"__esModule",{value:!0});ps.DidCloseNotebookDocumentNotification=ps.DidSaveNotebookDocumentNotification=ps.DidChangeNotebookDocumentNotification=ps.NotebookCellArrayChange=ps.DidOpenNotebookDocumentNotification=ps.NotebookDocumentSyncRegistrationType=ps.NotebookDocument=ps.NotebookCell=ps.ExecutionSummary=ps.NotebookCellKind=void 0;var fF=b3(),__=w3(),ew=Qc(),J2e;(function(r){r.Markup=1,r.Code=2;function e(t){return t===1||t===2}r.is=e})(J2e=ps.NotebookCellKind||(ps.NotebookCellKind={}));var X2e;(function(r){function e(i,o){let s={executionOrder:i};return(o===!0||o===!1)&&(s.success=o),s}r.create=e;function t(i){let o=i;return __.objectLiteral(o)&&fF.uinteger.is(o.executionOrder)&&(o.success===void 0||__.boolean(o.success))}r.is=t;function n(i,o){return i===o?!0:i==null||o===null||o===void 0?!1:i.executionOrder===o.executionOrder&&i.success===o.success}r.equals=n})(X2e=ps.ExecutionSummary||(ps.ExecutionSummary={}));var Hse;(function(r){function e(o,s){return{kind:o,document:s}}r.create=e;function t(o){let s=o;return __.objectLiteral(s)&&J2e.is(s.kind)&&fF.DocumentUri.is(s.document)&&(s.metadata===void 0||__.objectLiteral(s.metadata))}r.is=t;function n(o,s){let a=new Set;return o.document!==s.document&&a.add("document"),o.kind!==s.kind&&a.add("kind"),o.executionSummary!==s.executionSummary&&a.add("executionSummary"),(o.metadata!==void 0||s.metadata!==void 0)&&!i(o.metadata,s.metadata)&&a.add("metadata"),(o.executionSummary!==void 0||s.executionSummary!==void 0)&&!X2e.equals(o.executionSummary,s.executionSummary)&&a.add("executionSummary"),a}r.diff=n;function i(o,s){if(o===s)return!0;if(o==null||s===null||s===void 0||typeof o!=typeof s||typeof o!="object")return!1;let a=Array.isArray(o),c=Array.isArray(s);if(a!==c)return!1;if(a&&c){if(o.length!==s.length)return!1;for(let u=0;u<o.length;u++)if(!i(o[u],s[u]))return!1}if(__.objectLiteral(o)&&__.objectLiteral(s)){let u=Object.keys(o),l=Object.keys(s);if(u.length!==l.length||(u.sort(),l.sort(),!i(u,l)))return!1;for(let d=0;d<u.length;d++){let f=u[d];if(!i(o[f],s[f]))return!1}}return!0}})(Hse=ps.NotebookCell||(ps.NotebookCell={}));var GIt;(function(r){function e(n,i,o,s){return{uri:n,notebookType:i,version:o,cells:s}}r.create=e;function t(n){let i=n;return __.objectLiteral(i)&&__.string(i.uri)&&fF.integer.is(i.version)&&__.typedArray(i.cells,Hse.is)}r.is=t})(GIt=ps.NotebookDocument||(ps.NotebookDocument={}));var hF;(function(r){r.method="notebookDocument/sync",r.messageDirection=ew.MessageDirection.clientToServer,r.type=new ew.RegistrationType(r.method)})(hF=ps.NotebookDocumentSyncRegistrationType||(ps.NotebookDocumentSyncRegistrationType={}));var KIt;(function(r){r.method="notebookDocument/didOpen",r.messageDirection=ew.MessageDirection.clientToServer,r.type=new ew.ProtocolNotificationType(r.method),r.registrationMethod=hF.method})(KIt=ps.DidOpenNotebookDocumentNotification||(ps.DidOpenNotebookDocumentNotification={}));var YIt;(function(r){function e(n){let i=n;return __.objectLiteral(i)&&fF.uinteger.is(i.start)&&fF.uinteger.is(i.deleteCount)&&(i.cells===void 0||__.typedArray(i.cells,Hse.is))}r.is=e;function t(n,i,o){let s={start:n,deleteCount:i};return o!==void 0&&(s.cells=o),s}r.create=t})(YIt=ps.NotebookCellArrayChange||(ps.NotebookCellArrayChange={}));var JIt;(function(r){r.method="notebookDocument/didChange",r.messageDirection=ew.MessageDirection.clientToServer,r.type=new ew.ProtocolNotificationType(r.method),r.registrationMethod=hF.method})(JIt=ps.DidChangeNotebookDocumentNotification||(ps.DidChangeNotebookDocumentNotification={}));var XIt;(function(r){r.method="notebookDocument/didSave",r.messageDirection=ew.MessageDirection.clientToServer,r.type=new ew.ProtocolNotificationType(r.method),r.registrationMethod=hF.method})(XIt=ps.DidSaveNotebookDocumentNotification||(ps.DidSaveNotebookDocumentNotification={}));var QIt;(function(r){r.method="notebookDocument/didClose",r.messageDirection=ew.MessageDirection.clientToServer,r.type=new ew.ProtocolNotificationType(r.method),r.registrationMethod=hF.method})(QIt=ps.DidCloseNotebookDocumentNotification||(ps.DidCloseNotebookDocumentNotification={}))});var aje=C(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.WorkspaceSymbolRequest=me.CodeActionResolveRequest=me.CodeActionRequest=me.DocumentSymbolRequest=me.DocumentHighlightRequest=me.ReferencesRequest=me.DefinitionRequest=me.SignatureHelpRequest=me.SignatureHelpTriggerKind=me.HoverRequest=me.CompletionResolveRequest=me.CompletionRequest=me.CompletionTriggerKind=me.PublishDiagnosticsNotification=me.WatchKind=me.RelativePattern=me.FileChangeType=me.DidChangeWatchedFilesNotification=me.WillSaveTextDocumentWaitUntilRequest=me.WillSaveTextDocumentNotification=me.TextDocumentSaveReason=me.DidSaveTextDocumentNotification=me.DidCloseTextDocumentNotification=me.DidChangeTextDocumentNotification=me.TextDocumentContentChangeEvent=me.DidOpenTextDocumentNotification=me.TextDocumentSyncKind=me.TelemetryEventNotification=me.LogMessageNotification=me.ShowMessageRequest=me.ShowMessageNotification=me.MessageType=me.DidChangeConfigurationNotification=me.ExitNotification=me.ShutdownRequest=me.InitializedNotification=me.InitializeErrorCodes=me.InitializeRequest=me.WorkDoneProgressOptions=me.TextDocumentRegistrationOptions=me.StaticRegistrationOptions=me.PositionEncodingKind=me.FailureHandlingKind=me.ResourceOperationKind=me.UnregistrationRequest=me.RegistrationRequest=me.DocumentSelector=me.NotebookCellTextDocumentFilter=me.NotebookDocumentFilter=me.TextDocumentFilter=void 0;me.TypeHierarchySubtypesRequest=me.TypeHierarchyPrepareRequest=me.MonikerRequest=me.MonikerKind=me.UniquenessLevel=me.WillDeleteFilesRequest=me.DidDeleteFilesNotification=me.WillRenameFilesRequest=me.DidRenameFilesNotification=me.WillCreateFilesRequest=me.DidCreateFilesNotification=me.FileOperationPatternKind=me.LinkedEditingRangeRequest=me.ShowDocumentRequest=me.SemanticTokensRegistrationType=me.SemanticTokensRefreshRequest=me.SemanticTokensRangeRequest=me.SemanticTokensDeltaRequest=me.SemanticTokensRequest=me.TokenFormat=me.CallHierarchyPrepareRequest=me.CallHierarchyOutgoingCallsRequest=me.CallHierarchyIncomingCallsRequest=me.WorkDoneProgressCancelNotification=me.WorkDoneProgressCreateRequest=me.WorkDoneProgress=me.SelectionRangeRequest=me.DeclarationRequest=me.FoldingRangeRequest=me.ColorPresentationRequest=me.DocumentColorRequest=me.ConfigurationRequest=me.DidChangeWorkspaceFoldersNotification=me.WorkspaceFoldersRequest=me.TypeDefinitionRequest=me.ImplementationRequest=me.ApplyWorkspaceEditRequest=me.ExecuteCommandRequest=me.PrepareRenameRequest=me.RenameRequest=me.PrepareSupportDefaultBehavior=me.DocumentOnTypeFormattingRequest=me.DocumentRangeFormattingRequest=me.DocumentFormattingRequest=me.DocumentLinkResolveRequest=me.DocumentLinkRequest=me.CodeLensRefreshRequest=me.CodeLensResolveRequest=me.CodeLensRequest=me.WorkspaceSymbolResolveRequest=void 0;me.DidCloseNotebookDocumentNotification=me.DidSaveNotebookDocumentNotification=me.DidChangeNotebookDocumentNotification=me.NotebookCellArrayChange=me.DidOpenNotebookDocumentNotification=me.NotebookDocumentSyncRegistrationType=me.NotebookDocument=me.NotebookCell=me.ExecutionSummary=me.NotebookCellKind=me.DiagnosticRefreshRequest=me.WorkspaceDiagnosticRequest=me.DocumentDiagnosticRequest=me.DocumentDiagnosticReportKind=me.DiagnosticServerCancellationData=me.InlayHintRefreshRequest=me.InlayHintResolveRequest=me.InlayHintRequest=me.InlineValueRefreshRequest=me.InlineValueRequest=me.TypeHierarchySupertypesRequest=void 0;var Er=Qc(),Z2e=b3(),vf=w3(),ZIt=S2e();Object.defineProperty(me,"ImplementationRequest",{enumerable:!0,get:function(){return ZIt.ImplementationRequest}});var ekt=T2e();Object.defineProperty(me,"TypeDefinitionRequest",{enumerable:!0,get:function(){return ekt.TypeDefinitionRequest}});var eje=D2e();Object.defineProperty(me,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return eje.WorkspaceFoldersRequest}});Object.defineProperty(me,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return eje.DidChangeWorkspaceFoldersNotification}});var tkt=R2e();Object.defineProperty(me,"ConfigurationRequest",{enumerable:!0,get:function(){return tkt.ConfigurationRequest}});var tje=P2e();Object.defineProperty(me,"DocumentColorRequest",{enumerable:!0,get:function(){return tje.DocumentColorRequest}});Object.defineProperty(me,"ColorPresentationRequest",{enumerable:!0,get:function(){return tje.ColorPresentationRequest}});var rkt=O2e();Object.defineProperty(me,"FoldingRangeRequest",{enumerable:!0,get:function(){return rkt.FoldingRangeRequest}});var nkt=k2e();Object.defineProperty(me,"DeclarationRequest",{enumerable:!0,get:function(){return nkt.DeclarationRequest}});var ikt=L2e();Object.defineProperty(me,"SelectionRangeRequest",{enumerable:!0,get:function(){return ikt.SelectionRangeRequest}});var Bse=M2e();Object.defineProperty(me,"WorkDoneProgress",{enumerable:!0,get:function(){return Bse.WorkDoneProgress}});Object.defineProperty(me,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return Bse.WorkDoneProgressCreateRequest}});Object.defineProperty(me,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return Bse.WorkDoneProgressCancelNotification}});var Wse=N2e();Object.defineProperty(me,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return Wse.CallHierarchyIncomingCallsRequest}});Object.defineProperty(me,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return Wse.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(me,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return Wse.CallHierarchyPrepareRequest}});var FO=F2e();Object.defineProperty(me,"TokenFormat",{enumerable:!0,get:function(){return FO.TokenFormat}});Object.defineProperty(me,"SemanticTokensRequest",{enumerable:!0,get:function(){return FO.SemanticTokensRequest}});Object.defineProperty(me,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return FO.SemanticTokensDeltaRequest}});Object.defineProperty(me,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return FO.SemanticTokensRangeRequest}});Object.defineProperty(me,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return FO.SemanticTokensRefreshRequest}});Object.defineProperty(me,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return FO.SemanticTokensRegistrationType}});var okt=j2e();Object.defineProperty(me,"ShowDocumentRequest",{enumerable:!0,get:function(){return okt.ShowDocumentRequest}});var skt=U2e();Object.defineProperty(me,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return skt.LinkedEditingRangeRequest}});var FE=H2e();Object.defineProperty(me,"FileOperationPatternKind",{enumerable:!0,get:function(){return FE.FileOperationPatternKind}});Object.defineProperty(me,"DidCreateFilesNotification",{enumerable:!0,get:function(){return FE.DidCreateFilesNotification}});Object.defineProperty(me,"WillCreateFilesRequest",{enumerable:!0,get:function(){return FE.WillCreateFilesRequest}});Object.defineProperty(me,"DidRenameFilesNotification",{enumerable:!0,get:function(){return FE.DidRenameFilesNotification}});Object.defineProperty(me,"WillRenameFilesRequest",{enumerable:!0,get:function(){return FE.WillRenameFilesRequest}});Object.defineProperty(me,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return FE.DidDeleteFilesNotification}});Object.defineProperty(me,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return FE.WillDeleteFilesRequest}});var $se=W2e();Object.defineProperty(me,"UniquenessLevel",{enumerable:!0,get:function(){return $se.UniquenessLevel}});Object.defineProperty(me,"MonikerKind",{enumerable:!0,get:function(){return $se.MonikerKind}});Object.defineProperty(me,"MonikerRequest",{enumerable:!0,get:function(){return $se.MonikerRequest}});var Vse=$2e();Object.defineProperty(me,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return Vse.TypeHierarchyPrepareRequest}});Object.defineProperty(me,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return Vse.TypeHierarchySubtypesRequest}});Object.defineProperty(me,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return Vse.TypeHierarchySupertypesRequest}});var rje=V2e();Object.defineProperty(me,"InlineValueRequest",{enumerable:!0,get:function(){return rje.InlineValueRequest}});Object.defineProperty(me,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return rje.InlineValueRefreshRequest}});var Gse=G2e();Object.defineProperty(me,"InlayHintRequest",{enumerable:!0,get:function(){return Gse.InlayHintRequest}});Object.defineProperty(me,"InlayHintResolveRequest",{enumerable:!0,get:function(){return Gse.InlayHintResolveRequest}});Object.defineProperty(me,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return Gse.InlayHintRefreshRequest}});var pF=Y2e();Object.defineProperty(me,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return pF.DiagnosticServerCancellationData}});Object.defineProperty(me,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return pF.DocumentDiagnosticReportKind}});Object.defineProperty(me,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return pF.DocumentDiagnosticRequest}});Object.defineProperty(me,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return pF.WorkspaceDiagnosticRequest}});Object.defineProperty(me,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return pF.DiagnosticRefreshRequest}});var tw=Q2e();Object.defineProperty(me,"NotebookCellKind",{enumerable:!0,get:function(){return tw.NotebookCellKind}});Object.defineProperty(me,"ExecutionSummary",{enumerable:!0,get:function(){return tw.ExecutionSummary}});Object.defineProperty(me,"NotebookCell",{enumerable:!0,get:function(){return tw.NotebookCell}});Object.defineProperty(me,"NotebookDocument",{enumerable:!0,get:function(){return tw.NotebookDocument}});Object.defineProperty(me,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return tw.NotebookDocumentSyncRegistrationType}});Object.defineProperty(me,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return tw.DidOpenNotebookDocumentNotification}});Object.defineProperty(me,"NotebookCellArrayChange",{enumerable:!0,get:function(){return tw.NotebookCellArrayChange}});Object.defineProperty(me,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return tw.DidChangeNotebookDocumentNotification}});Object.defineProperty(me,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return tw.DidSaveNotebookDocumentNotification}});Object.defineProperty(me,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return tw.DidCloseNotebookDocumentNotification}});var nje;(function(r){function e(t){let n=t;return vf.string(n.language)||vf.string(n.scheme)||vf.string(n.pattern)}r.is=e})(nje=me.TextDocumentFilter||(me.TextDocumentFilter={}));var ije;(function(r){function e(t){let n=t;return vf.objectLiteral(n)&&(vf.string(n.notebookType)||vf.string(n.scheme)||vf.string(n.pattern))}r.is=e})(ije=me.NotebookDocumentFilter||(me.NotebookDocumentFilter={}));var oje;(function(r){function e(t){let n=t;return vf.objectLiteral(n)&&(vf.string(n.notebook)||ije.is(n.notebook))&&(n.language===void 0||vf.string(n.language))}r.is=e})(oje=me.NotebookCellTextDocumentFilter||(me.NotebookCellTextDocumentFilter={}));var sje;(function(r){function e(t){if(!Array.isArray(t))return!1;for(let n of t)if(!vf.string(n)&&!nje.is(n)&&!oje.is(n))return!1;return!0}r.is=e})(sje=me.DocumentSelector||(me.DocumentSelector={}));var akt;(function(r){r.method="client/registerCapability",r.messageDirection=Er.MessageDirection.serverToClient,r.type=new Er.ProtocolRequestType(r.method)})(akt=me.RegistrationRequest||(me.RegistrationRequest={}));var ckt;(function(r){r.method="client/unregisterCapability",r.messageDirection=Er.MessageDirection.serverToClient,r.type=new Er.ProtocolRequestType(r.method)})(ckt=me.UnregistrationRequest||(me.UnregistrationRequest={}));var ukt;(function(r){r.Create="create",r.Rename="rename",r.Delete="delete"})(ukt=me.ResourceOperationKind||(me.ResourceOperationKind={}));var lkt;(function(r){r.Abort="abort",r.Transactional="transactional",r.TextOnlyTransactional="textOnlyTransactional",r.Undo="undo"})(lkt=me.FailureHandlingKind||(me.FailureHandlingKind={}));var dkt;(function(r){r.UTF8="utf-8",r.UTF16="utf-16",r.UTF32="utf-32"})(dkt=me.PositionEncodingKind||(me.PositionEncodingKind={}));var fkt;(function(r){function e(t){let n=t;return n&&vf.string(n.id)&&n.id.length>0}r.hasId=e})(fkt=me.StaticRegistrationOptions||(me.StaticRegistrationOptions={}));var hkt;(function(r){function e(t){let n=t;return n&&(n.documentSelector===null||sje.is(n.documentSelector))}r.is=e})(hkt=me.TextDocumentRegistrationOptions||(me.TextDocumentRegistrationOptions={}));var pkt;(function(r){function e(n){let i=n;return vf.objectLiteral(i)&&(i.workDoneProgress===void 0||vf.boolean(i.workDoneProgress))}r.is=e;function t(n){let i=n;return i&&vf.boolean(i.workDoneProgress)}r.hasWorkDoneProgress=t})(pkt=me.WorkDoneProgressOptions||(me.WorkDoneProgressOptions={}));var mkt;(function(r){r.method="initialize",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(mkt=me.InitializeRequest||(me.InitializeRequest={}));var gkt;(function(r){r.unknownProtocolVersion=1})(gkt=me.InitializeErrorCodes||(me.InitializeErrorCodes={}));var vkt;(function(r){r.method="initialized",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolNotificationType(r.method)})(vkt=me.InitializedNotification||(me.InitializedNotification={}));var ykt;(function(r){r.method="shutdown",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType0(r.method)})(ykt=me.ShutdownRequest||(me.ShutdownRequest={}));var _kt;(function(r){r.method="exit",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolNotificationType0(r.method)})(_kt=me.ExitNotification||(me.ExitNotification={}));var bkt;(function(r){r.method="workspace/didChangeConfiguration",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolNotificationType(r.method)})(bkt=me.DidChangeConfigurationNotification||(me.DidChangeConfigurationNotification={}));var wkt;(function(r){r.Error=1,r.Warning=2,r.Info=3,r.Log=4})(wkt=me.MessageType||(me.MessageType={}));var Skt;(function(r){r.method="window/showMessage",r.messageDirection=Er.MessageDirection.serverToClient,r.type=new Er.ProtocolNotificationType(r.method)})(Skt=me.ShowMessageNotification||(me.ShowMessageNotification={}));var Ckt;(function(r){r.method="window/showMessageRequest",r.messageDirection=Er.MessageDirection.serverToClient,r.type=new Er.ProtocolRequestType(r.method)})(Ckt=me.ShowMessageRequest||(me.ShowMessageRequest={}));var Tkt;(function(r){r.method="window/logMessage",r.messageDirection=Er.MessageDirection.serverToClient,r.type=new Er.ProtocolNotificationType(r.method)})(Tkt=me.LogMessageNotification||(me.LogMessageNotification={}));var Dkt;(function(r){r.method="telemetry/event",r.messageDirection=Er.MessageDirection.serverToClient,r.type=new Er.ProtocolNotificationType(r.method)})(Dkt=me.TelemetryEventNotification||(me.TelemetryEventNotification={}));var Ekt;(function(r){r.None=0,r.Full=1,r.Incremental=2})(Ekt=me.TextDocumentSyncKind||(me.TextDocumentSyncKind={}));var Rkt;(function(r){r.method="textDocument/didOpen",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolNotificationType(r.method)})(Rkt=me.DidOpenTextDocumentNotification||(me.DidOpenTextDocumentNotification={}));var Pkt;(function(r){function e(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}r.isIncremental=e;function t(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}r.isFull=t})(Pkt=me.TextDocumentContentChangeEvent||(me.TextDocumentContentChangeEvent={}));var xkt;(function(r){r.method="textDocument/didChange",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolNotificationType(r.method)})(xkt=me.DidChangeTextDocumentNotification||(me.DidChangeTextDocumentNotification={}));var Okt;(function(r){r.method="textDocument/didClose",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolNotificationType(r.method)})(Okt=me.DidCloseTextDocumentNotification||(me.DidCloseTextDocumentNotification={}));var Ikt;(function(r){r.method="textDocument/didSave",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolNotificationType(r.method)})(Ikt=me.DidSaveTextDocumentNotification||(me.DidSaveTextDocumentNotification={}));var kkt;(function(r){r.Manual=1,r.AfterDelay=2,r.FocusOut=3})(kkt=me.TextDocumentSaveReason||(me.TextDocumentSaveReason={}));var Akt;(function(r){r.method="textDocument/willSave",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolNotificationType(r.method)})(Akt=me.WillSaveTextDocumentNotification||(me.WillSaveTextDocumentNotification={}));var Lkt;(function(r){r.method="textDocument/willSaveWaitUntil",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(Lkt=me.WillSaveTextDocumentWaitUntilRequest||(me.WillSaveTextDocumentWaitUntilRequest={}));var Mkt;(function(r){r.method="workspace/didChangeWatchedFiles",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolNotificationType(r.method)})(Mkt=me.DidChangeWatchedFilesNotification||(me.DidChangeWatchedFilesNotification={}));var Nkt;(function(r){r.Created=1,r.Changed=2,r.Deleted=3})(Nkt=me.FileChangeType||(me.FileChangeType={}));var Fkt;(function(r){function e(t){let n=t;return vf.objectLiteral(n)&&(Z2e.URI.is(n.baseUri)||Z2e.WorkspaceFolder.is(n.baseUri))&&vf.string(n.pattern)}r.is=e})(Fkt=me.RelativePattern||(me.RelativePattern={}));var qkt;(function(r){r.Create=1,r.Change=2,r.Delete=4})(qkt=me.WatchKind||(me.WatchKind={}));var jkt;(function(r){r.method="textDocument/publishDiagnostics",r.messageDirection=Er.MessageDirection.serverToClient,r.type=new Er.ProtocolNotificationType(r.method)})(jkt=me.PublishDiagnosticsNotification||(me.PublishDiagnosticsNotification={}));var zkt;(function(r){r.Invoked=1,r.TriggerCharacter=2,r.TriggerForIncompleteCompletions=3})(zkt=me.CompletionTriggerKind||(me.CompletionTriggerKind={}));var Ukt;(function(r){r.method="textDocument/completion",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(Ukt=me.CompletionRequest||(me.CompletionRequest={}));var Hkt;(function(r){r.method="completionItem/resolve",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(Hkt=me.CompletionResolveRequest||(me.CompletionResolveRequest={}));var Bkt;(function(r){r.method="textDocument/hover",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(Bkt=me.HoverRequest||(me.HoverRequest={}));var Wkt;(function(r){r.Invoked=1,r.TriggerCharacter=2,r.ContentChange=3})(Wkt=me.SignatureHelpTriggerKind||(me.SignatureHelpTriggerKind={}));var $kt;(function(r){r.method="textDocument/signatureHelp",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})($kt=me.SignatureHelpRequest||(me.SignatureHelpRequest={}));var Vkt;(function(r){r.method="textDocument/definition",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(Vkt=me.DefinitionRequest||(me.DefinitionRequest={}));var Gkt;(function(r){r.method="textDocument/references",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(Gkt=me.ReferencesRequest||(me.ReferencesRequest={}));var Kkt;(function(r){r.method="textDocument/documentHighlight",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(Kkt=me.DocumentHighlightRequest||(me.DocumentHighlightRequest={}));var Ykt;(function(r){r.method="textDocument/documentSymbol",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(Ykt=me.DocumentSymbolRequest||(me.DocumentSymbolRequest={}));var Jkt;(function(r){r.method="textDocument/codeAction",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(Jkt=me.CodeActionRequest||(me.CodeActionRequest={}));var Xkt;(function(r){r.method="codeAction/resolve",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(Xkt=me.CodeActionResolveRequest||(me.CodeActionResolveRequest={}));var Qkt;(function(r){r.method="workspace/symbol",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(Qkt=me.WorkspaceSymbolRequest||(me.WorkspaceSymbolRequest={}));var Zkt;(function(r){r.method="workspaceSymbol/resolve",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(Zkt=me.WorkspaceSymbolResolveRequest||(me.WorkspaceSymbolResolveRequest={}));var e1t;(function(r){r.method="textDocument/codeLens",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(e1t=me.CodeLensRequest||(me.CodeLensRequest={}));var t1t;(function(r){r.method="codeLens/resolve",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(t1t=me.CodeLensResolveRequest||(me.CodeLensResolveRequest={}));var r1t;(function(r){r.method="workspace/codeLens/refresh",r.messageDirection=Er.MessageDirection.serverToClient,r.type=new Er.ProtocolRequestType0(r.method)})(r1t=me.CodeLensRefreshRequest||(me.CodeLensRefreshRequest={}));var n1t;(function(r){r.method="textDocument/documentLink",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(n1t=me.DocumentLinkRequest||(me.DocumentLinkRequest={}));var i1t;(function(r){r.method="documentLink/resolve",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(i1t=me.DocumentLinkResolveRequest||(me.DocumentLinkResolveRequest={}));var o1t;(function(r){r.method="textDocument/formatting",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(o1t=me.DocumentFormattingRequest||(me.DocumentFormattingRequest={}));var s1t;(function(r){r.method="textDocument/rangeFormatting",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(s1t=me.DocumentRangeFormattingRequest||(me.DocumentRangeFormattingRequest={}));var a1t;(function(r){r.method="textDocument/onTypeFormatting",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(a1t=me.DocumentOnTypeFormattingRequest||(me.DocumentOnTypeFormattingRequest={}));var c1t;(function(r){r.Identifier=1})(c1t=me.PrepareSupportDefaultBehavior||(me.PrepareSupportDefaultBehavior={}));var u1t;(function(r){r.method="textDocument/rename",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(u1t=me.RenameRequest||(me.RenameRequest={}));var l1t;(function(r){r.method="textDocument/prepareRename",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(l1t=me.PrepareRenameRequest||(me.PrepareRenameRequest={}));var d1t;(function(r){r.method="workspace/executeCommand",r.messageDirection=Er.MessageDirection.clientToServer,r.type=new Er.ProtocolRequestType(r.method)})(d1t=me.ExecuteCommandRequest||(me.ExecuteCommandRequest={}));var f1t;(function(r){r.method="workspace/applyEdit",r.messageDirection=Er.MessageDirection.serverToClient,r.type=new Er.ProtocolRequestType("workspace/applyEdit")})(f1t=me.ApplyWorkspaceEditRequest||(me.ApplyWorkspaceEditRequest={}))});var uje=C(R3=>{"use strict";Object.defineProperty(R3,"__esModule",{value:!0});R3.createProtocolConnection=void 0;var cje=NE();function h1t(r,e,t,n){return cje.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,cje.createMessageConnection)(r,e,t,n)}R3.createProtocolConnection=h1t});var lje=C(Sp=>{"use strict";var p1t=Sp&&Sp.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),P3=Sp&&Sp.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&p1t(e,r,t)};Object.defineProperty(Sp,"__esModule",{value:!0});Sp.LSPErrorCodes=Sp.createProtocolConnection=void 0;P3(NE(),Sp);P3(b3(),Sp);P3(Qc(),Sp);P3(aje(),Sp);var m1t=uje();Object.defineProperty(Sp,"createProtocolConnection",{enumerable:!0,get:function(){return m1t.createProtocolConnection}});var g1t;(function(r){r.lspReservedErrorRangeStart=-32899,r.RequestFailed=-32803,r.ServerCancelled=-32802,r.ContentModified=-32801,r.RequestCancelled=-32800,r.lspReservedErrorRangeEnd=-32800})(g1t=Sp.LSPErrorCodes||(Sp.LSPErrorCodes={}))});var zi=C(rw=>{"use strict";var v1t=rw&&rw.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),dje=rw&&rw.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&v1t(e,r,t)};Object.defineProperty(rw,"__esModule",{value:!0});rw.createProtocolConnection=void 0;var y1t=Nse();dje(Nse(),rw);dje(lje(),rw);function _1t(r,e,t,n){return(0,y1t.createMessageConnection)(r,e,t,n)}rw.createProtocolConnection=_1t});var vF=C(wh=>{"use strict";Object.defineProperty(wh,"__esModule",{value:!0});wh.forEach=wh.mapAsync=wh.map=wh.clearTestMode=wh.setTestMode=wh.Semaphore=wh.Delayer=void 0;var gF=zi(),Kse=class{constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,t=this.defaultDelay){return this.task=e,t>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(n=>{this.onSuccess=n}).then(()=>{this.completionPromise=void 0,this.onSuccess=void 0;var n=this.task();return this.task=void 0,n})),(t>=0||this.timeout===void 0)&&(this.timeout=(0,gF.RAL)().timer.setTimeout(()=>{this.timeout=void 0,this.onSuccess(void 0)},t>=0?t:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return this.timeout!==void 0}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){this.timeout!==void 0&&(this.timeout.dispose(),this.timeout=void 0)}};wh.Delayer=Kse;var Yse=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,gF.RAL)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let t=e.thunk();t instanceof Promise?t.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}};wh.Semaphore=Yse;var Jse=!1;function b1t(){Jse=!0}wh.setTestMode=b1t;function w1t(){Jse=!1}wh.clearTestMode=w1t;var fje=15,mF=class{constructor(e=fje){this.yieldAfter=Jse===!0?Math.max(e,2):Math.max(e,fje),this.startTime=Date.now(),this.counter=0,this.total=0,this.counterInterval=1}start(){this.counter=0,this.total=0,this.counterInterval=1,this.startTime=Date.now()}shouldYield(){if(++this.counter>=this.counterInterval){let e=Date.now()-this.startTime,t=Math.max(0,this.yieldAfter-e);if(this.total+=this.counter,this.counter=0,e>=this.yieldAfter||t<=1)return this.counterInterval=1,this.total=0,!0;switch(e){case 0:case 1:this.counterInterval=this.total*2;break}}return!1}};async function S1t(r,e,t,n){if(r.length===0)return[];let i=new Array(r.length),o=new mF(n?.yieldAfter);function s(c){o.start();for(let u=c;u<r.length;u++)if(i[u]=e(r[u]),o.shouldYield())return n?.yieldCallback&&n.yieldCallback(),u+1;return-1}let a=s(0);for(;a!==-1&&!(t!==void 0&&t.isCancellationRequested);)a=await new Promise(c=>{(0,gF.RAL)().timer.setImmediate(()=>{c(s(a))})});return i}wh.map=S1t;async function C1t(r,e,t,n){if(r.length===0)return[];let i=new Array(r.length),o=new mF(n?.yieldAfter);async function s(c){o.start();for(let u=c;u<r.length;u++)if(i[u]=await e(r[u],t),o.shouldYield())return n?.yieldCallback&&n.yieldCallback(),u+1;return-1}let a=await s(0);for(;a!==-1&&!(t!==void 0&&t.isCancellationRequested);)a=await new Promise(c=>{(0,gF.RAL)().timer.setImmediate(()=>{c(s(a))})});return i}wh.mapAsync=C1t;async function T1t(r,e,t,n){if(r.length===0)return;let i=new mF(n?.yieldAfter);function o(a){i.start();for(let c=a;c<r.length;c++)if(e(r[c]),i.shouldYield())return n?.yieldCallback&&n.yieldCallback(),c+1;return-1}let s=o(0);for(;s!==-1&&!(t!==void 0&&t.isCancellationRequested);)s=await new Promise(a=>{(0,gF.RAL)().timer.setImmediate(()=>{a(o(s))})})}wh.forEach=T1t});var Zse=C(Qse=>{"use strict";Object.defineProperty(Qse,"__esModule",{value:!0});var D1t=require("vscode"),Xse=class extends D1t.CompletionItem{constructor(e){super(e)}};Qse.default=Xse});var rae=C(tae=>{"use strict";Object.defineProperty(tae,"__esModule",{value:!0});var E1t=require("vscode"),eae=class extends E1t.CodeLens{constructor(e){super(e)}};tae.default=eae});var oae=C(iae=>{"use strict";Object.defineProperty(iae,"__esModule",{value:!0});var R1t=require("vscode"),nae=class extends R1t.DocumentLink{constructor(e,t){super(e,t)}};iae.default=nae});var cae=C(aae=>{"use strict";Object.defineProperty(aae,"__esModule",{value:!0});var P1t=require("vscode"),sae=class extends P1t.CodeAction{constructor(e,t){super(e),this.data=t}};aae.default=sae});var dae=C(qE=>{"use strict";Object.defineProperty(qE,"__esModule",{value:!0});qE.ProtocolDiagnostic=qE.DiagnosticCode=void 0;var x1t=require("vscode"),uae=Zv(),O1t;(function(r){function e(t){let n=t;return n!=null&&(uae.number(n.value)||uae.string(n.value))&&uae.string(n.target)}r.is=e})(O1t=qE.DiagnosticCode||(qE.DiagnosticCode={}));var lae=class extends x1t.Diagnostic{constructor(e,t,n,i){super(e,t,n),this.data=i,this.hasDiagnosticCode=!1}};qE.ProtocolDiagnostic=lae});var pae=C(hae=>{"use strict";Object.defineProperty(hae,"__esModule",{value:!0});var I1t=require("vscode"),fae=class extends I1t.CallHierarchyItem{constructor(e,t,n,i,o,s,a){super(e,t,n,i,o,s),a!==void 0&&(this.data=a)}};hae.default=fae});var vae=C(gae=>{"use strict";Object.defineProperty(gae,"__esModule",{value:!0});var k1t=require("vscode"),mae=class extends k1t.TypeHierarchyItem{constructor(e,t,n,i,o,s,a){super(e,t,n,i,o,s),a!==void 0&&(this.data=a)}};gae.default=mae});var bae=C(_ae=>{"use strict";Object.defineProperty(_ae,"__esModule",{value:!0});var x3=require("vscode"),yae=class extends x3.SymbolInformation{constructor(e,t,n,i,o){let s=!(i instanceof x3.Uri);super(e,t,n,s?i:new x3.Location(i,new x3.Range(0,0,0,0))),this.hasRange=s,o!==void 0&&(this.data=o)}};_ae.default=yae});var Cae=C(Sae=>{"use strict";Object.defineProperty(Sae,"__esModule",{value:!0});var A1t=require("vscode"),wae=class extends A1t.InlayHint{constructor(e,t,n){super(e,t,n)}};Sae.default=wae});var mje=C(O3=>{"use strict";Object.defineProperty(O3,"__esModule",{value:!0});O3.createConverter=void 0;var pl=require("vscode"),Xi=zi(),qO=Zv(),hje=vF(),L1t=Zse(),M1t=rae(),N1t=oae(),F1t=cae(),pje=dae(),q1t=pae(),j1t=vae(),z1t=bae(),U1t=Cae(),Tae;(function(r){function e(t){let n=t;return n&&!!n.inserting&&!!n.replacing}r.is=e})(Tae||(Tae={}));function H1t(r){let t=r||(K=>K.toString());function n(K){return t(K)}function i(K){return{uri:t(K.uri)}}function o(K){return{uri:t(K.uri),languageId:K.languageId,version:K.version,text:K.getText()}}function s(K){return{uri:t(K.uri),version:K.version}}function a(K){return{textDocument:o(K)}}function c(K){let qe=K;return!!qe.document&&!!qe.contentChanges}function u(K){let qe=K;return!!qe.uri&&!!qe.version}function l(K){if(u(K))return{textDocument:{uri:t(K.uri),version:K.version},contentChanges:[{text:K.getText()}]};if(c(K)){let qe=K.document;return{textDocument:{uri:t(qe.uri),version:qe.version},contentChanges:K.contentChanges.map(Dr=>{let He=Dr.range;return{range:{start:{line:He.start.line,character:He.start.character},end:{line:He.end.line,character:He.end.character}},rangeLength:Dr.rangeLength,text:Dr.text}})}}else throw Error("Unsupported text document change parameter")}function d(K){return{textDocument:i(K)}}function f(K,qe=!1){let Ht={textDocument:i(K)};return qe&&(Ht.text=K.getText()),Ht}function p(K){switch(K){case pl.TextDocumentSaveReason.Manual:return Xi.TextDocumentSaveReason.Manual;case pl.TextDocumentSaveReason.AfterDelay:return Xi.TextDocumentSaveReason.AfterDelay;case pl.TextDocumentSaveReason.FocusOut:return Xi.TextDocumentSaveReason.FocusOut}return Xi.TextDocumentSaveReason.Manual}function _(K){return{textDocument:i(K.document),reason:p(K.reason)}}function D(K){return{files:K.files.map(qe=>({uri:t(qe)}))}}function P(K){return{files:K.files.map(qe=>({oldUri:t(qe.oldUri),newUri:t(qe.newUri)}))}}function M(K){return{files:K.files.map(qe=>({uri:t(qe)}))}}function A(K){return{files:K.files.map(qe=>({uri:t(qe)}))}}function U(K){return{files:K.files.map(qe=>({oldUri:t(qe.oldUri),newUri:t(qe.newUri)}))}}function ne(K){return{files:K.files.map(qe=>({uri:t(qe)}))}}function pe(K,qe){return{textDocument:i(K),position:ce(qe)}}function ve(K){switch(K){case pl.CompletionTriggerKind.TriggerCharacter:return Xi.CompletionTriggerKind.TriggerCharacter;case pl.CompletionTriggerKind.TriggerForIncompleteCompletions:return Xi.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return Xi.CompletionTriggerKind.Invoked}}function V(K,qe,Ht){return{textDocument:i(K),position:ce(qe),context:{triggerKind:ve(Ht.triggerKind),triggerCharacter:Ht.triggerCharacter}}}function W(K){switch(K){case pl.SignatureHelpTriggerKind.Invoke:return Xi.SignatureHelpTriggerKind.Invoked;case pl.SignatureHelpTriggerKind.TriggerCharacter:return Xi.SignatureHelpTriggerKind.TriggerCharacter;case pl.SignatureHelpTriggerKind.ContentChange:return Xi.SignatureHelpTriggerKind.ContentChange}}function ee(K){return{label:K.label}}function De(K){return K.map(ee)}function ae(K){return{label:K.label,parameters:De(K.parameters)}}function ue(K){return K.map(ae)}function Fe(K){return K===void 0?K:{signatures:ue(K.signatures),activeSignature:K.activeSignature,activeParameter:K.activeParameter}}function Me(K,qe,Ht){return{textDocument:i(K),position:ce(qe),context:{isRetrigger:Ht.isRetrigger,triggerCharacter:Ht.triggerCharacter,triggerKind:W(Ht.triggerKind),activeSignatureHelp:Fe(Ht.activeSignatureHelp)}}}function ce(K){return{line:K.line,character:K.character}}function Ce(K){return K==null?K:{line:K.line>Xi.uinteger.MAX_VALUE?Xi.uinteger.MAX_VALUE:K.line,character:K.character>Xi.uinteger.MAX_VALUE?Xi.uinteger.MAX_VALUE:K.character}}function be(K,qe){return hje.map(K,Ce,qe)}function xe(K){return K==null?K:{start:Ce(K.start),end:Ce(K.end)}}function Ne(K){return K==null?K:Xi.Location.create(n(K.uri),xe(K.range))}function $e(K){switch(K){case pl.DiagnosticSeverity.Error:return Xi.DiagnosticSeverity.Error;case pl.DiagnosticSeverity.Warning:return Xi.DiagnosticSeverity.Warning;case pl.DiagnosticSeverity.Information:return Xi.DiagnosticSeverity.Information;case pl.DiagnosticSeverity.Hint:return Xi.DiagnosticSeverity.Hint}}function Ct(K){if(!K)return;let qe=[];for(let Ht of K){let Dr=ze(Ht);Dr!==void 0&&qe.push(Dr)}return qe.length>0?qe:void 0}function ze(K){switch(K){case pl.DiagnosticTag.Unnecessary:return Xi.DiagnosticTag.Unnecessary;case pl.DiagnosticTag.Deprecated:return Xi.DiagnosticTag.Deprecated;default:return}}function st(K){return{message:K.message,location:Ne(K.location)}}function at(K){return K.map(st)}function tt(K){if(K!=null)return qO.number(K)||qO.string(K)?K:{value:K.value,target:n(K.target)}}function fr(K){let qe=Xi.Diagnostic.create(xe(K.range),K.message),Ht=K instanceof pje.ProtocolDiagnostic?K:void 0;Ht!==void 0&&Ht.data!==void 0&&(qe.data=Ht.data);let Dr=tt(K.code);return pje.DiagnosticCode.is(Dr)?Ht!==void 0&&Ht.hasDiagnosticCode?qe.code=Dr:(qe.code=Dr.value,qe.codeDescription={href:Dr.target}):qe.code=Dr,qO.number(K.severity)&&(qe.severity=$e(K.severity)),Array.isArray(K.tags)&&(qe.tags=Ct(K.tags)),K.relatedInformation&&(qe.relatedInformation=at(K.relatedInformation)),K.source&&(qe.source=K.source),qe}function Lr(K,qe){return K==null?K:hje.map(K,fr,qe)}function zr(K,qe){switch(K){case"$string":return qe;case Xi.MarkupKind.PlainText:return{kind:K,value:qe};case Xi.MarkupKind.Markdown:return{kind:K,value:qe.value};default:return`Unsupported Markup content received. Kind is: ${K}`}}function cr(K){switch(K){case pl.CompletionItemTag.Deprecated:return Xi.CompletionItemTag.Deprecated}}function xt(K){if(K===void 0)return K;let qe=[];for(let Ht of K){let Dr=cr(Ht);Dr!==void 0&&qe.push(Dr)}return qe}function hr(K,qe){return qe!==void 0?qe:K+1}function Mt(K,qe=!1){let Ht,Dr;qO.string(K.label)?Ht=K.label:(Ht=K.label.label,qe&&(K.label.detail!==void 0||K.label.description!==void 0)&&(Dr={detail:K.label.detail,description:K.label.description}));let He={label:Ht};Dr!==void 0&&(He.labelDetails=Dr);let re=K instanceof L1t.default?K:void 0;K.detail&&(He.detail=K.detail),K.documentation&&(!re||re.documentationFormat==="$string"?He.documentation=K.documentation:He.documentation=zr(re.documentationFormat,K.documentation)),K.filterText&&(He.filterText=K.filterText),nn(He,K),qO.number(K.kind)&&(He.kind=hr(K.kind,re&&re.originalItemKind)),K.sortText&&(He.sortText=K.sortText),K.additionalTextEdits&&(He.additionalTextEdits=Or(K.additionalTextEdits)),K.commitCharacters&&(He.commitCharacters=K.commitCharacters.slice()),K.command&&(He.command=oi(K.command)),(K.preselect===!0||K.preselect===!1)&&(He.preselect=K.preselect);let Pe=xt(K.tags);if(re){if(re.data!==void 0&&(He.data=re.data),re.deprecated===!0||re.deprecated===!1){if(re.deprecated===!0&&Pe!==void 0&&Pe.length>0){let je=Pe.indexOf(pl.CompletionItemTag.Deprecated);je!==-1&&Pe.splice(je,1)}He.deprecated=re.deprecated}re.insertTextMode!==void 0&&(He.insertTextMode=re.insertTextMode)}return Pe!==void 0&&Pe.length>0&&(He.tags=Pe),He.insertTextMode===void 0&&K.keepWhitespace===!0&&(He.insertTextMode=Xi.InsertTextMode.adjustIndentation),He}function nn(K,qe){let Ht=Xi.InsertTextFormat.PlainText,Dr,He;qe.textEdit?(Dr=qe.textEdit.newText,He=qe.textEdit.range):qe.insertText instanceof pl.SnippetString?(Ht=Xi.InsertTextFormat.Snippet,Dr=qe.insertText.value):Dr=qe.insertText,qe.range&&(He=qe.range),K.insertTextFormat=Ht,qe.fromEdit&&Dr!==void 0&&He!==void 0?K.textEdit=ln(Dr,He):K.insertText=Dr}function ln(K,qe){return Tae.is(qe)?Xi.InsertReplaceEdit.create(K,xe(qe.inserting),xe(qe.replacing)):{newText:K,range:xe(qe)}}function On(K){return{range:xe(K.range),newText:K.newText}}function Or(K){return K==null?K:K.map(On)}function Hn(K){return K<=pl.SymbolKind.TypeParameter?K+1:Xi.SymbolKind.Property}function $r(K){return K}function dn(K){return K.map($r)}function ii(K,qe,Ht){return{textDocument:i(K),position:ce(qe),context:{includeDeclaration:Ht.includeDeclaration}}}async function Vr(K,qe){let Ht=Xi.CodeAction.create(K.title);if(K instanceof F1t.default&&K.data!==void 0&&(Ht.data=K.data),K.kind!==void 0&&(Ht.kind=Gr(K.kind)),K.diagnostics!==void 0&&(Ht.diagnostics=await Lr(K.diagnostics,qe)),K.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return K.command!==void 0&&(Ht.command=oi(K.command)),K.isPreferred!==void 0&&(Ht.isPreferred=K.isPreferred),K.disabled!==void 0&&(Ht.disabled={reason:K.disabled.reason}),Ht}async function An(K,qe){if(K==null)return K;let Ht;return K.only&&qO.string(K.only.value)&&(Ht=[K.only.value]),Xi.CodeActionContext.create(await Lr(K.diagnostics,qe),Ht,xi(K.triggerKind))}function xi(K){switch(K){case pl.CodeActionTriggerKind.Invoke:return Xi.CodeActionTriggerKind.Invoked;case pl.CodeActionTriggerKind.Automatic:return Xi.CodeActionTriggerKind.Automatic;default:return}}function Gr(K){if(K!=null)return K.value}function Qi(K){return K==null?K:Xi.InlineValueContext.create(K.frameId,xe(K.stoppedLocation))}function oi(K){let qe=Xi.Command.create(K.title,K.command);return K.arguments&&(qe.arguments=K.arguments),qe}function fn(K){let qe=Xi.CodeLens.create(xe(K.range));return K.command&&(qe.command=oi(K.command)),K instanceof M1t.default&&K.data&&(qe.data=K.data),qe}function Oe(K,qe){let Ht={tabSize:K.tabSize,insertSpaces:K.insertSpaces};return qe.trimTrailingWhitespace&&(Ht.trimTrailingWhitespace=!0),qe.trimFinalNewlines&&(Ht.trimFinalNewlines=!0),qe.insertFinalNewline&&(Ht.insertFinalNewline=!0),Ht}function oe(K){return{textDocument:i(K)}}function Q(K){return{textDocument:i(K)}}function we(K){let qe=Xi.DocumentLink.create(xe(K.range));K.target&&(qe.target=n(K.target)),K.tooltip!==void 0&&(qe.tooltip=K.tooltip);let Ht=K instanceof N1t.default?K:void 0;return Ht&&Ht.data&&(qe.data=Ht.data),qe}function Je(K){return{textDocument:i(K)}}function ft(K){let qe={name:K.name,kind:Hn(K.kind),uri:n(K.uri),range:xe(K.range),selectionRange:xe(K.selectionRange)};return K.detail!==void 0&&K.detail.length>0&&(qe.detail=K.detail),K.tags!==void 0&&(qe.tags=dn(K.tags)),K instanceof q1t.default&&K.data!==void 0&&(qe.data=K.data),qe}function Yt(K){let qe={name:K.name,kind:Hn(K.kind),uri:n(K.uri),range:xe(K.range),selectionRange:xe(K.selectionRange)};return K.detail!==void 0&&K.detail.length>0&&(qe.detail=K.detail),K.tags!==void 0&&(qe.tags=dn(K.tags)),K instanceof j1t.default&&K.data!==void 0&&(qe.data=K.data),qe}function rr(K){let qe=K instanceof z1t.default?{name:K.name,kind:Hn(K.kind),location:K.hasRange?Ne(K.location):{uri:t(K.location.uri)},data:K.data}:{name:K.name,kind:Hn(K.kind),location:Ne(K.location)};return K.tags!==void 0&&(qe.tags=dn(K.tags)),K.containerName!==""&&(qe.containerName=K.containerName),qe}function Jt(K){let qe=typeof K.label=="string"?K.label:K.label.map($t),Ht=Xi.InlayHint.create(Ce(K.position),qe);return K.kind!==void 0&&(Ht.kind=K.kind),K.textEdits!==void 0&&(Ht.textEdits=Or(K.textEdits)),K.tooltip!==void 0&&(Ht.tooltip=kt(K.tooltip)),K.paddingLeft!==void 0&&(Ht.paddingLeft=K.paddingLeft),K.paddingRight!==void 0&&(Ht.paddingRight=K.paddingRight),K instanceof U1t.default&&K.data!==void 0&&(Ht.data=K.data),Ht}function $t(K){let qe=Xi.InlayHintLabelPart.create(K.value);return K.location!==void 0&&(qe.location=Ne(K.location)),K.command!==void 0&&(qe.command=oi(K.command)),K.tooltip!==void 0&&(qe.tooltip=kt(K.tooltip)),qe}function kt(K){return typeof K=="string"?K:{kind:Xi.MarkupKind.Markdown,value:K.value}}return{asUri:n,asTextDocumentIdentifier:i,asTextDocumentItem:o,asVersionedTextDocumentIdentifier:s,asOpenTextDocumentParams:a,asChangeTextDocumentParams:l,asCloseTextDocumentParams:d,asSaveTextDocumentParams:f,asWillSaveTextDocumentParams:_,asDidCreateFilesParams:D,asDidRenameFilesParams:P,asDidDeleteFilesParams:M,asWillCreateFilesParams:A,asWillRenameFilesParams:U,asWillDeleteFilesParams:ne,asTextDocumentPositionParams:pe,asCompletionParams:V,asSignatureHelpParams:Me,asWorkerPosition:ce,asRange:xe,asPosition:Ce,asPositions:be,asLocation:Ne,asDiagnosticSeverity:$e,asDiagnosticTag:ze,asDiagnostic:fr,asDiagnostics:Lr,asCompletionItem:Mt,asTextEdit:On,asSymbolKind:Hn,asSymbolTag:$r,asSymbolTags:dn,asReferenceParams:ii,asCodeAction:Vr,asCodeActionContext:An,asInlineValueContext:Qi,asCommand:oi,asCodeLens:fn,asFormattingOptions:Oe,asDocumentSymbolParams:oe,asCodeLensParams:Q,asDocumentLink:we,asDocumentLinkParams:Je,asCallHierarchyItem:ft,asTypeHierarchyItem:Yt,asInlayHint:Jt,asWorkspaceSymbol:rr}}O3.createConverter=H1t});var yje=C(k3=>{"use strict";Object.defineProperty(k3,"__esModule",{value:!0});k3.createConverter=void 0;var Br=require("vscode"),yi=zi(),ty=Zv(),Cs=vF(),B1t=Zse(),W1t=rae(),$1t=oae(),V1t=cae(),gje=dae(),G1t=pae(),K1t=vae(),Y1t=bae(),J1t=Cae(),vje=zi(),I3;(function(r){function e(t){let n=t;return n&&ty.string(n.language)&&ty.string(n.value)}r.is=e})(I3||(I3={}));function X1t(r,e,t){let i=r||(H=>Br.Uri.parse(H));function o(H){return i(H)}function s(H){let Ue=[];for(let vt of H)if(typeof vt=="string")Ue.push(vt);else if(vje.NotebookCellTextDocumentFilter.is(vt))if(typeof vt.notebook=="string")Ue.push({notebookType:vt.notebook,language:vt.language});else{let Fr=vt.notebook.notebookType??"*";Ue.push({notebookType:Fr,scheme:vt.notebook.scheme,pattern:vt.notebook.pattern,language:vt.language})}else vje.TextDocumentFilter.is(vt)&&Ue.push({language:vt.language,scheme:vt.scheme,pattern:vt.pattern});return Ue}async function a(H,Ue){return Cs.map(H,u,Ue)}function c(H){let Ue=new Array(H.length);for(let vt=0;vt<H.length;vt++)Ue[vt]=u(H[vt]);return Ue}function u(H){let Ue=new gje.ProtocolDiagnostic(_(H.range),H.message,P(H.severity),H.data);if(H.code!==void 0){if(typeof H.code=="string"||typeof H.code=="number")yi.CodeDescription.is(H.codeDescription)?Ue.code={value:H.code,target:o(H.codeDescription.href)}:Ue.code=H.code;else if(gje.DiagnosticCode.is(H.code)){Ue.hasDiagnosticCode=!0;let vt=H.code;Ue.code={value:vt.value,target:o(vt.target)}}}return H.source&&(Ue.source=H.source),H.relatedInformation&&(Ue.relatedInformation=l(H.relatedInformation)),Array.isArray(H.tags)&&(Ue.tags=d(H.tags)),Ue}function l(H){let Ue=new Array(H.length);for(let vt=0;vt<H.length;vt++){let Fr=H[vt];Ue[vt]=new Br.DiagnosticRelatedInformation(ze(Fr.location),Fr.message)}return Ue}function d(H){if(!H)return;let Ue=[];for(let vt of H){let Fr=f(vt);Fr!==void 0&&Ue.push(Fr)}return Ue.length>0?Ue:void 0}function f(H){switch(H){case yi.DiagnosticTag.Unnecessary:return Br.DiagnosticTag.Unnecessary;case yi.DiagnosticTag.Deprecated:return Br.DiagnosticTag.Deprecated;default:return}}function p(H){return H?new Br.Position(H.line,H.character):void 0}function _(H){return H?new Br.Range(H.start.line,H.start.character,H.end.line,H.end.character):void 0}async function D(H,Ue){return Cs.map(H,vt=>new Br.Range(vt.start.line,vt.start.character,vt.end.line,vt.end.character),Ue)}function P(H){if(H==null)return Br.DiagnosticSeverity.Error;switch(H){case yi.DiagnosticSeverity.Error:return Br.DiagnosticSeverity.Error;case yi.DiagnosticSeverity.Warning:return Br.DiagnosticSeverity.Warning;case yi.DiagnosticSeverity.Information:return Br.DiagnosticSeverity.Information;case yi.DiagnosticSeverity.Hint:return Br.DiagnosticSeverity.Hint}return Br.DiagnosticSeverity.Error}function M(H){if(ty.string(H))return U(H);if(I3.is(H))return U().appendCodeblock(H.value,H.language);if(Array.isArray(H)){let Ue=[];for(let vt of H){let Fr=U();I3.is(vt)?Fr.appendCodeblock(vt.value,vt.language):Fr.appendMarkdown(vt),Ue.push(Fr)}return Ue}else return U(H)}function A(H){if(ty.string(H))return H;switch(H.kind){case yi.MarkupKind.Markdown:return U(H.value);case yi.MarkupKind.PlainText:return H.value;default:return`Unsupported Markup content received. Kind is: ${H.kind}`}}function U(H){let Ue;if(H===void 0||typeof H=="string")Ue=new Br.MarkdownString(H);else switch(H.kind){case yi.MarkupKind.Markdown:Ue=new Br.MarkdownString(H.value);break;case yi.MarkupKind.PlainText:Ue=new Br.MarkdownString,Ue.appendText(H.value);break;default:Ue=new Br.MarkdownString,Ue.appendText(`Unsupported Markup content received. Kind is: ${H.kind}`);break}return Ue.isTrusted=e,Ue.supportHtml=t,Ue}function ne(H){if(H)return new Br.Hover(M(H.contents),_(H.range))}async function pe(H,Ue,vt){if(!H)return;if(Array.isArray(H))return Cs.map(H,Le=>De(Le,Ue),vt);let Fr=H,{defaultRange:ao,commitCharacters:$i}=ve(Fr,Ue),N=await Cs.map(Fr.items,Le=>De(Le,$i,ao,Fr.itemDefaults?.insertTextMode,Fr.itemDefaults?.insertTextFormat,Fr.itemDefaults?.data),vt);return new Br.CompletionList(N,Fr.isIncomplete)}function ve(H,Ue){let vt=H.itemDefaults?.editRange,Fr=H.itemDefaults?.commitCharacters??Ue;return yi.Range.is(vt)?{defaultRange:_(vt),commitCharacters:Fr}:vt!==void 0?{defaultRange:{inserting:_(vt.insert),replacing:_(vt.replace)},commitCharacters:Fr}:{defaultRange:void 0,commitCharacters:Fr}}function V(H){return yi.CompletionItemKind.Text<=H&&H<=yi.CompletionItemKind.TypeParameter?[H-1,void 0]:[Br.CompletionItemKind.Text,H]}function W(H){switch(H){case yi.CompletionItemTag.Deprecated:return Br.CompletionItemTag.Deprecated}}function ee(H){if(H==null)return[];let Ue=[];for(let vt of H){let Fr=W(vt);Fr!==void 0&&Ue.push(Fr)}return Ue}function De(H,Ue,vt,Fr,ao,$i){let N=ee(H.tags),Le=ae(H),rt=new B1t.default(Le);H.detail&&(rt.detail=H.detail),H.documentation&&(rt.documentation=A(H.documentation),rt.documentationFormat=ty.string(H.documentation)?"$string":H.documentation.kind),H.filterText&&(rt.filterText=H.filterText);let zt=ue(H,vt,ao);if(zt&&(rt.insertText=zt.text,rt.range=zt.range,rt.fromEdit=zt.fromEdit),ty.number(H.kind)){let[co,Ui]=V(H.kind);rt.kind=co,Ui&&(rt.originalItemKind=Ui)}H.sortText&&(rt.sortText=H.sortText),H.additionalTextEdits&&(rt.additionalTextEdits=Ce(H.additionalTextEdits));let Ln=H.commitCharacters!==void 0?ty.stringArray(H.commitCharacters)?H.commitCharacters:void 0:Ue;Ln&&(rt.commitCharacters=Ln.slice()),H.command&&(rt.command=dn(H.command)),(H.deprecated===!0||H.deprecated===!1)&&(rt.deprecated=H.deprecated,H.deprecated===!0&&N.push(Br.CompletionItemTag.Deprecated)),(H.preselect===!0||H.preselect===!1)&&(rt.preselect=H.preselect);let Cn=H.data??$i;Cn!==void 0&&(rt.data=Cn),N.length>0&&(rt.tags=N);let Nn=H.insertTextMode??Fr;return Nn!==void 0&&(rt.insertTextMode=Nn,Nn===yi.InsertTextMode.asIs&&(rt.keepWhitespace=!0)),rt}function ae(H){return yi.CompletionItemLabelDetails.is(H.labelDetails)?{label:H.label,detail:H.labelDetails.detail,description:H.labelDetails.description}:H.label}function ue(H,Ue,vt){let Fr=H.insertTextFormat??vt;if(H.textEdit!==void 0||Ue!==void 0){let[ao,$i]=H.textEdit!==void 0?Fe(H.textEdit):[Ue,H.textEditText??H.label];return Fr===yi.InsertTextFormat.Snippet?{text:new Br.SnippetString($i),range:ao,fromEdit:!0}:{text:$i,range:ao,fromEdit:!0}}else return H.insertText?Fr===yi.InsertTextFormat.Snippet?{text:new Br.SnippetString(H.insertText),fromEdit:!1}:{text:H.insertText,fromEdit:!1}:void 0}function Fe(H){return yi.InsertReplaceEdit.is(H)?[{inserting:_(H.insert),replacing:_(H.replace)},H.newText]:[_(H.range),H.newText]}function Me(H){if(H)return new Br.TextEdit(_(H.range),H.newText)}async function ce(H,Ue){if(H)return Cs.map(H,Me,Ue)}function Ce(H){if(!H)return;let Ue=new Array(H.length);for(let vt=0;vt<H.length;vt++)Ue[vt]=Me(H[vt]);return Ue}async function be(H,Ue){if(!H)return;let vt=new Br.SignatureHelp;return ty.number(H.activeSignature)?vt.activeSignature=H.activeSignature:vt.activeSignature=0,ty.number(H.activeParameter)?vt.activeParameter=H.activeParameter:vt.activeParameter=0,H.signatures&&(vt.signatures=await xe(H.signatures,Ue)),vt}async function xe(H,Ue){return Cs.mapAsync(H,Ne,Ue)}async function Ne(H,Ue){let vt=new Br.SignatureInformation(H.label);return H.documentation!==void 0&&(vt.documentation=A(H.documentation)),H.parameters!==void 0&&(vt.parameters=await $e(H.parameters,Ue)),H.activeParameter!==void 0&&(vt.activeParameter=H.activeParameter),vt}function $e(H,Ue){return Cs.map(H,Ct,Ue)}function Ct(H){let Ue=new Br.ParameterInformation(H.label);return H.documentation&&(Ue.documentation=A(H.documentation)),Ue}function ze(H){return H?new Br.Location(i(H.uri),_(H.range)):void 0}async function st(H,Ue){if(H)return fr(H,Ue)}async function at(H,Ue){if(H)return fr(H,Ue)}function tt(H){if(!H)return;let Ue={targetUri:i(H.targetUri),targetRange:_(H.targetRange),originSelectionRange:_(H.originSelectionRange),targetSelectionRange:_(H.targetSelectionRange)};if(!Ue.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return Ue}async function fr(H,Ue){if(H)if(ty.array(H)){if(H.length===0)return[];if(yi.LocationLink.is(H[0])){let vt=H;return Cs.map(vt,tt,Ue)}else{let vt=H;return Cs.map(vt,ze,Ue)}}else return yi.LocationLink.is(H)?[tt(H)]:ze(H)}async function Lr(H,Ue){if(H)return Cs.map(H,ze,Ue)}async function zr(H,Ue){if(H)return Cs.map(H,cr,Ue)}function cr(H){let Ue=new Br.DocumentHighlight(_(H.range));return ty.number(H.kind)&&(Ue.kind=xt(H.kind)),Ue}function xt(H){switch(H){case yi.DocumentHighlightKind.Text:return Br.DocumentHighlightKind.Text;case yi.DocumentHighlightKind.Read:return Br.DocumentHighlightKind.Read;case yi.DocumentHighlightKind.Write:return Br.DocumentHighlightKind.Write}return Br.DocumentHighlightKind.Text}async function hr(H,Ue){if(H)return Cs.map(H,On,Ue)}function Mt(H){return H<=yi.SymbolKind.TypeParameter?H-1:Br.SymbolKind.Property}function nn(H){switch(H){case yi.SymbolTag.Deprecated:return Br.SymbolTag.Deprecated;default:return}}function ln(H){if(H==null)return;let Ue=[];for(let vt of H){let Fr=nn(vt);Fr!==void 0&&Ue.push(Fr)}return Ue.length===0?void 0:Ue}function On(H){let Ue=H.data,vt=H.location,Fr=vt.range===void 0||Ue!==void 0?new Y1t.default(H.name,Mt(H.kind),H.containerName??"",vt.range===void 0?i(vt.uri):new Br.Location(i(H.location.uri),_(vt.range)),Ue):new Br.SymbolInformation(H.name,Mt(H.kind),H.containerName??"",new Br.Location(i(H.location.uri),_(vt.range)));return $r(Fr,H),Fr}async function Or(H,Ue){if(H!=null)return Cs.map(H,Hn,Ue)}function Hn(H){let Ue=new Br.DocumentSymbol(H.name,H.detail||"",Mt(H.kind),_(H.range),_(H.selectionRange));if($r(Ue,H),H.children!==void 0&&H.children.length>0){let vt=[];for(let Fr of H.children)vt.push(Hn(Fr));Ue.children=vt}return Ue}function $r(H,Ue){H.tags=ln(Ue.tags),Ue.deprecated&&(H.tags?H.tags.includes(Br.SymbolTag.Deprecated)||(H.tags=H.tags.concat(Br.SymbolTag.Deprecated)):H.tags=[Br.SymbolTag.Deprecated])}function dn(H){let Ue={title:H.title,command:H.command};return H.arguments&&(Ue.arguments=H.arguments),Ue}async function ii(H,Ue){if(H)return Cs.map(H,dn,Ue)}let Vr=new Map;Vr.set(yi.CodeActionKind.Empty,Br.CodeActionKind.Empty),Vr.set(yi.CodeActionKind.QuickFix,Br.CodeActionKind.QuickFix),Vr.set(yi.CodeActionKind.Refactor,Br.CodeActionKind.Refactor),Vr.set(yi.CodeActionKind.RefactorExtract,Br.CodeActionKind.RefactorExtract),Vr.set(yi.CodeActionKind.RefactorInline,Br.CodeActionKind.RefactorInline),Vr.set(yi.CodeActionKind.RefactorRewrite,Br.CodeActionKind.RefactorRewrite),Vr.set(yi.CodeActionKind.Source,Br.CodeActionKind.Source),Vr.set(yi.CodeActionKind.SourceOrganizeImports,Br.CodeActionKind.SourceOrganizeImports);function An(H){if(H==null)return;let Ue=Vr.get(H);if(Ue)return Ue;let vt=H.split(".");Ue=Br.CodeActionKind.Empty;for(let Fr of vt)Ue=Ue.append(Fr);return Ue}function xi(H){if(H!=null)return H.map(Ue=>An(Ue))}async function Gr(H,Ue){if(H==null)return;let vt=new V1t.default(H.title,H.data);return H.kind!==void 0&&(vt.kind=An(H.kind)),H.diagnostics!==void 0&&(vt.diagnostics=c(H.diagnostics)),H.edit!==void 0&&(vt.edit=await Oe(H.edit,Ue)),H.command!==void 0&&(vt.command=dn(H.command)),H.isPreferred!==void 0&&(vt.isPreferred=H.isPreferred),H.disabled!==void 0&&(vt.disabled={reason:H.disabled.reason}),vt}function Qi(H,Ue){return Cs.mapAsync(H,async vt=>yi.Command.is(vt)?dn(vt):Gr(vt,Ue),Ue)}function oi(H){if(!H)return;let Ue=new W1t.default(_(H.range));return H.command&&(Ue.command=dn(H.command)),H.data!==void 0&&H.data!==null&&(Ue.data=H.data),Ue}async function fn(H,Ue){if(H)return Cs.map(H,oi,Ue)}async function Oe(H,Ue){if(!H)return;let vt=new Map;if(H.changeAnnotations!==void 0){let $i=H.changeAnnotations;await Cs.forEach(Object.keys($i),N=>{let Le=oe($i[N]);vt.set(N,Le)},Ue)}let Fr=$i=>{if($i!==void 0)return vt.get($i)},ao=new Br.WorkspaceEdit;if(H.documentChanges){let $i=H.documentChanges;await Cs.forEach($i,N=>{if(yi.CreateFile.is(N))ao.createFile(i(N.uri),N.options,Fr(N.annotationId));else if(yi.RenameFile.is(N))ao.renameFile(i(N.oldUri),i(N.newUri),N.options,Fr(N.annotationId));else if(yi.DeleteFile.is(N))ao.deleteFile(i(N.uri),N.options,Fr(N.annotationId));else if(yi.TextDocumentEdit.is(N)){let Le=i(N.textDocument.uri);for(let rt of N.edits)yi.AnnotatedTextEdit.is(rt)?ao.replace(Le,_(rt.range),rt.newText,Fr(rt.annotationId)):ao.replace(Le,_(rt.range),rt.newText)}else throw new Error(`Unknown workspace edit change received:
${JSON.stringify(N,void 0,4)}`)},Ue)}else if(H.changes){let $i=H.changes;await Cs.forEach(Object.keys($i),N=>{ao.set(i(N),Ce($i[N]))},Ue)}return ao}function oe(H){if(H!==void 0)return{label:H.label,needsConfirmation:!!H.needsConfirmation,description:H.description}}function Q(H){let Ue=_(H.range),vt=H.target?o(H.target):void 0,Fr=new $1t.default(Ue,vt);return H.tooltip!==void 0&&(Fr.tooltip=H.tooltip),H.data!==void 0&&H.data!==null&&(Fr.data=H.data),Fr}async function we(H,Ue){if(H)return Cs.map(H,Q,Ue)}function Je(H){return new Br.Color(H.red,H.green,H.blue,H.alpha)}function ft(H){return new Br.ColorInformation(_(H.range),Je(H.color))}async function Yt(H,Ue){if(H)return Cs.map(H,ft,Ue)}function rr(H){let Ue=new Br.ColorPresentation(H.label);return Ue.additionalTextEdits=Ce(H.additionalTextEdits),H.textEdit&&(Ue.textEdit=Me(H.textEdit)),Ue}async function Jt(H,Ue){if(H)return Cs.map(H,rr,Ue)}function $t(H){if(H)switch(H){case yi.FoldingRangeKind.Comment:return Br.FoldingRangeKind.Comment;case yi.FoldingRangeKind.Imports:return Br.FoldingRangeKind.Imports;case yi.FoldingRangeKind.Region:return Br.FoldingRangeKind.Region}}function kt(H){return new Br.FoldingRange(H.startLine,H.endLine,$t(H.kind))}async function K(H,Ue){if(H)return Cs.map(H,kt,Ue)}function qe(H){return new Br.SelectionRange(_(H.range),H.parent?qe(H.parent):void 0)}async function Ht(H,Ue){return Array.isArray(H)?Cs.map(H,qe,Ue):[]}function Dr(H){return yi.InlineValueText.is(H)?new Br.InlineValueText(_(H.range),H.text):yi.InlineValueVariableLookup.is(H)?new Br.InlineValueVariableLookup(_(H.range),H.variableName,H.caseSensitiveLookup):new Br.InlineValueEvaluatableExpression(_(H.range),H.expression)}async function He(H,Ue){return Array.isArray(H)?Cs.map(H,Dr,Ue):[]}async function re(H,Ue){let vt=typeof H.label=="string"?H.label:await Cs.map(H.label,Pe,Ue),Fr=new J1t.default(p(H.position),vt);return H.kind!==void 0&&(Fr.kind=H.kind),H.textEdits!==void 0&&(Fr.textEdits=await ce(H.textEdits,Ue)),H.tooltip!==void 0&&(Fr.tooltip=je(H.tooltip)),H.paddingLeft!==void 0&&(Fr.paddingLeft=H.paddingLeft),H.paddingRight!==void 0&&(Fr.paddingRight=H.paddingRight),H.data!==void 0&&(Fr.data=H.data),Fr}function Pe(H){let Ue=new Br.InlayHintLabelPart(H.value);return H.location!==void 0&&(Ue.location=ze(H.location)),H.tooltip!==void 0&&(Ue.tooltip=je(H.tooltip)),H.command!==void 0&&(Ue.command=dn(H.command)),Ue}function je(H){return typeof H=="string"?H:U(H)}async function fe(H,Ue){if(Array.isArray(H))return Cs.mapAsync(H,re,Ue)}function S(H){if(H===null)return;let Ue=new G1t.default(Mt(H.kind),H.name,H.detail||"",o(H.uri),_(H.range),_(H.selectionRange),H.data);return H.tags!==void 0&&(Ue.tags=ln(H.tags)),Ue}async function de(H,Ue){if(H!==null)return Cs.map(H,S,Ue)}async function Ye(H,Ue){return new Br.CallHierarchyIncomingCall(S(H.from),await D(H.fromRanges,Ue))}async function Tr(H,Ue){if(H!==null)return Cs.mapAsync(H,Ye,Ue)}async function Wr(H,Ue){return new Br.CallHierarchyOutgoingCall(S(H.to),await D(H.fromRanges,Ue))}async function Xr(H,Ue){if(H!==null)return Cs.mapAsync(H,Wr,Ue)}async function qn(H,Ue){if(H!=null)return new Br.SemanticTokens(new Uint32Array(H.data),H.resultId)}function Oi(H){return new Br.SemanticTokensEdit(H.start,H.deleteCount,H.data!==void 0?new Uint32Array(H.data):void 0)}async function Ms(H,Ue){if(H!=null)return new Br.SemanticTokensEdits(H.edits.map(Oi),H.resultId)}function Sn(H){return H}async function rs(H,Ue){if(H!=null)return new Br.LinkedEditingRanges(await D(H.ranges,Ue),Vs(H.wordPattern))}function Vs(H){if(H!=null)return new RegExp(H)}function oa(H){if(H===null)return;let Ue=new K1t.default(Mt(H.kind),H.name,H.detail||"",o(H.uri),_(H.range),_(H.selectionRange),H.data);return H.tags!==void 0&&(Ue.tags=ln(H.tags)),Ue}async function jo(H,Ue){if(H!==null)return Cs.map(H,oa,Ue)}function Ro(H){if(ty.string(H))return H;if(yi.RelativePattern.is(H)){if(yi.URI.is(H.baseUri))return new Br.RelativePattern(o(H.baseUri),H.pattern);if(yi.WorkspaceFolder.is(H.baseUri)){let Ue=Br.workspace.getWorkspaceFolder(o(H.baseUri.uri));return Ue!==void 0?new Br.RelativePattern(Ue,H.pattern):void 0}}}return{asUri:o,asDocumentSelector:s,asDiagnostics:a,asDiagnostic:u,asRange:_,asRanges:D,asPosition:p,asDiagnosticSeverity:P,asDiagnosticTag:f,asHover:ne,asCompletionResult:pe,asCompletionItem:De,asTextEdit:Me,asTextEdits:ce,asSignatureHelp:be,asSignatureInformations:xe,asSignatureInformation:Ne,asParameterInformations:$e,asParameterInformation:Ct,asDeclarationResult:st,asDefinitionResult:at,asLocation:ze,asReferences:Lr,asDocumentHighlights:zr,asDocumentHighlight:cr,asDocumentHighlightKind:xt,asSymbolKind:Mt,asSymbolTag:nn,asSymbolTags:ln,asSymbolInformations:hr,asSymbolInformation:On,asDocumentSymbols:Or,asDocumentSymbol:Hn,asCommand:dn,asCommands:ii,asCodeAction:Gr,asCodeActionKind:An,asCodeActionKinds:xi,asCodeActionResult:Qi,asCodeLens:oi,asCodeLenses:fn,asWorkspaceEdit:Oe,asDocumentLink:Q,asDocumentLinks:we,asFoldingRangeKind:$t,asFoldingRange:kt,asFoldingRanges:K,asColor:Je,asColorInformation:ft,asColorInformations:Yt,asColorPresentation:rr,asColorPresentations:Jt,asSelectionRange:qe,asSelectionRanges:Ht,asInlineValue:Dr,asInlineValues:He,asInlayHint:re,asInlayHints:fe,asSemanticTokensLegend:Sn,asSemanticTokens:qn,asSemanticTokensEdit:Oi,asSemanticTokensEdits:Ms,asCallHierarchyItem:S,asCallHierarchyItems:de,asCallHierarchyIncomingCall:Ye,asCallHierarchyIncomingCalls:Tr,asCallHierarchyOutgoingCall:Wr,asCallHierarchyOutgoingCalls:Xr,asLinkedEditingRanges:rs,asTypeHierarchyItem:oa,asTypeHierarchyItems:jo,asGlobPattern:Ro}}k3.createConverter=X1t});var eu=C(ry=>{"use strict";Object.defineProperty(ry,"__esModule",{value:!0});ry.generateUuid=ry.parse=ry.isUUID=ry.v4=ry.empty=void 0;var yF=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},_F=class r extends yF{constructor(){super([r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),"-",r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),"-","4",r._randomHex(),r._randomHex(),r._randomHex(),"-",r._oneOf(r._timeHighBits),r._randomHex(),r._randomHex(),r._randomHex(),"-",r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return r._oneOf(r._chars)}};_F._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];_F._timeHighBits=["8","9","a","b"];ry.empty=new yF("00000000-0000-0000-0000-000000000000");function _je(){return new _F}ry.v4=_je;var Q1t=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function bje(r){return Q1t.test(r)}ry.isUUID=bje;function Z1t(r){if(!bje(r))throw new Error("invalid uuid");return new yF(r)}ry.parse=Z1t;function eAt(){return _je().asHex()}ry.generateUuid=eAt});var Eae=C(A3=>{"use strict";Object.defineProperty(A3,"__esModule",{value:!0});A3.ProgressPart=void 0;var wje=require("vscode"),Sje=zi(),Cje=Zv(),Dae=class{constructor(e,t,n){this._client=e,this._token=t,this._reported=0,this._infinite=!1,this._lspProgressDisposable=this._client.onProgress(Sje.WorkDoneProgress.type,this._token,i=>{switch(i.kind){case"begin":this.begin(i);break;case"report":this.report(i);break;case"end":this.done(),n&&n(this);break}})}begin(e){this._infinite=e.percentage===void 0,this._lspProgressDisposable!==void 0&&wje.window.withProgress({location:wje.ProgressLocation.Window,cancellable:e.cancellable,title:e.title},async(t,n)=>{if(this._lspProgressDisposable!==void 0)return this._progress=t,this._cancellationToken=n,this._tokenDisposable=this._cancellationToken.onCancellationRequested(()=>{this._client.sendNotification(Sje.WorkDoneProgressCancelNotification.type,{token:this._token})}),this.report(e),new Promise((i,o)=>{this._resolve=i,this._reject=o})})}report(e){if(this._infinite&&Cje.string(e.message))this._progress!==void 0&&this._progress.report({message:e.message});else if(Cje.number(e.percentage)){let t=Math.max(0,Math.min(e.percentage,100)),n=Math.max(0,t-this._reported);this._reported+=n,this._progress!==void 0&&this._progress.report({message:e.message,increment:n})}}cancel(){this.cleanup(),this._reject!==void 0&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this.cleanup(),this._resolve!==void 0&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}cleanup(){this._lspProgressDisposable!==void 0&&(this._lspProgressDisposable.dispose(),this._lspProgressDisposable=void 0),this._tokenDisposable!==void 0&&(this._tokenDisposable.dispose(),this._tokenDisposable=void 0),this._progress=void 0,this._cancellationToken=void 0}};A3.ProgressPart=Dae});var ts=C(ml=>{"use strict";Object.defineProperty(ml,"__esModule",{value:!0});ml.WorkspaceFeature=ml.TextDocumentLanguageFeature=ml.TextDocumentEventFeature=ml.DynamicDocumentFeature=ml.DynamicFeature=ml.StaticFeature=ml.ensure=ml.LSPCancellationError=void 0;var jE=require("vscode"),Rae=zi(),Cp=Zv(),Tje=eu(),Pae=class extends jE.CancellationError{constructor(e){super(),this.data=e}};ml.LSPCancellationError=Pae;function tAt(r,e){return r[e]===void 0&&(r[e]={}),r[e]}ml.ensure=tAt;var rAt;(function(r){function e(t){let n=t;return n!=null&&Cp.func(n.fillClientCapabilities)&&Cp.func(n.initialize)&&Cp.func(n.getState)&&Cp.func(n.dispose)&&(n.fillInitializeParams===void 0||Cp.func(n.fillInitializeParams))}r.is=e})(rAt=ml.StaticFeature||(ml.StaticFeature={}));var nAt;(function(r){function e(t){let n=t;return n!=null&&Cp.func(n.fillClientCapabilities)&&Cp.func(n.initialize)&&Cp.func(n.getState)&&Cp.func(n.dispose)&&(n.fillInitializeParams===void 0||Cp.func(n.fillInitializeParams))&&Cp.func(n.register)&&Cp.func(n.unregister)&&n.registrationType!==void 0}r.is=e})(nAt=ml.DynamicFeature||(ml.DynamicFeature={}));var bF=class{constructor(e){this._client=e}getState(){let e=this.getDocumentSelectors(),t=0;for(let i of e){t++;for(let o of jE.workspace.textDocuments)if(jE.languages.match(i,o)>0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}let n=t>0;return{kind:"document",id:this.registrationType.method,registrations:n,matches:!1}}};ml.DynamicDocumentFeature=bF;var xae=class extends bF{constructor(e,t,n,i,o,s,a){super(e),this._event=t,this._type=n,this._middleware=i,this._createParams=o,this._textDocument=s,this._selectorFilter=a,this._selectors=new Map,this._onNotificationSent=new jE.EventEmitter}static textDocumentFilter(e,t){for(let n of e)if(jE.languages.match(n,t)>0)return!0;return!1}getStateInfo(){return[this._selectors.values(),!1]}getDocumentSelectors(){return this._selectors.values()}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=this._event(t=>{this.callback(t).catch(n=>{this._client.error(`Sending document notification ${this._type.method} failed.`,n)})})),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}async callback(e){let t=async n=>{let i=this._createParams(n);await this._client.sendNotification(this._type,i).catch(),this.notificationSent(n,this._type,i)};if(this.matches(e)){let n=this._middleware();return n?n(e,i=>t(i)):t(e)}}matches(e){return this._client.hasDedicatedTextSynchronizationFeature(this._textDocument(e))?!1:!this._selectorFilter||this._selectorFilter(this._selectors.values(),e)}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(e,t,n){this._onNotificationSent.fire({original:e,type:t,params:n})}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._onNotificationSent.dispose(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(e){for(let t of this._selectors.values())if(jE.languages.match(t,e)>0)return{send:n=>this.callback(n)}}};ml.TextDocumentEventFeature=xae;var Oae=class extends bF{constructor(e,t){super(e),this._registrationType=t,this._registrations=new Map}*getDocumentSelectors(){for(let e of this._registrations.values()){let t=e.data.registerOptions.documentSelector;t!==null&&(yield this._client.protocol2CodeConverter.asDocumentSelector(t))}}get registrationType(){return this._registrationType}register(e){if(!e.registerOptions.documentSelector)return;let t=this.registerLanguageProvider(e.registerOptions,e.id);this._registrations.set(e.id,{disposable:t[0],data:e,provider:t[1]})}unregister(e){let t=this._registrations.get(e);t!==void 0&&t.disposable.dispose()}dispose(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getRegistration(e,t){if(t){if(Rae.TextDocumentRegistrationOptions.is(t)){let n=Rae.StaticRegistrationOptions.hasId(t)?t.id:Tje.generateUuid(),i=t.documentSelector||e;if(i)return[n,Object.assign({},t,{documentSelector:i})]}else if(Cp.boolean(t)&&t===!0||Rae.WorkDoneProgressOptions.is(t)){if(!e)return[void 0,void 0];let n=Cp.boolean(t)&&t===!0?{documentSelector:e}:Object.assign({},t,{documentSelector:e});return[Tje.generateUuid(),n]}}else return[void 0,void 0];return[void 0,void 0]}getRegistrationOptions(e,t){if(!(!e||!t))return Cp.boolean(t)&&t===!0?{documentSelector:e}:Object.assign({},t,{documentSelector:e})}getProvider(e){for(let t of this._registrations.values()){let n=t.data.registerOptions.documentSelector;if(n!==null&&jE.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(n),e)>0)return t.provider}}getAllProviders(){let e=[];for(let t of this._registrations.values())e.push(t.provider);return e}};ml.TextDocumentLanguageFeature=Oae;var Iae=class{constructor(e,t){this._client=e,this._registrationType=t,this._registrations=new Map}getState(){let e=this._registrations.size>0;return{kind:"workspace",id:this._registrationType.method,registrations:e}}get registrationType(){return this._registrationType}register(e){let t=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:t[0],provider:t[1]})}unregister(e){let t=this._registrations.get(e);t!==void 0&&t.disposable.dispose()}dispose(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getProviders(){let e=[];for(let t of this._registrations.values())e.push(t.provider);return e}};ml.WorkspaceFeature=Iae});var zae=C(nw=>{"use strict";Object.defineProperty(nw,"__esModule",{value:!0});nw.DiagnosticFeature=nw.DiagnosticPullMode=nw.vsdiag=void 0;var iAt=nE(),vo=require("vscode"),vu=zi(),oAt=eu(),kae=ts();function L3(r,e){return r[e]===void 0&&(r[e]={}),r[e]}var b_;(function(r){let e;(function(t){t.full="full",t.unChanged="unChanged"})(e=r.DocumentDiagnosticReportKind||(r.DocumentDiagnosticReportKind={}))})(b_=nw.vsdiag||(nw.vsdiag={}));var Aae;(function(r){r.onType="onType",r.onSave="onSave"})(Aae=nw.DiagnosticPullMode||(nw.DiagnosticPullMode={}));var Sh;(function(r){r.active="open",r.reschedule="reschedule",r.outDated="drop"})(Sh||(Sh={}));var Lae=class r{constructor(){this.open=new Set,this._onOpen=new vo.EventEmitter,this._onClose=new vo.EventEmitter,r.fillTabResources(this.open);let e=t=>{if(t.closed.length===0&&t.opened.length===0)return;let n=this.open,i=new Set;r.fillTabResources(i);let o=new Set,s=new Set(i);for(let a of n.values())i.has(a)?s.delete(a):o.add(a);if(this.open=i,o.size>0){let a=new Set;for(let c of o)a.add(vo.Uri.parse(c));this._onClose.fire(a)}if(s.size>0){let a=new Set;for(let c of s)a.add(vo.Uri.parse(c));this._onOpen.fire(a)}};vo.window.tabGroups.onDidChangeTabs!==void 0?this.disposable=vo.window.tabGroups.onDidChangeTabs(e):this.disposable={dispose:()=>{}}}get onClose(){return this._onClose.event}get onOpen(){return this._onOpen.event}dispose(){this.disposable.dispose()}isActive(e){return e instanceof vo.Uri?vo.window.activeTextEditor?.document.uri===e:vo.window.activeTextEditor?.document===e}isVisible(e){let t=e instanceof vo.Uri?e:e.uri;return this.open.has(t.toString())}getTabResources(){let e=new Set;return r.fillTabResources(new Set,e),e}static fillTabResources(e,t){let n=e??new Set;for(let i of vo.window.tabGroups.all)for(let o of i.tabs){let s=o.input,a;s instanceof vo.TabInputText?a=s.uri:s instanceof vo.TabInputTextDiff&&(a=s.modified),a!==void 0&&!n.has(a.toString())&&(n.add(a.toString()),t!==void 0&&t.add(a))}}},xd;(function(r){r[r.document=1]="document",r[r.workspace=2]="workspace"})(xd||(xd={}));var Mae=class{constructor(){this.documentPullStates=new Map,this.workspacePullStates=new Map}track(e,t,n){let i=e===xd.document?this.documentPullStates:this.workspacePullStates,[o,s,a]=t instanceof vo.Uri?[t.toString(),t,n]:[t.uri.toString(),t.uri,t.version],c=i.get(o);return c===void 0&&(c={document:s,pulledVersion:a,resultId:void 0},i.set(o,c)),c}update(e,t,n,i){let o=e===xd.document?this.documentPullStates:this.workspacePullStates,[s,a,c,u]=t instanceof vo.Uri?[t.toString(),t,n,i]:[t.uri.toString(),t.uri,t.version,n],l=o.get(s);l===void 0?(l={document:a,pulledVersion:c,resultId:u},o.set(s,l)):(l.pulledVersion=c,l.resultId=u)}unTrack(e,t){let n=t instanceof vo.Uri?t.toString():t.uri.toString();(e===xd.document?this.documentPullStates:this.workspacePullStates).delete(n)}tracks(e,t){let n=t instanceof vo.Uri?t.toString():t.uri.toString();return(e===xd.document?this.documentPullStates:this.workspacePullStates).has(n)}getResultId(e,t){let n=t instanceof vo.Uri?t.toString():t.uri.toString();return(e===xd.document?this.documentPullStates:this.workspacePullStates).get(n)?.resultId}getAllResultIds(){let e=[];for(let[t,n]of this.workspacePullStates)this.documentPullStates.has(t)&&(n=this.documentPullStates.get(t)),n.resultId!==void 0&&e.push({uri:t,value:n.resultId});return e}},Nae=class{constructor(e,t,n){this.client=e,this.tabs=t,this.options=n,this.isDisposed=!1,this.onDidChangeDiagnosticsEmitter=new vo.EventEmitter,this.provider=this.createProvider(),this.diagnostics=vo.languages.createDiagnosticCollection(n.identifier),this.openRequests=new Map,this.documentStates=new Mae,this.workspaceErrorCounter=0}knows(e,t){return this.documentStates.tracks(e,t)}forget(e,t){this.documentStates.unTrack(e,t)}pull(e,t){if(this.isDisposed)return;let n=e instanceof vo.Uri?e:e.uri;this.pullAsync(e).then(()=>{t&&t()},i=>{this.client.error(`Document pull failed for text document ${n.toString()}`,i,!1)})}async pullAsync(e,t){if(this.isDisposed)return;let n=e instanceof vo.Uri,i=n?e:e.uri,o=i.toString();t=n?t:e.version;let s=this.openRequests.get(o),a=n?this.documentStates.track(xd.document,e,t):this.documentStates.track(xd.document,e);if(s===void 0){let c=new vo.CancellationTokenSource;this.openRequests.set(o,{state:Sh.active,document:e,version:t,tokenSource:c});let u,l;try{u=await this.provider.provideDiagnostics(e,a.resultId,c.token)??{kind:b_.DocumentDiagnosticReportKind.full,items:[]}}catch(d){if(d instanceof kae.LSPCancellationError&&vu.DiagnosticServerCancellationData.is(d.data)&&d.data.retriggerRequest===!1&&(l={state:Sh.outDated,document:e}),l===void 0&&d instanceof vo.CancellationError)l={state:Sh.reschedule,document:e};else throw d}if(l=l??this.openRequests.get(o),l===void 0){this.client.error(`Lost request state in diagnostic pull model. Clearing diagnostics for ${o}`),this.diagnostics.delete(i);return}if(this.openRequests.delete(o),!this.tabs.isVisible(e)){this.documentStates.unTrack(xd.document,e);return}if(l.state===Sh.outDated)return;u!==void 0&&(u.kind===b_.DocumentDiagnosticReportKind.full&&this.diagnostics.set(i,u.items),a.pulledVersion=t,a.resultId=u.resultId),l.state===Sh.reschedule&&this.pull(e)}else s.state===Sh.active?(s.tokenSource.cancel(),this.openRequests.set(o,{state:Sh.reschedule,document:s.document})):s.state===Sh.outDated&&this.openRequests.set(o,{state:Sh.reschedule,document:s.document})}forgetDocument(e){let t=e instanceof vo.Uri?e:e.uri,n=t.toString(),i=this.openRequests.get(n);this.options.workspaceDiagnostics?i!==void 0?this.openRequests.set(n,{state:Sh.reschedule,document:e}):this.pull(e,()=>{this.forget(xd.document,e)}):(i!==void 0&&(i.state===Sh.active&&i.tokenSource.cancel(),this.openRequests.set(n,{state:Sh.outDated,document:e})),this.diagnostics.delete(t),this.forget(xd.document,e))}pullWorkspace(){this.isDisposed||this.pullWorkspaceAsync().then(()=>{this.workspaceTimeout=(0,vu.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3)},e=>{!(e instanceof kae.LSPCancellationError)&&!vu.DiagnosticServerCancellationData.is(e.data)&&(this.client.error("Workspace diagnostic pull failed.",e,!1),this.workspaceErrorCounter++),this.workspaceErrorCounter<=5&&(this.workspaceTimeout=(0,vu.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3))})}async pullWorkspaceAsync(){if(!this.provider.provideWorkspaceDiagnostics||this.isDisposed)return;this.workspaceCancellation!==void 0&&(this.workspaceCancellation.cancel(),this.workspaceCancellation=void 0),this.workspaceCancellation=new vo.CancellationTokenSource;let e=this.documentStates.getAllResultIds().map(t=>({uri:this.client.protocol2CodeConverter.asUri(t.uri),value:t.value}));await this.provider.provideWorkspaceDiagnostics(e,this.workspaceCancellation.token,t=>{if(!(!t||this.isDisposed))for(let n of t.items)n.kind===b_.DocumentDiagnosticReportKind.full&&(this.documentStates.tracks(xd.document,n.uri)||this.diagnostics.set(n.uri,n.items)),this.documentStates.update(xd.workspace,n.uri,n.version??void 0,n.resultId)})}createProvider(){let e={onDidChangeDiagnostics:this.onDidChangeDiagnosticsEmitter.event,provideDiagnostics:(t,n,i)=>{let o=(a,c,u)=>{let l={identifier:this.options.identifier,textDocument:{uri:this.client.code2ProtocolConverter.asUri(a instanceof vo.Uri?a:a.uri)},previousResultId:c};return this.isDisposed===!0||!this.client.isRunning()?{kind:b_.DocumentDiagnosticReportKind.full,items:[]}:this.client.sendRequest(vu.DocumentDiagnosticRequest.type,l,u).then(async d=>d==null||this.isDisposed||u.isCancellationRequested?{kind:b_.DocumentDiagnosticReportKind.full,items:[]}:d.kind===vu.DocumentDiagnosticReportKind.Full?{kind:b_.DocumentDiagnosticReportKind.full,resultId:d.resultId,items:await this.client.protocol2CodeConverter.asDiagnostics(d.items,u)}:{kind:b_.DocumentDiagnosticReportKind.unChanged,resultId:d.resultId},d=>this.client.handleFailedRequest(vu.DocumentDiagnosticRequest.type,u,d,{kind:b_.DocumentDiagnosticReportKind.full,items:[]}))},s=this.client.middleware;return s.provideDiagnostics?s.provideDiagnostics(t,n,i,o):o(t,n,i)}};return this.options.workspaceDiagnostics&&(e.provideWorkspaceDiagnostics=(t,n,i)=>{let o=async u=>u.kind===vu.DocumentDiagnosticReportKind.Full?{kind:b_.DocumentDiagnosticReportKind.full,uri:this.client.protocol2CodeConverter.asUri(u.uri),resultId:u.resultId,version:u.version,items:await this.client.protocol2CodeConverter.asDiagnostics(u.items,n)}:{kind:b_.DocumentDiagnosticReportKind.unChanged,uri:this.client.protocol2CodeConverter.asUri(u.uri),resultId:u.resultId,version:u.version},s=u=>{let l=[];for(let d of u)l.push({uri:this.client.code2ProtocolConverter.asUri(d.uri),value:d.value});return l},a=(u,l)=>{let d=(0,oAt.generateUuid)(),f=this.client.onProgress(vu.WorkspaceDiagnosticRequest.partialResult,d,async _=>{if(_==null){i(null);return}let D={items:[]};for(let P of _.items)try{D.items.push(await o(P))}catch(M){this.client.error("Converting workspace diagnostics failed.",M)}i(D)}),p={identifier:this.options.identifier,previousResultIds:s(u),partialResultToken:d};return this.isDisposed===!0||!this.client.isRunning()?{items:[]}:this.client.sendRequest(vu.WorkspaceDiagnosticRequest.type,p,l).then(async _=>{if(l.isCancellationRequested)return{items:[]};let D={items:[]};for(let P of _.items)D.items.push(await o(P));return f.dispose(),i(D),{items:[]}},_=>(f.dispose(),this.client.handleFailedRequest(vu.DocumentDiagnosticRequest.type,l,_,{items:[]})))},c=this.client.middleware;return c.provideWorkspaceDiagnostics?c.provideWorkspaceDiagnostics(t,n,i,a):a(t,n,i)}),e}dispose(){this.isDisposed=!0,this.workspaceCancellation?.cancel(),this.workspaceTimeout?.dispose();for(let[e,t]of this.openRequests)t.state===Sh.active&&t.tokenSource.cancel(),this.openRequests.set(e,{state:Sh.outDated,document:t.document});this.diagnostics.dispose()}},Fae=class{constructor(e){this.diagnosticRequestor=e,this.documents=new vu.LinkedMap,this.isDisposed=!1}add(e){if(this.isDisposed===!0)return;let t=e instanceof vo.Uri?e.toString():e.uri.toString();this.documents.has(t)||(this.documents.set(t,e,vu.Touch.Last),this.trigger())}remove(e){let t=e instanceof vo.Uri?e.toString():e.uri.toString();this.documents.has(t)&&(this.documents.delete(t),this.diagnosticRequestor.pull(e)),this.documents.size===0?this.stop():e===this.endDocument&&(this.endDocument=this.documents.last)}trigger(){if(this.isDisposed!==!0){if(this.intervalHandle!==void 0){this.endDocument=this.documents.last;return}this.endDocument=this.documents.last,this.intervalHandle=(0,vu.RAL)().timer.setInterval(()=>{let e=this.documents.first;if(e!==void 0){let t=e instanceof vo.Uri?e.toString():e.uri.toString();this.diagnosticRequestor.pull(e),this.documents.set(t,e,vu.Touch.Last),e===this.endDocument&&this.stop()}},200)}}dispose(){this.isDisposed=!0,this.stop(),this.documents.clear()}stop(){this.intervalHandle?.dispose(),this.intervalHandle=void 0,this.endDocument=void 0}},qae=class{constructor(e,t,n){let i=e.clientOptions.diagnosticPullOptions??{onChange:!0,onSave:!1},o=e.protocol2CodeConverter.asDocumentSelector(n.documentSelector),s=[],a=_=>{let D=n.documentSelector;if(i.match!==void 0)return i.match(D,_);for(let P of D)if(vu.TextDocumentFilter.is(P)){if(typeof P=="string"||P.language!==void 0&&P.language!=="*"||P.scheme!==void 0&&P.scheme!=="*"&&P.scheme!==_.scheme)return!1;if(P.pattern!==void 0){let M=new iAt.Minimatch(P.pattern,{noext:!0});if(!M.makeRe()||!M.match(_.fsPath))return!1}}return!0},c=_=>_ instanceof vo.Uri?a(_):vo.languages.match(o,_)>0&&t.isVisible(_),u=_=>_ instanceof vo.Uri?this.activeTextDocument?.uri.toString()===_.toString():this.activeTextDocument===_;this.diagnosticRequestor=new Nae(e,t,n),this.backgroundScheduler=new Fae(this.diagnosticRequestor);let l=_=>{!c(_)||!n.interFileDependencies||u(_)||this.backgroundScheduler.add(_)};this.activeTextDocument=vo.window.activeTextEditor?.document,vo.window.onDidChangeActiveTextEditor(_=>{let D=this.activeTextDocument;this.activeTextDocument=_?.document,D!==void 0&&l(D),this.activeTextDocument!==void 0&&this.backgroundScheduler.remove(this.activeTextDocument)});let d=e.getFeature(vu.DidOpenTextDocumentNotification.method);s.push(d.onNotificationSent(_=>{let D=_.original;c(D)&&this.diagnosticRequestor.pull(D,()=>{l(D)})}));let f=new Set;for(let _ of vo.workspace.textDocuments)c(_)&&(this.diagnosticRequestor.pull(_,()=>{l(_)}),f.add(_.uri.toString()));if(i.onTabs===!0)for(let _ of t.getTabResources())!f.has(_.toString())&&c(_)&&this.diagnosticRequestor.pull(_,()=>{l(_)});if(t.onOpen(_=>{for(let D of _)c(D)&&!this.diagnosticRequestor.knows(xd.document,D)&&this.diagnosticRequestor.pull(D,()=>{l(D)})}),i.onChange===!0){let _=e.getFeature(vu.DidChangeTextDocumentNotification.method);s.push(_.onNotificationSent(async D=>{let P=D.original.document;(i.filter===void 0||!i.filter(P,Aae.onType))&&this.diagnosticRequestor.knows(xd.document,P)&&D.original.contentChanges.length>0&&this.diagnosticRequestor.pull(P,()=>{this.backgroundScheduler.trigger()})}))}if(i.onSave===!0){let _=e.getFeature(vu.DidSaveTextDocumentNotification.method);s.push(_.onNotificationSent(D=>{let P=D.original;(i.filter===void 0||!i.filter(P,Aae.onSave))&&this.diagnosticRequestor.knows(xd.document,P)&&this.diagnosticRequestor.pull(D.original,()=>{this.backgroundScheduler.trigger()})}))}let p=e.getFeature(vu.DidCloseTextDocumentNotification.method);s.push(p.onNotificationSent(_=>{this.cleanUpDocument(_.original)})),t.onClose(_=>{for(let D of _)this.cleanUpDocument(D)}),this.diagnosticRequestor.onDidChangeDiagnosticsEmitter.event(()=>{for(let _ of vo.workspace.textDocuments)c(_)&&this.diagnosticRequestor.pull(_)}),n.workspaceDiagnostics===!0&&n.identifier!=="da348dc5-c30a-4515-9d98-31ff3be38d14"&&this.diagnosticRequestor.pullWorkspace(),this.disposable=vo.Disposable.from(...s,this.backgroundScheduler,this.diagnosticRequestor)}get onDidChangeDiagnosticsEmitter(){return this.diagnosticRequestor.onDidChangeDiagnosticsEmitter}get diagnostics(){return this.diagnosticRequestor.provider}cleanUpDocument(e){this.diagnosticRequestor.knows(xd.document,e)&&(this.diagnosticRequestor.forgetDocument(e),this.backgroundScheduler.remove(e))}},jae=class extends kae.TextDocumentLanguageFeature{constructor(e){super(e,vu.DocumentDiagnosticRequest.type)}fillClientCapabilities(e){let t=L3(L3(e,"textDocument"),"diagnostic");t.dynamicRegistration=!0,t.relatedDocumentSupport=!1,L3(L3(e,"workspace"),"diagnostics").refreshSupport=!0}initialize(e,t){this._client.onRequest(vu.DiagnosticRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeDiagnosticsEmitter.fire()});let[i,o]=this.getRegistration(t,e.diagnosticProvider);!i||!o||this.register({id:i,registerOptions:o})}dispose(){this.tabs!==void 0&&(this.tabs.dispose(),this.tabs=void 0),super.dispose()}registerLanguageProvider(e){this.tabs===void 0&&(this.tabs=new Lae);let t=new qae(this._client,this.tabs,e);return[t.disposable,t]}};nw.DiagnosticFeature=jae});var Rje=C(q3=>{"use strict";Object.defineProperty(q3,"__esModule",{value:!0});q3.NotebookDocumentSyncFeature=void 0;var Ch=require("vscode"),sAt=nE(),nC=zi(),aAt=eu(),Dje=Zv();function Eje(r,e){return r[e]===void 0&&(r[e]={}),r[e]}var jO;(function(r){let e;(function(t){function n(f,p){return{version:f.version,uri:p.asUri(f.uri)}}t.asVersionedNotebookDocumentIdentifier=n;function i(f,p,_){let D=nC.NotebookDocument.create(_.asUri(f.uri),f.notebookType,f.version,o(p,_));return Object.keys(f.metadata).length>0&&(D.metadata=s(f.metadata)),D}t.asNotebookDocument=i;function o(f,p){return f.map(_=>a(_,p))}t.asNotebookCells=o;function s(f){return u(new Set,f)}t.asMetadata=s;function a(f,p){let _=nC.NotebookCell.create(c(f.kind),p.asUri(f.document.uri));return Object.keys(f.metadata).length>0&&(_.metadata=s(f.metadata)),f.executionSummary!==void 0&&Dje.number(f.executionSummary.executionOrder)&&Dje.boolean(f.executionSummary.success)&&(_.executionSummary={executionOrder:f.executionSummary.executionOrder,success:f.executionSummary.success}),_}t.asNotebookCell=a;function c(f){switch(f){case Ch.NotebookCellKind.Markup:return nC.NotebookCellKind.Markup;case Ch.NotebookCellKind.Code:return nC.NotebookCellKind.Code}}function u(f,p){if(f.has(p))throw new Error("Can't deep copy cyclic structures.");if(Array.isArray(p)){let _=[];for(let D of p)if(D!==null&&typeof D=="object"||Array.isArray(D))_.push(u(f,D));else{if(D instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");_.push(D)}return _}else{let _=Object.keys(p),D=Object.create(null);for(let P of _){let M=p[P];if(M!==null&&typeof M=="object"||Array.isArray(M))D[P]=u(f,M);else{if(M instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");D[P]=M}}return D}}function l(f,p){let _=p.asChangeTextDocumentParams(f);return{document:_.textDocument,changes:_.contentChanges}}t.asTextContentChange=l;function d(f,p){let _=Object.create(null);if(f.metadata&&(_.metadata=r.c2p.asMetadata(f.metadata)),f.cells!==void 0){let D=Object.create(null),P=f.cells;P.structure&&(D.structure={array:{start:P.structure.array.start,deleteCount:P.structure.array.deleteCount,cells:P.structure.array.cells!==void 0?P.structure.array.cells.map(M=>r.c2p.asNotebookCell(M,p)):void 0},didOpen:P.structure.didOpen!==void 0?P.structure.didOpen.map(M=>p.asOpenTextDocumentParams(M.document).textDocument):void 0,didClose:P.structure.didClose!==void 0?P.structure.didClose.map(M=>p.asCloseTextDocumentParams(M.document).textDocument):void 0}),P.data!==void 0&&(D.data=P.data.map(M=>r.c2p.asNotebookCell(M,p))),P.textContent!==void 0&&(D.textContent=P.textContent.map(M=>r.c2p.asTextContentChange(M,p))),Object.keys(D).length>0&&(_.cells=D)}return _}t.asNotebookDocumentChangeEvent=d})(e=r.c2p||(r.c2p={}))})(jO||(jO={}));var Uae;(function(r){function e(a,c,u){let l=a.length,d=c.length,f=0;for(;f<d&&f<l&&t(a[f],c[f],u);)f++;if(f<d&&f<l){let p=l-1,_=d-1;for(;p>=0&&_>=0&&t(a[p],c[_],u);)p--,_--;let D=p+1-f,P=f===_+1?void 0:c.slice(f,_+1);return P!==void 0?{start:f,deleteCount:D,cells:P}:{start:f,deleteCount:D}}else return f<d?{start:f,deleteCount:0,cells:c.slice(f)}:f<l?{start:f,deleteCount:l-f}:void 0}r.computeDiff=e;function t(a,c,u=!0){return a.kind!==c.kind||a.document.uri.toString()!==c.document.uri.toString()||a.document.languageId!==c.document.languageId||!n(a.executionSummary,c.executionSummary)?!1:!u||u&&o(a.metadata,c.metadata)}function n(a,c){return a===c?!0:a===void 0||c===void 0?!1:a.executionOrder===c.executionOrder&&a.success===c.success&&i(a.timing,c.timing)}function i(a,c){return a===c?!0:a===void 0||c===void 0?!1:a.startTime===c.startTime&&a.endTime===c.endTime}function o(a,c){if(a===c)return!0;if(a==null||c===null||c===void 0||typeof a!=typeof c||typeof a!="object")return!1;let u=Array.isArray(a),l=Array.isArray(c);if(u!==l)return!1;if(u&&l){if(a.length!==c.length)return!1;for(let d=0;d<a.length;d++)if(!o(a[d],c[d]))return!1}if(s(a)&&s(c)){let d=Object.keys(a),f=Object.keys(c);if(d.length!==f.length||(d.sort(),f.sort(),!o(d,f)))return!1;for(let p=0;p<d.length;p++){let _=d[p];if(!o(a[_],c[_]))return!1}return!0}return!1}function s(a){return a!==null&&typeof a=="object"}r.isObjectLiteral=s})(Uae||(Uae={}));var Hae;(function(r){function e(t,n){if(typeof t=="string")return t==="*"||n.notebookType===t;if(t.notebookType!==void 0&&t.notebookType!=="*"&&n.notebookType!==t.notebookType)return!1;let i=n.uri;if(t.scheme!==void 0&&t.scheme!=="*"&&i.scheme!==t.scheme)return!1;if(t.pattern!==void 0){let o=new sAt.Minimatch(t.pattern,{noext:!0});if(!o.makeRe()||!o.match(i.fsPath))return!1}return!0}r.matchNotebook=e})(Hae||(Hae={}));var M3;(function(r){function e(n){let i=n.notebookSelector,o=[];for(let s of i){let a=(typeof s.notebook=="string"?s.notebook:s.notebook?.notebookType)??"*",c=typeof s.notebook=="string"?void 0:s.notebook?.scheme,u=typeof s.notebook=="string"?void 0:s.notebook?.pattern;if(s.cells!==void 0)for(let l of s.cells)o.push(t(a,c,u,l.language));else o.push(t(a,c,u,void 0))}return o}r.asDocumentSelector=e;function t(n,i,o,s){return i===void 0&&o===void 0?{notebook:n,language:s}:{notebook:{notebookType:n,scheme:i,pattern:o},language:s}}})(M3||(M3={}));var N3;(function(r){function e(t){return{cells:t,uris:new Set(t.map(n=>n.document.uri.toString()))}}r.create=e})(N3||(N3={}));var zO=class{constructor(e,t){this.client=e,this.options=t,this.notebookSyncInfo=new Map,this.notebookDidOpen=new Set,this.disposables=[],this.selector=e.protocol2CodeConverter.asDocumentSelector(M3.asDocumentSelector(t)),Ch.workspace.onDidOpenNotebookDocument(n=>{this.notebookDidOpen.add(n.uri.toString()),this.didOpen(n)},void 0,this.disposables);for(let n of Ch.workspace.notebookDocuments)this.notebookDidOpen.add(n.uri.toString()),this.didOpen(n);Ch.workspace.onDidChangeNotebookDocument(n=>this.didChangeNotebookDocument(n),void 0,this.disposables),this.options.save===!0&&Ch.workspace.onDidSaveNotebookDocument(n=>this.didSave(n),void 0,this.disposables),Ch.workspace.onDidCloseNotebookDocument(n=>{this.didClose(n),this.notebookDidOpen.delete(n.uri.toString())},void 0,this.disposables)}getState(){for(let e of Ch.workspace.notebookDocuments)if(this.getMatchingCells(e)!==void 0)return{kind:"document",id:"$internal",registrations:!0,matches:!0};return{kind:"document",id:"$internal",registrations:!0,matches:!1}}get mode(){return"notebook"}handles(e){return Ch.languages.match(this.selector,e)>0}didOpenNotebookCellTextDocument(e,t){if(Ch.languages.match(this.selector,t.document)===0||!this.notebookDidOpen.has(e.uri.toString()))return;let n=this.notebookSyncInfo.get(e.uri.toString()),i=this.cellMatches(e,t);if(n!==void 0){let o=n.uris.has(t.document.uri.toString());if(i&&o||!i&&!o)return;if(i){let s=this.getMatchingCells(e);if(s!==void 0){let a=this.asNotebookDocumentChangeEvent(e,void 0,n,s);a!==void 0&&this.doSendChange(a,s).catch(()=>{})}}}else i&&this.doSendOpen(e,[t]).catch(()=>{})}didChangeNotebookCellTextDocument(e,t){Ch.languages.match(this.selector,t.document)!==0&&this.doSendChange({notebook:e,cells:{textContent:[t]}},void 0).catch(()=>{})}didCloseNotebookCellTextDocument(e,t){let n=this.notebookSyncInfo.get(e.uri.toString());if(n===void 0)return;let i=t.document.uri,o=n.cells.findIndex(s=>s.document.uri.toString()===i.toString());if(o!==-1)if(o===0&&n.cells.length===1)this.doSendClose(e,n.cells).catch(()=>{});else{let s=n.cells.slice(),a=s.splice(o,1);this.doSendChange({notebook:e,cells:{structure:{array:{start:o,deleteCount:1},didClose:a}}},s).catch(()=>{})}}dispose(){for(let e of this.disposables)e.dispose()}didOpen(e,t=this.getMatchingCells(e),n=this.notebookSyncInfo.get(e.uri.toString())){if(n!==void 0)if(t!==void 0){let i=this.asNotebookDocumentChangeEvent(e,void 0,n,t);i!==void 0&&this.doSendChange(i,t).catch(()=>{})}else this.doSendClose(e,[]).catch(()=>{});else{if(t===void 0)return;this.doSendOpen(e,t).catch(()=>{})}}didChangeNotebookDocument(e){let t=e.notebook,n=this.notebookSyncInfo.get(t.uri.toString());if(n===void 0){if(e.contentChanges.length===0)return;let i=this.getMatchingCells(t);if(i===void 0)return;this.didOpen(t,i,n)}else{let i=this.getMatchingCells(t);if(i===void 0){this.didClose(t,n);return}let o=this.asNotebookDocumentChangeEvent(e.notebook,e,n,i);o!==void 0&&this.doSendChange(o,i).catch(()=>{})}}didSave(e){this.notebookSyncInfo.get(e.uri.toString())!==void 0&&this.doSendSave(e).catch(()=>{})}didClose(e,t=this.notebookSyncInfo.get(e.uri.toString())){if(t===void 0)return;let n=e.getCells().filter(i=>t.uris.has(i.document.uri.toString()));this.doSendClose(e,n).catch(()=>{})}async sendDidOpenNotebookDocument(e){let t=this.getMatchingCells(e);if(t!==void 0)return this.doSendOpen(e,t)}async doSendOpen(e,t){let n=async(o,s)=>{let a=jO.c2p.asNotebookDocument(o,s,this.client.code2ProtocolConverter),c=s.map(u=>this.client.code2ProtocolConverter.asTextDocumentItem(u.document));try{await this.client.sendNotification(nC.DidOpenNotebookDocumentNotification.type,{notebookDocument:a,cellTextDocuments:c})}catch(u){throw this.client.error("Sending DidOpenNotebookDocumentNotification failed",u),u}},i=this.client.middleware?.notebooks;return this.notebookSyncInfo.set(e.uri.toString(),N3.create(t)),i?.didOpen!==void 0?i.didOpen(e,t,n):n(e,t)}async sendDidChangeNotebookDocument(e){return this.doSendChange(e,void 0)}async doSendChange(e,t=this.getMatchingCells(e.notebook)){let n=async o=>{try{await this.client.sendNotification(nC.DidChangeNotebookDocumentNotification.type,{notebookDocument:jO.c2p.asVersionedNotebookDocumentIdentifier(o.notebook,this.client.code2ProtocolConverter),change:jO.c2p.asNotebookDocumentChangeEvent(o,this.client.code2ProtocolConverter)})}catch(s){throw this.client.error("Sending DidChangeNotebookDocumentNotification failed",s),s}},i=this.client.middleware?.notebooks;return e.cells?.structure!==void 0&&this.notebookSyncInfo.set(e.notebook.uri.toString(),N3.create(t??[])),i?.didChange!==void 0?i?.didChange(e,n):n(e)}async sendDidSaveNotebookDocument(e){return this.doSendSave(e)}async doSendSave(e){let t=async i=>{try{await this.client.sendNotification(nC.DidSaveNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(i.uri)}})}catch(o){throw this.client.error("Sending DidSaveNotebookDocumentNotification failed",o),o}},n=this.client.middleware?.notebooks;return n?.didSave!==void 0?n.didSave(e,t):t(e)}async sendDidCloseNotebookDocument(e){return this.doSendClose(e,this.getMatchingCells(e)??[])}async doSendClose(e,t){let n=async(o,s)=>{try{await this.client.sendNotification(nC.DidCloseNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(o.uri)},cellTextDocuments:s.map(a=>this.client.code2ProtocolConverter.asTextDocumentIdentifier(a.document))})}catch(a){throw this.client.error("Sending DidCloseNotebookDocumentNotification failed",a),a}},i=this.client.middleware?.notebooks;return this.notebookSyncInfo.delete(e.uri.toString()),i?.didClose!==void 0?i.didClose(e,t,n):n(e,t)}asNotebookDocumentChangeEvent(e,t,n,i){if(t!==void 0&&t.notebook!==e)throw new Error("Notebook must be identical");let o={notebook:e};t?.metadata!==void 0&&(o.metadata=jO.c2p.asMetadata(t.metadata));let s;if(t?.cellChanges!==void 0&&t.cellChanges.length>0){let a=[];s=new Set(i.map(c=>c.document.uri.toString()));for(let c of t.cellChanges)s.has(c.cell.document.uri.toString())&&(c.executionSummary!==void 0||c.metadata!==void 0)&&a.push(c.cell);a.length>0&&(o.cells=o.cells??{},o.cells.data=a)}if((t?.contentChanges!==void 0&&t.contentChanges.length>0||t===void 0)&&n!==void 0&&i!==void 0){let a=n.cells,c=i,u=Uae.computeDiff(a,c,!1),l,d;if(u!==void 0){l=u.cells===void 0?new Map:new Map(u.cells.map(_=>[_.document.uri.toString(),_])),d=u.deleteCount===0?new Map:new Map(a.slice(u.start,u.start+u.deleteCount).map(_=>[_.document.uri.toString(),_]));for(let _ of Array.from(d.keys()))l.has(_)&&(d.delete(_),l.delete(_));o.cells=o.cells??{};let f=[],p=[];if(l.size>0||d.size>0){for(let _ of l.values())f.push(_);for(let _ of d.values())p.push(_)}o.cells.structure={array:u,didOpen:f,didClose:p}}}return Object.keys(o).length>1?o:void 0}getMatchingCells(e,t=e.getCells()){if(this.options.notebookSelector!==void 0){for(let n of this.options.notebookSelector)if(n.notebook===void 0||Hae.matchNotebook(n.notebook,e)){let i=this.filterCells(e,t,n.cells);return i.length===0?void 0:i}}}cellMatches(e,t){let n=this.getMatchingCells(e,[t]);return n!==void 0&&n[0]===t}filterCells(e,t,n){let i=n!==void 0?t.filter(o=>{let s=o.document.languageId;return n.some(a=>a.language==="*"||s===a.language)}):t;return typeof this.client.clientOptions.notebookDocumentOptions?.filterCells=="function"?this.client.clientOptions.notebookDocumentOptions.filterCells(e,i):i}},F3=class r{constructor(e){this.client=e,this.registrations=new Map,this.registrationType=nC.NotebookDocumentSyncRegistrationType.type,Ch.workspace.onDidOpenTextDocument(t=>{if(t.uri.scheme!==r.CellScheme)return;let[n,i]=this.findNotebookDocumentAndCell(t);if(!(n===void 0||i===void 0))for(let o of this.registrations.values())o instanceof zO&&o.didOpenNotebookCellTextDocument(n,i)}),Ch.workspace.onDidChangeTextDocument(t=>{if(t.contentChanges.length===0)return;let n=t.document;if(n.uri.scheme!==r.CellScheme)return;let[i]=this.findNotebookDocumentAndCell(n);if(i!==void 0)for(let o of this.registrations.values())o instanceof zO&&o.didChangeNotebookCellTextDocument(i,t)}),Ch.workspace.onDidCloseTextDocument(t=>{if(t.uri.scheme!==r.CellScheme)return;let[n,i]=this.findNotebookDocumentAndCell(t);if(!(n===void 0||i===void 0))for(let o of this.registrations.values())o instanceof zO&&o.didCloseNotebookCellTextDocument(n,i)})}getState(){if(this.registrations.size===0)return{kind:"document",id:this.registrationType.method,registrations:!1,matches:!1};for(let e of this.registrations.values()){let t=e.getState();if(t.kind==="document"&&t.registrations===!0&&t.matches===!0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!1}}fillClientCapabilities(e){let t=Eje(Eje(e,"notebookDocument"),"synchronization");t.dynamicRegistration=!0,t.executionSummarySupport=!0}preInitialize(e){let t=e.notebookDocumentSync;t!==void 0&&(this.dedicatedChannel=this.client.protocol2CodeConverter.asDocumentSelector(M3.asDocumentSelector(t)))}initialize(e){let t=e.notebookDocumentSync;if(t===void 0)return;let n=t.id??aAt.generateUuid();this.register({id:n,registerOptions:t})}register(e){let t=new zO(this.client,e.registerOptions);this.registrations.set(e.id,t)}unregister(e){let t=this.registrations.get(e);t&&t.dispose()}dispose(){for(let e of this.registrations.values())e.dispose();this.registrations.clear()}handles(e){if(e.uri.scheme!==r.CellScheme)return!1;if(this.dedicatedChannel!==void 0&&Ch.languages.match(this.dedicatedChannel,e)>0)return!0;for(let t of this.registrations.values())if(t.handles(e))return!0;return!1}getProvider(e){for(let t of this.registrations.values())if(t.handles(e.document))return t}findNotebookDocumentAndCell(e){let t=e.uri.toString();for(let n of Ch.workspace.notebookDocuments)for(let i of n.getCells())if(i.document.uri.toString()===t)return[n,i];return[void 0,void 0]}};q3.NotebookDocumentSyncFeature=F3;F3.CellScheme="vscode-notebook-cell"});var xje=C(ED=>{"use strict";Object.defineProperty(ED,"__esModule",{value:!0});ED.SyncConfigurationFeature=ED.toJSONObject=ED.ConfigurationFeature=void 0;var UO=require("vscode"),wF=zi(),cAt=Zv(),uAt=eu(),Pje=ts(),Bae=class{constructor(e){this._client=e}getState(){return{kind:"static"}}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest(wF.ConfigurationRequest.type,(t,n)=>{let i=s=>{let a=[];for(let c of s.items){let u=c.scopeUri!==void 0&&c.scopeUri!==null?this._client.protocol2CodeConverter.asUri(c.scopeUri):void 0;a.push(this.getConfiguration(u,c.section!==null?c.section:void 0))}return a},o=e.middleware.workspace;return o&&o.configuration?o.configuration(t,n,i):i(t,n)})}getConfiguration(e,t){let n=null;if(t){let i=t.lastIndexOf(".");if(i===-1)n=zE(UO.workspace.getConfiguration(void 0,e).get(t));else{let o=UO.workspace.getConfiguration(t.substr(0,i),e);o&&(n=zE(o.get(t.substr(i+1))))}}else{let i=UO.workspace.getConfiguration(void 0,e);n={};for(let o of Object.keys(i))i.has(o)&&(n[o]=zE(i.get(o)))}return n===void 0&&(n=null),n}dispose(){}};ED.ConfigurationFeature=Bae;function zE(r){if(r){if(Array.isArray(r))return r.map(zE);if(typeof r=="object"){let e=Object.create(null);for(let t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=zE(r[t]));return e}}return r}ED.toJSONObject=zE;var Wae=class{constructor(e){this._client=e,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return wF.DidChangeConfigurationNotification.type}fillClientCapabilities(e){(0,Pje.ensure)((0,Pje.ensure)(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){let e=this._client.clientOptions.synchronize?.configurationSection;e!==void 0&&this.register({id:uAt.generateUuid(),registerOptions:{section:e}})}register(e){let t=UO.workspace.onDidChangeConfiguration(n=>{this.onDidChangeConfiguration(e.registerOptions.section,n)});this._listeners.set(e.id,t),e.registerOptions.section!==void 0&&this.onDidChangeConfiguration(e.registerOptions.section,void 0)}unregister(e){let t=this._listeners.get(e);t&&(this._listeners.delete(e),t.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}onDidChangeConfiguration(e,t){let n;if(cAt.string(e)?n=[e]:n=e,n!==void 0&&t!==void 0&&!n.some(a=>t.affectsConfiguration(a)))return;let i=async s=>s===void 0?this._client.sendNotification(wF.DidChangeConfigurationNotification.type,{settings:null}):this._client.sendNotification(wF.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(s)}),o=this._client.middleware.workspace?.didChangeConfiguration;(o?o(n,i):i(n)).catch(s=>{this._client.error(`Sending notification ${wF.DidChangeConfigurationNotification.type.method} failed`,s)})}extractSettingsInformation(e){function t(o,s){let a=o;for(let c=0;c<s.length-1;c++){let u=a[s[c]];u||(u=Object.create(null),a[s[c]]=u),a=u}return a}let n=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,i=Object.create(null);for(let o=0;o<e.length;o++){let s=e[o],a=s.indexOf("."),c=null;if(a>=0?c=UO.workspace.getConfiguration(s.substr(0,a),n).get(s.substr(a+1)):c=UO.workspace.getConfiguration(void 0,n).get(s),c){let u=e[o].split(".");t(i,u)[u[u.length-1]]=zE(c)}}return i}};ED.SyncConfigurationFeature=Wae});var Oje=C(Im=>{"use strict";Object.defineProperty(Im,"__esModule",{value:!0});Im.DidSaveTextDocumentFeature=Im.WillSaveWaitUntilFeature=Im.WillSaveFeature=Im.DidChangeTextDocumentFeature=Im.DidCloseTextDocumentFeature=Im.DidOpenTextDocumentFeature=void 0;var ny=require("vscode"),zl=zi(),tu=ts(),lAt=vF(),HO=eu(),$ae=class extends tu.TextDocumentEventFeature{constructor(e,t){super(e,ny.workspace.onDidOpenTextDocument,zl.DidOpenTextDocumentNotification.type,()=>e.middleware.didOpen,n=>e.code2ProtocolConverter.asOpenTextDocumentParams(n),n=>n,tu.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=t}get openDocuments(){return this._syncedDocuments.values()}fillClientCapabilities(e){(0,tu.ensure)((0,tu.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register({id:HO.generateUuid(),registerOptions:{documentSelector:t}})}get registrationType(){return zl.DidOpenTextDocumentNotification.type}register(e){if(super.register(e),!e.registerOptions.documentSelector)return;let t=this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector);ny.workspace.textDocuments.forEach(n=>{let i=n.uri.toString();if(!this._syncedDocuments.has(i)&&ny.languages.match(t,n)>0&&!this._client.hasDedicatedTextSynchronizationFeature(n)){let o=this._client.middleware,s=a=>this._client.sendNotification(this._type,this._createParams(a));(o.didOpen?o.didOpen(n,s):s(n)).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a)}),this._syncedDocuments.set(i,n)}})}notificationSent(e,t,n){super.notificationSent(e,t,n),this._syncedDocuments.set(e.uri.toString(),e)}};Im.DidOpenTextDocumentFeature=$ae;var Vae=class extends tu.TextDocumentEventFeature{constructor(e,t){super(e,ny.workspace.onDidCloseTextDocument,zl.DidCloseTextDocumentNotification.type,()=>e.middleware.didClose,n=>e.code2ProtocolConverter.asCloseTextDocumentParams(n),n=>n,tu.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=t}get registrationType(){return zl.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){(0,tu.ensure)((0,tu.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register({id:HO.generateUuid(),registerOptions:{documentSelector:t}})}notificationSent(e,t,n){super.notificationSent(e,t,n),this._syncedDocuments.delete(e.uri.toString())}unregister(e){let t=this._selectors.get(e);super.unregister(e);let n=this._selectors.values();this._syncedDocuments.forEach(i=>{if(ny.languages.match(t,i)>0&&!this._selectorFilter(n,i)&&!this._client.hasDedicatedTextSynchronizationFeature(i)){let o=this._client.middleware,s=a=>this._client.sendNotification(this._type,this._createParams(a));this._syncedDocuments.delete(i.uri.toString()),(o.didClose?o.didClose(i,s):s(i)).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a)})}})}};Im.DidCloseTextDocumentFeature=Vae;var Gae=class extends tu.DynamicDocumentFeature{constructor(e){super(e),this._forcingDelivery=!1,this._changeData=new Map,this._onNotificationSent=new ny.EventEmitter}get registrationType(){return zl.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){(0,tu.ensure)((0,tu.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.change!==void 0&&n.change!==zl.TextDocumentSyncKind.None&&this.register({id:HO.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},{syncKind:n.change})})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=ny.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(e.id,{syncKind:e.registerOptions.syncKind,documentSelector:this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)}))}*getDocumentSelectors(){for(let e of this._changeData.values())yield e.documentSelector}async callback(e){if(e.contentChanges.length===0)return;let t=[];for(let n of this._changeData.values())if(ny.languages.match(n.documentSelector,e.document)>0&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let i=this._client.middleware;if(n.syncKind===zl.TextDocumentSyncKind.Incremental){let o=async s=>{let a=this._client.code2ProtocolConverter.asChangeTextDocumentParams(s);await this._client.sendNotification(zl.DidChangeTextDocumentNotification.type,a),this.notificationSent(s,zl.DidChangeTextDocumentNotification.type,a)};t.push(i.didChange?i.didChange(e,s=>o(s)):o(e))}else if(n.syncKind===zl.TextDocumentSyncKind.Full){let o=async s=>{let a=async c=>{let u=this._client.code2ProtocolConverter.asChangeTextDocumentParams(c.document);await this._client.sendNotification(zl.DidChangeTextDocumentNotification.type,u),this.notificationSent(c,zl.DidChangeTextDocumentNotification.type,u)};return this._changeDelayer?(this._changeDelayer.uri!==s.document.uri.toString()&&(await this.forceDelivery(),this._changeDelayer.uri=s.document.uri.toString()),this._changeDelayer.delayer.trigger(()=>a(s))):(this._changeDelayer={uri:s.document.uri.toString(),delayer:new lAt.Delayer(200)},this._changeDelayer.delayer.trigger(()=>a(s),-1))};t.push(i.didChange?i.didChange(e,s=>o(s)):o(e))}}return Promise.all(t).then(void 0,n=>{throw this._client.error(`Sending document notification ${zl.DidChangeTextDocumentNotification.type.method} failed`,n),n})}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(e,t,n){this._onNotificationSent.fire({original:e,type:t,params:n})}unregister(e){this._changeData.delete(e),this._changeData.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._changeDelayer!==void 0&&this._changeDelayer.delayer.cancel(),this._changeDelayer=void 0,this._forcingDelivery=!1,this._changeData.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}async forceDelivery(){if(!(this._forcingDelivery||!this._changeDelayer))try{return this._forcingDelivery=!0,this._changeDelayer.delayer.forceDelivery()}finally{this._forcingDelivery=!1}}getProvider(e){for(let t of this._changeData.values())if(ny.languages.match(t.documentSelector,e)>0)return{send:n=>this.callback(n)}}};Im.DidChangeTextDocumentFeature=Gae;var Kae=class extends tu.TextDocumentEventFeature{constructor(e){super(e,ny.workspace.onWillSaveTextDocument,zl.WillSaveTextDocumentNotification.type,()=>e.middleware.willSave,t=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(t),t=>t.document,(t,n)=>tu.TextDocumentEventFeature.textDocumentFilter(t,n.document))}get registrationType(){return zl.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){let t=(0,tu.ensure)((0,tu.ensure)(e,"textDocument"),"synchronization");t.willSave=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSave&&this.register({id:HO.generateUuid(),registerOptions:{documentSelector:t}})}};Im.WillSaveFeature=Kae;var Yae=class extends tu.DynamicDocumentFeature{constructor(e){super(e),this._selectors=new Map}getDocumentSelectors(){return this._selectors.values()}get registrationType(){return zl.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){let t=(0,tu.ensure)((0,tu.ensure)(e,"textDocument"),"synchronization");t.willSaveWaitUntil=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSaveWaitUntil&&this.register({id:HO.generateUuid(),registerOptions:{documentSelector:t}})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=ny.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}callback(e){if(tu.TextDocumentEventFeature.textDocumentFilter(this._selectors.values(),e.document)&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let t=this._client.middleware,n=i=>this._client.sendRequest(zl.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(i)).then(async o=>{let s=await this._client.protocol2CodeConverter.asTextEdits(o);return s===void 0?[]:s});e.waitUntil(t.willSaveWaitUntil?t.willSaveWaitUntil(e,n):n(e))}}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}};Im.WillSaveWaitUntilFeature=Yae;var Jae=class extends tu.TextDocumentEventFeature{constructor(e){super(e,ny.workspace.onDidSaveTextDocument,zl.DidSaveTextDocumentNotification.type,()=>e.middleware.didSave,t=>e.code2ProtocolConverter.asSaveTextDocumentParams(t,this._includeText),t=>t,tu.TextDocumentEventFeature.textDocumentFilter),this._includeText=!1}get registrationType(){return zl.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){(0,tu.ensure)((0,tu.ensure)(e,"textDocument"),"synchronization").didSave=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;if(t&&n&&n.save){let i=typeof n.save=="boolean"?{includeText:!1}:{includeText:!!n.save.includeText};this.register({id:HO.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},i)})}}register(e){this._includeText=!!e.registerOptions.includeText,super.register(e)}};Im.DidSaveTextDocumentFeature=Jae});var Ije=C(j3=>{"use strict";Object.defineProperty(j3,"__esModule",{value:!0});j3.CompletionItemFeature=void 0;var dAt=require("vscode"),Do=zi(),Xae=ts(),fAt=eu(),hAt=[Do.CompletionItemKind.Text,Do.CompletionItemKind.Method,Do.CompletionItemKind.Function,Do.CompletionItemKind.Constructor,Do.CompletionItemKind.Field,Do.CompletionItemKind.Variable,Do.CompletionItemKind.Class,Do.CompletionItemKind.Interface,Do.CompletionItemKind.Module,Do.CompletionItemKind.Property,Do.CompletionItemKind.Unit,Do.CompletionItemKind.Value,Do.CompletionItemKind.Enum,Do.CompletionItemKind.Keyword,Do.CompletionItemKind.Snippet,Do.CompletionItemKind.Color,Do.CompletionItemKind.File,Do.CompletionItemKind.Reference,Do.CompletionItemKind.Folder,Do.CompletionItemKind.EnumMember,Do.CompletionItemKind.Constant,Do.CompletionItemKind.Struct,Do.CompletionItemKind.Event,Do.CompletionItemKind.Operator,Do.CompletionItemKind.TypeParameter],Qae=class extends Xae.TextDocumentLanguageFeature{constructor(e){super(e,Do.CompletionRequest.type),this.labelDetailsSupport=new Map}fillClientCapabilities(e){let t=(0,Xae.ensure)((0,Xae.ensure)(e,"textDocument"),"completion");t.dynamicRegistration=!0,t.contextSupport=!0,t.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[Do.MarkupKind.Markdown,Do.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[Do.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[Do.InsertTextMode.asIs,Do.InsertTextMode.adjustIndentation]},labelDetailsSupport:!0},t.insertTextMode=Do.InsertTextMode.adjustIndentation,t.completionItemKind={valueSet:hAt},t.completionList={itemDefaults:["commitCharacters","editRange","insertTextFormat","insertTextMode"]}}initialize(e,t){let n=this.getRegistrationOptions(t,e.completionProvider);n&&this.register({id:fAt.generateUuid(),registerOptions:n})}registerLanguageProvider(e,t){this.labelDetailsSupport.set(t,!!e.completionItem?.labelDetailsSupport);let n=e.triggerCharacters??[],i=e.allCommitCharacters,o=e.documentSelector,s={provideCompletionItems:(a,c,u,l)=>{let d=this._client,f=this._client.middleware,p=(_,D,P,M)=>d.sendRequest(Do.CompletionRequest.type,d.code2ProtocolConverter.asCompletionParams(_,D,P),M).then(A=>M.isCancellationRequested?null:d.protocol2CodeConverter.asCompletionResult(A,i,M),A=>d.handleFailedRequest(Do.CompletionRequest.type,M,A,null));return f.provideCompletionItem?f.provideCompletionItem(a,c,l,u,p):p(a,c,l,u)},resolveCompletionItem:e.resolveProvider?(a,c)=>{let u=this._client,l=this._client.middleware,d=(f,p)=>u.sendRequest(Do.CompletionResolveRequest.type,u.code2ProtocolConverter.asCompletionItem(f,!!this.labelDetailsSupport.get(t)),p).then(_=>p.isCancellationRequested?null:u.protocol2CodeConverter.asCompletionItem(_),_=>u.handleFailedRequest(Do.CompletionResolveRequest.type,p,_,f));return l.resolveCompletionItem?l.resolveCompletionItem(a,c,d):d(a,c)}:void 0};return[dAt.languages.registerCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(o),s,...n),s]}};j3.CompletionItemFeature=Qae});var kje=C(z3=>{"use strict";Object.defineProperty(z3,"__esModule",{value:!0});z3.HoverFeature=void 0;var pAt=require("vscode"),SF=zi(),Zae=ts(),mAt=eu(),ece=class extends Zae.TextDocumentLanguageFeature{constructor(e){super(e,SF.HoverRequest.type)}fillClientCapabilities(e){let t=(0,Zae.ensure)((0,Zae.ensure)(e,"textDocument"),"hover");t.dynamicRegistration=!0,t.contentFormat=[SF.MarkupKind.Markdown,SF.MarkupKind.PlainText]}initialize(e,t){let n=this.getRegistrationOptions(t,e.hoverProvider);n&&this.register({id:mAt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideHover:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(SF.HoverRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(p=>f.isCancellationRequested?null:a.protocol2CodeConverter.asHover(p),p=>a.handleFailedRequest(SF.HoverRequest.type,f,p,null)),u=a.middleware;return u.provideHover?u.provideHover(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return pAt.languages.registerHoverProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};z3.HoverFeature=ece});var Aje=C(U3=>{"use strict";Object.defineProperty(U3,"__esModule",{value:!0});U3.DefinitionFeature=void 0;var gAt=require("vscode"),tce=zi(),rce=ts(),vAt=eu(),nce=class extends rce.TextDocumentLanguageFeature{constructor(e){super(e,tce.DefinitionRequest.type)}fillClientCapabilities(e){let t=(0,rce.ensure)((0,rce.ensure)(e,"textDocument"),"definition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.definitionProvider);n&&this.register({id:vAt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDefinition:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(tce.DefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(p=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(p,f),p=>a.handleFailedRequest(tce.DefinitionRequest.type,f,p,null)),u=a.middleware;return u.provideDefinition?u.provideDefinition(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return gAt.languages.registerDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};U3.DefinitionFeature=nce});var Mje=C(H3=>{"use strict";Object.defineProperty(H3,"__esModule",{value:!0});H3.SignatureHelpFeature=void 0;var Lje=require("vscode"),CF=zi(),ice=ts(),yAt=eu(),oce=class extends ice.TextDocumentLanguageFeature{constructor(e){super(e,CF.SignatureHelpRequest.type)}fillClientCapabilities(e){let t=(0,ice.ensure)((0,ice.ensure)(e,"textDocument"),"signatureHelp");t.dynamicRegistration=!0,t.signatureInformation={documentationFormat:[CF.MarkupKind.Markdown,CF.MarkupKind.PlainText]},t.signatureInformation.parameterInformation={labelOffsetSupport:!0},t.signatureInformation.activeParameterSupport=!0,t.contextSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.signatureHelpProvider);n&&this.register({id:yAt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t={provideSignatureHelp:(n,i,o,s)=>{let a=this._client,c=(l,d,f,p)=>a.sendRequest(CF.SignatureHelpRequest.type,a.code2ProtocolConverter.asSignatureHelpParams(l,d,f),p).then(_=>p.isCancellationRequested?null:a.protocol2CodeConverter.asSignatureHelp(_,p),_=>a.handleFailedRequest(CF.SignatureHelpRequest.type,p,_,null)),u=a.middleware;return u.provideSignatureHelp?u.provideSignatureHelp(n,i,s,o,c):c(n,i,s,o)}};return[this.registerProvider(e,t),t]}registerProvider(e,t){let n=this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector);if(e.retriggerCharacters===void 0){let i=e.triggerCharacters||[];return Lje.languages.registerSignatureHelpProvider(n,t,...i)}else{let i={triggerCharacters:e.triggerCharacters||[],retriggerCharacters:e.retriggerCharacters||[]};return Lje.languages.registerSignatureHelpProvider(n,t,i)}}};H3.SignatureHelpFeature=oce});var Nje=C(B3=>{"use strict";Object.defineProperty(B3,"__esModule",{value:!0});B3.DocumentHighlightFeature=void 0;var _At=require("vscode"),sce=zi(),ace=ts(),bAt=eu(),cce=class extends ace.TextDocumentLanguageFeature{constructor(e){super(e,sce.DocumentHighlightRequest.type)}fillClientCapabilities(e){(0,ace.ensure)((0,ace.ensure)(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentHighlightProvider);n&&this.register({id:bAt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentHighlights:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(sce.DocumentHighlightRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(p=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDocumentHighlights(p,f),p=>a.handleFailedRequest(sce.DocumentHighlightRequest.type,f,p,null)),u=a.middleware;return u.provideDocumentHighlights?u.provideDocumentHighlights(i,o,s,c):c(i,o,s)}};return[_At.languages.registerDocumentHighlightProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};B3.DocumentHighlightFeature=cce});var dce=C(iw=>{"use strict";Object.defineProperty(iw,"__esModule",{value:!0});iw.DocumentSymbolFeature=iw.SupportedSymbolTags=iw.SupportedSymbolKinds=void 0;var wAt=require("vscode"),Ts=zi(),uce=ts(),SAt=eu();iw.SupportedSymbolKinds=[Ts.SymbolKind.File,Ts.SymbolKind.Module,Ts.SymbolKind.Namespace,Ts.SymbolKind.Package,Ts.SymbolKind.Class,Ts.SymbolKind.Method,Ts.SymbolKind.Property,Ts.SymbolKind.Field,Ts.SymbolKind.Constructor,Ts.SymbolKind.Enum,Ts.SymbolKind.Interface,Ts.SymbolKind.Function,Ts.SymbolKind.Variable,Ts.SymbolKind.Constant,Ts.SymbolKind.String,Ts.SymbolKind.Number,Ts.SymbolKind.Boolean,Ts.SymbolKind.Array,Ts.SymbolKind.Object,Ts.SymbolKind.Key,Ts.SymbolKind.Null,Ts.SymbolKind.EnumMember,Ts.SymbolKind.Struct,Ts.SymbolKind.Event,Ts.SymbolKind.Operator,Ts.SymbolKind.TypeParameter];iw.SupportedSymbolTags=[Ts.SymbolTag.Deprecated];var lce=class extends uce.TextDocumentLanguageFeature{constructor(e){super(e,Ts.DocumentSymbolRequest.type)}fillClientCapabilities(e){let t=(0,uce.ensure)((0,uce.ensure)(e,"textDocument"),"documentSymbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:iw.SupportedSymbolKinds},t.hierarchicalDocumentSymbolSupport=!0,t.tagSupport={valueSet:iw.SupportedSymbolTags},t.labelSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentSymbolProvider);n&&this.register({id:SAt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentSymbols:(o,s)=>{let a=this._client,c=(l,d)=>a.sendRequest(Ts.DocumentSymbolRequest.type,a.code2ProtocolConverter.asDocumentSymbolParams(l),d).then(async f=>{if(d.isCancellationRequested||f===void 0||f===null)return null;if(f.length===0)return[];{let p=f[0];return Ts.DocumentSymbol.is(p)?await a.protocol2CodeConverter.asDocumentSymbols(f,d):await a.protocol2CodeConverter.asSymbolInformations(f,d)}},f=>a.handleFailedRequest(Ts.DocumentSymbolRequest.type,d,f,null)),u=a.middleware;return u.provideDocumentSymbols?u.provideDocumentSymbols(o,s,c):c(o,s)}},i=e.label!==void 0?{label:e.label}:void 0;return[wAt.languages.registerDocumentSymbolProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,i),n]}};iw.DocumentSymbolFeature=lce});var qje=C(W3=>{"use strict";Object.defineProperty(W3,"__esModule",{value:!0});W3.WorkspaceSymbolFeature=void 0;var CAt=require("vscode"),TF=zi(),fce=ts(),Fje=dce(),TAt=eu(),hce=class extends fce.WorkspaceFeature{constructor(e){super(e,TF.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let t=(0,fce.ensure)((0,fce.ensure)(e,"workspace"),"symbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:Fje.SupportedSymbolKinds},t.tagSupport={valueSet:Fje.SupportedSymbolTags},t.resolveSupport={properties:["location.range"]}}initialize(e){e.workspaceSymbolProvider&&this.register({id:TAt.generateUuid(),registerOptions:e.workspaceSymbolProvider===!0?{workDoneProgress:!1}:e.workspaceSymbolProvider})}registerLanguageProvider(e){let t={provideWorkspaceSymbols:(n,i)=>{let o=this._client,s=(c,u)=>o.sendRequest(TF.WorkspaceSymbolRequest.type,{query:c},u).then(l=>u.isCancellationRequested?null:o.protocol2CodeConverter.asSymbolInformations(l,u),l=>o.handleFailedRequest(TF.WorkspaceSymbolRequest.type,u,l,null)),a=o.middleware;return a.provideWorkspaceSymbols?a.provideWorkspaceSymbols(n,i,s):s(n,i)},resolveWorkspaceSymbol:e.resolveProvider===!0?(n,i)=>{let o=this._client,s=(c,u)=>o.sendRequest(TF.WorkspaceSymbolResolveRequest.type,o.code2ProtocolConverter.asWorkspaceSymbol(c),u).then(l=>u.isCancellationRequested?null:o.protocol2CodeConverter.asSymbolInformation(l),l=>o.handleFailedRequest(TF.WorkspaceSymbolResolveRequest.type,u,l,null)),a=o.middleware;return a.resolveWorkspaceSymbol?a.resolveWorkspaceSymbol(n,i,s):s(n,i)}:void 0};return[CAt.languages.registerWorkspaceSymbolProvider(t),t]}};W3.WorkspaceSymbolFeature=hce});var jje=C($3=>{"use strict";Object.defineProperty($3,"__esModule",{value:!0});$3.ReferencesFeature=void 0;var DAt=require("vscode"),pce=zi(),mce=ts(),EAt=eu(),gce=class extends mce.TextDocumentLanguageFeature{constructor(e){super(e,pce.ReferencesRequest.type)}fillClientCapabilities(e){(0,mce.ensure)((0,mce.ensure)(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.referencesProvider);n&&this.register({id:EAt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideReferences:(i,o,s,a)=>{let c=this._client,u=(d,f,p,_)=>c.sendRequest(pce.ReferencesRequest.type,c.code2ProtocolConverter.asReferenceParams(d,f,p),_).then(D=>_.isCancellationRequested?null:c.protocol2CodeConverter.asReferences(D,_),D=>c.handleFailedRequest(pce.ReferencesRequest.type,_,D,null)),l=c.middleware;return l.provideReferences?l.provideReferences(i,o,s,a,u):u(i,o,s,a)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return DAt.languages.registerReferenceProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};$3.ReferencesFeature=gce});var zje=C(V3=>{"use strict";Object.defineProperty(V3,"__esModule",{value:!0});V3.CodeActionFeature=void 0;var RAt=require("vscode"),Fg=zi(),PAt=eu(),vce=ts(),yce=class extends vce.TextDocumentLanguageFeature{constructor(e){super(e,Fg.CodeActionRequest.type)}fillClientCapabilities(e){let t=(0,vce.ensure)((0,vce.ensure)(e,"textDocument"),"codeAction");t.dynamicRegistration=!0,t.isPreferredSupport=!0,t.disabledSupport=!0,t.dataSupport=!0,t.resolveSupport={properties:["edit"]},t.codeActionLiteralSupport={codeActionKind:{valueSet:[Fg.CodeActionKind.Empty,Fg.CodeActionKind.QuickFix,Fg.CodeActionKind.Refactor,Fg.CodeActionKind.RefactorExtract,Fg.CodeActionKind.RefactorInline,Fg.CodeActionKind.RefactorRewrite,Fg.CodeActionKind.Source,Fg.CodeActionKind.SourceOrganizeImports]}},t.honorsChangeAnnotations=!1}initialize(e,t){let n=this.getRegistrationOptions(t,e.codeActionProvider);n&&this.register({id:PAt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideCodeActions:(i,o,s,a)=>{let c=this._client,u=async(d,f,p,_)=>{let D={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),range:c.code2ProtocolConverter.asRange(f),context:await c.code2ProtocolConverter.asCodeActionContext(p,_)};return c.sendRequest(Fg.CodeActionRequest.type,D,_).then(P=>_.isCancellationRequested||P===null||P===void 0?null:c.protocol2CodeConverter.asCodeActionResult(P,_),P=>c.handleFailedRequest(Fg.CodeActionRequest.type,_,P,null))},l=c.middleware;return l.provideCodeActions?l.provideCodeActions(i,o,s,a,u):u(i,o,s,a)},resolveCodeAction:e.resolveProvider?(i,o)=>{let s=this._client,a=this._client.middleware,c=async(u,l)=>s.sendRequest(Fg.CodeActionResolveRequest.type,await s.code2ProtocolConverter.asCodeAction(u,l),l).then(d=>l.isCancellationRequested?u:s.protocol2CodeConverter.asCodeAction(d,l),d=>s.handleFailedRequest(Fg.CodeActionResolveRequest.type,l,d,u));return a.resolveCodeAction?a.resolveCodeAction(i,o,c):c(i,o)}:void 0};return[RAt.languages.registerCodeActionsProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,e.codeActionKinds?{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds)}:void 0),n]}};V3.CodeActionFeature=yce});var Hje=C(G3=>{"use strict";Object.defineProperty(G3,"__esModule",{value:!0});G3.CodeLensFeature=void 0;var Uje=require("vscode"),BO=zi(),xAt=eu(),DF=ts(),_ce=class extends DF.TextDocumentLanguageFeature{constructor(e){super(e,BO.CodeLensRequest.type)}fillClientCapabilities(e){(0,DF.ensure)((0,DF.ensure)(e,"textDocument"),"codeLens").dynamicRegistration=!0,(0,DF.ensure)((0,DF.ensure)(e,"workspace"),"codeLens").refreshSupport=!0}initialize(e,t){this._client.onRequest(BO.CodeLensRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeCodeLensEmitter.fire()});let i=this.getRegistrationOptions(t,e.codeLensProvider);i&&this.register({id:xAt.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n=new Uje.EventEmitter,i={onDidChangeCodeLenses:n.event,provideCodeLenses:(o,s)=>{let a=this._client,c=(l,d)=>a.sendRequest(BO.CodeLensRequest.type,a.code2ProtocolConverter.asCodeLensParams(l),d).then(f=>d.isCancellationRequested?null:a.protocol2CodeConverter.asCodeLenses(f,d),f=>a.handleFailedRequest(BO.CodeLensRequest.type,d,f,null)),u=a.middleware;return u.provideCodeLenses?u.provideCodeLenses(o,s,c):c(o,s)},resolveCodeLens:e.resolveProvider?(o,s)=>{let a=this._client,c=(l,d)=>a.sendRequest(BO.CodeLensResolveRequest.type,a.code2ProtocolConverter.asCodeLens(l),d).then(f=>d.isCancellationRequested?l:a.protocol2CodeConverter.asCodeLens(f),f=>a.handleFailedRequest(BO.CodeLensResolveRequest.type,d,f,l)),u=a.middleware;return u.resolveCodeLens?u.resolveCodeLens(o,s,c):c(o,s)}:void 0};return[Uje.languages.registerCodeLensProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),i),{provider:i,onDidChangeCodeLensEmitter:n}]}};G3.CodeLensFeature=_ce});var Bje=C(RD=>{"use strict";Object.defineProperty(RD,"__esModule",{value:!0});RD.DocumentOnTypeFormattingFeature=RD.DocumentRangeFormattingFeature=RD.DocumentFormattingFeature=void 0;var K3=require("vscode"),iC=zi(),Cce=eu(),oC=ts(),EF;(function(r){function e(t){let n=K3.workspace.getConfiguration("files",t);return{trimTrailingWhitespace:n.get("trimTrailingWhitespace"),trimFinalNewlines:n.get("trimFinalNewlines"),insertFinalNewline:n.get("insertFinalNewline")}}r.fromConfiguration=e})(EF||(EF={}));var bce=class extends oC.TextDocumentLanguageFeature{constructor(e){super(e,iC.DocumentFormattingRequest.type)}fillClientCapabilities(e){(0,oC.ensure)((0,oC.ensure)(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentFormattingProvider);n&&this.register({id:Cce.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentFormattingEdits:(i,o,s)=>{let a=this._client,c=(l,d,f)=>{let p={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),options:a.code2ProtocolConverter.asFormattingOptions(d,EF.fromConfiguration(l))};return a.sendRequest(iC.DocumentFormattingRequest.type,p,f).then(_=>f.isCancellationRequested?null:a.protocol2CodeConverter.asTextEdits(_,f),_=>a.handleFailedRequest(iC.DocumentFormattingRequest.type,f,_,null))},u=a.middleware;return u.provideDocumentFormattingEdits?u.provideDocumentFormattingEdits(i,o,s,c):c(i,o,s)}};return[K3.languages.registerDocumentFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};RD.DocumentFormattingFeature=bce;var wce=class extends oC.TextDocumentLanguageFeature{constructor(e){super(e,iC.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){(0,oC.ensure)((0,oC.ensure)(e,"textDocument"),"rangeFormatting").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentRangeFormattingProvider);n&&this.register({id:Cce.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentRangeFormattingEdits:(i,o,s,a)=>{let c=this._client,u=(d,f,p,_)=>{let D={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),range:c.code2ProtocolConverter.asRange(f),options:c.code2ProtocolConverter.asFormattingOptions(p,EF.fromConfiguration(d))};return c.sendRequest(iC.DocumentRangeFormattingRequest.type,D,_).then(P=>_.isCancellationRequested?null:c.protocol2CodeConverter.asTextEdits(P,_),P=>c.handleFailedRequest(iC.DocumentRangeFormattingRequest.type,_,P,null))},l=c.middleware;return l.provideDocumentRangeFormattingEdits?l.provideDocumentRangeFormattingEdits(i,o,s,a,u):u(i,o,s,a)}};return[K3.languages.registerDocumentRangeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};RD.DocumentRangeFormattingFeature=wce;var Sce=class extends oC.TextDocumentLanguageFeature{constructor(e){super(e,iC.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){(0,oC.ensure)((0,oC.ensure)(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentOnTypeFormattingProvider);n&&this.register({id:Cce.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideOnTypeFormattingEdits:(o,s,a,c,u)=>{let l=this._client,d=(p,_,D,P,M)=>{let A={textDocument:l.code2ProtocolConverter.asTextDocumentIdentifier(p),position:l.code2ProtocolConverter.asPosition(_),ch:D,options:l.code2ProtocolConverter.asFormattingOptions(P,EF.fromConfiguration(p))};return l.sendRequest(iC.DocumentOnTypeFormattingRequest.type,A,M).then(U=>M.isCancellationRequested?null:l.protocol2CodeConverter.asTextEdits(U,M),U=>l.handleFailedRequest(iC.DocumentOnTypeFormattingRequest.type,M,U,null))},f=l.middleware;return f.provideOnTypeFormattingEdits?f.provideOnTypeFormattingEdits(o,s,a,c,u,d):d(o,s,a,c,u)}},i=e.moreTriggerCharacter||[];return[K3.languages.registerOnTypeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,e.firstTriggerCharacter,...i),n]}};RD.DocumentOnTypeFormattingFeature=Sce});var $je=C(Y3=>{"use strict";Object.defineProperty(Y3,"__esModule",{value:!0});Y3.RenameFeature=void 0;var OAt=require("vscode"),UE=zi(),IAt=eu(),Wje=Zv(),Tce=ts(),Dce=class extends Tce.TextDocumentLanguageFeature{constructor(e){super(e,UE.RenameRequest.type)}fillClientCapabilities(e){let t=(0,Tce.ensure)((0,Tce.ensure)(e,"textDocument"),"rename");t.dynamicRegistration=!0,t.prepareSupport=!0,t.prepareSupportDefaultBehavior=UE.PrepareSupportDefaultBehavior.Identifier,t.honorsChangeAnnotations=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.renameProvider);n&&(Wje.boolean(e.renameProvider)&&(n.prepareProvider=!1),this.register({id:IAt.generateUuid(),registerOptions:n}))}registerLanguageProvider(e){let t=e.documentSelector,n={provideRenameEdits:(i,o,s,a)=>{let c=this._client,u=(d,f,p,_)=>{let D={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),position:c.code2ProtocolConverter.asPosition(f),newName:p};return c.sendRequest(UE.RenameRequest.type,D,_).then(P=>_.isCancellationRequested?null:c.protocol2CodeConverter.asWorkspaceEdit(P,_),P=>c.handleFailedRequest(UE.RenameRequest.type,_,P,null,!1))},l=c.middleware;return l.provideRenameEdits?l.provideRenameEdits(i,o,s,a,u):u(i,o,s,a)},prepareRename:e.prepareProvider?(i,o,s)=>{let a=this._client,c=(l,d,f)=>{let p={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),position:a.code2ProtocolConverter.asPosition(d)};return a.sendRequest(UE.PrepareRenameRequest.type,p,f).then(_=>f.isCancellationRequested?null:UE.Range.is(_)?a.protocol2CodeConverter.asRange(_):this.isDefaultBehavior(_)?_.defaultBehavior===!0?null:Promise.reject(new Error("The element can't be renamed.")):_&&UE.Range.is(_.range)?{range:a.protocol2CodeConverter.asRange(_.range),placeholder:_.placeholder}:Promise.reject(new Error("The element can't be renamed.")),_=>{throw typeof _.message=="string"?new Error(_.message):new Error("The element can't be renamed.")})},u=a.middleware;return u.prepareRename?u.prepareRename(i,o,s,c):c(i,o,s)}:void 0};return[this.registerProvider(t,n),n]}registerProvider(e,t){return OAt.languages.registerRenameProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}isDefaultBehavior(e){let t=e;return t&&Wje.boolean(t.defaultBehavior)}};Y3.RenameFeature=Dce});var Vje=C(J3=>{"use strict";Object.defineProperty(J3,"__esModule",{value:!0});J3.DocumentLinkFeature=void 0;var kAt=require("vscode"),RF=zi(),Ece=ts(),AAt=eu(),Rce=class extends Ece.TextDocumentLanguageFeature{constructor(e){super(e,RF.DocumentLinkRequest.type)}fillClientCapabilities(e){let t=(0,Ece.ensure)((0,Ece.ensure)(e,"textDocument"),"documentLink");t.dynamicRegistration=!0,t.tooltipSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentLinkProvider);n&&this.register({id:AAt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentLinks:(i,o)=>{let s=this._client,a=(u,l)=>s.sendRequest(RF.DocumentLinkRequest.type,s.code2ProtocolConverter.asDocumentLinkParams(u),l).then(d=>l.isCancellationRequested?null:s.protocol2CodeConverter.asDocumentLinks(d,l),d=>s.handleFailedRequest(RF.DocumentLinkRequest.type,l,d,null)),c=s.middleware;return c.provideDocumentLinks?c.provideDocumentLinks(i,o,a):a(i,o)},resolveDocumentLink:e.resolveProvider?(i,o)=>{let s=this._client,a=(u,l)=>s.sendRequest(RF.DocumentLinkResolveRequest.type,s.code2ProtocolConverter.asDocumentLink(u),l).then(d=>l.isCancellationRequested?u:s.protocol2CodeConverter.asDocumentLink(d),d=>s.handleFailedRequest(RF.DocumentLinkResolveRequest.type,l,d,u)),c=s.middleware;return c.resolveDocumentLink?c.resolveDocumentLink(i,o,a):a(i,o)}:void 0};return[kAt.languages.registerDocumentLinkProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};J3.DocumentLinkFeature=Rce});var Kje=C(X3=>{"use strict";Object.defineProperty(X3,"__esModule",{value:!0});X3.ExecuteCommandFeature=void 0;var LAt=require("vscode"),Pce=zi(),MAt=eu(),Gje=ts(),xce=class{constructor(e){this._client=e,this._commands=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._commands.size>0}}get registrationType(){return Pce.ExecuteCommandRequest.type}fillClientCapabilities(e){(0,Gje.ensure)((0,Gje.ensure)(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){e.executeCommandProvider&&this.register({id:MAt.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e){let t=this._client,n=t.middleware,i=(o,s)=>{let a={command:o,arguments:s};return t.sendRequest(Pce.ExecuteCommandRequest.type,a).then(void 0,c=>t.handleFailedRequest(Pce.ExecuteCommandRequest.type,void 0,c,void 0))};if(e.registerOptions.commands){let o=[];for(let s of e.registerOptions.commands)o.push(LAt.commands.registerCommand(s,(...a)=>n.executeCommand?n.executeCommand(s,a,i):i(s,a)));this._commands.set(e.id,o)}}unregister(e){let t=this._commands.get(e);t&&t.forEach(n=>n.dispose())}dispose(){this._commands.forEach(e=>{e.forEach(t=>t.dispose())}),this._commands.clear()}};X3.ExecuteCommandFeature=xce});var Yje=C(Z3=>{"use strict";Object.defineProperty(Z3,"__esModule",{value:!0});Z3.FileSystemWatcherFeature=void 0;var NAt=require("vscode"),HE=zi(),Q3=ts(),Oce=class{constructor(e,t){this._client=e,this._notifyFileEvent=t,this._watchers=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._watchers.size>0}}get registrationType(){return HE.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){(0,Q3.ensure)((0,Q3.ensure)(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0,(0,Q3.ensure)((0,Q3.ensure)(e,"workspace"),"didChangeWatchedFiles").relativePatternSupport=!0}initialize(e,t){}register(e){if(!Array.isArray(e.registerOptions.watchers))return;let t=[];for(let n of e.registerOptions.watchers){let i=this._client.protocol2CodeConverter.asGlobPattern(n.globPattern);if(i===void 0)continue;let o=!0,s=!0,a=!0;n.kind!==void 0&&n.kind!==null&&(o=(n.kind&HE.WatchKind.Create)!==0,s=(n.kind&HE.WatchKind.Change)!==0,a=(n.kind&HE.WatchKind.Delete)!==0);let c=NAt.workspace.createFileSystemWatcher(i,!o,!s,!a);this.hookListeners(c,o,s,a,t),t.push(c)}this._watchers.set(e.id,t)}registerRaw(e,t){let n=[];for(let i of t)this.hookListeners(i,!0,!0,!0,n);this._watchers.set(e,n)}hookListeners(e,t,n,i,o){t&&e.onDidCreate(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:HE.FileChangeType.Created}),null,o),n&&e.onDidChange(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:HE.FileChangeType.Changed}),null,o),i&&e.onDidDelete(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:HE.FileChangeType.Deleted}),null,o)}unregister(e){let t=this._watchers.get(e);if(t)for(let n of t)n.dispose()}dispose(){this._watchers.forEach(e=>{for(let t of e)t.dispose()}),this._watchers.clear()}};Z3.FileSystemWatcherFeature=Oce});var Jje=C(eV=>{"use strict";Object.defineProperty(eV,"__esModule",{value:!0});eV.ColorProviderFeature=void 0;var FAt=require("vscode"),PF=zi(),Ice=ts(),kce=class extends Ice.TextDocumentLanguageFeature{constructor(e){super(e,PF.DocumentColorRequest.type)}fillClientCapabilities(e){(0,Ice.ensure)((0,Ice.ensure)(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.colorProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideColorPresentations:(i,o,s)=>{let a=this._client,c=(l,d,f)=>{let p={color:l,textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(d.document),range:a.code2ProtocolConverter.asRange(d.range)};return a.sendRequest(PF.ColorPresentationRequest.type,p,f).then(_=>f.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorPresentations(_,f),_=>a.handleFailedRequest(PF.ColorPresentationRequest.type,f,_,null))},u=a.middleware;return u.provideColorPresentations?u.provideColorPresentations(i,o,s,c):c(i,o,s)},provideDocumentColors:(i,o)=>{let s=this._client,a=(u,l)=>{let d={textDocument:s.code2ProtocolConverter.asTextDocumentIdentifier(u)};return s.sendRequest(PF.DocumentColorRequest.type,d,l).then(f=>l.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorInformations(f,l),f=>s.handleFailedRequest(PF.DocumentColorRequest.type,l,f,null))},c=s.middleware;return c.provideDocumentColors?c.provideDocumentColors(i,o,a):a(i,o)}};return[FAt.languages.registerColorProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};eV.ColorProviderFeature=kce});var Xje=C(tV=>{"use strict";Object.defineProperty(tV,"__esModule",{value:!0});tV.ImplementationFeature=void 0;var qAt=require("vscode"),Ace=zi(),Lce=ts(),Mce=class extends Lce.TextDocumentLanguageFeature{constructor(e){super(e,Ace.ImplementationRequest.type)}fillClientCapabilities(e){let t=(0,Lce.ensure)((0,Lce.ensure)(e,"textDocument"),"implementation");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.implementationProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideImplementation:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(Ace.ImplementationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(p=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(p,f),p=>a.handleFailedRequest(Ace.ImplementationRequest.type,f,p,null)),u=a.middleware;return u.provideImplementation?u.provideImplementation(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return qAt.languages.registerImplementationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};tV.ImplementationFeature=Mce});var Qje=C(rV=>{"use strict";Object.defineProperty(rV,"__esModule",{value:!0});rV.TypeDefinitionFeature=void 0;var jAt=require("vscode"),Nce=zi(),xF=ts(),Fce=class extends xF.TextDocumentLanguageFeature{constructor(e){super(e,Nce.TypeDefinitionRequest.type)}fillClientCapabilities(e){(0,xF.ensure)((0,xF.ensure)(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let t=(0,xF.ensure)((0,xF.ensure)(e,"textDocument"),"typeDefinition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.typeDefinitionProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideTypeDefinition:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(Nce.TypeDefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(p=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(p,f),p=>a.handleFailedRequest(Nce.TypeDefinitionRequest.type,f,p,null)),u=a.middleware;return u.provideTypeDefinition?u.provideTypeDefinition(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return jAt.languages.registerTypeDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};rV.TypeDefinitionFeature=Fce});var Zje=C(WO=>{"use strict";Object.defineProperty(WO,"__esModule",{value:!0});WO.WorkspaceFoldersFeature=WO.arrayDiff=void 0;var zAt=eu(),nV=require("vscode"),OF=zi();function qce(r,e){if(r!==void 0)return r[e]}function jce(r,e){return r.filter(t=>e.indexOf(t)<0)}WO.arrayDiff=jce;var zce=class{constructor(e){this._client=e,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return OF.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){let t=nV.workspace.workspaceFolders;this.initializeWithFolders(t),t===void 0?e.workspaceFolders=null:e.workspaceFolders=t.map(n=>this.asProtocol(n))}initializeWithFolders(e){this._initialFolders=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){let t=this._client;t.onRequest(OF.WorkspaceFoldersRequest.type,o=>{let s=()=>{let c=nV.workspace.workspaceFolders;return c===void 0?null:c.map(l=>this.asProtocol(l))},a=t.middleware.workspace;return a&&a.workspaceFolders?a.workspaceFolders(o,s):s(o)});let n=qce(qce(qce(e,"workspace"),"workspaceFolders"),"changeNotifications"),i;typeof n=="string"?i=n:n===!0&&(i=zAt.generateUuid()),i&&this.register({id:i,registerOptions:void 0})}sendInitialEvent(e){let t;if(this._initialFolders&&e){let n=jce(this._initialFolders,e),i=jce(e,this._initialFolders);(i.length>0||n.length>0)&&(t=this.doSendEvent(i,n))}else this._initialFolders?t=this.doSendEvent([],this._initialFolders):e&&(t=this.doSendEvent(e,[]));t!==void 0&&t.catch(n=>{this._client.error(`Sending notification ${OF.DidChangeWorkspaceFoldersNotification.type.method} failed`,n)})}doSendEvent(e,t){let n={event:{added:e.map(i=>this.asProtocol(i)),removed:t.map(i=>this.asProtocol(i))}};return this._client.sendNotification(OF.DidChangeWorkspaceFoldersNotification.type,n)}register(e){let t=e.id,n=this._client,i=nV.workspace.onDidChangeWorkspaceFolders(o=>{let s=u=>this.doSendEvent(u.added,u.removed),a=n.middleware.workspace;(a&&a.didChangeWorkspaceFolders?a.didChangeWorkspaceFolders(o,s):s(o)).catch(u=>{this._client.error(`Sending notification ${OF.DidChangeWorkspaceFoldersNotification.type.method} failed`,u)})});this._listeners.set(t,i),this.sendInitialEvent(nV.workspace.workspaceFolders)}unregister(e){let t=this._listeners.get(e);t!==void 0&&(this._listeners.delete(e),t.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return e===void 0?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}};WO.WorkspaceFoldersFeature=zce});var eze=C(iV=>{"use strict";Object.defineProperty(iV,"__esModule",{value:!0});iV.FoldingRangeFeature=void 0;var UAt=require("vscode"),$O=zi(),Uce=ts(),Hce=class extends Uce.TextDocumentLanguageFeature{constructor(e){super(e,$O.FoldingRangeRequest.type)}fillClientCapabilities(e){let t=(0,Uce.ensure)((0,Uce.ensure)(e,"textDocument"),"foldingRange");t.dynamicRegistration=!0,t.rangeLimit=5e3,t.lineFoldingOnly=!0,t.foldingRangeKind={valueSet:[$O.FoldingRangeKind.Comment,$O.FoldingRangeKind.Imports,$O.FoldingRangeKind.Region]},t.foldingRange={collapsedText:!1}}initialize(e,t){let[n,i]=this.getRegistration(t,e.foldingRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideFoldingRanges:(i,o,s)=>{let a=this._client,c=(l,d,f)=>{let p={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l)};return a.sendRequest($O.FoldingRangeRequest.type,p,f).then(_=>f.isCancellationRequested?null:a.protocol2CodeConverter.asFoldingRanges(_,f),_=>a.handleFailedRequest($O.FoldingRangeRequest.type,f,_,null))},u=a.middleware;return u.provideFoldingRanges?u.provideFoldingRanges(i,o,s,c):c(i,o,s)}};return[UAt.languages.registerFoldingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};iV.FoldingRangeFeature=Hce});var tze=C(oV=>{"use strict";Object.defineProperty(oV,"__esModule",{value:!0});oV.DeclarationFeature=void 0;var HAt=require("vscode"),Bce=zi(),Wce=ts(),$ce=class extends Wce.TextDocumentLanguageFeature{constructor(e){super(e,Bce.DeclarationRequest.type)}fillClientCapabilities(e){let t=(0,Wce.ensure)((0,Wce.ensure)(e,"textDocument"),"declaration");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.declarationProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDeclaration:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(Bce.DeclarationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(p=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDeclarationResult(p,f),p=>a.handleFailedRequest(Bce.DeclarationRequest.type,f,p,null)),u=a.middleware;return u.provideDeclaration?u.provideDeclaration(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return HAt.languages.registerDeclarationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};oV.DeclarationFeature=$ce});var rze=C(sV=>{"use strict";Object.defineProperty(sV,"__esModule",{value:!0});sV.SelectionRangeFeature=void 0;var BAt=require("vscode"),Vce=zi(),Gce=ts(),Kce=class extends Gce.TextDocumentLanguageFeature{constructor(e){super(e,Vce.SelectionRangeRequest.type)}fillClientCapabilities(e){let t=(0,Gce.ensure)((0,Gce.ensure)(e,"textDocument"),"selectionRange");t.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.selectionRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideSelectionRanges:(i,o,s)=>{let a=this._client,c=async(l,d,f)=>{let p={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),positions:await a.code2ProtocolConverter.asPositions(d,f)};return a.sendRequest(Vce.SelectionRangeRequest.type,p,f).then(_=>f.isCancellationRequested?null:a.protocol2CodeConverter.asSelectionRanges(_,f),_=>a.handleFailedRequest(Vce.SelectionRangeRequest.type,f,_,null))},u=a.middleware;return u.provideSelectionRanges?u.provideSelectionRanges(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return BAt.languages.registerSelectionRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};sV.SelectionRangeFeature=Kce});var ize=C(aV=>{"use strict";Object.defineProperty(aV,"__esModule",{value:!0});aV.ProgressFeature=void 0;var nze=zi(),WAt=Eae();function $At(r,e){return r[e]===void 0&&(r[e]=Object.create(null)),r[e]}var Yce=class{constructor(e){this._client=e,this.activeParts=new Set}getState(){return{kind:"window",id:nze.WorkDoneProgressCreateRequest.method,registrations:this.activeParts.size>0}}fillClientCapabilities(e){$At(e,"window").workDoneProgress=!0}initialize(){let e=this._client,t=i=>{this.activeParts.delete(i)},n=i=>{this.activeParts.add(new WAt.ProgressPart(this._client,i.token,t))};e.onRequest(nze.WorkDoneProgressCreateRequest.type,n)}dispose(){for(let e of this.activeParts)e.done();this.activeParts.clear()}};aV.ProgressFeature=Yce});var oze=C(cV=>{"use strict";Object.defineProperty(cV,"__esModule",{value:!0});cV.CallHierarchyFeature=void 0;var VAt=require("vscode"),BE=zi(),Jce=ts(),Xce=class{constructor(e){this.client=e,this.middleware=e.middleware}prepareCallHierarchy(e,t,n){let i=this.client,o=this.middleware,s=(a,c,u)=>{let l=i.code2ProtocolConverter.asTextDocumentPositionParams(a,c);return i.sendRequest(BE.CallHierarchyPrepareRequest.type,l,u).then(d=>u.isCancellationRequested?null:i.protocol2CodeConverter.asCallHierarchyItems(d,u),d=>i.handleFailedRequest(BE.CallHierarchyPrepareRequest.type,u,d,null))};return o.prepareCallHierarchy?o.prepareCallHierarchy(e,t,n,s):s(e,t,n)}provideCallHierarchyIncomingCalls(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asCallHierarchyItem(s)};return n.sendRequest(BE.CallHierarchyIncomingCallsRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asCallHierarchyIncomingCalls(u,a),u=>n.handleFailedRequest(BE.CallHierarchyIncomingCallsRequest.type,a,u,null))};return i.provideCallHierarchyIncomingCalls?i.provideCallHierarchyIncomingCalls(e,t,o):o(e,t)}provideCallHierarchyOutgoingCalls(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asCallHierarchyItem(s)};return n.sendRequest(BE.CallHierarchyOutgoingCallsRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asCallHierarchyOutgoingCalls(u,a),u=>n.handleFailedRequest(BE.CallHierarchyOutgoingCallsRequest.type,a,u,null))};return i.provideCallHierarchyOutgoingCalls?i.provideCallHierarchyOutgoingCalls(e,t,o):o(e,t)}},Qce=class extends Jce.TextDocumentLanguageFeature{constructor(e){super(e,BE.CallHierarchyPrepareRequest.type)}fillClientCapabilities(e){let t=e,n=(0,Jce.ensure)((0,Jce.ensure)(t,"textDocument"),"callHierarchy");n.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.callHierarchyProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=this._client,n=new Xce(t);return[VAt.languages.registerCallHierarchyProvider(this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector),n),n]}};cV.CallHierarchyFeature=Qce});var sze=C(lV=>{"use strict";Object.defineProperty(lV,"__esModule",{value:!0});lV.SemanticTokensFeature=void 0;var uV=require("vscode"),Wi=zi(),IF=ts(),GAt=Zv(),Zce=class extends IF.TextDocumentLanguageFeature{constructor(e){super(e,Wi.SemanticTokensRegistrationType.type)}fillClientCapabilities(e){let t=(0,IF.ensure)((0,IF.ensure)(e,"textDocument"),"semanticTokens");t.dynamicRegistration=!0,t.tokenTypes=[Wi.SemanticTokenTypes.namespace,Wi.SemanticTokenTypes.type,Wi.SemanticTokenTypes.class,Wi.SemanticTokenTypes.enum,Wi.SemanticTokenTypes.interface,Wi.SemanticTokenTypes.struct,Wi.SemanticTokenTypes.typeParameter,Wi.SemanticTokenTypes.parameter,Wi.SemanticTokenTypes.variable,Wi.SemanticTokenTypes.property,Wi.SemanticTokenTypes.enumMember,Wi.SemanticTokenTypes.event,Wi.SemanticTokenTypes.function,Wi.SemanticTokenTypes.method,Wi.SemanticTokenTypes.macro,Wi.SemanticTokenTypes.keyword,Wi.SemanticTokenTypes.modifier,Wi.SemanticTokenTypes.comment,Wi.SemanticTokenTypes.string,Wi.SemanticTokenTypes.number,Wi.SemanticTokenTypes.regexp,Wi.SemanticTokenTypes.operator,Wi.SemanticTokenTypes.decorator],t.tokenModifiers=[Wi.SemanticTokenModifiers.declaration,Wi.SemanticTokenModifiers.definition,Wi.SemanticTokenModifiers.readonly,Wi.SemanticTokenModifiers.static,Wi.SemanticTokenModifiers.deprecated,Wi.SemanticTokenModifiers.abstract,Wi.SemanticTokenModifiers.async,Wi.SemanticTokenModifiers.modification,Wi.SemanticTokenModifiers.documentation,Wi.SemanticTokenModifiers.defaultLibrary],t.formats=[Wi.TokenFormat.Relative],t.requests={range:!0,full:{delta:!0}},t.multilineTokenSupport=!1,t.overlappingTokenSupport=!1,t.serverCancelSupport=!0,t.augmentsSyntaxTokens=!0,(0,IF.ensure)((0,IF.ensure)(e,"workspace"),"semanticTokens").refreshSupport=!0}initialize(e,t){this._client.onRequest(Wi.SemanticTokensRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeSemanticTokensEmitter.fire()});let[i,o]=this.getRegistration(t,e.semanticTokensProvider);!i||!o||this.register({id:i,registerOptions:o})}registerLanguageProvider(e){let t=e.documentSelector,n=GAt.boolean(e.full)?e.full:e.full!==void 0,i=e.full!==void 0&&typeof e.full!="boolean"&&e.full.delta===!0,o=new uV.EventEmitter,s=n?{onDidChangeSemanticTokens:o.event,provideDocumentSemanticTokens:(p,_)=>{let D=this._client,P=D.middleware,M=(A,U)=>{let ne={textDocument:D.code2ProtocolConverter.asTextDocumentIdentifier(A)};return D.sendRequest(Wi.SemanticTokensRequest.type,ne,U).then(pe=>U.isCancellationRequested?null:D.protocol2CodeConverter.asSemanticTokens(pe,U),pe=>D.handleFailedRequest(Wi.SemanticTokensRequest.type,U,pe,null))};return P.provideDocumentSemanticTokens?P.provideDocumentSemanticTokens(p,_,M):M(p,_)},provideDocumentSemanticTokensEdits:i?(p,_,D)=>{let P=this._client,M=P.middleware,A=(U,ne,pe)=>{let ve={textDocument:P.code2ProtocolConverter.asTextDocumentIdentifier(U),previousResultId:ne};return P.sendRequest(Wi.SemanticTokensDeltaRequest.type,ve,pe).then(async V=>pe.isCancellationRequested?null:Wi.SemanticTokens.is(V)?await P.protocol2CodeConverter.asSemanticTokens(V,pe):await P.protocol2CodeConverter.asSemanticTokensEdits(V,pe),V=>P.handleFailedRequest(Wi.SemanticTokensDeltaRequest.type,pe,V,null))};return M.provideDocumentSemanticTokensEdits?M.provideDocumentSemanticTokensEdits(p,_,D,A):A(p,_,D)}:void 0}:void 0,c=e.range===!0?{provideDocumentRangeSemanticTokens:(p,_,D)=>{let P=this._client,M=P.middleware,A=(U,ne,pe)=>{let ve={textDocument:P.code2ProtocolConverter.asTextDocumentIdentifier(U),range:P.code2ProtocolConverter.asRange(ne)};return P.sendRequest(Wi.SemanticTokensRangeRequest.type,ve,pe).then(V=>pe.isCancellationRequested?null:P.protocol2CodeConverter.asSemanticTokens(V,pe),V=>P.handleFailedRequest(Wi.SemanticTokensRangeRequest.type,pe,V,null))};return M.provideDocumentRangeSemanticTokens?M.provideDocumentRangeSemanticTokens(p,_,D,A):A(p,_,D)}}:void 0,u=[],l=this._client,d=l.protocol2CodeConverter.asSemanticTokensLegend(e.legend),f=l.protocol2CodeConverter.asDocumentSelector(t);return s!==void 0&&u.push(uV.languages.registerDocumentSemanticTokensProvider(f,s,d)),c!==void 0&&u.push(uV.languages.registerDocumentRangeSemanticTokensProvider(f,c,d)),[new uV.Disposable(()=>u.forEach(p=>p.dispose())),{range:c,full:s,onDidChangeSemanticTokensEmitter:o}]}};lV.SemanticTokensFeature=Zce});var uze=C(km=>{"use strict";Object.defineProperty(km,"__esModule",{value:!0});km.WillDeleteFilesFeature=km.WillRenameFilesFeature=km.WillCreateFilesFeature=km.DidDeleteFilesFeature=km.DidRenameFilesFeature=km.DidCreateFilesFeature=void 0;var iy=require("vscode"),KAt=nE(),sC=zi(),YAt=eu();function aze(r,e){return r[e]===void 0&&(r[e]={}),r[e]}function JAt(r,e){return r[e]}function cze(r,e,t){r[e]=t}var kF=class r{constructor(e,t,n,i,o){this._client=e,this._event=t,this._registrationType=n,this._clientCapability=i,this._serverCapability=o,this._filters=new Map}getState(){return{kind:"workspace",id:this._registrationType.method,registrations:this._filters.size>0}}filterSize(){return this._filters.size}get registrationType(){return this._registrationType}fillClientCapabilities(e){let t=aze(aze(e,"workspace"),"fileOperations");cze(t,"dynamicRegistration",!0),cze(t,this._clientCapability,!0)}initialize(e){let t=e.workspace?.fileOperations,n=t!==void 0?JAt(t,this._serverCapability):void 0;if(n?.filters!==void 0)try{this.register({id:YAt.generateUuid(),registerOptions:{filters:n.filters}})}catch(i){this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${i}`)}}register(e){this._listener||(this._listener=this._event(this.send,this));let t=e.registerOptions.filters.map(n=>{let i=new KAt.Minimatch(n.pattern.glob,r.asMinimatchOptions(n.pattern.options));if(!i.makeRe())throw new Error(`Invalid pattern ${n.pattern.glob}!`);return{scheme:n.scheme,matcher:i,kind:n.pattern.matches}});this._filters.set(e.id,t)}unregister(e){this._filters.delete(e),this._filters.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getFileType(e){return r.getFileType(e)}async filter(e,t){let n=await Promise.all(e.files.map(async o=>{let s=t(o),a=s.fsPath.replace(/\\/g,"/");for(let c of this._filters.values())for(let u of c)if(!(u.scheme!==void 0&&u.scheme!==s.scheme)){if(u.matcher.match(a)){if(u.kind===void 0)return!0;let l=await this.getFileType(s);if(l===void 0)return this._client.error(`Failed to determine file type for ${s.toString()}.`),!0;if(l===iy.FileType.File&&u.kind===sC.FileOperationPatternKind.file||l===iy.FileType.Directory&&u.kind===sC.FileOperationPatternKind.folder)return!0}else if(u.kind===sC.FileOperationPatternKind.folder&&await r.getFileType(s)===iy.FileType.Directory&&u.matcher.match(`${a}/`))return!0}return!1})),i=e.files.filter((o,s)=>n[s]);return{...e,files:i}}static async getFileType(e){try{return(await iy.workspace.fs.stat(e)).type}catch{return}}static asMinimatchOptions(e){if(e!==void 0&&e.ignoreCase===!0)return{nocase:!0}}},dV=class extends kF{constructor(e,t,n,i,o,s,a){super(e,t,n,i,o),this._notificationType=n,this._accessUri=s,this._createParams=a}async send(e){let t=await this.filter(e,this._accessUri);if(t.files.length){let n=async i=>this._client.sendNotification(this._notificationType,this._createParams(i));return this.doSend(t,n)}}},fV=class extends dV{constructor(){super(...arguments),this._fsPathFileTypes=new Map}async getFileType(e){let t=e.fsPath;if(this._fsPathFileTypes.has(t))return this._fsPathFileTypes.get(t);let n=await kF.getFileType(e);return n&&this._fsPathFileTypes.set(t,n),n}async cacheFileTypes(e,t){await this.filter(e,t)}clearFileTypeCache(){this._fsPathFileTypes.clear()}unregister(e){super.unregister(e),this.filterSize()===0&&this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}dispose(){super.dispose(),this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}},eue=class extends dV{constructor(e){super(e,iy.workspace.onDidCreateFiles,sC.DidCreateFilesNotification.type,"didCreate","didCreate",t=>t,e.code2ProtocolConverter.asDidCreateFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.didCreateFiles?n.didCreateFiles(e,t):t(e)}};km.DidCreateFilesFeature=eue;var tue=class extends fV{constructor(e){super(e,iy.workspace.onDidRenameFiles,sC.DidRenameFilesNotification.type,"didRename","didRename",t=>t.oldUri,e.code2ProtocolConverter.asDidRenameFilesParams)}register(e){this._willListener||(this._willListener=iy.workspace.onWillRenameFiles(this.willRename,this)),super.register(e)}willRename(e){e.waitUntil(this.cacheFileTypes(e,t=>t.oldUri))}doSend(e,t){this.clearFileTypeCache();let n=this._client.middleware.workspace;return n?.didRenameFiles?n.didRenameFiles(e,t):t(e)}};km.DidRenameFilesFeature=tue;var rue=class extends fV{constructor(e){super(e,iy.workspace.onDidDeleteFiles,sC.DidDeleteFilesNotification.type,"didDelete","didDelete",t=>t,e.code2ProtocolConverter.asDidDeleteFilesParams)}register(e){this._willListener||(this._willListener=iy.workspace.onWillDeleteFiles(this.willDelete,this)),super.register(e)}willDelete(e){e.waitUntil(this.cacheFileTypes(e,t=>t))}doSend(e,t){this.clearFileTypeCache();let n=this._client.middleware.workspace;return n?.didDeleteFiles?n.didDeleteFiles(e,t):t(e)}};km.DidDeleteFilesFeature=rue;var AF=class extends kF{constructor(e,t,n,i,o,s,a){super(e,t,n,i,o),this._requestType=n,this._accessUri=s,this._createParams=a}async send(e){let t=this.waitUntil(e);e.waitUntil(t)}async waitUntil(e){let t=await this.filter(e,this._accessUri);if(t.files.length){let n=i=>this._client.sendRequest(this._requestType,this._createParams(i),i.token).then(this._client.protocol2CodeConverter.asWorkspaceEdit);return this.doSend(t,n)}else return}},nue=class extends AF{constructor(e){super(e,iy.workspace.onWillCreateFiles,sC.WillCreateFilesRequest.type,"willCreate","willCreate",t=>t,e.code2ProtocolConverter.asWillCreateFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.willCreateFiles?n.willCreateFiles(e,t):t(e)}};km.WillCreateFilesFeature=nue;var iue=class extends AF{constructor(e){super(e,iy.workspace.onWillRenameFiles,sC.WillRenameFilesRequest.type,"willRename","willRename",t=>t.oldUri,e.code2ProtocolConverter.asWillRenameFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.willRenameFiles?n.willRenameFiles(e,t):t(e)}};km.WillRenameFilesFeature=iue;var oue=class extends AF{constructor(e){super(e,iy.workspace.onWillDeleteFiles,sC.WillDeleteFilesRequest.type,"willDelete","willDelete",t=>t,e.code2ProtocolConverter.asWillDeleteFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.willDeleteFiles?n.willDeleteFiles(e,t):t(e)}};km.WillDeleteFilesFeature=oue});var lze=C(hV=>{"use strict";Object.defineProperty(hV,"__esModule",{value:!0});hV.LinkedEditingFeature=void 0;var XAt=require("vscode"),sue=zi(),aue=ts(),cue=class extends aue.TextDocumentLanguageFeature{constructor(e){super(e,sue.LinkedEditingRangeRequest.type)}fillClientCapabilities(e){let t=(0,aue.ensure)((0,aue.ensure)(e,"textDocument"),"linkedEditingRange");t.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.linkedEditingRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideLinkedEditingRanges:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(sue.LinkedEditingRangeRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(p=>f.isCancellationRequested?null:a.protocol2CodeConverter.asLinkedEditingRanges(p,f),p=>a.handleFailedRequest(sue.LinkedEditingRangeRequest.type,f,p,null)),u=a.middleware;return u.provideLinkedEditingRange?u.provideLinkedEditingRange(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return XAt.languages.registerLinkedEditingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};hV.LinkedEditingFeature=cue});var dze=C(pV=>{"use strict";Object.defineProperty(pV,"__esModule",{value:!0});pV.TypeHierarchyFeature=void 0;var QAt=require("vscode"),WE=zi(),uue=ts(),lue=class{constructor(e){this.client=e,this.middleware=e.middleware}prepareTypeHierarchy(e,t,n){let i=this.client,o=this.middleware,s=(a,c,u)=>{let l=i.code2ProtocolConverter.asTextDocumentPositionParams(a,c);return i.sendRequest(WE.TypeHierarchyPrepareRequest.type,l,u).then(d=>u.isCancellationRequested?null:i.protocol2CodeConverter.asTypeHierarchyItems(d,u),d=>i.handleFailedRequest(WE.TypeHierarchyPrepareRequest.type,u,d,null))};return o.prepareTypeHierarchy?o.prepareTypeHierarchy(e,t,n,s):s(e,t,n)}provideTypeHierarchySupertypes(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asTypeHierarchyItem(s)};return n.sendRequest(WE.TypeHierarchySupertypesRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asTypeHierarchyItems(u,a),u=>n.handleFailedRequest(WE.TypeHierarchySupertypesRequest.type,a,u,null))};return i.provideTypeHierarchySupertypes?i.provideTypeHierarchySupertypes(e,t,o):o(e,t)}provideTypeHierarchySubtypes(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asTypeHierarchyItem(s)};return n.sendRequest(WE.TypeHierarchySubtypesRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asTypeHierarchyItems(u,a),u=>n.handleFailedRequest(WE.TypeHierarchySubtypesRequest.type,a,u,null))};return i.provideTypeHierarchySubtypes?i.provideTypeHierarchySubtypes(e,t,o):o(e,t)}},due=class extends uue.TextDocumentLanguageFeature{constructor(e){super(e,WE.TypeHierarchyPrepareRequest.type)}fillClientCapabilities(e){let t=(0,uue.ensure)((0,uue.ensure)(e,"textDocument"),"typeHierarchy");t.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.typeHierarchyProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=this._client,n=new lue(t);return[QAt.languages.registerTypeHierarchyProvider(t.protocol2CodeConverter.asDocumentSelector(e.documentSelector),n),n]}};pV.TypeHierarchyFeature=due});var hze=C(gV=>{"use strict";Object.defineProperty(gV,"__esModule",{value:!0});gV.InlineValueFeature=void 0;var fze=require("vscode"),mV=zi(),LF=ts(),fue=class extends LF.TextDocumentLanguageFeature{constructor(e){super(e,mV.InlineValueRequest.type)}fillClientCapabilities(e){(0,LF.ensure)((0,LF.ensure)(e,"textDocument"),"inlineValue").dynamicRegistration=!0,(0,LF.ensure)((0,LF.ensure)(e,"workspace"),"inlineValue").refreshSupport=!0}initialize(e,t){this._client.onRequest(mV.InlineValueRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeInlineValues.fire()});let[n,i]=this.getRegistration(t,e.inlineValueProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n=new fze.EventEmitter,i={onDidChangeInlineValues:n.event,provideInlineValues:(o,s,a,c)=>{let u=this._client,l=(f,p,_,D)=>{let P={textDocument:u.code2ProtocolConverter.asTextDocumentIdentifier(f),range:u.code2ProtocolConverter.asRange(p),context:u.code2ProtocolConverter.asInlineValueContext(_)};return u.sendRequest(mV.InlineValueRequest.type,P,D).then(M=>D.isCancellationRequested?null:u.protocol2CodeConverter.asInlineValues(M,D),M=>u.handleFailedRequest(mV.InlineValueRequest.type,D,M,null))},d=u.middleware;return d.provideInlineValues?d.provideInlineValues(o,s,a,c,l):l(o,s,a,c)}};return[this.registerProvider(t,i),{provider:i,onDidChangeInlineValues:n}]}registerProvider(e,t){return fze.languages.registerInlineValuesProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};gV.InlineValueFeature=fue});var mze=C(vV=>{"use strict";Object.defineProperty(vV,"__esModule",{value:!0});vV.InlayHintsFeature=void 0;var pze=require("vscode"),VO=zi(),MF=ts(),hue=class extends MF.TextDocumentLanguageFeature{constructor(e){super(e,VO.InlayHintRequest.type)}fillClientCapabilities(e){let t=(0,MF.ensure)((0,MF.ensure)(e,"textDocument"),"inlayHint");t.dynamicRegistration=!0,t.resolveSupport={properties:["tooltip","textEdits","label.tooltip","label.location","label.command"]},(0,MF.ensure)((0,MF.ensure)(e,"workspace"),"inlayHint").refreshSupport=!0}initialize(e,t){this._client.onRequest(VO.InlayHintRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeInlayHints.fire()});let[n,i]=this.getRegistration(t,e.inlayHintProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n=new pze.EventEmitter,i={onDidChangeInlayHints:n.event,provideInlayHints:(o,s,a)=>{let c=this._client,u=async(d,f,p)=>{let _={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),range:c.code2ProtocolConverter.asRange(f)};try{let D=await c.sendRequest(VO.InlayHintRequest.type,_,p);return p.isCancellationRequested?null:c.protocol2CodeConverter.asInlayHints(D,p)}catch(D){return c.handleFailedRequest(VO.InlayHintRequest.type,p,D,null)}},l=c.middleware;return l.provideInlayHints?l.provideInlayHints(o,s,a,u):u(o,s,a)}};return i.resolveInlayHint=e.resolveProvider===!0?(o,s)=>{let a=this._client,c=async(l,d)=>{try{let f=await a.sendRequest(VO.InlayHintResolveRequest.type,a.code2ProtocolConverter.asInlayHint(l),d);if(d.isCancellationRequested)return null;let p=a.protocol2CodeConverter.asInlayHint(f,d);return d.isCancellationRequested?null:p}catch(f){return a.handleFailedRequest(VO.InlayHintResolveRequest.type,d,f,null)}},u=a.middleware;return u.resolveInlayHint?u.resolveInlayHint(o,s,c):c(o,s)}:void 0,[this.registerProvider(t,i),{provider:i,onDidChangeInlayHints:n}]}registerProvider(e,t){return pze.languages.registerInlayHintsProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};vV.InlayHintsFeature=hue});var vue=C(Za=>{"use strict";Object.defineProperty(Za,"__esModule",{value:!0});Za.ProposedFeatures=Za.BaseLanguageClient=Za.MessageTransports=Za.SuspendMode=Za.State=Za.CloseAction=Za.ErrorAction=Za.RevealOutputChannelOn=void 0;var Bs=require("vscode"),Mr=zi(),ZAt=mje(),eLt=yje(),oy=Zv(),gze=vF(),vze=eu(),tLt=Eae(),w_=ts(),rLt=zae(),yze=Rje(),_ze=xje(),GO=Oje(),nLt=Ije(),iLt=kje(),oLt=Aje(),sLt=Mje(),aLt=Nje(),cLt=dce(),uLt=qje(),lLt=jje(),dLt=zje(),fLt=Hje(),pue=Bje(),hLt=$je(),pLt=Vje(),mLt=Kje(),gLt=Yje(),vLt=Jje(),yLt=Xje(),_Lt=Qje(),bLt=Zje(),wLt=eze(),SLt=tze(),CLt=rze(),TLt=ize(),DLt=oze(),ELt=sze(),KO=uze(),RLt=lze(),PLt=dze(),xLt=hze(),OLt=mze(),NF;(function(r){r[r.Info=1]="Info",r[r.Warn=2]="Warn",r[r.Error=3]="Error",r[r.Never=4]="Never"})(NF=Za.RevealOutputChannelOn||(Za.RevealOutputChannelOn={}));var _V;(function(r){r[r.Continue=1]="Continue",r[r.Shutdown=2]="Shutdown"})(_V=Za.ErrorAction||(Za.ErrorAction={}));var $E;(function(r){r[r.DoNotRestart=1]="DoNotRestart",r[r.Restart=2]="Restart"})($E=Za.CloseAction||(Za.CloseAction={}));var yV;(function(r){r[r.Stopped=1]="Stopped",r[r.Starting=3]="Starting",r[r.Running=2]="Running"})(yV=Za.State||(Za.State={}));var ILt;(function(r){r.off="off",r.on="on"})(ILt=Za.SuspendMode||(Za.SuspendMode={}));var mue=class{constructor(e,t){this.client=e,this.maxRestartCount=t,this.restarts=[]}error(e,t,n){return n&&n<=3?{action:_V.Continue}:{action:_V.Shutdown}}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?{action:$E.Restart}:this.restarts[this.restarts.length-1]-this.restarts[0]<=3*60*1e3?{action:$E.DoNotRestart,message:`The ${this.client.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted. See the output for more information.`}:(this.restarts.shift(),{action:$E.Restart})}},yo;(function(r){r.Initial="initial",r.Starting="starting",r.StartFailed="startFailed",r.Running="running",r.Stopping="stopping",r.Stopped="stopped"})(yo||(yo={}));var kLt;(function(r){function e(t){return t&&Mr.MessageReader.is(t.reader)&&Mr.MessageWriter.is(t.writer)}r.is=e})(kLt=Za.MessageTransports||(Za.MessageTransports={}));var bV=class r{constructor(e,t,n){this._traceFormat=Mr.TraceFormat.Text,this._diagnosticQueue=new Map,this._diagnosticQueueState={state:"idle"},this._features=[],this._dynamicFeatures=new Map,this.workspaceEditLock=new gze.Semaphore(1),this._id=e,this._name=t,n=n||{};let i={isTrusted:!1,supportHtml:!1};n.markdown!==void 0&&(i.isTrusted=n.markdown.isTrusted===!0,i.supportHtml=n.markdown.supportHtml===!0),this._clientOptions={documentSelector:n.documentSelector??[],synchronize:n.synchronize??{},diagnosticCollectionName:n.diagnosticCollectionName,outputChannelName:n.outputChannelName??this._name,revealOutputChannelOn:n.revealOutputChannelOn??NF.Error,stdioEncoding:n.stdioEncoding??"utf8",initializationOptions:n.initializationOptions,initializationFailedHandler:n.initializationFailedHandler,progressOnInitialization:!!n.progressOnInitialization,errorHandler:n.errorHandler??this.createDefaultErrorHandler(n.connectionOptions?.maxRestartCount),middleware:n.middleware??{},uriConverters:n.uriConverters,workspaceFolder:n.workspaceFolder,connectionOptions:n.connectionOptions,markdown:i,diagnosticPullOptions:n.diagnosticPullOptions??{onChange:!0,onSave:!1},notebookDocumentOptions:n.notebookDocumentOptions??{}},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=yo.Initial,this._ignoredRegistrations=new Set,this._listeners=[],this._notificationHandlers=new Map,this._pendingNotificationHandlers=new Map,this._notificationDisposables=new Map,this._requestHandlers=new Map,this._pendingRequestHandlers=new Map,this._requestDisposables=new Map,this._progressHandlers=new Map,this._pendingProgressHandlers=new Map,this._progressDisposables=new Map,this._connection=void 0,this._initializeResult=void 0,n.outputChannel?(this._outputChannel=n.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=n.traceOutputChannel,this._diagnostics=void 0,this._fileEvents=[],this._fileEventDelayer=new gze.Delayer(250),this._onStop=void 0,this._telemetryEmitter=new Mr.Emitter,this._stateChangeEmitter=new Mr.Emitter,this._trace=Mr.Trace.Off,this._tracer={log:(o,s)=>{oy.string(o)?this.logTrace(o,s):this.logObjectTrace(o)}},this._c2p=ZAt.createConverter(n.uriConverters?n.uriConverters.code2Protocol:void 0),this._p2c=eLt.createConverter(n.uriConverters?n.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted,this._clientOptions.markdown.supportHtml),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get name(){return this._name}get middleware(){return this._clientOptions.middleware??Object.create(null)}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=Bs.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}get state(){return this.getPublicState()}get $state(){return this._state}set $state(e){let t=this.getPublicState();this._state=e;let n=this.getPublicState();n!==t&&this._stateChangeEmitter.fire({oldState:t,newState:n})}getPublicState(){switch(this.$state){case yo.Starting:return yV.Starting;case yo.Running:return yV.Running;default:return yV.Stopped}}get initializeResult(){return this._initializeResult}async sendRequest(e,...t){if(this.$state===yo.StartFailed||this.$state===yo.Stopping||this.$state===yo.Stopped)return Promise.reject(new Mr.ResponseError(Mr.ErrorCodes.ConnectionInactive,"Client is not running"));try{let n=await this.$start();return await this.forceDocumentSync(),n.sendRequest(e,...t)}catch(n){throw this.error(`Sending request ${oy.string(e)?e:e.method} failed.`,n),n}}onRequest(e,t){let n=typeof e=="string"?e:e.method;this._requestHandlers.set(n,t);let i=this.activeConnection(),o;return i!==void 0?(this._requestDisposables.set(n,i.onRequest(e,t)),o={dispose:()=>{let s=this._requestDisposables.get(n);s!==void 0&&(s.dispose(),this._requestDisposables.delete(n))}}):(this._pendingRequestHandlers.set(n,t),o={dispose:()=>{this._pendingRequestHandlers.delete(n);let s=this._requestDisposables.get(n);s!==void 0&&(s.dispose(),this._requestDisposables.delete(n))}}),{dispose:()=>{this._requestHandlers.delete(n),o.dispose()}}}async sendNotification(e,t){if(this.$state===yo.StartFailed||this.$state===yo.Stopping||this.$state===yo.Stopped)return Promise.reject(new Mr.ResponseError(Mr.ErrorCodes.ConnectionInactive,"Client is not running"));try{let n=await this.$start();return await this.forceDocumentSync(),n.sendNotification(e,t)}catch(n){throw this.error(`Sending notification ${oy.string(e)?e:e.method} failed.`,n),n}}onNotification(e,t){let n=typeof e=="string"?e:e.method;this._notificationHandlers.set(n,t);let i=this.activeConnection(),o;return i!==void 0?(this._notificationDisposables.set(n,i.onNotification(e,t)),o={dispose:()=>{let s=this._notificationDisposables.get(n);s!==void 0&&(s.dispose(),this._notificationDisposables.delete(n))}}):(this._pendingNotificationHandlers.set(n,t),o={dispose:()=>{this._pendingNotificationHandlers.delete(n);let s=this._notificationDisposables.get(n);s!==void 0&&(s.dispose(),this._notificationDisposables.delete(n))}}),{dispose:()=>{this._notificationHandlers.delete(n),o.dispose()}}}async sendProgress(e,t,n){if(this.$state===yo.StartFailed||this.$state===yo.Stopping||this.$state===yo.Stopped)return Promise.reject(new Mr.ResponseError(Mr.ErrorCodes.ConnectionInactive,"Client is not running"));try{return(await this.$start()).sendProgress(e,t,n)}catch(i){throw this.error(`Sending progress for token ${t} failed.`,i),i}}onProgress(e,t,n){this._progressHandlers.set(t,{type:e,handler:n});let i=this.activeConnection(),o,s=this._clientOptions.middleware?.handleWorkDoneProgress,a=Mr.WorkDoneProgress.is(e)&&s!==void 0?c=>{s(t,c,()=>n(c))}:n;return i!==void 0?(this._progressDisposables.set(t,i.onProgress(e,t,a)),o={dispose:()=>{let c=this._progressDisposables.get(t);c!==void 0&&(c.dispose(),this._progressDisposables.delete(t))}}):(this._pendingProgressHandlers.set(t,{type:e,handler:n}),o={dispose:()=>{this._pendingProgressHandlers.delete(t);let c=this._progressDisposables.get(t);c!==void 0&&(c.dispose(),this._progressDisposables.delete(t))}}),{dispose:()=>{this._progressHandlers.delete(t),o.dispose()}}}createDefaultErrorHandler(e){if(e!==void 0&&e<0)throw new Error(`Invalid maxRestartCount: ${e}`);return new mue(this,e??4)}async setTrace(e){this._trace=e;let t=this.activeConnection();t!==void 0&&await t.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})}data2String(e){if(e instanceof Mr.ResponseError){let t=e;return`  Message: ${t.message}
  Code: ${t.code} ${t.data?`
`+t.data.toString():""}`}return e instanceof Error?oy.string(e.stack)?e.stack:e.message:oy.string(e)?e:e.toString()}info(e,t,n=!0){this.outputChannel.appendLine(`[Info  - ${new Date().toLocaleTimeString()}] ${e}`),t!=null&&this.outputChannel.appendLine(this.data2String(t)),n&&this._clientOptions.revealOutputChannelOn<=NF.Info&&this.showNotificationMessage(Mr.MessageType.Info,e)}warn(e,t,n=!0){this.outputChannel.appendLine(`[Warn  - ${new Date().toLocaleTimeString()}] ${e}`),t!=null&&this.outputChannel.appendLine(this.data2String(t)),n&&this._clientOptions.revealOutputChannelOn<=NF.Warn&&this.showNotificationMessage(Mr.MessageType.Warning,e)}error(e,t,n=!0){this.outputChannel.appendLine(`[Error - ${new Date().toLocaleTimeString()}] ${e}`),t!=null&&this.outputChannel.appendLine(this.data2String(t)),(n==="force"||n&&this._clientOptions.revealOutputChannelOn<=NF.Error)&&this.showNotificationMessage(Mr.MessageType.Error,e)}showNotificationMessage(e,t){t=t??"A request has failed. See the output for more information.",(e===Mr.MessageType.Error?Bs.window.showErrorMessage:e===Mr.MessageType.Warning?Bs.window.showWarningMessage:Bs.window.showInformationMessage)(t,"Go to output").then(i=>{i!==void 0&&this.outputChannel.show(!0)})}logTrace(e,t){this.traceOutputChannel.appendLine(`[Trace - ${new Date().toLocaleTimeString()}] ${e}`),t&&this.traceOutputChannel.appendLine(this.data2String(t))}logObjectTrace(e){e.isLSPMessage&&e.type?this.traceOutputChannel.append(`[LSP   - ${new Date().toLocaleTimeString()}] `):this.traceOutputChannel.append(`[Trace - ${new Date().toLocaleTimeString()}] `),e&&this.traceOutputChannel.appendLine(`${JSON.stringify(e)}`)}needsStart(){return this.$state===yo.Initial||this.$state===yo.Stopping||this.$state===yo.Stopped}needsStop(){return this.$state===yo.Starting||this.$state===yo.Running}activeConnection(){return this.$state===yo.Running&&this._connection!==void 0?this._connection:void 0}isRunning(){return this.$state===yo.Running}async start(){if(this._disposed==="disposing"||this._disposed==="disposed")throw new Error("Client got disposed and can't be restarted.");if(this.$state===yo.Stopping)throw new Error("Client is currently stopping. Can only restart a full stopped client");if(this._onStart!==void 0)return this._onStart;let[e,t,n]=this.createOnStartPromise();this._onStart=e,this._diagnostics===void 0&&(this._diagnostics=this._clientOptions.diagnosticCollectionName?Bs.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):Bs.languages.createDiagnosticCollection());for(let[i,o]of this._notificationHandlers)this._pendingNotificationHandlers.has(i)||this._pendingNotificationHandlers.set(i,o);for(let[i,o]of this._requestHandlers)this._pendingRequestHandlers.has(i)||this._pendingRequestHandlers.set(i,o);for(let[i,o]of this._progressHandlers)this._pendingProgressHandlers.has(i)||this._pendingProgressHandlers.set(i,o);this.$state=yo.Starting;try{let i=await this.createConnection();i.onNotification(Mr.LogMessageNotification.type,o=>{switch(o.type){case Mr.MessageType.Error:this.error(o.message,void 0,!1);break;case Mr.MessageType.Warning:this.warn(o.message,void 0,!1);break;case Mr.MessageType.Info:this.info(o.message,void 0,!1);break;default:this.outputChannel.appendLine(o.message)}}),i.onNotification(Mr.ShowMessageNotification.type,o=>{switch(o.type){case Mr.MessageType.Error:Bs.window.showErrorMessage(o.message);break;case Mr.MessageType.Warning:Bs.window.showWarningMessage(o.message);break;case Mr.MessageType.Info:Bs.window.showInformationMessage(o.message);break;default:Bs.window.showInformationMessage(o.message)}}),i.onRequest(Mr.ShowMessageRequest.type,o=>{let s;switch(o.type){case Mr.MessageType.Error:s=Bs.window.showErrorMessage;break;case Mr.MessageType.Warning:s=Bs.window.showWarningMessage;break;case Mr.MessageType.Info:s=Bs.window.showInformationMessage;break;default:s=Bs.window.showInformationMessage}let a=o.actions||[];return s(o.message,...a)}),i.onNotification(Mr.TelemetryEventNotification.type,o=>{this._telemetryEmitter.fire(o)}),i.onRequest(Mr.ShowDocumentRequest.type,async o=>{let s=async c=>{let u=this.protocol2CodeConverter.asUri(c.uri);try{if(c.external===!0)return{success:await Bs.env.openExternal(u)};{let l={};return c.selection!==void 0&&(l.selection=this.protocol2CodeConverter.asRange(c.selection)),c.takeFocus===void 0||c.takeFocus===!1?l.preserveFocus=!0:c.takeFocus===!0&&(l.preserveFocus=!1),await Bs.window.showTextDocument(u,l),{success:!0}}}catch{return{success:!1}}},a=this._clientOptions.middleware.window?.showDocument;return a!==void 0?a(o,s):s(o)}),i.listen(),await this.initialize(i),t()}catch(i){this.$state=yo.StartFailed,this.error(`${this._name} client: couldn't create connection to server.`,i,"force"),n(i)}return this._onStart}createOnStartPromise(){let e,t;return[new Promise((i,o)=>{e=i,t=o}),e,t]}async initialize(e){this.refreshTrace(e,!1);let t=this._clientOptions.initializationOptions,[n,i]=this._clientOptions.workspaceFolder!==void 0?[this._clientOptions.workspaceFolder.uri.fsPath,[{uri:this._c2p.asUri(this._clientOptions.workspaceFolder.uri),name:this._clientOptions.workspaceFolder.name}]]:[this._clientGetRootPath(),null],o={processId:null,clientInfo:{name:Bs.env.appName,version:Bs.version},locale:this.getLocale(),rootPath:n||null,rootUri:n?this._c2p.asUri(Bs.Uri.file(n)):null,capabilities:this.computeClientCapabilities(),initializationOptions:oy.func(t)?t():t,trace:Mr.Trace.toString(this._trace),workspaceFolders:i};if(this.fillInitializeParams(o),this._clientOptions.progressOnInitialization){let s=vze.generateUuid(),a=new tLt.ProgressPart(e,s);o.workDoneToken=s;try{let c=await this.doInitialize(e,o);return a.done(),c}catch(c){throw a.cancel(),c}}else return this.doInitialize(e,o)}async doInitialize(e,t){try{let n=await e.initialize(t);if(n.capabilities.positionEncoding!==void 0&&n.capabilities.positionEncoding!==Mr.PositionEncodingKind.UTF16)throw new Error(`Unsupported position encoding (${n.capabilities.positionEncoding}) received from server ${this.name}`);this._initializeResult=n,this.$state=yo.Running;let i;oy.number(n.capabilities.textDocumentSync)?n.capabilities.textDocumentSync===Mr.TextDocumentSyncKind.None?i={openClose:!1,change:Mr.TextDocumentSyncKind.None,save:void 0}:i={openClose:!0,change:n.capabilities.textDocumentSync,save:{includeText:!1}}:n.capabilities.textDocumentSync!==void 0&&n.capabilities.textDocumentSync!==null&&(i=n.capabilities.textDocumentSync),this._capabilities=Object.assign({},n.capabilities,{resolvedTextDocumentSync:i}),e.onNotification(Mr.PublishDiagnosticsNotification.type,o=>this.handleDiagnostics(o)),e.onRequest(Mr.RegistrationRequest.type,o=>this.handleRegistrationRequest(o)),e.onRequest("client/registerFeature",o=>this.handleRegistrationRequest(o)),e.onRequest(Mr.UnregistrationRequest.type,o=>this.handleUnregistrationRequest(o)),e.onRequest("client/unregisterFeature",o=>this.handleUnregistrationRequest(o)),e.onRequest(Mr.ApplyWorkspaceEditRequest.type,o=>this.handleApplyWorkspaceEdit(o));for(let[o,s]of this._pendingNotificationHandlers)this._notificationDisposables.set(o,e.onNotification(o,s));this._pendingNotificationHandlers.clear();for(let[o,s]of this._pendingRequestHandlers)this._requestDisposables.set(o,e.onRequest(o,s));this._pendingRequestHandlers.clear();for(let[o,s]of this._pendingProgressHandlers)this._progressDisposables.set(o,e.onProgress(s.type,o,s.handler));return this._pendingProgressHandlers.clear(),await e.sendNotification(Mr.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),n}catch(n){throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(n)?this.initialize(e):this.stop():n instanceof Mr.ResponseError&&n.data&&n.data.retry?Bs.window.showErrorMessage(n.message,{title:"Retry",id:"retry"}).then(i=>{i&&i.id==="retry"?this.initialize(e):this.stop()}):(n&&n.message&&Bs.window.showErrorMessage(n.message),this.error("Server initialization failed.",n),this.stop()),n}}_clientGetRootPath(){let e=Bs.workspace.workspaceFolders;if(!e||e.length===0)return;let t=e[0];if(t.uri.scheme==="file")return t.uri.fsPath}stop(e=2e3){return this.shutdown("stop",e)}dispose(e=2e3){try{return this._disposed="disposing",this.stop(e)}finally{this._disposed="disposed"}}async shutdown(e,t){if(this.$state===yo.Stopped||this.$state===yo.Initial)return;if(this.$state===yo.Stopping){if(this._onStop!==void 0)return this._onStop;throw new Error("Client is stopping but no stop promise available.")}let n=this.activeConnection();if(n===void 0||this.$state!==yo.Running)throw new Error(`Client is not running and can't be stopped. It's current state is: ${this.$state}`);this._initializeResult=void 0,this.$state=yo.Stopping,this.cleanUp(e);let i=new Promise(s=>{(0,Mr.RAL)().timer.setTimeout(s,t)}),o=(async s=>(await s.shutdown(),await s.exit(),s))(n);return this._onStop=Promise.race([i,o]).then(s=>{if(s!==void 0)s.end(),s.dispose();else throw this.error("Stopping server timed out",void 0,!1),new Error("Stopping the server timed out")},s=>{throw this.error("Stopping server failed",s,!1),s}).finally(()=>{this.$state=yo.Stopped,e==="stop"&&this.cleanUpChannel(),this._onStart=void 0,this._onStop=void 0,this._connection=void 0,this._ignoredRegistrations.clear()})}cleanUp(e){this._fileEvents=[],this._fileEventDelayer.cancel();let t=this._listeners.splice(0,this._listeners.length);for(let n of t)n.dispose();this._syncedDocuments&&this._syncedDocuments.clear();for(let n of Array.from(this._features.entries()).map(i=>i[1]).reverse())n.dispose();e==="stop"&&this._diagnostics!==void 0&&(this._diagnostics.dispose(),this._diagnostics=void 0),this._idleInterval!==void 0&&(this._idleInterval.dispose(),this._idleInterval=void 0)}cleanUpChannel(){this._outputChannel!==void 0&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(e){let t=this;async function n(o){return t._fileEvents.push(o),t._fileEventDelayer.trigger(async()=>{let s=await t.$start();await t.forceDocumentSync();let a=s.sendNotification(Mr.DidChangeWatchedFilesNotification.type,{changes:t._fileEvents});return t._fileEvents=[],a})}let i=this.clientOptions.middleware?.workspace;(i?.didChangeWatchedFile?i.didChangeWatchedFile(e,n):n(e)).catch(o=>{t.error("Notify file events failed.",o)})}async forceDocumentSync(){return this._didChangeTextDocumentFeature===void 0&&(this._didChangeTextDocumentFeature=this._dynamicFeatures.get(Mr.DidChangeTextDocumentNotification.type.method)),this._didChangeTextDocumentFeature.forceDelivery()}handleDiagnostics(e){if(!this._diagnostics)return;let t=e.uri;this._diagnosticQueueState.state==="busy"&&this._diagnosticQueueState.document===t&&this._diagnosticQueueState.tokenSource.cancel(),this._diagnosticQueue.set(e.uri,e.diagnostics),this.triggerDiagnosticQueue()}triggerDiagnosticQueue(){(0,Mr.RAL)().timer.setImmediate(()=>{this.workDiagnosticQueue()})}workDiagnosticQueue(){if(this._diagnosticQueueState.state==="busy")return;let e=this._diagnosticQueue.entries().next();if(e.done===!0)return;let[t,n]=e.value;this._diagnosticQueue.delete(t);let i=new Bs.CancellationTokenSource;this._diagnosticQueueState={state:"busy",document:t,tokenSource:i},this._p2c.asDiagnostics(n,i.token).then(o=>{if(!i.token.isCancellationRequested){let s=this._p2c.asUri(t),a=this.clientOptions.middleware;a.handleDiagnostics?a.handleDiagnostics(s,o,(c,u)=>this.setDiagnostics(c,u)):this.setDiagnostics(s,o)}}).finally(()=>{this._diagnosticQueueState={state:"idle"},this.triggerDiagnosticQueue()})}setDiagnostics(e,t){this._diagnostics&&this._diagnostics.set(e,t)}async $start(){if(this.$state===yo.StartFailed)throw new Error("Previous start failed. Can't restart server.");await this.start();let e=this.activeConnection();if(e===void 0)throw new Error("Starting server failed");return e}async createConnection(){let e=(i,o,s)=>{this.handleConnectionError(i,o,s)},t=()=>{this.handleConnectionClosed()},n=await this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8");return this._connection=ALt(n.reader,n.writer,e,t,this._clientOptions.connectionOptions),this._connection}handleConnectionClosed(){if(this.$state===yo.Stopped)return;try{this._connection!==void 0&&this._connection.dispose()}catch{}let e={action:$E.DoNotRestart};if(this.$state!==yo.Stopping)try{e=this._clientOptions.errorHandler.closed()}catch{}this._connection=void 0,e.action===$E.DoNotRestart?(this.error(e.message??"Connection to server got closed. Server will not be restarted.",void 0,"force"),this.cleanUp("stop"),this.$state===yo.Starting?this.$state=yo.StartFailed:this.$state=yo.Stopped,this._onStop=Promise.resolve(),this._onStart=void 0):e.action===$E.Restart&&(this.info(e.message??"Connection to server got closed. Server will restart."),this.cleanUp("restart"),this.$state=yo.Initial,this._onStop=Promise.resolve(),this._onStart=void 0,this.start().catch(t=>this.error("Restarting server failed",t,"force")))}handleConnectionError(e,t,n){let i=this._clientOptions.errorHandler.error(e,t,n);i.action===_V.Shutdown&&(this.error(i.message??`Client ${this._name}: connection to server is erroring. Shutting down server.`,void 0,"force"),this.stop().catch(o=>{this.error("Stopping server failed",o,!1)}))}hookConfigurationChanged(e){this._listeners.push(Bs.workspace.onDidChangeConfiguration(()=>{this.refreshTrace(e,!0)}))}refreshTrace(e,t=!1){let n=Bs.workspace.getConfiguration(this._id),i=Mr.Trace.Off,o=Mr.TraceFormat.Text;if(n){let s=n.get("trace.server","off");typeof s=="string"?i=Mr.Trace.fromString(s):(i=Mr.Trace.fromString(n.get("trace.server.verbosity","off")),o=Mr.TraceFormat.fromString(n.get("trace.server.format","text")))}this._trace=i,this._traceFormat=o,e.trace(this._trace,this._tracer,{sendNotification:t,traceFormat:this._traceFormat}).catch(s=>{this.error("Updating trace failed with error",s,!1)})}hookFileEvents(e){let t=this._clientOptions.synchronize.fileEvents;if(!t)return;let n;oy.array(t)?n=t:n=[t],n&&this._dynamicFeatures.get(Mr.DidChangeWatchedFilesNotification.type.method).registerRaw(vze.generateUuid(),n)}registerFeatures(e){for(let t of e)this.registerFeature(t)}registerFeature(e){if(this._features.push(e),w_.DynamicFeature.is(e)){let t=e.registrationType;this._dynamicFeatures.set(t.method,e)}}getFeature(e){return this._dynamicFeatures.get(e)}hasDedicatedTextSynchronizationFeature(e){let t=this.getFeature(Mr.NotebookDocumentSyncRegistrationType.method);return t===void 0||!(t instanceof yze.NotebookDocumentSyncFeature)?!1:t.handles(e)}registerBuiltinFeatures(){this.registerFeature(new _ze.ConfigurationFeature(this)),this.registerFeature(new GO.DidOpenTextDocumentFeature(this,this._syncedDocuments)),this.registerFeature(new GO.DidChangeTextDocumentFeature(this)),this.registerFeature(new GO.WillSaveFeature(this)),this.registerFeature(new GO.WillSaveWaitUntilFeature(this)),this.registerFeature(new GO.DidSaveTextDocumentFeature(this)),this.registerFeature(new GO.DidCloseTextDocumentFeature(this,this._syncedDocuments)),this.registerFeature(new gLt.FileSystemWatcherFeature(this,e=>this.notifyFileEvent(e))),this.registerFeature(new nLt.CompletionItemFeature(this)),this.registerFeature(new iLt.HoverFeature(this)),this.registerFeature(new sLt.SignatureHelpFeature(this)),this.registerFeature(new oLt.DefinitionFeature(this)),this.registerFeature(new lLt.ReferencesFeature(this)),this.registerFeature(new aLt.DocumentHighlightFeature(this)),this.registerFeature(new cLt.DocumentSymbolFeature(this)),this.registerFeature(new uLt.WorkspaceSymbolFeature(this)),this.registerFeature(new dLt.CodeActionFeature(this)),this.registerFeature(new fLt.CodeLensFeature(this)),this.registerFeature(new pue.DocumentFormattingFeature(this)),this.registerFeature(new pue.DocumentRangeFormattingFeature(this)),this.registerFeature(new pue.DocumentOnTypeFormattingFeature(this)),this.registerFeature(new hLt.RenameFeature(this)),this.registerFeature(new pLt.DocumentLinkFeature(this)),this.registerFeature(new mLt.ExecuteCommandFeature(this)),this.registerFeature(new _ze.SyncConfigurationFeature(this)),this.registerFeature(new _Lt.TypeDefinitionFeature(this)),this.registerFeature(new yLt.ImplementationFeature(this)),this.registerFeature(new vLt.ColorProviderFeature(this)),this.clientOptions.workspaceFolder===void 0&&this.registerFeature(new bLt.WorkspaceFoldersFeature(this)),this.registerFeature(new wLt.FoldingRangeFeature(this)),this.registerFeature(new SLt.DeclarationFeature(this)),this.registerFeature(new CLt.SelectionRangeFeature(this)),this.registerFeature(new TLt.ProgressFeature(this)),this.registerFeature(new DLt.CallHierarchyFeature(this)),this.registerFeature(new ELt.SemanticTokensFeature(this)),this.registerFeature(new RLt.LinkedEditingFeature(this)),this.registerFeature(new KO.DidCreateFilesFeature(this)),this.registerFeature(new KO.DidRenameFilesFeature(this)),this.registerFeature(new KO.DidDeleteFilesFeature(this)),this.registerFeature(new KO.WillCreateFilesFeature(this)),this.registerFeature(new KO.WillRenameFilesFeature(this)),this.registerFeature(new KO.WillDeleteFilesFeature(this)),this.registerFeature(new PLt.TypeHierarchyFeature(this)),this.registerFeature(new xLt.InlineValueFeature(this)),this.registerFeature(new OLt.InlayHintsFeature(this)),this.registerFeature(new rLt.DiagnosticFeature(this)),this.registerFeature(new yze.NotebookDocumentSyncFeature(this))}registerProposedFeatures(){this.registerFeatures(bze.createAll(this))}fillInitializeParams(e){for(let t of this._features)oy.func(t.fillInitializeParams)&&t.fillInitializeParams(e)}computeClientCapabilities(){let e={};(0,w_.ensure)(e,"workspace").applyEdit=!0;let t=(0,w_.ensure)((0,w_.ensure)(e,"workspace"),"workspaceEdit");t.documentChanges=!0,t.resourceOperations=[Mr.ResourceOperationKind.Create,Mr.ResourceOperationKind.Rename,Mr.ResourceOperationKind.Delete],t.failureHandling=Mr.FailureHandlingKind.TextOnlyTransactional,t.normalizesLineEndings=!0,t.changeAnnotationSupport={groupsOnLabel:!0};let n=(0,w_.ensure)((0,w_.ensure)(e,"textDocument"),"publishDiagnostics");n.relatedInformation=!0,n.versionSupport=!1,n.tagSupport={valueSet:[Mr.DiagnosticTag.Unnecessary,Mr.DiagnosticTag.Deprecated]},n.codeDescriptionSupport=!0,n.dataSupport=!0;let i=(0,w_.ensure)(e,"window"),o=(0,w_.ensure)(i,"showMessage");o.messageActionItem={additionalPropertiesSupport:!0};let s=(0,w_.ensure)(i,"showDocument");s.support=!0;let a=(0,w_.ensure)(e,"general");a.staleRequestSupport={cancel:!0,retryOnContentModified:Array.from(r.RequestsToCancelOnContentModified)},a.regularExpressions={engine:"ECMAScript",version:"ES2020"},a.markdown={parser:"marked",version:"1.1.0"},a.positionEncodings=["utf-16"],this._clientOptions.markdown.supportHtml&&(a.markdown.allowedTags=["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"]);for(let c of this._features)c.fillClientCapabilities(e);return e}initializeFeatures(e){let t=this._clientOptions.documentSelector;for(let n of this._features)oy.func(n.preInitialize)&&n.preInitialize(this._capabilities,t);for(let n of this._features)n.initialize(this._capabilities,t)}async handleRegistrationRequest(e){if(!this.isRunning()){for(let t of e.registrations)this._ignoredRegistrations.add(t.id);return}for(let t of e.registrations){let n=this._dynamicFeatures.get(t.method);if(n===void 0)return Promise.reject(new Error(`No feature implementation for ${t.method} found. Registration failed.`));let i=t.registerOptions??{};i.documentSelector=i.documentSelector??this._clientOptions.documentSelector;let o={id:t.id,registerOptions:i};try{n.register(o)}catch(s){return Promise.reject(s)}}}async handleUnregistrationRequest(e){for(let t of e.unregisterations){if(this._ignoredRegistrations.has(t.id))continue;let n=this._dynamicFeatures.get(t.method);if(!n)return Promise.reject(new Error(`No feature implementation for ${t.method} found. Unregistration failed.`));n.unregister(t.id)}}async handleApplyWorkspaceEdit(e){let t=e.edit,n=await this.workspaceEditLock.lock(()=>this._p2c.asWorkspaceEdit(t)),i=new Map;Bs.workspace.textDocuments.forEach(s=>i.set(s.uri.toString(),s));let o=!1;if(t.documentChanges){for(let s of t.documentChanges)if(Mr.TextDocumentEdit.is(s)&&s.textDocument.version&&s.textDocument.version>=0){let a=i.get(s.textDocument.uri);if(a&&a.version!==s.textDocument.version){o=!0;break}}}return o?Promise.resolve({applied:!1}):oy.asPromise(Bs.workspace.applyEdit(n).then(s=>({applied:s})))}handleFailedRequest(e,t,n,i,o=!0){if(n instanceof Mr.ResponseError){if(n.code===Mr.ErrorCodes.PendingResponseRejected||n.code===Mr.ErrorCodes.ConnectionInactive)return i;if(n.code===Mr.LSPErrorCodes.RequestCancelled||n.code===Mr.LSPErrorCodes.ServerCancelled){if(t!==void 0&&t.isCancellationRequested)return i;throw n.data!==void 0?new w_.LSPCancellationError(n.data):new Bs.CancellationError}else if(n.code===Mr.LSPErrorCodes.ContentModified){if(r.RequestsToCancelOnContentModified.has(e.method))throw new Bs.CancellationError;return i}}throw this.error(`Request ${e.method} failed.`,n,o),n}};Za.BaseLanguageClient=bV;bV.RequestsToCancelOnContentModified=new Set([Mr.SemanticTokensRequest.method,Mr.SemanticTokensRangeRequest.method,Mr.SemanticTokensDeltaRequest.method]);var gue=class{error(e){(0,Mr.RAL)().console.error(e)}warn(e){(0,Mr.RAL)().console.warn(e)}info(e){(0,Mr.RAL)().console.info(e)}log(e){(0,Mr.RAL)().console.log(e)}};function ALt(r,e,t,n,i){let o=-1,s=new gue,a=(0,Mr.createProtocolConnection)(r,e,s,i);return a.onError(u=>{t(u[0],u[1],u[2])}),a.onClose(n),{get lastUsed(){return o},resetLastUsed:()=>{o=-1},listen:()=>a.listen(),sendRequest:(u,...l)=>(o=Date.now(),a.sendRequest(u,...l)),onRequest:(u,l)=>a.onRequest(u,l),hasPendingResponse:()=>a.hasPendingResponse(),sendNotification:(u,l)=>(o=Date.now(),a.sendNotification(u,l)),onNotification:(u,l)=>a.onNotification(u,l),onProgress:a.onProgress,sendProgress:a.sendProgress,trace:(u,l,d)=>{let f={sendNotification:!1,traceFormat:Mr.TraceFormat.Text};return d===void 0?a.trace(u,l,f):(oy.boolean(d),a.trace(u,l,d))},initialize:u=>(o=Date.now(),a.sendRequest(Mr.InitializeRequest.type,u)),shutdown:()=>(o=Date.now(),a.sendRequest(Mr.ShutdownRequest.type,void 0)),exit:()=>(o=Date.now(),a.sendNotification(Mr.ExitNotification.type)),end:()=>a.end(),dispose:()=>a.dispose()}}var bze;(function(r){function e(t){return[]}r.createAll=e})(bze=Za.ProposedFeatures||(Za.ProposedFeatures={}))});var Sze=C(wV=>{"use strict";Object.defineProperty(wV,"__esModule",{value:!0});wV.terminate=void 0;var wze=require("child_process"),LLt=require("path"),MLt=process.platform==="win32",NLt=process.platform==="darwin",FLt=process.platform==="linux";function qLt(r,e){if(MLt)try{let i={stdio:["pipe","pipe","ignore"]};return e&&(i.cwd=e),wze.execFileSync("taskkill",["/T","/F","/PID",r.pid.toString()],i),!0}catch{return!1}else if(FLt||NLt)try{var t=(0,LLt.join)(__dirname,"terminateProcess.sh"),n=wze.spawnSync(t,[r.pid.toString()]);return!n.error}catch{return!1}else return r.kill("SIGKILL"),!0}wV.terminate=qLt});var yue=C((Rsr,Cze)=>{"use strict";Cze.exports=zi()});var Dze=C(qg=>{"use strict";var jLt=qg&&qg.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),_ue=qg&&qg.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&jLt(e,r,t)};Object.defineProperty(qg,"__esModule",{value:!0});qg.DiagnosticPullMode=qg.vsdiag=void 0;_ue(zi(),qg);_ue(ts(),qg);var Tze=zae();Object.defineProperty(qg,"vsdiag",{enumerable:!0,get:function(){return Tze.vsdiag}});Object.defineProperty(qg,"DiagnosticPullMode",{enumerable:!0,get:function(){return Tze.DiagnosticPullMode}});_ue(vue(),qg)});var ow=C(Tp=>{"use strict";var zLt=Tp&&Tp.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Pze=Tp&&Tp.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&zLt(e,r,t)};Object.defineProperty(Tp,"__esModule",{value:!0});Tp.SettingMonitor=Tp.LanguageClient=Tp.TransportKind=void 0;var aC=require("child_process"),bue=require("fs"),wue=require("path"),xD=require("vscode"),Tc=Zv(),Eze=vue(),ULt=Sze(),ru=yue(),HLt=oT(),BLt=zR();Pze(yue(),Tp);Pze(Dze(),Tp);var Rze="^1.67.0",yu;(function(r){r[r.stdio=0]="stdio",r[r.ipc=1]="ipc",r[r.pipe=2]="pipe",r[r.socket=3]="socket"})(yu=Tp.TransportKind||(Tp.TransportKind={}));var PD;(function(r){function e(t){let n=t;return n&&n.kind===yu.socket&&Tc.number(n.port)}r.isSocket=e})(PD||(PD={}));var Sue;(function(r){function e(t){return Tc.string(t.command)}r.is=e})(Sue||(Sue={}));var Cue;(function(r){function e(t){return Tc.string(t.module)}r.is=e})(Cue||(Cue={}));var Tue;(function(r){function e(t){let n=t;return n&&n.writer!==void 0&&n.reader!==void 0}r.is=e})(Tue||(Tue={}));var Due;(function(r){function e(t){let n=t;return n&&n.process!==void 0&&typeof n.detached=="boolean"}r.is=e})(Due||(Due={}));var Eue=class extends Eze.BaseLanguageClient{constructor(e,t,n,i,o){let s,a,c,u,l;Tc.string(t)?(s=e,a=t,c=n,u=i,l=!!o):(s=e.toLowerCase(),a=e,c=t,u=n,l=i),l===void 0&&(l=!1),super(s,a,u),this._serverOptions=c,this._forceDebug=l,this._isInDebugMode=l;try{this.checkVersion()}catch(d){throw Tc.string(d.message)&&this.outputChannel.appendLine(d.message),d}}checkVersion(){let e=HLt(xD.version);if(!e)throw new Error(`No valid VS Code version detected. Version string is: ${xD.version}`);if(e.prerelease&&e.prerelease.length>0&&(e.prerelease=[]),!BLt(e,Rze))throw new Error(`The language client requires VS Code version ${Rze} but received version ${xD.version}`)}get isInDebugMode(){return this._isInDebugMode}async restart(){await this.stop(),this.isInDebugMode?(await new Promise(e=>setTimeout(e,1e3)),await this.start()):await this.start()}stop(e=2e3){return super.stop(e).finally(()=>{if(this._serverProcess){let t=this._serverProcess;this._serverProcess=void 0,(this._isDetached===void 0||!this._isDetached)&&this.checkProcessDied(t),this._isDetached=void 0}})}checkProcessDied(e){!e||e.pid===void 0||setTimeout(()=>{try{e.pid!==void 0&&(process.kill(e.pid,0),(0,ULt.terminate)(e))}catch{}},2e3)}handleConnectionClosed(){this._serverProcess=void 0,super.handleConnectionClosed()}fillInitializeParams(e){super.fillInitializeParams(e),e.processId===null&&(e.processId=process.pid)}createMessageTransports(e){function t(l,d){if(!l&&!d)return;let f=Object.create(null);return Object.keys(process.env).forEach(p=>f[p]=process.env[p]),d&&(f.ELECTRON_RUN_AS_NODE="1",f.ELECTRON_NO_ASAR="1"),l&&Object.keys(l).forEach(p=>f[p]=l[p]),f}let n=["--debug=","--debug-brk=","--inspect=","--inspect-brk="],i=["--debug","--debug-brk","--inspect","--inspect-brk"];function o(){let l=process.execArgv;return l?l.some(d=>n.some(f=>d.startsWith(f))||i.some(f=>d===f)):!1}function s(l){if(l.stdin===null||l.stdout===null||l.stderr===null)throw new Error("Process created without stdio streams")}let a=this._serverOptions;if(Tc.func(a))return a().then(l=>{if(Eze.MessageTransports.is(l))return this._isDetached=!!l.detached,l;if(Tue.is(l))return this._isDetached=!!l.detached,{reader:new ru.StreamMessageReader(l.reader),writer:new ru.StreamMessageWriter(l.writer)};{let d;return Due.is(l)?(d=l.process,this._isDetached=l.detached):(d=l,this._isDetached=!1),d.stderr.on("data",f=>this.outputChannel.append(Tc.string(f)?f:f.toString(e))),{reader:new ru.StreamMessageReader(d.stdout),writer:new ru.StreamMessageWriter(d.stdin)}}});let c,u=a;return u.run||u.debug?this._forceDebug||o()?(c=u.debug,this._isInDebugMode=!0):(c=u.run,this._isInDebugMode=!1):c=a,this._getServerWorkingDir(c.options).then(l=>{if(Cue.is(c)&&c.module){let d=c,f=d.transport||yu.stdio;if(d.runtime){let p=[],_=d.options??Object.create(null);_.execArgv&&_.execArgv.forEach(A=>p.push(A)),p.push(d.module),d.args&&d.args.forEach(A=>p.push(A));let D=Object.create(null);D.cwd=l,D.env=t(_.env,!1);let P=this._getRuntimePath(d.runtime,l),M;if(f===yu.ipc?(D.stdio=[null,null,null,"ipc"],p.push("--node-ipc")):f===yu.stdio?p.push("--stdio"):f===yu.pipe?(M=(0,ru.generateRandomPipeName)(),p.push(`--pipe=${M}`)):PD.isSocket(f)&&p.push(`--socket=${f.port}`),p.push(`--clientProcessId=${process.pid.toString()}`),f===yu.ipc||f===yu.stdio){let A=aC.spawn(P,p,D);return!A||!A.pid?YO(A,`Launching server using runtime ${P} failed.`):(this._serverProcess=A,A.stderr.on("data",U=>this.outputChannel.append(Tc.string(U)?U:U.toString(e))),f===yu.ipc?(A.stdout.on("data",U=>this.outputChannel.append(Tc.string(U)?U:U.toString(e))),Promise.resolve({reader:new ru.IPCMessageReader(A),writer:new ru.IPCMessageWriter(A)})):Promise.resolve({reader:new ru.StreamMessageReader(A.stdout),writer:new ru.StreamMessageWriter(A.stdin)}))}else{if(f===yu.pipe)return(0,ru.createClientPipeTransport)(M).then(A=>{let U=aC.spawn(P,p,D);return!U||!U.pid?YO(U,`Launching server using runtime ${P} failed.`):(this._serverProcess=U,U.stderr.on("data",ne=>this.outputChannel.append(Tc.string(ne)?ne:ne.toString(e))),U.stdout.on("data",ne=>this.outputChannel.append(Tc.string(ne)?ne:ne.toString(e))),A.onConnected().then(ne=>({reader:ne[0],writer:ne[1]})))});if(PD.isSocket(f))return(0,ru.createClientSocketTransport)(f.port).then(A=>{let U=aC.spawn(P,p,D);return!U||!U.pid?YO(U,`Launching server using runtime ${P} failed.`):(this._serverProcess=U,U.stderr.on("data",ne=>this.outputChannel.append(Tc.string(ne)?ne:ne.toString(e))),U.stdout.on("data",ne=>this.outputChannel.append(Tc.string(ne)?ne:ne.toString(e))),A.onConnected().then(ne=>({reader:ne[0],writer:ne[1]})))})}}else{let p;return new Promise((_,D)=>{let P=(d.args&&d.args.slice())??[];f===yu.ipc?P.push("--node-ipc"):f===yu.stdio?P.push("--stdio"):f===yu.pipe?(p=(0,ru.generateRandomPipeName)(),P.push(`--pipe=${p}`)):PD.isSocket(f)&&P.push(`--socket=${f.port}`),P.push(`--clientProcessId=${process.pid.toString()}`);let M=d.options??Object.create(null);if(M.env=t(M.env,!0),M.execArgv=M.execArgv||[],M.cwd=l,M.silent=!0,f===yu.ipc||f===yu.stdio){let A=aC.fork(d.module,P||[],M);s(A),this._serverProcess=A,A.stderr.on("data",U=>this.outputChannel.append(Tc.string(U)?U:U.toString(e))),f===yu.ipc?(A.stdout.on("data",U=>this.outputChannel.append(Tc.string(U)?U:U.toString(e))),_({reader:new ru.IPCMessageReader(this._serverProcess),writer:new ru.IPCMessageWriter(this._serverProcess)})):_({reader:new ru.StreamMessageReader(A.stdout),writer:new ru.StreamMessageWriter(A.stdin)})}else f===yu.pipe?(0,ru.createClientPipeTransport)(p).then(A=>{let U=aC.fork(d.module,P||[],M);s(U),this._serverProcess=U,U.stderr.on("data",ne=>this.outputChannel.append(Tc.string(ne)?ne:ne.toString(e))),U.stdout.on("data",ne=>this.outputChannel.append(Tc.string(ne)?ne:ne.toString(e))),A.onConnected().then(ne=>{_({reader:ne[0],writer:ne[1]})},D)},D):PD.isSocket(f)&&(0,ru.createClientSocketTransport)(f.port).then(A=>{let U=aC.fork(d.module,P||[],M);s(U),this._serverProcess=U,U.stderr.on("data",ne=>this.outputChannel.append(Tc.string(ne)?ne:ne.toString(e))),U.stdout.on("data",ne=>this.outputChannel.append(Tc.string(ne)?ne:ne.toString(e))),A.onConnected().then(ne=>{_({reader:ne[0],writer:ne[1]})},D)},D)})}}else if(Sue.is(c)&&c.command){let d=c,f=c.args!==void 0?c.args.slice(0):[],p,_=c.transport;if(_===yu.stdio)f.push("--stdio");else if(_===yu.pipe)p=(0,ru.generateRandomPipeName)(),f.push(`--pipe=${p}`);else if(PD.isSocket(_))f.push(`--socket=${_.port}`);else if(_===yu.ipc)throw new Error("Transport kind ipc is not support for command executable");let D=Object.assign({},d.options);if(D.cwd=D.cwd||l,_===void 0||_===yu.stdio){let P=aC.spawn(d.command,f,D);return!P||!P.pid?YO(P,`Launching server using command ${d.command} failed.`):(P.stderr.on("data",M=>this.outputChannel.append(Tc.string(M)?M:M.toString(e))),this._serverProcess=P,this._isDetached=!!D.detached,Promise.resolve({reader:new ru.StreamMessageReader(P.stdout),writer:new ru.StreamMessageWriter(P.stdin)}))}else{if(_===yu.pipe)return(0,ru.createClientPipeTransport)(p).then(P=>{let M=aC.spawn(d.command,f,D);return!M||!M.pid?YO(M,`Launching server using command ${d.command} failed.`):(this._serverProcess=M,this._isDetached=!!D.detached,M.stderr.on("data",A=>this.outputChannel.append(Tc.string(A)?A:A.toString(e))),M.stdout.on("data",A=>this.outputChannel.append(Tc.string(A)?A:A.toString(e))),P.onConnected().then(A=>({reader:A[0],writer:A[1]})))});if(PD.isSocket(_))return(0,ru.createClientSocketTransport)(_.port).then(P=>{let M=aC.spawn(d.command,f,D);return!M||!M.pid?YO(M,`Launching server using command ${d.command} failed.`):(this._serverProcess=M,this._isDetached=!!D.detached,M.stderr.on("data",A=>this.outputChannel.append(Tc.string(A)?A:A.toString(e))),M.stdout.on("data",A=>this.outputChannel.append(Tc.string(A)?A:A.toString(e))),P.onConnected().then(A=>({reader:A[0],writer:A[1]})))})}}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(a,null,4)))})}_getRuntimePath(e,t){if(wue.isAbsolute(e))return e;let n=this._mainGetRootPath();if(n!==void 0){let i=wue.join(n,e);if(bue.existsSync(i))return i}if(t!==void 0){let i=wue.join(t,e);if(bue.existsSync(i))return i}return e}_mainGetRootPath(){let e=xD.workspace.workspaceFolders;if(!e||e.length===0)return;let t=e[0];if(t.uri.scheme==="file")return t.uri.fsPath}_getServerWorkingDir(e){let t=e&&e.cwd;return t||(t=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),t?new Promise(n=>{bue.lstat(t,(i,o)=>{n(!i&&o.isDirectory()?t:void 0)})}):Promise.resolve(void 0)}getLocale(){let e=process.env.VSCODE_NLS_CONFIG;if(e===void 0)return"en";let t;try{t=JSON.parse(e)}catch{}return t===void 0||typeof t.locale!="string"?"en":t.locale}};Tp.LanguageClient=Eue;var Rue=class{constructor(e,t){this._client=e,this._setting=t,this._listeners=[]}start(){return xD.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new xD.Disposable(()=>{this._client.needsStop()&&this._client.stop()})}onDidChangeConfiguration(){let e=this._setting.indexOf("."),t=e>=0?this._setting.substr(0,e):this._setting,n=e>=0?this._setting.substr(e+1):void 0,i=n?xD.workspace.getConfiguration(t).get(n,!1):xD.workspace.getConfiguration(t);i&&this._client.needsStart()?this._client.start().catch(o=>this._client.error("Start failed after configuration change",o,"force")):!i&&this._client.needsStop()&&this._client.stop().catch(o=>this._client.error("Stop failed after configuration change",o,"force"))}};Tp.SettingMonitor=Rue;function YO(r,e){return r===null?Promise.reject(e):new Promise((t,n)=>{r.on("error",i=>{n(`${e} ${i}`)}),setImmediate(()=>n(e))})}});var xze=C(SV=>{"use strict";Object.defineProperty(SV,"__esModule",{value:!0});SV.ColorPresentationContext=void 0;var Pue=class{constructor(e,t){this.uri=e,this.range=t}};SV.ColorPresentationContext=Pue});var Oze=C(CV=>{"use strict";Object.defineProperty(CV,"__esModule",{value:!0});CV.SerializableColorPresentation=void 0;var xue=class{constructor(e,t,n){this.label=e,this.textEdit=t,this.additionalTextEdits=n}};CV.SerializableColorPresentation=xue});var Aze=C(JO=>{"use strict";var Ize=JO&&JO.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(JO,"__esModule",{value:!0});JO.ColorPresentationHandler=void 0;var Oue=require("vscode"),WLt=ow(),kze=YN(),$Lt=xze(),VLt=Oze(),TV=class r{constructor(e,t,n){this.documentManager=e,this.serverClient=t,this.logger=n,this.colorPresentationRequestType=new WLt.RequestType(r.provideHtmlColorPresentation),this.emptyColorInformationResponse=[]}register(){return this.serverClient.onRequestWithParams(this.colorPresentationRequestType,(e,t)=>Ize(this,void 0,void 0,function*(){return this.provideHtmlColorPresentation(e,t)}))}provideHtmlColorPresentation(e,t){return Ize(this,void 0,void 0,function*(){try{let n=Oue.Uri.parse(`${e.textDocument.uri}`,!0),i=yield this.documentManager.getDocument(n);if(i===void 0)return this.logger.logWarning(`Could not find Razor document ${n}; returning empty color information.`),this.emptyColorInformationResponse;let o=new Oue.Color(e.color.red,e.color.green,e.color.blue,e.color.alpha),s=i.htmlDocument.uri,a=yield Oue.commands.executeCommand("vscode.executeColorPresentationProvider",o,new $Lt.ColorPresentationContext(s,e.range));return this.SerializeColorPresentations(a)}catch(n){this.logger.logWarning(`${r.provideHtmlColorPresentation} failed with ${n}`)}return this.emptyColorInformationResponse})}SerializeColorPresentations(e){let t=new Array;for(let n of e){let i=null,o=new Array;if(n.textEdit&&(i=(0,kze.convertTextEditToSerializable)(n.textEdit)),n.additionalTextEdits)for(let a of n.additionalTextEdits){let c=(0,kze.convertTextEditToSerializable)(a);o.push(c)}let s=new VLt.SerializableColorPresentation(n.label,i,o);t.push(s)}return t}};JO.ColorPresentationHandler=TV;TV.provideHtmlColorPresentation="razor/provideHtmlColorPresentation"});var OD=C(DV=>{"use strict";var Lze;Object.defineProperty(DV,"__esModule",{value:!0});DV.RazorLanguage=void 0;var sw=class{};DV.RazorLanguage=sw;Lze=sw;sw.id="aspnetcorerazor";sw.fileExtensions=["cshtml","razor"];sw.globbingPattern=`**/*.{${sw.fileExtensions.join(",")}}`;sw.documentSelector={language:Lze.id,pattern:sw.globbingPattern}});var kue=C(XO=>{"use strict";var Mze=XO&&XO.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(XO,"__esModule",{value:!0});XO.RazorCompletionItemProvider=void 0;var ID=require("vscode"),GLt=d_(),KLt=Ng(),Iue=class r extends GLt.RazorLanguageFeatureBase{constructor(e,t,n,i,o){super(e,t,n,o),this.provisionalCompletionOrchestrator=i}static getCompletions(e,t,n,i){return Mze(this,void 0,void 0,function*(){if(e){let o=i==="@"?void 0:i,s=yield ID.commands.executeCommand("vscode.executeCompletionItemProvider",e,n,o),a=s instanceof Array?s:s?s.items:[],c=n.character-t.character;for(let l of a){let d=l.documentation;if(d){let f=new ID.MarkdownString(d.value);f.isTrusted=!1,l.documentation=f}if(l.range){let f=l.range,p=f.inserting;if(p){let D=this.offsetColumn(c,t.line,p.start),P=this.offsetColumn(c,t.line,p.end);f.inserting=new ID.Range(D,P)}let _=f.replacing;if(_){let D=this.offsetColumn(c,t.line,_.start),P=this.offsetColumn(c,t.line,_.end);f.replacing=new ID.Range(D,P)}if(f instanceof ID.Range&&f.start&&f.end){let D=this.offsetColumn(c,t.line,f.start),P=this.offsetColumn(c,t.line,f.end);l.range=new ID.Range(D,P)}}l.textEdit=void 0,i==="@"&&l.commitCharacters&&(l.commitCharacters=l.commitCharacters.filter(f=>f!=="{"&&f!=="("&&f!=="*"))}let u=s instanceof Array?!1:s?s.isIncomplete:!1;return new ID.CompletionList(a,u)}})}static offsetColumn(e,t,n){return new ID.Position(t,n.character-e)}provideCompletionItems(e,t,n,i){return Mze(this,void 0,void 0,function*(){let o=yield this.getProjection(e,t,n);if(this.logger.verboseEnabled&&this.logger.logVerbose(`Providing completions for document ${(0,KLt.getUriPath)(e.uri)} at location (${t.line}, ${t.character})`),!o)return{isIncomplete:!0,items:[]};let s=yield this.provisionalCompletionOrchestrator.tryGetProvisionalCompletions(e.uri,o,i);return s||(yield r.getCompletions(o.uri,t,o.position,i.triggerCharacter))})}};XO.RazorCompletionItemProvider=Iue});var Fze=C(QO=>{"use strict";var EV=QO&&QO.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(QO,"__esModule",{value:!0});QO.ProvisionalCompletionOrchestrator=void 0;var cC=require("vscode"),YLt=OD(),Nze=Qv(),JLt=kue(),Aue=class{constructor(e,t,n,i){this.documentManager=e,this.projectedCSharpProvider=t,this.serviceClient=n,this.logger=i,this.provisionalDotsMayBeActive=!1}register(){cC.window.activeTextEditor&&(this.currentActiveDocument=cC.window.activeTextEditor.document);let e=cC.window.onDidChangeTextEditorSelection(i=>this.tryRemoveProvisionalDot(i.textEditor.document)),t=cC.workspace.onDidChangeTextDocument(i=>EV(this,void 0,void 0,function*(){i.contentChanges.length===1&&i.contentChanges[0].text==="."||(yield this.tryRemoveProvisionalDot(i.document))})),n=cC.window.onDidChangeActiveTextEditor(i=>EV(this,void 0,void 0,function*(){this.currentActiveDocument&&(yield this.tryRemoveProvisionalDot(this.currentActiveDocument)),i?this.currentActiveDocument=i.document:this.currentActiveDocument=void 0}));return cC.Disposable.from(t,e,n)}tryGetProvisionalCompletions(e,t,n){return EV(this,void 0,void 0,function*(){if(t.languageKind!==Nze.LanguageKind.Html||n.triggerCharacter!==".")return null;let i=t.position;if(i.character===0)return null;let o=new cC.Position(i.line,i.character-1),s=yield this.serviceClient.languageQuery(o,e);if(s.kind!==Nze.LanguageKind.CSharp)return null;let c=(yield this.documentManager.getDocument(e)).csharpDocument,u=s.positionIndex;this.logger.verboseEnabled&&this.logger.logVerbose(`Applying provisional completion on ${c.uri} at (${s.position.line}, ${s.position.character})`),c.addProvisionalDotAt(u),this.projectedCSharpProvider.ensureDocumentContent(c.uri),yield(yield cC.workspace.openTextDocument(c.uri)).save();let d=new cC.Position(s.position.line,s.position.character+1),f=yield JLt.RazorCompletionItemProvider.getCompletions(c.uri,i,d,n.triggerCharacter);return this.provisionalDotsMayBeActive=!0,f})}tryRemoveProvisionalDot(e){return EV(this,void 0,void 0,function*(){if(!this.provisionalDotsMayBeActive||e.languageId!==YLt.RazorLanguage.id)return;let t=yield this.documentManager.getActiveDocument();if(!t)return;let n=t.csharpDocument;n.removeProvisionalDot()&&(this.projectedCSharpProvider.ensureDocumentContent(n.uri),this.logger.verboseEnabled&&this.logger.logVerbose(`Ensured removal of provisional completion on ${n.uri}.`)),this.provisionalDotsMayBeActive=!1})}};QO.ProvisionalCompletionOrchestrator=Aue});var jze=C(ZO=>{"use strict";var XLt=ZO&&ZO.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(ZO,"__esModule",{value:!0});ZO.listenToConfigurationChanges=void 0;var qze=require("vscode");function QLt(r){return qze.workspace.onDidChangeConfiguration(e=>{e.affectsConfiguration("razor.trace")&&ZLt(r)})}ZO.listenToConfigurationChanges=QLt;function ZLt(r){let e="Would you like to restart the Razor Language Server to enable the Razor trace configuration change?",t="Restart";qze.window.showInformationMessage(e,t).then(n=>XLt(this,void 0,void 0,function*(){n===t&&(yield r.stop(),r.updateTraceLevel(),yield r.start())}))}});var Uze=C(tI=>{"use strict";var FF=tI&&tI.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(tI,"__esModule",{value:!0});tI.CSharpPreviewPanel=void 0;var eI=require("vscode"),Lue=XS(),zze=Ng(),RV=class r{constructor(e){this.documentManager=e,e.onChange(t=>this.documentChanged(t))}show(){return FF(this,void 0,void 0,function*(){this.panel?this.panel.reveal(eI.ViewColumn.Two):(this.panel=eI.window.createWebviewPanel(r.viewType,"Razor C# Preview",eI.ViewColumn.Two,{enableScripts:!0,localResourceRoots:[]}),this.attachToCurrentPanel()),yield this.update()})}revive(e){return FF(this,void 0,void 0,function*(){this.panel=e,this.attachToCurrentPanel(),yield this.update()})}documentChanged(e){return FF(this,void 0,void 0,function*(){this.panel&&(e.kind===Lue.RazorDocumentChangeKind.csharpChanged||e.kind===Lue.RazorDocumentChangeKind.opened||e.kind===Lue.RazorDocumentChangeKind.closed)&&(yield this.update())})}attachToCurrentPanel(){if(!this.panel){eI.window.showErrorMessage("Unexpected error when attaching to C# preview window.");return}this.panel.webview.onDidReceiveMessage(e=>FF(this,void 0,void 0,function*(){switch(e.command){case"copy":if(!this.csharpContent)return;yield eI.env.clipboard.writeText(this.csharpContent),eI.window.showInformationMessage("Razor C# copied to clipboard");return}})),this.panel.onDidDispose(()=>this.panel=void 0)}update(){return FF(this,void 0,void 0,function*(){if(!this.panel)return;let e=yield this.documentManager.getActiveDocument(),t="",n="";e?(this.csharpContent=e.csharpDocument.getContent(),t=(0,zze.getUriPath)(e.uri),n=(0,zze.getUriPath)(e.csharpDocument.uri)):this.csharpContent=void 0;let i=this.csharpContent?this.csharpContent:"";i=i.replace(/</g,"&lt;").replace(/</g,"&gt;"),this.panel.webview.html=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Report a Razor issue</title>
    <style>
        button {
            background-color: #eff3f6;
            background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);
            color: #24292e;
            border: 1px solid rgba(27,31,35,.2);
            border-radius: .25em;
            font-size: 1.1em;
            font-weight: 600;
            line-height: 18px;
            padding: 6px 12px;
            vertical-align: middle;
            cursor: pointer;
        }
    </style>

    <script type="text/javascript">
        const vscode = acquireVsCodeApi();
        function copy() {
            vscode.postMessage({
                command: 'copy'
            });
        }
    </script>
</head>
<body>
    <p>Host document file path: <strong>${t}</strong></p>
    <p>Virtual document file path: <strong>${n}</strong></p
    <p><button onclick="copy()">Copy C#</button></p>
    <hr />
    <pre>${i}</pre>
</body>
</html>`})}};tI.CSharpPreviewPanel=RV;RV.viewType="razorCSharpPreview"});var xV=C(rI=>{"use strict";var eMt=rI&&rI.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(rI,"__esModule",{value:!0});rI.CSharpProjectedDocumentContentProvider=void 0;var Mue=XS(),Hze=Ng(),PV=class{constructor(e,t,n){this.documentManager=e,this.logger=n,e.onChange(i=>this.documentChanged(i)),this.onDidChangeEmitter=t.create()}get onDidChange(){return this.onDidChangeEmitter.event}provideTextDocumentContent(e){return eMt(this,void 0,void 0,function*(){let t=this.findRazorDocument(e);return t?`${t.csharpDocument.getContent()}
// ${t.csharpDocument.projectedDocumentSyncVersion}`:(this.logger.verboseEnabled&&this.logger.logVerbose(`Could not find document '${(0,Hze.getUriPath)(e)}' when updating the C# buffer. This typically happens when a document is removed.`),"")})}ensureDocumentContent(e){this.onDidChangeEmitter.fire(e)}documentChanged(e){(e.kind===Mue.RazorDocumentChangeKind.csharpChanged||e.kind===Mue.RazorDocumentChangeKind.opened||e.kind===Mue.RazorDocumentChangeKind.removed)&&this.onDidChangeEmitter.fire(e.document.csharpDocument.uri)}findRazorDocument(e){let t=(0,Hze.getUriPath)(e);return this.documentManager.documents.find(n=>n.csharpDocument.path.localeCompare(t,void 0,{sensitivity:"base"})===0)}};rI.CSharpProjectedDocumentContentProvider=PV;PV.scheme="virtualCSharp-razor"});var $ze=C(nI=>{"use strict";var tMt=nI&&nI.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(nI,"__esModule",{value:!0});nI.RazorCSharpFeature=void 0;var qF=require("vscode"),Bze=Uze(),Wze=xV(),Nue=class{constructor(e,t,n){this.projectionProvider=new Wze.CSharpProjectedDocumentContentProvider(e,t,n),this.csharpPreviewPanel=new Bze.CSharpPreviewPanel(e)}register(){let e=[qF.workspace.registerTextDocumentContentProvider(Wze.CSharpProjectedDocumentContentProvider.scheme,this.projectionProvider),qF.commands.registerCommand("extension.showRazorCSharpWindow",()=>this.csharpPreviewPanel.show())];return qF.window.registerWebviewPanelSerializer&&e.push(qF.window.registerWebviewPanelSerializer(Bze.CSharpPreviewPanel.viewType,{deserializeWebviewPanel:t=>tMt(this,void 0,void 0,function*(){yield this.csharpPreviewPanel.revive(t)})})),qF.Disposable.from(...e)}};nI.RazorCSharpFeature=Nue});var jF=C(gl=>{"use strict";Object.defineProperty(gl,"__esModule",{value:!0});gl.getRazorDocumentUri=gl.isRazorHtmlFile=gl.isRazorCSharpFile=gl.backgroundVirtualCSharpSuffix=gl.virtualCSharpSuffix=gl.virtualHtmlSuffix=void 0;var rMt=require("vscode"),Fue=Ng();gl.virtualHtmlSuffix="__virtual.html";gl.virtualCSharpSuffix="__virtual.cs";gl.backgroundVirtualCSharpSuffix=`__bg${gl.virtualCSharpSuffix}`;function nMt(r){return(0,Fue.getUriPath)(r).endsWith(gl.virtualCSharpSuffix)}gl.isRazorCSharpFile=nMt;function iMt(r){return(0,Fue.getUriPath)(r).endsWith(gl.virtualHtmlSuffix)}gl.isRazorHtmlFile=iMt;function oMt(r){let t=(0,Fue.getUriPath)(r).replace(gl.backgroundVirtualCSharpSuffix,"");return t=t.replace(gl.virtualCSharpSuffix,""),t=t.replace(gl.virtualHtmlSuffix,""),rMt.Uri.file(t)}gl.getRazorDocumentUri=oMt});var Yze=C(iI=>{"use strict";var sMt=iI&&iI.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(iI,"__esModule",{value:!0});iI.RazorDefinitionProvider=void 0;var Vze=require("vscode"),Gze=jF(),aMt=d_(),Kze=Qv(),que=class extends aMt.RazorLanguageFeatureBase{provideDefinition(e,t,n){return sMt(this,void 0,void 0,function*(){let i=yield this.getProjection(e,t,n);if(!i||i.languageKind===Kze.LanguageKind.Razor)return;let o=yield Vze.commands.executeCommand("vscode.executeDefinitionProvider",i.uri,i.position),s=new Array;for(let a of o)if(i.languageKind===Kze.LanguageKind.Html&&(0,Gze.isRazorHtmlFile)(a.uri)){let c=(0,Gze.getRazorDocumentUri)(a.uri);s.push(new Vze.Location(c,a.range))}else s.push(a);return s})}};iI.RazorDefinitionProvider=que});var Jze=C(OV=>{"use strict";Object.defineProperty(OV,"__esModule",{value:!0});OV.razorExtensionId=void 0;OV.razorExtensionId="ms-dotnettools.csharp"});var Xze=C(oI=>{"use strict";var IV=oI&&oI.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(oI,"__esModule",{value:!0});oI.ReportIssueCreator=void 0;var cMt=require("child_process"),jue=require("os"),uMt=Jze(),zue=class{constructor(e,t){this.vscodeApi=e,this.documentManager=t}create(e){return IV(this,void 0,void 0,function*(){let t,n,i;if(e.document){t=yield this.getRazor(e.document);let p=yield this.documentManager.getDocument(e.document.uri);n=yield this.getProjectedCSharp(p),i=yield this.getProjectedHtml(p)}else t="Non Razor file as active document",n="Could not determine CSharp content",i="Could not determine Html content";let o=this.getExtensionVersion(),s="";try{s=yield this.getDotnetInfo()}catch(p){s=`A valid dotnet installation could not be found: ${p}`}let a=this.generateExtensionTable(),c=this.sanitize(e.logOutput),u=this.sanitize(t),l=this.sanitize(n),d=this.sanitize(i),f=this.sanitize(s);return`## Is this a Bug or Feature request?:
Bug

## Steps to reproduce
------------------- Please fill in this section -------------------------

## Description of the problem:
------------------- Please fill in this section -------------------------

Expected behavior:

Actual behavior:

## Logs

#### OmniSharp
------------------- Please fill in this section -------------------------
To find the OmniSharp log, open VS Code's "Output" pane, then in the dropdown choose "OmniSharp Log".

#### Razor
<details><summary>Expand</summary>
<p>

\`\`\`
${c}
\`\`\`

</p>
</details>

## Workspace information

#### Razor document:
<details><summary>Expand</summary>
<p>

\`\`\`Razor
${u}
\`\`\`

</p>
</details>

#### Projected CSharp document:
<details><summary>Expand</summary>
<p>

\`\`\`C#
${l}
\`\`\`

</p>
</details>

#### Projected Html document:
<details><summary>Expand</summary>
<p>

\`\`\`Html
${d}
\`\`\`

</p>
</details>

## Machine information


**VSCode version**: ${this.vscodeApi.version}
**Razor.VSCode version**: ${o}
#### \`dotnet --info\`

<details><summary>Expand</summary>
<p>

\`\`\`
${f}
\`\`\`

</p>
</details>

#### Extensions
<details><summary>Expand</summary>
<p>

${a}

</p>
</details>`})}sanitize(e){let t=process.env.USERNAME===void 0?process.env.USER:process.env.USERNAME;if(t===void 0)return e;let n=new RegExp(t,"g");return e.replace(n,"anonymous")}getRazor(e){return IV(this,void 0,void 0,function*(){return e.getText()})}getProjectedCSharp(e){return IV(this,void 0,void 0,function*(){let t=`////////////////////// Projected CSharp as seen by extension ///////////////////////
${e.csharpDocument.getContent()}


////////////////////// Projected CSharp as seen by VSCode ///////////////////////`;try{let n=yield this.vscodeApi.workspace.openTextDocument(e.csharpDocument.uri);n?t=`${t}
${n.getText()}`:t=`${t}
Unable to resolve VSCode's version of CSharp`}catch{t=`${t}
Unable to resolve VSCode's version of CSharp`}return t})}getProjectedHtml(e){return IV(this,void 0,void 0,function*(){let t=`////////////////////// Projected Html as seen by extension ///////////////////////
${e.htmlDocument.getContent()}


////////////////////// Projected Html as seen by VSCode ///////////////////////`;try{let n=yield this.vscodeApi.workspace.openTextDocument(e.htmlDocument.uri);n?t=`${t}
${n.getText()}`:t=`${t}
Unable to resolve VSCode's version of Html`}catch{t=`${t}
Unable to resolve VSCode's version of Html`}return t})}getExtensionVersion(){let e=this.vscodeApi.extensions.getExtension(uMt.razorExtensionId);return e?e.packageJSON.version:"Unable to find Razor extension version."}getInstalledExtensions(){return this.vscodeApi.extensions.all.filter(t=>t.packageJSON.isBuiltin===!1).sort((t,n)=>t.packageJSON.name.toLowerCase().localeCompare(n.packageJSON.name.toLowerCase()))}generateExtensionTable(){let e=this.getInstalledExtensions();if(e.length<=0)return"none";let t=`|Extension|Author|Version|${jue.EOL}|---|---|---|`,n=e.map(o=>`|${o.packageJSON.name}|${o.packageJSON.publisher}|${o.packageJSON.version}|`).join(jue.EOL);return`
${t}${jue.EOL}${n};
`}getDotnetInfo(){return new Promise((e,t)=>{try{cMt.exec("dotnet --info",{cwd:process.cwd(),maxBuffer:500*1024},(n,i,o)=>{n||o&&o.length>0?t(n):e(i)})}catch(n){t(n)}})}};oI.ReportIssueCreator=zue});var Qze=C(kV=>{"use strict";Object.defineProperty(kV,"__esModule",{value:!0});kV.ReportIssueDataCollector=void 0;var lMt=require("os"),Uue=class{constructor(e,t){this.razorFileFocusChange=e,this.logger=t,this.logMessages=[],this.logOutput="",this.focusRegistration=this.razorFileFocusChange(n=>this.lastFocusedRazorDocument=n),this.logRegistration=this.logger.onLog(n=>this.logMessages.push(n)),this.logger.outputChannel.show(!0),this.logger.logAlways("-- Starting Issue Data Collection-- ")}stop(){this.logger.logAlways("-- Stopping Issue Data Collection-- "),this.logOutput=this.logMessages.join(lMt.EOL),this.logMessages.length=0,this.focusRegistration&&this.focusRegistration.dispose(),this.logRegistration&&this.logRegistration.dispose()}collect(){return{document:this.lastFocusedRazorDocument,logOutput:this.logOutput}}};kV.ReportIssueDataCollector=Uue});var Zze=C(AV=>{"use strict";Object.defineProperty(AV,"__esModule",{value:!0});AV.ReportIssueDataCollectorFactory=void 0;var Hue=require("vscode"),dMt=OD(),fMt=Qze(),Bue=class{constructor(e){this.logger=e,this.onRazorDocumentFocusedEmitter=new Hue.EventEmitter,this.onRazorDocumentFocusedEmitter=new Hue.EventEmitter}register(){return Hue.window.onDidChangeActiveTextEditor(e=>{e&&dMt.RazorLanguage.fileExtensions.some(t=>e.document.fileName.endsWith(t))&&this.onRazorDocumentFocusedEmitter.fire(e.document)})}create(){return new fMt.ReportIssueDataCollector(this.onRazorDocumentFocusedEmitter.event,this.logger)}};AV.ReportIssueDataCollectorFactory=Bue});var UF=C(zF=>{"use strict";Object.defineProperty(zF,"__esModule",{value:!0});zF.Trace=void 0;var hMt;(function(r){r[r.Off=0]="Off",r[r.Messages=1]="Messages",r[r.Verbose=2]="Verbose"})(hMt=zF.Trace||(zF.Trace={}))});var eUe=C(sI=>{"use strict";var HF=sI&&sI.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(sI,"__esModule",{value:!0});sI.ReportIssuePanel=void 0;var aw=require("vscode"),LV=UF(),MV=class r{constructor(e,t,n){this.dataCollectorFactory=e,this.reportIssueCreator=t,this.logger=n}show(){return HF(this,void 0,void 0,function*(){this.panel?this.panel.reveal(aw.ViewColumn.Two):(this.panel=aw.window.createWebviewPanel(r.viewType,"Report Razor Issue",aw.ViewColumn.Two,{enableScripts:!0,localResourceRoots:[]}),this.attachToCurrentPanel()),yield this.update()})}revive(e){return HF(this,void 0,void 0,function*(){this.panel=e,this.attachToCurrentPanel(),yield this.update()})}attachToCurrentPanel(){if(!this.panel){aw.window.showErrorMessage("Unexpected error when attaching to report Razor issue window.");return}this.panel.webview.onDidReceiveMessage(e=>HF(this,void 0,void 0,function*(){switch(e.command){case"copyIssue":if(!this.issueContent){if(!this.dataCollector){aw.window.showErrorMessage("You must first start the data collection before copying.");return}let t=this.dataCollector.collect();this.issueContent=yield this.reportIssueCreator.create(t),this.dataCollector=void 0}yield aw.env.clipboard.writeText(this.issueContent),aw.window.showInformationMessage("Razor issue copied to clipboard");return;case"startIssue":this.dataCollector&&(this.dataCollector.stop(),this.dataCollector=void 0),this.issueContent=void 0,this.dataCollector=this.dataCollectorFactory.create(),aw.window.showInformationMessage('Razor issue data collection started. Reproduce the issue then press "Stop"');return;case"stopIssue":if(!this.dataCollector){aw.window.showErrorMessage("You must first start the data collection before stopping.");return}this.dataCollector.stop(),aw.window.showInformationMessage("Razor issue data collection stopped. Copying issue content...");return}})),this.traceLevelChange=this.logger.onTraceLevelChange(()=>HF(this,void 0,void 0,function*(){return this.update()})),this.panel.onDidDispose(()=>{this.traceLevelChange&&this.traceLevelChange.dispose(),this.panel=void 0})}update(){return HF(this,void 0,void 0,function*(){if(!this.panel)return;let e="";this.logger.trace.valueOf()===LV.Trace.Verbose?e=`<ol>
    <li>Press <button onclick="startIssue()">Start</button></li>
    <li>Perform the actions (or no action) that resulted in your Razor issue</li>
    <li>Click <button onclick="stopIssue()">Stop</button>. This will copy all relevant issue information.</li>
    <li><a href="https://github.com/dotnet/razor/issues/new?template=bug_report.md&labels=vscode%2C+bug">Go to GitHub</a>, paste your issue contents as the body of the issue. Don't forget to fill out any details left unfilled.</li>
</ol>

<p><em>Privacy Alert! The contents copied to your clipboard may contain personal data. Prior to posting to
GitHub, please remove any personal data which should not be publicly viewable.
<a href="https://privacy.microsoft.com/en-US/privacystatement">https://privacy.microsoft.com/en-US/privacystatement</a></em></p>

<button onclick="copyIssue()">Copy issue content again</button>`:e=`<p>Cannot start collecting Razor logs when <strong><em>razor.trace</em></strong> is set to <strong><em>${LV.Trace[this.logger.trace]}</em></strong>.
Please set <strong><em>razor.trace</em></strong> to <strong><em>${LV.Trace[LV.Trace.Verbose]}</em></strong> and then reload your VSCode environment and re-run the report Razor issue command.</p>`,this.panel.webview.html=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Report a Razor issue</title>
    <style>
        button {
            background-color: #eff3f6;
            background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);
            color: #24292e;
            border: 1px solid rgba(27,31,35,.2);
            border-radius: .25em;
            font-size: 1.1em;
            font-weight: 600;
            line-height: 18px;
            padding: 6px 12px;
            vertical-align: middle;
            cursor: pointer;
        }
        body {
            font-size: 20px;
        }
        strong {
            color: red;
        }
    </style>

    <script type="text/javascript">
        const vscode = acquireVsCodeApi();
        function copyIssue() {
            vscode.postMessage({
                command: 'copyIssue'
            });
        }
        function startIssue() {
            vscode.postMessage({
                command: 'startIssue'
            });
        }
        function stopIssue() {
            vscode.postMessage({
                command: 'stopIssue'
            });
            copyIssue();
        }
    </script>
</head>
<body>
<h3>Report a Razor issue</h3>
${e}
</body>
</html>`})}};sI.ReportIssuePanel=MV;MV.viewType="razorReportIssue"});var rUe=C(aI=>{"use strict";var pMt=aI&&aI.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(aI,"__esModule",{value:!0});aI.ReportIssueCommand=void 0;var mMt=Xze(),gMt=Zze(),tUe=eUe(),Wue=class{constructor(e,t,n){this.vscodeApi=e,this.dataCollectorFactory=new gMt.ReportIssueDataCollectorFactory(n),this.issueCreator=new mMt.ReportIssueCreator(this.vscodeApi,t),this.issuePanel=new tUe.ReportIssuePanel(this.dataCollectorFactory,this.issueCreator,n)}register(){let e=[];return e.push(this.dataCollectorFactory.register(),this.vscodeApi.commands.registerCommand("razor.reportIssue",()=>this.issuePanel.show())),this.vscodeApi.window.registerWebviewPanelSerializer&&e.push(this.vscodeApi.window.registerWebviewPanelSerializer(tUe.ReportIssuePanel.viewType,{deserializeWebviewPanel:t=>pMt(this,void 0,void 0,function*(){yield this.issuePanel.revive(t)})})),this.vscodeApi.Disposable.from(...e)}};aI.ReportIssueCommand=Wue});var nUe=C(NV=>{"use strict";Object.defineProperty(NV,"__esModule",{value:!0});NV.CSharpProjectedDocument=void 0;var vMt=Ng(),$ue=class{constructor(e){this.uri=e,this.content="",this.hostDocumentVersion=null,this.projectedDocumentVersion=0,this.path=(0,vMt.getUriPath)(e)}get hostDocumentSyncVersion(){return this.hostDocumentVersion}get projectedDocumentSyncVersion(){return this.projectedDocumentVersion}update(e,t){if(this.removeProvisionalDot(),this.hostDocumentVersion=t,e.length===0)return;let n=this.content;for(let i of e.reverse())n=this.getEditedContent(i.newText,i.span.start,i.span.start+i.span.length,n);this.setContent(n)}reset(){this.provisionalEditAt=void 0,this.preProvisionalContent=void 0,this.hostDocumentVersion=null,this.setContent("")}getContent(){return this.content}addProvisionalDotAt(e){if(this.provisionalEditAt===e)return;this.removeProvisionalDot();let t=this.getEditedContent(".",e,e,this.content);this.preProvisionalContent=this.content,this.provisionalEditAt=e,this.setContent(t)}removeProvisionalDot(){return this.provisionalEditAt&&this.preProvisionalContent?(this.setContent(this.preProvisionalContent),this.provisionalEditAt=void 0,this.preProvisionalContent=void 0,!0):!1}getEditedContent(e,t,n,i){let o=i.substr(0,t),s=i.substr(n);return i=`${o}${e}${s}`,i}setContent(e){this.projectedDocumentVersion++,this.content=e}};NV.CSharpProjectedDocument=$ue});var iUe=C(FV=>{"use strict";Object.defineProperty(FV,"__esModule",{value:!0});FV.HtmlProjectedDocument=void 0;var yMt=Ng(),Vue=class{constructor(e){this.uri=e,this.content="",this.hostDocumentVersion=null,this.projectedDocumentVersion=0,this.path=(0,yMt.getUriPath)(e)}get hostDocumentSyncVersion(){return this.hostDocumentVersion}get projectedDocumentSyncVersion(){return this.projectedDocumentVersion}update(e,t){if(this.hostDocumentVersion=t,e.length===0)return;let n=this.content;for(let i of e.reverse())n=this.getEditedContent(i.newText,i.span.start,i.span.start+i.span.length,n);this.setContent(n)}getContent(){return this.content}reset(){this.projectedDocumentVersion++,this.hostDocumentVersion=null,this.setContent("")}getEditedContent(e,t,n,i){let o=i.substr(0,t),s=i.substr(n);return i=`${o}${e}${s}`,i}setContent(e){this.projectedDocumentVersion++,this.content=e}};FV.HtmlProjectedDocument=Vue});var zV=C(jV=>{"use strict";Object.defineProperty(jV,"__esModule",{value:!0});jV.HtmlProjectedDocumentContentProvider=void 0;var Gue=XS(),oUe=Ng(),qV=class{constructor(e,t,n){this.documentManager=e,this.logger=n,e.onChange(i=>this.documentChanged(i)),this.onDidChangeEmitter=t.create()}get onDidChange(){return this.onDidChangeEmitter.event}provideTextDocumentContent(e){let t=this.findRazorDocument(e);return t?`${t.htmlDocument.getContent()}
// ${t.htmlDocument.projectedDocumentSyncVersion}`:(this.logger.verboseEnabled&&this.logger.logVerbose(`Could not find document '${(0,oUe.getUriPath)(e)}' when updating the HTML buffer. This typically happens when a document is removed.`),"")}documentChanged(e){(e.kind===Gue.RazorDocumentChangeKind.htmlChanged||e.kind===Gue.RazorDocumentChangeKind.opened||e.kind===Gue.RazorDocumentChangeKind.removed)&&this.onDidChangeEmitter.fire(e.document.htmlDocument.uri)}findRazorDocument(e){let t=(0,oUe.getUriPath)(e);return this.documentManager.documents.find(n=>n.htmlDocument.path.localeCompare(t,void 0,{sensitivity:"base"})===0)}};jV.HtmlProjectedDocumentContentProvider=qV;qV.scheme="razor-html"});var cUe=C(UV=>{"use strict";Object.defineProperty(UV,"__esModule",{value:!0});UV.createDocument=void 0;var sUe=require("vscode"),_Mt=nUe(),bMt=xV(),wMt=iUe(),SMt=zV(),aUe=jF(),Kue=Ng();function CMt(r){let e=DMt(r),t=TMt(r),n=(0,Kue.getUriPath)(r);return{uri:r,path:n,csharpDocument:e,htmlDocument:t}}UV.createDocument=CMt;function TMt(r){let t=`${(0,Kue.getUriPath)(r)}${aUe.virtualHtmlSuffix}`,n=sUe.Uri.file(t);return n=n.with({scheme:SMt.HtmlProjectedDocumentContentProvider.scheme}),new wMt.HtmlProjectedDocument(n)}function DMt(r){let t=`${(0,Kue.getUriPath)(r)}${aUe.virtualCSharpSuffix}`,n=sUe.Uri.file(t);return n=n.with({scheme:bMt.CSharpProjectedDocumentContentProvider.scheme}),new _Mt.CSharpProjectedDocument(n)}});var uUe=C(uI=>{"use strict";var cw=uI&&uI.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(uI,"__esModule",{value:!0});uI.RazorDocumentManager=void 0;var Dp=require("vscode"),cI=OD(),Yue=Ng(),VE=XS(),EMt=cUe(),Jue=class{constructor(e,t){this.serverClient=e,this.logger=t,this.razorDocuments={},this.onChangeEmitter=new Dp.EventEmitter}get onChange(){return this.onChangeEmitter.event}get documents(){return Object.values(this.razorDocuments)}getDocument(e){return cw(this,void 0,void 0,function*(){let t=this._getDocument(e);return yield this.ensureProjectedDocumentsOpen(t),t})}getActiveDocument(){return cw(this,void 0,void 0,function*(){return!Dp.window.activeTextEditor||Dp.window.activeTextEditor.document.languageId!==cI.RazorLanguage.id?null:yield this.getDocument(Dp.window.activeTextEditor.document.uri)})}initialize(){return cw(this,void 0,void 0,function*(){let e=yield Dp.workspace.findFiles(cI.RazorLanguage.globbingPattern);for(let t of e)this.addDocument(t);for(let t of Dp.workspace.textDocuments)t.languageId===cI.RazorLanguage.id&&(t.isClosed||this.openDocument(t.uri))})}register(){let e=Dp.workspace.createFileSystemWatcher(cI.RazorLanguage.globbingPattern),t=e.onDidCreate(s=>cw(this,void 0,void 0,function*(){return this.addDocument(s)})),n=e.onDidDelete(s=>cw(this,void 0,void 0,function*(){return this.removeDocument(s)})),i=Dp.workspace.onDidOpenTextDocument(s=>{s.languageId===cI.RazorLanguage.id&&this.openDocument(s.uri)}),o=Dp.workspace.onDidCloseTextDocument(s=>{s.languageId===cI.RazorLanguage.id&&this.closeDocument(s.uri)});return this.serverClient.onNotification("razor/updateCSharpBuffer",s=>cw(this,void 0,void 0,function*(){return this.updateCSharpBuffer(s)})),this.serverClient.onNotification("razor/updateHtmlBuffer",s=>cw(this,void 0,void 0,function*(){return this.updateHtmlBuffer(s)})),Dp.Disposable.from(e,t,n,i,o)}_getDocument(e){let t=(0,Yue.getUriPath)(e),n=this.razorDocuments[t];return n||(this.logger.logMessage(`File '${t}' didn't exist in the Razor document list. This is likely because it's from outside the workspace.`),n=this.addDocument(e)),n}openDocument(e){let t=this._getDocument(e);this.notifyDocumentChange(t,VE.RazorDocumentChangeKind.opened)}closeDocument(e){let t=this._getDocument(e),i=t.csharpDocument,s=t.htmlDocument;i.reset(),s.reset(),Dp.workspace.getWorkspaceFolder(e)||this.removeDocument(e),this.notifyDocumentChange(t,VE.RazorDocumentChangeKind.closed)}addDocument(e){let t=(0,Yue.getUriPath)(e),n=this.razorDocuments[t];return n?(this.logger.logMessage(`Skipping document creation for '${t}' because it already exists.`),n):(n=(0,EMt.createDocument)(e),this.razorDocuments[n.path]=n,this.notifyDocumentChange(n,VE.RazorDocumentChangeKind.added),n)}removeDocument(e){let t=this._getDocument(e);delete this.razorDocuments[t.path],this.notifyDocumentChange(t,VE.RazorDocumentChangeKind.removed)}updateCSharpBuffer(e){return cw(this,void 0,void 0,function*(){this.logger.verboseEnabled&&this.logger.logVerbose(`Updating the C# document for Razor file '${e.hostDocumentFilePath}' (${e.hostDocumentVersion})`);let t=Dp.Uri.file(e.hostDocumentFilePath),n=this._getDocument(t),i=n.csharpDocument;!i.hostDocumentSyncVersion||i.hostDocumentSyncVersion<=e.hostDocumentVersion?(i.update(e.changes,e.hostDocumentVersion),this.notifyDocumentChange(n,VE.RazorDocumentChangeKind.csharpChanged)):this.logger.logWarning("Failed to update the C# document buffer. This is unexpected and may result in incorrect C# interactions.")})}updateHtmlBuffer(e){return cw(this,void 0,void 0,function*(){this.logger.verboseEnabled&&this.logger.logVerbose(`Updating the HTML document for Razor file '${e.hostDocumentFilePath}' (${e.hostDocumentVersion})`);let t=Dp.Uri.file(e.hostDocumentFilePath),n=this._getDocument(t),i=n.htmlDocument;!i.hostDocumentSyncVersion||i.hostDocumentSyncVersion<=e.hostDocumentVersion?(i.update(e.changes,e.hostDocumentVersion),this.notifyDocumentChange(n,VE.RazorDocumentChangeKind.htmlChanged)):this.logger.logWarning("Failed to update the HTML document buffer. This is unexpected and may result in incorrect HTML interactions.")})}notifyDocumentChange(e,t){this.logger.verboseEnabled&&this.logger.logVerbose(`Notifying document '${(0,Yue.getUriPath)(e.uri)}' changed '${VE.RazorDocumentChangeKind[t]}'`);let n={document:e,kind:t};this.onChangeEmitter.fire(n)}ensureProjectedDocumentsOpen(e){return cw(this,void 0,void 0,function*(){yield Dp.workspace.openTextDocument(e.csharpDocument.uri),yield Dp.workspace.openTextDocument(e.htmlDocument.uri)})}};uI.RazorDocumentManager=Jue});var dUe=C(lI=>{"use strict";var RMt=lI&&lI.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(lI,"__esModule",{value:!0});lI.RazorDocumentSynchronizer=void 0;var Xue=require("vscode"),PMt=xV(),xMt=zV(),HV=Ng(),lUe=XS(),Que=class{constructor(e,t){this.documentManager=e,this.logger=t,this.synchronizations={},this.synchronizationIdentifier=0}register(){let e=this.documentManager.onChange(n=>this.documentChanged(n)),t=Xue.workspace.onDidChangeTextDocument(n=>this.textDocumentChanged(n));return Xue.Disposable.from(e,t)}trySynchronizeProjectedDocument(e,t,n,i){return RMt(this,void 0,void 0,function*(){let o=++this.synchronizationIdentifier,s=(0,HV.getUriPath)(t.uri);if(this.logger.verboseEnabled){let c=n;this.logger.logVerbose(`${o} - Synchronizing '${s}':
    Currently at ${t.hostDocumentSyncVersion}, synchronizing to version '${c}'.
    Current host document version: '${e.version}'
    Current projected document version: '${t.projectedDocumentSyncVersion}'`)}e.version!==n&&this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - toHostDocumentVersion and hostDocument.version already out of date.`);let a=this.createSynchronizationContext(s,t,n,e,i);try{t.hostDocumentSyncVersion!==n&&(this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Projected document not in sync with host document, waiting for update...
    Current host document sync version: ${t.hostDocumentSyncVersion}`),yield a.onProjectedDocumentSynchronized),this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Projected document in sync with host document`);let c=yield Xue.workspace.openTextDocument(t.uri),u=this.getProjectedTextDocumentVersion(c);t.projectedDocumentSyncVersion!==u&&(this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Projected text document not in sync with data type, waiting for update...
    Current projected text document sync version: ${u}`),yield a.onProjectedTextDocumentSynchronized),this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Projected text document in sync with data type`)}catch(c){return this.removeSynchronization(a),this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Synchronization failed: ${c}`),!1}return this.removeSynchronization(a),this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Synchronization successful!`),!0})}removeSynchronization(e){let t=(0,HV.getUriPath)(e.projectedDocument.uri),n=this.synchronizations[t];if(clearTimeout(e.timeoutId),n.length===1){delete this.synchronizations[t];return}this.synchronizations[t]=n.filter(i=>i!==e)}createSynchronizationContext(e,t,n,i,o){let s=[],a=Function,c=new Promise((_,D)=>{a=_,s.push(D)}),u=Function,l=new Promise((_,D)=>{u=_,s.push(D)});o.onCancellationRequested(_=>{f.cancel(`Token cancellation requested: ${_}`)});let d=setTimeout(()=>{f.cancel("Synchronization timed out")},2e3),f={projectedDocument:t,logIdentifier:this.synchronizationIdentifier,timeoutId:d,toHostDocumentVersion:n,hostDocumentVersion:i.version,cancel:_=>{for(let D of s)D(_)},projectedDocumentSynchronized:a,onProjectedDocumentSynchronized:c,projectedTextDocumentSynchronized:u,onProjectedTextDocumentSynchronized:l},p=this.synchronizations[e];return p||(p=[],this.synchronizations[e]=p),p.push(f),f}textDocumentChanged(e){if(e.document.uri.scheme!==PMt.CSharpProjectedDocumentContentProvider.scheme&&e.document.uri.scheme!==xMt.HtmlProjectedDocumentContentProvider.scheme)return;let t=this.getProjectedTextDocumentVersion(e.document);if(t===null)return;let n=(0,HV.getUriPath)(e.document.uri),i=this.synchronizations[n];if(i){for(let o of i)if(o.projectedDocument.projectedDocumentSyncVersion===t){if(this.logger.verboseEnabled){let s=o.logIdentifier,a=t;this.logger.logVerbose(`${s} - Projected text document synchronized to ${a}.`)}o.projectedTextDocumentSynchronized()}}}documentChanged(e){let t;if(e.kind===lUe.RazorDocumentChangeKind.csharpChanged)t=e.document.csharpDocument;else if(e.kind===lUe.RazorDocumentChangeKind.htmlChanged)t=e.document.htmlDocument;else return;if(t.hostDocumentSyncVersion===null)return;let i=(0,HV.getUriPath)(t.uri),o=this.synchronizations[i];if(o)for(let s of o)s.toHostDocumentVersion===t.hostDocumentSyncVersion&&s.projectedDocumentSynchronized()}getProjectedTextDocumentVersion(e){if(e.lineCount<=0)return null;let n=e.lineAt(e.lineCount-1).text.substring(3);return parseInt(n,10)}};lI.RazorDocumentSynchronizer=Que});var fUe=C(BV=>{"use strict";Object.defineProperty(BV,"__esModule",{value:!0});BV.SerializableColorInformation=void 0;var Zue=class{constructor(e,t){this.range=e,this.color=t}};BV.SerializableColorInformation=Zue});var mUe=C(dI=>{"use strict";var hUe=dI&&dI.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(dI,"__esModule",{value:!0});dI.DocumentColorHandler=void 0;var pUe=require("vscode"),OMt=ow(),IMt=SO(),kMt=fUe(),WV=class r{constructor(e,t,n){this.documentManager=e,this.serverClient=t,this.logger=n,this.documentColorRequestType=new OMt.RequestType(r.provideHtmlDocumentColorEndpoint),this.emptyColorInformationResponse=[]}register(){return this.serverClient.onRequestWithParams(this.documentColorRequestType,(e,t)=>hUe(this,void 0,void 0,function*(){return this.provideHtmlDocumentColors(e,t)}))}provideHtmlDocumentColors(e,t){return hUe(this,void 0,void 0,function*(){try{let n=pUe.Uri.parse(e.textDocument.uri,!0),i=yield this.documentManager.getDocument(n);if(i===void 0)return this.logger.logWarning(`Could not find Razor document ${n}; returning empty color information.`),this.emptyColorInformationResponse;let o=i.htmlDocument.uri,s=yield pUe.commands.executeCommand("vscode.executeDocumentColorProvider",o),a=new Array;for(let c of s){let u=(0,IMt.convertRangeToSerializable)(c.range),l=new kMt.SerializableColorInformation(u,c.color);a.push(l)}return a}catch(n){this.logger.logWarning(`${r.provideHtmlDocumentColorEndpoint} failed with ${n}`)}return this.emptyColorInformationResponse})}};dI.DocumentColorHandler=WV;WV.provideHtmlDocumentColorEndpoint="razor/provideHtmlDocumentColor"});var vUe=C(fI=>{"use strict";var AMt=fI&&fI.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(fI,"__esModule",{value:!0});fI.RazorDocumentHighlightProvider=void 0;var gUe=require("vscode"),LMt=d_(),MMt=Qv(),ele=class extends LMt.RazorLanguageFeatureBase{provideDocumentHighlights(e,t,n){return AMt(this,void 0,void 0,function*(){let i=yield this.getProjection(e,t,n);if(!i||i.languageKind===MMt.LanguageKind.Razor)return;let o=yield gUe.commands.executeCommand("vscode.executeDocumentHighlights",i.uri,i.position);if(!o||o.length===0)return;let s=new Array;for(let a of o){let c=yield this.serviceClient.mapToDocumentRanges(i.languageKind,[a.range],e.uri);if(!c||!c.ranges||!c.ranges[0]||e.version!==c.hostDocumentVersion)continue;let u=new gUe.DocumentHighlight(c.ranges[0],a.kind);s.push(u)}return s})}};fI.RazorDocumentHighlightProvider=ele});var yUe=C($V=>{"use strict";Object.defineProperty($V,"__esModule",{value:!0});$V.reportTelemetryForDocuments=void 0;var NMt=XS();function FMt(r,e){r.onChange(t=>{switch(t.kind){case NMt.RazorDocumentChangeKind.added:e.reportWorkspaceContainsRazor();break}})}$V.reportTelemetryForDocuments=FMt});var _Ue=C(VV=>{"use strict";Object.defineProperty(VV,"__esModule",{value:!0});VV.SerializableFoldingRangeResponse=void 0;var tle=class{constructor(e,t){this.htmlRanges=e,this.csharpRanges=t}};VV.SerializableFoldingRangeResponse=tle});var SUe=C(pI=>{"use strict";var bUe=pI&&pI.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(pI,"__esModule",{value:!0});pI.FoldingRangeHandler=void 0;var hI=require("vscode"),GV=ow(),wUe=_Ue(),KV=class r{constructor(e,t,n){this.serverClient=e,this.documentManager=t,this.logger=n,this.foldingRangeRequestType=new GV.RequestType(r.provideFoldingRange),this.emptyFoldingRangeReponse=new wUe.SerializableFoldingRangeResponse(new Array,new Array)}register(){return this.serverClient.onRequestWithParams(this.foldingRangeRequestType,(e,t)=>bUe(this,void 0,void 0,function*(){return this.provideFoldingRanges(e,t)}))}provideFoldingRanges(e,t){return bUe(this,void 0,void 0,function*(){try{let n=hI.Uri.parse(e.textDocument.uri,!0),i=yield this.documentManager.getDocument(n);if(i===void 0)return this.emptyFoldingRangeReponse;let o=i.htmlDocument.uri,s=i.csharpDocument.uri,a=yield hI.commands.executeCommand("vscode.executeFoldingRangeProvider",o),c=yield hI.commands.executeCommand("vscode.executeFoldingRangeProvider",s),u=a===void 0?new Array:this.convertFoldingRanges(a),l=c===void 0?new Array:this.convertFoldingRanges(c);return new wUe.SerializableFoldingRangeResponse(u,l)}catch(n){this.logger.logWarning(`${r.provideFoldingRange} failed with ${n}`)}return this.emptyFoldingRangeReponse})}convertFoldingRanges(e){let t=new Array;return e.forEach(n=>{let i={startLine:n.start,startCharacter:0,endLine:n.end,endCharacter:0,kind:n.kind===void 0?void 0:this.convertFoldingRangeKind(n.kind)};t.push(i)}),t}convertFoldingRangeKind(e){if(e===hI.FoldingRangeKind.Comment)return GV.FoldingRangeKind.Comment;if(e===hI.FoldingRangeKind.Imports)return GV.FoldingRangeKind.Imports;if(e===hI.FoldingRangeKind.Region)return GV.FoldingRangeKind.Region;this.logger.logWarning(`Unexpected FoldingRangeKind ${e}`)}};pI.FoldingRangeHandler=KV;KV.provideFoldingRange="razor/foldingRange"});var CUe=C(YV=>{"use strict";Object.defineProperty(YV,"__esModule",{value:!0});YV.SerializableFormattingResponse=void 0;var rle=class{constructor(e){this.edits=e}};YV.SerializableFormattingResponse=rle});var EUe=C(mI=>{"use strict";var TUe=mI&&mI.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(mI,"__esModule",{value:!0});mI.FormattingHandler=void 0;var BF=require("vscode"),qMt=ow(),jMt=YN(),DUe=CUe(),JV=class r{constructor(e,t,n){this.documentManager=e,this.serverClient=t,this.logger=n,this.formattingRequestType=new qMt.RequestType(r.provideFormattingEndpoint),this.emptyFormattingResponse=new DUe.SerializableFormattingResponse}register(){return this.serverClient.onRequestWithParams(this.formattingRequestType,(e,t)=>TUe(this,void 0,void 0,function*(){return this.provideFormatting(e,t)}))}provideFormatting(e,t){return TUe(this,void 0,void 0,function*(){try{let n=BF.Uri.parse(e.textDocument.uri),i=yield this.documentManager.getDocument(n);if(i===void 0)return this.emptyFormattingResponse;let o=i.htmlDocument.uri,s=yield BF.commands.executeCommand("vscode.executeFormatDocumentProvider",o,e.options);if(s===void 0)return this.emptyFormattingResponse;let a=i.htmlDocument.getContent(),c=this.countLines(a),u=Array();for(let l of s){if(l.range.end.line>c){let f=this.getLastLineLength(a),p=new BF.Position(c,f),_=new BF.Range(l.range.start,p);l=new BF.TextEdit(_,l.newText)}let d=(0,jMt.convertTextEditToSerializable)(l);u.push(d)}return new DUe.SerializableFormattingResponse(u)}catch(n){this.logger.logWarning(`${r.provideFormattingEndpoint} failed with ${n}`)}return this.emptyFormattingResponse})}countLines(e){let t=0;for(let n of e)n===`
`&&t++;return t}getLastLineLength(e){let t=0;for(let n=0;n<e.length;n++)n+1<e.length&&e[n]==="\r"&&e[n+1]===`
`?(t=0,n++):e[n]===`
`?t=0:t++;return t}};mI.FormattingHandler=JV;JV.provideFormattingEndpoint="textDocument/formatting"});var RUe=C(XV=>{"use strict";Object.defineProperty(XV,"__esModule",{value:!0});XV.RazorFormatOnTypeProvider=void 0;var nle=class{provideOnTypeFormattingEdits(e,t,n,i,o){return new Array}};XV.RazorFormatOnTypeProvider=nle});var PUe=C(QV=>{"use strict";Object.defineProperty(QV,"__esModule",{value:!0});QV.RazorDocumentRangeFormattingResponse=void 0;var ile=class{constructor(e){this.edits=e}};QV.RazorDocumentRangeFormattingResponse=ile});var AUe=C(gI=>{"use strict";var xUe=gI&&gI.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(gI,"__esModule",{value:!0});gI.RazorFormattingFeature=void 0;var OUe=require("vscode"),zMt=ow(),IUe=Qv(),UMt=SO(),HMt=YN(),kUe=PUe(),ole=class{constructor(e,t,n){this.serverClient=e,this.documentManager=t,this.logger=n,this.rangeFormattingRequestType=new zMt.RequestType("razor/rangeFormatting"),this.emptyRangeFormattingResponse=new kUe.RazorDocumentRangeFormattingResponse([])}register(){return this.serverClient.onRequestWithParams(this.rangeFormattingRequestType,(e,t)=>xUe(this,void 0,void 0,function*(){return this.handleRangeFormatting(e,t)}))}handleRangeFormatting(e,t){return xUe(this,void 0,void 0,function*(){if(e.kind===IUe.LanguageKind.Razor)return this.emptyRangeFormattingResponse;try{let n=OUe.Uri.file(e.hostDocumentFilePath),i=yield this.documentManager.getDocument(n);if(!i)return this.emptyRangeFormattingResponse;let o=n;e.kind===IUe.LanguageKind.CSharp?o=i.csharpDocument.uri:o=i.htmlDocument.uri;let s=yield OUe.commands.executeCommand("vscode.executeFormatRangeProvider",o,(0,UMt.convertRangeFromSerializable)(e.projectedRange),e.options);if(s){let a=s.map(c=>(0,HMt.convertTextEditToSerializable)(c));return new kUe.RazorDocumentRangeFormattingResponse(a)}}catch(n){this.logger.logWarning(`razor/rangeFormatting failed with ${n}`)}return this.emptyRangeFormattingResponse})}};gI.RazorFormattingFeature=ole});var LUe=C(vI=>{"use strict";var BMt=vI&&vI.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(vI,"__esModule",{value:!0});vI.RazorHoverProvider=void 0;var WF=require("vscode"),WMt=d_(),sle=class extends WMt.RazorLanguageFeatureBase{provideHover(e,t,n){return BMt(this,void 0,void 0,function*(){let i=yield this.getProjection(e,t,n);if(!i)return;let o=yield WF.commands.executeCommand("vscode.executeHoverProvider",i.uri,i.position);if(!o||o.length===0)return;let s=o.filter(l=>l.range)[0];if(!s)return;let a=yield this.serviceClient.mapToDocumentRanges(i.languageKind,[s.range],e.uri);if(!a||!a.ranges||!a.ranges[0]||e.version!==a.hostDocumentVersion)return;let c=new Array;for(let l of s.contents)if(typeof l=="string"){let d=new WF.MarkdownString(l);c.push(d)}else if(l.language){let d=l,f=new WF.MarkdownString;f.appendCodeblock(d.value,d.language),c.push(f)}else{let d=l.value,f=new WF.MarkdownString(d);c.push(f)}return new WF.Hover(c,a.ranges[0])})}};vI.RazorHoverProvider=sle});var NUe=C(_I=>{"use strict";var $F=_I&&_I.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(_I,"__esModule",{value:!0});_I.HtmlPreviewPanel=void 0;var yI=require("vscode"),ale=XS(),MUe=Ng(),ZV=class r{constructor(e){this.documentManager=e,e.onChange(t=>this.documentChanged(t))}show(){return $F(this,void 0,void 0,function*(){this.panel?this.panel.reveal(yI.ViewColumn.Two):(this.panel=yI.window.createWebviewPanel(r.viewType,"Razor HTML Preview",yI.ViewColumn.Two,{enableScripts:!0,localResourceRoots:[]}),this.attachToCurrentPanel()),yield this.update()})}revive(e){return $F(this,void 0,void 0,function*(){this.panel=e,this.attachToCurrentPanel(),yield this.update()})}documentChanged(e){return $F(this,void 0,void 0,function*(){this.panel&&(e.kind===ale.RazorDocumentChangeKind.htmlChanged||e.kind===ale.RazorDocumentChangeKind.opened||e.kind===ale.RazorDocumentChangeKind.closed)&&(yield this.update())})}attachToCurrentPanel(){if(!this.panel){yI.window.showErrorMessage("Unexpected error when attaching to HTML preview window.");return}this.panel.webview.onDidReceiveMessage(e=>$F(this,void 0,void 0,function*(){switch(e.command){case"copy":if(!this.htmlContent)return;yield yI.env.clipboard.writeText(this.htmlContent),yI.window.showInformationMessage("Razor HTML copied to clipboard");return}})),this.panel.onDidDispose(()=>this.panel=void 0)}update(){return $F(this,void 0,void 0,function*(){if(!this.panel)return;let e=yield this.documentManager.getActiveDocument(),t="",n="";e?(this.htmlContent=e.htmlDocument.getContent(),t=(0,MUe.getUriPath)(e.uri),n=(0,MUe.getUriPath)(e.htmlDocument.uri)):this.htmlContent=void 0;let i=this.htmlContent?this.htmlContent:"";i=i.replace(/</g,"&lt;").replace(/</g,"&gt;"),this.panel.webview.html=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Report a Razor issue</title>
    <style>
        button {
            background-color: #eff3f6;
            background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);
            color: #24292e;
            border: 1px solid rgba(27,31,35,.2);
            border-radius: .25em;
            font-size: 1.1em;
            font-weight: 600;
            line-height: 18px;
            padding: 6px 12px;
            vertical-align: middle;
            cursor: pointer;
        }
    </style>

    <script type="text/javascript">
        const vscode = acquireVsCodeApi();
        function copy() {
            vscode.postMessage({
                command: 'copy'
            });
        }
    </script>
</head>
<body>
    <p>Host document file path: <strong>${t}</strong></p>
    <p>Virtual document file path: <strong>${n}</strong></p>
    <p><button onclick="copy()">Copy HTML</button></p>
    <hr />
    <pre>${i}</pre>
</body>
</html>`})}};_I.HtmlPreviewPanel=ZV;ZV.viewType="razorHtmlPreview"});var t4=C((par,zUe)=>{"use strict";var cle=Object.defineProperty,$Mt=Object.getOwnPropertyDescriptor,VMt=Object.getOwnPropertyNames,GMt=Object.prototype.hasOwnProperty,KMt=(r,e)=>{for(var t in e)cle(r,t,{get:e[t],enumerable:!0})},YMt=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of VMt(e))!GMt.call(r,i)&&i!==t&&cle(r,i,{get:()=>e[i],enumerable:!(n=$Mt(e,i))||n.enumerable});return r},JMt=r=>YMt(cle({},"__esModule",{value:!0}),r),qUe={};KMt(qUe,{config:()=>tNt,t:()=>jUe});zUe.exports=JMt(qUe);var XMt=require("fs"),QMt=require("fs/promises");async function ZMt(r){if(r.protocol==="file:")return await(0,QMt.readFile)(r,"utf8");if(r.protocol==="http:"||r.protocol==="https:"){let e=await fetch(r.toString(),{headers:{"Accept-Encoding":"gzip, deflate",Accept:"application/json"},redirect:"follow"});if(!e.ok){let n=`Unexpected ${e.status} response while trying to read ${r}`;try{n+=`: ${await e.text()}`}catch{}throw new Error(n)}return await e.text()}throw new Error("Unsupported protocol")}function eNt(r){return(0,XMt.readFileSync)(r,"utf8")}var VF;function tNt(r){if("contents"in r){typeof r.contents=="string"?VF=JSON.parse(r.contents):VF=r.contents;return}if("fsPath"in r){let e=eNt(r.fsPath),t=JSON.parse(e);VF=FUe(t)?t.contents.bundle:t;return}if(r.uri){let e=r.uri;return typeof r.uri=="string"&&(e=new URL(r.uri)),new Promise((t,n)=>{ZMt(e).then(i=>{try{let o=JSON.parse(i);VF=FUe(o)?o.contents.bundle:o,t()}catch(o){n(o)}}).catch(i=>{n(i)})})}}function jUe(...r){let e=r[0],t,n,i;if(typeof e=="string")t=e,n=e,r.splice(0,1),i=!r||typeof r[0]!="object"?r:r[0];else if(e instanceof Array){let s=r.slice(1);if(e.length!==s.length+1)throw new Error("expected a string as the first argument to l10n.t");let a=e[0];for(let c=1;c<e.length;c++)a+=`{${c-1}}`+e[c];return jUe(a,...s)}else n=e.message,t=n,e.comment&&e.comment.length>0&&(t+=`/${Array.isArray(e.comment)?e.comment.join(""):e.comment}`),i=e.args??{};let o=VF?.[t];return o?typeof o=="string"?e4(o,i):o.comment?e4(o.message,i):e4(n,i):e4(n,i)}var rNt=/{([^}]+)}/g;function e4(r,e){return Object.keys(e).length===0?r:r.replace(rNt,(t,n)=>e[n]??t)}function FUe(r){return typeof r?.contents?.bundle=="object"&&typeof r?.version=="string"}});var r4,ule,UUe,n4,ec,Pi,bI,HUe,GF,i4,o4,GE,s4,lle,BUe,WUe,$Ue,wI,kD,_u,dle,SI,VUe,fle,hle,ple,mle,KF,GUe,KUe,gle,YUe,jg,KE,Od,Am,a4,c4,u4,JUe,l4,d4,CI,f4,XUe,QUe,YE,h4,TI,ZUe,DI,eHe,EI,tHe,p4,rHe,nHe,iHe,m4,g4,JE,oHe,sHe,aHe,cHe,uHe,lHe,dHe,vle,yle,fHe,hHe,pHe,mHe,gHe,vHe,yHe,_He,bHe,_le,pt,wHe=Ti(()=>{"use strict";(function(r){function e(t){return typeof t=="string"}r.is=e})(r4||(r4={}));(function(r){function e(t){return typeof t=="string"}r.is=e})(ule||(ule={}));(function(r){r.MIN_VALUE=-2147483648,r.MAX_VALUE=2147483647;function e(t){return typeof t=="number"&&r.MIN_VALUE<=t&&t<=r.MAX_VALUE}r.is=e})(UUe||(UUe={}));(function(r){r.MIN_VALUE=0,r.MAX_VALUE=2147483647;function e(t){return typeof t=="number"&&r.MIN_VALUE<=t&&t<=r.MAX_VALUE}r.is=e})(n4||(n4={}));(function(r){function e(n,i){return n===Number.MAX_VALUE&&(n=n4.MAX_VALUE),i===Number.MAX_VALUE&&(i=n4.MAX_VALUE),{line:n,character:i}}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&pt.uinteger(i.line)&&pt.uinteger(i.character)}r.is=t})(ec||(ec={}));(function(r){function e(n,i,o,s){if(pt.uinteger(n)&&pt.uinteger(i)&&pt.uinteger(o)&&pt.uinteger(s))return{start:ec.create(n,i),end:ec.create(o,s)};if(ec.is(n)&&ec.is(i))return{start:n,end:i};throw new Error(`Range#create called with invalid arguments[${n}, ${i}, ${o}, ${s}]`)}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&ec.is(i.start)&&ec.is(i.end)}r.is=t})(Pi||(Pi={}));(function(r){function e(n,i){return{uri:n,range:i}}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&Pi.is(i.range)&&(pt.string(i.uri)||pt.undefined(i.uri))}r.is=t})(bI||(bI={}));(function(r){function e(n,i,o,s){return{targetUri:n,targetRange:i,targetSelectionRange:o,originSelectionRange:s}}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&Pi.is(i.targetRange)&&pt.string(i.targetUri)&&Pi.is(i.targetSelectionRange)&&(Pi.is(i.originSelectionRange)||pt.undefined(i.originSelectionRange))}r.is=t})(HUe||(HUe={}));(function(r){function e(n,i,o,s){return{red:n,green:i,blue:o,alpha:s}}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&pt.numberRange(i.red,0,1)&&pt.numberRange(i.green,0,1)&&pt.numberRange(i.blue,0,1)&&pt.numberRange(i.alpha,0,1)}r.is=t})(GF||(GF={}));(function(r){function e(n,i){return{range:n,color:i}}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&Pi.is(i.range)&&GF.is(i.color)}r.is=t})(i4||(i4={}));(function(r){function e(n,i,o){return{label:n,textEdit:i,additionalTextEdits:o}}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&pt.string(i.label)&&(pt.undefined(i.textEdit)||_u.is(i))&&(pt.undefined(i.additionalTextEdits)||pt.typedArray(i.additionalTextEdits,_u.is))}r.is=t})(o4||(o4={}));(function(r){r.Comment="comment",r.Imports="imports",r.Region="region"})(GE||(GE={}));(function(r){function e(n,i,o,s,a,c){let u={startLine:n,endLine:i};return pt.defined(o)&&(u.startCharacter=o),pt.defined(s)&&(u.endCharacter=s),pt.defined(a)&&(u.kind=a),pt.defined(c)&&(u.collapsedText=c),u}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&pt.uinteger(i.startLine)&&pt.uinteger(i.startLine)&&(pt.undefined(i.startCharacter)||pt.uinteger(i.startCharacter))&&(pt.undefined(i.endCharacter)||pt.uinteger(i.endCharacter))&&(pt.undefined(i.kind)||pt.string(i.kind))}r.is=t})(s4||(s4={}));(function(r){function e(n,i){return{location:n,message:i}}r.create=e;function t(n){let i=n;return pt.defined(i)&&bI.is(i.location)&&pt.string(i.message)}r.is=t})(lle||(lle={}));(function(r){r.Error=1,r.Warning=2,r.Information=3,r.Hint=4})(BUe||(BUe={}));(function(r){r.Unnecessary=1,r.Deprecated=2})(WUe||(WUe={}));(function(r){function e(t){let n=t;return pt.objectLiteral(n)&&pt.string(n.href)}r.is=e})($Ue||($Ue={}));(function(r){function e(n,i,o,s,a,c){let u={range:n,message:i};return pt.defined(o)&&(u.severity=o),pt.defined(s)&&(u.code=s),pt.defined(a)&&(u.source=a),pt.defined(c)&&(u.relatedInformation=c),u}r.create=e;function t(n){var i;let o=n;return pt.defined(o)&&Pi.is(o.range)&&pt.string(o.message)&&(pt.number(o.severity)||pt.undefined(o.severity))&&(pt.integer(o.code)||pt.string(o.code)||pt.undefined(o.code))&&(pt.undefined(o.codeDescription)||pt.string((i=o.codeDescription)===null||i===void 0?void 0:i.href))&&(pt.string(o.source)||pt.undefined(o.source))&&(pt.undefined(o.relatedInformation)||pt.typedArray(o.relatedInformation,lle.is))}r.is=t})(wI||(wI={}));(function(r){function e(n,i,...o){let s={title:n,command:i};return pt.defined(o)&&o.length>0&&(s.arguments=o),s}r.create=e;function t(n){let i=n;return pt.defined(i)&&pt.string(i.title)&&pt.string(i.command)}r.is=t})(kD||(kD={}));(function(r){function e(o,s){return{range:o,newText:s}}r.replace=e;function t(o,s){return{range:{start:o,end:o},newText:s}}r.insert=t;function n(o){return{range:o,newText:""}}r.del=n;function i(o){let s=o;return pt.objectLiteral(s)&&pt.string(s.newText)&&Pi.is(s.range)}r.is=i})(_u||(_u={}));(function(r){function e(n,i,o){let s={label:n};return i!==void 0&&(s.needsConfirmation=i),o!==void 0&&(s.description=o),s}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&pt.string(i.label)&&(pt.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(pt.string(i.description)||i.description===void 0)}r.is=t})(dle||(dle={}));(function(r){function e(t){let n=t;return pt.string(n)}r.is=e})(SI||(SI={}));(function(r){function e(o,s,a){return{range:o,newText:s,annotationId:a}}r.replace=e;function t(o,s,a){return{range:{start:o,end:o},newText:s,annotationId:a}}r.insert=t;function n(o,s){return{range:o,newText:"",annotationId:s}}r.del=n;function i(o){let s=o;return _u.is(s)&&(dle.is(s.annotationId)||SI.is(s.annotationId))}r.is=i})(VUe||(VUe={}));(function(r){function e(n,i){return{textDocument:n,edits:i}}r.create=e;function t(n){let i=n;return pt.defined(i)&&gle.is(i.textDocument)&&Array.isArray(i.edits)}r.is=t})(fle||(fle={}));(function(r){function e(n,i,o){let s={kind:"create",uri:n};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(s.options=i),o!==void 0&&(s.annotationId=o),s}r.create=e;function t(n){let i=n;return i&&i.kind==="create"&&pt.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||pt.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||pt.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||SI.is(i.annotationId))}r.is=t})(hle||(hle={}));(function(r){function e(n,i,o,s){let a={kind:"rename",oldUri:n,newUri:i};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(a.options=o),s!==void 0&&(a.annotationId=s),a}r.create=e;function t(n){let i=n;return i&&i.kind==="rename"&&pt.string(i.oldUri)&&pt.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||pt.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||pt.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||SI.is(i.annotationId))}r.is=t})(ple||(ple={}));(function(r){function e(n,i,o){let s={kind:"delete",uri:n};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(s.options=i),o!==void 0&&(s.annotationId=o),s}r.create=e;function t(n){let i=n;return i&&i.kind==="delete"&&pt.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||pt.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||pt.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||SI.is(i.annotationId))}r.is=t})(mle||(mle={}));(function(r){function e(t){let n=t;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(i=>pt.string(i.kind)?hle.is(i)||ple.is(i)||mle.is(i):fle.is(i)))}r.is=e})(KF||(KF={}));(function(r){function e(n){return{uri:n}}r.create=e;function t(n){let i=n;return pt.defined(i)&&pt.string(i.uri)}r.is=t})(GUe||(GUe={}));(function(r){function e(n,i){return{uri:n,version:i}}r.create=e;function t(n){let i=n;return pt.defined(i)&&pt.string(i.uri)&&pt.integer(i.version)}r.is=t})(KUe||(KUe={}));(function(r){function e(n,i){return{uri:n,version:i}}r.create=e;function t(n){let i=n;return pt.defined(i)&&pt.string(i.uri)&&(i.version===null||pt.integer(i.version))}r.is=t})(gle||(gle={}));(function(r){function e(n,i,o,s){return{uri:n,languageId:i,version:o,text:s}}r.create=e;function t(n){let i=n;return pt.defined(i)&&pt.string(i.uri)&&pt.string(i.languageId)&&pt.integer(i.version)&&pt.string(i.text)}r.is=t})(YUe||(YUe={}));(function(r){r.PlainText="plaintext",r.Markdown="markdown";function e(t){let n=t;return n===r.PlainText||n===r.Markdown}r.is=e})(jg||(jg={}));(function(r){function e(t){let n=t;return pt.objectLiteral(t)&&jg.is(n.kind)&&pt.string(n.value)}r.is=e})(KE||(KE={}));(function(r){r.Text=1,r.Method=2,r.Function=3,r.Constructor=4,r.Field=5,r.Variable=6,r.Class=7,r.Interface=8,r.Module=9,r.Property=10,r.Unit=11,r.Value=12,r.Enum=13,r.Keyword=14,r.Snippet=15,r.Color=16,r.File=17,r.Reference=18,r.Folder=19,r.EnumMember=20,r.Constant=21,r.Struct=22,r.Event=23,r.Operator=24,r.TypeParameter=25})(Od||(Od={}));(function(r){r.PlainText=1,r.Snippet=2})(Am||(Am={}));(function(r){r.Deprecated=1})(a4||(a4={}));(function(r){function e(n,i,o){return{newText:n,insert:i,replace:o}}r.create=e;function t(n){let i=n;return i&&pt.string(i.newText)&&Pi.is(i.insert)&&Pi.is(i.replace)}r.is=t})(c4||(c4={}));(function(r){r.asIs=1,r.adjustIndentation=2})(u4||(u4={}));(function(r){function e(t){let n=t;return n&&(pt.string(n.detail)||n.detail===void 0)&&(pt.string(n.description)||n.description===void 0)}r.is=e})(JUe||(JUe={}));(function(r){function e(t){return{label:t}}r.create=e})(l4||(l4={}));(function(r){function e(t,n){return{items:t||[],isIncomplete:!!n}}r.create=e})(d4||(d4={}));(function(r){function e(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}r.fromPlainText=e;function t(n){let i=n;return pt.string(i)||pt.objectLiteral(i)&&pt.string(i.language)&&pt.string(i.value)}r.is=t})(CI||(CI={}));(function(r){function e(t){let n=t;return!!n&&pt.objectLiteral(n)&&(KE.is(n.contents)||CI.is(n.contents)||pt.typedArray(n.contents,CI.is))&&(t.range===void 0||Pi.is(t.range))}r.is=e})(f4||(f4={}));(function(r){function e(t,n){return n?{label:t,documentation:n}:{label:t}}r.create=e})(XUe||(XUe={}));(function(r){function e(t,n,...i){let o={label:t};return pt.defined(n)&&(o.documentation=n),pt.defined(i)?o.parameters=i:o.parameters=[],o}r.create=e})(QUe||(QUe={}));(function(r){r.Text=1,r.Read=2,r.Write=3})(YE||(YE={}));(function(r){function e(t,n){let i={range:t};return pt.number(n)&&(i.kind=n),i}r.create=e})(h4||(h4={}));(function(r){r.File=1,r.Module=2,r.Namespace=3,r.Package=4,r.Class=5,r.Method=6,r.Property=7,r.Field=8,r.Constructor=9,r.Enum=10,r.Interface=11,r.Function=12,r.Variable=13,r.Constant=14,r.String=15,r.Number=16,r.Boolean=17,r.Array=18,r.Object=19,r.Key=20,r.Null=21,r.EnumMember=22,r.Struct=23,r.Event=24,r.Operator=25,r.TypeParameter=26})(TI||(TI={}));(function(r){r.Deprecated=1})(ZUe||(ZUe={}));(function(r){function e(t,n,i,o,s){let a={name:t,kind:n,location:{uri:o,range:i}};return s&&(a.containerName=s),a}r.create=e})(DI||(DI={}));(function(r){function e(t,n,i,o){return o!==void 0?{name:t,kind:n,location:{uri:i,range:o}}:{name:t,kind:n,location:{uri:i}}}r.create=e})(eHe||(eHe={}));(function(r){function e(n,i,o,s,a,c){let u={name:n,detail:i,kind:o,range:s,selectionRange:a};return c!==void 0&&(u.children=c),u}r.create=e;function t(n){let i=n;return i&&pt.string(i.name)&&pt.number(i.kind)&&Pi.is(i.range)&&Pi.is(i.selectionRange)&&(i.detail===void 0||pt.string(i.detail))&&(i.deprecated===void 0||pt.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}r.is=t})(EI||(EI={}));(function(r){r.Empty="",r.QuickFix="quickfix",r.Refactor="refactor",r.RefactorExtract="refactor.extract",r.RefactorInline="refactor.inline",r.RefactorRewrite="refactor.rewrite",r.Source="source",r.SourceOrganizeImports="source.organizeImports",r.SourceFixAll="source.fixAll"})(tHe||(tHe={}));(function(r){r.Invoked=1,r.Automatic=2})(p4||(p4={}));(function(r){function e(n,i,o){let s={diagnostics:n};return i!=null&&(s.only=i),o!=null&&(s.triggerKind=o),s}r.create=e;function t(n){let i=n;return pt.defined(i)&&pt.typedArray(i.diagnostics,wI.is)&&(i.only===void 0||pt.typedArray(i.only,pt.string))&&(i.triggerKind===void 0||i.triggerKind===p4.Invoked||i.triggerKind===p4.Automatic)}r.is=t})(rHe||(rHe={}));(function(r){function e(n,i,o){let s={title:n},a=!0;return typeof i=="string"?(a=!1,s.kind=i):kD.is(i)?s.command=i:s.edit=i,a&&o!==void 0&&(s.kind=o),s}r.create=e;function t(n){let i=n;return i&&pt.string(i.title)&&(i.diagnostics===void 0||pt.typedArray(i.diagnostics,wI.is))&&(i.kind===void 0||pt.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||kD.is(i.command))&&(i.isPreferred===void 0||pt.boolean(i.isPreferred))&&(i.edit===void 0||KF.is(i.edit))}r.is=t})(nHe||(nHe={}));(function(r){function e(n,i){let o={range:n};return pt.defined(i)&&(o.data=i),o}r.create=e;function t(n){let i=n;return pt.defined(i)&&Pi.is(i.range)&&(pt.undefined(i.command)||kD.is(i.command))}r.is=t})(iHe||(iHe={}));(function(r){function e(n,i){return{tabSize:n,insertSpaces:i}}r.create=e;function t(n){let i=n;return pt.defined(i)&&pt.uinteger(i.tabSize)&&pt.boolean(i.insertSpaces)}r.is=t})(m4||(m4={}));(function(r){function e(n,i,o){return{range:n,target:i,data:o}}r.create=e;function t(n){let i=n;return pt.defined(i)&&Pi.is(i.range)&&(pt.undefined(i.target)||pt.string(i.target))}r.is=t})(g4||(g4={}));(function(r){function e(n,i){return{range:n,parent:i}}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&Pi.is(i.range)&&(i.parent===void 0||r.is(i.parent))}r.is=t})(JE||(JE={}));(function(r){r.namespace="namespace",r.type="type",r.class="class",r.enum="enum",r.interface="interface",r.struct="struct",r.typeParameter="typeParameter",r.parameter="parameter",r.variable="variable",r.property="property",r.enumMember="enumMember",r.event="event",r.function="function",r.method="method",r.macro="macro",r.keyword="keyword",r.modifier="modifier",r.comment="comment",r.string="string",r.number="number",r.regexp="regexp",r.operator="operator",r.decorator="decorator"})(oHe||(oHe={}));(function(r){r.declaration="declaration",r.definition="definition",r.readonly="readonly",r.static="static",r.deprecated="deprecated",r.abstract="abstract",r.async="async",r.modification="modification",r.documentation="documentation",r.defaultLibrary="defaultLibrary"})(sHe||(sHe={}));(function(r){function e(t){let n=t;return pt.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}r.is=e})(aHe||(aHe={}));(function(r){function e(n,i){return{range:n,text:i}}r.create=e;function t(n){let i=n;return i!=null&&Pi.is(i.range)&&pt.string(i.text)}r.is=t})(cHe||(cHe={}));(function(r){function e(n,i,o){return{range:n,variableName:i,caseSensitiveLookup:o}}r.create=e;function t(n){let i=n;return i!=null&&Pi.is(i.range)&&pt.boolean(i.caseSensitiveLookup)&&(pt.string(i.variableName)||i.variableName===void 0)}r.is=t})(uHe||(uHe={}));(function(r){function e(n,i){return{range:n,expression:i}}r.create=e;function t(n){let i=n;return i!=null&&Pi.is(i.range)&&(pt.string(i.expression)||i.expression===void 0)}r.is=t})(lHe||(lHe={}));(function(r){function e(n,i){return{frameId:n,stoppedLocation:i}}r.create=e;function t(n){let i=n;return pt.defined(i)&&Pi.is(n.stoppedLocation)}r.is=t})(dHe||(dHe={}));(function(r){r.Type=1,r.Parameter=2;function e(t){return t===1||t===2}r.is=e})(vle||(vle={}));(function(r){function e(n){return{value:n}}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&(i.tooltip===void 0||pt.string(i.tooltip)||KE.is(i.tooltip))&&(i.location===void 0||bI.is(i.location))&&(i.command===void 0||kD.is(i.command))}r.is=t})(yle||(yle={}));(function(r){function e(n,i,o){let s={position:n,label:i};return o!==void 0&&(s.kind=o),s}r.create=e;function t(n){let i=n;return pt.objectLiteral(i)&&ec.is(i.position)&&(pt.string(i.label)||pt.typedArray(i.label,yle.is))&&(i.kind===void 0||vle.is(i.kind))&&i.textEdits===void 0||pt.typedArray(i.textEdits,_u.is)&&(i.tooltip===void 0||pt.string(i.tooltip)||KE.is(i.tooltip))&&(i.paddingLeft===void 0||pt.boolean(i.paddingLeft))&&(i.paddingRight===void 0||pt.boolean(i.paddingRight))}r.is=t})(fHe||(fHe={}));(function(r){function e(t){return{kind:"snippet",value:t}}r.createSnippet=e})(hHe||(hHe={}));(function(r){function e(t,n,i,o){return{insertText:t,filterText:n,range:i,command:o}}r.create=e})(pHe||(pHe={}));(function(r){function e(t){return{items:t}}r.create=e})(mHe||(mHe={}));(function(r){r.Invoked=0,r.Automatic=1})(gHe||(gHe={}));(function(r){function e(t,n){return{range:t,text:n}}r.create=e})(vHe||(vHe={}));(function(r){function e(t,n){return{triggerKind:t,selectedCompletionInfo:n}}r.create=e})(yHe||(yHe={}));(function(r){function e(t){let n=t;return pt.objectLiteral(n)&&ule.is(n.uri)&&pt.string(n.name)}r.is=e})(_He||(_He={}));(function(r){function e(o,s,a,c){return new _le(o,s,a,c)}r.create=e;function t(o){let s=o;return!!(pt.defined(s)&&pt.string(s.uri)&&(pt.undefined(s.languageId)||pt.string(s.languageId))&&pt.uinteger(s.lineCount)&&pt.func(s.getText)&&pt.func(s.positionAt)&&pt.func(s.offsetAt))}r.is=t;function n(o,s){let a=o.getText(),c=i(s,(l,d)=>{let f=l.range.start.line-d.range.start.line;return f===0?l.range.start.character-d.range.start.character:f}),u=a.length;for(let l=c.length-1;l>=0;l--){let d=c[l],f=o.offsetAt(d.range.start),p=o.offsetAt(d.range.end);if(p<=u)a=a.substring(0,f)+d.newText+a.substring(p,a.length);else throw new Error("Overlapping edit");u=f}return a}r.applyEdits=n;function i(o,s){if(o.length<=1)return o;let a=o.length/2|0,c=o.slice(0,a),u=o.slice(a);i(c,s),i(u,s);let l=0,d=0,f=0;for(;l<c.length&&d<u.length;)s(c[l],u[d])<=0?o[f++]=c[l++]:o[f++]=u[d++];for(;l<c.length;)o[f++]=c[l++];for(;d<u.length;)o[f++]=u[d++];return o}})(bHe||(bHe={}));_le=class{constructor(e,t,n,i){this._uri=e,this._languageId=t,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content}update(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let e=[],t=this._content,n=!0;for(let i=0;i<t.length;i++){n&&(e.push(i),n=!1);let o=t.charAt(i);n=o==="\r"||o===`
`,o==="\r"&&i+1<t.length&&t.charAt(i+1)===`
`&&i++}n&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let t=this.getLineOffsets(),n=0,i=t.length;if(i===0)return ec.create(0,e);for(;n<i;){let s=Math.floor((n+i)/2);t[s]>e?i=s:n=s+1}let o=n-1;return ec.create(o,e-t[o])}offsetAt(e){let t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;let n=t[e.line],i=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,i),n)}get lineCount(){return this.getLineOffsets().length}};(function(r){let e=Object.prototype.toString;function t(p){return typeof p<"u"}r.defined=t;function n(p){return typeof p>"u"}r.undefined=n;function i(p){return p===!0||p===!1}r.boolean=i;function o(p){return e.call(p)==="[object String]"}r.string=o;function s(p){return e.call(p)==="[object Number]"}r.number=s;function a(p,_,D){return e.call(p)==="[object Number]"&&_<=p&&p<=D}r.numberRange=a;function c(p){return e.call(p)==="[object Number]"&&-2147483648<=p&&p<=2147483647}r.integer=c;function u(p){return e.call(p)==="[object Number]"&&0<=p&&p<=2147483647}r.uinteger=u;function l(p){return e.call(p)==="[object Function]"}r.func=l;function d(p){return p!==null&&typeof p=="object"}r.objectLiteral=d;function f(p,_){return Array.isArray(p)&&p.every(_)}r.typedArray=f})(pt||(pt={}))});var DHe={};g1(DHe,{TextDocument:()=>XE});function ble(r,e){if(r.length<=1)return r;let t=r.length/2|0,n=r.slice(0,t),i=r.slice(t);ble(n,e),ble(i,e);let o=0,s=0,a=0;for(;o<n.length&&s<i.length;)e(n[o],i[s])<=0?r[a++]=n[o++]:r[a++]=i[s++];for(;o<n.length;)r[a++]=n[o++];for(;s<i.length;)r[a++]=i[s++];return r}function SHe(r,e,t=0){let n=e?[t]:[];for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);CHe(o)&&(o===13&&i+1<r.length&&r.charCodeAt(i+1)===10&&i++,n.push(t+i+1))}return n}function CHe(r){return r===13||r===10}function THe(r){let e=r.start,t=r.end;return e.line>t.line||e.line===t.line&&e.character>t.character?{start:t,end:e}:r}function nNt(r){let e=THe(r.range);return e!==r.range?{newText:r.newText,range:e}:r}var v4,XE,y4=Ti(()=>{"use strict";v4=class r{constructor(e,t,n,i){this._uri=e,this._languageId=t,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content}update(e,t){for(let n of e)if(r.isIncremental(n)){let i=THe(n.range),o=this.offsetAt(i.start),s=this.offsetAt(i.end);this._content=this._content.substring(0,o)+n.text+this._content.substring(s,this._content.length);let a=Math.max(i.start.line,0),c=Math.max(i.end.line,0),u=this._lineOffsets,l=SHe(n.text,!1,o);if(c-a===l.length)for(let f=0,p=l.length;f<p;f++)u[f+a+1]=l[f];else l.length<1e4?u.splice(a+1,c-a,...l):this._lineOffsets=u=u.slice(0,a+1).concat(l,u.slice(c+1));let d=n.text.length-(s-o);if(d!==0)for(let f=a+1+l.length,p=u.length;f<p;f++)u[f]=u[f]+d}else if(r.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=t}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=SHe(this._content,!0)),this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let t=this.getLineOffsets(),n=0,i=t.length;if(i===0)return{line:0,character:e};for(;n<i;){let s=Math.floor((n+i)/2);t[s]>e?i=s:n=s+1}let o=n-1;return e=this.ensureBeforeEOL(e,t[o]),{line:o,character:e-t[o]}}offsetAt(e){let t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;let n=t[e.line];if(e.character<=0)return n;let i=e.line+1<t.length?t[e.line+1]:this._content.length,o=Math.min(n+e.character,i);return this.ensureBeforeEOL(o,n)}ensureBeforeEOL(e,t){for(;e>t&&CHe(this._content.charCodeAt(e-1));)e--;return e}get lineCount(){return this.getLineOffsets().length}static isIncremental(e){let t=e;return t!=null&&typeof t.text=="string"&&t.range!==void 0&&(t.rangeLength===void 0||typeof t.rangeLength=="number")}static isFull(e){let t=e;return t!=null&&typeof t.text=="string"&&t.range===void 0&&t.rangeLength===void 0}};(function(r){function e(i,o,s,a){return new v4(i,o,s,a)}r.create=e;function t(i,o,s){if(i instanceof v4)return i.update(o,s),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}r.update=t;function n(i,o){let s=i.getText(),a=ble(o.map(nNt),(l,d)=>{let f=l.range.start.line-d.range.start.line;return f===0?l.range.start.character-d.range.start.character:f}),c=0,u=[];for(let l of a){let d=i.offsetAt(l.range.start);if(d<c)throw new Error("Overlapping edit");d>c&&u.push(s.substring(c,d)),l.newText.length&&u.push(l.newText),c=i.offsetAt(l.range.end)}return u.push(s.substr(c)),u.join("")}r.applyEdits=n})(XE||(XE={}))});var Xt,Yn,wle,YF,Lm=Ti(()=>{wHe();y4();(function(r){r[r.StartCommentTag=0]="StartCommentTag",r[r.Comment=1]="Comment",r[r.EndCommentTag=2]="EndCommentTag",r[r.StartTagOpen=3]="StartTagOpen",r[r.StartTagClose=4]="StartTagClose",r[r.StartTagSelfClose=5]="StartTagSelfClose",r[r.StartTag=6]="StartTag",r[r.EndTagOpen=7]="EndTagOpen",r[r.EndTagClose=8]="EndTagClose",r[r.EndTag=9]="EndTag",r[r.DelimiterAssign=10]="DelimiterAssign",r[r.AttributeName=11]="AttributeName",r[r.AttributeValue=12]="AttributeValue",r[r.StartDoctypeTag=13]="StartDoctypeTag",r[r.Doctype=14]="Doctype",r[r.EndDoctypeTag=15]="EndDoctypeTag",r[r.Content=16]="Content",r[r.Whitespace=17]="Whitespace",r[r.Unknown=18]="Unknown",r[r.Script=19]="Script",r[r.Styles=20]="Styles",r[r.EOS=21]="EOS"})(Xt||(Xt={}));(function(r){r[r.WithinContent=0]="WithinContent",r[r.AfterOpeningStartTag=1]="AfterOpeningStartTag",r[r.AfterOpeningEndTag=2]="AfterOpeningEndTag",r[r.WithinDoctype=3]="WithinDoctype",r[r.WithinTag=4]="WithinTag",r[r.WithinEndTag=5]="WithinEndTag",r[r.WithinComment=6]="WithinComment",r[r.WithinScriptContent=7]="WithinScriptContent",r[r.WithinStyleContent=8]="WithinStyleContent",r[r.AfterAttributeName=9]="AfterAttributeName",r[r.BeforeAttributeValue=10]="BeforeAttributeValue"})(Yn||(Yn={}));(function(r){r.LATEST={textDocument:{completion:{completionItem:{documentationFormat:[jg.Markdown,jg.PlainText]}},hover:{contentFormat:[jg.Markdown,jg.PlainText]}}}})(wle||(wle={}));(function(r){r[r.Unknown=0]="Unknown",r[r.File=1]="File",r[r.Directory=2]="Directory",r[r.SymbolicLink=64]="SymbolicLink"})(YF||(YF={}))});function $u(r,e=0,t=Yn.WithinContent,n=!1){let i=new Cle(r,e),o=t,s=0,a=Xt.Unknown,c,u,l,d,f;function p(){return i.advanceIfRegExp(/^[_:\w][_:\w-.\d]*/).toLowerCase()}function _(){return i.advanceIfRegExp(/^[^\s"'></=\x00-\x0F\x7F\x80-\x9F]*/).toLowerCase()}function D(A,U,ne){return a=U,s=A,c=ne,U}function P(){let A=i.pos(),U=o,ne=M();return ne!==Xt.EOS&&A===i.pos()&&!(n&&(ne===Xt.StartTagClose||ne===Xt.EndTagClose))?(console.warn("Scanner.scan has not advanced at offset "+A+", state before: "+U+" after: "+o),i.advance(1),D(A,Xt.Unknown)):ne}function M(){let A=i.pos();if(i.eos())return D(A,Xt.EOS);let U;switch(o){case Yn.WithinComment:return i.advanceIfChars([RI,RI,uw])?(o=Yn.WithinContent,D(A,Xt.EndCommentTag)):(i.advanceUntilChars([RI,RI,uw]),D(A,Xt.Comment));case Yn.WithinDoctype:return i.advanceIfChar(uw)?(o=Yn.WithinContent,D(A,Xt.EndDoctypeTag)):(i.advanceUntilChar(uw),D(A,Xt.Doctype));case Yn.WithinContent:if(i.advanceIfChar(_4)){if(!i.eos()&&i.peekChar()===EHe){if(i.advanceIfChars([EHe,RI,RI]))return o=Yn.WithinComment,D(A,Xt.StartCommentTag);if(i.advanceIfRegExp(/^!doctype/i))return o=Yn.WithinDoctype,D(A,Xt.StartDoctypeTag)}return i.advanceIfChar(Sle)?(o=Yn.AfterOpeningEndTag,D(A,Xt.EndTagOpen)):(o=Yn.AfterOpeningStartTag,D(A,Xt.StartTagOpen))}return i.advanceUntilChar(_4),D(A,Xt.Content);case Yn.AfterOpeningEndTag:return p().length>0?(o=Yn.WithinEndTag,D(A,Xt.EndTag)):i.skipWhitespace()?D(A,Xt.Whitespace,uC.t("Tag name must directly follow the open bracket.")):(o=Yn.WithinEndTag,i.advanceUntilChar(uw),A<i.pos()?D(A,Xt.Unknown,uC.t("End tag name expected.")):M());case Yn.WithinEndTag:if(i.skipWhitespace())return D(A,Xt.Whitespace);if(i.advanceIfChar(uw))return o=Yn.WithinContent,D(A,Xt.EndTagClose);if(n&&i.peekChar()===_4)return o=Yn.WithinContent,D(A,Xt.EndTagClose,uC.t("Closing bracket missing."));U=uC.t("Closing bracket expected.");break;case Yn.AfterOpeningStartTag:return l=p(),f=void 0,d=void 0,l.length>0?(u=!1,o=Yn.WithinTag,D(A,Xt.StartTag)):i.skipWhitespace()?D(A,Xt.Whitespace,uC.t("Tag name must directly follow the open bracket.")):(o=Yn.WithinTag,i.advanceUntilChar(uw),A<i.pos()?D(A,Xt.Unknown,uC.t("Start tag name expected.")):M());case Yn.WithinTag:return i.skipWhitespace()?(u=!0,D(A,Xt.Whitespace)):u&&(d=_(),d.length>0)?(o=Yn.AfterAttributeName,u=!1,D(A,Xt.AttributeName)):i.advanceIfChars([Sle,uw])?(o=Yn.WithinContent,D(A,Xt.StartTagSelfClose)):i.advanceIfChar(uw)?(l==="script"?f&&fNt[f]?o=Yn.WithinContent:o=Yn.WithinScriptContent:l==="style"?o=Yn.WithinStyleContent:o=Yn.WithinContent,D(A,Xt.StartTagClose)):n&&i.peekChar()===_4?(o=Yn.WithinContent,D(A,Xt.StartTagClose,uC.t("Closing bracket missing."))):(i.advance(1),D(A,Xt.Unknown,uC.t("Unexpected character in tag.")));case Yn.AfterAttributeName:return i.skipWhitespace()?(u=!0,D(A,Xt.Whitespace)):i.advanceIfChar(iNt)?(o=Yn.BeforeAttributeValue,D(A,Xt.DelimiterAssign)):(o=Yn.WithinTag,M());case Yn.BeforeAttributeValue:if(i.skipWhitespace())return D(A,Xt.Whitespace);let pe=i.advanceIfRegExp(/^[^\s"'`=<>]+/);if(pe.length>0&&(i.peekChar()===uw&&i.peekChar(-1)===Sle&&(i.goBack(1),pe=pe.substring(0,pe.length-1)),d==="type"&&(f=pe),pe.length>0))return o=Yn.WithinTag,u=!1,D(A,Xt.AttributeValue);let ve=i.peekChar();return ve===sNt||ve===oNt?(i.advance(1),i.advanceUntilChar(ve)&&i.advance(1),d==="type"&&(f=i.getSource().substring(A+1,i.pos()-1)),o=Yn.WithinTag,u=!1,D(A,Xt.AttributeValue)):(o=Yn.WithinTag,u=!1,M());case Yn.WithinScriptContent:let V=1;for(;!i.eos();){let W=i.advanceIfRegExp(/<!--|-->|<\/?script\s*\/?>?/i);if(W.length===0)return i.goToEnd(),D(A,Xt.Script);if(W==="<!--")V===1&&(V=2);else if(W==="-->")V=1;else if(W[1]!=="/")V===2&&(V=3);else if(V===3)V=2;else{i.goBack(W.length);break}}return o=Yn.WithinContent,A<i.pos()?D(A,Xt.Script):M();case Yn.WithinStyleContent:return i.advanceUntilRegExp(/<\/style/i),o=Yn.WithinContent,A<i.pos()?D(A,Xt.Styles):M()}return i.advance(1),o=Yn.WithinContent,D(A,Xt.Unknown,U)}return{scan:P,getTokenType:()=>a,getTokenOffset:()=>s,getTokenLength:()=>i.pos()-s,getTokenEnd:()=>i.pos(),getTokenText:()=>i.getSource().substring(s,i.pos()),getScannerState:()=>o,getTokenError:()=>c}}var uC,Cle,EHe,RI,_4,uw,Sle,iNt,oNt,sNt,aNt,cNt,uNt,lNt,dNt,fNt,lC=Ti(()=>{uC=ye(t4());Lm();Cle=class{constructor(e,t){this.source=e,this.len=e.length,this.position=t}eos(){return this.len<=this.position}getSource(){return this.source}pos(){return this.position}goBackTo(e){this.position=e}goBack(e){this.position-=e}advance(e){this.position+=e}goToEnd(){this.position=this.source.length}nextChar(){return this.source.charCodeAt(this.position++)||0}peekChar(e=0){return this.source.charCodeAt(this.position+e)||0}advanceIfChar(e){return e===this.source.charCodeAt(this.position)?(this.position++,!0):!1}advanceIfChars(e){let t;if(this.position+e.length>this.source.length)return!1;for(t=0;t<e.length;t++)if(this.source.charCodeAt(this.position+t)!==e[t])return!1;return this.advance(t),!0}advanceIfRegExp(e){let n=this.source.substr(this.position).match(e);return n?(this.position=this.position+n.index+n[0].length,n[0]):""}advanceUntilRegExp(e){let n=this.source.substr(this.position).match(e);return n?(this.position=this.position+n.index,n[0]):(this.goToEnd(),"")}advanceUntilChar(e){for(;this.position<this.source.length;){if(this.source.charCodeAt(this.position)===e)return!0;this.advance(1)}return!1}advanceUntilChars(e){for(;this.position+e.length<=this.source.length;){let t=0;for(;t<e.length&&this.source.charCodeAt(this.position+t)===e[t];t++);if(t===e.length)return!0;this.advance(1)}return this.goToEnd(),!1}skipWhitespace(){return this.advanceWhileChar(t=>t===lNt||t===dNt||t===aNt||t===uNt||t===cNt)>0}advanceWhileChar(e){let t=this.position;for(;this.position<this.len&&e(this.source.charCodeAt(this.position));)this.position++;return this.position-t}},EHe=33,RI=45,_4=60,uw=62,Sle=47,iNt=61,oNt=34,sNt=39,aNt=10,cNt=13,uNt=12,lNt=32,dNt=9,fNt={"text/x-handlebars-template":!0,"text/html":!0}});function Tle(r,e){let t=0,n=r.length;if(n===0)return 0;for(;t<n;){let i=Math.floor((t+n)/2);e(r[i])?n=i:t=i+1}return t}function RHe(r,e,t){let n=0,i=r.length-1;for(;n<=i;){let o=(n+i)/2|0,s=t(r[o],e);if(s<0)n=o+1;else if(s>0)i=o-1;else return o}return-(n+1)}var Dle=Ti(()=>{});var b4,w4,PHe=Ti(()=>{lC();Dle();Lm();b4=class{get attributeNames(){return this.attributes?Object.keys(this.attributes):[]}constructor(e,t,n,i){this.start=e,this.end=t,this.children=n,this.parent=i,this.closed=!1}isSameTag(e){return this.tag===void 0?e===void 0:e!==void 0&&this.tag.length===e.length&&this.tag.toLowerCase()===e}get firstChild(){return this.children[0]}get lastChild(){return this.children.length?this.children[this.children.length-1]:void 0}findNodeBefore(e){let t=Tle(this.children,n=>e<=n.start)-1;if(t>=0){let n=this.children[t];if(e>n.start){if(e<n.end)return n.findNodeBefore(e);let i=n.lastChild;return i&&i.end===n.end?n.findNodeBefore(e):n}}return this}findNodeAt(e){let t=Tle(this.children,n=>e<=n.start)-1;if(t>=0){let n=this.children[t];if(e>n.start&&e<=n.end)return n.findNodeAt(e)}return this}},w4=class{constructor(e){this.dataManager=e}parseDocument(e){return this.parse(e.getText(),this.dataManager.getVoidElements(e.languageId))}parse(e,t){let n=$u(e,void 0,void 0,!0),i=new b4(0,e.length,[],void 0),o=i,s=-1,a,c=null,u=n.scan();for(;u!==Xt.EOS;){switch(u){case Xt.StartTagOpen:let l=new b4(n.getTokenOffset(),e.length,[],o);o.children.push(l),o=l;break;case Xt.StartTag:o.tag=n.getTokenText();break;case Xt.StartTagClose:o.parent&&(o.end=n.getTokenEnd(),n.getTokenLength()?(o.startTagEnd=n.getTokenEnd(),o.tag&&this.dataManager.isVoidElement(o.tag,t)&&(o.closed=!0,o=o.parent)):o=o.parent);break;case Xt.StartTagSelfClose:o.parent&&(o.closed=!0,o.end=n.getTokenEnd(),o.startTagEnd=n.getTokenEnd(),o=o.parent);break;case Xt.EndTagOpen:s=n.getTokenOffset(),a=void 0;break;case Xt.EndTag:a=n.getTokenText().toLowerCase();break;case Xt.EndTagClose:let d=o;for(;!d.isSameTag(a)&&d.parent;)d=d.parent;if(d.parent){for(;o!==d;)o.end=s,o.closed=!1,o=o.parent;o.closed=!0,o.endTagStart=s,o.end=n.getTokenEnd(),o=o.parent}break;case Xt.AttributeName:{c=n.getTokenText();let f=o.attributes;f||(o.attributes=f={}),f[c]=null;break}case Xt.AttributeValue:{let f=n.getTokenText(),p=o.attributes;p&&c&&(p[c]=f,c=null);break}}u=n.scan()}for(;o.parent;)o.end=e.length,o.closed=!1,o=o.parent;return{roots:i.children,findNodeBefore:i.findNodeBefore.bind(i),findNodeAt:i.findNodeAt.bind(i)}}}});var QE,Ele=Ti(()=>{QE={"Aacute;":"\xC1",Aacute:"\xC1","aacute;":"\xE1",aacute:"\xE1","Abreve;":"\u0102","abreve;":"\u0103","ac;":"\u223E","acd;":"\u223F","acE;":"\u223E\u0333","Acirc;":"\xC2",Acirc:"\xC2","acirc;":"\xE2",acirc:"\xE2","acute;":"\xB4",acute:"\xB4","Acy;":"\u0410","acy;":"\u0430","AElig;":"\xC6",AElig:"\xC6","aelig;":"\xE6",aelig:"\xE6","af;":"\u2061","Afr;":"\u{1D504}","afr;":"\u{1D51E}","Agrave;":"\xC0",Agrave:"\xC0","agrave;":"\xE0",agrave:"\xE0","alefsym;":"\u2135","aleph;":"\u2135","Alpha;":"\u0391","alpha;":"\u03B1","Amacr;":"\u0100","amacr;":"\u0101","amalg;":"\u2A3F","AMP;":"&",AMP:"&","amp;":"&",amp:"&","And;":"\u2A53","and;":"\u2227","andand;":"\u2A55","andd;":"\u2A5C","andslope;":"\u2A58","andv;":"\u2A5A","ang;":"\u2220","ange;":"\u29A4","angle;":"\u2220","angmsd;":"\u2221","angmsdaa;":"\u29A8","angmsdab;":"\u29A9","angmsdac;":"\u29AA","angmsdad;":"\u29AB","angmsdae;":"\u29AC","angmsdaf;":"\u29AD","angmsdag;":"\u29AE","angmsdah;":"\u29AF","angrt;":"\u221F","angrtvb;":"\u22BE","angrtvbd;":"\u299D","angsph;":"\u2222","angst;":"\xC5","angzarr;":"\u237C","Aogon;":"\u0104","aogon;":"\u0105","Aopf;":"\u{1D538}","aopf;":"\u{1D552}","ap;":"\u2248","apacir;":"\u2A6F","apE;":"\u2A70","ape;":"\u224A","apid;":"\u224B","apos;":"'","ApplyFunction;":"\u2061","approx;":"\u2248","approxeq;":"\u224A","Aring;":"\xC5",Aring:"\xC5","aring;":"\xE5",aring:"\xE5","Ascr;":"\u{1D49C}","ascr;":"\u{1D4B6}","Assign;":"\u2254","ast;":"*","asymp;":"\u2248","asympeq;":"\u224D","Atilde;":"\xC3",Atilde:"\xC3","atilde;":"\xE3",atilde:"\xE3","Auml;":"\xC4",Auml:"\xC4","auml;":"\xE4",auml:"\xE4","awconint;":"\u2233","awint;":"\u2A11","backcong;":"\u224C","backepsilon;":"\u03F6","backprime;":"\u2035","backsim;":"\u223D","backsimeq;":"\u22CD","Backslash;":"\u2216","Barv;":"\u2AE7","barvee;":"\u22BD","Barwed;":"\u2306","barwed;":"\u2305","barwedge;":"\u2305","bbrk;":"\u23B5","bbrktbrk;":"\u23B6","bcong;":"\u224C","Bcy;":"\u0411","bcy;":"\u0431","bdquo;":"\u201E","becaus;":"\u2235","Because;":"\u2235","because;":"\u2235","bemptyv;":"\u29B0","bepsi;":"\u03F6","bernou;":"\u212C","Bernoullis;":"\u212C","Beta;":"\u0392","beta;":"\u03B2","beth;":"\u2136","between;":"\u226C","Bfr;":"\u{1D505}","bfr;":"\u{1D51F}","bigcap;":"\u22C2","bigcirc;":"\u25EF","bigcup;":"\u22C3","bigodot;":"\u2A00","bigoplus;":"\u2A01","bigotimes;":"\u2A02","bigsqcup;":"\u2A06","bigstar;":"\u2605","bigtriangledown;":"\u25BD","bigtriangleup;":"\u25B3","biguplus;":"\u2A04","bigvee;":"\u22C1","bigwedge;":"\u22C0","bkarow;":"\u290D","blacklozenge;":"\u29EB","blacksquare;":"\u25AA","blacktriangle;":"\u25B4","blacktriangledown;":"\u25BE","blacktriangleleft;":"\u25C2","blacktriangleright;":"\u25B8","blank;":"\u2423","blk12;":"\u2592","blk14;":"\u2591","blk34;":"\u2593","block;":"\u2588","bne;":"=\u20E5","bnequiv;":"\u2261\u20E5","bNot;":"\u2AED","bnot;":"\u2310","Bopf;":"\u{1D539}","bopf;":"\u{1D553}","bot;":"\u22A5","bottom;":"\u22A5","bowtie;":"\u22C8","boxbox;":"\u29C9","boxDL;":"\u2557","boxDl;":"\u2556","boxdL;":"\u2555","boxdl;":"\u2510","boxDR;":"\u2554","boxDr;":"\u2553","boxdR;":"\u2552","boxdr;":"\u250C","boxH;":"\u2550","boxh;":"\u2500","boxHD;":"\u2566","boxHd;":"\u2564","boxhD;":"\u2565","boxhd;":"\u252C","boxHU;":"\u2569","boxHu;":"\u2567","boxhU;":"\u2568","boxhu;":"\u2534","boxminus;":"\u229F","boxplus;":"\u229E","boxtimes;":"\u22A0","boxUL;":"\u255D","boxUl;":"\u255C","boxuL;":"\u255B","boxul;":"\u2518","boxUR;":"\u255A","boxUr;":"\u2559","boxuR;":"\u2558","boxur;":"\u2514","boxV;":"\u2551","boxv;":"\u2502","boxVH;":"\u256C","boxVh;":"\u256B","boxvH;":"\u256A","boxvh;":"\u253C","boxVL;":"\u2563","boxVl;":"\u2562","boxvL;":"\u2561","boxvl;":"\u2524","boxVR;":"\u2560","boxVr;":"\u255F","boxvR;":"\u255E","boxvr;":"\u251C","bprime;":"\u2035","Breve;":"\u02D8","breve;":"\u02D8","brvbar;":"\xA6",brvbar:"\xA6","Bscr;":"\u212C","bscr;":"\u{1D4B7}","bsemi;":"\u204F","bsim;":"\u223D","bsime;":"\u22CD","bsol;":"\\","bsolb;":"\u29C5","bsolhsub;":"\u27C8","bull;":"\u2022","bullet;":"\u2022","bump;":"\u224E","bumpE;":"\u2AAE","bumpe;":"\u224F","Bumpeq;":"\u224E","bumpeq;":"\u224F","Cacute;":"\u0106","cacute;":"\u0107","Cap;":"\u22D2","cap;":"\u2229","capand;":"\u2A44","capbrcup;":"\u2A49","capcap;":"\u2A4B","capcup;":"\u2A47","capdot;":"\u2A40","CapitalDifferentialD;":"\u2145","caps;":"\u2229\uFE00","caret;":"\u2041","caron;":"\u02C7","Cayleys;":"\u212D","ccaps;":"\u2A4D","Ccaron;":"\u010C","ccaron;":"\u010D","Ccedil;":"\xC7",Ccedil:"\xC7","ccedil;":"\xE7",ccedil:"\xE7","Ccirc;":"\u0108","ccirc;":"\u0109","Cconint;":"\u2230","ccups;":"\u2A4C","ccupssm;":"\u2A50","Cdot;":"\u010A","cdot;":"\u010B","cedil;":"\xB8",cedil:"\xB8","Cedilla;":"\xB8","cemptyv;":"\u29B2","cent;":"\xA2",cent:"\xA2","CenterDot;":"\xB7","centerdot;":"\xB7","Cfr;":"\u212D","cfr;":"\u{1D520}","CHcy;":"\u0427","chcy;":"\u0447","check;":"\u2713","checkmark;":"\u2713","Chi;":"\u03A7","chi;":"\u03C7","cir;":"\u25CB","circ;":"\u02C6","circeq;":"\u2257","circlearrowleft;":"\u21BA","circlearrowright;":"\u21BB","circledast;":"\u229B","circledcirc;":"\u229A","circleddash;":"\u229D","CircleDot;":"\u2299","circledR;":"\xAE","circledS;":"\u24C8","CircleMinus;":"\u2296","CirclePlus;":"\u2295","CircleTimes;":"\u2297","cirE;":"\u29C3","cire;":"\u2257","cirfnint;":"\u2A10","cirmid;":"\u2AEF","cirscir;":"\u29C2","ClockwiseContourIntegral;":"\u2232","CloseCurlyDoubleQuote;":"\u201D","CloseCurlyQuote;":"\u2019","clubs;":"\u2663","clubsuit;":"\u2663","Colon;":"\u2237","colon;":":","Colone;":"\u2A74","colone;":"\u2254","coloneq;":"\u2254","comma;":",","commat;":"@","comp;":"\u2201","compfn;":"\u2218","complement;":"\u2201","complexes;":"\u2102","cong;":"\u2245","congdot;":"\u2A6D","Congruent;":"\u2261","Conint;":"\u222F","conint;":"\u222E","ContourIntegral;":"\u222E","Copf;":"\u2102","copf;":"\u{1D554}","coprod;":"\u2210","Coproduct;":"\u2210","COPY;":"\xA9",COPY:"\xA9","copy;":"\xA9",copy:"\xA9","copysr;":"\u2117","CounterClockwiseContourIntegral;":"\u2233","crarr;":"\u21B5","Cross;":"\u2A2F","cross;":"\u2717","Cscr;":"\u{1D49E}","cscr;":"\u{1D4B8}","csub;":"\u2ACF","csube;":"\u2AD1","csup;":"\u2AD0","csupe;":"\u2AD2","ctdot;":"\u22EF","cudarrl;":"\u2938","cudarrr;":"\u2935","cuepr;":"\u22DE","cuesc;":"\u22DF","cularr;":"\u21B6","cularrp;":"\u293D","Cup;":"\u22D3","cup;":"\u222A","cupbrcap;":"\u2A48","CupCap;":"\u224D","cupcap;":"\u2A46","cupcup;":"\u2A4A","cupdot;":"\u228D","cupor;":"\u2A45","cups;":"\u222A\uFE00","curarr;":"\u21B7","curarrm;":"\u293C","curlyeqprec;":"\u22DE","curlyeqsucc;":"\u22DF","curlyvee;":"\u22CE","curlywedge;":"\u22CF","curren;":"\xA4",curren:"\xA4","curvearrowleft;":"\u21B6","curvearrowright;":"\u21B7","cuvee;":"\u22CE","cuwed;":"\u22CF","cwconint;":"\u2232","cwint;":"\u2231","cylcty;":"\u232D","Dagger;":"\u2021","dagger;":"\u2020","daleth;":"\u2138","Darr;":"\u21A1","dArr;":"\u21D3","darr;":"\u2193","dash;":"\u2010","Dashv;":"\u2AE4","dashv;":"\u22A3","dbkarow;":"\u290F","dblac;":"\u02DD","Dcaron;":"\u010E","dcaron;":"\u010F","Dcy;":"\u0414","dcy;":"\u0434","DD;":"\u2145","dd;":"\u2146","ddagger;":"\u2021","ddarr;":"\u21CA","DDotrahd;":"\u2911","ddotseq;":"\u2A77","deg;":"\xB0",deg:"\xB0","Del;":"\u2207","Delta;":"\u0394","delta;":"\u03B4","demptyv;":"\u29B1","dfisht;":"\u297F","Dfr;":"\u{1D507}","dfr;":"\u{1D521}","dHar;":"\u2965","dharl;":"\u21C3","dharr;":"\u21C2","DiacriticalAcute;":"\xB4","DiacriticalDot;":"\u02D9","DiacriticalDoubleAcute;":"\u02DD","DiacriticalGrave;":"`","DiacriticalTilde;":"\u02DC","diam;":"\u22C4","Diamond;":"\u22C4","diamond;":"\u22C4","diamondsuit;":"\u2666","diams;":"\u2666","die;":"\xA8","DifferentialD;":"\u2146","digamma;":"\u03DD","disin;":"\u22F2","div;":"\xF7","divide;":"\xF7",divide:"\xF7","divideontimes;":"\u22C7","divonx;":"\u22C7","DJcy;":"\u0402","djcy;":"\u0452","dlcorn;":"\u231E","dlcrop;":"\u230D","dollar;":"$","Dopf;":"\u{1D53B}","dopf;":"\u{1D555}","Dot;":"\xA8","dot;":"\u02D9","DotDot;":"\u20DC","doteq;":"\u2250","doteqdot;":"\u2251","DotEqual;":"\u2250","dotminus;":"\u2238","dotplus;":"\u2214","dotsquare;":"\u22A1","doublebarwedge;":"\u2306","DoubleContourIntegral;":"\u222F","DoubleDot;":"\xA8","DoubleDownArrow;":"\u21D3","DoubleLeftArrow;":"\u21D0","DoubleLeftRightArrow;":"\u21D4","DoubleLeftTee;":"\u2AE4","DoubleLongLeftArrow;":"\u27F8","DoubleLongLeftRightArrow;":"\u27FA","DoubleLongRightArrow;":"\u27F9","DoubleRightArrow;":"\u21D2","DoubleRightTee;":"\u22A8","DoubleUpArrow;":"\u21D1","DoubleUpDownArrow;":"\u21D5","DoubleVerticalBar;":"\u2225","DownArrow;":"\u2193","Downarrow;":"\u21D3","downarrow;":"\u2193","DownArrowBar;":"\u2913","DownArrowUpArrow;":"\u21F5","DownBreve;":"\u0311","downdownarrows;":"\u21CA","downharpoonleft;":"\u21C3","downharpoonright;":"\u21C2","DownLeftRightVector;":"\u2950","DownLeftTeeVector;":"\u295E","DownLeftVector;":"\u21BD","DownLeftVectorBar;":"\u2956","DownRightTeeVector;":"\u295F","DownRightVector;":"\u21C1","DownRightVectorBar;":"\u2957","DownTee;":"\u22A4","DownTeeArrow;":"\u21A7","drbkarow;":"\u2910","drcorn;":"\u231F","drcrop;":"\u230C","Dscr;":"\u{1D49F}","dscr;":"\u{1D4B9}","DScy;":"\u0405","dscy;":"\u0455","dsol;":"\u29F6","Dstrok;":"\u0110","dstrok;":"\u0111","dtdot;":"\u22F1","dtri;":"\u25BF","dtrif;":"\u25BE","duarr;":"\u21F5","duhar;":"\u296F","dwangle;":"\u29A6","DZcy;":"\u040F","dzcy;":"\u045F","dzigrarr;":"\u27FF","Eacute;":"\xC9",Eacute:"\xC9","eacute;":"\xE9",eacute:"\xE9","easter;":"\u2A6E","Ecaron;":"\u011A","ecaron;":"\u011B","ecir;":"\u2256","Ecirc;":"\xCA",Ecirc:"\xCA","ecirc;":"\xEA",ecirc:"\xEA","ecolon;":"\u2255","Ecy;":"\u042D","ecy;":"\u044D","eDDot;":"\u2A77","Edot;":"\u0116","eDot;":"\u2251","edot;":"\u0117","ee;":"\u2147","efDot;":"\u2252","Efr;":"\u{1D508}","efr;":"\u{1D522}","eg;":"\u2A9A","Egrave;":"\xC8",Egrave:"\xC8","egrave;":"\xE8",egrave:"\xE8","egs;":"\u2A96","egsdot;":"\u2A98","el;":"\u2A99","Element;":"\u2208","elinters;":"\u23E7","ell;":"\u2113","els;":"\u2A95","elsdot;":"\u2A97","Emacr;":"\u0112","emacr;":"\u0113","empty;":"\u2205","emptyset;":"\u2205","EmptySmallSquare;":"\u25FB","emptyv;":"\u2205","EmptyVerySmallSquare;":"\u25AB","emsp;":"\u2003","emsp13;":"\u2004","emsp14;":"\u2005","ENG;":"\u014A","eng;":"\u014B","ensp;":"\u2002","Eogon;":"\u0118","eogon;":"\u0119","Eopf;":"\u{1D53C}","eopf;":"\u{1D556}","epar;":"\u22D5","eparsl;":"\u29E3","eplus;":"\u2A71","epsi;":"\u03B5","Epsilon;":"\u0395","epsilon;":"\u03B5","epsiv;":"\u03F5","eqcirc;":"\u2256","eqcolon;":"\u2255","eqsim;":"\u2242","eqslantgtr;":"\u2A96","eqslantless;":"\u2A95","Equal;":"\u2A75","equals;":"=","EqualTilde;":"\u2242","equest;":"\u225F","Equilibrium;":"\u21CC","equiv;":"\u2261","equivDD;":"\u2A78","eqvparsl;":"\u29E5","erarr;":"\u2971","erDot;":"\u2253","Escr;":"\u2130","escr;":"\u212F","esdot;":"\u2250","Esim;":"\u2A73","esim;":"\u2242","Eta;":"\u0397","eta;":"\u03B7","ETH;":"\xD0",ETH:"\xD0","eth;":"\xF0",eth:"\xF0","Euml;":"\xCB",Euml:"\xCB","euml;":"\xEB",euml:"\xEB","euro;":"\u20AC","excl;":"!","exist;":"\u2203","Exists;":"\u2203","expectation;":"\u2130","ExponentialE;":"\u2147","exponentiale;":"\u2147","fallingdotseq;":"\u2252","Fcy;":"\u0424","fcy;":"\u0444","female;":"\u2640","ffilig;":"\uFB03","fflig;":"\uFB00","ffllig;":"\uFB04","Ffr;":"\u{1D509}","ffr;":"\u{1D523}","filig;":"\uFB01","FilledSmallSquare;":"\u25FC","FilledVerySmallSquare;":"\u25AA","fjlig;":"fj","flat;":"\u266D","fllig;":"\uFB02","fltns;":"\u25B1","fnof;":"\u0192","Fopf;":"\u{1D53D}","fopf;":"\u{1D557}","ForAll;":"\u2200","forall;":"\u2200","fork;":"\u22D4","forkv;":"\u2AD9","Fouriertrf;":"\u2131","fpartint;":"\u2A0D","frac12;":"\xBD",frac12:"\xBD","frac13;":"\u2153","frac14;":"\xBC",frac14:"\xBC","frac15;":"\u2155","frac16;":"\u2159","frac18;":"\u215B","frac23;":"\u2154","frac25;":"\u2156","frac34;":"\xBE",frac34:"\xBE","frac35;":"\u2157","frac38;":"\u215C","frac45;":"\u2158","frac56;":"\u215A","frac58;":"\u215D","frac78;":"\u215E","frasl;":"\u2044","frown;":"\u2322","Fscr;":"\u2131","fscr;":"\u{1D4BB}","gacute;":"\u01F5","Gamma;":"\u0393","gamma;":"\u03B3","Gammad;":"\u03DC","gammad;":"\u03DD","gap;":"\u2A86","Gbreve;":"\u011E","gbreve;":"\u011F","Gcedil;":"\u0122","Gcirc;":"\u011C","gcirc;":"\u011D","Gcy;":"\u0413","gcy;":"\u0433","Gdot;":"\u0120","gdot;":"\u0121","gE;":"\u2267","ge;":"\u2265","gEl;":"\u2A8C","gel;":"\u22DB","geq;":"\u2265","geqq;":"\u2267","geqslant;":"\u2A7E","ges;":"\u2A7E","gescc;":"\u2AA9","gesdot;":"\u2A80","gesdoto;":"\u2A82","gesdotol;":"\u2A84","gesl;":"\u22DB\uFE00","gesles;":"\u2A94","Gfr;":"\u{1D50A}","gfr;":"\u{1D524}","Gg;":"\u22D9","gg;":"\u226B","ggg;":"\u22D9","gimel;":"\u2137","GJcy;":"\u0403","gjcy;":"\u0453","gl;":"\u2277","gla;":"\u2AA5","glE;":"\u2A92","glj;":"\u2AA4","gnap;":"\u2A8A","gnapprox;":"\u2A8A","gnE;":"\u2269","gne;":"\u2A88","gneq;":"\u2A88","gneqq;":"\u2269","gnsim;":"\u22E7","Gopf;":"\u{1D53E}","gopf;":"\u{1D558}","grave;":"`","GreaterEqual;":"\u2265","GreaterEqualLess;":"\u22DB","GreaterFullEqual;":"\u2267","GreaterGreater;":"\u2AA2","GreaterLess;":"\u2277","GreaterSlantEqual;":"\u2A7E","GreaterTilde;":"\u2273","Gscr;":"\u{1D4A2}","gscr;":"\u210A","gsim;":"\u2273","gsime;":"\u2A8E","gsiml;":"\u2A90","GT;":">",GT:">","Gt;":"\u226B","gt;":">",gt:">","gtcc;":"\u2AA7","gtcir;":"\u2A7A","gtdot;":"\u22D7","gtlPar;":"\u2995","gtquest;":"\u2A7C","gtrapprox;":"\u2A86","gtrarr;":"\u2978","gtrdot;":"\u22D7","gtreqless;":"\u22DB","gtreqqless;":"\u2A8C","gtrless;":"\u2277","gtrsim;":"\u2273","gvertneqq;":"\u2269\uFE00","gvnE;":"\u2269\uFE00","Hacek;":"\u02C7","hairsp;":"\u200A","half;":"\xBD","hamilt;":"\u210B","HARDcy;":"\u042A","hardcy;":"\u044A","hArr;":"\u21D4","harr;":"\u2194","harrcir;":"\u2948","harrw;":"\u21AD","Hat;":"^","hbar;":"\u210F","Hcirc;":"\u0124","hcirc;":"\u0125","hearts;":"\u2665","heartsuit;":"\u2665","hellip;":"\u2026","hercon;":"\u22B9","Hfr;":"\u210C","hfr;":"\u{1D525}","HilbertSpace;":"\u210B","hksearow;":"\u2925","hkswarow;":"\u2926","hoarr;":"\u21FF","homtht;":"\u223B","hookleftarrow;":"\u21A9","hookrightarrow;":"\u21AA","Hopf;":"\u210D","hopf;":"\u{1D559}","horbar;":"\u2015","HorizontalLine;":"\u2500","Hscr;":"\u210B","hscr;":"\u{1D4BD}","hslash;":"\u210F","Hstrok;":"\u0126","hstrok;":"\u0127","HumpDownHump;":"\u224E","HumpEqual;":"\u224F","hybull;":"\u2043","hyphen;":"\u2010","Iacute;":"\xCD",Iacute:"\xCD","iacute;":"\xED",iacute:"\xED","ic;":"\u2063","Icirc;":"\xCE",Icirc:"\xCE","icirc;":"\xEE",icirc:"\xEE","Icy;":"\u0418","icy;":"\u0438","Idot;":"\u0130","IEcy;":"\u0415","iecy;":"\u0435","iexcl;":"\xA1",iexcl:"\xA1","iff;":"\u21D4","Ifr;":"\u2111","ifr;":"\u{1D526}","Igrave;":"\xCC",Igrave:"\xCC","igrave;":"\xEC",igrave:"\xEC","ii;":"\u2148","iiiint;":"\u2A0C","iiint;":"\u222D","iinfin;":"\u29DC","iiota;":"\u2129","IJlig;":"\u0132","ijlig;":"\u0133","Im;":"\u2111","Imacr;":"\u012A","imacr;":"\u012B","image;":"\u2111","ImaginaryI;":"\u2148","imagline;":"\u2110","imagpart;":"\u2111","imath;":"\u0131","imof;":"\u22B7","imped;":"\u01B5","Implies;":"\u21D2","in;":"\u2208","incare;":"\u2105","infin;":"\u221E","infintie;":"\u29DD","inodot;":"\u0131","Int;":"\u222C","int;":"\u222B","intcal;":"\u22BA","integers;":"\u2124","Integral;":"\u222B","intercal;":"\u22BA","Intersection;":"\u22C2","intlarhk;":"\u2A17","intprod;":"\u2A3C","InvisibleComma;":"\u2063","InvisibleTimes;":"\u2062","IOcy;":"\u0401","iocy;":"\u0451","Iogon;":"\u012E","iogon;":"\u012F","Iopf;":"\u{1D540}","iopf;":"\u{1D55A}","Iota;":"\u0399","iota;":"\u03B9","iprod;":"\u2A3C","iquest;":"\xBF",iquest:"\xBF","Iscr;":"\u2110","iscr;":"\u{1D4BE}","isin;":"\u2208","isindot;":"\u22F5","isinE;":"\u22F9","isins;":"\u22F4","isinsv;":"\u22F3","isinv;":"\u2208","it;":"\u2062","Itilde;":"\u0128","itilde;":"\u0129","Iukcy;":"\u0406","iukcy;":"\u0456","Iuml;":"\xCF",Iuml:"\xCF","iuml;":"\xEF",iuml:"\xEF","Jcirc;":"\u0134","jcirc;":"\u0135","Jcy;":"\u0419","jcy;":"\u0439","Jfr;":"\u{1D50D}","jfr;":"\u{1D527}","jmath;":"\u0237","Jopf;":"\u{1D541}","jopf;":"\u{1D55B}","Jscr;":"\u{1D4A5}","jscr;":"\u{1D4BF}","Jsercy;":"\u0408","jsercy;":"\u0458","Jukcy;":"\u0404","jukcy;":"\u0454","Kappa;":"\u039A","kappa;":"\u03BA","kappav;":"\u03F0","Kcedil;":"\u0136","kcedil;":"\u0137","Kcy;":"\u041A","kcy;":"\u043A","Kfr;":"\u{1D50E}","kfr;":"\u{1D528}","kgreen;":"\u0138","KHcy;":"\u0425","khcy;":"\u0445","KJcy;":"\u040C","kjcy;":"\u045C","Kopf;":"\u{1D542}","kopf;":"\u{1D55C}","Kscr;":"\u{1D4A6}","kscr;":"\u{1D4C0}","lAarr;":"\u21DA","Lacute;":"\u0139","lacute;":"\u013A","laemptyv;":"\u29B4","lagran;":"\u2112","Lambda;":"\u039B","lambda;":"\u03BB","Lang;":"\u27EA","lang;":"\u27E8","langd;":"\u2991","langle;":"\u27E8","lap;":"\u2A85","Laplacetrf;":"\u2112","laquo;":"\xAB",laquo:"\xAB","Larr;":"\u219E","lArr;":"\u21D0","larr;":"\u2190","larrb;":"\u21E4","larrbfs;":"\u291F","larrfs;":"\u291D","larrhk;":"\u21A9","larrlp;":"\u21AB","larrpl;":"\u2939","larrsim;":"\u2973","larrtl;":"\u21A2","lat;":"\u2AAB","lAtail;":"\u291B","latail;":"\u2919","late;":"\u2AAD","lates;":"\u2AAD\uFE00","lBarr;":"\u290E","lbarr;":"\u290C","lbbrk;":"\u2772","lbrace;":"{","lbrack;":"[","lbrke;":"\u298B","lbrksld;":"\u298F","lbrkslu;":"\u298D","Lcaron;":"\u013D","lcaron;":"\u013E","Lcedil;":"\u013B","lcedil;":"\u013C","lceil;":"\u2308","lcub;":"{","Lcy;":"\u041B","lcy;":"\u043B","ldca;":"\u2936","ldquo;":"\u201C","ldquor;":"\u201E","ldrdhar;":"\u2967","ldrushar;":"\u294B","ldsh;":"\u21B2","lE;":"\u2266","le;":"\u2264","LeftAngleBracket;":"\u27E8","LeftArrow;":"\u2190","Leftarrow;":"\u21D0","leftarrow;":"\u2190","LeftArrowBar;":"\u21E4","LeftArrowRightArrow;":"\u21C6","leftarrowtail;":"\u21A2","LeftCeiling;":"\u2308","LeftDoubleBracket;":"\u27E6","LeftDownTeeVector;":"\u2961","LeftDownVector;":"\u21C3","LeftDownVectorBar;":"\u2959","LeftFloor;":"\u230A","leftharpoondown;":"\u21BD","leftharpoonup;":"\u21BC","leftleftarrows;":"\u21C7","LeftRightArrow;":"\u2194","Leftrightarrow;":"\u21D4","leftrightarrow;":"\u2194","leftrightarrows;":"\u21C6","leftrightharpoons;":"\u21CB","leftrightsquigarrow;":"\u21AD","LeftRightVector;":"\u294E","LeftTee;":"\u22A3","LeftTeeArrow;":"\u21A4","LeftTeeVector;":"\u295A","leftthreetimes;":"\u22CB","LeftTriangle;":"\u22B2","LeftTriangleBar;":"\u29CF","LeftTriangleEqual;":"\u22B4","LeftUpDownVector;":"\u2951","LeftUpTeeVector;":"\u2960","LeftUpVector;":"\u21BF","LeftUpVectorBar;":"\u2958","LeftVector;":"\u21BC","LeftVectorBar;":"\u2952","lEg;":"\u2A8B","leg;":"\u22DA","leq;":"\u2264","leqq;":"\u2266","leqslant;":"\u2A7D","les;":"\u2A7D","lescc;":"\u2AA8","lesdot;":"\u2A7F","lesdoto;":"\u2A81","lesdotor;":"\u2A83","lesg;":"\u22DA\uFE00","lesges;":"\u2A93","lessapprox;":"\u2A85","lessdot;":"\u22D6","lesseqgtr;":"\u22DA","lesseqqgtr;":"\u2A8B","LessEqualGreater;":"\u22DA","LessFullEqual;":"\u2266","LessGreater;":"\u2276","lessgtr;":"\u2276","LessLess;":"\u2AA1","lesssim;":"\u2272","LessSlantEqual;":"\u2A7D","LessTilde;":"\u2272","lfisht;":"\u297C","lfloor;":"\u230A","Lfr;":"\u{1D50F}","lfr;":"\u{1D529}","lg;":"\u2276","lgE;":"\u2A91","lHar;":"\u2962","lhard;":"\u21BD","lharu;":"\u21BC","lharul;":"\u296A","lhblk;":"\u2584","LJcy;":"\u0409","ljcy;":"\u0459","Ll;":"\u22D8","ll;":"\u226A","llarr;":"\u21C7","llcorner;":"\u231E","Lleftarrow;":"\u21DA","llhard;":"\u296B","lltri;":"\u25FA","Lmidot;":"\u013F","lmidot;":"\u0140","lmoust;":"\u23B0","lmoustache;":"\u23B0","lnap;":"\u2A89","lnapprox;":"\u2A89","lnE;":"\u2268","lne;":"\u2A87","lneq;":"\u2A87","lneqq;":"\u2268","lnsim;":"\u22E6","loang;":"\u27EC","loarr;":"\u21FD","lobrk;":"\u27E6","LongLeftArrow;":"\u27F5","Longleftarrow;":"\u27F8","longleftarrow;":"\u27F5","LongLeftRightArrow;":"\u27F7","Longleftrightarrow;":"\u27FA","longleftrightarrow;":"\u27F7","longmapsto;":"\u27FC","LongRightArrow;":"\u27F6","Longrightarrow;":"\u27F9","longrightarrow;":"\u27F6","looparrowleft;":"\u21AB","looparrowright;":"\u21AC","lopar;":"\u2985","Lopf;":"\u{1D543}","lopf;":"\u{1D55D}","loplus;":"\u2A2D","lotimes;":"\u2A34","lowast;":"\u2217","lowbar;":"_","LowerLeftArrow;":"\u2199","LowerRightArrow;":"\u2198","loz;":"\u25CA","lozenge;":"\u25CA","lozf;":"\u29EB","lpar;":"(","lparlt;":"\u2993","lrarr;":"\u21C6","lrcorner;":"\u231F","lrhar;":"\u21CB","lrhard;":"\u296D","lrm;":"\u200E","lrtri;":"\u22BF","lsaquo;":"\u2039","Lscr;":"\u2112","lscr;":"\u{1D4C1}","Lsh;":"\u21B0","lsh;":"\u21B0","lsim;":"\u2272","lsime;":"\u2A8D","lsimg;":"\u2A8F","lsqb;":"[","lsquo;":"\u2018","lsquor;":"\u201A","Lstrok;":"\u0141","lstrok;":"\u0142","LT;":"<",LT:"<","Lt;":"\u226A","lt;":"<",lt:"<","ltcc;":"\u2AA6","ltcir;":"\u2A79","ltdot;":"\u22D6","lthree;":"\u22CB","ltimes;":"\u22C9","ltlarr;":"\u2976","ltquest;":"\u2A7B","ltri;":"\u25C3","ltrie;":"\u22B4","ltrif;":"\u25C2","ltrPar;":"\u2996","lurdshar;":"\u294A","luruhar;":"\u2966","lvertneqq;":"\u2268\uFE00","lvnE;":"\u2268\uFE00","macr;":"\xAF",macr:"\xAF","male;":"\u2642","malt;":"\u2720","maltese;":"\u2720","Map;":"\u2905","map;":"\u21A6","mapsto;":"\u21A6","mapstodown;":"\u21A7","mapstoleft;":"\u21A4","mapstoup;":"\u21A5","marker;":"\u25AE","mcomma;":"\u2A29","Mcy;":"\u041C","mcy;":"\u043C","mdash;":"\u2014","mDDot;":"\u223A","measuredangle;":"\u2221","MediumSpace;":"\u205F","Mellintrf;":"\u2133","Mfr;":"\u{1D510}","mfr;":"\u{1D52A}","mho;":"\u2127","micro;":"\xB5",micro:"\xB5","mid;":"\u2223","midast;":"*","midcir;":"\u2AF0","middot;":"\xB7",middot:"\xB7","minus;":"\u2212","minusb;":"\u229F","minusd;":"\u2238","minusdu;":"\u2A2A","MinusPlus;":"\u2213","mlcp;":"\u2ADB","mldr;":"\u2026","mnplus;":"\u2213","models;":"\u22A7","Mopf;":"\u{1D544}","mopf;":"\u{1D55E}","mp;":"\u2213","Mscr;":"\u2133","mscr;":"\u{1D4C2}","mstpos;":"\u223E","Mu;":"\u039C","mu;":"\u03BC","multimap;":"\u22B8","mumap;":"\u22B8","nabla;":"\u2207","Nacute;":"\u0143","nacute;":"\u0144","nang;":"\u2220\u20D2","nap;":"\u2249","napE;":"\u2A70\u0338","napid;":"\u224B\u0338","napos;":"\u0149","napprox;":"\u2249","natur;":"\u266E","natural;":"\u266E","naturals;":"\u2115","nbsp;":"\xA0",nbsp:"\xA0","nbump;":"\u224E\u0338","nbumpe;":"\u224F\u0338","ncap;":"\u2A43","Ncaron;":"\u0147","ncaron;":"\u0148","Ncedil;":"\u0145","ncedil;":"\u0146","ncong;":"\u2247","ncongdot;":"\u2A6D\u0338","ncup;":"\u2A42","Ncy;":"\u041D","ncy;":"\u043D","ndash;":"\u2013","ne;":"\u2260","nearhk;":"\u2924","neArr;":"\u21D7","nearr;":"\u2197","nearrow;":"\u2197","nedot;":"\u2250\u0338","NegativeMediumSpace;":"\u200B","NegativeThickSpace;":"\u200B","NegativeThinSpace;":"\u200B","NegativeVeryThinSpace;":"\u200B","nequiv;":"\u2262","nesear;":"\u2928","nesim;":"\u2242\u0338","NestedGreaterGreater;":"\u226B","NestedLessLess;":"\u226A","NewLine;":`
`,"nexist;":"\u2204","nexists;":"\u2204","Nfr;":"\u{1D511}","nfr;":"\u{1D52B}","ngE;":"\u2267\u0338","nge;":"\u2271","ngeq;":"\u2271","ngeqq;":"\u2267\u0338","ngeqslant;":"\u2A7E\u0338","nges;":"\u2A7E\u0338","nGg;":"\u22D9\u0338","ngsim;":"\u2275","nGt;":"\u226B\u20D2","ngt;":"\u226F","ngtr;":"\u226F","nGtv;":"\u226B\u0338","nhArr;":"\u21CE","nharr;":"\u21AE","nhpar;":"\u2AF2","ni;":"\u220B","nis;":"\u22FC","nisd;":"\u22FA","niv;":"\u220B","NJcy;":"\u040A","njcy;":"\u045A","nlArr;":"\u21CD","nlarr;":"\u219A","nldr;":"\u2025","nlE;":"\u2266\u0338","nle;":"\u2270","nLeftarrow;":"\u21CD","nleftarrow;":"\u219A","nLeftrightarrow;":"\u21CE","nleftrightarrow;":"\u21AE","nleq;":"\u2270","nleqq;":"\u2266\u0338","nleqslant;":"\u2A7D\u0338","nles;":"\u2A7D\u0338","nless;":"\u226E","nLl;":"\u22D8\u0338","nlsim;":"\u2274","nLt;":"\u226A\u20D2","nlt;":"\u226E","nltri;":"\u22EA","nltrie;":"\u22EC","nLtv;":"\u226A\u0338","nmid;":"\u2224","NoBreak;":"\u2060","NonBreakingSpace;":"\xA0","Nopf;":"\u2115","nopf;":"\u{1D55F}","Not;":"\u2AEC","not;":"\xAC",not:"\xAC","NotCongruent;":"\u2262","NotCupCap;":"\u226D","NotDoubleVerticalBar;":"\u2226","NotElement;":"\u2209","NotEqual;":"\u2260","NotEqualTilde;":"\u2242\u0338","NotExists;":"\u2204","NotGreater;":"\u226F","NotGreaterEqual;":"\u2271","NotGreaterFullEqual;":"\u2267\u0338","NotGreaterGreater;":"\u226B\u0338","NotGreaterLess;":"\u2279","NotGreaterSlantEqual;":"\u2A7E\u0338","NotGreaterTilde;":"\u2275","NotHumpDownHump;":"\u224E\u0338","NotHumpEqual;":"\u224F\u0338","notin;":"\u2209","notindot;":"\u22F5\u0338","notinE;":"\u22F9\u0338","notinva;":"\u2209","notinvb;":"\u22F7","notinvc;":"\u22F6","NotLeftTriangle;":"\u22EA","NotLeftTriangleBar;":"\u29CF\u0338","NotLeftTriangleEqual;":"\u22EC","NotLess;":"\u226E","NotLessEqual;":"\u2270","NotLessGreater;":"\u2278","NotLessLess;":"\u226A\u0338","NotLessSlantEqual;":"\u2A7D\u0338","NotLessTilde;":"\u2274","NotNestedGreaterGreater;":"\u2AA2\u0338","NotNestedLessLess;":"\u2AA1\u0338","notni;":"\u220C","notniva;":"\u220C","notnivb;":"\u22FE","notnivc;":"\u22FD","NotPrecedes;":"\u2280","NotPrecedesEqual;":"\u2AAF\u0338","NotPrecedesSlantEqual;":"\u22E0","NotReverseElement;":"\u220C","NotRightTriangle;":"\u22EB","NotRightTriangleBar;":"\u29D0\u0338","NotRightTriangleEqual;":"\u22ED","NotSquareSubset;":"\u228F\u0338","NotSquareSubsetEqual;":"\u22E2","NotSquareSuperset;":"\u2290\u0338","NotSquareSupersetEqual;":"\u22E3","NotSubset;":"\u2282\u20D2","NotSubsetEqual;":"\u2288","NotSucceeds;":"\u2281","NotSucceedsEqual;":"\u2AB0\u0338","NotSucceedsSlantEqual;":"\u22E1","NotSucceedsTilde;":"\u227F\u0338","NotSuperset;":"\u2283\u20D2","NotSupersetEqual;":"\u2289","NotTilde;":"\u2241","NotTildeEqual;":"\u2244","NotTildeFullEqual;":"\u2247","NotTildeTilde;":"\u2249","NotVerticalBar;":"\u2224","npar;":"\u2226","nparallel;":"\u2226","nparsl;":"\u2AFD\u20E5","npart;":"\u2202\u0338","npolint;":"\u2A14","npr;":"\u2280","nprcue;":"\u22E0","npre;":"\u2AAF\u0338","nprec;":"\u2280","npreceq;":"\u2AAF\u0338","nrArr;":"\u21CF","nrarr;":"\u219B","nrarrc;":"\u2933\u0338","nrarrw;":"\u219D\u0338","nRightarrow;":"\u21CF","nrightarrow;":"\u219B","nrtri;":"\u22EB","nrtrie;":"\u22ED","nsc;":"\u2281","nsccue;":"\u22E1","nsce;":"\u2AB0\u0338","Nscr;":"\u{1D4A9}","nscr;":"\u{1D4C3}","nshortmid;":"\u2224","nshortparallel;":"\u2226","nsim;":"\u2241","nsime;":"\u2244","nsimeq;":"\u2244","nsmid;":"\u2224","nspar;":"\u2226","nsqsube;":"\u22E2","nsqsupe;":"\u22E3","nsub;":"\u2284","nsubE;":"\u2AC5\u0338","nsube;":"\u2288","nsubset;":"\u2282\u20D2","nsubseteq;":"\u2288","nsubseteqq;":"\u2AC5\u0338","nsucc;":"\u2281","nsucceq;":"\u2AB0\u0338","nsup;":"\u2285","nsupE;":"\u2AC6\u0338","nsupe;":"\u2289","nsupset;":"\u2283\u20D2","nsupseteq;":"\u2289","nsupseteqq;":"\u2AC6\u0338","ntgl;":"\u2279","Ntilde;":"\xD1",Ntilde:"\xD1","ntilde;":"\xF1",ntilde:"\xF1","ntlg;":"\u2278","ntriangleleft;":"\u22EA","ntrianglelefteq;":"\u22EC","ntriangleright;":"\u22EB","ntrianglerighteq;":"\u22ED","Nu;":"\u039D","nu;":"\u03BD","num;":"#","numero;":"\u2116","numsp;":"\u2007","nvap;":"\u224D\u20D2","nVDash;":"\u22AF","nVdash;":"\u22AE","nvDash;":"\u22AD","nvdash;":"\u22AC","nvge;":"\u2265\u20D2","nvgt;":">\u20D2","nvHarr;":"\u2904","nvinfin;":"\u29DE","nvlArr;":"\u2902","nvle;":"\u2264\u20D2","nvlt;":"<\u20D2","nvltrie;":"\u22B4\u20D2","nvrArr;":"\u2903","nvrtrie;":"\u22B5\u20D2","nvsim;":"\u223C\u20D2","nwarhk;":"\u2923","nwArr;":"\u21D6","nwarr;":"\u2196","nwarrow;":"\u2196","nwnear;":"\u2927","Oacute;":"\xD3",Oacute:"\xD3","oacute;":"\xF3",oacute:"\xF3","oast;":"\u229B","ocir;":"\u229A","Ocirc;":"\xD4",Ocirc:"\xD4","ocirc;":"\xF4",ocirc:"\xF4","Ocy;":"\u041E","ocy;":"\u043E","odash;":"\u229D","Odblac;":"\u0150","odblac;":"\u0151","odiv;":"\u2A38","odot;":"\u2299","odsold;":"\u29BC","OElig;":"\u0152","oelig;":"\u0153","ofcir;":"\u29BF","Ofr;":"\u{1D512}","ofr;":"\u{1D52C}","ogon;":"\u02DB","Ograve;":"\xD2",Ograve:"\xD2","ograve;":"\xF2",ograve:"\xF2","ogt;":"\u29C1","ohbar;":"\u29B5","ohm;":"\u03A9","oint;":"\u222E","olarr;":"\u21BA","olcir;":"\u29BE","olcross;":"\u29BB","oline;":"\u203E","olt;":"\u29C0","Omacr;":"\u014C","omacr;":"\u014D","Omega;":"\u03A9","omega;":"\u03C9","Omicron;":"\u039F","omicron;":"\u03BF","omid;":"\u29B6","ominus;":"\u2296","Oopf;":"\u{1D546}","oopf;":"\u{1D560}","opar;":"\u29B7","OpenCurlyDoubleQuote;":"\u201C","OpenCurlyQuote;":"\u2018","operp;":"\u29B9","oplus;":"\u2295","Or;":"\u2A54","or;":"\u2228","orarr;":"\u21BB","ord;":"\u2A5D","order;":"\u2134","orderof;":"\u2134","ordf;":"\xAA",ordf:"\xAA","ordm;":"\xBA",ordm:"\xBA","origof;":"\u22B6","oror;":"\u2A56","orslope;":"\u2A57","orv;":"\u2A5B","oS;":"\u24C8","Oscr;":"\u{1D4AA}","oscr;":"\u2134","Oslash;":"\xD8",Oslash:"\xD8","oslash;":"\xF8",oslash:"\xF8","osol;":"\u2298","Otilde;":"\xD5",Otilde:"\xD5","otilde;":"\xF5",otilde:"\xF5","Otimes;":"\u2A37","otimes;":"\u2297","otimesas;":"\u2A36","Ouml;":"\xD6",Ouml:"\xD6","ouml;":"\xF6",ouml:"\xF6","ovbar;":"\u233D","OverBar;":"\u203E","OverBrace;":"\u23DE","OverBracket;":"\u23B4","OverParenthesis;":"\u23DC","par;":"\u2225","para;":"\xB6",para:"\xB6","parallel;":"\u2225","parsim;":"\u2AF3","parsl;":"\u2AFD","part;":"\u2202","PartialD;":"\u2202","Pcy;":"\u041F","pcy;":"\u043F","percnt;":"%","period;":".","permil;":"\u2030","perp;":"\u22A5","pertenk;":"\u2031","Pfr;":"\u{1D513}","pfr;":"\u{1D52D}","Phi;":"\u03A6","phi;":"\u03C6","phiv;":"\u03D5","phmmat;":"\u2133","phone;":"\u260E","Pi;":"\u03A0","pi;":"\u03C0","pitchfork;":"\u22D4","piv;":"\u03D6","planck;":"\u210F","planckh;":"\u210E","plankv;":"\u210F","plus;":"+","plusacir;":"\u2A23","plusb;":"\u229E","pluscir;":"\u2A22","plusdo;":"\u2214","plusdu;":"\u2A25","pluse;":"\u2A72","PlusMinus;":"\xB1","plusmn;":"\xB1",plusmn:"\xB1","plussim;":"\u2A26","plustwo;":"\u2A27","pm;":"\xB1","Poincareplane;":"\u210C","pointint;":"\u2A15","Popf;":"\u2119","popf;":"\u{1D561}","pound;":"\xA3",pound:"\xA3","Pr;":"\u2ABB","pr;":"\u227A","prap;":"\u2AB7","prcue;":"\u227C","prE;":"\u2AB3","pre;":"\u2AAF","prec;":"\u227A","precapprox;":"\u2AB7","preccurlyeq;":"\u227C","Precedes;":"\u227A","PrecedesEqual;":"\u2AAF","PrecedesSlantEqual;":"\u227C","PrecedesTilde;":"\u227E","preceq;":"\u2AAF","precnapprox;":"\u2AB9","precneqq;":"\u2AB5","precnsim;":"\u22E8","precsim;":"\u227E","Prime;":"\u2033","prime;":"\u2032","primes;":"\u2119","prnap;":"\u2AB9","prnE;":"\u2AB5","prnsim;":"\u22E8","prod;":"\u220F","Product;":"\u220F","profalar;":"\u232E","profline;":"\u2312","profsurf;":"\u2313","prop;":"\u221D","Proportion;":"\u2237","Proportional;":"\u221D","propto;":"\u221D","prsim;":"\u227E","prurel;":"\u22B0","Pscr;":"\u{1D4AB}","pscr;":"\u{1D4C5}","Psi;":"\u03A8","psi;":"\u03C8","puncsp;":"\u2008","Qfr;":"\u{1D514}","qfr;":"\u{1D52E}","qint;":"\u2A0C","Qopf;":"\u211A","qopf;":"\u{1D562}","qprime;":"\u2057","Qscr;":"\u{1D4AC}","qscr;":"\u{1D4C6}","quaternions;":"\u210D","quatint;":"\u2A16","quest;":"?","questeq;":"\u225F","QUOT;":'"',QUOT:'"',"quot;":'"',quot:'"',"rAarr;":"\u21DB","race;":"\u223D\u0331","Racute;":"\u0154","racute;":"\u0155","radic;":"\u221A","raemptyv;":"\u29B3","Rang;":"\u27EB","rang;":"\u27E9","rangd;":"\u2992","range;":"\u29A5","rangle;":"\u27E9","raquo;":"\xBB",raquo:"\xBB","Rarr;":"\u21A0","rArr;":"\u21D2","rarr;":"\u2192","rarrap;":"\u2975","rarrb;":"\u21E5","rarrbfs;":"\u2920","rarrc;":"\u2933","rarrfs;":"\u291E","rarrhk;":"\u21AA","rarrlp;":"\u21AC","rarrpl;":"\u2945","rarrsim;":"\u2974","Rarrtl;":"\u2916","rarrtl;":"\u21A3","rarrw;":"\u219D","rAtail;":"\u291C","ratail;":"\u291A","ratio;":"\u2236","rationals;":"\u211A","RBarr;":"\u2910","rBarr;":"\u290F","rbarr;":"\u290D","rbbrk;":"\u2773","rbrace;":"}","rbrack;":"]","rbrke;":"\u298C","rbrksld;":"\u298E","rbrkslu;":"\u2990","Rcaron;":"\u0158","rcaron;":"\u0159","Rcedil;":"\u0156","rcedil;":"\u0157","rceil;":"\u2309","rcub;":"}","Rcy;":"\u0420","rcy;":"\u0440","rdca;":"\u2937","rdldhar;":"\u2969","rdquo;":"\u201D","rdquor;":"\u201D","rdsh;":"\u21B3","Re;":"\u211C","real;":"\u211C","realine;":"\u211B","realpart;":"\u211C","reals;":"\u211D","rect;":"\u25AD","REG;":"\xAE",REG:"\xAE","reg;":"\xAE",reg:"\xAE","ReverseElement;":"\u220B","ReverseEquilibrium;":"\u21CB","ReverseUpEquilibrium;":"\u296F","rfisht;":"\u297D","rfloor;":"\u230B","Rfr;":"\u211C","rfr;":"\u{1D52F}","rHar;":"\u2964","rhard;":"\u21C1","rharu;":"\u21C0","rharul;":"\u296C","Rho;":"\u03A1","rho;":"\u03C1","rhov;":"\u03F1","RightAngleBracket;":"\u27E9","RightArrow;":"\u2192","Rightarrow;":"\u21D2","rightarrow;":"\u2192","RightArrowBar;":"\u21E5","RightArrowLeftArrow;":"\u21C4","rightarrowtail;":"\u21A3","RightCeiling;":"\u2309","RightDoubleBracket;":"\u27E7","RightDownTeeVector;":"\u295D","RightDownVector;":"\u21C2","RightDownVectorBar;":"\u2955","RightFloor;":"\u230B","rightharpoondown;":"\u21C1","rightharpoonup;":"\u21C0","rightleftarrows;":"\u21C4","rightleftharpoons;":"\u21CC","rightrightarrows;":"\u21C9","rightsquigarrow;":"\u219D","RightTee;":"\u22A2","RightTeeArrow;":"\u21A6","RightTeeVector;":"\u295B","rightthreetimes;":"\u22CC","RightTriangle;":"\u22B3","RightTriangleBar;":"\u29D0","RightTriangleEqual;":"\u22B5","RightUpDownVector;":"\u294F","RightUpTeeVector;":"\u295C","RightUpVector;":"\u21BE","RightUpVectorBar;":"\u2954","RightVector;":"\u21C0","RightVectorBar;":"\u2953","ring;":"\u02DA","risingdotseq;":"\u2253","rlarr;":"\u21C4","rlhar;":"\u21CC","rlm;":"\u200F","rmoust;":"\u23B1","rmoustache;":"\u23B1","rnmid;":"\u2AEE","roang;":"\u27ED","roarr;":"\u21FE","robrk;":"\u27E7","ropar;":"\u2986","Ropf;":"\u211D","ropf;":"\u{1D563}","roplus;":"\u2A2E","rotimes;":"\u2A35","RoundImplies;":"\u2970","rpar;":")","rpargt;":"\u2994","rppolint;":"\u2A12","rrarr;":"\u21C9","Rrightarrow;":"\u21DB","rsaquo;":"\u203A","Rscr;":"\u211B","rscr;":"\u{1D4C7}","Rsh;":"\u21B1","rsh;":"\u21B1","rsqb;":"]","rsquo;":"\u2019","rsquor;":"\u2019","rthree;":"\u22CC","rtimes;":"\u22CA","rtri;":"\u25B9","rtrie;":"\u22B5","rtrif;":"\u25B8","rtriltri;":"\u29CE","RuleDelayed;":"\u29F4","ruluhar;":"\u2968","rx;":"\u211E","Sacute;":"\u015A","sacute;":"\u015B","sbquo;":"\u201A","Sc;":"\u2ABC","sc;":"\u227B","scap;":"\u2AB8","Scaron;":"\u0160","scaron;":"\u0161","sccue;":"\u227D","scE;":"\u2AB4","sce;":"\u2AB0","Scedil;":"\u015E","scedil;":"\u015F","Scirc;":"\u015C","scirc;":"\u015D","scnap;":"\u2ABA","scnE;":"\u2AB6","scnsim;":"\u22E9","scpolint;":"\u2A13","scsim;":"\u227F","Scy;":"\u0421","scy;":"\u0441","sdot;":"\u22C5","sdotb;":"\u22A1","sdote;":"\u2A66","searhk;":"\u2925","seArr;":"\u21D8","searr;":"\u2198","searrow;":"\u2198","sect;":"\xA7",sect:"\xA7","semi;":";","seswar;":"\u2929","setminus;":"\u2216","setmn;":"\u2216","sext;":"\u2736","Sfr;":"\u{1D516}","sfr;":"\u{1D530}","sfrown;":"\u2322","sharp;":"\u266F","SHCHcy;":"\u0429","shchcy;":"\u0449","SHcy;":"\u0428","shcy;":"\u0448","ShortDownArrow;":"\u2193","ShortLeftArrow;":"\u2190","shortmid;":"\u2223","shortparallel;":"\u2225","ShortRightArrow;":"\u2192","ShortUpArrow;":"\u2191","shy;":"\xAD",shy:"\xAD","Sigma;":"\u03A3","sigma;":"\u03C3","sigmaf;":"\u03C2","sigmav;":"\u03C2","sim;":"\u223C","simdot;":"\u2A6A","sime;":"\u2243","simeq;":"\u2243","simg;":"\u2A9E","simgE;":"\u2AA0","siml;":"\u2A9D","simlE;":"\u2A9F","simne;":"\u2246","simplus;":"\u2A24","simrarr;":"\u2972","slarr;":"\u2190","SmallCircle;":"\u2218","smallsetminus;":"\u2216","smashp;":"\u2A33","smeparsl;":"\u29E4","smid;":"\u2223","smile;":"\u2323","smt;":"\u2AAA","smte;":"\u2AAC","smtes;":"\u2AAC\uFE00","SOFTcy;":"\u042C","softcy;":"\u044C","sol;":"/","solb;":"\u29C4","solbar;":"\u233F","Sopf;":"\u{1D54A}","sopf;":"\u{1D564}","spades;":"\u2660","spadesuit;":"\u2660","spar;":"\u2225","sqcap;":"\u2293","sqcaps;":"\u2293\uFE00","sqcup;":"\u2294","sqcups;":"\u2294\uFE00","Sqrt;":"\u221A","sqsub;":"\u228F","sqsube;":"\u2291","sqsubset;":"\u228F","sqsubseteq;":"\u2291","sqsup;":"\u2290","sqsupe;":"\u2292","sqsupset;":"\u2290","sqsupseteq;":"\u2292","squ;":"\u25A1","Square;":"\u25A1","square;":"\u25A1","SquareIntersection;":"\u2293","SquareSubset;":"\u228F","SquareSubsetEqual;":"\u2291","SquareSuperset;":"\u2290","SquareSupersetEqual;":"\u2292","SquareUnion;":"\u2294","squarf;":"\u25AA","squf;":"\u25AA","srarr;":"\u2192","Sscr;":"\u{1D4AE}","sscr;":"\u{1D4C8}","ssetmn;":"\u2216","ssmile;":"\u2323","sstarf;":"\u22C6","Star;":"\u22C6","star;":"\u2606","starf;":"\u2605","straightepsilon;":"\u03F5","straightphi;":"\u03D5","strns;":"\xAF","Sub;":"\u22D0","sub;":"\u2282","subdot;":"\u2ABD","subE;":"\u2AC5","sube;":"\u2286","subedot;":"\u2AC3","submult;":"\u2AC1","subnE;":"\u2ACB","subne;":"\u228A","subplus;":"\u2ABF","subrarr;":"\u2979","Subset;":"\u22D0","subset;":"\u2282","subseteq;":"\u2286","subseteqq;":"\u2AC5","SubsetEqual;":"\u2286","subsetneq;":"\u228A","subsetneqq;":"\u2ACB","subsim;":"\u2AC7","subsub;":"\u2AD5","subsup;":"\u2AD3","succ;":"\u227B","succapprox;":"\u2AB8","succcurlyeq;":"\u227D","Succeeds;":"\u227B","SucceedsEqual;":"\u2AB0","SucceedsSlantEqual;":"\u227D","SucceedsTilde;":"\u227F","succeq;":"\u2AB0","succnapprox;":"\u2ABA","succneqq;":"\u2AB6","succnsim;":"\u22E9","succsim;":"\u227F","SuchThat;":"\u220B","Sum;":"\u2211","sum;":"\u2211","sung;":"\u266A","Sup;":"\u22D1","sup;":"\u2283","sup1;":"\xB9",sup1:"\xB9","sup2;":"\xB2",sup2:"\xB2","sup3;":"\xB3",sup3:"\xB3","supdot;":"\u2ABE","supdsub;":"\u2AD8","supE;":"\u2AC6","supe;":"\u2287","supedot;":"\u2AC4","Superset;":"\u2283","SupersetEqual;":"\u2287","suphsol;":"\u27C9","suphsub;":"\u2AD7","suplarr;":"\u297B","supmult;":"\u2AC2","supnE;":"\u2ACC","supne;":"\u228B","supplus;":"\u2AC0","Supset;":"\u22D1","supset;":"\u2283","supseteq;":"\u2287","supseteqq;":"\u2AC6","supsetneq;":"\u228B","supsetneqq;":"\u2ACC","supsim;":"\u2AC8","supsub;":"\u2AD4","supsup;":"\u2AD6","swarhk;":"\u2926","swArr;":"\u21D9","swarr;":"\u2199","swarrow;":"\u2199","swnwar;":"\u292A","szlig;":"\xDF",szlig:"\xDF","Tab;":"	","target;":"\u2316","Tau;":"\u03A4","tau;":"\u03C4","tbrk;":"\u23B4","Tcaron;":"\u0164","tcaron;":"\u0165","Tcedil;":"\u0162","tcedil;":"\u0163","Tcy;":"\u0422","tcy;":"\u0442","tdot;":"\u20DB","telrec;":"\u2315","Tfr;":"\u{1D517}","tfr;":"\u{1D531}","there4;":"\u2234","Therefore;":"\u2234","therefore;":"\u2234","Theta;":"\u0398","theta;":"\u03B8","thetasym;":"\u03D1","thetav;":"\u03D1","thickapprox;":"\u2248","thicksim;":"\u223C","ThickSpace;":"\u205F\u200A","thinsp;":"\u2009","ThinSpace;":"\u2009","thkap;":"\u2248","thksim;":"\u223C","THORN;":"\xDE",THORN:"\xDE","thorn;":"\xFE",thorn:"\xFE","Tilde;":"\u223C","tilde;":"\u02DC","TildeEqual;":"\u2243","TildeFullEqual;":"\u2245","TildeTilde;":"\u2248","times;":"\xD7",times:"\xD7","timesb;":"\u22A0","timesbar;":"\u2A31","timesd;":"\u2A30","tint;":"\u222D","toea;":"\u2928","top;":"\u22A4","topbot;":"\u2336","topcir;":"\u2AF1","Topf;":"\u{1D54B}","topf;":"\u{1D565}","topfork;":"\u2ADA","tosa;":"\u2929","tprime;":"\u2034","TRADE;":"\u2122","trade;":"\u2122","triangle;":"\u25B5","triangledown;":"\u25BF","triangleleft;":"\u25C3","trianglelefteq;":"\u22B4","triangleq;":"\u225C","triangleright;":"\u25B9","trianglerighteq;":"\u22B5","tridot;":"\u25EC","trie;":"\u225C","triminus;":"\u2A3A","TripleDot;":"\u20DB","triplus;":"\u2A39","trisb;":"\u29CD","tritime;":"\u2A3B","trpezium;":"\u23E2","Tscr;":"\u{1D4AF}","tscr;":"\u{1D4C9}","TScy;":"\u0426","tscy;":"\u0446","TSHcy;":"\u040B","tshcy;":"\u045B","Tstrok;":"\u0166","tstrok;":"\u0167","twixt;":"\u226C","twoheadleftarrow;":"\u219E","twoheadrightarrow;":"\u21A0","Uacute;":"\xDA",Uacute:"\xDA","uacute;":"\xFA",uacute:"\xFA","Uarr;":"\u219F","uArr;":"\u21D1","uarr;":"\u2191","Uarrocir;":"\u2949","Ubrcy;":"\u040E","ubrcy;":"\u045E","Ubreve;":"\u016C","ubreve;":"\u016D","Ucirc;":"\xDB",Ucirc:"\xDB","ucirc;":"\xFB",ucirc:"\xFB","Ucy;":"\u0423","ucy;":"\u0443","udarr;":"\u21C5","Udblac;":"\u0170","udblac;":"\u0171","udhar;":"\u296E","ufisht;":"\u297E","Ufr;":"\u{1D518}","ufr;":"\u{1D532}","Ugrave;":"\xD9",Ugrave:"\xD9","ugrave;":"\xF9",ugrave:"\xF9","uHar;":"\u2963","uharl;":"\u21BF","uharr;":"\u21BE","uhblk;":"\u2580","ulcorn;":"\u231C","ulcorner;":"\u231C","ulcrop;":"\u230F","ultri;":"\u25F8","Umacr;":"\u016A","umacr;":"\u016B","uml;":"\xA8",uml:"\xA8","UnderBar;":"_","UnderBrace;":"\u23DF","UnderBracket;":"\u23B5","UnderParenthesis;":"\u23DD","Union;":"\u22C3","UnionPlus;":"\u228E","Uogon;":"\u0172","uogon;":"\u0173","Uopf;":"\u{1D54C}","uopf;":"\u{1D566}","UpArrow;":"\u2191","Uparrow;":"\u21D1","uparrow;":"\u2191","UpArrowBar;":"\u2912","UpArrowDownArrow;":"\u21C5","UpDownArrow;":"\u2195","Updownarrow;":"\u21D5","updownarrow;":"\u2195","UpEquilibrium;":"\u296E","upharpoonleft;":"\u21BF","upharpoonright;":"\u21BE","uplus;":"\u228E","UpperLeftArrow;":"\u2196","UpperRightArrow;":"\u2197","Upsi;":"\u03D2","upsi;":"\u03C5","upsih;":"\u03D2","Upsilon;":"\u03A5","upsilon;":"\u03C5","UpTee;":"\u22A5","UpTeeArrow;":"\u21A5","upuparrows;":"\u21C8","urcorn;":"\u231D","urcorner;":"\u231D","urcrop;":"\u230E","Uring;":"\u016E","uring;":"\u016F","urtri;":"\u25F9","Uscr;":"\u{1D4B0}","uscr;":"\u{1D4CA}","utdot;":"\u22F0","Utilde;":"\u0168","utilde;":"\u0169","utri;":"\u25B5","utrif;":"\u25B4","uuarr;":"\u21C8","Uuml;":"\xDC",Uuml:"\xDC","uuml;":"\xFC",uuml:"\xFC","uwangle;":"\u29A7","vangrt;":"\u299C","varepsilon;":"\u03F5","varkappa;":"\u03F0","varnothing;":"\u2205","varphi;":"\u03D5","varpi;":"\u03D6","varpropto;":"\u221D","vArr;":"\u21D5","varr;":"\u2195","varrho;":"\u03F1","varsigma;":"\u03C2","varsubsetneq;":"\u228A\uFE00","varsubsetneqq;":"\u2ACB\uFE00","varsupsetneq;":"\u228B\uFE00","varsupsetneqq;":"\u2ACC\uFE00","vartheta;":"\u03D1","vartriangleleft;":"\u22B2","vartriangleright;":"\u22B3","Vbar;":"\u2AEB","vBar;":"\u2AE8","vBarv;":"\u2AE9","Vcy;":"\u0412","vcy;":"\u0432","VDash;":"\u22AB","Vdash;":"\u22A9","vDash;":"\u22A8","vdash;":"\u22A2","Vdashl;":"\u2AE6","Vee;":"\u22C1","vee;":"\u2228","veebar;":"\u22BB","veeeq;":"\u225A","vellip;":"\u22EE","Verbar;":"\u2016","verbar;":"|","Vert;":"\u2016","vert;":"|","VerticalBar;":"\u2223","VerticalLine;":"|","VerticalSeparator;":"\u2758","VerticalTilde;":"\u2240","VeryThinSpace;":"\u200A","Vfr;":"\u{1D519}","vfr;":"\u{1D533}","vltri;":"\u22B2","vnsub;":"\u2282\u20D2","vnsup;":"\u2283\u20D2","Vopf;":"\u{1D54D}","vopf;":"\u{1D567}","vprop;":"\u221D","vrtri;":"\u22B3","Vscr;":"\u{1D4B1}","vscr;":"\u{1D4CB}","vsubnE;":"\u2ACB\uFE00","vsubne;":"\u228A\uFE00","vsupnE;":"\u2ACC\uFE00","vsupne;":"\u228B\uFE00","Vvdash;":"\u22AA","vzigzag;":"\u299A","Wcirc;":"\u0174","wcirc;":"\u0175","wedbar;":"\u2A5F","Wedge;":"\u22C0","wedge;":"\u2227","wedgeq;":"\u2259","weierp;":"\u2118","Wfr;":"\u{1D51A}","wfr;":"\u{1D534}","Wopf;":"\u{1D54E}","wopf;":"\u{1D568}","wp;":"\u2118","wr;":"\u2240","wreath;":"\u2240","Wscr;":"\u{1D4B2}","wscr;":"\u{1D4CC}","xcap;":"\u22C2","xcirc;":"\u25EF","xcup;":"\u22C3","xdtri;":"\u25BD","Xfr;":"\u{1D51B}","xfr;":"\u{1D535}","xhArr;":"\u27FA","xharr;":"\u27F7","Xi;":"\u039E","xi;":"\u03BE","xlArr;":"\u27F8","xlarr;":"\u27F5","xmap;":"\u27FC","xnis;":"\u22FB","xodot;":"\u2A00","Xopf;":"\u{1D54F}","xopf;":"\u{1D569}","xoplus;":"\u2A01","xotime;":"\u2A02","xrArr;":"\u27F9","xrarr;":"\u27F6","Xscr;":"\u{1D4B3}","xscr;":"\u{1D4CD}","xsqcup;":"\u2A06","xuplus;":"\u2A04","xutri;":"\u25B3","xvee;":"\u22C1","xwedge;":"\u22C0","Yacute;":"\xDD",Yacute:"\xDD","yacute;":"\xFD",yacute:"\xFD","YAcy;":"\u042F","yacy;":"\u044F","Ycirc;":"\u0176","ycirc;":"\u0177","Ycy;":"\u042B","ycy;":"\u044B","yen;":"\xA5",yen:"\xA5","Yfr;":"\u{1D51C}","yfr;":"\u{1D536}","YIcy;":"\u0407","yicy;":"\u0457","Yopf;":"\u{1D550}","yopf;":"\u{1D56A}","Yscr;":"\u{1D4B4}","yscr;":"\u{1D4CE}","YUcy;":"\u042E","yucy;":"\u044E","Yuml;":"\u0178","yuml;":"\xFF",yuml:"\xFF","Zacute;":"\u0179","zacute;":"\u017A","Zcaron;":"\u017D","zcaron;":"\u017E","Zcy;":"\u0417","zcy;":"\u0437","Zdot;":"\u017B","zdot;":"\u017C","zeetrf;":"\u2128","ZeroWidthSpace;":"\u200B","Zeta;":"\u0396","zeta;":"\u03B6","Zfr;":"\u2128","zfr;":"\u{1D537}","ZHcy;":"\u0416","zhcy;":"\u0436","zigrarr;":"\u21DD","Zopf;":"\u2124","zopf;":"\u{1D56B}","Zscr;":"\u{1D4B5}","zscr;":"\u{1D4CF}","zwj;":"\u200D","zwnj;":"\u200C"}});function S_(r,e){if(r.length<e.length)return!1;for(let t=0;t<e.length;t++)if(r[t]!==e[t])return!1;return!0}function xHe(r,e){let t=r.length-e.length;return t>0?r.lastIndexOf(e)===t:t===0?r===e:!1}function Rle(r,e){let t="";for(;e>0;)(e&1)===1&&(t+=r),r+=r,e=e>>>1;return t}function ZE(r,e){let t=r.charCodeAt(e);return pNt<=t&&t<=mNt||gNt<=t&&t<=vNt||yNt<=t&&t<=_Nt}var pNt,mNt,gNt,vNt,yNt,_Nt,PI=Ti(()=>{pNt=97,mNt=122,gNt=65,vNt=90,yNt=48,_Nt=57});function xI(r){return typeof r<"u"}var Ple=Ti(()=>{});function OHe(r){if(r)return typeof r=="string"?{kind:"markdown",value:r}:{kind:"markdown",value:r.value}}var IHe=Ti(()=>{});function dC(r,e={},t){let n={kind:t?"markdown":"plaintext",value:""};if(r.description&&e.documentation!==!1){let i=OHe(r.description);i&&(n.value+=i.value)}if(r.references&&r.references.length>0&&e.references!==!1&&(n.value.length&&(n.value+=`

`),t?n.value+=r.references.map(i=>`[${i.name}](${i.url})`).join(" | "):n.value+=r.references.map(i=>`${i.name}: ${i.url}`).join(`
`)),n.value!=="")return n}var OI,JF=Ti(()=>{IHe();OI=class{isApplicable(){return!0}constructor(e,t){this.id=e,this._tags=[],this._tagMap={},this._valueSetMap={},this._tags=t.tags||[],this._globalAttributes=t.globalAttributes||[],this._tags.forEach(n=>{this._tagMap[n.name.toLowerCase()]=n}),t.valueSets&&t.valueSets.forEach(n=>{this._valueSetMap[n.name]=n.values})}getId(){return this.id}provideTags(){return this._tags}provideAttributes(e){let t=[],n=o=>{t.push(o)},i=this._tagMap[e.toLowerCase()];return i&&i.attributes.forEach(n),this._globalAttributes.forEach(n),t}provideValues(e,t){let n=[];t=t.toLowerCase();let i=s=>{s.forEach(a=>{a.name.toLowerCase()===t&&(a.values&&a.values.forEach(c=>{n.push(c)}),a.valueSet&&this._valueSetMap[a.valueSet]&&this._valueSetMap[a.valueSet].forEach(c=>{n.push(c)}))})},o=this._tagMap[e.toLowerCase()];return o&&i(o.attributes),i(this._globalAttributes),n}}});function SNt(r){return S_(r,"'")||S_(r,'"')?r.slice(1,-1):r}function CNt(r){return!(S_(r,"http")||S_(r,"https")||S_(r,"//"))}function TNt(r,e,t){let n,i=r.lastIndexOf("/");if(i===-1)n=ENt(t,1,-1);else{let o=e.slice(i+1),s=XF(t.end,-1-o.length),a=o.indexOf(" "),c;a!==-1?c=XF(s,a):c=XF(t.end,-1),n=Pi.create(s,c)}return n}function DNt(r,e,t){return e?(r=r+"/",{label:r,kind:Od.Folder,textEdit:_u.replace(t,r),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}):{label:r,kind:Od.File,textEdit:_u.replace(t,r)}}function XF(r,e){return ec.create(r.line,r.character+e)}function ENt(r,e,t){let n=XF(r.start,e),i=XF(r.end,t);return Pi.create(n,i)}var S4,wNt,kHe=Ti(()=>{Lm();PI();S4=class{constructor(e,t){this.dataManager=e,this.readDirectory=t,this.atributeCompletions=[]}onHtmlAttributeValue(e){this.dataManager.isPathAttribute(e.tag,e.attribute)&&this.atributeCompletions.push(e)}async computeCompletions(e,t){let n={items:[],isIncomplete:!1};for(let i of this.atributeCompletions){let o=SNt(e.getText(i.range));if(CNt(o))if(o==="."||o==="..")n.isIncomplete=!0;else{let s=TNt(i.value,o,i.range),a=await this.providePathSuggestions(i.value,s,e,t);for(let c of a)n.items.push(c)}}return n}async providePathSuggestions(e,t,n,i){let o=e.substring(0,e.lastIndexOf("/")+1),s=i.resolveReference(o||".",n.uri);if(s)try{let a=[],c=await this.readDirectory(s);for(let[u,l]of c)u.charCodeAt(0)!==wNt&&a.push(DNt(u,l===YF.Directory,t));return a}catch{}return[]}},wNt=46});function RNt(r){return/^["']*$/.test(r)}function T4(r){return/^\s*$/.test(r)}function AHe(r,e,t,n){let i=$u(r,e,t),o=i.scan();for(;o===Xt.Whitespace;)o=i.scan();return o===n}function PNt(r,e,t){for(;e>t&&!T4(r[e-1]);)e--;return e}function xNt(r,e,t){for(;e<t&&!T4(r[e]);)e++;return e}var LHe,C4,MHe=Ti(()=>{lC();Lm();Ele();LHe=ye(t4());PI();Ple();JF();kHe();C4=class{constructor(e,t){this.lsOptions=e,this.dataManager=t,this.completionParticipants=[]}setCompletionParticipants(e){this.completionParticipants=e||[]}async doComplete2(e,t,n,i,o){if(!this.lsOptions.fileSystemProvider||!this.lsOptions.fileSystemProvider.readDirectory)return this.doComplete(e,t,n,o);let s=new S4(this.dataManager,this.lsOptions.fileSystemProvider.readDirectory),a=this.completionParticipants;this.completionParticipants=[s].concat(a);let c=this.doComplete(e,t,n,o);try{let u=await s.computeCompletions(e,i);return{isIncomplete:c.isIncomplete||u.isIncomplete,items:u.items.concat(c.items)}}finally{this.completionParticipants=a}}doComplete(e,t,n,i){let o=this._doComplete(e,t,n,i);return this.convertCompletionList(o)}_doComplete(e,t,n,i){let o={isIncomplete:!1,items:[]},s=this.completionParticipants,a=this.dataManager.getDataProviders().filter(ce=>ce.isApplicable(e.languageId)&&(!i||i[ce.getId()]!==!1)),c=this.doesSupportMarkdown(),u=e.getText(),l=e.offsetAt(t),d=n.findNodeBefore(l);if(!d)return o;let f=$u(u,d.start),p="",_,D;function P(ce,Ce=l){return ce>l&&(ce=l),{start:e.positionAt(ce),end:e.positionAt(Ce)}}function M(ce,Ce){let be=P(ce,Ce);return a.forEach(xe=>{xe.provideTags().forEach(Ne=>{o.items.push({label:Ne.name,kind:Od.Property,documentation:dC(Ne,void 0,c),textEdit:_u.replace(be,Ne.name),insertTextFormat:Am.PlainText})})}),o}function A(ce){let Ce=ce;for(;Ce>0;){let be=u.charAt(Ce-1);if(`
\r`.indexOf(be)>=0)return u.substring(Ce,ce);if(!T4(be))return null;Ce--}return u.substring(0,ce)}function U(ce,Ce,be=l){let xe=P(ce,be),Ne=AHe(u,be,Yn.WithinEndTag,Xt.EndTagClose)?"":">",$e=d;for(Ce&&($e=$e.parent);$e;){let Ct=$e.tag;if(Ct&&(!$e.closed||$e.endTagStart&&$e.endTagStart>l)){let ze={label:"/"+Ct,kind:Od.Property,filterText:"/"+Ct,textEdit:_u.replace(xe,"/"+Ct+Ne),insertTextFormat:Am.PlainText},st=A($e.start),at=A(ce-1);if(st!==null&&at!==null&&st!==at){let tt=st+"</"+Ct+Ne;ze.textEdit=_u.replace(P(ce-1-at.length),tt),ze.filterText=at+"</"+Ct}return o.items.push(ze),o}$e=$e.parent}return Ce||a.forEach(Ct=>{Ct.provideTags().forEach(ze=>{o.items.push({label:"/"+ze.name,kind:Od.Property,documentation:dC(ze,void 0,c),filterText:"/"+ze.name+Ne,textEdit:_u.replace(xe,"/"+ze.name+Ne),insertTextFormat:Am.PlainText})})}),o}let ne=(ce,Ce)=>{if(i&&i.hideAutoCompleteProposals)return o;if(D??(D=this.dataManager.getVoidElements(a)),!this.dataManager.isVoidElement(Ce,D)){let be=e.positionAt(ce);o.items.push({label:"</"+Ce+">",kind:Od.Property,filterText:"</"+Ce+">",textEdit:_u.insert(be,"$0</"+Ce+">"),insertTextFormat:Am.Snippet})}return o};function pe(ce,Ce){return M(ce,Ce),U(ce,!0,Ce),o}function ve(){let ce=Object.create(null);return d.attributeNames.forEach(Ce=>{ce[Ce]=!0}),ce}function V(ce,Ce=l){let be=l;for(;be<Ce&&u[be]!=="<";)be++;let xe=u.substring(ce,Ce),Ne=P(ce,be),$e="";if(!AHe(u,Ce,Yn.AfterAttributeName,Xt.DelimiterAssign)){let ze=i?.attributeDefaultValue??"doublequotes";ze==="empty"?$e="=$1":ze==="singlequotes"?$e="='$1'":$e='="$1"'}let Ct=ve();return Ct[xe]=!1,a.forEach(ze=>{ze.provideAttributes(p).forEach(st=>{if(Ct[st.name])return;Ct[st.name]=!0;let at=st.name,tt;st.valueSet!=="v"&&$e.length&&(at=at+$e,(st.valueSet||st.name==="style")&&(tt={title:"Suggest",command:"editor.action.triggerSuggest"})),o.items.push({label:st.name,kind:st.valueSet==="handler"?Od.Function:Od.Value,documentation:dC(st,void 0,c),textEdit:_u.replace(Ne,at),insertTextFormat:Am.Snippet,command:tt})})}),W(Ne,Ct),o}function W(ce,Ce){let be="data-",xe={};xe[be]=`${be}$1="$2"`;function Ne($e){$e.attributeNames.forEach(Ct=>{S_(Ct,be)&&!xe[Ct]&&!Ce[Ct]&&(xe[Ct]=Ct+'="$1"')}),$e.children.forEach(Ct=>Ne(Ct))}n&&n.roots.forEach($e=>Ne($e)),Object.keys(xe).forEach($e=>o.items.push({label:$e,kind:Od.Value,textEdit:_u.replace(ce,xe[$e]),insertTextFormat:Am.Snippet}))}function ee(ce,Ce=l){let be,xe,Ne;if(l>ce&&l<=Ce&&RNt(u[ce])){let $e=ce+1,Ct=Ce;Ce>ce&&u[Ce-1]===u[ce]&&Ct--;let ze=PNt(u,l,$e),st=xNt(u,l,Ct);be=P(ze,st),Ne=l>=$e&&l<=Ct?u.substring($e,l):"",xe=!1}else be=P(ce,Ce),Ne=u.substring(ce,l),xe=!0;if(s.length>0){let $e=p.toLowerCase(),Ct=_.toLowerCase(),ze=P(ce,Ce);for(let st of s)st.onHtmlAttributeValue&&st.onHtmlAttributeValue({document:e,position:t,tag:$e,attribute:Ct,value:Ne,range:ze})}return a.forEach($e=>{$e.provideValues(p,_).forEach(Ct=>{let ze=xe?'"'+Ct.name+'"':Ct.name;o.items.push({label:Ct.name,filterText:ze,kind:Od.Unit,documentation:dC(Ct,void 0,c),textEdit:_u.replace(be,ze),insertTextFormat:Am.PlainText})})}),ue(),o}function De(ce){return l===f.getTokenEnd()&&(Me=f.scan(),Me===ce&&f.getTokenOffset()===l)?f.getTokenEnd():l}function ae(){for(let ce of s)ce.onHtmlContent&&ce.onHtmlContent({document:e,position:t});return ue()}function ue(){let ce=l-1,Ce=t.character;for(;ce>=0&&ZE(u,ce);)ce--,Ce--;if(ce>=0&&u[ce]==="&"){let be=Pi.create(ec.create(t.line,Ce-1),t);for(let xe in QE)if(xHe(xe,";")){let Ne="&"+xe;o.items.push({label:Ne,kind:Od.Keyword,documentation:LHe.t("Character entity representing '{0}'",QE[xe]),textEdit:_u.replace(be,Ne),insertTextFormat:Am.PlainText})}}return o}function Fe(ce,Ce){let be=P(ce,Ce);o.items.push({label:"!DOCTYPE",kind:Od.Property,documentation:"A preamble for an HTML document.",textEdit:_u.replace(be,"!DOCTYPE html>"),insertTextFormat:Am.PlainText})}let Me=f.scan();for(;Me!==Xt.EOS&&f.getTokenOffset()<=l;){switch(Me){case Xt.StartTagOpen:if(f.getTokenEnd()===l){let ce=De(Xt.StartTag);return t.line===0&&Fe(l,ce),pe(l,ce)}break;case Xt.StartTag:if(f.getTokenOffset()<=l&&l<=f.getTokenEnd())return M(f.getTokenOffset(),f.getTokenEnd());p=f.getTokenText();break;case Xt.AttributeName:if(f.getTokenOffset()<=l&&l<=f.getTokenEnd())return V(f.getTokenOffset(),f.getTokenEnd());_=f.getTokenText();break;case Xt.DelimiterAssign:if(f.getTokenEnd()===l){let ce=De(Xt.AttributeValue);return ee(l,ce)}break;case Xt.AttributeValue:if(f.getTokenOffset()<=l&&l<=f.getTokenEnd())return ee(f.getTokenOffset(),f.getTokenEnd());break;case Xt.Whitespace:if(l<=f.getTokenEnd())switch(f.getScannerState()){case Yn.AfterOpeningStartTag:let ce=f.getTokenOffset(),Ce=De(Xt.StartTag);return pe(ce,Ce);case Yn.WithinTag:case Yn.AfterAttributeName:return V(f.getTokenEnd());case Yn.BeforeAttributeValue:return ee(f.getTokenEnd());case Yn.AfterOpeningEndTag:return U(f.getTokenOffset()-1,!1);case Yn.WithinContent:return ae()}break;case Xt.EndTagOpen:if(l<=f.getTokenEnd()){let ce=f.getTokenOffset()+1,Ce=De(Xt.EndTag);return U(ce,!1,Ce)}break;case Xt.EndTag:if(l<=f.getTokenEnd()){let ce=f.getTokenOffset()-1;for(;ce>=0;){let Ce=u.charAt(ce);if(Ce==="/")return U(ce,!1,f.getTokenEnd());if(!T4(Ce))break;ce--}}break;case Xt.StartTagClose:if(l<=f.getTokenEnd()&&p)return ne(f.getTokenEnd(),p);break;case Xt.Content:if(l<=f.getTokenEnd())return ae();break;default:if(l<=f.getTokenEnd())return o;break}Me=f.scan()}return o}doQuoteComplete(e,t,n,i){let o=e.offsetAt(t);if(o<=0)return null;let s=i?.attributeDefaultValue??"doublequotes";if(s==="empty"||e.getText().charAt(o-1)!=="=")return null;let c=s==="doublequotes"?'"$1"':"'$1'",u=n.findNodeBefore(o);if(u&&u.attributes&&u.start<o&&(!u.endTagStart||u.endTagStart>o)){let l=$u(e.getText(),u.start),d=l.scan();for(;d!==Xt.EOS&&l.getTokenEnd()<=o;){if(d===Xt.AttributeName&&l.getTokenEnd()===o-1)return d=l.scan(),d!==Xt.DelimiterAssign||(d=l.scan(),d===Xt.Unknown||d===Xt.AttributeValue)?null:c;d=l.scan()}}return null}doTagComplete(e,t,n){let i=e.offsetAt(t);if(i<=0)return null;let o=e.getText().charAt(i-1);if(o===">"){let s=n.findNodeBefore(i);if(s&&s.tag&&s.start<i&&(!s.endTagStart||s.endTagStart>i)){let a=this.dataManager.getVoidElements(e.languageId);if(!this.dataManager.isVoidElement(s.tag,a)){let c=$u(e.getText(),s.start),u=c.scan();for(;u!==Xt.EOS&&c.getTokenEnd()<=i;){if(u===Xt.StartTagClose&&c.getTokenEnd()===i)return`$0</${s.tag}>`;u=c.scan()}}}}else if(o==="/"){let s=n.findNodeBefore(i);for(;s&&s.closed&&!(s.endTagStart&&s.endTagStart>i);)s=s.parent;if(s&&s.tag){let a=$u(e.getText(),s.start),c=a.scan();for(;c!==Xt.EOS&&a.getTokenEnd()<=i;){if(c===Xt.EndTagOpen&&a.getTokenEnd()===i)return e.getText().charAt(i)!==">"?`${s.tag}>`:s.tag;c=a.scan()}}}return null}convertCompletionList(e){return this.doesSupportMarkdown()||e.items.forEach(t=>{t.documentation&&typeof t.documentation!="string"&&(t.documentation={kind:"plaintext",value:t.documentation.value})}),e}doesSupportMarkdown(){if(!xI(this.supportsMarkdown)){if(!xI(this.lsOptions.clientCapabilities))return this.supportsMarkdown=!0,this.supportsMarkdown;let e=this.lsOptions.clientCapabilities.textDocument?.completion?.completionItem?.documentationFormat;this.supportsMarkdown=Array.isArray(e)&&e.indexOf(jg.Markdown)!==-1}return this.supportsMarkdown}}});function ONt(r){return r.length<=1?r.replace(/['"]/,""):((r[0]==="'"||r[0]==='"')&&(r=r.slice(1)),(r[r.length-1]==="'"||r[r.length-1]==='"')&&(r=r.slice(0,-1)),r)}var NHe,D4,FHe=Ti(()=>{lC();Lm();Ple();JF();Ele();PI();NHe=ye(t4()),D4=class{constructor(e,t){this.lsOptions=e,this.dataManager=t}doHover(e,t,n,i){let o=this.convertContents.bind(this),s=this.doesSupportMarkdown(),a=e.offsetAt(t),c=n.findNodeAt(a),u=e.getText();if(!c||!c.tag)return null;let l=this.dataManager.getDataProviders().filter(V=>V.isApplicable(e.languageId));function d(V,W,ee){for(let De of l){let ae=null;if(De.provideTags().forEach(ue=>{if(ue.name.toLowerCase()===V.toLowerCase()){let Fe=dC(ue,i,s);Fe||(Fe={kind:s?"markdown":"plaintext",value:""}),ae={contents:Fe,range:W}}}),ae)return ae.contents=o(ae.contents),ae}return null}function f(V,W,ee){for(let De of l){let ae=null;if(De.provideAttributes(V).forEach(ue=>{if(W===ue.name&&ue.description){let Fe=dC(ue,i,s);Fe?ae={contents:Fe,range:ee}:ae=null}}),ae)return ae.contents=o(ae.contents),ae}return null}function p(V,W,ee,De){for(let ae of l){let ue=null;if(ae.provideValues(V,W).forEach(Fe=>{if(ee===Fe.name&&Fe.description){let Me=dC(Fe,i,s);Me?ue={contents:Me,range:De}:ue=null}}),ue)return ue.contents=o(ue.contents),ue}return null}function _(V,W){let ee=M(V);for(let De in QE){let ae=null,ue="&"+De;if(ee===ue){let Fe=QE[De].charCodeAt(0).toString(16).toUpperCase(),Me="U+";if(Fe.length<4){let Ce=4-Fe.length,be=0;for(;be<Ce;)Me+="0",be+=1}Me+=Fe;let ce=NHe.t("Character entity representing '{0}', unicode equivalent '{1}'",QE[De],Me);ce?ae={contents:ce,range:W}:ae=null}if(ae)return ae.contents=o(ae.contents),ae}return null}function D(V,W){let ee=$u(e.getText(),W),De=ee.scan();for(;De!==Xt.EOS&&(ee.getTokenEnd()<a||ee.getTokenEnd()===a&&De!==V);)De=ee.scan();return De===V&&a<=ee.getTokenEnd()?{start:e.positionAt(ee.getTokenOffset()),end:e.positionAt(ee.getTokenEnd())}:null}function P(){let V=a-1,W=t.character;for(;V>=0&&ZE(u,V);)V--,W--;let ee=V+1,De=W;for(;ZE(u,ee);)ee++,De++;if(V>=0&&u[V]==="&"){let ae=null;return u[ee]===";"?ae=Pi.create(ec.create(t.line,W),ec.create(t.line,De+1)):ae=Pi.create(ec.create(t.line,W),ec.create(t.line,De)),ae}return null}function M(V){let W=a-1,ee="&";for(;W>=0&&ZE(V,W);)W--;for(W=W+1;ZE(V,W);)ee+=V[W],W+=1;return ee+=";",ee}if(c.endTagStart&&a>=c.endTagStart){let V=D(Xt.EndTag,c.endTagStart);return V?d(c.tag,V,!1):null}let A=D(Xt.StartTag,c.start);if(A)return d(c.tag,A,!0);let U=D(Xt.AttributeName,c.start);if(U){let V=c.tag,W=e.getText(U);return f(V,W,U)}let ne=P();if(ne)return _(u,ne);function pe(V,W){let ee=$u(e.getText(),V),De=ee.scan(),ae;for(;De!==Xt.EOS&&ee.getTokenEnd()<=W;)De=ee.scan(),De===Xt.AttributeName&&(ae=ee.getTokenText());return ae}let ve=D(Xt.AttributeValue,c.start);if(ve){let V=c.tag,W=ONt(e.getText(ve)),ee=pe(c.start,e.offsetAt(ve.start));if(ee)return p(V,ee,W,ve)}return null}convertContents(e){if(!this.doesSupportMarkdown()){if(typeof e=="string")return e;if("kind"in e)return{kind:"plaintext",value:e.value};if(Array.isArray(e))e.map(t=>typeof t=="string"?t:t.value);else return e.value}return e}doesSupportMarkdown(){if(!xI(this.supportsMarkdown)){if(!xI(this.lsOptions.clientCapabilities))return this.supportsMarkdown=!0,this.supportsMarkdown;let e=this.lsOptions.clientCapabilities?.textDocument?.hover?.contentFormat;this.supportsMarkdown=Array.isArray(e)&&e.indexOf(jg.Markdown)!==-1}return this.supportsMarkdown}}});function qHe(r,e){return r}var jHe=Ti(()=>{});var zHe,UHe,HHe=Ti(()=>{(function(){"use strict";var r=[,,function(i){function o(c){this.__parent=c,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}o.prototype.clone_empty=function(){var c=new o(this.__parent);return c.set_indent(this.__indent_count,this.__alignment_count),c},o.prototype.item=function(c){return c<0?this.__items[this.__items.length+c]:this.__items[c]},o.prototype.has_match=function(c){for(var u=this.__items.length-1;u>=0;u--)if(this.__items[u].match(c))return!0;return!1},o.prototype.set_indent=function(c,u){this.is_empty()&&(this.__indent_count=c||0,this.__alignment_count=u||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},o.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},o.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},o.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var c=this.__parent.current_line;return c.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),c.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),c.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,c.__items[0]===" "&&(c.__items.splice(0,1),c.__character_count-=1),!0}return!1},o.prototype.is_empty=function(){return this.__items.length===0},o.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},o.prototype.push=function(c){this.__items.push(c);var u=c.lastIndexOf(`
`);u!==-1?this.__character_count=c.length-u:this.__character_count+=c.length},o.prototype.pop=function(){var c=null;return this.is_empty()||(c=this.__items.pop(),this.__character_count-=c.length),c},o.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},o.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},o.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),this.__character_count-=1},o.prototype.toString=function(){var c="";return this.is_empty()?this.__parent.indent_empty_lines&&(c=this.__parent.get_indent_string(this.__indent_count)):(c=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),c+=this.__items.join("")),c};function s(c,u){this.__cache=[""],this.__indent_size=c.indent_size,this.__indent_string=c.indent_char,c.indent_with_tabs||(this.__indent_string=new Array(c.indent_size+1).join(c.indent_char)),u=u||"",c.indent_level>0&&(u=new Array(c.indent_level+1).join(this.__indent_string)),this.__base_string=u,this.__base_string_length=u.length}s.prototype.get_indent_size=function(c,u){var l=this.__base_string_length;return u=u||0,c<0&&(l=0),l+=c*this.__indent_size,l+=u,l},s.prototype.get_indent_string=function(c,u){var l=this.__base_string;return u=u||0,c<0&&(c=0,l=""),u+=c*this.__indent_size,this.__ensure_cache(u),l+=this.__cache[u],l},s.prototype.__ensure_cache=function(c){for(;c>=this.__cache.length;)this.__add_column()},s.prototype.__add_column=function(){var c=this.__cache.length,u=0,l="";this.__indent_size&&c>=this.__indent_size&&(u=Math.floor(c/this.__indent_size),c-=u*this.__indent_size,l=new Array(u+1).join(this.__indent_string)),c&&(l+=new Array(c+1).join(" ")),this.__cache.push(l)};function a(c,u){this.__indent_cache=new s(c,u),this.raw=!1,this._end_with_newline=c.end_with_newline,this.indent_size=c.indent_size,this.wrap_line_length=c.wrap_line_length,this.indent_empty_lines=c.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new o(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}a.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},a.prototype.get_line_number=function(){return this.__lines.length},a.prototype.get_indent_string=function(c,u){return this.__indent_cache.get_indent_string(c,u)},a.prototype.get_indent_size=function(c,u){return this.__indent_cache.get_indent_size(c,u)},a.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},a.prototype.add_new_line=function(c){return this.is_empty()||!c&&this.just_added_newline()?!1:(this.raw||this.__add_outputline(),!0)},a.prototype.get_code=function(c){this.trim(!0);var u=this.current_line.pop();u&&(u[u.length-1]===`
`&&(u=u.replace(/\n+$/g,"")),this.current_line.push(u)),this._end_with_newline&&this.__add_outputline();var l=this.__lines.join(`
`);return c!==`
`&&(l=l.replace(/[\n]/g,c)),l},a.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},a.prototype.set_indent=function(c,u){return c=c||0,u=u||0,this.next_line.set_indent(c,u),this.__lines.length>1?(this.current_line.set_indent(c,u),!0):(this.current_line.set_indent(),!1)},a.prototype.add_raw_token=function(c){for(var u=0;u<c.newlines;u++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(c.whitespace_before),this.current_line.push(c.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},a.prototype.add_token=function(c){this.__add_space_before_token(),this.current_line.push(c),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},a.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},a.prototype.remove_indent=function(c){for(var u=this.__lines.length;c<u;)this.__lines[c]._remove_indent(),c++;this.current_line._remove_wrap_indent()},a.prototype.trim=function(c){for(c=c===void 0?!1:c,this.current_line.trim();c&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},a.prototype.just_added_newline=function(){return this.current_line.is_empty()},a.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},a.prototype.ensure_empty_line_above=function(c,u){for(var l=this.__lines.length-2;l>=0;){var d=this.__lines[l];if(d.is_empty())break;if(d.item(0).indexOf(c)!==0&&d.item(-1)!==u){this.__lines.splice(l+1,0,new o(this)),this.previous_line=this.__lines[this.__lines.length-2];break}l--}},i.exports.Output=a},,,,function(i){function o(c,u){this.raw_options=s(c,u),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","angular","django","erb","handlebars","php","smarty"],["auto"])}o.prototype._get_array=function(c,u){var l=this.raw_options[c],d=u||[];return typeof l=="object"?l!==null&&typeof l.concat=="function"&&(d=l.concat()):typeof l=="string"&&(d=l.split(/[^a-zA-Z0-9_\/\-]+/)),d},o.prototype._get_boolean=function(c,u){var l=this.raw_options[c],d=l===void 0?!!u:!!l;return d},o.prototype._get_characters=function(c,u){var l=this.raw_options[c],d=u||"";return typeof l=="string"&&(d=l.replace(/\\r/,"\r").replace(/\\n/,`
`).replace(/\\t/,"	")),d},o.prototype._get_number=function(c,u){var l=this.raw_options[c];u=parseInt(u,10),isNaN(u)&&(u=0);var d=parseInt(l,10);return isNaN(d)&&(d=u),d},o.prototype._get_selection=function(c,u,l){var d=this._get_selection_list(c,u,l);if(d.length!==1)throw new Error("Invalid Option Value: The option '"+c+`' can only be one of the following values:
`+u+`
You passed in: '`+this.raw_options[c]+"'");return d[0]},o.prototype._get_selection_list=function(c,u,l){if(!u||u.length===0)throw new Error("Selection list cannot be empty.");if(l=l||[u[0]],!this._is_valid_selection(l,u))throw new Error("Invalid Default Value!");var d=this._get_array(c,l);if(!this._is_valid_selection(d,u))throw new Error("Invalid Option Value: The option '"+c+`' can contain only the following values:
`+u+`
You passed in: '`+this.raw_options[c]+"'");return d},o.prototype._is_valid_selection=function(c,u){return c.length&&u.length&&!c.some(function(l){return u.indexOf(l)===-1})};function s(c,u){var l={};c=a(c);var d;for(d in c)d!==u&&(l[d]=c[d]);if(u&&c[u])for(d in c[u])l[d]=c[u][d];return l}function a(c){var u={},l;for(l in c){var d=l.replace(/-/g,"_");u[d]=c[l]}return u}i.exports.Options=o,i.exports.normalizeOpts=a,i.exports.mergeOpts=s},,function(i){var o=RegExp.prototype.hasOwnProperty("sticky");function s(a){this.__input=a||"",this.__input_length=this.__input.length,this.__position=0}s.prototype.restart=function(){this.__position=0},s.prototype.back=function(){this.__position>0&&(this.__position-=1)},s.prototype.hasNext=function(){return this.__position<this.__input_length},s.prototype.next=function(){var a=null;return this.hasNext()&&(a=this.__input.charAt(this.__position),this.__position+=1),a},s.prototype.peek=function(a){var c=null;return a=a||0,a+=this.__position,a>=0&&a<this.__input_length&&(c=this.__input.charAt(a)),c},s.prototype.__match=function(a,c){a.lastIndex=c;var u=a.exec(this.__input);return u&&!(o&&a.sticky)&&u.index!==c&&(u=null),u},s.prototype.test=function(a,c){return c=c||0,c+=this.__position,c>=0&&c<this.__input_length?!!this.__match(a,c):!1},s.prototype.testChar=function(a,c){var u=this.peek(c);return a.lastIndex=0,u!==null&&a.test(u)},s.prototype.match=function(a){var c=this.__match(a,this.__position);return c?this.__position+=c[0].length:c=null,c},s.prototype.read=function(a,c,u){var l="",d;return a&&(d=this.match(a),d&&(l+=d[0])),c&&(d||!a)&&(l+=this.readUntil(c,u)),l},s.prototype.readUntil=function(a,c){var u="",l=this.__position;a.lastIndex=this.__position;var d=a.exec(this.__input);return d?(l=d.index,c&&(l+=d[0].length)):l=this.__input_length,u=this.__input.substring(this.__position,l),this.__position=l,u},s.prototype.readUntilAfter=function(a){return this.readUntil(a,!0)},s.prototype.get_regexp=function(a,c){var u=null,l="g";return c&&o&&(l="y"),typeof a=="string"&&a!==""?u=new RegExp(a,l):a&&(u=new RegExp(a.source,l)),u},s.prototype.get_literal_regexp=function(a){return RegExp(a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},s.prototype.peekUntilAfter=function(a){var c=this.__position,u=this.readUntilAfter(a);return this.__position=c,u},s.prototype.lookBack=function(a){var c=this.__position-1;return c>=a.length&&this.__input.substring(c-a.length,c).toLowerCase()===a},i.exports.InputScanner=s},,,,,function(i){function o(s,a){s=typeof s=="string"?s:s.source,a=typeof a=="string"?a:a.source,this.__directives_block_pattern=new RegExp(s+/ beautify( \w+[:]\w+)+ /.source+a,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(s+/\sbeautify\signore:end\s/.source+a,"g")}o.prototype.get_directives=function(s){if(!s.match(this.__directives_block_pattern))return null;var a={};this.__directive_pattern.lastIndex=0;for(var c=this.__directive_pattern.exec(s);c;)a[c[1]]=c[2],c=this.__directive_pattern.exec(s);return a},o.prototype.readIgnored=function(s){return s.readUntilAfter(this.__directives_end_ignore_pattern)},i.exports.Directives=o},,function(i,o,s){var a=s(16).Beautifier,c=s(17).Options;function u(l,d){var f=new a(l,d);return f.beautify()}i.exports=u,i.exports.defaultOptions=function(){return new c}},function(i,o,s){var a=s(17).Options,c=s(2).Output,u=s(8).InputScanner,l=s(13).Directives,d=new l(/\/\*/,/\*\//),f=/\r\n|[\r\n]/,p=/\r\n|[\r\n]/g,_=/\s/,D=/(?:\s|\n)+/g,P=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,M=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function A(U,ne){this._source_text=U||"",this._options=new a(ne),this._ch=null,this._input=null,this.NESTED_AT_RULE={page:!0,"font-face":!0,keyframes:!0,media:!0,supports:!0,document:!0},this.CONDITIONAL_GROUP_RULE={media:!0,supports:!0,document:!0},this.NON_SEMICOLON_NEWLINE_PROPERTY=["grid-template-areas","grid-template"]}A.prototype.eatString=function(U){var ne="";for(this._ch=this._input.next();this._ch;){if(ne+=this._ch,this._ch==="\\")ne+=this._input.next();else if(U.indexOf(this._ch)!==-1||this._ch===`
`)break;this._ch=this._input.next()}return ne},A.prototype.eatWhitespace=function(U){for(var ne=_.test(this._input.peek()),pe=0;_.test(this._input.peek());)this._ch=this._input.next(),U&&this._ch===`
`&&(pe===0||pe<this._options.max_preserve_newlines)&&(pe++,this._output.add_new_line(!0));return ne},A.prototype.foundNestedPseudoClass=function(){for(var U=0,ne=1,pe=this._input.peek(ne);pe;){if(pe==="{")return!0;if(pe==="(")U+=1;else if(pe===")"){if(U===0)return!1;U-=1}else if(pe===";"||pe==="}")return!1;ne++,pe=this._input.peek(ne)}return!1},A.prototype.print_string=function(U){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(U)},A.prototype.preserveSingleSpace=function(U){U&&(this._output.space_before_token=!0)},A.prototype.indent=function(){this._indentLevel++},A.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--},A.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var U=this._source_text,ne=this._options.eol;ne==="auto"&&(ne=`
`,U&&f.test(U||"")&&(ne=U.match(f)[0])),U=U.replace(p,`
`);var pe=U.match(/^[\t ]*/)[0];this._output=new c(this._options,pe),this._input=new u(U),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var ve=0,V=!1,W=!1,ee=!1,De=!1,ae=!1,ue=this._ch,Fe=!1,Me,ce,Ce;Me=this._input.read(D),ce=Me!=="",Ce=ue,this._ch=this._input.next(),this._ch==="\\"&&this._input.hasNext()&&(this._ch+=this._input.next()),ue=this._ch,this._ch;)if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line(),this._input.back();var be=this._input.read(P),xe=d.get_directives(be);xe&&xe.ignore==="start"&&(be+=d.readIgnored(this._input)),this.print_string(be),this.eatWhitespace(!0),this._output.add_new_line()}else if(this._ch==="/"&&this._input.peek()==="/")this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(M)),this.eatWhitespace(!0);else if(this._ch==="$"){this.preserveSingleSpace(ce),this.print_string(this._ch);var Ne=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);Ne.match(/[ :]$/)&&(Ne=this.eatString(": ").replace(/\s+$/,""),this.print_string(Ne),this._output.space_before_token=!0),ve===0&&Ne.indexOf(":")!==-1&&(W=!0,this.indent())}else if(this._ch==="@")if(this.preserveSingleSpace(ce),this._input.peek()==="{")this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var $e=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);$e.match(/[ :]$/)&&($e=this.eatString(": ").replace(/\s+$/,""),this.print_string($e),this._output.space_before_token=!0),ve===0&&$e.indexOf(":")!==-1?(W=!0,this.indent()):$e in this.NESTED_AT_RULE?(this._nestedLevel+=1,$e in this.CONDITIONAL_GROUP_RULE&&(ee=!0)):ve===0&&!W&&(De=!0)}else if(this._ch==="#"&&this._input.peek()==="{")this.preserveSingleSpace(ce),this.print_string(this._ch+this.eatString("}"));else if(this._ch==="{")W&&(W=!1,this.outdent()),De=!1,ee?(ee=!1,V=this._indentLevel>=this._nestedLevel):V=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&V&&this._output.previous_line&&this._output.previous_line.item(-1)!=="{"&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,this._options.brace_style==="expand"?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(Ce==="("?this._output.space_before_token=!1:Ce!==","&&this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line();else if(this._ch==="}")this.outdent(),this._output.add_new_line(),Ce==="{"&&this._output.trim(!0),W&&(this.outdent(),W=!1),this.print_string(this._ch),V=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&this._input.peek()!=="}"&&this._output.add_new_line(!0),this._input.peek()===")"&&(this._output.trim(!0),this._options.brace_style==="expand"&&this._output.add_new_line(!0));else if(this._ch===":"){for(var Ct=0;Ct<this.NON_SEMICOLON_NEWLINE_PROPERTY.length;Ct++)if(this._input.lookBack(this.NON_SEMICOLON_NEWLINE_PROPERTY[Ct])){Fe=!0;break}(V||ee)&&!(this._input.lookBack("&")||this.foundNestedPseudoClass())&&!this._input.lookBack("(")&&!De&&ve===0?(this.print_string(":"),W||(W=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):(this._input.lookBack(" ")&&(this._output.space_before_token=!0),this._input.peek()===":"?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":"))}else if(this._ch==='"'||this._ch==="'"){var ze=Ce==='"'||Ce==="'";this.preserveSingleSpace(ze||ce),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)}else if(this._ch===";")Fe=!1,ve===0?(W&&(this.outdent(),W=!1),De=!1,this.print_string(this._ch),this.eatWhitespace(!0),this._input.peek()!=="/"&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0);else if(this._ch==="(")if(this._input.lookBack("url"))this.print_string(this._ch),this.eatWhitespace(),ve++,this.indent(),this._ch=this._input.next(),this._ch===")"||this._ch==='"'||this._ch==="'"?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),ve&&(ve--,this.outdent()));else{var st=!1;this._input.lookBack("with")&&(st=!0),this.preserveSingleSpace(ce||st),this.print_string(this._ch),W&&Ce==="$"&&this._options.selector_separator_newline?(this._output.add_new_line(),ae=!0):(this.eatWhitespace(),ve++,this.indent())}else if(this._ch===")")ve&&(ve--,this.outdent()),ae&&this._input.peek()===";"&&this._options.selector_separator_newline&&(ae=!1,this.outdent(),this._output.add_new_line()),this.print_string(this._ch);else if(this._ch===",")this.print_string(this._ch),this.eatWhitespace(!0),this._options.selector_separator_newline&&(!W||ae)&&ve===0&&!De?this._output.add_new_line():this._output.space_before_token=!0;else if((this._ch===">"||this._ch==="+"||this._ch==="~")&&!W&&ve===0)this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&_.test(this._ch)&&(this._ch=""));else if(this._ch==="]")this.print_string(this._ch);else if(this._ch==="[")this.preserveSingleSpace(ce),this.print_string(this._ch);else if(this._ch==="=")this.eatWhitespace(),this.print_string("="),_.test(this._ch)&&(this._ch="");else if(this._ch==="!"&&!this._input.lookBack("\\"))this._output.space_before_token=!0,this.print_string(this._ch);else{var at=Ce==='"'||Ce==="'";this.preserveSingleSpace(at||ce),this.print_string(this._ch),!this._output.just_added_newline()&&this._input.peek()===`
`&&Fe&&this._output.add_new_line()}var tt=this._output.get_code(ne);return tt},i.exports.Beautifier=A},function(i,o,s){var a=s(6).Options;function c(u){a.call(this,u,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var l=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||l;var d=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var f=0;f<d.length;f++)d[f]!=="expand"?this.brace_style="collapse":this.brace_style=d[f]}c.prototype=new a,i.exports.Options=c}],e={};function t(i){var o=e[i];if(o!==void 0)return o.exports;var s=e[i]={exports:{}};return r[i](s,s.exports,t),s.exports}var n=t(15);zHe=n})();UHe=zHe});function WHe(r,e){return BHe(r,e,qHe,UHe)}var BHe,$He=Ti(()=>{jHe();HHe();(function(){"use strict";var r=[,,function(i){function o(c){this.__parent=c,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}o.prototype.clone_empty=function(){var c=new o(this.__parent);return c.set_indent(this.__indent_count,this.__alignment_count),c},o.prototype.item=function(c){return c<0?this.__items[this.__items.length+c]:this.__items[c]},o.prototype.has_match=function(c){for(var u=this.__items.length-1;u>=0;u--)if(this.__items[u].match(c))return!0;return!1},o.prototype.set_indent=function(c,u){this.is_empty()&&(this.__indent_count=c||0,this.__alignment_count=u||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},o.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},o.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},o.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var c=this.__parent.current_line;return c.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),c.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),c.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,c.__items[0]===" "&&(c.__items.splice(0,1),c.__character_count-=1),!0}return!1},o.prototype.is_empty=function(){return this.__items.length===0},o.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},o.prototype.push=function(c){this.__items.push(c);var u=c.lastIndexOf(`
`);u!==-1?this.__character_count=c.length-u:this.__character_count+=c.length},o.prototype.pop=function(){var c=null;return this.is_empty()||(c=this.__items.pop(),this.__character_count-=c.length),c},o.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},o.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},o.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),this.__character_count-=1},o.prototype.toString=function(){var c="";return this.is_empty()?this.__parent.indent_empty_lines&&(c=this.__parent.get_indent_string(this.__indent_count)):(c=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),c+=this.__items.join("")),c};function s(c,u){this.__cache=[""],this.__indent_size=c.indent_size,this.__indent_string=c.indent_char,c.indent_with_tabs||(this.__indent_string=new Array(c.indent_size+1).join(c.indent_char)),u=u||"",c.indent_level>0&&(u=new Array(c.indent_level+1).join(this.__indent_string)),this.__base_string=u,this.__base_string_length=u.length}s.prototype.get_indent_size=function(c,u){var l=this.__base_string_length;return u=u||0,c<0&&(l=0),l+=c*this.__indent_size,l+=u,l},s.prototype.get_indent_string=function(c,u){var l=this.__base_string;return u=u||0,c<0&&(c=0,l=""),u+=c*this.__indent_size,this.__ensure_cache(u),l+=this.__cache[u],l},s.prototype.__ensure_cache=function(c){for(;c>=this.__cache.length;)this.__add_column()},s.prototype.__add_column=function(){var c=this.__cache.length,u=0,l="";this.__indent_size&&c>=this.__indent_size&&(u=Math.floor(c/this.__indent_size),c-=u*this.__indent_size,l=new Array(u+1).join(this.__indent_string)),c&&(l+=new Array(c+1).join(" ")),this.__cache.push(l)};function a(c,u){this.__indent_cache=new s(c,u),this.raw=!1,this._end_with_newline=c.end_with_newline,this.indent_size=c.indent_size,this.wrap_line_length=c.wrap_line_length,this.indent_empty_lines=c.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new o(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}a.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},a.prototype.get_line_number=function(){return this.__lines.length},a.prototype.get_indent_string=function(c,u){return this.__indent_cache.get_indent_string(c,u)},a.prototype.get_indent_size=function(c,u){return this.__indent_cache.get_indent_size(c,u)},a.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},a.prototype.add_new_line=function(c){return this.is_empty()||!c&&this.just_added_newline()?!1:(this.raw||this.__add_outputline(),!0)},a.prototype.get_code=function(c){this.trim(!0);var u=this.current_line.pop();u&&(u[u.length-1]===`
`&&(u=u.replace(/\n+$/g,"")),this.current_line.push(u)),this._end_with_newline&&this.__add_outputline();var l=this.__lines.join(`
`);return c!==`
`&&(l=l.replace(/[\n]/g,c)),l},a.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},a.prototype.set_indent=function(c,u){return c=c||0,u=u||0,this.next_line.set_indent(c,u),this.__lines.length>1?(this.current_line.set_indent(c,u),!0):(this.current_line.set_indent(),!1)},a.prototype.add_raw_token=function(c){for(var u=0;u<c.newlines;u++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(c.whitespace_before),this.current_line.push(c.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},a.prototype.add_token=function(c){this.__add_space_before_token(),this.current_line.push(c),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},a.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},a.prototype.remove_indent=function(c){for(var u=this.__lines.length;c<u;)this.__lines[c]._remove_indent(),c++;this.current_line._remove_wrap_indent()},a.prototype.trim=function(c){for(c=c===void 0?!1:c,this.current_line.trim();c&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},a.prototype.just_added_newline=function(){return this.current_line.is_empty()},a.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},a.prototype.ensure_empty_line_above=function(c,u){for(var l=this.__lines.length-2;l>=0;){var d=this.__lines[l];if(d.is_empty())break;if(d.item(0).indexOf(c)!==0&&d.item(-1)!==u){this.__lines.splice(l+1,0,new o(this)),this.previous_line=this.__lines[this.__lines.length-2];break}l--}},i.exports.Output=a},function(i){function o(s,a,c,u){this.type=s,this.text=a,this.comments_before=null,this.newlines=c||0,this.whitespace_before=u||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}i.exports.Token=o},,,function(i){function o(c,u){this.raw_options=s(c,u),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","angular","django","erb","handlebars","php","smarty"],["auto"])}o.prototype._get_array=function(c,u){var l=this.raw_options[c],d=u||[];return typeof l=="object"?l!==null&&typeof l.concat=="function"&&(d=l.concat()):typeof l=="string"&&(d=l.split(/[^a-zA-Z0-9_\/\-]+/)),d},o.prototype._get_boolean=function(c,u){var l=this.raw_options[c],d=l===void 0?!!u:!!l;return d},o.prototype._get_characters=function(c,u){var l=this.raw_options[c],d=u||"";return typeof l=="string"&&(d=l.replace(/\\r/,"\r").replace(/\\n/,`
`).replace(/\\t/,"	")),d},o.prototype._get_number=function(c,u){var l=this.raw_options[c];u=parseInt(u,10),isNaN(u)&&(u=0);var d=parseInt(l,10);return isNaN(d)&&(d=u),d},o.prototype._get_selection=function(c,u,l){var d=this._get_selection_list(c,u,l);if(d.length!==1)throw new Error("Invalid Option Value: The option '"+c+`' can only be one of the following values:
`+u+`
You passed in: '`+this.raw_options[c]+"'");return d[0]},o.prototype._get_selection_list=function(c,u,l){if(!u||u.length===0)throw new Error("Selection list cannot be empty.");if(l=l||[u[0]],!this._is_valid_selection(l,u))throw new Error("Invalid Default Value!");var d=this._get_array(c,l);if(!this._is_valid_selection(d,u))throw new Error("Invalid Option Value: The option '"+c+`' can contain only the following values:
`+u+`
You passed in: '`+this.raw_options[c]+"'");return d},o.prototype._is_valid_selection=function(c,u){return c.length&&u.length&&!c.some(function(l){return u.indexOf(l)===-1})};function s(c,u){var l={};c=a(c);var d;for(d in c)d!==u&&(l[d]=c[d]);if(u&&c[u])for(d in c[u])l[d]=c[u][d];return l}function a(c){var u={},l;for(l in c){var d=l.replace(/-/g,"_");u[d]=c[l]}return u}i.exports.Options=o,i.exports.normalizeOpts=a,i.exports.mergeOpts=s},,function(i){var o=RegExp.prototype.hasOwnProperty("sticky");function s(a){this.__input=a||"",this.__input_length=this.__input.length,this.__position=0}s.prototype.restart=function(){this.__position=0},s.prototype.back=function(){this.__position>0&&(this.__position-=1)},s.prototype.hasNext=function(){return this.__position<this.__input_length},s.prototype.next=function(){var a=null;return this.hasNext()&&(a=this.__input.charAt(this.__position),this.__position+=1),a},s.prototype.peek=function(a){var c=null;return a=a||0,a+=this.__position,a>=0&&a<this.__input_length&&(c=this.__input.charAt(a)),c},s.prototype.__match=function(a,c){a.lastIndex=c;var u=a.exec(this.__input);return u&&!(o&&a.sticky)&&u.index!==c&&(u=null),u},s.prototype.test=function(a,c){return c=c||0,c+=this.__position,c>=0&&c<this.__input_length?!!this.__match(a,c):!1},s.prototype.testChar=function(a,c){var u=this.peek(c);return a.lastIndex=0,u!==null&&a.test(u)},s.prototype.match=function(a){var c=this.__match(a,this.__position);return c?this.__position+=c[0].length:c=null,c},s.prototype.read=function(a,c,u){var l="",d;return a&&(d=this.match(a),d&&(l+=d[0])),c&&(d||!a)&&(l+=this.readUntil(c,u)),l},s.prototype.readUntil=function(a,c){var u="",l=this.__position;a.lastIndex=this.__position;var d=a.exec(this.__input);return d?(l=d.index,c&&(l+=d[0].length)):l=this.__input_length,u=this.__input.substring(this.__position,l),this.__position=l,u},s.prototype.readUntilAfter=function(a){return this.readUntil(a,!0)},s.prototype.get_regexp=function(a,c){var u=null,l="g";return c&&o&&(l="y"),typeof a=="string"&&a!==""?u=new RegExp(a,l):a&&(u=new RegExp(a.source,l)),u},s.prototype.get_literal_regexp=function(a){return RegExp(a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},s.prototype.peekUntilAfter=function(a){var c=this.__position,u=this.readUntilAfter(a);return this.__position=c,u},s.prototype.lookBack=function(a){var c=this.__position-1;return c>=a.length&&this.__input.substring(c-a.length,c).toLowerCase()===a},i.exports.InputScanner=s},function(i,o,s){var a=s(8).InputScanner,c=s(3).Token,u=s(10).TokenStream,l=s(11).WhitespacePattern,d={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},f=function(p,_){this._input=new a(p),this._options=_||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new l(this._input)};f.prototype.tokenize=function(){this._input.restart(),this.__tokens=new u,this._reset();for(var p,_=new c(d.START,""),D=null,P=[],M=new u;_.type!==d.EOF;){for(p=this._get_next_token(_,D);this._is_comment(p);)M.add(p),p=this._get_next_token(_,D);M.isEmpty()||(p.comments_before=M,M=new u),p.parent=D,this._is_opening(p)?(P.push(D),D=p):D&&this._is_closing(p,D)&&(p.opened=D,D.closed=p,D=P.pop(),p.parent=D),p.previous=_,_.next=p,this.__tokens.add(p),_=p}return this.__tokens},f.prototype._is_first_token=function(){return this.__tokens.isEmpty()},f.prototype._reset=function(){},f.prototype._get_next_token=function(p,_){this._readWhitespace();var D=this._input.read(/.+/g);return D?this._create_token(d.RAW,D):this._create_token(d.EOF,"")},f.prototype._is_comment=function(p){return!1},f.prototype._is_opening=function(p){return!1},f.prototype._is_closing=function(p,_){return!1},f.prototype._create_token=function(p,_){var D=new c(p,_,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token);return D},f.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},i.exports.Tokenizer=f,i.exports.TOKEN=d},function(i){function o(s){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=s}o.prototype.restart=function(){this.__position=0},o.prototype.isEmpty=function(){return this.__tokens_length===0},o.prototype.hasNext=function(){return this.__position<this.__tokens_length},o.prototype.next=function(){var s=null;return this.hasNext()&&(s=this.__tokens[this.__position],this.__position+=1),s},o.prototype.peek=function(s){var a=null;return s=s||0,s+=this.__position,s>=0&&s<this.__tokens_length&&(a=this.__tokens[s]),a},o.prototype.add=function(s){this.__parent_token&&(s.parent=this.__parent_token),this.__tokens.push(s),this.__tokens_length+=1},i.exports.TokenStream=o},function(i,o,s){var a=s(12).Pattern;function c(u,l){a.call(this,u,l),l?this._line_regexp=this._input.get_regexp(l._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}c.prototype=new a,c.prototype.__set_whitespace_patterns=function(u,l){u+="\\t ",l+="\\n\\r",this._match_pattern=this._input.get_regexp("["+u+l+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+l+"]")},c.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var u=this._input.read(this._match_pattern);if(u===" ")this.whitespace_before_token=" ";else if(u){var l=this.__split(this._newline_regexp,u);this.newline_count=l.length-1,this.whitespace_before_token=l[this.newline_count]}return u},c.prototype.matching=function(u,l){var d=this._create();return d.__set_whitespace_patterns(u,l),d._update(),d},c.prototype._create=function(){return new c(this._input,this)},c.prototype.__split=function(u,l){u.lastIndex=0;for(var d=0,f=[],p=u.exec(l);p;)f.push(l.substring(d,p.index)),d=p.index+p[0].length,p=u.exec(l);return d<l.length?f.push(l.substring(d,l.length)):f.push(""),f},i.exports.WhitespacePattern=c},function(i){function o(s,a){this._input=s,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,a&&(this._starting_pattern=this._input.get_regexp(a._starting_pattern,!0),this._match_pattern=this._input.get_regexp(a._match_pattern,!0),this._until_pattern=this._input.get_regexp(a._until_pattern),this._until_after=a._until_after)}o.prototype.read=function(){var s=this._input.read(this._starting_pattern);return(!this._starting_pattern||s)&&(s+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),s},o.prototype.read_match=function(){return this._input.match(this._match_pattern)},o.prototype.until_after=function(s){var a=this._create();return a._until_after=!0,a._until_pattern=this._input.get_regexp(s),a._update(),a},o.prototype.until=function(s){var a=this._create();return a._until_after=!1,a._until_pattern=this._input.get_regexp(s),a._update(),a},o.prototype.starting_with=function(s){var a=this._create();return a._starting_pattern=this._input.get_regexp(s,!0),a._update(),a},o.prototype.matching=function(s){var a=this._create();return a._match_pattern=this._input.get_regexp(s,!0),a._update(),a},o.prototype._create=function(){return new o(this._input,this)},o.prototype._update=function(){},i.exports.Pattern=o},function(i){function o(s,a){s=typeof s=="string"?s:s.source,a=typeof a=="string"?a:a.source,this.__directives_block_pattern=new RegExp(s+/ beautify( \w+[:]\w+)+ /.source+a,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(s+/\sbeautify\signore:end\s/.source+a,"g")}o.prototype.get_directives=function(s){if(!s.match(this.__directives_block_pattern))return null;var a={};this.__directive_pattern.lastIndex=0;for(var c=this.__directive_pattern.exec(s);c;)a[c[1]]=c[2],c=this.__directive_pattern.exec(s);return a},o.prototype.readIgnored=function(s){return s.readUntilAfter(this.__directives_end_ignore_pattern)},i.exports.Directives=o},function(i,o,s){var a=s(12).Pattern,c={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1,angular:!1};function u(l,d){a.call(this,l,d),this.__template_pattern=null,this._disabled=Object.assign({},c),this._excluded=Object.assign({},c),d&&(this.__template_pattern=this._input.get_regexp(d.__template_pattern),this._excluded=Object.assign(this._excluded,d._excluded),this._disabled=Object.assign(this._disabled,d._disabled));var f=new a(l);this.__patterns={handlebars_comment:f.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:f.starting_with(/{{{/).until_after(/}}}/),handlebars:f.starting_with(/{{/).until_after(/}}/),php:f.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:f.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:f.starting_with(/{%/).until_after(/%}/),django_value:f.starting_with(/{{/).until_after(/}}/),django_comment:f.starting_with(/{#/).until_after(/#}/),smarty:f.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:f.starting_with(/{\*/).until_after(/\*}/),smarty_literal:f.starting_with(/{literal}/).until_after(/{\/literal}/)}}u.prototype=new a,u.prototype._create=function(){return new u(this._input,this)},u.prototype._update=function(){this.__set_templated_pattern()},u.prototype.disable=function(l){var d=this._create();return d._disabled[l]=!0,d._update(),d},u.prototype.read_options=function(l){var d=this._create();for(var f in c)d._disabled[f]=l.templating.indexOf(f)===-1;return d._update(),d},u.prototype.exclude=function(l){var d=this._create();return d._excluded[l]=!0,d._update(),d},u.prototype.read=function(){var l="";this._match_pattern?l=this._input.read(this._starting_pattern):l=this._input.read(this._starting_pattern,this.__template_pattern);for(var d=this._read_template();d;)this._match_pattern?d+=this._input.read(this._match_pattern):d+=this._input.readUntil(this.__template_pattern),l+=d,d=this._read_template();return this._until_after&&(l+=this._input.readUntilAfter(this._until_pattern)),l},u.prototype.__set_templated_pattern=function(){var l=[];this._disabled.php||l.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||l.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||l.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(l.push(this.__patterns.django._starting_pattern.source),l.push(this.__patterns.django_value._starting_pattern.source),l.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||l.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&l.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+l.join("|")+")")},u.prototype._read_template=function(){var l="",d=this._input.peek();if(d==="<"){var f=this._input.peek(1);!this._disabled.php&&!this._excluded.php&&f==="?"&&(l=l||this.__patterns.php.read()),!this._disabled.erb&&!this._excluded.erb&&f==="%"&&(l=l||this.__patterns.erb.read())}else d==="{"&&(!this._disabled.handlebars&&!this._excluded.handlebars&&(l=l||this.__patterns.handlebars_comment.read(),l=l||this.__patterns.handlebars_unescaped.read(),l=l||this.__patterns.handlebars.read()),this._disabled.django||(!this._excluded.django&&!this._excluded.handlebars&&(l=l||this.__patterns.django_value.read()),this._excluded.django||(l=l||this.__patterns.django_comment.read(),l=l||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(l=l||this.__patterns.smarty_comment.read(),l=l||this.__patterns.smarty_literal.read(),l=l||this.__patterns.smarty.read()));return l},i.exports.TemplatablePattern=u},,,,function(i,o,s){var a=s(19).Beautifier,c=s(20).Options;function u(l,d,f,p){var _=new a(l,d,f,p);return _.beautify()}i.exports=u,i.exports.defaultOptions=function(){return new c}},function(i,o,s){var a=s(20).Options,c=s(2).Output,u=s(21).Tokenizer,l=s(21).TOKEN,d=/\r\n|[\r\n]/,f=/\r\n|[\r\n]/g,p=function(V,W){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=V.max_preserve_newlines,this.preserve_newlines=V.preserve_newlines,this._output=new c(V,W)};p.prototype.current_line_has_match=function(V){return this._output.current_line.has_match(V)},p.prototype.set_space_before_token=function(V,W){this._output.space_before_token=V,this._output.non_breaking_space=W},p.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()},p.prototype.add_raw_token=function(V){this._output.add_raw_token(V)},p.prototype.print_preserved_newlines=function(V){var W=0;V.type!==l.TEXT&&V.previous.type!==l.TEXT&&(W=V.newlines?1:0),this.preserve_newlines&&(W=V.newlines<this.max_preserve_newlines+1?V.newlines:this.max_preserve_newlines+1);for(var ee=0;ee<W;ee++)this.print_newline(ee>0);return W!==0},p.prototype.traverse_whitespace=function(V){return V.whitespace_before||V.newlines?(this.print_preserved_newlines(V)||(this._output.space_before_token=!0),!0):!1},p.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped},p.prototype.print_newline=function(V){this._output.add_new_line(V)},p.prototype.print_token=function(V){V.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(V.text))},p.prototype.indent=function(){this.indent_level++},p.prototype.deindent=function(){this.indent_level>0&&(this.indent_level--,this._output.set_indent(this.indent_level,this.alignment_size))},p.prototype.get_full_indent=function(V){return V=this.indent_level+(V||0),V<1?"":this._output.get_indent_string(V)};var _=function(V){for(var W=null,ee=V.next;ee.type!==l.EOF&&V.closed!==ee;){if(ee.type===l.ATTRIBUTE&&ee.text==="type"){ee.next&&ee.next.type===l.EQUALS&&ee.next.next&&ee.next.next.type===l.VALUE&&(W=ee.next.next.text);break}ee=ee.next}return W},D=function(V,W){var ee=null,De=null;return W.closed?(V==="script"?ee="text/javascript":V==="style"&&(ee="text/css"),ee=_(W)||ee,ee.search("text/css")>-1?De="css":ee.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?De="javascript":ee.search(/(text|application|dojo)\/(x-)?(html)/)>-1?De="html":ee.search(/test\/null/)>-1&&(De="null"),De):null};function P(V,W){return W.indexOf(V)!==-1}function M(V,W,ee){this.parent=V||null,this.tag=W?W.tag_name:"",this.indent_level=ee||0,this.parser_token=W||null}function A(V){this._printer=V,this._current_frame=null}A.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null},A.prototype.record_tag=function(V){var W=new M(this._current_frame,V,this._printer.indent_level);this._current_frame=W},A.prototype._try_pop_frame=function(V){var W=null;return V&&(W=V.parser_token,this._printer.indent_level=V.indent_level,this._current_frame=V.parent),W},A.prototype._get_frame=function(V,W){for(var ee=this._current_frame;ee&&V.indexOf(ee.tag)===-1;){if(W&&W.indexOf(ee.tag)!==-1){ee=null;break}ee=ee.parent}return ee},A.prototype.try_pop=function(V,W){var ee=this._get_frame([V],W);return this._try_pop_frame(ee)},A.prototype.indent_to_tag=function(V){var W=this._get_frame(V);W&&(this._printer.indent_level=W.indent_level)};function U(V,W,ee,De){this._source_text=V||"",W=W||{},this._js_beautify=ee,this._css_beautify=De,this._tag_stack=null;var ae=new a(W,"html");this._options=ae,this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,5)==="force",this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline",this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned",this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple",this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,8)==="preserve",this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}U.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var V=this._source_text,W=this._options.eol;this._options.eol==="auto"&&(W=`
`,V&&d.test(V)&&(W=V.match(d)[0])),V=V.replace(f,`
`);var ee=V.match(/^[\t ]*/)[0],De={text:"",type:""},ae=new ne,ue=new p(this._options,ee),Fe=new u(V,this._options).tokenize();this._tag_stack=new A(ue);for(var Me=null,ce=Fe.next();ce.type!==l.EOF;)ce.type===l.TAG_OPEN||ce.type===l.COMMENT?(Me=this._handle_tag_open(ue,ce,ae,De,Fe),ae=Me):ce.type===l.ATTRIBUTE||ce.type===l.EQUALS||ce.type===l.VALUE||ce.type===l.TEXT&&!ae.tag_complete?Me=this._handle_inside_tag(ue,ce,ae,De):ce.type===l.TAG_CLOSE?Me=this._handle_tag_close(ue,ce,ae):ce.type===l.TEXT?Me=this._handle_text(ue,ce,ae):ce.type===l.CONTROL_FLOW_OPEN?Me=this._handle_control_flow_open(ue,ce):ce.type===l.CONTROL_FLOW_CLOSE?Me=this._handle_control_flow_close(ue,ce):ue.add_raw_token(ce),De=Me,ce=Fe.next();var Ce=ue._output.get_code(W);return Ce},U.prototype._handle_control_flow_open=function(V,W){var ee={text:W.text,type:W.type};return V.set_space_before_token(W.newlines||W.whitespace_before!=="",!0),W.newlines?V.print_preserved_newlines(W):V.set_space_before_token(W.newlines||W.whitespace_before!=="",!0),V.print_token(W),V.indent(),ee},U.prototype._handle_control_flow_close=function(V,W){var ee={text:W.text,type:W.type};return V.deindent(),W.newlines?V.print_preserved_newlines(W):V.set_space_before_token(W.newlines||W.whitespace_before!=="",!0),V.print_token(W),ee},U.prototype._handle_tag_close=function(V,W,ee){var De={text:W.text,type:W.type};return V.alignment_size=0,ee.tag_complete=!0,V.set_space_before_token(W.newlines||W.whitespace_before!=="",!0),ee.is_unformatted?V.add_raw_token(W):(ee.tag_start_char==="<"&&(V.set_space_before_token(W.text[0]==="/",!0),this._is_wrap_attributes_force_expand_multiline&&ee.has_wrapped_attrs&&V.print_newline(!1)),V.print_token(W)),ee.indent_content&&!(ee.is_unformatted||ee.is_content_unformatted)&&(V.indent(),ee.indent_content=!1),!ee.is_inline_element&&!(ee.is_unformatted||ee.is_content_unformatted)&&V.set_wrap_point(),De},U.prototype._handle_inside_tag=function(V,W,ee,De){var ae=ee.has_wrapped_attrs,ue={text:W.text,type:W.type};return V.set_space_before_token(W.newlines||W.whitespace_before!=="",!0),ee.is_unformatted?V.add_raw_token(W):ee.tag_start_char==="{"&&W.type===l.TEXT?V.print_preserved_newlines(W)?(W.newlines=0,V.add_raw_token(W)):V.print_token(W):(W.type===l.ATTRIBUTE?V.set_space_before_token(!0):(W.type===l.EQUALS||W.type===l.VALUE&&W.previous.type===l.EQUALS)&&V.set_space_before_token(!1),W.type===l.ATTRIBUTE&&ee.tag_start_char==="<"&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(V.traverse_whitespace(W),ae=ae||W.newlines!==0),this._is_wrap_attributes_force&&ee.attr_count>=this._options.wrap_attributes_min_attrs&&(De.type!==l.TAG_OPEN||this._is_wrap_attributes_force_expand_multiline)&&(V.print_newline(!1),ae=!0)),V.print_token(W),ae=ae||V.previous_token_wrapped(),ee.has_wrapped_attrs=ae),ue},U.prototype._handle_text=function(V,W,ee){var De={text:W.text,type:"TK_CONTENT"};return ee.custom_beautifier_name?this._print_custom_beatifier_text(V,W,ee):ee.is_unformatted||ee.is_content_unformatted?V.add_raw_token(W):(V.traverse_whitespace(W),V.print_token(W)),De},U.prototype._print_custom_beatifier_text=function(V,W,ee){var De=this;if(W.text!==""){var ae=W.text,ue,Fe=1,Me="",ce="";ee.custom_beautifier_name==="javascript"&&typeof this._js_beautify=="function"?ue=this._js_beautify:ee.custom_beautifier_name==="css"&&typeof this._css_beautify=="function"?ue=this._css_beautify:ee.custom_beautifier_name==="html"&&(ue=function(Ct,ze){var st=new U(Ct,ze,De._js_beautify,De._css_beautify);return st.beautify()}),this._options.indent_scripts==="keep"?Fe=0:this._options.indent_scripts==="separate"&&(Fe=-V.indent_level);var Ce=V.get_full_indent(Fe);if(ae=ae.replace(/\n[ \t]*$/,""),ee.custom_beautifier_name!=="html"&&ae[0]==="<"&&ae.match(/^(<!--|<!\[CDATA\[)/)){var be=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(ae);if(!be){V.add_raw_token(W);return}Me=Ce+be[1]+`
`,ae=be[4],be[5]&&(ce=Ce+be[5]),ae=ae.replace(/\n[ \t]*$/,""),(be[2]||be[3].indexOf(`
`)!==-1)&&(be=be[3].match(/[ \t]+$/),be&&(W.whitespace_before=be[0]))}if(ae)if(ue){var xe=function(){this.eol=`
`};xe.prototype=this._options.raw_options;var Ne=new xe;ae=ue(Ce+ae,Ne)}else{var $e=W.whitespace_before;$e&&(ae=ae.replace(new RegExp(`
(`+$e+")?","g"),`
`)),ae=Ce+ae.replace(/\n/g,`
`+Ce)}Me&&(ae?ae=Me+ae+`
`+ce:ae=Me+ce),V.print_newline(!1),ae&&(W.text=ae,W.whitespace_before="",W.newlines=0,V.add_raw_token(W),V.print_newline(!0))}},U.prototype._handle_tag_open=function(V,W,ee,De,ae){var ue=this._get_tag_open_token(W);if((ee.is_unformatted||ee.is_content_unformatted)&&!ee.is_empty_element&&W.type===l.TAG_OPEN&&!ue.is_start_tag?(V.add_raw_token(W),ue.start_tag_token=this._tag_stack.try_pop(ue.tag_name)):(V.traverse_whitespace(W),this._set_tag_position(V,W,ue,ee,De),ue.is_inline_element||V.set_wrap_point(),V.print_token(W)),ue.is_start_tag&&this._is_wrap_attributes_force){var Fe=0,Me;do Me=ae.peek(Fe),Me.type===l.ATTRIBUTE&&(ue.attr_count+=1),Fe+=1;while(Me.type!==l.EOF&&Me.type!==l.TAG_CLOSE)}return(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(ue.alignment_size=W.text.length+1),!ue.tag_complete&&!ue.is_unformatted&&(V.alignment_size=ue.alignment_size),ue};var ne=function(V,W){if(this.parent=V||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",!W)this.tag_complete=!0;else{var ee;this.tag_start_char=W.text[0],this.text=W.text,this.tag_start_char==="<"?(ee=W.text.match(/^<([^\s>]*)/),this.tag_check=ee?ee[1]:""):(ee=W.text.match(/^{{~?(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=ee?ee[1]:"",(W.text.startsWith("{{#>")||W.text.startsWith("{{~#>"))&&this.tag_check[0]===">"&&(this.tag_check===">"&&W.next!==null?this.tag_check=W.next.text.split(" ")[0]:this.tag_check=W.text.split(">")[1])),this.tag_check=this.tag_check.toLowerCase(),W.type===l.COMMENT&&(this.tag_complete=!0),this.is_start_tag=this.tag_check.charAt(0)!=="/",this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||W.closed&&W.closed.text==="/>";var De=2;this.tag_start_char==="{"&&this.text.length>=3&&this.text.charAt(2)==="~"&&(De=3),this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(De)))}};U.prototype._get_tag_open_token=function(V){var W=new ne(this._tag_stack.get_parser_token(),V);return W.alignment_size=this._options.wrap_attributes_indent_size,W.is_end_tag=W.is_end_tag||P(W.tag_check,this._options.void_elements),W.is_empty_element=W.tag_complete||W.is_start_tag&&W.is_end_tag,W.is_unformatted=!W.tag_complete&&P(W.tag_check,this._options.unformatted),W.is_content_unformatted=!W.is_empty_element&&P(W.tag_check,this._options.content_unformatted),W.is_inline_element=P(W.tag_name,this._options.inline)||this._options.inline_custom_elements&&W.tag_name.includes("-")||W.tag_start_char==="{",W},U.prototype._set_tag_position=function(V,W,ee,De,ae){if(ee.is_empty_element||(ee.is_end_tag?ee.start_tag_token=this._tag_stack.try_pop(ee.tag_name):(this._do_optional_end_element(ee)&&(ee.is_inline_element||V.print_newline(!1)),this._tag_stack.record_tag(ee),(ee.tag_name==="script"||ee.tag_name==="style")&&!(ee.is_unformatted||ee.is_content_unformatted)&&(ee.custom_beautifier_name=D(ee.tag_check,W)))),P(ee.tag_check,this._options.extra_liners)&&(V.print_newline(!1),V._output.just_added_blankline()||V.print_newline(!0)),ee.is_empty_element){if(ee.tag_start_char==="{"&&ee.tag_check==="else"){this._tag_stack.indent_to_tag(["if","unless","each"]),ee.indent_content=!0;var ue=V.current_line_has_match(/{{#if/);ue||V.print_newline(!1)}ee.tag_name==="!--"&&ae.type===l.TAG_CLOSE&&De.is_end_tag&&ee.text.indexOf(`
`)===-1||(ee.is_inline_element||ee.is_unformatted||V.print_newline(!1),this._calcluate_parent_multiline(V,ee))}else if(ee.is_end_tag){var Fe=!1;Fe=ee.start_tag_token&&ee.start_tag_token.multiline_content,Fe=Fe||!ee.is_inline_element&&!(De.is_inline_element||De.is_unformatted)&&!(ae.type===l.TAG_CLOSE&&ee.start_tag_token===De)&&ae.type!=="TK_CONTENT",(ee.is_content_unformatted||ee.is_unformatted)&&(Fe=!1),Fe&&V.print_newline(!1)}else ee.indent_content=!ee.custom_beautifier_name,ee.tag_start_char==="<"&&(ee.tag_name==="html"?ee.indent_content=this._options.indent_inner_html:ee.tag_name==="head"?ee.indent_content=this._options.indent_head_inner_html:ee.tag_name==="body"&&(ee.indent_content=this._options.indent_body_inner_html)),!(ee.is_inline_element||ee.is_unformatted)&&(ae.type!=="TK_CONTENT"||ee.is_content_unformatted)&&V.print_newline(!1),this._calcluate_parent_multiline(V,ee)},U.prototype._calcluate_parent_multiline=function(V,W){W.parent&&V._output.just_added_newline()&&!((W.is_inline_element||W.is_unformatted)&&W.parent.is_inline_element)&&(W.parent.multiline_content=!0)};var pe=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","menu","nav","ol","p","pre","section","table","ul"],ve=["a","audio","del","ins","map","noscript","video"];U.prototype._do_optional_end_element=function(V){var W=null;if(!(V.is_empty_element||!V.is_start_tag||!V.parent)){if(V.tag_name==="body")W=W||this._tag_stack.try_pop("head");else if(V.tag_name==="li")W=W||this._tag_stack.try_pop("li",["ol","ul","menu"]);else if(V.tag_name==="dd"||V.tag_name==="dt")W=W||this._tag_stack.try_pop("dt",["dl"]),W=W||this._tag_stack.try_pop("dd",["dl"]);else if(V.parent.tag_name==="p"&&pe.indexOf(V.tag_name)!==-1){var ee=V.parent.parent;(!ee||ve.indexOf(ee.tag_name)===-1)&&(W=W||this._tag_stack.try_pop("p"))}else V.tag_name==="rp"||V.tag_name==="rt"?(W=W||this._tag_stack.try_pop("rt",["ruby","rtc"]),W=W||this._tag_stack.try_pop("rp",["ruby","rtc"])):V.tag_name==="optgroup"?W=W||this._tag_stack.try_pop("optgroup",["select"]):V.tag_name==="option"?W=W||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):V.tag_name==="colgroup"?W=W||this._tag_stack.try_pop("caption",["table"]):V.tag_name==="thead"?(W=W||this._tag_stack.try_pop("caption",["table"]),W=W||this._tag_stack.try_pop("colgroup",["table"])):V.tag_name==="tbody"||V.tag_name==="tfoot"?(W=W||this._tag_stack.try_pop("caption",["table"]),W=W||this._tag_stack.try_pop("colgroup",["table"]),W=W||this._tag_stack.try_pop("thead",["table"]),W=W||this._tag_stack.try_pop("tbody",["table"])):V.tag_name==="tr"?(W=W||this._tag_stack.try_pop("caption",["table"]),W=W||this._tag_stack.try_pop("colgroup",["table"]),W=W||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"])):(V.tag_name==="th"||V.tag_name==="td")&&(W=W||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]),W=W||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return V.parent=this._tag_stack.get_parser_token(),W}},i.exports.Beautifier=U},function(i,o,s){var a=s(6).Options;function c(u){a.call(this,u,"html"),this.templating.length===1&&this.templating[0]==="auto"&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_min_attrs=this._get_number("wrap_attributes_min_attrs",2),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.inline_custom_elements=this._get_boolean("inline_custom_elements",!0),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}c.prototype=new a,i.exports.Options=c},function(i,o,s){var a=s(9).Tokenizer,c=s(9).TOKEN,u=s(13).Directives,l=s(14).TemplatablePattern,d=s(12).Pattern,f={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",CONTROL_FLOW_OPEN:"TK_CONTROL_FLOW_OPEN",CONTROL_FLOW_CLOSE:"TK_CONTROL_FLOW_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:c.START,RAW:c.RAW,EOF:c.EOF},p=new u(/<\!--/,/-->/),_=function(D,P){a.call(this,D,P),this._current_tag_name="";var M=new l(this._input).read_options(this._options),A=new d(this._input);if(this.__patterns={word:M.until(/[\n\r\t <]/),word_control_flow_close_excluded:M.until(/[\n\r\t <}]/),single_quote:M.until_after(/'/),double_quote:M.until_after(/"/),attribute:M.until(/[\n\r\t =>]|\/>/),element_name:M.until(/[\n\r\t >\/]/),angular_control_flow_start:A.matching(/\@[a-zA-Z]+[^({]*[({]/),handlebars_comment:A.starting_with(/{{!--/).until_after(/--}}/),handlebars:A.starting_with(/{{/).until_after(/}}/),handlebars_open:A.until(/[\n\r\t }]/),handlebars_raw_close:A.until(/}}/),comment:A.starting_with(/<!--/).until_after(/-->/),cdata:A.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:A.starting_with(/<!\[/).until_after(/]>/),processing:A.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars"),this.__patterns.word_control_flow_close_excluded=this.__patterns.word_control_flow_close_excluded.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var U=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=A.matching(U).until_after(U)}};_.prototype=new a,_.prototype._is_comment=function(D){return!1},_.prototype._is_opening=function(D){return D.type===f.TAG_OPEN||D.type===f.CONTROL_FLOW_OPEN},_.prototype._is_closing=function(D,P){return D.type===f.TAG_CLOSE&&P&&((D.text===">"||D.text==="/>")&&P.text[0]==="<"||D.text==="}}"&&P.text[0]==="{"&&P.text[1]==="{")||D.type===f.CONTROL_FLOW_CLOSE&&D.text==="}"&&P.text.endsWith("{")},_.prototype._reset=function(){this._current_tag_name=""},_.prototype._get_next_token=function(D,P){var M=null;this._readWhitespace();var A=this._input.peek();return A===null?this._create_token(f.EOF,""):(M=M||this._read_open_handlebars(A,P),M=M||this._read_attribute(A,D,P),M=M||this._read_close(A,P),M=M||this._read_control_flows(A,P),M=M||this._read_raw_content(A,D,P),M=M||this._read_content_word(A,P),M=M||this._read_comment_or_cdata(A),M=M||this._read_processing(A),M=M||this._read_open(A,P),M=M||this._create_token(f.UNKNOWN,this._input.next()),M)},_.prototype._read_comment_or_cdata=function(D){var P=null,M=null,A=null;if(D==="<"){var U=this._input.peek(1);U==="!"&&(M=this.__patterns.comment.read(),M?(A=p.get_directives(M),A&&A.ignore==="start"&&(M+=p.readIgnored(this._input))):M=this.__patterns.cdata.read()),M&&(P=this._create_token(f.COMMENT,M),P.directives=A)}return P},_.prototype._read_processing=function(D){var P=null,M=null,A=null;if(D==="<"){var U=this._input.peek(1);(U==="!"||U==="?")&&(M=this.__patterns.conditional_comment.read(),M=M||this.__patterns.processing.read()),M&&(P=this._create_token(f.COMMENT,M),P.directives=A)}return P},_.prototype._read_open=function(D,P){var M=null,A=null;return(!P||P.type===f.CONTROL_FLOW_OPEN)&&D==="<"&&(M=this._input.next(),this._input.peek()==="/"&&(M+=this._input.next()),M+=this.__patterns.element_name.read(),A=this._create_token(f.TAG_OPEN,M)),A},_.prototype._read_open_handlebars=function(D,P){var M=null,A=null;return(!P||P.type===f.CONTROL_FLOW_OPEN)&&this._options.indent_handlebars&&D==="{"&&this._input.peek(1)==="{"&&(this._input.peek(2)==="!"?(M=this.__patterns.handlebars_comment.read(),M=M||this.__patterns.handlebars.read(),A=this._create_token(f.COMMENT,M)):(M=this.__patterns.handlebars_open.read(),A=this._create_token(f.TAG_OPEN,M))),A},_.prototype._read_control_flows=function(D,P){var M="",A=null;if(!this._options.templating.includes("angular")||!this._options.indent_handlebars)return A;if(D==="@"){if(M=this.__patterns.angular_control_flow_start.read(),M==="")return A;for(var U=M.endsWith("(")?1:0,ne=0;!(M.endsWith("{")&&U===ne);){var pe=this._input.next();if(pe===null)break;pe==="("?U++:pe===")"&&ne++,M+=pe}A=this._create_token(f.CONTROL_FLOW_OPEN,M)}else D==="}"&&P&&P.type===f.CONTROL_FLOW_OPEN&&(M=this._input.next(),A=this._create_token(f.CONTROL_FLOW_CLOSE,M));return A},_.prototype._read_close=function(D,P){var M=null,A=null;return P&&P.type===f.TAG_OPEN&&(P.text[0]==="<"&&(D===">"||D==="/"&&this._input.peek(1)===">")?(M=this._input.next(),D==="/"&&(M+=this._input.next()),A=this._create_token(f.TAG_CLOSE,M)):P.text[0]==="{"&&D==="}"&&this._input.peek(1)==="}"&&(this._input.next(),this._input.next(),A=this._create_token(f.TAG_CLOSE,"}}"))),A},_.prototype._read_attribute=function(D,P,M){var A=null,U="";if(M&&M.text[0]==="<")if(D==="=")A=this._create_token(f.EQUALS,this._input.next());else if(D==='"'||D==="'"){var ne=this._input.next();D==='"'?ne+=this.__patterns.double_quote.read():ne+=this.__patterns.single_quote.read(),A=this._create_token(f.VALUE,ne)}else U=this.__patterns.attribute.read(),U&&(P.type===f.EQUALS?A=this._create_token(f.VALUE,U):A=this._create_token(f.ATTRIBUTE,U));return A},_.prototype._is_content_unformatted=function(D){return this._options.void_elements.indexOf(D)===-1&&(this._options.content_unformatted.indexOf(D)!==-1||this._options.unformatted.indexOf(D)!==-1)},_.prototype._read_raw_content=function(D,P,M){var A="";if(M&&M.text[0]==="{")A=this.__patterns.handlebars_raw_close.read();else if(P.type===f.TAG_CLOSE&&P.opened.text[0]==="<"&&P.text[0]!=="/"){var U=P.opened.text.substr(1).toLowerCase();if(U==="script"||U==="style"){var ne=this._read_comment_or_cdata(D);if(ne)return ne.type=f.TEXT,ne;A=this._input.readUntil(new RegExp("</"+U+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(U)&&(A=this._input.readUntil(new RegExp("</"+U+"[\\n\\r\\t ]*?>","ig")))}return A?this._create_token(f.TEXT,A):null},_.prototype._read_content_word=function(D,P){var M="";if(this._options.unformatted_content_delimiter&&D===this._options.unformatted_content_delimiter[0]&&(M=this.__patterns.unformatted_content_delimiter.read()),M||(M=P&&P.type===f.CONTROL_FLOW_OPEN?this.__patterns.word_control_flow_close_excluded.read():this.__patterns.word.read()),M)return this._create_token(f.TEXT,M)},i.exports.Tokenizer=_,i.exports.TOKEN=f}],e={};function t(i){var o=e[i];if(o!==void 0)return o.exports;var s=e[i]={exports:{}};return r[i](s,s.exports,t),s.exports}var n=t(18);BHe=n})()});function KHe(r,e,t){let n=r.getText(),i=!0,o=0,s=t.tabSize||4;if(e){let u=r.offsetAt(e.start),l=u;for(;l>0&&GHe(n,l-1);)l--;l===0||VHe(n,l-1)?u=l:l<u&&(u=l+1);let d=r.offsetAt(e.end),f=d;for(;f<n.length&&GHe(n,f);)f++;(f===n.length||VHe(n,f))&&(d=f),e=Pi.create(r.positionAt(u),r.positionAt(d));let p=n.substring(0,u);if(new RegExp(/.*[<][^>]*$/).test(p))return n=n.substring(u,d),[{range:e,newText:n}];if(i=d===n.length,n=n.substring(u,d),u!==0){let _=r.offsetAt(ec.create(e.start.line,0));o=ANt(r.getText(),_,t)}}else e=Pi.create(ec.create(0,0),r.positionAt(n.length));let a={indent_size:s,indent_char:t.insertSpaces?" ":"	",indent_empty_lines:zg(t,"indentEmptyLines",!1),wrap_line_length:zg(t,"wrapLineLength",120),unformatted:xle(t,"unformatted",void 0),content_unformatted:xle(t,"contentUnformatted",void 0),indent_inner_html:zg(t,"indentInnerHtml",!1),preserve_newlines:zg(t,"preserveNewLines",!0),max_preserve_newlines:zg(t,"maxPreserveNewLines",32786),indent_handlebars:zg(t,"indentHandlebars",!1),end_with_newline:i&&zg(t,"endWithNewline",!1),extra_liners:xle(t,"extraLiners",void 0),wrap_attributes:zg(t,"wrapAttributes","auto"),wrap_attributes_indent_size:zg(t,"wrapAttributesIndentSize",void 0),eol:`
`,indent_scripts:zg(t,"indentScripts","normal"),templating:kNt(t,"all"),unformatted_content_delimiter:zg(t,"unformattedContentDelimiter","")},c=WHe(INt(n),a);if(o>0){let u=t.insertSpaces?Rle(" ",s*o):Rle("	",o);c=c.split(`
`).join(`
`+u),e.start.character===0&&(c=u+c)}return[{range:e,newText:c}]}function INt(r){return r.replace(/^\s+/,"")}function zg(r,e,t){if(r&&r.hasOwnProperty(e)){let n=r[e];if(n!==null)return n}return t}function xle(r,e,t){let n=zg(r,e,null);return typeof n=="string"?n.length>0?n.split(",").map(i=>i.trim().toLowerCase()):[]:t}function kNt(r,e){let t=zg(r,"templating",e);return t===!0?["auto"]:t===!1||t===e||Array.isArray(t)===!1?["none"]:t}function ANt(r,e,t){let n=e,i=0,o=t.tabSize||4;for(;n<r.length;){let s=r.charAt(n);if(s===" ")i++;else if(s==="	")i+=o;else break;n++}return Math.floor(i/o)}function VHe(r,e){return`\r
`.indexOf(r.charAt(e))!==-1}function GHe(r,e){return" 	".indexOf(r.charAt(e))!==-1}var YHe=Ti(()=>{Lm();$He();PI()});var JHe,XHe,icr,QHe=Ti(()=>{(()=>{"use strict";var r={975:ae=>{function ue(ce){if(typeof ce!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(ce))}function Fe(ce,Ce){for(var be,xe="",Ne=0,$e=-1,Ct=0,ze=0;ze<=ce.length;++ze){if(ze<ce.length)be=ce.charCodeAt(ze);else{if(be===47)break;be=47}if(be===47){if(!($e===ze-1||Ct===1))if($e!==ze-1&&Ct===2){if(xe.length<2||Ne!==2||xe.charCodeAt(xe.length-1)!==46||xe.charCodeAt(xe.length-2)!==46){if(xe.length>2){var st=xe.lastIndexOf("/");if(st!==xe.length-1){st===-1?(xe="",Ne=0):Ne=(xe=xe.slice(0,st)).length-1-xe.lastIndexOf("/"),$e=ze,Ct=0;continue}}else if(xe.length===2||xe.length===1){xe="",Ne=0,$e=ze,Ct=0;continue}}Ce&&(xe.length>0?xe+="/..":xe="..",Ne=2)}else xe.length>0?xe+="/"+ce.slice($e+1,ze):xe=ce.slice($e+1,ze),Ne=ze-$e-1;$e=ze,Ct=0}else be===46&&Ct!==-1?++Ct:Ct=-1}return xe}var Me={resolve:function(){for(var ce,Ce="",be=!1,xe=arguments.length-1;xe>=-1&&!be;xe--){var Ne;xe>=0?Ne=arguments[xe]:(ce===void 0&&(ce=process.cwd()),Ne=ce),ue(Ne),Ne.length!==0&&(Ce=Ne+"/"+Ce,be=Ne.charCodeAt(0)===47)}return Ce=Fe(Ce,!be),be?Ce.length>0?"/"+Ce:"/":Ce.length>0?Ce:"."},normalize:function(ce){if(ue(ce),ce.length===0)return".";var Ce=ce.charCodeAt(0)===47,be=ce.charCodeAt(ce.length-1)===47;return(ce=Fe(ce,!Ce)).length!==0||Ce||(ce="."),ce.length>0&&be&&(ce+="/"),Ce?"/"+ce:ce},isAbsolute:function(ce){return ue(ce),ce.length>0&&ce.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var ce,Ce=0;Ce<arguments.length;++Ce){var be=arguments[Ce];ue(be),be.length>0&&(ce===void 0?ce=be:ce+="/"+be)}return ce===void 0?".":Me.normalize(ce)},relative:function(ce,Ce){if(ue(ce),ue(Ce),ce===Ce||(ce=Me.resolve(ce))===(Ce=Me.resolve(Ce)))return"";for(var be=1;be<ce.length&&ce.charCodeAt(be)===47;++be);for(var xe=ce.length,Ne=xe-be,$e=1;$e<Ce.length&&Ce.charCodeAt($e)===47;++$e);for(var Ct=Ce.length-$e,ze=Ne<Ct?Ne:Ct,st=-1,at=0;at<=ze;++at){if(at===ze){if(Ct>ze){if(Ce.charCodeAt($e+at)===47)return Ce.slice($e+at+1);if(at===0)return Ce.slice($e+at)}else Ne>ze&&(ce.charCodeAt(be+at)===47?st=at:at===0&&(st=0));break}var tt=ce.charCodeAt(be+at);if(tt!==Ce.charCodeAt($e+at))break;tt===47&&(st=at)}var fr="";for(at=be+st+1;at<=xe;++at)at!==xe&&ce.charCodeAt(at)!==47||(fr.length===0?fr+="..":fr+="/..");return fr.length>0?fr+Ce.slice($e+st):($e+=st,Ce.charCodeAt($e)===47&&++$e,Ce.slice($e))},_makeLong:function(ce){return ce},dirname:function(ce){if(ue(ce),ce.length===0)return".";for(var Ce=ce.charCodeAt(0),be=Ce===47,xe=-1,Ne=!0,$e=ce.length-1;$e>=1;--$e)if((Ce=ce.charCodeAt($e))===47){if(!Ne){xe=$e;break}}else Ne=!1;return xe===-1?be?"/":".":be&&xe===1?"//":ce.slice(0,xe)},basename:function(ce,Ce){if(Ce!==void 0&&typeof Ce!="string")throw new TypeError('"ext" argument must be a string');ue(ce);var be,xe=0,Ne=-1,$e=!0;if(Ce!==void 0&&Ce.length>0&&Ce.length<=ce.length){if(Ce.length===ce.length&&Ce===ce)return"";var Ct=Ce.length-1,ze=-1;for(be=ce.length-1;be>=0;--be){var st=ce.charCodeAt(be);if(st===47){if(!$e){xe=be+1;break}}else ze===-1&&($e=!1,ze=be+1),Ct>=0&&(st===Ce.charCodeAt(Ct)?--Ct==-1&&(Ne=be):(Ct=-1,Ne=ze))}return xe===Ne?Ne=ze:Ne===-1&&(Ne=ce.length),ce.slice(xe,Ne)}for(be=ce.length-1;be>=0;--be)if(ce.charCodeAt(be)===47){if(!$e){xe=be+1;break}}else Ne===-1&&($e=!1,Ne=be+1);return Ne===-1?"":ce.slice(xe,Ne)},extname:function(ce){ue(ce);for(var Ce=-1,be=0,xe=-1,Ne=!0,$e=0,Ct=ce.length-1;Ct>=0;--Ct){var ze=ce.charCodeAt(Ct);if(ze!==47)xe===-1&&(Ne=!1,xe=Ct+1),ze===46?Ce===-1?Ce=Ct:$e!==1&&($e=1):Ce!==-1&&($e=-1);else if(!Ne){be=Ct+1;break}}return Ce===-1||xe===-1||$e===0||$e===1&&Ce===xe-1&&Ce===be+1?"":ce.slice(Ce,xe)},format:function(ce){if(ce===null||typeof ce!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof ce);return function(Ce,be){var xe=be.dir||be.root,Ne=be.base||(be.name||"")+(be.ext||"");return xe?xe===be.root?xe+Ne:xe+"/"+Ne:Ne}(0,ce)},parse:function(ce){ue(ce);var Ce={root:"",dir:"",base:"",ext:"",name:""};if(ce.length===0)return Ce;var be,xe=ce.charCodeAt(0),Ne=xe===47;Ne?(Ce.root="/",be=1):be=0;for(var $e=-1,Ct=0,ze=-1,st=!0,at=ce.length-1,tt=0;at>=be;--at)if((xe=ce.charCodeAt(at))!==47)ze===-1&&(st=!1,ze=at+1),xe===46?$e===-1?$e=at:tt!==1&&(tt=1):$e!==-1&&(tt=-1);else if(!st){Ct=at+1;break}return $e===-1||ze===-1||tt===0||tt===1&&$e===ze-1&&$e===Ct+1?ze!==-1&&(Ce.base=Ce.name=Ct===0&&Ne?ce.slice(1,ze):ce.slice(Ct,ze)):(Ct===0&&Ne?(Ce.name=ce.slice(1,$e),Ce.base=ce.slice(1,ze)):(Ce.name=ce.slice(Ct,$e),Ce.base=ce.slice(Ct,ze)),Ce.ext=ce.slice($e,ze)),Ct>0?Ce.dir=ce.slice(0,Ct-1):Ne&&(Ce.dir="/"),Ce},sep:"/",delimiter:":",win32:null,posix:null};Me.posix=Me,ae.exports=Me}},e={};function t(ae){var ue=e[ae];if(ue!==void 0)return ue.exports;var Fe=e[ae]={exports:{}};return r[ae](Fe,Fe.exports,t),Fe.exports}t.d=(ae,ue)=>{for(var Fe in ue)t.o(ue,Fe)&&!t.o(ae,Fe)&&Object.defineProperty(ae,Fe,{enumerable:!0,get:ue[Fe]})},t.o=(ae,ue)=>Object.prototype.hasOwnProperty.call(ae,ue),t.r=ae=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ae,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ae,"__esModule",{value:!0})};var n={};let i;t.r(n),t.d(n,{URI:()=>f,Utils:()=>De}),typeof process=="object"?i=process.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);let o=/^\w[\w\d+.-]*$/,s=/^\//,a=/^\/\//;function c(ae,ue){if(!ae.scheme&&ue)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${ae.authority}", path: "${ae.path}", query: "${ae.query}", fragment: "${ae.fragment}"}`);if(ae.scheme&&!o.test(ae.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(ae.path){if(ae.authority){if(!s.test(ae.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(a.test(ae.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}let u="",l="/",d=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class f{static isUri(ue){return ue instanceof f||!!ue&&typeof ue.authority=="string"&&typeof ue.fragment=="string"&&typeof ue.path=="string"&&typeof ue.query=="string"&&typeof ue.scheme=="string"&&typeof ue.fsPath=="string"&&typeof ue.with=="function"&&typeof ue.toString=="function"}scheme;authority;path;query;fragment;constructor(ue,Fe,Me,ce,Ce,be=!1){typeof ue=="object"?(this.scheme=ue.scheme||u,this.authority=ue.authority||u,this.path=ue.path||u,this.query=ue.query||u,this.fragment=ue.fragment||u):(this.scheme=function(xe,Ne){return xe||Ne?xe:"file"}(ue,be),this.authority=Fe||u,this.path=function(xe,Ne){switch(xe){case"https":case"http":case"file":Ne?Ne[0]!==l&&(Ne=l+Ne):Ne=l}return Ne}(this.scheme,Me||u),this.query=ce||u,this.fragment=Ce||u,c(this,be))}get fsPath(){return A(this,!1)}with(ue){if(!ue)return this;let{scheme:Fe,authority:Me,path:ce,query:Ce,fragment:be}=ue;return Fe===void 0?Fe=this.scheme:Fe===null&&(Fe=u),Me===void 0?Me=this.authority:Me===null&&(Me=u),ce===void 0?ce=this.path:ce===null&&(ce=u),Ce===void 0?Ce=this.query:Ce===null&&(Ce=u),be===void 0?be=this.fragment:be===null&&(be=u),Fe===this.scheme&&Me===this.authority&&ce===this.path&&Ce===this.query&&be===this.fragment?this:new _(Fe,Me,ce,Ce,be)}static parse(ue,Fe=!1){let Me=d.exec(ue);return Me?new _(Me[2]||u,ve(Me[4]||u),ve(Me[5]||u),ve(Me[7]||u),ve(Me[9]||u),Fe):new _(u,u,u,u,u)}static file(ue){let Fe=u;if(i&&(ue=ue.replace(/\\/g,l)),ue[0]===l&&ue[1]===l){let Me=ue.indexOf(l,2);Me===-1?(Fe=ue.substring(2),ue=l):(Fe=ue.substring(2,Me),ue=ue.substring(Me)||l)}return new _("file",Fe,ue,u,u)}static from(ue){let Fe=new _(ue.scheme,ue.authority,ue.path,ue.query,ue.fragment);return c(Fe,!0),Fe}toString(ue=!1){return U(this,ue)}toJSON(){return this}static revive(ue){if(ue){if(ue instanceof f)return ue;{let Fe=new _(ue);return Fe._formatted=ue.external,Fe._fsPath=ue._sep===p?ue.fsPath:null,Fe}}return ue}}let p=i?1:void 0;class _ extends f{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=A(this,!1)),this._fsPath}toString(ue=!1){return ue?U(this,!0):(this._formatted||(this._formatted=U(this,!1)),this._formatted)}toJSON(){let ue={$mid:1};return this._fsPath&&(ue.fsPath=this._fsPath,ue._sep=p),this._formatted&&(ue.external=this._formatted),this.path&&(ue.path=this.path),this.scheme&&(ue.scheme=this.scheme),this.authority&&(ue.authority=this.authority),this.query&&(ue.query=this.query),this.fragment&&(ue.fragment=this.fragment),ue}}let D={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function P(ae,ue,Fe){let Me,ce=-1;for(let Ce=0;Ce<ae.length;Ce++){let be=ae.charCodeAt(Ce);if(be>=97&&be<=122||be>=65&&be<=90||be>=48&&be<=57||be===45||be===46||be===95||be===126||ue&&be===47||Fe&&be===91||Fe&&be===93||Fe&&be===58)ce!==-1&&(Me+=encodeURIComponent(ae.substring(ce,Ce)),ce=-1),Me!==void 0&&(Me+=ae.charAt(Ce));else{Me===void 0&&(Me=ae.substr(0,Ce));let xe=D[be];xe!==void 0?(ce!==-1&&(Me+=encodeURIComponent(ae.substring(ce,Ce)),ce=-1),Me+=xe):ce===-1&&(ce=Ce)}}return ce!==-1&&(Me+=encodeURIComponent(ae.substring(ce))),Me!==void 0?Me:ae}function M(ae){let ue;for(let Fe=0;Fe<ae.length;Fe++){let Me=ae.charCodeAt(Fe);Me===35||Me===63?(ue===void 0&&(ue=ae.substr(0,Fe)),ue+=D[Me]):ue!==void 0&&(ue+=ae[Fe])}return ue!==void 0?ue:ae}function A(ae,ue){let Fe;return Fe=ae.authority&&ae.path.length>1&&ae.scheme==="file"?`//${ae.authority}${ae.path}`:ae.path.charCodeAt(0)===47&&(ae.path.charCodeAt(1)>=65&&ae.path.charCodeAt(1)<=90||ae.path.charCodeAt(1)>=97&&ae.path.charCodeAt(1)<=122)&&ae.path.charCodeAt(2)===58?ue?ae.path.substr(1):ae.path[1].toLowerCase()+ae.path.substr(2):ae.path,i&&(Fe=Fe.replace(/\//g,"\\")),Fe}function U(ae,ue){let Fe=ue?M:P,Me="",{scheme:ce,authority:Ce,path:be,query:xe,fragment:Ne}=ae;if(ce&&(Me+=ce,Me+=":"),(Ce||ce==="file")&&(Me+=l,Me+=l),Ce){let $e=Ce.indexOf("@");if($e!==-1){let Ct=Ce.substr(0,$e);Ce=Ce.substr($e+1),$e=Ct.lastIndexOf(":"),$e===-1?Me+=Fe(Ct,!1,!1):(Me+=Fe(Ct.substr(0,$e),!1,!1),Me+=":",Me+=Fe(Ct.substr($e+1),!1,!0)),Me+="@"}Ce=Ce.toLowerCase(),$e=Ce.lastIndexOf(":"),$e===-1?Me+=Fe(Ce,!1,!0):(Me+=Fe(Ce.substr(0,$e),!1,!0),Me+=Ce.substr($e))}if(be){if(be.length>=3&&be.charCodeAt(0)===47&&be.charCodeAt(2)===58){let $e=be.charCodeAt(1);$e>=65&&$e<=90&&(be=`/${String.fromCharCode($e+32)}:${be.substr(3)}`)}else if(be.length>=2&&be.charCodeAt(1)===58){let $e=be.charCodeAt(0);$e>=65&&$e<=90&&(be=`${String.fromCharCode($e+32)}:${be.substr(2)}`)}Me+=Fe(be,!0,!1)}return xe&&(Me+="?",Me+=Fe(xe,!1,!1)),Ne&&(Me+="#",Me+=ue?Ne:P(Ne,!1,!1)),Me}function ne(ae){try{return decodeURIComponent(ae)}catch{return ae.length>3?ae.substr(0,3)+ne(ae.substr(3)):ae}}let pe=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function ve(ae){return ae.match(pe)?ae.replace(pe,ue=>ne(ue)):ae}var V=t(975);let W=V.posix||V,ee="/";var De;(function(ae){ae.joinPath=function(ue,...Fe){return ue.with({path:W.join(ue.path,...Fe)})},ae.resolvePath=function(ue,...Fe){let Me=ue.path,ce=!1;Me[0]!==ee&&(Me=ee+Me,ce=!0);let Ce=W.resolve(Me,...Fe);return ce&&Ce[0]===ee&&!ue.authority&&(Ce=Ce.substring(1)),ue.with({path:Ce})},ae.dirname=function(ue){if(ue.path.length===0||ue.path===ee)return ue;let Fe=W.dirname(ue.path);return Fe.length===1&&Fe.charCodeAt(0)===46&&(Fe=""),ue.with({path:Fe})},ae.basename=function(ue){return W.basename(ue.path)},ae.extname=function(ue){return W.extname(ue.path)}})(De||(De={})),JHe=n})();({URI:XHe,Utils:icr}=JHe)});function Ole(r){let e=r[0],t=r[r.length-1];return e===t&&(e==="'"||e==='"')&&(r=r.substring(1,r.length-1)),r}function LNt(r,e){return!r.length||e==="handlebars"&&/{{|}}/.test(r)?!1:/\b(w[\w\d+.-]*:\/\/)?[^\s()<>]+(?:\([\w\d]+\)|([^[:punct:]\s]|\/?))/.test(r)}function MNt(r,e,t,n){if(/^\s*javascript\:/i.test(e)||/[\n\r]/.test(e))return;e=e.replace(/^\s*/g,"");let i=e.match(/^(\w[\w\d+.-]*):/);if(i){let o=i[1].toLowerCase();return o==="http"||o==="https"||o==="file"?e:void 0}return/^\#/i.test(e)?r+e:/^\/\//i.test(e)?(S_(r,"https://")?"https":"http")+":"+e.replace(/^\s*/g,""):t?t.resolveReference(e,n||r):e}function NNt(r,e,t,n,i,o){let s=Ole(t);if(!LNt(s,r.languageId))return;s.length<t.length&&(n++,i--);let a=MNt(r.uri,s,e,o);if(!a)return;let c=qNt(a,r);return{range:Pi.create(r.positionAt(n),r.positionAt(i)),target:c}}function qNt(r,e){try{let t=XHe.parse(r);return t.scheme==="file"&&t.query&&(t=t.with({query:null}),r=t.toString(!0)),t.scheme==="file"&&t.fragment&&!(r.startsWith(e.uri)&&r.charCodeAt(e.uri.length)===FNt)?t.with({fragment:null}).toString(!0):r}catch{return}}var FNt,E4,ZHe=Ti(()=>{lC();PI();QHe();Lm();FNt=35;E4=class{constructor(e){this.dataManager=e}findDocumentLinks(e,t){let n=[],i=$u(e.getText(),0),o=i.scan(),s,a,c=!1,u,l={};for(;o!==Xt.EOS;){switch(o){case Xt.StartTag:a=i.getTokenText().toLowerCase(),u||(c=a==="base");break;case Xt.AttributeName:s=i.getTokenText().toLowerCase();break;case Xt.AttributeValue:if(a&&s&&this.dataManager.isPathAttribute(a,s)){let d=i.getTokenText();if(!c){let f=NNt(e,t,d,i.getTokenOffset(),i.getTokenEnd(),u);f&&n.push(f)}c&&typeof u>"u"&&(u=Ole(d),u&&t&&(u=t.resolveReference(u,e.uri))),c=!1,s=void 0}else if(s==="id"){let d=Ole(i.getTokenText());l[d]=i.getTokenOffset()}break}o=i.scan()}for(let d of n){let f=e.uri+"#";if(d.target&&S_(d.target,f)){let p=d.target.substring(f.length),_=l[p];if(_!==void 0){let D=e.positionAt(_);d.target=`${f}${D.line+1},${D.character+1}`}else d.target=e.uri}}return n}}});function nBe(r,e,t){let n=r.offsetAt(e),i=t.findNodeAt(n);if(!i.tag)return[];let o=[],s=rBe(Xt.StartTag,r,i.start),a=typeof i.endTagStart=="number"&&rBe(Xt.EndTag,r,i.endTagStart);return(s&&tBe(s,e)||a&&tBe(a,e))&&(s&&o.push({kind:YE.Read,range:s}),a&&o.push({kind:YE.Read,range:a})),o}function eBe(r,e){return r.line<e.line||r.line===e.line&&r.character<=e.character}function tBe(r,e){return eBe(r.start,e)&&eBe(e,r.end)}function rBe(r,e,t){let n=$u(e.getText(),t),i=n.scan();for(;i!==Xt.EOS&&i!==r;)i=n.scan();return i!==Xt.EOS?{start:e.positionAt(n.getTokenOffset()),end:e.positionAt(n.getTokenEnd())}:null}var iBe=Ti(()=>{lC();Lm()});function oBe(r,e){let t=[],n=Ile(r,e);for(let o of n)i(o,void 0);return t;function i(o,s){let a=DI.create(o.name,o.kind,o.range,r.uri,s?.name);if(a.containerName??(a.containerName=""),t.push(a),o.children)for(let c of o.children)i(c,o)}}function Ile(r,e){let t=[];return e.roots.forEach(n=>{sBe(r,n,t)}),t}function sBe(r,e,t){let n=jNt(e),i=Pi.create(r.positionAt(e.start),r.positionAt(e.end)),o=EI.create(n,void 0,TI.Field,i,i);t.push(o),e.children.forEach(s=>{o.children??(o.children=[]),sBe(r,s,o.children)})}function jNt(r){let e=r.tag;if(r.attributes){let t=r.attributes.id,n=r.attributes.class;t&&(e+=`#${t.replace(/[\"\']/g,"")}`),n&&(e+=n.replace(/[\"\']/g,"").split(/\s+/).map(i=>`.${i}`).join(""))}return e||"?"}var aBe=Ti(()=>{Lm()});function cBe(r,e,t,n){let i=r.offsetAt(e),o=n.findNodeAt(i);if(!o.tag||!zNt(o,i,o.tag))return null;let s=[],a={start:r.positionAt(o.start+1),end:r.positionAt(o.start+1+o.tag.length)};if(s.push({range:a,newText:t}),o.endTagStart){let u={start:r.positionAt(o.endTagStart+2),end:r.positionAt(o.endTagStart+2+o.tag.length)};s.push({range:u,newText:t})}return{changes:{[r.uri.toString()]:s}}}function zNt(r,e,t){return r.endTagStart&&r.endTagStart+2<=e&&e<=r.endTagStart+2+t.length?!0:r.start+1<=e&&e<=r.start+1+t.length}var uBe=Ti(()=>{});function lBe(r,e,t){let n=r.offsetAt(e),i=t.findNodeAt(n);if(!i.tag||!i.endTagStart)return null;if(i.start+1<=n&&n<=i.start+1+i.tag.length){let o=n-1-i.start+i.endTagStart+2;return r.positionAt(o)}if(i.endTagStart+2<=n&&n<=i.endTagStart+2+i.tag.length){let o=n-2-i.endTagStart+i.start+1;return r.positionAt(o)}return null}var dBe=Ti(()=>{});function kle(r,e,t){let n=r.offsetAt(e),i=t.findNodeAt(n),o=i.tag?i.tag.length:0;return i.endTagStart&&(i.start+1<=n&&n<=i.start+1+o||i.endTagStart+2<=n&&n<=i.endTagStart+2+o)?[Pi.create(r.positionAt(i.start+1),r.positionAt(i.start+1+o)),Pi.create(r.positionAt(i.endTagStart+2),r.positionAt(i.endTagStart+2+o))]:null}var fBe=Ti(()=>{Lm()});var R4,hBe=Ti(()=>{Lm();lC();R4=class{constructor(e){this.dataManager=e}limitRanges(e,t){e=e.sort((d,f)=>{let p=d.startLine-f.startLine;return p===0&&(p=d.endLine-f.endLine),p});let n,i=[],o=[],s=[],a=(d,f)=>{o[d]=f,f<30&&(s[f]=(s[f]||0)+1)};for(let d=0;d<e.length;d++){let f=e[d];if(!n)n=f,a(d,0);else if(f.startLine>n.startLine){if(f.endLine<=n.endLine)i.push(n),n=f,a(d,i.length);else if(f.startLine>n.endLine){do n=i.pop();while(n&&f.startLine>n.endLine);n&&i.push(n),n=f,a(d,i.length)}}}let c=0,u=0;for(let d=0;d<s.length;d++){let f=s[d];if(f){if(f+c>t){u=d;break}c+=f}}let l=[];for(let d=0;d<e.length;d++){let f=o[d];typeof f=="number"&&(f<u||f===u&&c++<t)&&l.push(e[d])}return l}getFoldingRanges(e,t){let n=$u(e.getText()),i=n.scan(),o=[],s=[],a=null,c=-1,u;function l(f){o.push(f),c=f.startLine}for(;i!==Xt.EOS;){switch(i){case Xt.StartTag:{let f=n.getTokenText(),p=e.positionAt(n.getTokenOffset()).line;s.push({startLine:p,tagName:f}),a=f;break}case Xt.EndTag:{a=n.getTokenText();break}case Xt.StartTagClose:if(!a||(u??(u=this.dataManager.getVoidElements(e.languageId)),!this.dataManager.isVoidElement(a,u)))break;case Xt.EndTagClose:case Xt.StartTagSelfClose:{let f=s.length-1;for(;f>=0&&s[f].tagName!==a;)f--;if(f>=0){let p=s[f];s.length=f;let _=e.positionAt(n.getTokenOffset()).line,D=p.startLine,P=_-1;P>D&&c!==D&&l({startLine:D,endLine:P})}break}case Xt.Comment:{let f=e.positionAt(n.getTokenOffset()).line,_=n.getTokenText().match(/^\s*#(region\b)|(endregion\b)/);if(_)if(_[1])s.push({startLine:f,tagName:""});else{let D=s.length-1;for(;D>=0&&s[D].tagName.length;)D--;if(D>=0){let P=s[D];s.length=D;let M=f;f=P.startLine,M>f&&c!==f&&l({startLine:f,endLine:M,kind:GE.Region})}}else{let D=e.positionAt(n.getTokenOffset()+n.getTokenLength()).line;f<D&&l({startLine:f,endLine:D,kind:GE.Comment})}break}}i=n.scan()}let d=t&&t.rangeLimit||Number.MAX_VALUE;return o.length>d?this.limitRanges(o,d):o}}});var P4,pBe=Ti(()=>{lC();Lm();P4=class{constructor(e){this.htmlParser=e}getSelectionRanges(e,t){let n=this.htmlParser.parseDocument(e);return t.map(i=>this.getSelectionRange(i,e,n))}getSelectionRange(e,t,n){let i=this.getApplicableRanges(t,e,n),o,s;for(let a=i.length-1;a>=0;a--){let c=i[a];(!o||c[0]!==o[0]||c[1]!==o[1])&&(s=JE.create(Pi.create(t.positionAt(i[a][0]),t.positionAt(i[a][1])),s)),o=c}return s||(s=JE.create(Pi.create(e,e))),s}getApplicableRanges(e,t,n){let i=e.offsetAt(t),o=n.findNodeAt(i),s=this.getAllParentTagRanges(o);if(o.startTagEnd&&!o.endTagStart){if(o.startTagEnd!==o.end)return[[o.start,o.end]];let a=Pi.create(e.positionAt(o.startTagEnd-2),e.positionAt(o.startTagEnd));return e.getText(a)==="/>"?s.unshift([o.start+1,o.startTagEnd-2]):s.unshift([o.start+1,o.startTagEnd-1]),s=this.getAttributeLevelRanges(e,o,i).concat(s),s}return!o.startTagEnd||!o.endTagStart?s:(s.unshift([o.start,o.end]),o.start<i&&i<o.startTagEnd?(s.unshift([o.start+1,o.startTagEnd-1]),s=this.getAttributeLevelRanges(e,o,i).concat(s),s):o.startTagEnd<=i&&i<=o.endTagStart?(s.unshift([o.startTagEnd,o.endTagStart]),s):(i>=o.endTagStart+2&&s.unshift([o.endTagStart+2,o.end-1]),s))}getAllParentTagRanges(e){let t=e,n=[];for(;t.parent;)t=t.parent,this.getNodeRanges(t).forEach(i=>n.push(i));return n}getNodeRanges(e){return e.startTagEnd&&e.endTagStart&&e.startTagEnd<e.endTagStart?[[e.startTagEnd,e.endTagStart],[e.start,e.end]]:[[e.start,e.end]]}getAttributeLevelRanges(e,t,n){let i=Pi.create(e.positionAt(t.start),e.positionAt(t.end)),o=e.getText(i),s=n-t.start,a=$u(o),c=a.scan(),u=t.start,l=[],d=!1,f=-1;for(;c!==Xt.EOS;){switch(c){case Xt.AttributeName:{if(s<a.getTokenOffset()){d=!1;break}s<=a.getTokenEnd()&&l.unshift([a.getTokenOffset(),a.getTokenEnd()]),d=!0,f=a.getTokenOffset();break}case Xt.AttributeValue:{if(!d)break;let p=a.getTokenText();if(s<a.getTokenOffset()){l.push([f,a.getTokenEnd()]);break}s>=a.getTokenOffset()&&s<=a.getTokenEnd()&&(l.unshift([a.getTokenOffset(),a.getTokenEnd()]),(p[0]==='"'&&p[p.length-1]==='"'||p[0]==="'"&&p[p.length-1]==="'")&&s>=a.getTokenOffset()+1&&s<=a.getTokenEnd()-1&&l.unshift([a.getTokenOffset()+1,a.getTokenEnd()-1]),l.push([f,a.getTokenEnd()]));break}}c=a.scan()}return l.map(p=>[p[0]+u,p[1]+u])}}});var x4,Ale=Ti(()=>{x4={version:1.1,tags:[{name:"html",description:{kind:"markdown",value:"The html element represents the root of an HTML document."},attributes:[{name:"manifest",description:{kind:"markdown",value:"Specifies the URI of a resource manifest indicating resources that should be cached locally. See [Using the application cache](https://developer.mozilla.org/en-US/docs/Web/HTML/Using_the_application_cache) for details."}},{name:"version",description:'Specifies the version of the HTML [Document Type Definition](https://developer.mozilla.org/en-US/docs/Glossary/DTD "Document Type Definition: In HTML, the doctype is the required "<!DOCTYPE html>" preamble found at the top of all documents. Its sole purpose is to prevent a browser from switching into so-called \u201Cquirks mode\u201D when rendering a document; that is, the "<!DOCTYPE html>" doctype ensures that the browser makes a best-effort attempt at following the relevant specifications, rather than using a different rendering mode that is incompatible with some specifications.") that governs the current document. This attribute is not needed, because it is redundant with the version information in the document type declaration.'},{name:"xmlns",description:'Specifies the XML Namespace of the document. Default value is `"http://www.w3.org/1999/xhtml"`. This is required in documents parsed with XML parsers, and optional in text/html documents.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/html"}]},{name:"head",description:{kind:"markdown",value:"The head element represents a collection of metadata for the Document."},attributes:[{name:"profile",description:"The URIs of one or more metadata profiles, separated by white space."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/head"}]},{name:"title",description:{kind:"markdown",value:"The title element represents the document's title or name. Authors should use titles that identify their documents even when they are used out of context, for example in a user's history or bookmarks, or in search results. The document's title is often different from its first heading, since the first heading does not have to stand alone when taken out of context."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/title"}]},{name:"base",description:{kind:"markdown",value:"The base element allows authors to specify the document base URL for the purposes of resolving relative URLs, and the name of the default browsing context for the purposes of following hyperlinks. The element does not represent any content beyond this information."},void:!0,attributes:[{name:"href",description:{kind:"markdown",value:"The base URL to be used throughout the document for relative URL addresses. If this attribute is specified, this element must come before any other elements with attributes whose values are URLs. Absolute and relative URLs are allowed."}},{name:"target",valueSet:"target",description:{kind:"markdown",value:"A name or keyword indicating the default location to display the result when hyperlinks or forms cause navigation, for elements that do not have an explicit target reference. It is a name of, or keyword for, a _browsing context_ (for example: tab, window, or inline frame). The following keywords have special meanings:\n\n*   `_self`: Load the result into the same browsing context as the current one. This value is the default if the attribute is not specified.\n*   `_blank`: Load the result into a new unnamed browsing context.\n*   `_parent`: Load the result into the parent browsing context of the current one. If there is no parent, this option behaves the same way as `_self`.\n*   `_top`: Load the result into the top-level browsing context (that is, the browsing context that is an ancestor of the current one, and has no parent). If there is no parent, this option behaves the same way as `_self`.\n\nIf this attribute is specified, this element must come before any other elements with attributes whose values are URLs."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/base"}]},{name:"link",description:{kind:"markdown",value:"The link element allows authors to link their document to other resources."},void:!0,attributes:[{name:"href",description:{kind:"markdown",value:'This attribute specifies the [URL](https://developer.mozilla.org/en-US/docs/Glossary/URL "URL: Uniform Resource Locator (URL) is a text string specifying where a resource can be found on the Internet.") of the linked resource. A URL can be absolute or relative.'}},{name:"crossorigin",valueSet:"xo",description:{kind:"markdown",value:'This enumerated attribute indicates whether [CORS](https://developer.mozilla.org/en-US/docs/Glossary/CORS "CORS: CORS (Cross-Origin Resource Sharing) is a system, consisting of transmitting HTTP headers, that determines whether browsers block frontend JavaScript code from accessing responses for cross-origin requests.") must be used when fetching the resource. [CORS-enabled images](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_Enabled_Image) can be reused in the [`<canvas>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas "Use the HTML <canvas> element with either the canvas scripting API or the WebGL API to draw graphics and animations.") element without being _tainted_. The allowed values are:\n\n`anonymous`\n\nA cross-origin request (i.e. with an [`Origin`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Origin "The Origin request header indicates where a fetch originates from. It doesn\'t include any path information, but only the server name. It is sent with CORS requests, as well as with POST requests. It is similar to the Referer header, but, unlike this header, it doesn\'t disclose the whole path.") HTTP header) is performed, but no credential is sent (i.e. no cookie, X.509 certificate, or HTTP Basic authentication). If the server does not give credentials to the origin site (by not setting the [`Access-Control-Allow-Origin`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Origin "The Access-Control-Allow-Origin response header indicates whether the response can be shared with requesting code from the given origin.") HTTP header) the image will be tainted and its usage restricted.\n\n`use-credentials`\n\nA cross-origin request (i.e. with an `Origin` HTTP header) is performed along with a credential sent (i.e. a cookie, certificate, and/or HTTP Basic authentication is performed). If the server does not give credentials to the origin site (through [`Access-Control-Allow-Credentials`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Credentials "The Access-Control-Allow-Credentials response header tells browsers whether to expose the response to frontend JavaScript code when the request\'s credentials mode (Request.credentials) is "include".") HTTP header), the resource will be _tainted_ and its usage restricted.\n\nIf the attribute is not present, the resource is fetched without a [CORS](https://developer.mozilla.org/en-US/docs/Glossary/CORS "CORS: CORS (Cross-Origin Resource Sharing) is a system, consisting of transmitting HTTP headers, that determines whether browsers block frontend JavaScript code from accessing responses for cross-origin requests.") request (i.e. without sending the `Origin` HTTP header), preventing its non-tainted usage. If invalid, it is handled as if the enumerated keyword **anonymous** was used. See [CORS settings attributes](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_settings_attributes) for additional information.'}},{name:"rel",description:{kind:"markdown",value:"This attribute names a relationship of the linked document to the current document. The attribute must be a space-separated list of the [link types values](https://developer.mozilla.org/en-US/docs/Web/HTML/Link_types)."}},{name:"media",description:{kind:"markdown",value:"This attribute specifies the media that the linked resource applies to. Its value must be a media type / [media query](https://developer.mozilla.org/en-US/docs/Web/CSS/Media_queries). This attribute is mainly useful when linking to external stylesheets \u2014 it allows the user agent to pick the best adapted one for the device it runs on.\n\n**Notes:**\n\n*   In HTML 4, this can only be a simple white-space-separated list of media description literals, i.e., [media types and groups](https://developer.mozilla.org/en-US/docs/Web/CSS/@media), where defined and allowed as values for this attribute, such as `print`, `screen`, `aural`, `braille`. HTML5 extended this to any kind of [media queries](https://developer.mozilla.org/en-US/docs/Web/CSS/Media_queries), which are a superset of the allowed values of HTML 4.\n*   Browsers not supporting [CSS3 Media Queries](https://developer.mozilla.org/en-US/docs/Web/CSS/Media_queries) won't necessarily recognize the adequate link; do not forget to set fallback links, the restricted set of media queries defined in HTML 4."}},{name:"hreflang",description:{kind:"markdown",value:"This attribute indicates the language of the linked resource. It is purely advisory. Allowed values are determined by [BCP47](https://www.ietf.org/rfc/bcp/bcp47.txt). Use this attribute only if the [`href`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a#attr-href) attribute is present."}},{name:"type",description:{kind:"markdown",value:'This attribute is used to define the type of the content linked to. The value of the attribute should be a MIME type such as **text/html**, **text/css**, and so on. The common use of this attribute is to define the type of stylesheet being referenced (such as **text/css**), but given that CSS is the only stylesheet language used on the web, not only is it possible to omit the `type` attribute, but is actually now recommended practice. It is also used on `rel="preload"` link types, to make sure the browser only downloads file types that it supports.'}},{name:"sizes",description:{kind:"markdown",value:"This attribute defines the sizes of the icons for visual media contained in the resource. It must be present only if the [`rel`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-rel) contains a value of `icon` or a non-standard type such as Apple's `apple-touch-icon`. It may have the following values:\n\n*   `any`, meaning that the icon can be scaled to any size as it is in a vector format, like `image/svg+xml`.\n*   a white-space separated list of sizes, each in the format `_<width in pixels>_x_<height in pixels>_` or `_<width in pixels>_X_<height in pixels>_`. Each of these sizes must be contained in the resource.\n\n**Note:** Most icon formats are only able to store one single icon; therefore most of the time the [`sizes`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#attr-sizes) contains only one entry. MS's ICO format does, as well as Apple's ICNS. ICO is more ubiquitous; you should definitely use it."}},{name:"as",description:'This attribute is only used when `rel="preload"` or `rel="prefetch"` has been set on the `<link>` element. It specifies the type of content being loaded by the `<link>`, which is necessary for content prioritization, request matching, application of correct [content security policy](https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP), and setting of correct [`Accept`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept "The Accept request HTTP header advertises which content types, expressed as MIME types, the client is able to understand. Using content negotiation, the server then selects one of the proposals, uses it and informs the client of its choice with the Content-Type response header. Browsers set adequate values for this header depending on\xA0the context where the request is done: when fetching a CSS stylesheet a different value is set for the request than when fetching an image,\xA0video or a script.") request header.'},{name:"importance",description:"Indicates the relative importance of the resource. Priority hints are delegated using the values:"},{name:"importance",description:'**`auto`**: Indicates\xA0**no\xA0preference**. The browser may use its own heuristics to decide the priority of the resource.\n\n**`high`**: Indicates to the\xA0browser\xA0that the resource is of\xA0**high** priority.\n\n**`low`**:\xA0Indicates to the\xA0browser\xA0that the resource is of\xA0**low** priority.\n\n**Note:** The `importance` attribute may only be used for the `<link>` element if `rel="preload"` or `rel="prefetch"` is present.'},{name:"integrity",description:"Contains inline metadata \u2014 a base64-encoded cryptographic hash of the resource (file) you\u2019re telling the browser to fetch. The browser can use this to verify that the fetched resource has been delivered free of unexpected manipulation. See [Subresource Integrity](https://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity)."},{name:"referrerpolicy",description:'A string indicating which referrer to use when fetching the resource:\n\n*   `no-referrer` means that the [`Referer`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer "The Referer request header contains the address of the previous web page from which a link to the currently requested page was followed. The Referer header allows servers to identify where people are visiting them from and may use that data for analytics, logging, or optimized caching, for example.") header will not be sent.\n*   `no-referrer-when-downgrade` means that no [`Referer`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer "The Referer request header contains the address of the previous web page from which a link to the currently requested page was followed. The Referer header allows servers to identify where people are visiting them from and may use that data for analytics, logging, or optimized caching, for example.") header will be sent when navigating to an origin without TLS (HTTPS). This is a user agent\u2019s default behavior, if no policy is otherwise specified.\n*   `origin` means that the referrer will be the origin of the page, which is roughly the scheme, the host, and the port.\n*   `origin-when-cross-origin` means that navigating to other origins will be limited to the scheme, the host, and the port, while navigating on the same origin will include the referrer\'s path.\n*   `unsafe-url` means that the referrer will include the origin and the path (but not the fragment, password, or username). This case is unsafe because it can leak origins and paths from TLS-protected resources to insecure origins.'},{name:"title",description:'The `title` attribute has special semantics on the `<link>` element. When used on a `<link rel="stylesheet">` it defines a [preferred or an alternate stylesheet](https://developer.mozilla.org/en-US/docs/Web/CSS/Alternative_style_sheets). Incorrectly using it may [cause the stylesheet to be ignored](https://developer.mozilla.org/en-US/docs/Correctly_Using_Titles_With_External_Stylesheets).'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/link"}]},{name:"meta",description:{kind:"markdown",value:"The meta element represents various kinds of metadata that cannot be expressed using the title, base, link, style, and script elements."},void:!0,attributes:[{name:"name",description:{kind:"markdown",value:`This attribute defines the name of a piece of document-level metadata. It should not be set if one of the attributes [\`itemprop\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#attr-itemprop), [\`http-equiv\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-http-equiv) or [\`charset\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-charset) is also set.

This metadata name is associated with the value contained by the [\`content\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-content) attribute. The possible values for the name attribute are:

*   \`application-name\` which defines the name of the application running in the web page.
    
    **Note:**
    
    *   Browsers may use this to identify the application. It is different from the [\`<title>\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/title "The HTML Title element (<title>) defines the document's title that is shown in a browser's title bar or a page's tab.") element, which usually contain the application name, but may also contain information like the document name or a status.
    *   Simple web pages shouldn't define an application-name.
    
*   \`author\` which defines the name of the document's author.
*   \`description\` which contains a short and accurate summary of the content of the page. Several browsers, like Firefox and Opera, use this as the default description of bookmarked pages.
*   \`generator\` which contains the identifier of the software that generated the page.
*   \`keywords\` which contains words relevant to the page's content separated by commas.
*   \`referrer\` which controls the [\`Referer\` HTTP header](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer) attached to requests sent from the document:
    
    Values for the \`content\` attribute of \`<meta name="referrer">\`
    
    \`no-referrer\`
    
    Do not send a HTTP \`Referrer\` header.
    
    \`origin\`
    
    Send the [origin](https://developer.mozilla.org/en-US/docs/Glossary/Origin) of the document.
    
    \`no-referrer-when-downgrade\`
    
    Send the [origin](https://developer.mozilla.org/en-US/docs/Glossary/Origin) as a referrer to URLs as secure as the current page, (https\u2192https), but does not send a referrer to less secure URLs (https\u2192http). This is the default behaviour.
    
    \`origin-when-cross-origin\`
    
    Send the full URL (stripped of parameters) for same-origin requests, but only send the [origin](https://developer.mozilla.org/en-US/docs/Glossary/Origin) for other cases.
    
    \`same-origin\`
    
    A referrer will be sent for [same-site origins](https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy), but cross-origin requests will contain no referrer information.
    
    \`strict-origin\`
    
    Only send the origin of the document as the referrer to a-priori as-much-secure destination (HTTPS->HTTPS), but don't send it to a less secure destination (HTTPS->HTTP).
    
    \`strict-origin-when-cross-origin\`
    
    Send a full URL when performing a same-origin request, only send the origin of the document to a-priori as-much-secure destination (HTTPS->HTTPS), and send no header to a less secure destination (HTTPS->HTTP).
    
    \`unsafe-URL\`
    
    Send the full URL (stripped of parameters) for same-origin or cross-origin requests.
    
    **Notes:**
    
    *   Some browsers support the deprecated values of \`always\`, \`default\`, and \`never\` for referrer.
    *   Dynamically inserting \`<meta name="referrer">\` (with [\`document.write\`](https://developer.mozilla.org/en-US/docs/Web/API/Document/write) or [\`appendChild\`](https://developer.mozilla.org/en-US/docs/Web/API/Node/appendChild)) makes the referrer behaviour unpredictable.
    *   When several conflicting policies are defined, the no-referrer policy is applied.
    

This attribute may also have a value taken from the extended list defined on [WHATWG Wiki MetaExtensions page](https://wiki.whatwg.org/wiki/MetaExtensions). Although none have been formally accepted yet, a few commonly used names are:

*   \`creator\` which defines the name of the creator of the document, such as an organization or institution. If there are more than one, several [\`<meta>\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta "The HTML <meta> element represents metadata that cannot be represented by other HTML meta-related elements, like <base>, <link>, <script>, <style> or <title>.") elements should be used.
*   \`googlebot\`, a synonym of \`robots\`, is only followed by Googlebot (the indexing crawler for Google).
*   \`publisher\` which defines the name of the document's publisher.
*   \`robots\` which defines the behaviour that cooperative crawlers, or "robots", should use with the page. It is a comma-separated list of the values below:
    
    Values for the content of \`<meta name="robots">\`
    
    Value
    
    Description
    
    Used by
    
    \`index\`
    
    Allows the robot to index the page (default).
    
    All
    
    \`noindex\`
    
    Requests the robot to not index the page.
    
    All
    
    \`follow\`
    
    Allows the robot to follow the links on the page (default).
    
    All
    
    \`nofollow\`
    
    Requests the robot to not follow the links on the page.
    
    All
    
    \`none\`
    
    Equivalent to \`noindex, nofollow\`
    
    [Google](https://support.google.com/webmasters/answer/79812)
    
    \`noodp\`
    
    Prevents using the [Open Directory Project](https://www.dmoz.org/) description, if any, as the page description in search engine results.
    
    [Google](https://support.google.com/webmasters/answer/35624#nodmoz), [Yahoo](https://help.yahoo.com/kb/search-for-desktop/meta-tags-robotstxt-yahoo-search-sln2213.html#cont5), [Bing](https://www.bing.com/webmaster/help/which-robots-metatags-does-bing-support-5198d240)
    
    \`noarchive\`
    
    Requests the search engine not to cache the page content.
    
    [Google](https://developers.google.com/webmasters/control-crawl-index/docs/robots_meta_tag#valid-indexing--serving-directives), [Yahoo](https://help.yahoo.com/kb/search-for-desktop/SLN2213.html), [Bing](https://www.bing.com/webmaster/help/which-robots-metatags-does-bing-support-5198d240)
    
    \`nosnippet\`
    
    Prevents displaying any description of the page in search engine results.
    
    [Google](https://developers.google.com/webmasters/control-crawl-index/docs/robots_meta_tag#valid-indexing--serving-directives), [Bing](https://www.bing.com/webmaster/help/which-robots-metatags-does-bing-support-5198d240)
    
    \`noimageindex\`
    
    Requests this page not to appear as the referring page of an indexed image.
    
    [Google](https://developers.google.com/webmasters/control-crawl-index/docs/robots_meta_tag#valid-indexing--serving-directives)
    
    \`nocache\`
    
    Synonym of \`noarchive\`.
    
    [Bing](https://www.bing.com/webmaster/help/which-robots-metatags-does-bing-support-5198d240)
    
    **Notes:**
    
    *   Only cooperative robots follow these rules. Do not expect to prevent e-mail harvesters with them.
    *   The robot still needs to access the page in order to read these rules. To prevent bandwidth consumption, use a _[robots.txt](https://developer.mozilla.org/en-US/docs/Glossary/robots.txt "robots.txt: Robots.txt is a file which is usually placed in the root of any website. It decides whether\xA0crawlers are permitted or forbidden access to the web site.")_ file.
    *   If you want to remove a page, \`noindex\` will work, but only after the robot visits the page again. Ensure that the \`robots.txt\` file is not preventing revisits.
    *   Some values are mutually exclusive, like \`index\` and \`noindex\`, or \`follow\` and \`nofollow\`. In these cases the robot's behaviour is undefined and may vary between them.
    *   Some crawler robots, like Google, Yahoo and Bing, support the same values for the HTTP header \`X-Robots-Tag\`; this allows non-HTML documents like images to use these rules.
    
*   \`slurp\`, is a synonym of \`robots\`, but only for Slurp - the crawler for Yahoo Search.
*   \`viewport\`, which gives hints about the size of the initial size of the [viewport](https://developer.mozilla.org/en-US/docs/Glossary/viewport "viewport: A viewport represents a polygonal (normally rectangular) area in computer graphics that is currently being viewed. In web browser terms, it refers to the part of the document you're viewing which is currently visible in its window (or the screen, if the document is being viewed in full screen mode). Content outside the viewport is not visible onscreen until scrolled into view."). Used by mobile devices only.
    
    Values for the content of \`<meta name="viewport">\`
    
    Value
    
    Possible subvalues
    
    Description
    
    \`width\`
    
    A positive integer number, or the text \`device-width\`
    
    Defines the pixel width of the viewport that you want the web site to be rendered at.
    
    \`height\`
    
    A positive integer, or the text \`device-height\`
    
    Defines the height of the viewport. Not used by any browser.
    
    \`initial-scale\`
    
    A positive number between \`0.0\` and \`10.0\`
    
    Defines the ratio between the device width (\`device-width\` in portrait mode or \`device-height\` in landscape mode) and the viewport size.
    
    \`maximum-scale\`
    
    A positive number between \`0.0\` and \`10.0\`
    
    Defines the maximum amount to zoom in. It must be greater or equal to the \`minimum-scale\` or the behaviour is undefined. Browser settings can ignore this rule and iOS10+ ignores it by default.
    
    \`minimum-scale\`
    
    A positive number between \`0.0\` and \`10.0\`
    
    Defines the minimum zoom level. It must be smaller or equal to the \`maximum-scale\` or the behaviour is undefined. Browser settings can ignore this rule and iOS10+ ignores it by default.
    
    \`user-scalable\`
    
    \`yes\` or \`no\`
    
    If set to \`no\`, the user is not able to zoom in the webpage. The default is \`yes\`. Browser settings can ignore this rule, and iOS10+ ignores it by default.
    
    Specification
    
    Status
    
    Comment
    
    [CSS Device Adaptation  
    The definition of '<meta name="viewport">' in that specification.](https://drafts.csswg.org/css-device-adapt/#viewport-meta)
    
    Working Draft
    
    Non-normatively describes the Viewport META element
    
    See also: [\`@viewport\`](https://developer.mozilla.org/en-US/docs/Web/CSS/@viewport "The @viewport CSS at-rule lets you configure the viewport through which the document is viewed. It's primarily used for mobile devices, but is also used by desktop browsers that support features like "snap to edge" (such as Microsoft Edge).")
    
    **Notes:**
    
    *   Though unstandardized, this declaration is respected by most mobile browsers due to de-facto dominance.
    *   The default values may vary between devices and browsers.
    *   To learn about this declaration in Firefox for Mobile, see [this article](https://developer.mozilla.org/en-US/docs/Mobile/Viewport_meta_tag "Mobile/Viewport meta tag").`}},{name:"http-equiv",description:{kind:"markdown",value:'Defines a pragma directive. The attribute is named `**http-equiv**(alent)` because all the allowed values are names of particular HTTP headers:\n\n*   `"content-language"`  \n    Defines the default language of the page. It can be overridden by the [lang](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/lang) attribute on any element.\n    \n    **Warning:** Do not use this value, as it is obsolete. Prefer the `lang` attribute on the [`<html>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/html "The HTML <html> element represents the root (top-level element) of an HTML document, so it is also referred to as the root element. All other elements must be descendants of this element.") element.\n    \n*   `"content-security-policy"`  \n    Allows page authors to define a [content policy](https://developer.mozilla.org/en-US/docs/Web/Security/CSP/CSP_policy_directives) for the current page. Content policies mostly specify allowed server origins and script endpoints which help guard against cross-site scripting attacks.\n*   `"content-type"`  \n    Defines the [MIME type](https://developer.mozilla.org/en-US/docs/Glossary/MIME_type) of the document, followed by its character encoding. It follows the same syntax as the HTTP `content-type` entity-header field, but as it is inside a HTML page, most values other than `text/html` are impossible. Therefore the valid syntax for its `content` is the string \'`text/html`\' followed by a character set with the following syntax: \'`; charset=_IANAcharset_`\', where `IANAcharset` is the _preferred MIME name_ for a character set as [defined by the IANA.](https://www.iana.org/assignments/character-sets)\n    \n    **Warning:** Do not use this value, as it is obsolete. Use the [`charset`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-charset) attribute on the [`<meta>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta "The HTML <meta> element represents metadata that cannot be represented by other HTML meta-related elements, like <base>, <link>, <script>, <style> or <title>.") element.\n    \n    **Note:** As [`<meta>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta "The HTML <meta> element represents metadata that cannot be represented by other HTML meta-related elements, like <base>, <link>, <script>, <style> or <title>.") can\'t change documents\' types in XHTML or HTML5\'s XHTML serialization, never set the MIME type to an XHTML MIME type with `<meta>`.\n    \n*   `"refresh"`  \n    This instruction specifies:\n    *   The number of seconds until the page should be reloaded - only if the [`content`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-content) attribute contains a positive integer.\n    *   The number of seconds until the page should redirect to another - only if the [`content`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-content) attribute contains a positive integer followed by the string \'`;url=`\', and a valid URL.\n*   `"set-cookie"`  \n    Defines a [cookie](https://developer.mozilla.org/en-US/docs/cookie) for the page. Its content must follow the syntax defined in the [IETF HTTP Cookie Specification](https://tools.ietf.org/html/draft-ietf-httpstate-cookie-14).\n    \n    **Warning:** Do not use this instruction, as it is obsolete. Use the HTTP header [`Set-Cookie`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie) instead.'}},{name:"content",description:{kind:"markdown",value:"This attribute contains the value for the [`http-equiv`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-http-equiv) or [`name`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-name) attribute, depending on which is used."}},{name:"charset",description:{kind:"markdown",value:'This attribute declares the page\'s character encoding. It must contain a [standard IANA MIME name for character encodings](https://www.iana.org/assignments/character-sets). Although the standard doesn\'t request a specific encoding, it suggests:\n\n*   Authors are encouraged to use [`UTF-8`](https://developer.mozilla.org/en-US/docs/Glossary/UTF-8).\n*   Authors should not use ASCII-incompatible encodings to avoid security risk: browsers not supporting them may interpret harmful content as HTML. This happens with the `JIS_C6226-1983`, `JIS_X0212-1990`, `HZ-GB-2312`, `JOHAB`, the ISO-2022 family and the EBCDIC family.\n\n**Note:** ASCII-incompatible encodings are those that don\'t map the 8-bit code points `0x20` to `0x7E` to the `0x0020` to `0x007E` Unicode code points)\n\n*   Authors **must not** use `CESU-8`, `UTF-7`, `BOCU-1` and/or `SCSU` as [cross-site scripting](https://developer.mozilla.org/en-US/docs/Glossary/Cross-site_scripting) attacks with these encodings have been demonstrated.\n*   Authors should not use `UTF-32` because not all HTML5 encoding algorithms can distinguish it from `UTF-16`.\n\n**Notes:**\n\n*   The declared character encoding must match the one the page was saved with to avoid garbled characters and security holes.\n*   The [`<meta>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta "The HTML <meta> element represents metadata that cannot be represented by other HTML meta-related elements, like <base>, <link>, <script>, <style> or <title>.") element declaring the encoding must be inside the [`<head>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/head "The HTML <head> element provides general information (metadata) about the document, including its title and links to its\xA0scripts and style sheets.") element and **within the first 1024 bytes** of the HTML as some browsers only look at those bytes before choosing an encoding.\n*   This [`<meta>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta "The HTML <meta> element represents metadata that cannot be represented by other HTML meta-related elements, like <base>, <link>, <script>, <style> or <title>.") element is only one part of the [algorithm to determine a page\'s character set](https://www.whatwg.org/specs/web-apps/current-work/multipage/parsing.html#encoding-sniffing-algorithm "Algorithm charset page"). The [`Content-Type` header](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Type) and any [Byte-Order Marks](https://developer.mozilla.org/en-US/docs/Glossary/Byte-Order_Mark "The definition of that term (Byte-Order Marks) has not been written yet; please consider contributing it!") override this element.\n*   It is strongly recommended to define the character encoding. If a page\'s encoding is undefined, cross-scripting techniques are possible, such as the [`UTF-7` fallback cross-scripting technique](https://code.google.com/p/doctype-mirror/wiki/ArticleUtf7).\n*   The [`<meta>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta "The HTML <meta> element represents metadata that cannot be represented by other HTML meta-related elements, like <base>, <link>, <script>, <style> or <title>.") element with a `charset` attribute is a synonym for the pre-HTML5 `<meta http-equiv="Content-Type" content="text/html; charset=_IANAcharset_">`, where _`IANAcharset`_ contains the value of the equivalent [`charset`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-charset) attribute. This syntax is still allowed, although no longer recommended.'}},{name:"scheme",description:"This attribute defines the scheme in which metadata is described. A scheme is a context leading to the correct interpretations of the [`content`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-content) value, like a format.\n\n**Warning:** Do not use this value, as it is obsolete. There is no replacement as there was no real usage for it."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/meta"}]},{name:"style",description:{kind:"markdown",value:"The style element allows authors to embed style information in their documents. The style element is one of several inputs to the styling processing model. The element does not represent content for the user."},attributes:[{name:"media",description:{kind:"markdown",value:"This attribute defines which media the style should be applied to. Its value is a [media query](https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Media_queries), which defaults to `all` if the attribute is missing."}},{name:"nonce",description:{kind:"markdown",value:"A cryptographic nonce (number used once) used to allow inline styles in a [style-src Content-Security-Policy](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/style-src). The server must generate a unique nonce value each time it transmits a policy. It is critical to provide a nonce that cannot be guessed as bypassing a resource\u2019s policy is otherwise trivial."}},{name:"type",description:{kind:"markdown",value:"This attribute defines the styling language as a MIME type (charset should not be specified). This attribute is optional and defaults to `text/css` if it is not specified \u2014 there is very little reason to include this in modern web documents."}},{name:"scoped",valueSet:"v"},{name:"title",description:"This attribute specifies [alternative style sheet](https://developer.mozilla.org/en-US/docs/Web/CSS/Alternative_style_sheets) sets."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/style"}]},{name:"body",description:{kind:"markdown",value:"The body element represents the content of the document."},attributes:[{name:"onafterprint",description:{kind:"markdown",value:"Function to call after the user has printed the document."}},{name:"onbeforeprint",description:{kind:"markdown",value:"Function to call when the user requests printing of the document."}},{name:"onbeforeunload",description:{kind:"markdown",value:"Function to call when the document is about to be unloaded."}},{name:"onhashchange",description:{kind:"markdown",value:"Function to call when the fragment identifier part (starting with the hash (`'#'`) character) of the document's current address has changed."}},{name:"onlanguagechange",description:{kind:"markdown",value:"Function to call when the preferred languages changed."}},{name:"onmessage",description:{kind:"markdown",value:"Function to call when the document has received a message."}},{name:"onoffline",description:{kind:"markdown",value:"Function to call when network communication has failed."}},{name:"ononline",description:{kind:"markdown",value:"Function to call when network communication has been restored."}},{name:"onpagehide"},{name:"onpageshow"},{name:"onpopstate",description:{kind:"markdown",value:"Function to call when the user has navigated session history."}},{name:"onstorage",description:{kind:"markdown",value:"Function to call when the storage area has changed."}},{name:"onunload",description:{kind:"markdown",value:"Function to call when the document is going away."}},{name:"alink",description:'Color of text for hyperlinks when selected. _This method is non-conforming, use CSS [`color`](https://developer.mozilla.org/en-US/docs/Web/CSS/color "The color CSS property sets the foreground color value of an element\'s text and text decorations, and sets the currentcolor value.") property in conjunction with the [`:active`](https://developer.mozilla.org/en-US/docs/Web/CSS/:active "The :active CSS pseudo-class represents an element (such as a button) that is being activated by the user.") pseudo-class instead._'},{name:"background",description:'URI of a image to use as a background. _This method is non-conforming, use CSS [`background`](https://developer.mozilla.org/en-US/docs/Web/CSS/background "The background shorthand CSS property sets all background style properties at once, such as color, image, origin and size, or repeat method.") property on the element instead._'},{name:"bgcolor",description:'Background color for the document. _This method is non-conforming, use CSS [`background-color`](https://developer.mozilla.org/en-US/docs/Web/CSS/background-color "The background-color CSS property sets the background color of an element.") property on the element instead._'},{name:"bottommargin",description:'The margin of the bottom of the body. _This method is non-conforming, use CSS [`margin-bottom`](https://developer.mozilla.org/en-US/docs/Web/CSS/margin-bottom "The margin-bottom CSS property sets the margin area on the bottom of an element. A positive value places it farther from its neighbors, while a negative value places it closer.") property on the element instead._'},{name:"leftmargin",description:'The margin of the left of the body. _This method is non-conforming, use CSS [`margin-left`](https://developer.mozilla.org/en-US/docs/Web/CSS/margin-left "The margin-left CSS property sets the margin area on the left side of an element. A positive value places it farther from its neighbors, while a negative value places it closer.") property on the element instead._'},{name:"link",description:'Color of text for unvisited hypertext links. _This method is non-conforming, use CSS [`color`](https://developer.mozilla.org/en-US/docs/Web/CSS/color "The color CSS property sets the foreground color value of an element\'s text and text decorations, and sets the currentcolor value.") property in conjunction with the [`:link`](https://developer.mozilla.org/en-US/docs/Web/CSS/:link "The :link CSS pseudo-class represents an element that has not yet been visited. It matches every unvisited <a>, <area>, or <link> element that has an href attribute.") pseudo-class instead._'},{name:"onblur",description:"Function to call when the document loses focus."},{name:"onerror",description:"Function to call when the document fails to load properly."},{name:"onfocus",description:"Function to call when the document receives focus."},{name:"onload",description:"Function to call when the document has finished loading."},{name:"onredo",description:"Function to call when the user has moved forward in undo transaction history."},{name:"onresize",description:"Function to call when the document has been resized."},{name:"onundo",description:"Function to call when the user has moved backward in undo transaction history."},{name:"rightmargin",description:'The margin of the right of the body. _This method is non-conforming, use CSS [`margin-right`](https://developer.mozilla.org/en-US/docs/Web/CSS/margin-right "The margin-right CSS property sets the margin area on the right side of an element. A positive value places it farther from its neighbors, while a negative value places it closer.") property on the element instead._'},{name:"text",description:'Foreground color of text. _This method is non-conforming, use CSS [`color`](https://developer.mozilla.org/en-US/docs/Web/CSS/color "The color CSS property sets the foreground color value of an element\'s text and text decorations, and sets the currentcolor value.") property on the element instead._'},{name:"topmargin",description:'The margin of the top of the body. _This method is non-conforming, use CSS [`margin-top`](https://developer.mozilla.org/en-US/docs/Web/CSS/margin-top "The margin-top CSS property sets the margin area on the top of an element. A positive value places it farther from its neighbors, while a negative value places it closer.") property on the element instead._'},{name:"vlink",description:'Color of text for visited hypertext links. _This method is non-conforming, use CSS [`color`](https://developer.mozilla.org/en-US/docs/Web/CSS/color "The color CSS property sets the foreground color value of an element\'s text and text decorations, and sets the currentcolor value.") property in conjunction with the [`:visited`](https://developer.mozilla.org/en-US/docs/Web/CSS/:visited "The :visited CSS pseudo-class represents links that the user has already visited. For privacy reasons, the styles that can be modified using this selector are very limited.") pseudo-class instead._'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/body"}]},{name:"article",description:{kind:"markdown",value:"The article element represents a complete, or self-contained, composition in a document, page, application, or site and that is, in principle, independently distributable or reusable, e.g. in syndication. This could be a forum post, a magazine or newspaper article, a blog entry, a user-submitted comment, an interactive widget or gadget, or any other independent item of content. Each article should be identified, typically by including a heading (h1\u2013h6 element) as a child of the article element."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/article"}]},{name:"section",description:{kind:"markdown",value:"The section element represents a generic section of a document or application. A section, in this context, is a thematic grouping of content. Each section should be identified, typically by including a heading ( h1- h6 element) as a child of the section element."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/section"}]},{name:"nav",description:{kind:"markdown",value:"The nav element represents a section of a page that links to other pages or to parts within the page: a section with navigation links."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/nav"}]},{name:"aside",description:{kind:"markdown",value:"The aside element represents a section of a page that consists of content that is tangentially related to the content around the aside element, and which could be considered separate from that content. Such sections are often represented as sidebars in printed typography."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/aside"}]},{name:"h1",description:{kind:"markdown",value:"The h1 element represents a section heading."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/Heading_Elements"}]},{name:"h2",description:{kind:"markdown",value:"The h2 element represents a section heading."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/Heading_Elements"}]},{name:"h3",description:{kind:"markdown",value:"The h3 element represents a section heading."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/Heading_Elements"}]},{name:"h4",description:{kind:"markdown",value:"The h4 element represents a section heading."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/Heading_Elements"}]},{name:"h5",description:{kind:"markdown",value:"The h5 element represents a section heading."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/Heading_Elements"}]},{name:"h6",description:{kind:"markdown",value:"The h6 element represents a section heading."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/Heading_Elements"}]},{name:"header",description:{kind:"markdown",value:"The header element represents introductory content for its nearest ancestor sectioning content or sectioning root element. A header typically contains a group of introductory or navigational aids. When the nearest ancestor sectioning content or sectioning root element is the body element, then it applies to the whole page."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/header"}]},{name:"footer",description:{kind:"markdown",value:"The footer element represents a footer for its nearest ancestor sectioning content or sectioning root element. A footer typically contains information about its section such as who wrote it, links to related documents, copyright data, and the like."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/footer"}]},{name:"address",description:{kind:"markdown",value:"The address element represents the contact information for its nearest article or body element ancestor. If that is the body element, then the contact information applies to the document as a whole."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/address"}]},{name:"p",description:{kind:"markdown",value:"The p element represents a paragraph."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/p"}]},{name:"hr",description:{kind:"markdown",value:"The hr element represents a paragraph-level thematic break, e.g. a scene change in a story, or a transition to another topic within a section of a reference book."},void:!0,attributes:[{name:"align",description:"Sets the alignment of the rule on the page. If no value is specified, the default value is `left`."},{name:"color",description:"Sets the color of the rule through color name or hexadecimal value."},{name:"noshade",description:"Sets the rule to have no shading."},{name:"size",description:"Sets the height, in pixels, of the rule."},{name:"width",description:"Sets the length of the rule on the page through a pixel or percentage value."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/hr"}]},{name:"pre",description:{kind:"markdown",value:"The pre element represents a block of preformatted text, in which structure is represented by typographic conventions rather than by elements."},attributes:[{name:"cols",description:'Contains the _preferred_ count of characters that a line should have. It was a non-standard synonym of [`width`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/pre#attr-width). To achieve such an effect, use CSS [`width`](https://developer.mozilla.org/en-US/docs/Web/CSS/width "The width CSS property sets an element\'s width. By default it sets the width of the content area, but if box-sizing is set to border-box, it sets the width of the border area.") instead.'},{name:"width",description:'Contains the _preferred_ count of characters that a line should have. Though technically still implemented, this attribute has no visual effect; to achieve such an effect, use CSS [`width`](https://developer.mozilla.org/en-US/docs/Web/CSS/width "The width CSS property sets an element\'s width. By default it sets the width of the content area, but if box-sizing is set to border-box, it sets the width of the border area.") instead.'},{name:"wrap",description:'Is a _hint_ indicating how the overflow must happen. In modern browser this hint is ignored and no visual effect results in its present; to achieve such an effect, use CSS [`white-space`](https://developer.mozilla.org/en-US/docs/Web/CSS/white-space "The white-space CSS property sets how white space inside an element is handled.") instead.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/pre"}]},{name:"blockquote",description:{kind:"markdown",value:"The blockquote element represents content that is quoted from another source, optionally with a citation which must be within a footer or cite element, and optionally with in-line changes such as annotations and abbreviations."},attributes:[{name:"cite",description:{kind:"markdown",value:"A URL that designates a source document or message for the information quoted. This attribute is intended to point to information explaining the context or the reference for the quote."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/blockquote"}]},{name:"ol",description:{kind:"markdown",value:"The ol element represents a list of items, where the items have been intentionally ordered, such that changing the order would change the meaning of the document."},attributes:[{name:"reversed",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute specifies that the items of the list are specified in reversed order."}},{name:"start",description:{kind:"markdown",value:'This integer attribute specifies the start value for numbering the individual list items. Although the ordering type of list elements might be Roman numerals, such as XXXI, or letters, the value of start is always represented as a number. To start numbering elements from the letter "C", use `<ol start="3">`.\n\n**Note**: This attribute was deprecated in HTML4, but reintroduced in HTML5.'}},{name:"type",valueSet:"lt",description:{kind:"markdown",value:"Indicates the numbering type:\n\n*   `'a'` indicates lowercase letters,\n*   `'A'` indicates uppercase letters,\n*   `'i'` indicates lowercase Roman numerals,\n*   `'I'` indicates uppercase Roman numerals,\n*   and `'1'` indicates numbers (default).\n\nThe type set is used for the entire list unless a different [`type`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/li#attr-type) attribute is used within an enclosed [`<li>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/li \"The HTML <li> element is used to represent an item in a list. It must be contained in a parent element: an ordered list (<ol>), an unordered list (<ul>), or a menu (<menu>). In menus and unordered lists, list items are usually displayed using bullet points. In ordered lists, they are usually displayed with an ascending counter on the left, such as a number or letter.\") element.\n\n**Note:** This attribute was deprecated in HTML4, but reintroduced in HTML5.\n\nUnless the value of the list number matters (e.g. in legal or technical documents where items are to be referenced by their number/letter), the CSS [`list-style-type`](https://developer.mozilla.org/en-US/docs/Web/CSS/list-style-type \"The list-style-type CSS property sets the marker (such as a disc, character, or custom counter style) of a list item element.\") property should be used instead."}},{name:"compact",description:'This Boolean attribute hints that the list should be rendered in a compact style. The interpretation of this attribute depends on the user agent and it doesn\'t work in all browsers.\n\n**Warning:** Do not use this attribute, as it has been deprecated: the [`<ol>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/ol "The HTML <ol> element represents an ordered list of items, typically rendered as a numbered list.") element should be styled using [CSS](https://developer.mozilla.org/en-US/docs/CSS). To give an effect similar to the `compact` attribute, the [CSS](https://developer.mozilla.org/en-US/docs/CSS) property [`line-height`](https://developer.mozilla.org/en-US/docs/Web/CSS/line-height "The line-height CSS property sets the amount of space used for lines, such as in text. On block-level elements, it specifies the minimum height of line boxes within the element. On non-replaced inline elements, it specifies the height that is used to calculate line box height.") can be used with a value of `80%`.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/ol"}]},{name:"ul",description:{kind:"markdown",value:"The ul element represents a list of items, where the order of the items is not important \u2014 that is, where changing the order would not materially change the meaning of the document."},attributes:[{name:"compact",description:'This Boolean attribute hints that the list should be rendered in a compact style. The interpretation of this attribute depends on the user agent and it doesn\'t work in all browsers.\n\n**Usage note:\xA0**Do not use this attribute, as it has been deprecated: the [`<ul>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/ul "The HTML <ul> element represents an unordered list of items, typically rendered as a bulleted list.") element should be styled using [CSS](https://developer.mozilla.org/en-US/docs/CSS). To give a similar effect as the `compact` attribute, the [CSS](https://developer.mozilla.org/en-US/docs/CSS) property [line-height](https://developer.mozilla.org/en-US/docs/CSS/line-height) can be used with a value of `80%`.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/ul"}]},{name:"li",description:{kind:"markdown",value:"The li element represents a list item. If its parent element is an ol, ul, or menu element, then the element is an item of the parent element's list, as defined for those elements. Otherwise, the list item has no defined list-related relationship to any other li element."},attributes:[{name:"value",description:{kind:"markdown",value:'This integer attribute indicates the current ordinal value of the list item as defined by the [`<ol>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/ol "The HTML <ol> element represents an ordered list of items, typically rendered as a numbered list.") element. The only allowed value for this attribute is a number, even if the list is displayed with Roman numerals or letters. List items that follow this one continue numbering from the value set. The **value** attribute has no meaning for unordered lists ([`<ul>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/ul "The HTML <ul> element represents an unordered list of items, typically rendered as a bulleted list.")) or for menus ([`<menu>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/menu "The HTML <menu> element represents a group of commands that a user can perform or activate. This includes both list menus, which might appear across the top of a screen, as well as context menus, such as those that might appear underneath a button after it has been clicked.")).\n\n**Note**: This attribute was deprecated in HTML4, but reintroduced in HTML5.\n\n**Note:** Prior to Gecko\xA09.0, negative values were incorrectly converted to 0. Starting in Gecko\xA09.0 all integer values are correctly parsed.'}},{name:"type",description:'This character attribute indicates the numbering type:\n\n*   `a`: lowercase letters\n*   `A`: uppercase letters\n*   `i`: lowercase Roman numerals\n*   `I`: uppercase Roman numerals\n*   `1`: numbers\n\nThis type overrides the one used by its parent [`<ol>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/ol "The HTML <ol> element represents an ordered list of items, typically rendered as a numbered list.") element, if any.\n\n**Usage note:** This attribute has been deprecated: use the CSS [`list-style-type`](https://developer.mozilla.org/en-US/docs/Web/CSS/list-style-type "The list-style-type CSS property sets the marker (such as a disc, character, or custom counter style) of a list item element.") property instead.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/li"}]},{name:"dl",description:{kind:"markdown",value:"The dl element represents an association list consisting of zero or more name-value groups (a description list). A name-value group consists of one or more names (dt elements) followed by one or more values (dd elements), ignoring any nodes other than dt and dd elements. Within a single dl element, there should not be more than one dt element for each name."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/dl"}]},{name:"dt",description:{kind:"markdown",value:"The dt element represents the term, or name, part of a term-description group in a description list (dl element)."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/dt"}]},{name:"dd",description:{kind:"markdown",value:"The dd element represents the description, definition, or value, part of a term-description group in a description list (dl element)."},attributes:[{name:"nowrap",description:"If the value of this attribute is set to `yes`, the definition text will not wrap. The default value is `no`."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/dd"}]},{name:"figure",description:{kind:"markdown",value:"The figure element represents some flow content, optionally with a caption, that is self-contained (like a complete sentence) and is typically referenced as a single unit from the main flow of the document."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/figure"}]},{name:"figcaption",description:{kind:"markdown",value:"The figcaption element represents a caption or legend for the rest of the contents of the figcaption element's parent figure element, if any."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/figcaption"}]},{name:"main",description:{kind:"markdown",value:"The main element represents the main content of the body of a document or application. The main content area consists of content that is directly related to or expands upon the central topic of a document or central functionality of an application."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/main"}]},{name:"div",description:{kind:"markdown",value:"The div element has no special meaning at all. It represents its children. It can be used with the class, lang, and title attributes to mark up semantics common to a group of consecutive elements."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/div"}]},{name:"a",description:{kind:"markdown",value:"If the a element has an href attribute, then it represents a hyperlink (a hypertext anchor) labeled by its contents."},attributes:[{name:"href",description:{kind:"markdown",value:'Contains a URL or a URL fragment that the hyperlink points to.\nA URL fragment is a name preceded by a hash mark (`#`), which specifies an internal target location (an [`id`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#attr-id) of an HTML element) within the current document. URLs are not restricted to Web (HTTP)-based documents, but can use any protocol supported by the browser. For example, [`file:`](https://en.wikipedia.org/wiki/File_URI_scheme), `ftp:`, and `mailto:` work in most browsers.\n\n**Note:** You can use `href="#top"` or the empty fragment `href="#"` to link to the top of the current page. [This behavior is specified by HTML5](https://www.w3.org/TR/html5/single-page.html#scroll-to-fragid).'}},{name:"target",valueSet:"target",description:{kind:"markdown",value:'Specifies where to display the linked URL. It is a name of, or keyword for, a _browsing context_: a tab, window, or `<iframe>`. The following keywords have special meanings:\n\n*   `_self`: Load the URL into the same browsing context as the current one. This is the default behavior.\n*   `_blank`: Load the URL into a new browsing context. This is usually a tab, but users can configure browsers to use new windows instead.\n*   `_parent`: Load the URL into the parent browsing context of the current one. If there is no parent, this behaves the same way as `_self`.\n*   `_top`: Load the URL into the top-level browsing context (that is, the "highest" browsing context that is an ancestor of the current one, and has no parent). If there is no parent, this behaves the same way as `_self`.\n\n**Note:** When using `target`, consider adding `rel="noreferrer"` to avoid exploitation of the `window.opener` API.\n\n**Note:** Linking to another page using `target="_blank"` will run the new page on the same process as your page. If the new page is executing expensive JS, your page\'s performance may suffer. To avoid this use `rel="noopener"`.'}},{name:"download",description:{kind:"markdown",value:"This attribute instructs browsers to download a URL instead of navigating to it, so the user will be prompted to save it as a local file. If the attribute has a value, it is used as the pre-filled file name in the Save prompt (the user can still change the file name if they want). There are no restrictions on allowed values, though `/` and `\\` are converted to underscores. Most file systems limit some punctuation in file names, and browsers will adjust the suggested name accordingly.\n\n**Notes:**\n\n*   This attribute only works for [same-origin URLs](https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy).\n*   Although HTTP(s) URLs need to be in the same-origin, [`blob:` URLs](https://developer.mozilla.org/en-US/docs/Web/API/URL.createObjectURL) and [`data:` URLs](https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs) are allowed so that content generated by JavaScript, such as pictures created in an image-editor Web app, can be downloaded.\n*   If the HTTP header [`Content-Disposition:`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Disposition) gives a different filename than this attribute, the HTTP header takes priority over this attribute.\n*   If `Content-Disposition:` is set to `inline`, Firefox prioritizes `Content-Disposition`, like the filename case, while Chrome prioritizes the `download` attribute."}},{name:"ping",description:{kind:"markdown",value:'Contains a space-separated list of URLs to which, when the hyperlink is followed, [`POST`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST "The HTTP POST method sends data to the server. The type of the body of the request is indicated by the Content-Type header.") requests with the body `PING` will be sent by the browser (in the background). Typically used for tracking.'}},{name:"rel",description:{kind:"markdown",value:"Specifies the relationship of the target object to the link object. The value is a space-separated list of [link types](https://developer.mozilla.org/en-US/docs/Web/HTML/Link_types)."}},{name:"hreflang",description:{kind:"markdown",value:'This attribute indicates the human language of the linked resource. It is purely advisory, with no built-in functionality. Allowed values are determined by [BCP47](https://www.ietf.org/rfc/bcp/bcp47.txt "Tags for Identifying Languages").'}},{name:"type",description:{kind:"markdown",value:'Specifies the media type in the form of a [MIME type](https://developer.mozilla.org/en-US/docs/Glossary/MIME_type "MIME type: A\xA0MIME type\xA0(now properly called "media type", but\xA0also sometimes "content type") is a string sent along\xA0with a file indicating the type of the file (describing the content format, for example, a sound file might be labeled\xA0audio/ogg, or an image file\xA0image/png).") for the linked URL. It is purely advisory, with no built-in functionality.'}},{name:"referrerpolicy",description:"Indicates which [referrer](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer) to send when fetching the URL:\n\n*   `'no-referrer'` means the `Referer:` header will not be sent.\n*   `'no-referrer-when-downgrade'` means no `Referer:` header will be sent when navigating to an origin without HTTPS. This is the default behavior.\n*   `'origin'` means the referrer will be the [origin](https://developer.mozilla.org/en-US/docs/Glossary/Origin) of the page, not including information after the domain.\n*   `'origin-when-cross-origin'` meaning that navigations to other origins will be limited to the scheme, the host and the port, while navigations on the same origin will include the referrer's path.\n*   `'strict-origin-when-cross-origin'`\n*   `'unsafe-url'` means the referrer will include the origin and path, but not the fragment, password, or username. This is unsafe because it can leak data from secure URLs to insecure ones."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/a"}]},{name:"em",description:{kind:"markdown",value:"The em element represents stress emphasis of its contents."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/em"}]},{name:"strong",description:{kind:"markdown",value:"The strong element represents strong importance, seriousness, or urgency for its contents."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/strong"}]},{name:"small",description:{kind:"markdown",value:"The small element represents side comments such as small print."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/small"}]},{name:"s",description:{kind:"markdown",value:"The s element represents contents that are no longer accurate or no longer relevant."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/s"}]},{name:"cite",description:{kind:"markdown",value:"The cite element represents a reference to a creative work. It must include the title of the work or the name of the author(person, people or organization) or an URL reference, or a reference in abbreviated form as per the conventions used for the addition of citation metadata."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/cite"}]},{name:"q",description:{kind:"markdown",value:"The q element represents some phrasing content quoted from another source."},attributes:[{name:"cite",description:{kind:"markdown",value:"The value of this attribute is a URL that designates a source document or message for the information quoted. This attribute is intended to point to information explaining the context or the reference for the quote."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/q"}]},{name:"dfn",description:{kind:"markdown",value:"The dfn element represents the defining instance of a term. The paragraph, description list group, or section that is the nearest ancestor of the dfn element must also contain the definition(s) for the term given by the dfn element."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/dfn"}]},{name:"abbr",description:{kind:"markdown",value:"The abbr element represents an abbreviation or acronym, optionally with its expansion. The title attribute may be used to provide an expansion of the abbreviation. The attribute, if specified, must contain an expansion of the abbreviation, and nothing else."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/abbr"}]},{name:"ruby",description:{kind:"markdown",value:"The ruby element allows one or more spans of phrasing content to be marked with ruby annotations. Ruby annotations are short runs of text presented alongside base text, primarily used in East Asian typography as a guide for pronunciation or to include other annotations. In Japanese, this form of typography is also known as furigana. Ruby text can appear on either side, and sometimes both sides, of the base text, and it is possible to control its position using CSS. A more complete introduction to ruby can be found in the Use Cases & Exploratory Approaches for Ruby Markup document as well as in CSS Ruby Module Level 1. [RUBY-UC] [CSSRUBY]"},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/ruby"}]},{name:"rb",description:{kind:"markdown",value:"The rb element marks the base text component of a ruby annotation. When it is the child of a ruby element, it doesn't represent anything itself, but its parent ruby element uses it as part of determining what it represents."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/rb"}]},{name:"rt",description:{kind:"markdown",value:"The rt element marks the ruby text component of a ruby annotation. When it is the child of a ruby element or of an rtc element that is itself the child of a ruby element, it doesn't represent anything itself, but its ancestor ruby element uses it as part of determining what it represents."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/rt"}]},{name:"rp",description:{kind:"markdown",value:"The rp element is used to provide fallback text to be shown by user agents that don't support ruby annotations. One widespread convention is to provide parentheses around the ruby text component of a ruby annotation."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/rp"}]},{name:"time",description:{kind:"markdown",value:"The time element represents its contents, along with a machine-readable form of those contents in the datetime attribute. The kind of content is limited to various kinds of dates, times, time-zone offsets, and durations, as described below."},attributes:[{name:"datetime",description:{kind:"markdown",value:"This attribute indicates the time and/or date of the element and must be in one of the formats described below."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/time"}]},{name:"code",description:{kind:"markdown",value:"The code element represents a fragment of computer code. This could be an XML element name, a file name, a computer program, or any other string that a computer would recognize."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/code"}]},{name:"var",description:{kind:"markdown",value:"The var element represents a variable. This could be an actual variable in a mathematical expression or programming context, an identifier representing a constant, a symbol identifying a physical quantity, a function parameter, or just be a term used as a placeholder in prose."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/var"}]},{name:"samp",description:{kind:"markdown",value:"The samp element represents sample or quoted output from another program or computing system."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/samp"}]},{name:"kbd",description:{kind:"markdown",value:"The kbd element represents user input (typically keyboard input, although it may also be used to represent other input, such as voice commands)."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/kbd"}]},{name:"sub",description:{kind:"markdown",value:"The sub element represents a subscript."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/sub"}]},{name:"sup",description:{kind:"markdown",value:"The sup element represents a superscript."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/sup"}]},{name:"i",description:{kind:"markdown",value:"The i element represents a span of text in an alternate voice or mood, or otherwise offset from the normal prose in a manner indicating a different quality of text, such as a taxonomic designation, a technical term, an idiomatic phrase from another language, transliteration, a thought, or a ship name in Western texts."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/i"}]},{name:"b",description:{kind:"markdown",value:"The b element represents a span of text to which attention is being drawn for utilitarian purposes without conveying any extra importance and with no implication of an alternate voice or mood, such as key words in a document abstract, product names in a review, actionable words in interactive text-driven software, or an article lede."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/b"}]},{name:"u",description:{kind:"markdown",value:"The u element represents a span of text with an unarticulated, though explicitly rendered, non-textual annotation, such as labeling the text as being a proper name in Chinese text (a Chinese proper name mark), or labeling the text as being misspelt."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/u"}]},{name:"mark",description:{kind:"markdown",value:"The mark element represents a run of text in one document marked or highlighted for reference purposes, due to its relevance in another context. When used in a quotation or other block of text referred to from the prose, it indicates a highlight that was not originally present but which has been added to bring the reader's attention to a part of the text that might not have been considered important by the original author when the block was originally written, but which is now under previously unexpected scrutiny. When used in the main prose of a document, it indicates a part of the document that has been highlighted due to its likely relevance to the user's current activity."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/mark"}]},{name:"bdi",description:{kind:"markdown",value:"The bdi element represents a span of text that is to be isolated from its surroundings for the purposes of bidirectional text formatting. [BIDI]"},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/bdi"}]},{name:"bdo",description:{kind:"markdown",value:"The bdo element represents explicit text directionality formatting control for its children. It allows authors to override the Unicode bidirectional algorithm by explicitly specifying a direction override. [BIDI]"},attributes:[{name:"dir",description:"The direction in which text should be rendered in this element's contents. Possible values are:\n\n*   `ltr`: Indicates that the text should go in a left-to-right direction.\n*   `rtl`: Indicates that the text should go in a right-to-left direction."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/bdo"}]},{name:"span",description:{kind:"markdown",value:"The span element doesn't mean anything on its own, but can be useful when used together with the global attributes, e.g. class, lang, or dir. It represents its children."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/span"}]},{name:"br",description:{kind:"markdown",value:"The br element represents a line break."},void:!0,attributes:[{name:"clear",description:"Indicates where to begin the next line after the break."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/br"}]},{name:"wbr",description:{kind:"markdown",value:"The wbr element represents a line break opportunity."},void:!0,attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/wbr"}]},{name:"ins",description:{kind:"markdown",value:"The ins element represents an addition to the document."},attributes:[{name:"cite",description:"This attribute defines the URI of a resource that explains the change, such as a link to meeting minutes or a ticket in a troubleshooting system."},{name:"datetime",description:'This attribute indicates the time and date of the change and must be a valid date with an optional time string. If the value cannot be parsed as a date with an optional time string, the element does not have an associated time stamp. For the format of the string without a time, see [Format of a valid date string](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats#Format_of_a_valid_date_string "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article.") in [Date and time formats used in HTML](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article."). The format of the string if it includes both date and time is covered in [Format of a valid local date and time string](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats#Format_of_a_valid_local_date_and_time_string "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article.") in [Date and time formats used in HTML](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article.").'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/ins"}]},{name:"del",description:{kind:"markdown",value:"The del element represents a removal from the document."},attributes:[{name:"cite",description:{kind:"markdown",value:"A URI for a resource that explains the change (for example, meeting minutes)."}},{name:"datetime",description:{kind:"markdown",value:'This attribute indicates the time and date of the change and must be a valid date string with an optional time. If the value cannot be parsed as a date with an optional time string, the element does not have an associated time stamp. For the format of the string without a time, see [Format of a valid date string](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats#Format_of_a_valid_date_string "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article.") in [Date and time formats used in HTML](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article."). The format of the string if it includes both date and time is covered in [Format of a valid local date and time string](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats#Format_of_a_valid_local_date_and_time_string "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article.") in [Date and time formats used in HTML](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article.").'}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/del"}]},{name:"picture",description:{kind:"markdown",value:"The picture element is a container which provides multiple sources to its contained img element to allow authors to declaratively control or give hints to the user agent about which image resource to use, based on the screen pixel density, viewport size, image format, and other factors. It represents its children."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/picture"}]},{name:"img",description:{kind:"markdown",value:"An img element represents an image."},void:!0,attributes:[{name:"alt",description:{kind:"markdown",value:'This attribute defines an alternative text description of the image.\n\n**Note:** Browsers do not always display the image referenced by the element. This is the case for non-graphical browsers (including those used by people with visual impairments), if the user chooses not to display images, or if the browser cannot display the image because it is invalid or an [unsupported type](#Supported_image_formats). In these cases, the browser may replace the image with the text defined in this element\'s `alt` attribute. You should, for these reasons and others, provide a useful value for `alt` whenever possible.\n\n**Note:** Omitting this attribute altogether indicates that the image is a key part of the content, and no textual equivalent is available. Setting this attribute to an empty string (`alt=""`) indicates that this image is _not_ a key part of the content (decorative), and that non-visual browsers may omit it from rendering.'}},{name:"src",description:{kind:"markdown",value:"The image URL. This attribute is mandatory for the `<img>` element. On browsers supporting `srcset`, `src` is treated like a candidate image with a pixel density descriptor `1x` unless an image with this pixel density descriptor is already defined in `srcset,` or unless `srcset` contains '`w`' descriptors."}},{name:"srcset",description:{kind:"markdown",value:"A list of one or more strings separated by commas indicating a set of possible image sources for the user agent to use. Each string is composed of:\n\n1.  a URL to an image,\n2.  optionally, whitespace followed by one of:\n    *   A width descriptor, or a positive integer directly followed by '`w`'. The width descriptor is divided by the source size given in the `sizes` attribute to calculate the effective pixel density.\n    *   A pixel density descriptor, which is a positive floating point number directly followed by '`x`'.\n\nIf no descriptor is specified, the source is assigned the default descriptor: `1x`.\n\nIt is incorrect to mix width descriptors and pixel density descriptors in the same `srcset` attribute. Duplicate descriptors (for instance, two sources in the same `srcset` which are both described with '`2x`') are also invalid.\n\nThe user agent selects any one of the available sources at its discretion. This provides them with significant leeway to tailor their selection based on things like user preferences or bandwidth conditions. See our [Responsive images](https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images) tutorial for an example."}},{name:"crossorigin",valueSet:"xo",description:{kind:"markdown",value:'This enumerated attribute indicates if the fetching of the related image must be done using CORS or not. [CORS-enabled images](https://developer.mozilla.org/en-US/docs/CORS_Enabled_Image) can be reused in the [`<canvas>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas "Use the HTML <canvas> element with either the canvas scripting API or the WebGL API to draw graphics and animations.") element without being "[tainted](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image#What_is_a_tainted_canvas)." The allowed values are:\n`anonymous`\n\nA cross-origin request (i.e., with `Origin:` HTTP header) is performed, but no credential is sent (i.e., no cookie, X.509 certificate, or HTTP Basic authentication). If the server does not give credentials to the origin site (by not setting the [`Access-Control-Allow-Origin`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Origin "The Access-Control-Allow-Origin response header indicates whether the response can be shared with requesting code from the given origin.") HTTP header), the image will be tainted and its usage restricted.\n\n`use-credentials`\n\nA cross-origin request (i.e., with the [`Origin`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Origin "The Origin request header indicates where a fetch originates from. It doesn\'t include any path information, but only the server name. It is sent with CORS requests, as well as with POST requests. It is similar to the Referer header, but, unlike this header, it doesn\'t disclose the whole path.") HTTP header) performed along with credentials sent (i.e., a cookie, certificate, or HTTP Basic authentication). If the server does not give credentials to the origin site (through the `Access-Control-Allow-Credentials` HTTP header), the image will be tainted and its usage restricted.\n\nIf the attribute is not present, the resource is fetched without a CORS request (i.e., without sending the `Origin` HTTP header), preventing its non-tainted usage in [`<canvas>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas "Use the HTML <canvas> element with either the canvas scripting API or the WebGL API to draw graphics and animations.") elements. If invalid, it is handled as if the `anonymous` value was used. See [CORS settings attributes](https://developer.mozilla.org/en-US/docs/HTML/CORS_settings_attributes) for additional information.'}},{name:"usemap",description:{kind:"markdown",value:'The partial URL (starting with \'#\') of an [image map](https://developer.mozilla.org/en-US/docs/HTML/Element/map) associated with the element.\n\n**Note:** You cannot use this attribute if the `<img>` element is a descendant of an [`<a>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a "The HTML <a> element (or anchor element) creates a hyperlink to other web pages, files, locations within the same page, email addresses, or any other URL.") or [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") element.'}},{name:"ismap",valueSet:"v",description:{kind:"markdown",value:'This Boolean attribute indicates that the image is part of a server-side map. If so, the precise coordinates of a click are sent to the server.\n\n**Note:** This attribute is allowed only if the `<img>` element is a descendant of an [`<a>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a "The HTML <a> element (or anchor element) creates a hyperlink to other web pages, files, locations within the same page, email addresses, or any other URL.") element with a valid [`href`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a#attr-href) attribute.'}},{name:"width",description:{kind:"markdown",value:"The intrinsic width of the image in pixels."}},{name:"height",description:{kind:"markdown",value:"The intrinsic height of the image in pixels."}},{name:"decoding",valueSet:"decoding",description:{kind:"markdown",value:`Provides an image decoding hint to the browser. The allowed values are:
\`sync\`

Decode the image synchronously for atomic presentation with other content.

\`async\`

Decode the image asynchronously to reduce delay in presenting other content.

\`auto\`

Default mode, which indicates no preference for the decoding mode. The browser decides what is best for the user.`}},{name:"loading",valueSet:"loading",description:{kind:"markdown",value:"Indicates how the browser should load the image."}},{name:"referrerpolicy",valueSet:"referrerpolicy",description:{kind:"markdown",value:"A string indicating which referrer to use when fetching the resource:\n\n*   `no-referrer:` The [`Referer`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer \"The Referer request header contains the address of the previous web page from which a link to the currently requested page was followed. The Referer header allows servers to identify where people are visiting them from and may use that data for analytics, logging, or optimized caching, for example.\") header will not be sent.\n*   `no-referrer-when-downgrade:` No `Referer` header will be sent when navigating to an origin without TLS (HTTPS). This is a user agent\u2019s default behavior if no policy is otherwise specified.\n*   `origin:` The `Referer` header will include the page of origin's scheme, the host, and the port.\n*   `origin-when-cross-origin:` Navigating to other origins will limit the included referral data to the scheme, the host and the port, while navigating from the same origin will include the referrer's full path.\n*   `unsafe-url:` The `Referer` header will include the origin and the path, but not the fragment, password, or username. This case is unsafe because it can leak origins and paths from TLS-protected resources to insecure origins."}},{name:"sizes",description:{kind:"markdown",value:"A list of one or more strings separated by commas indicating a set of source sizes. Each source size consists of:\n\n1.  a media condition. This must be omitted for the last item.\n2.  a source size value.\n\nSource size values specify the intended display size of the image. User agents use the current source size to select one of the sources supplied by the `srcset` attribute, when those sources are described using width ('`w`') descriptors. The selected source size affects the intrinsic size of the image (the image\u2019s display size if no CSS styling is applied). If the `srcset` attribute is absent, or contains no values with a width (`w`) descriptor, then the `sizes` attribute has no effect."}},{name:"importance",description:"Indicates the relative importance of the resource. Priority hints are delegated using the values:"},{name:"importance",description:"`auto`: Indicates\xA0**no\xA0preference**. The browser may use its own heuristics to decide the priority of the image.\n\n`high`: Indicates to the\xA0browser\xA0that the image is of\xA0**high** priority.\n\n`low`:\xA0Indicates to the\xA0browser\xA0that the image is of\xA0**low** priority."},{name:"intrinsicsize",description:"This attribute tells the browser to ignore the actual intrinsic size of the image and pretend it\u2019s the size specified in the attribute. Specifically, the image would raster at these dimensions and `naturalWidth`/`naturalHeight` on images would return the values specified in this attribute. [Explainer](https://github.com/ojanvafai/intrinsicsize-attribute), [examples](https://googlechrome.github.io/samples/intrinsic-size/index.html)"}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/img"}]},{name:"iframe",description:{kind:"markdown",value:"The iframe element represents a nested browsing context."},attributes:[{name:"src",description:{kind:"markdown",value:'The URL of the page to embed. Use a value of `about:blank` to embed an empty page that conforms to the [same-origin policy](https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy#Inherited_origins). Also note that programatically removing an `<iframe>`\'s src attribute (e.g. via [`Element.removeAttribute()`](https://developer.mozilla.org/en-US/docs/Web/API/Element/removeAttribute "The Element method removeAttribute() removes the attribute with the specified name from the element.")) causes `about:blank` to be loaded in the frame in Firefox (from version 65), Chromium-based browsers, and Safari/iOS.'}},{name:"srcdoc",description:{kind:"markdown",value:"Inline HTML to embed, overriding the `src` attribute. If a browser does not support the `srcdoc` attribute, it will fall back to the URL in the `src` attribute."}},{name:"name",description:{kind:"markdown",value:'A targetable name for the embedded browsing context. This can be used in the `target` attribute of the [`<a>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a "The HTML <a> element (or anchor element) creates a hyperlink to other web pages, files, locations within the same page, email addresses, or any other URL."), [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server."), or [`<base>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/base "The HTML <base> element specifies the base URL to use for all relative URLs contained within a document. There can be only one <base> element in a document.") elements; the `formtarget` attribute of the [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") or [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") elements; or the `windowName` parameter in the [`window.open()`](https://developer.mozilla.org/en-US/docs/Web/API/Window/open "The\xA0Window interface\'s open() method loads the specified resource into the browsing context (window, <iframe> or tab) with the specified name. If the name doesn\'t exist, then a new window is opened and the specified resource is loaded into its browsing context.") method.'}},{name:"sandbox",valueSet:"sb",description:{kind:"markdown",value:'Applies extra restrictions to the content in the frame. The value of the attribute can either be empty to apply all restrictions, or space-separated tokens to lift particular restrictions:\n\n*   `allow-forms`: Allows the resource to submit forms. If this keyword is not used, form submission is blocked.\n*   `allow-modals`: Lets the resource [open modal windows](https://html.spec.whatwg.org/multipage/origin.html#sandboxed-modals-flag).\n*   `allow-orientation-lock`: Lets the resource [lock the screen orientation](https://developer.mozilla.org/en-US/docs/Web/API/Screen/lockOrientation).\n*   `allow-pointer-lock`: Lets the resource use the [Pointer Lock API](https://developer.mozilla.org/en-US/docs/WebAPI/Pointer_Lock).\n*   `allow-popups`: Allows popups (such as `window.open()`, `target="_blank"`, or `showModalDialog()`). If this keyword is not used, the popup will silently fail to open.\n*   `allow-popups-to-escape-sandbox`: Lets the sandboxed document open new windows without those windows inheriting the sandboxing. For example, this can safely sandbox an advertisement without forcing the same restrictions upon the page the ad links to.\n*   `allow-presentation`: Lets the resource start a [presentation session](https://developer.mozilla.org/en-US/docs/Web/API/PresentationRequest).\n*   `allow-same-origin`: If this token is not used, the resource is treated as being from a special origin that always fails the [same-origin policy](https://developer.mozilla.org/en-US/docs/Glossary/same-origin_policy "same-origin policy: The same-origin policy is a critical security mechanism that restricts how a document or script loaded from one origin can interact with a resource from another origin.").\n*   `allow-scripts`: Lets the resource run scripts (but not create popup windows).\n*   `allow-storage-access-by-user-activation` : Lets the resource request access to the parent\'s storage capabilities with the [Storage Access API](https://developer.mozilla.org/en-US/docs/Web/API/Storage_Access_API).\n*   `allow-top-navigation`: Lets the resource navigate the top-level browsing context (the one named `_top`).\n*   `allow-top-navigation-by-user-activation`: Lets the resource navigate the top-level browsing context, but only if initiated by a user gesture.\n\n**Notes about sandboxing:**\n\n*   When the embedded document has the same origin as the embedding page, it is **strongly discouraged** to use both `allow-scripts` and `allow-same-origin`, as that lets the embedded document remove the `sandbox` attribute \u2014 making it no more secure than not using the `sandbox` attribute at all.\n*   Sandboxing is useless if the attacker can display content outside a sandboxed `iframe` \u2014 such as if the viewer opens the frame in a new tab. Such content should be also served from a _separate origin_ to limit potential damage.\n*   The `sandbox` attribute is unsupported in Internet Explorer 9 and earlier.'}},{name:"seamless",valueSet:"v"},{name:"allowfullscreen",valueSet:"v",description:{kind:"markdown",value:'Set to `true` if the `<iframe>` can activate fullscreen mode by calling the [`requestFullscreen()`](https://developer.mozilla.org/en-US/docs/Web/API/Element/requestFullscreen "The Element.requestFullscreen() method issues an asynchronous request to make the element be displayed in full-screen mode.") method.\nThis attribute is considered a legacy attribute and redefined as `allow="fullscreen"`.'}},{name:"width",description:{kind:"markdown",value:"The width of the frame in CSS pixels. Default is `300`."}},{name:"height",description:{kind:"markdown",value:"The height of the frame in CSS pixels. Default is `150`."}},{name:"allow",description:"Specifies a [feature policy](https://developer.mozilla.org/en-US/docs/Web/HTTP/Feature_Policy) for the `<iframe>`."},{name:"allowpaymentrequest",description:"Set to `true` if a cross-origin `<iframe>` should be allowed to invoke the [Payment Request API](https://developer.mozilla.org/en-US/docs/Web/API/Payment_Request_API)."},{name:"allowpaymentrequest",description:'This attribute is considered a legacy attribute and redefined as `allow="payment"`.'},{name:"csp",description:'A [Content Security Policy](https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP) enforced for the embedded resource. See [`HTMLIFrameElement.csp`](https://developer.mozilla.org/en-US/docs/Web/API/HTMLIFrameElement/csp "The csp property of the HTMLIFrameElement interface specifies the Content Security Policy that an embedded document must agree to enforce upon itself.") for details.'},{name:"importance",description:`The download priority of the resource in the \`<iframe>\`'s \`src\` attribute. Allowed values:

\`auto\` (default)

No preference. The browser uses its own heuristics to decide the priority of the resource.

\`high\`

The resource should be downloaded before other lower-priority page resources.

\`low\`

The resource should be downloaded after other higher-priority page resources.`},{name:"referrerpolicy",description:'Indicates which [referrer](https://developer.mozilla.org/en-US/docs/Web/API/Document/referrer) to send when fetching the frame\'s resource:\n\n*   `no-referrer`: The [`Referer`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer "The Referer request header contains the address of the previous web page from which a link to the currently requested page was followed. The Referer header allows servers to identify where people are visiting them from and may use that data for analytics, logging, or optimized caching, for example.") header will not be sent.\n*   `no-referrer-when-downgrade` (default): The [`Referer`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer "The Referer request header contains the address of the previous web page from which a link to the currently requested page was followed. The Referer header allows servers to identify where people are visiting them from and may use that data for analytics, logging, or optimized caching, for example.") header will not be sent to [origin](https://developer.mozilla.org/en-US/docs/Glossary/origin "origin: Web content\'s origin is defined by the scheme (protocol), host (domain), and port of the URL used to access it. Two objects have the same origin only when the scheme, host, and port all match.")s without [TLS](https://developer.mozilla.org/en-US/docs/Glossary/TLS "TLS: Transport Layer Security (TLS), previously known as Secure Sockets Layer (SSL), is a protocol used by applications to communicate securely across a network, preventing tampering with and eavesdropping on email, web browsing, messaging, and other protocols.") ([HTTPS](https://developer.mozilla.org/en-US/docs/Glossary/HTTPS "HTTPS: HTTPS (HTTP Secure) is an encrypted version of the HTTP protocol. It usually uses SSL or TLS to encrypt all communication between a client and a server. This secure connection allows clients to safely exchange sensitive data with a server, for example for banking activities or online shopping.")).\n*   `origin`: The sent referrer will be limited to the origin of the referring page: its [scheme](https://developer.mozilla.org/en-US/docs/Archive/Mozilla/URIScheme), [host](https://developer.mozilla.org/en-US/docs/Glossary/host "host: A host is a device connected to the Internet (or a local network). Some hosts called servers offer additional services like serving webpages or storing files and emails."), and [port](https://developer.mozilla.org/en-US/docs/Glossary/port "port: For a computer connected to a network with an IP address, a port is a communication endpoint. Ports are designated by numbers, and below 1024 each port is associated by default with a specific protocol.").\n*   `origin-when-cross-origin`: The referrer sent to other origins will be limited to the scheme, the host, and the port. Navigations on the same origin will still include the path.\n*   `same-origin`: A referrer will be sent for [same origin](https://developer.mozilla.org/en-US/docs/Glossary/Same-origin_policy "same origin: The same-origin policy is a critical security mechanism that restricts how a document or script loaded from one origin can interact with a resource from another origin."), but cross-origin requests will contain no referrer information.\n*   `strict-origin`: Only send the origin of the document as the referrer when the protocol security level stays the same (HTTPS\u2192HTTPS), but don\'t send it to a less secure destination (HTTPS\u2192HTTP).\n*   `strict-origin-when-cross-origin`: Send a full URL when performing a same-origin request, only send the origin when the protocol security level stays the same (HTTPS\u2192HTTPS), and send no header to a less secure destination (HTTPS\u2192HTTP).\n*   `unsafe-url`: The referrer will include the origin _and_ the path (but not the [fragment](https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/hash), [password](https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/password), or [username](https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/username)). **This value is unsafe**, because it leaks origins and paths from TLS-protected resources to insecure origins.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/iframe"}]},{name:"embed",description:{kind:"markdown",value:"The embed element provides an integration point for an external (typically non-HTML) application or interactive content."},void:!0,attributes:[{name:"src",description:{kind:"markdown",value:"The URL\xA0of the resource being embedded."}},{name:"type",description:{kind:"markdown",value:"The MIME\xA0type to use to select the plug-in to instantiate."}},{name:"width",description:{kind:"markdown",value:"The displayed width of the resource, in [CSS pixels](https://drafts.csswg.org/css-values/#px). This must be an absolute value; percentages are _not_ allowed."}},{name:"height",description:{kind:"markdown",value:"The displayed height of the resource, in [CSS pixels](https://drafts.csswg.org/css-values/#px). This must be an absolute value; percentages are _not_ allowed."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/embed"}]},{name:"object",description:{kind:"markdown",value:"The object element can represent an external resource, which, depending on the type of the resource, will either be treated as an image, as a nested browsing context, or as an external resource to be processed by a plugin."},attributes:[{name:"data",description:{kind:"markdown",value:"The address of the resource as a valid URL. At least one of **data** and **type** must be defined."}},{name:"type",description:{kind:"markdown",value:"The [content type](https://developer.mozilla.org/en-US/docs/Glossary/Content_type) of the resource specified by **data**. At least one of **data** and **type** must be defined."}},{name:"typemustmatch",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute indicates if the **type** attribute and the actual [content type](https://developer.mozilla.org/en-US/docs/Glossary/Content_type) of the resource must match to be used."}},{name:"name",description:{kind:"markdown",value:"The name of valid browsing context (HTML5), or the name of the control (HTML 4)."}},{name:"usemap",description:{kind:"markdown",value:"A hash-name reference to a [`<map>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/map \"The HTML <map> element is used with <area> elements to define an image map (a clickable link area).\") element; that is a '#' followed by the value of a [`name`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/map#attr-name) of a map element."}},{name:"form",description:{kind:"markdown",value:'The form element, if any, that the object element is associated with (its _form owner_). The value of the attribute must be an ID of a [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") element in the same document.'}},{name:"width",description:{kind:"markdown",value:"The width of the display resource, in [CSS pixels](https://drafts.csswg.org/css-values/#px). -- (Absolute values only. [NO percentages](https://html.spec.whatwg.org/multipage/embedded-content.html#dimension-attributes))"}},{name:"height",description:{kind:"markdown",value:"The height of the displayed resource, in [CSS pixels](https://drafts.csswg.org/css-values/#px). -- (Absolute values only. [NO percentages](https://html.spec.whatwg.org/multipage/embedded-content.html#dimension-attributes))"}},{name:"archive",description:"A space-separated list of URIs for archives of resources for the object."},{name:"border",description:"The width of a border around the control, in pixels."},{name:"classid",description:"The URI of the object's implementation. It can be used together with, or in place of, the **data** attribute."},{name:"codebase",description:"The base path used to resolve relative URIs specified by **classid**, **data**, or **archive**. If not specified, the default is the base URI of the current document."},{name:"codetype",description:"The content type of the data specified by **classid**."},{name:"declare",description:"The presence of this Boolean attribute makes this element a declaration only. The object must be instantiated by a subsequent `<object>` element. In HTML5, repeat the <object> element completely each that that the resource is reused."},{name:"standby",description:"A message that the browser can show while loading the object's implementation and data."},{name:"tabindex",description:"The position of the element in the tabbing navigation order for the current document."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/object"}]},{name:"param",description:{kind:"markdown",value:"The param element defines parameters for plugins invoked by object elements. It does not represent anything on its own."},void:!0,attributes:[{name:"name",description:{kind:"markdown",value:"Name of the parameter."}},{name:"value",description:{kind:"markdown",value:"Specifies the value of the parameter."}},{name:"type",description:'Only used if the `valuetype` is set to "ref". Specifies the MIME type of values found at the URI specified by value.'},{name:"valuetype",description:`Specifies the type of the \`value\` attribute. Possible values are:

*   data: Default value. The value is passed to the object's implementation as a string.
*   ref: The value is a URI to a resource where run-time values are stored.
*   object: An ID of another [\`<object>\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/object "The HTML <object> element represents an external resource, which can be treated as an image, a nested browsing context, or a resource to be handled by a plugin.") in the same document.`}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/param"}]},{name:"video",description:{kind:"markdown",value:"A video element is used for playing videos or movies, and audio files with captions."},attributes:[{name:"src"},{name:"crossorigin",valueSet:"xo"},{name:"poster"},{name:"preload",valueSet:"pl"},{name:"autoplay",valueSet:"v",description:{kind:"markdown",value:'A Boolean attribute; if specified, the video automatically begins to play back as soon as it can do so without stopping to finish loading the data.\n**Note**: Sites that automatically play audio (or video with an audio track) can be an unpleasant experience for users, so it should be avoided when possible. If you must offer autoplay functionality, you should make it opt-in (requiring a user to specifically enable it). However, this can be useful when creating media elements whose source will be set at a later time, under user control.\n\nTo disable video autoplay, `autoplay="false"` will not work; the video will autoplay if the attribute is there in the `<video>` tag at all. To remove autoplay the attribute needs to be removed altogether.\n\nIn some browsers (e.g. Chrome 70.0) autoplay is not working if no `muted` attribute is present.'}},{name:"mediagroup"},{name:"loop",valueSet:"v"},{name:"muted",valueSet:"v"},{name:"controls",valueSet:"v"},{name:"width"},{name:"height"}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/video"}]},{name:"audio",description:{kind:"markdown",value:"An audio element represents a sound or audio stream."},attributes:[{name:"src",description:{kind:"markdown",value:'The URL of the audio to embed. This is subject to [HTTP access controls](https://developer.mozilla.org/en-US/docs/HTTP_access_control). This is optional; you may instead use the [`<source>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/source "The HTML <source> element specifies multiple media resources for the <picture>, the <audio> element, or the <video> element.") element within the audio block to specify the audio to embed.'}},{name:"crossorigin",valueSet:"xo",description:{kind:"markdown",value:'This enumerated attribute indicates whether to use CORS to fetch the related image. [CORS-enabled resources](https://developer.mozilla.org/en-US/docs/CORS_Enabled_Image) can be reused in the [`<canvas>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas "Use the HTML <canvas> element with either the canvas scripting API or the WebGL API to draw graphics and animations.") element without being _tainted_. The allowed values are:\n\nanonymous\n\nSends a cross-origin request without a credential. In other words, it sends the `Origin:` HTTP header without a cookie, X.509 certificate, or performing HTTP Basic authentication. If the server does not give credentials to the origin site (by not setting the `Access-Control-Allow-Origin:` HTTP header), the image will be _tainted_, and its usage restricted.\n\nuse-credentials\n\nSends a cross-origin request with a credential. In other words, it sends the `Origin:` HTTP header with a cookie, a certificate, or performing HTTP Basic authentication. If the server does not give credentials to the origin site (through `Access-Control-Allow-Credentials:` HTTP header), the image will be _tainted_ and its usage restricted.\n\nWhen not present, the resource is fetched without a CORS request (i.e. without sending the `Origin:` HTTP header), preventing its non-tainted used in [`<canvas>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas "Use the HTML <canvas> element with either the canvas scripting API or the WebGL API to draw graphics and animations.") elements. If invalid, it is handled as if the enumerated keyword **anonymous** was used. See [CORS settings attributes](https://developer.mozilla.org/en-US/docs/HTML/CORS_settings_attributes) for additional information.'}},{name:"preload",valueSet:"pl",description:{kind:"markdown",value:"This enumerated attribute is intended to provide a hint to the browser about what the author thinks will lead to the best user experience. It may have one of the following values:\n\n*   `none`: Indicates that the audio should not be preloaded.\n*   `metadata`: Indicates that only audio metadata (e.g. length) is fetched.\n*   `auto`: Indicates that the whole audio file can be downloaded, even if the user is not expected to use it.\n*   _empty string_: A synonym of the `auto` value.\n\nIf not set, `preload`'s default value is browser-defined (i.e. each browser may have its own default value). The spec advises it to be set to `metadata`.\n\n**Usage notes:**\n\n*   The `autoplay` attribute has precedence over\xA0`preload`. If `autoplay` is specified, the browser would obviously need to start downloading the audio for playback.\n*   The browser is not forced by the specification to follow the value of this attribute; it is a mere hint."}},{name:"autoplay",valueSet:"v",description:{kind:"markdown",value:`A Boolean attribute:\xA0if specified, the audio will automatically begin playback as soon as it can do so, without waiting for the entire audio file to finish downloading.

**Note**: Sites that automatically play audio (or videos with an audio track) can be an unpleasant experience for users, so should be avoided when possible. If you must offer autoplay functionality, you should make it opt-in (requiring a user to specifically enable it). However, this can be useful when creating media elements whose source will be set at a later time, under user control.`}},{name:"mediagroup"},{name:"loop",valueSet:"v",description:{kind:"markdown",value:"A Boolean attribute:\xA0if specified, the audio player will\xA0automatically seek back to the start\xA0upon reaching the end of the audio."}},{name:"muted",valueSet:"v",description:{kind:"markdown",value:"A Boolean attribute that indicates whether the audio will be initially silenced. Its default value is `false`."}},{name:"controls",valueSet:"v",description:{kind:"markdown",value:"If this attribute is present, the browser will offer controls to allow the user to control audio playback, including volume, seeking, and pause/resume playback."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/audio"}]},{name:"source",description:{kind:"markdown",value:"The source element allows authors to specify multiple alternative media resources for media elements. It does not represent anything on its own."},void:!0,attributes:[{name:"src",description:{kind:"markdown",value:'Required for [`<audio>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/audio "The HTML <audio> element is used to embed sound content in documents. It may contain one or more audio sources, represented using the src attribute or the <source> element:\xA0the browser will choose the most suitable one. It can also be the destination for streamed media, using a MediaStream.") and [`<video>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video "The HTML Video element (<video>) embeds a media player which supports video playback into the document."), address of the media resource. The value of this attribute is ignored when the `<source>` element is placed inside a [`<picture>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/picture "The HTML <picture> element contains zero or more <source> elements and one <img> element to provide versions of an image for different display/device scenarios.") element.'}},{name:"type",description:{kind:"markdown",value:"The MIME-type of the resource, optionally with a `codecs` parameter. See [RFC 4281](https://tools.ietf.org/html/rfc4281) for information about how to specify codecs."}},{name:"sizes",description:'Is a list of source sizes that describes the final rendered width of the image represented by the source. Each source size consists of a comma-separated list of media condition-length pairs. This information is used by the browser to determine, before laying the page out, which image defined in [`srcset`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/source#attr-srcset) to use.  \nThe `sizes` attribute has an effect only when the [`<source>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/source "The HTML <source> element specifies multiple media resources for the <picture>, the <audio> element, or the <video> element.") element is the direct child of a [`<picture>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/picture "The HTML <picture> element contains zero or more <source> elements and one <img> element to provide versions of an image for different display/device scenarios.") element.'},{name:"srcset",description:"A list of one or more strings separated by commas indicating a set of possible images represented by the source for the browser to use. Each string is composed of:\n\n1.  one URL to an image,\n2.  a width descriptor, that is a positive integer directly followed by `'w'`. The default value, if missing, is the infinity.\n3.  a pixel density descriptor, that is a positive floating number directly followed by `'x'`. The default value, if missing, is `1x`.\n\nEach string in the list must have at least a width descriptor or a pixel density descriptor to be valid. Among the list, there must be only one string containing the same tuple of width descriptor and pixel density descriptor.  \nThe browser chooses the most adequate image to display at a given point of time.  \nThe `srcset` attribute has an effect only when the [`<source>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/source \"The HTML <source> element specifies multiple media resources for the <picture>, the <audio> element, or the <video> element.\") element is the direct child of a [`<picture>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/picture \"The HTML <picture> element contains zero or more <source> elements and one <img> element to provide versions of an image for different display/device scenarios.\") element."},{name:"media",description:'[Media query](https://developer.mozilla.org/en-US/docs/CSS/Media_queries) of the resource\'s intended media; this should be used only in a [`<picture>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/picture "The HTML <picture> element contains zero or more <source> elements and one <img> element to provide versions of an image for different display/device scenarios.") element.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/source"}]},{name:"track",description:{kind:"markdown",value:"The track element allows authors to specify explicit external timed text tracks for media elements. It does not represent anything on its own."},void:!0,attributes:[{name:"default",valueSet:"v",description:{kind:"markdown",value:"This attribute indicates that the track should be enabled unless the user's preferences indicate that another track is more appropriate. This may only be used on one `track` element per media element."}},{name:"kind",valueSet:"tk",description:{kind:"markdown",value:"How the text track is meant to be used. If omitted the default kind is `subtitles`. If the attribute is not present, it will use the `subtitles`. If the attribute contains an invalid value, it will use `metadata`. (Versions of Chrome earlier than 52 treated an invalid value as `subtitles`.)\xA0The following keywords are allowed:\n\n*   `subtitles`\n    *   Subtitles provide translation of content that cannot be understood by the viewer. For example dialogue or text that is not English in an English language film.\n    *   Subtitles may contain additional content, usually extra background information. For example the text at the beginning of the Star Wars films, or the date, time, and location of a scene.\n*   `captions`\n    *   Closed captions provide a transcription and possibly a translation of audio.\n    *   It may include important non-verbal information such as music cues or sound effects. It may indicate the cue's source (e.g. music, text, character).\n    *   Suitable for users who are deaf or when the sound is muted.\n*   `descriptions`\n    *   Textual description of the video content.\n    *   Suitable for users who are blind or where the video cannot be seen.\n*   `chapters`\n    *   Chapter titles are intended to be used when the user is navigating the media resource.\n*   `metadata`\n    *   Tracks used by scripts. Not visible to the user."}},{name:"label",description:{kind:"markdown",value:"A user-readable title of the text track which is used by the browser when listing available text tracks."}},{name:"src",description:{kind:"markdown",value:'Address of the track (`.vtt` file). Must be a valid URL. This attribute must be specified and its URL value must have the same origin as the document \u2014 unless the [`<audio>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/audio "The HTML <audio> element is used to embed sound content in documents. It may contain one or more audio sources, represented using the src attribute or the <source> element:\xA0the browser will choose the most suitable one. It can also be the destination for streamed media, using a MediaStream.") or [`<video>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video "The HTML Video element (<video>) embeds a media player which supports video playback into the document.") parent element of the `track` element has a [`crossorigin`](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_settings_attributes) attribute.'}},{name:"srclang",description:{kind:"markdown",value:"Language of the track text data. It must be a valid [BCP 47](https://r12a.github.io/app-subtags/) language tag. If the `kind` attribute is set to\xA0`subtitles,` then `srclang` must be defined."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/track"}]},{name:"map",description:{kind:"markdown",value:"The map element, in conjunction with an img element and any area element descendants, defines an image map. The element represents its children."},attributes:[{name:"name",description:{kind:"markdown",value:"The name attribute gives the map a name so that it can be referenced. The attribute must be present and must have a non-empty value with no space characters. The value of the name attribute must not be a compatibility-caseless match for the value of the name attribute of another map element in the same document. If the id attribute is also specified, both attributes must have the same value."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/map"}]},{name:"area",description:{kind:"markdown",value:"The area element represents either a hyperlink with some text and a corresponding area on an image map, or a dead area on an image map."},void:!0,attributes:[{name:"alt"},{name:"coords"},{name:"shape",valueSet:"sh"},{name:"href"},{name:"target",valueSet:"target"},{name:"download"},{name:"ping"},{name:"rel"},{name:"hreflang"},{name:"type"},{name:"accesskey",description:"Specifies a keyboard navigation accelerator for the element. Pressing ALT or a similar key in association with the specified character selects the form control correlated with that key sequence. Page designers are forewarned to avoid key sequences already bound to browsers. This attribute is global since HTML5."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/area"}]},{name:"table",description:{kind:"markdown",value:"The table element represents data with more than one dimension, in the form of a table."},attributes:[{name:"border"},{name:"align",description:'This enumerated attribute indicates how the table must be aligned inside the containing document. It may have the following values:\n\n*   left: the table is displayed on the left side of the document;\n*   center: the table is displayed in the center of the document;\n*   right: the table is displayed on the right side of the document.\n\n**Usage Note**\n\n*   **Do not use this attribute**, as it has been deprecated. The [`<table>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/table "The HTML <table> element represents tabular data \u2014 that is, information presented in a two-dimensional table comprised of rows and columns of cells containing data.") element should be styled using [CSS](https://developer.mozilla.org/en-US/docs/CSS). Set [`margin-left`](https://developer.mozilla.org/en-US/docs/Web/CSS/margin-left "The margin-left CSS property sets the margin area on the left side of an element. A positive value places it farther from its neighbors, while a negative value places it closer.") and [`margin-right`](https://developer.mozilla.org/en-US/docs/Web/CSS/margin-right "The margin-right CSS property sets the margin area on the right side of an element. A positive value places it farther from its neighbors, while a negative value places it closer.") to `auto` or [`margin`](https://developer.mozilla.org/en-US/docs/Web/CSS/margin "The margin CSS property sets the margin area on all four sides of an element. It is a shorthand for margin-top, margin-right, margin-bottom, and margin-left.") to `0 auto` to achieve an effect that is similar to the align attribute.\n*   Prior to Firefox 4, Firefox also supported the `middle`, `absmiddle`, and `abscenter` values as synonyms of `center`, in quirks mode only.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/table"}]},{name:"caption",description:{kind:"markdown",value:"The caption element represents the title of the table that is its parent, if it has a parent and that is a table element."},attributes:[{name:"align",description:`This enumerated attribute indicates how the caption must be aligned with respect to the table. It may have one of the following values:

\`left\`

The caption is displayed to the left of the table.

\`top\`

The caption is displayed above the table.

\`right\`

The caption is displayed to the right of the table.

\`bottom\`

The caption is displayed below the table.

**Usage note:** Do not use this attribute, as it has been deprecated. The [\`<caption>\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/caption "The HTML Table Caption element (<caption>) specifies the caption (or title) of a table, and if used is always the first child of a <table>.") element should be styled using the [CSS](https://developer.mozilla.org/en-US/docs/CSS) properties [\`caption-side\`](https://developer.mozilla.org/en-US/docs/Web/CSS/caption-side "The caption-side CSS property puts the content of a table's <caption> on the specified side. The values are relative to the writing-mode of the table.") and [\`text-align\`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.").`}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/caption"}]},{name:"colgroup",description:{kind:"markdown",value:"The colgroup element represents a group of one or more columns in the table that is its parent, if it has a parent and that is a table element."},attributes:[{name:"span"},{name:"align",description:'This enumerated attribute specifies how horizontal alignment of each column cell content will be handled. Possible values are:\n\n*   `left`, aligning the content to the left of the cell\n*   `center`, centering the content in the cell\n*   `right`, aligning the content to the right of the cell\n*   `justify`, inserting spaces into the textual content so that the content is justified in the cell\n*   `char`, aligning the textual content on a special character with a minimal offset, defined by the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col#attr-charoff) attributes Unimplemented (see [bug\xA02212](https://bugzilla.mozilla.org/show_bug.cgi?id=2212 "character alignment not implemented (align=char, charoff=, text-align:<string>)")).\n\nIf this attribute is not set, the `left` value is assumed. The descendant [`<col>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col "The HTML <col> element defines a column within a table and is used for defining common semantics on all common cells. It is generally found within a <colgroup> element.") elements may override this value using their own [`align`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col#attr-align) attribute.\n\n**Note:** Do not use this attribute as it is obsolete (not supported) in the latest standard.\n\n*   To achieve the same effect as the `left`, `center`, `right` or `justify` values:\n    *   Do not try to set the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property on a selector giving a [`<colgroup>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/colgroup "The HTML <colgroup> element defines a group of columns within a table.") element. Because [`<td>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td "The HTML <td> element defines a cell of a table that contains data. It participates in the table model.") elements are not descendant of the [`<colgroup>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/colgroup "The HTML <colgroup> element defines a group of columns within a table.") element, they won\'t inherit it.\n    *   If the table doesn\'t use a [`colspan`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td#attr-colspan) attribute, use one `td:nth-child(an+b)` CSS selector per column, where a is the total number of the columns in the table and b is the ordinal position of this column in the table. Only after this selector the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property can be used.\n    *   If the table does use a [`colspan`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td#attr-colspan) attribute, the effect can be achieved by combining adequate CSS attribute selectors like `[colspan=n]`, though this is not trivial.\n*   To achieve the same effect as the `char` value, in CSS3, you can use the value of the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/colgroup#attr-char) as the value of the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property Unimplemented.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/colgroup"}]},{name:"col",description:{kind:"markdown",value:"If a col element has a parent and that is a colgroup element that itself has a parent that is a table element, then the col element represents one or more columns in the column group represented by that colgroup."},void:!0,attributes:[{name:"span"},{name:"align",description:'This enumerated attribute specifies how horizontal alignment of each column cell content will be handled. Possible values are:\n\n*   `left`, aligning the content to the left of the cell\n*   `center`, centering the content in the cell\n*   `right`, aligning the content to the right of the cell\n*   `justify`, inserting spaces into the textual content so that the content is justified in the cell\n*   `char`, aligning the textual content on a special character with a minimal offset, defined by the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col#attr-charoff) attributes Unimplemented (see [bug\xA02212](https://bugzilla.mozilla.org/show_bug.cgi?id=2212 "character alignment not implemented (align=char, charoff=, text-align:<string>)")).\n\nIf this attribute is not set, its value is inherited from the [`align`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/colgroup#attr-align) of the [`<colgroup>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/colgroup "The HTML <colgroup> element defines a group of columns within a table.") element this `<col>` element belongs too. If there are none, the `left` value is assumed.\n\n**Note:** Do not use this attribute as it is obsolete (not supported) in the latest standard.\n\n*   To achieve the same effect as the `left`, `center`, `right` or `justify` values:\n    *   Do not try to set the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property on a selector giving a [`<col>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col "The HTML <col> element defines a column within a table and is used for defining common semantics on all common cells. It is generally found within a <colgroup> element.") element. Because [`<td>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td "The HTML <td> element defines a cell of a table that contains data. It participates in the table model.") elements are not descendant of the [`<col>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col "The HTML <col> element defines a column within a table and is used for defining common semantics on all common cells. It is generally found within a <colgroup> element.") element, they won\'t inherit it.\n    *   If the table doesn\'t use a [`colspan`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td#attr-colspan) attribute, use the `td:nth-child(an+b)` CSS selector. Set `a` to zero and `b` to the position of the column in the table, e.g. `td:nth-child(2) { text-align: right; }` to right-align the second column.\n    *   If the table does use a [`colspan`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td#attr-colspan) attribute, the effect can be achieved by combining adequate CSS attribute selectors like `[colspan=n]`, though this is not trivial.\n*   To achieve the same effect as the `char` value, in CSS3, you can use the value of the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col#attr-char) as the value of the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property Unimplemented.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/col"}]},{name:"tbody",description:{kind:"markdown",value:"The tbody element represents a block of rows that consist of a body of data for the parent table element, if the tbody element has a parent and it is a table."},attributes:[{name:"align",description:'This enumerated attribute specifies how horizontal alignment of each cell content will be handled. Possible values are:\n\n*   `left`, aligning the content to the left of the cell\n*   `center`, centering the content in the cell\n*   `right`, aligning the content to the right of the cell\n*   `justify`, inserting spaces into the textual content so that the content is justified in the cell\n*   `char`, aligning the textual content on a special character with a minimal offset, defined by the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tbody#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tbody#attr-charoff) attributes.\n\nIf this attribute is not set, the `left` value is assumed.\n\n**Note:** Do not use this attribute as it is obsolete (not supported) in the latest standard.\n\n*   To achieve the same effect as the `left`, `center`, `right` or `justify` values, use the CSS [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property on it.\n*   To achieve the same effect as the `char` value, in CSS3, you can use the value of the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tbody#attr-char) as the value of the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property Unimplemented.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/tbody"}]},{name:"thead",description:{kind:"markdown",value:"The thead element represents the block of rows that consist of the column labels (headers) for the parent table element, if the thead element has a parent and it is a table."},attributes:[{name:"align",description:'This enumerated attribute specifies how horizontal alignment of each cell content will be handled. Possible values are:\n\n*   `left`, aligning the content to the left of the cell\n*   `center`, centering the content in the cell\n*   `right`, aligning the content to the right of the cell\n*   `justify`, inserting spaces into the textual content so that the content is justified in the cell\n*   `char`, aligning the textual content on a special character with a minimal offset, defined by the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/thead#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/thead#attr-charoff) attributes Unimplemented (see [bug\xA02212](https://bugzilla.mozilla.org/show_bug.cgi?id=2212 "character alignment not implemented (align=char, charoff=, text-align:<string>)")).\n\nIf this attribute is not set, the `left` value is assumed.\n\n**Note:** Do not use this attribute as it is obsolete (not supported) in the latest standard.\n\n*   To achieve the same effect as the `left`, `center`, `right` or `justify` values, use the CSS [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property on it.\n*   To achieve the same effect as the `char` value, in CSS3, you can use the value of the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/thead#attr-char) as the value of the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property Unimplemented.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/thead"}]},{name:"tfoot",description:{kind:"markdown",value:"The tfoot element represents the block of rows that consist of the column summaries (footers) for the parent table element, if the tfoot element has a parent and it is a table."},attributes:[{name:"align",description:'This enumerated attribute specifies how horizontal alignment of each cell content will be handled. Possible values are:\n\n*   `left`, aligning the content to the left of the cell\n*   `center`, centering the content in the cell\n*   `right`, aligning the content to the right of the cell\n*   `justify`, inserting spaces into the textual content so that the content is justified in the cell\n*   `char`, aligning the textual content on a special character with a minimal offset, defined by the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tbody#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tbody#attr-charoff) attributes Unimplemented (see [bug\xA02212](https://bugzilla.mozilla.org/show_bug.cgi?id=2212 "character alignment not implemented (align=char, charoff=, text-align:<string>)")).\n\nIf this attribute is not set, the `left` value is assumed.\n\n**Note:** Do not use this attribute as it is obsolete (not supported) in the latest standard.\n\n*   To achieve the same effect as the `left`, `center`, `right` or `justify` values, use the CSS [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property on it.\n*   To achieve the same effect as the `char` value, in CSS3, you can use the value of the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tfoot#attr-char) as the value of the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property Unimplemented.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/tfoot"}]},{name:"tr",description:{kind:"markdown",value:"The tr element represents a row of cells in a table."},attributes:[{name:"align",description:'A [`DOMString`](https://developer.mozilla.org/en-US/docs/Web/API/DOMString "DOMString is a UTF-16 String. As JavaScript already uses such strings, DOMString is mapped directly to a String.") which specifies how the cell\'s context should be aligned horizontally within the cells in the row; this is shorthand for using `align` on every cell in the row individually. Possible values are:\n\n`left`\n\nAlign the content of each cell at its left edge.\n\n`center`\n\nCenter the contents of each cell between their left and right edges.\n\n`right`\n\nAlign the content of each cell at its right edge.\n\n`justify`\n\nWiden whitespaces within the text of each cell so that the text fills the full width of each cell (full justification).\n\n`char`\n\nAlign each cell in the row on a specific character (such that each row in the column that is configured this way will horizontally align its cells on that character). This uses the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tr#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tr#attr-charoff) to establish the alignment character (typically "." or "," when aligning numerical data) and the number of characters that should follow the alignment character. This alignment type was never widely supported.\n\nIf no value is expressly set for `align`, the parent node\'s value is inherited.\n\nInstead of using the obsolete `align` attribute, you should instead use the CSS [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property to establish `left`, `center`, `right`, or `justify` alignment for the row\'s cells. To apply character-based alignment, set the CSS [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property to the alignment character (such as `"."` or `","`).'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/tr"}]},{name:"td",description:{kind:"markdown",value:"The td element represents a data cell in a table."},attributes:[{name:"colspan"},{name:"rowspan"},{name:"headers"},{name:"abbr",description:`This attribute contains a short abbreviated description of the cell's content. Some user-agents, such as speech readers, may present this description before the content itself.

**Note:** Do not use this attribute as it is obsolete in the latest standard. Alternatively, you can put the abbreviated description inside the cell and place the long content in the **title** attribute.`},{name:"align",description:'This enumerated attribute specifies how the cell content\'s horizontal alignment will be handled. Possible values are:\n\n*   `left`: The content is aligned to the left of the cell.\n*   `center`: The content is centered in the cell.\n*   `right`: The content is aligned to the right of the cell.\n*   `justify` (with text only): The content is stretched out inside the cell so that it covers its entire width.\n*   `char` (with text only): The content is aligned to a character inside the `<th>` element with minimal offset. This character is defined by the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td#attr-charoff) attributes Unimplemented (see [bug\xA02212](https://bugzilla.mozilla.org/show_bug.cgi?id=2212 "character alignment not implemented (align=char, charoff=, text-align:<string>)")).\n\nThe default value when this attribute is not specified is `left`.\n\n**Note:** Do not use this attribute as it is obsolete in the latest standard.\n\n*   To achieve the same effect as the `left`, `center`, `right` or `justify` values, apply the CSS [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property to the element.\n*   To achieve the same effect as the `char` value, give the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property the same value you would use for the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td#attr-char). Unimplemented in CSS3.'},{name:"axis",description:"This attribute contains a list of space-separated strings. Each string is the `id` of a group of cells that this header applies to.\n\n**Note:** Do not use this attribute as it is obsolete in the latest standard."},{name:"bgcolor",description:`This attribute defines the background color of each cell in a column. It consists of a 6-digit hexadecimal code as defined in [sRGB](https://www.w3.org/Graphics/Color/sRGB) and is prefixed by '#'. This attribute may be used with one of sixteen predefined color strings:

\xA0

\`black\` = "#000000"

\xA0

\`green\` = "#008000"

\xA0

\`silver\` = "#C0C0C0"

\xA0

\`lime\` = "#00FF00"

\xA0

\`gray\` = "#808080"

\xA0

\`olive\` = "#808000"

\xA0

\`white\` = "#FFFFFF"

\xA0

\`yellow\` = "#FFFF00"

\xA0

\`maroon\` = "#800000"

\xA0

\`navy\` = "#000080"

\xA0

\`red\` = "#FF0000"

\xA0

\`blue\` = "#0000FF"

\xA0

\`purple\` = "#800080"

\xA0

\`teal\` = "#008080"

\xA0

\`fuchsia\` = "#FF00FF"

\xA0

\`aqua\` = "#00FFFF"

**Note:** Do not use this attribute, as it is non-standard and only implemented in some versions of Microsoft Internet Explorer: The [\`<td>\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td "The HTML <td> element defines a cell of a table that contains data. It participates in the table model.") element should be styled using [CSS](https://developer.mozilla.org/en-US/docs/CSS). To create a similar effect use the [\`background-color\`](https://developer.mozilla.org/en-US/docs/Web/CSS/background-color "The background-color CSS property sets the background color of an element.") property in [CSS](https://developer.mozilla.org/en-US/docs/CSS) instead.`}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/td"}]},{name:"th",description:{kind:"markdown",value:"The th element represents a header cell in a table."},attributes:[{name:"colspan"},{name:"rowspan"},{name:"headers"},{name:"scope",valueSet:"s"},{name:"sorted"},{name:"abbr",description:{kind:"markdown",value:"This attribute contains a short abbreviated description of the cell's content. Some user-agents, such as speech readers, may present this description before the content itself."}},{name:"align",description:'This enumerated attribute specifies how the cell content\'s horizontal alignment will be handled. Possible values are:\n\n*   `left`: The content is aligned to the left of the cell.\n*   `center`: The content is centered in the cell.\n*   `right`: The content is aligned to the right of the cell.\n*   `justify` (with text only): The content is stretched out inside the cell so that it covers its entire width.\n*   `char` (with text only): The content is aligned to a character inside the `<th>` element with minimal offset. This character is defined by the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/th#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/th#attr-charoff) attributes.\n\nThe default value when this attribute is not specified is `left`.\n\n**Note:** Do not use this attribute as it is obsolete in the latest standard.\n\n*   To achieve the same effect as the `left`, `center`, `right` or `justify` values, apply the CSS [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property to the element.\n*   To achieve the same effect as the `char` value, give the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property the same value you would use for the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/th#attr-char). Unimplemented in CSS3.'},{name:"axis",description:"This attribute contains a list of space-separated strings. Each string is the `id` of a group of cells that this header applies to.\n\n**Note:** Do not use this attribute as it is obsolete in the latest standard: use the [`scope`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/th#attr-scope) attribute instead."},{name:"bgcolor",description:`This attribute defines the background color of each cell in a column. It consists of a 6-digit hexadecimal code as defined in [sRGB](https://www.w3.org/Graphics/Color/sRGB) and is prefixed by '#'. This attribute may be used with one of sixteen predefined color strings:

\xA0

\`black\` = "#000000"

\xA0

\`green\` = "#008000"

\xA0

\`silver\` = "#C0C0C0"

\xA0

\`lime\` = "#00FF00"

\xA0

\`gray\` = "#808080"

\xA0

\`olive\` = "#808000"

\xA0

\`white\` = "#FFFFFF"

\xA0

\`yellow\` = "#FFFF00"

\xA0

\`maroon\` = "#800000"

\xA0

\`navy\` = "#000080"

\xA0

\`red\` = "#FF0000"

\xA0

\`blue\` = "#0000FF"

\xA0

\`purple\` = "#800080"

\xA0

\`teal\` = "#008080"

\xA0

\`fuchsia\` = "#FF00FF"

\xA0

\`aqua\` = "#00FFFF"

**Note:** Do not use this attribute, as it is non-standard and only implemented in some versions of Microsoft Internet Explorer: The [\`<th>\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/th "The HTML <th> element defines a cell as header of a group of table cells. The exact nature of this group is defined by the scope and headers attributes.") element should be styled using [CSS](https://developer.mozilla.org/en-US/docs/Web/CSS). To create a similar effect use the [\`background-color\`](https://developer.mozilla.org/en-US/docs/Web/CSS/background-color "The background-color CSS property sets the background color of an element.") property in [CSS](https://developer.mozilla.org/en-US/docs/Web/CSS) instead.`}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/th"}]},{name:"form",description:{kind:"markdown",value:"The form element represents a collection of form-associated elements, some of which can represent editable values that can be submitted to a server for processing."},attributes:[{name:"accept-charset",description:{kind:"markdown",value:'A space- or comma-delimited list of character encodings that the server accepts. The browser uses them in the order in which they are listed. The default value, the reserved string `"UNKNOWN"`, indicates the same encoding as that of the document containing the form element.  \nIn previous versions of HTML, the different character encodings could be delimited by spaces or commas. In HTML5, only spaces are allowed as delimiters.'}},{name:"action",description:{kind:"markdown",value:'The URI of a program that processes the form information. This value can be overridden by a [`formaction`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#attr-formaction) attribute on a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") or [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element.'}},{name:"autocomplete",valueSet:"o",description:{kind:"markdown",value:"Indicates whether input elements can by default have their values automatically completed by the browser. This setting can be overridden by an `autocomplete` attribute on an element belonging to the form. Possible values are:\n\n*   `off`: The user must explicitly enter a value into each field for every use, or the document provides its own auto-completion method; the browser does not automatically complete entries.\n*   `on`: The browser can automatically complete values based on values that the user has previously entered in the form.\n\nFor most modern browsers (including Firefox 38+, Google Chrome 34+, IE 11+) setting the autocomplete attribute will not prevent a browser's password manager from asking the user if they want to store login fields (username and password), if the user permits the storage the browser will autofill the login the next time the user visits the page. See [The autocomplete attribute and login fields](https://developer.mozilla.org/en-US/docs/Web/Security/Securing_your_site/Turning_off_form_autocompletion#The_autocomplete_attribute_and_login_fields).\n**Note:** If you set `autocomplete` to `off` in a form because the document provides its own auto-completion, then you should also set `autocomplete` to `off` for each of the form's `input` elements that the document can auto-complete. For details, see the note regarding Google Chrome in the [Browser Compatibility chart](#compatChart)."}},{name:"enctype",valueSet:"et",description:{kind:"markdown",value:'When the value of the `method` attribute is `post`, enctype is the [MIME type](https://en.wikipedia.org/wiki/Mime_type) of content that is used to submit the form to the server. Possible values are:\n\n*   `application/x-www-form-urlencoded`: The default value if the attribute is not specified.\n*   `multipart/form-data`: The value used for an [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element with the `type` attribute set to "file".\n*   `text/plain`: (HTML5)\n\nThis value can be overridden by a [`formenctype`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#attr-formenctype) attribute on a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") or [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element.'}},{name:"method",valueSet:"m",description:{kind:"markdown",value:'The [HTTP](https://developer.mozilla.org/en-US/docs/Web/HTTP) method that the browser uses to submit the form. Possible values are:\n\n*   `post`: Corresponds to the HTTP [POST method](https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.5) ; form data are included in the body of the form and sent to the server.\n*   `get`: Corresponds to the HTTP [GET method](https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.3); form data are appended to the `action` attribute URI with a \'?\' as separator, and the resulting URI is sent to the server. Use this method when the form has no side-effects and contains only ASCII characters.\n*   `dialog`: Use when the form is inside a\xA0[`<dialog>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/dialog "The HTML <dialog> element represents a dialog box or other interactive component, such as an inspector or window.") element to close the dialog when submitted.\n\nThis value can be overridden by a [`formmethod`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#attr-formmethod) attribute on a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") or [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element.'}},{name:"name",description:{kind:"markdown",value:"The name of the form. In HTML 4, its use is deprecated (`id` should be used instead). It must be unique among the forms in a document and not just an empty string in HTML 5."}},{name:"novalidate",valueSet:"v",description:{kind:"markdown",value:'This Boolean attribute indicates that the form is not to be validated when submitted. If this attribute is not specified (and therefore the form is validated), this default setting can be overridden by a [`formnovalidate`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#attr-formnovalidate) attribute on a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") or [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element belonging to the form.'}},{name:"target",valueSet:"target",description:{kind:"markdown",value:'A name or keyword indicating where to display the response that is received after submitting the form. In HTML 4, this is the name/keyword for a frame. In HTML5, it is a name/keyword for a _browsing context_ (for example, tab, window, or inline frame). The following keywords have special meanings:\n\n*   `_self`: Load the response into the same HTML 4 frame (or HTML5 browsing context) as the current one. This value is the default if the attribute is not specified.\n*   `_blank`: Load the response into a new unnamed HTML 4 window or HTML5 browsing context.\n*   `_parent`: Load the response into the HTML 4 frameset parent of the current frame, or HTML5 parent browsing context of the current one. If there is no parent, this option behaves the same way as `_self`.\n*   `_top`: HTML 4: Load the response into the full original window, and cancel all other frames. HTML5: Load the response into the top-level browsing context (i.e., the browsing context that is an ancestor of the current one, and has no parent). If there is no parent, this option behaves the same way as `_self`.\n*   _iframename_: The response is displayed in a named [`<iframe>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe "The HTML Inline Frame element (<iframe>) represents a nested browsing context, embedding another HTML page into the current one.").\n\nHTML5: This value can be overridden by a [`formtarget`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#attr-formtarget) attribute on a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") or [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element.'}},{name:"accept",description:'A comma-separated list of content types that the server accepts.\n\n**Usage note:** This attribute has been removed in HTML5 and should no longer be used. Instead, use the [`accept`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-accept) attribute of the specific [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element.'},{name:"autocapitalize",description:"This is a nonstandard attribute used by iOS Safari Mobile which controls whether and how the text value for textual form control descendants should be automatically capitalized as it is entered/edited by the user. If the `autocapitalize` attribute is specified on an individual form control descendant, it trumps the form-wide `autocapitalize` setting. The non-deprecated values are available in iOS 5 and later. The default value is `sentences`. Possible values are:\n\n*   `none`: Completely disables automatic capitalization\n*   `sentences`: Automatically capitalize the first letter of sentences.\n*   `words`: Automatically capitalize the first letter of words.\n*   `characters`: Automatically capitalize all characters.\n*   `on`: Deprecated since iOS 5.\n*   `off`: Deprecated since iOS 5."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/form"}]},{name:"label",description:{kind:"markdown",value:"The label element represents a caption in a user interface. The caption can be associated with a specific form control, known as the label element's labeled control, either using the for attribute, or by putting the form control inside the label element itself."},attributes:[{name:"form",description:{kind:"markdown",value:'The [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") element with which the label is associated (its _form owner_). If specified, the value of the attribute is the `id` of a [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") element in the same document. This lets you place label elements anywhere within a document, not just as descendants of their form elements.'}},{name:"for",description:{kind:"markdown",value:"The [`id`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#attr-id) of a [labelable](https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Content_categories#Form_labelable) form-related element in the same document as the `<label>` element. The first element in the document with an `id` matching the value of the `for` attribute is the _labeled control_ for this label element, if it is a labelable element. If it is\xA0not labelable then the `for` attribute has no effect. If there are other elements which also match the `id` value, later in the document, they are not considered.\n\n**Note**: A `<label>` element can have both a `for` attribute and a contained control element, as long as the `for` attribute points to the contained control element."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/label"}]},{name:"input",description:{kind:"markdown",value:"The input element represents a typed data field, usually with a form control to allow the user to edit the data."},void:!0,attributes:[{name:"accept"},{name:"alt"},{name:"autocomplete",valueSet:"inputautocomplete"},{name:"autofocus",valueSet:"v"},{name:"checked",valueSet:"v"},{name:"dirname"},{name:"disabled",valueSet:"v"},{name:"form"},{name:"formaction"},{name:"formenctype",valueSet:"et"},{name:"formmethod",valueSet:"fm"},{name:"formnovalidate",valueSet:"v"},{name:"formtarget"},{name:"height"},{name:"inputmode",valueSet:"im"},{name:"list"},{name:"max"},{name:"maxlength"},{name:"min"},{name:"minlength"},{name:"multiple",valueSet:"v"},{name:"name"},{name:"pattern"},{name:"placeholder"},{name:"readonly",valueSet:"v"},{name:"required",valueSet:"v"},{name:"size"},{name:"src"},{name:"step"},{name:"type",valueSet:"t"},{name:"value"},{name:"width"}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/input"}]},{name:"button",description:{kind:"markdown",value:"The button element represents a button labeled by its contents."},attributes:[{name:"autofocus",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute lets you specify that the button should have input focus when the page loads, unless the user overrides it, for example by typing in a different control. Only one form-associated element in a document can have this attribute specified."}},{name:"disabled",valueSet:"v",description:{kind:"markdown",value:'This Boolean attribute indicates that the user cannot interact with the button. If this attribute is not specified, the button inherits its setting from the containing element, for example [`<fieldset>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/fieldset "The HTML <fieldset> element is used to group several controls as well as labels (<label>) within a web form."); if there is no containing element with the **disabled** attribute set, then the button is enabled.\n\nFirefox will, unlike other browsers, by default, [persist the dynamic disabled state](https://stackoverflow.com/questions/5985839/bug-with-firefox-disabled-attribute-of-input-not-resetting-when-refreshing) of a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") across page loads. Use the [`autocomplete`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#attr-autocomplete) attribute to control this feature.'}},{name:"form",description:{kind:"markdown",value:'The form element that the button is associated with (its _form owner_). The value of the attribute must be the **id** attribute of a [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") element in the same document. If this attribute is not specified, the `<button>` element will be associated to an ancestor [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") element, if one exists. This attribute enables you to associate `<button>` elements to [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") elements anywhere within a document, not just as descendants of [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") elements.'}},{name:"formaction",description:{kind:"markdown",value:"The URI of a program that processes the information submitted by the button. If specified, it overrides the [`action`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form#attr-action) attribute of the button's form owner."}},{name:"formenctype",valueSet:"et",description:{kind:"markdown",value:'If the button is a submit button, this attribute specifies the type of content that is used to submit the form to the server. Possible values are:\n\n*   `application/x-www-form-urlencoded`: The default value if the attribute is not specified.\n*   `multipart/form-data`: Use this value if you are using an [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element with the [`type`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-type) attribute set to `file`.\n*   `text/plain`\n\nIf this attribute is specified, it overrides the [`enctype`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form#attr-enctype) attribute of the button\'s form owner.'}},{name:"formmethod",valueSet:"fm",description:{kind:"markdown",value:"If the button is a submit button, this attribute specifies the HTTP method that the browser uses to submit the form. Possible values are:\n\n*   `post`: The data from the form are included in the body of the form and sent to the server.\n*   `get`: The data from the form are appended to the **form** attribute URI, with a '?' as a separator, and the resulting URI is sent to the server. Use this method when the form has no side-effects and contains only ASCII characters.\n\nIf specified, this attribute overrides the [`method`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form#attr-method) attribute of the button's form owner."}},{name:"formnovalidate",valueSet:"v",description:{kind:"markdown",value:"If the button is a submit button, this Boolean attribute specifies that the form is not to be validated when it is submitted. If this attribute is specified, it overrides the [`novalidate`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form#attr-novalidate) attribute of the button's form owner."}},{name:"formtarget",description:{kind:"markdown",value:"If the button is a submit button, this attribute is a name or keyword indicating where to display the response that is received after submitting the form. This is a name of, or keyword for, a _browsing context_ (for example, tab, window, or inline frame). If this attribute is specified, it overrides the [`target`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form#attr-target) attribute of the button's form owner. The following keywords have special meanings:\n\n*   `_self`: Load the response into the same browsing context as the current one. This value is the default if the attribute is not specified.\n*   `_blank`: Load the response into a new unnamed browsing context.\n*   `_parent`: Load the response into the parent browsing context of the current one. If there is no parent, this option behaves the same way as `_self`.\n*   `_top`: Load the response into the top-level browsing context (that is, the browsing context that is an ancestor of the current one, and has no parent). If there is no parent, this option behaves the same way as `_self`."}},{name:"name",description:{kind:"markdown",value:"The name of the button, which is submitted with the form data."}},{name:"type",valueSet:"bt",description:{kind:"markdown",value:"The type of the button. Possible values are:\n\n*   `submit`: The button submits the form data to the server. This is the default if the attribute is not specified, or if the attribute is dynamically changed to an empty or invalid value.\n*   `reset`: The button resets all the controls to their initial values.\n*   `button`: The button has no default behavior. It can have client-side scripts associated with the element's events, which are triggered when the events occur."}},{name:"value",description:{kind:"markdown",value:"The initial value of the button. It defines the value associated with the button which is submitted with the form data. This value is passed to the server in params when the form is submitted."}},{name:"autocomplete",description:'The use of this attribute on a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") is nonstandard and Firefox-specific. By default, unlike other browsers, [Firefox persists the dynamic disabled state](https://stackoverflow.com/questions/5985839/bug-with-firefox-disabled-attribute-of-input-not-resetting-when-refreshing) of a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") across page loads. Setting the value of this attribute to `off` (i.e. `autocomplete="off"`) disables this feature. See [bug\xA0654072](https://bugzilla.mozilla.org/show_bug.cgi?id=654072 "if disabled state is changed with javascript, the normal state doesn\'t return after refreshing the page").'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/button"}]},{name:"select",description:{kind:"markdown",value:"The select element represents a control for selecting amongst a set of options."},attributes:[{name:"autocomplete",valueSet:"inputautocomplete",description:{kind:"markdown",value:'A [`DOMString`](https://developer.mozilla.org/en-US/docs/Web/API/DOMString "DOMString is a UTF-16 String. As JavaScript already uses such strings, DOMString is mapped directly to a String.") providing a hint for a [user agent\'s](https://developer.mozilla.org/en-US/docs/Glossary/user_agent "user agent\'s: A user agent is a computer program representing a person, for example, a browser in a Web context.") autocomplete feature. See [The HTML autocomplete attribute](https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/autocomplete) for a complete list of values and details on how to use autocomplete.'}},{name:"autofocus",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute lets you specify that a form control should have input focus when the page loads. Only one form element in a document can have the `autofocus` attribute."}},{name:"disabled",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute indicates that the user cannot interact with the control. If this attribute is not specified, the control inherits its setting from the containing element, for example `fieldset`; if there is no containing element with the `disabled` attribute set, then the control is enabled."}},{name:"form",description:{kind:"markdown",value:'This attribute lets you specify the form element to\xA0which\xA0the select element is associated\xA0(that is, its "form owner"). If this attribute is specified, its value must be the same as the `id` of a form element in the same document. This enables you to place select elements anywhere within a document, not just as descendants of their form elements.'}},{name:"multiple",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute indicates that multiple options can be selected in the list. If it is not specified, then only one option can be selected at a time. When `multiple` is specified, most browsers will show a scrolling list box instead of a single line dropdown."}},{name:"name",description:{kind:"markdown",value:"This attribute is used to specify the name of the control."}},{name:"required",valueSet:"v",description:{kind:"markdown",value:"A Boolean attribute indicating that an option with a non-empty string value must be selected."}},{name:"size",description:{kind:"markdown",value:"If the control is presented as a scrolling list box (e.g. when `multiple` is specified), this attribute represents the number of rows in the list that should be visible at one time. Browsers are not required to present a select element as a scrolled list box. The default value is 0.\n\n**Note:** According to the HTML5 specification, the default value for size should be 1; however, in practice, this has been found to break some web sites, and no other browser currently does that, so Mozilla has opted to continue to return 0 for the time being with Firefox."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/select"}]},{name:"datalist",description:{kind:"markdown",value:"The datalist element represents a set of option elements that represent predefined options for other controls. In the rendering, the datalist element represents nothing and it, along with its children, should be hidden."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/datalist"}]},{name:"optgroup",description:{kind:"markdown",value:"The optgroup element represents a group of option elements with a common label."},attributes:[{name:"disabled",valueSet:"v",description:{kind:"markdown",value:"If this Boolean attribute is set, none of the items in this option group is selectable. Often browsers grey out such control and it won't receive any browsing events, like mouse clicks or focus-related ones."}},{name:"label",description:{kind:"markdown",value:"The name of the group of options, which the browser can use when labeling the options in the user interface. This attribute is mandatory if this element is used."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/optgroup"}]},{name:"option",description:{kind:"markdown",value:"The option element represents an option in a select element or as part of a list of suggestions in a datalist element."},attributes:[{name:"disabled",valueSet:"v",description:{kind:"markdown",value:'If this Boolean attribute is set, this option is not checkable. Often browsers grey out such control and it won\'t receive any browsing event, like mouse clicks or focus-related ones. If this attribute is not set, the element can still be disabled if one of its ancestors is a disabled [`<optgroup>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/optgroup "The HTML <optgroup> element creates a grouping of options within a <select> element.") element.'}},{name:"label",description:{kind:"markdown",value:"This attribute is text for the label indicating the meaning of the option. If the `label` attribute isn't defined, its value is that of the element text content."}},{name:"selected",valueSet:"v",description:{kind:"markdown",value:'If present, this Boolean attribute indicates that the option is initially selected. If the `<option>` element is the descendant of a [`<select>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/select "The HTML <select> element represents a control that provides a menu of options") element whose [`multiple`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/select#attr-multiple) attribute is not set, only one single `<option>` of this [`<select>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/select "The HTML <select> element represents a control that provides a menu of options") element may have the `selected` attribute.'}},{name:"value",description:{kind:"markdown",value:"The content of this attribute represents the value to be submitted with the form, should this option be selected.\xA0If this attribute is omitted, the value is taken from the text content of the option element."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/option"}]},{name:"textarea",description:{kind:"markdown",value:"The textarea element represents a multiline plain text edit control for the element's raw value. The contents of the control represent the control's default value."},attributes:[{name:"autocomplete",valueSet:"inputautocomplete",description:{kind:"markdown",value:'This attribute indicates whether the value of the control can be automatically completed by the browser. Possible values are:\n\n*   `off`: The user must explicitly enter a value into this field for every use, or the document provides its own auto-completion method; the browser does not automatically complete the entry.\n*   `on`: The browser can automatically complete the value based on values that the user has entered during previous uses.\n\nIf the `autocomplete` attribute is not specified on a `<textarea>` element, then the browser uses the `autocomplete` attribute value of the `<textarea>` element\'s form owner. The form owner is either the [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") element that this `<textarea>` element is a descendant of or the form element whose `id` is specified by the `form` attribute of the input element. For more information, see the [`autocomplete`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form#attr-autocomplete) attribute in [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.").'}},{name:"autofocus",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute lets you specify that a form control should have input focus when the page loads. Only one form-associated element in a document can have this attribute specified."}},{name:"cols",description:{kind:"markdown",value:"The visible width of the text control, in average character widths. If it is specified, it must be a positive integer. If it is not specified, the default value is `20`."}},{name:"dirname"},{name:"disabled",valueSet:"v",description:{kind:"markdown",value:'This Boolean attribute indicates that the user cannot interact with the control. If this attribute is not specified, the control inherits its setting from the containing element, for example [`<fieldset>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/fieldset "The HTML <fieldset> element is used to group several controls as well as labels (<label>) within a web form."); if there is no containing element when the `disabled` attribute is set, the control is enabled.'}},{name:"form",description:{kind:"markdown",value:'The form element that the `<textarea>` element is associated with (its "form owner"). The value of the attribute must be the `id` of a form element in the same document. If this attribute is not specified, the `<textarea>` element must be a descendant of a form element. This attribute enables you to place `<textarea>` elements anywhere within a document, not just as descendants of form elements.'}},{name:"inputmode",valueSet:"im"},{name:"maxlength",description:{kind:"markdown",value:"The maximum number of characters (unicode code points) that the user can enter. If this value isn't specified, the user can enter an unlimited number of characters."}},{name:"minlength",description:{kind:"markdown",value:"The minimum number of characters (unicode code points) required that the user should enter."}},{name:"name",description:{kind:"markdown",value:"The name of the control."}},{name:"placeholder",description:{kind:"markdown",value:'A hint to the user of what can be entered in the control. Carriage returns or line-feeds within the placeholder text must be treated as line breaks when rendering the hint.\n\n**Note:** Placeholders should only be used to show an example of the type of data that should be entered into a form; they are _not_ a substitute for a proper [`<label>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/label "The HTML <label> element represents a caption for an item in a user interface.") element tied to the input. See [Labels and placeholders](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#Labels_and_placeholders "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") in [<input>: The Input (Form Input) element](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") for a full explanation.'}},{name:"readonly",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute indicates that the user cannot modify the value of the control. Unlike the `disabled` attribute, the `readonly` attribute does not prevent the user from clicking or selecting in the control. The value of a read-only control is still submitted with the form."}},{name:"required",valueSet:"v",description:{kind:"markdown",value:"This attribute specifies that the user must fill in a value before submitting a form."}},{name:"rows",description:{kind:"markdown",value:"The number of visible text lines for the control."}},{name:"wrap",valueSet:"w",description:{kind:"markdown",value:"Indicates how the control wraps text. Possible values are:\n\n*   `hard`: The browser automatically inserts line breaks (CR+LF) so that each line has no more than the width of the control; the `cols` attribute must also be specified for this to take effect.\n*   `soft`: The browser ensures that all line breaks in the value consist of a CR+LF pair, but does not insert any additional line breaks.\n*   `off` : Like `soft` but changes appearance to `white-space: pre` so line segments exceeding `cols` are not wrapped and the `<textarea>` becomes horizontally scrollable.\n\nIf this attribute is not specified, `soft` is its default value."}},{name:"autocapitalize",description:"This is a non-standard attribute supported by WebKit on iOS (therefore nearly all browsers running on iOS, including Safari, Firefox, and Chrome), which controls whether and how the text value should be automatically capitalized as it is entered/edited by the user. The non-deprecated values are available in iOS 5 and later. Possible values are:\n\n*   `none`: Completely disables automatic capitalization.\n*   `sentences`: Automatically capitalize the first letter of sentences.\n*   `words`: Automatically capitalize the first letter of words.\n*   `characters`: Automatically capitalize all characters.\n*   `on`: Deprecated since iOS 5.\n*   `off`: Deprecated since iOS 5."},{name:"spellcheck",description:"Specifies whether the `<textarea>` is subject to spell checking by the underlying browser/OS. the value can be:\n\n*   `true`: Indicates that the element needs to have its spelling and grammar checked.\n*   `default` : Indicates that the element is to act according to a default behavior, possibly based on the parent element's own `spellcheck` value.\n*   `false` : Indicates that the element should not be spell checked."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/textarea"}]},{name:"output",description:{kind:"markdown",value:"The output element represents the result of a calculation performed by the application, or the result of a user action."},attributes:[{name:"for",description:{kind:"markdown",value:"A space-separated list of other elements\u2019 [`id`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/id)s, indicating that those elements contributed input values to (or otherwise affected) the calculation."}},{name:"form",description:{kind:"markdown",value:'The [form element](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form) that this element is associated with (its "form owner"). The value of the attribute must be an `id` of a form element in the same document. If this attribute is not specified, the output element must be a descendant of a form element. This attribute enables you to place output elements anywhere within a document, not just as descendants of their form elements.'}},{name:"name",description:{kind:"markdown",value:'The name of the element, exposed in the [`HTMLFormElement`](https://developer.mozilla.org/en-US/docs/Web/API/HTMLFormElement "The HTMLFormElement interface represents a <form> element in the DOM; it allows access to and in some cases modification of aspects of the form, as well as access to its component elements.") API.'}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/output"}]},{name:"progress",description:{kind:"markdown",value:"The progress element represents the completion progress of a task. The progress is either indeterminate, indicating that progress is being made but that it is not clear how much more work remains to be done before the task is complete (e.g. because the task is waiting for a remote host to respond), or the progress is a number in the range zero to a maximum, giving the fraction of work that has so far been completed."},attributes:[{name:"value",description:{kind:"markdown",value:"This attribute specifies how much of the task that has been completed. It must be a valid floating point number between 0 and `max`, or between 0 and 1 if `max` is omitted. If there is no `value` attribute, the progress bar is indeterminate; this indicates that an activity is ongoing with no indication of how long it is expected to take."}},{name:"max",description:{kind:"markdown",value:"This attribute describes how much work the task indicated by the `progress` element requires. The `max` attribute, if present, must have a value greater than zero and be a valid floating point number. The default value is 1."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/progress"}]},{name:"meter",description:{kind:"markdown",value:"The meter element represents a scalar measurement within a known range, or a fractional value; for example disk usage, the relevance of a query result, or the fraction of a voting population to have selected a particular candidate."},attributes:[{name:"value",description:{kind:"markdown",value:"The current numeric value. This must be between the minimum and maximum values (`min` attribute and `max` attribute) if they are specified. If unspecified or malformed, the value is 0. If specified, but not within the range given by the `min` attribute and `max` attribute, the value is equal to the nearest end of the range.\n\n**Usage note:** Unless the `value` attribute is between `0` and `1` (inclusive), the `min` and `max` attributes should define the range so that the `value` attribute's value is within it."}},{name:"min",description:{kind:"markdown",value:"The lower numeric bound of the measured range. This must be less than the maximum value (`max` attribute), if specified. If unspecified, the minimum value is 0."}},{name:"max",description:{kind:"markdown",value:"The upper numeric bound of the measured range. This must be greater than the minimum value (`min` attribute), if specified. If unspecified, the maximum value is 1."}},{name:"low",description:{kind:"markdown",value:"The upper numeric bound of the low end of the measured range. This must be greater than the minimum value (`min` attribute), and it also must be less than the high value and maximum value (`high` attribute and `max` attribute, respectively), if any are specified. If unspecified, or if less than the minimum value, the `low` value is equal to the minimum value."}},{name:"high",description:{kind:"markdown",value:"The lower numeric bound of the high end of the measured range. This must be less than the maximum value (`max` attribute), and it also must be greater than the low value and minimum value (`low` attribute and **min** attribute, respectively), if any are specified. If unspecified, or if greater than the maximum value, the `high` value is equal to the maximum value."}},{name:"optimum",description:{kind:"markdown",value:"This attribute indicates the optimal numeric value. It must be within the range (as defined by the `min` attribute and `max` attribute). When used with the `low` attribute and `high` attribute, it gives an indication where along the range is considered preferable. For example, if it is between the `min` attribute and the `low` attribute, then the lower range is considered preferred."}},{name:"form",description:"This attribute associates the element with a `form` element that has ownership of the `meter` element. For example, a `meter` might be displaying a range corresponding to an `input` element of `type` _number_. This attribute is only used if the `meter` element is being used as a form-associated element; even then, it may be omitted if the element appears as a descendant of a `form` element."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/meter"}]},{name:"fieldset",description:{kind:"markdown",value:"The fieldset element represents a set of form controls optionally grouped under a common name."},attributes:[{name:"disabled",valueSet:"v",description:{kind:"markdown",value:"If this Boolean attribute is set, all form controls that are descendants of the `<fieldset>`, are disabled, meaning they are not editable and won't be submitted along with the `<form>`. They won't receive any browsing events, like mouse clicks or focus-related events. By default browsers display such controls grayed out. Note that form elements inside the [`<legend>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/legend \"The HTML <legend> element represents a caption for the content of its parent <fieldset>.\") element won't be disabled."}},{name:"form",description:{kind:"markdown",value:'This attribute takes the value of the `id` attribute of a [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") element you want the `<fieldset>` to be part of, even if it is not inside the form.'}},{name:"name",description:{kind:"markdown",value:'The name associated with the group.\n\n**Note**: The caption for the fieldset is given by the first [`<legend>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/legend "The HTML <legend> element represents a caption for the content of its parent <fieldset>.") element nested inside it.'}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/fieldset"}]},{name:"legend",description:{kind:"markdown",value:"The legend element represents a caption for the rest of the contents of the legend element's parent fieldset element, if any."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/legend"}]},{name:"details",description:{kind:"markdown",value:"The details element represents a disclosure widget from which the user can obtain additional information or controls."},attributes:[{name:"open",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute indicates whether or not the details \u2014 that is, the contents of the `<details>` element \u2014 are currently visible. The default, `false`, means the details are not visible."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/details"}]},{name:"summary",description:{kind:"markdown",value:"The summary element represents a summary, caption, or legend for the rest of the contents of the summary element's parent details element, if any."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/summary"}]},{name:"dialog",description:{kind:"markdown",value:"The dialog element represents a part of an application that a user interacts with to perform a task, for example a dialog box, inspector, or window."},attributes:[{name:"open",description:"Indicates that the dialog is active and available for interaction. When the `open` attribute is not set, the dialog shouldn't be shown to the user."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/dialog"}]},{name:"script",description:{kind:"markdown",value:"The script element allows authors to include dynamic script and data blocks in their documents. The element does not represent content for the user."},attributes:[{name:"src",description:{kind:"markdown",value:"This attribute specifies the URI of an external script; this can be used as an alternative to embedding a script directly within a document.\n\nIf a `script` element has a `src` attribute specified, it should not have a script embedded inside its tags."}},{name:"type",description:{kind:"markdown",value:'This attribute indicates the type of script represented. The value of this attribute will be in one of the following categories:\n\n*   **Omitted or a JavaScript MIME type:** For HTML5-compliant browsers this indicates the script is JavaScript. HTML5 specification urges authors to omit the attribute rather than provide a redundant MIME type. In earlier browsers, this identified the scripting language of the embedded or imported (via the `src` attribute) code. JavaScript MIME types are [listed in the specification](https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types#JavaScript_types).\n*   **`module`:** For HTML5-compliant browsers the code is treated as a JavaScript module. The processing of the script contents is not affected by the `charset` and `defer` attributes. For information on using `module`, see [ES6 in Depth: Modules](https://hacks.mozilla.org/2015/08/es6-in-depth-modules/). Code may behave differently when the `module` keyword is used.\n*   **Any other value:** The embedded content is treated as a data block which won\'t be processed by the browser. Developers must use a valid MIME type that is not a JavaScript MIME type to denote data blocks. The `src` attribute will be ignored.\n\n**Note:** in Firefox you could specify the version of JavaScript contained in a `<script>` element by including a non-standard `version` parameter inside the `type` attribute \u2014 for example `type="text/javascript;version=1.8"`. This has been removed in Firefox 59 (see [bug\xA01428745](https://bugzilla.mozilla.org/show_bug.cgi?id=1428745 "FIXED: Remove support for version parameter from script loader")).'}},{name:"charset"},{name:"async",valueSet:"v",description:{kind:"markdown",value:`This is a Boolean attribute indicating that the browser should, if possible, load the script asynchronously.

This attribute must not be used if the \`src\` attribute is absent (i.e. for inline scripts). If it is included in this case it will have no effect.

Browsers usually assume the worst case scenario and load scripts synchronously, (i.e. \`async="false"\`) during HTML parsing.

Dynamically inserted scripts (using [\`document.createElement()\`](https://developer.mozilla.org/en-US/docs/Web/API/Document/createElement "In an HTML document, the document.createElement() method creates the HTML element specified by tagName, or an HTMLUnknownElement if tagName isn't recognized.")) load asynchronously by default, so to turn on synchronous loading (i.e. scripts load in the order they were inserted) set \`async="false"\`.

See [Browser compatibility](#Browser_compatibility) for notes on browser support. See also [Async scripts for asm.js](https://developer.mozilla.org/en-US/docs/Games/Techniques/Async_scripts).`}},{name:"defer",valueSet:"v",description:{kind:"markdown",value:'This Boolean attribute is set to indicate to a browser that the script is meant to be executed after the document has been parsed, but before firing [`DOMContentLoaded`](https://developer.mozilla.org/en-US/docs/Web/Events/DOMContentLoaded "/en-US/docs/Web/Events/DOMContentLoaded").\n\nScripts with the `defer` attribute will prevent the `DOMContentLoaded` event from firing until the script has loaded and finished evaluating.\n\nThis attribute must not be used if the `src` attribute is absent (i.e. for inline scripts), in this case it would have no effect.\n\nTo achieve a similar effect for dynamically inserted scripts use `async="false"` instead. Scripts with the `defer` attribute will execute in the order in which they appear in the document.'}},{name:"crossorigin",valueSet:"xo",description:{kind:"markdown",value:'Normal `script` elements pass minimal information to the [`window.onerror`](https://developer.mozilla.org/en-US/docs/Web/API/GlobalEventHandlers/onerror "The onerror property of the GlobalEventHandlers mixin is an EventHandler that processes error events.") for scripts which do not pass the standard [CORS](https://developer.mozilla.org/en-US/docs/Glossary/CORS "CORS: CORS (Cross-Origin Resource Sharing) is a system, consisting of transmitting HTTP headers, that determines whether browsers block frontend JavaScript code from accessing responses for cross-origin requests.") checks. To allow error logging for sites which use a separate domain for static media, use this attribute. See [CORS settings attributes](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_settings_attributes) for a more descriptive explanation of its valid arguments.'}},{name:"nonce",description:{kind:"markdown",value:"A cryptographic nonce (number used once) to list the allowed inline scripts in a [script-src Content-Security-Policy](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/script-src). The server must generate a unique nonce value each time it transmits a policy. It is critical to provide a nonce that cannot be guessed as bypassing a resource's policy is otherwise trivial."}},{name:"integrity",description:"This attribute contains inline metadata that a user agent can use to verify that a fetched resource has been delivered free of unexpected manipulation. See [Subresource Integrity](https://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity)."},{name:"nomodule",description:"This Boolean attribute is set to indicate that the script should not be executed in browsers that support [ES2015 modules](https://hacks.mozilla.org/2015/08/es6-in-depth-modules/) \u2014 in effect, this can be used to serve fallback scripts to older browsers that do not support modular JavaScript code."},{name:"referrerpolicy",description:'Indicates which [referrer](https://developer.mozilla.org/en-US/docs/Web/API/Document/referrer) to send when fetching the script, or resources fetched by the script:\n\n*   `no-referrer`: The [`Referer`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer "The Referer request header contains the address of the previous web page from which a link to the currently requested page was followed. The Referer header allows servers to identify where people are visiting them from and may use that data for analytics, logging, or optimized caching, for example.") header will not be sent.\n*   `no-referrer-when-downgrade` (default): The [`Referer`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer "The Referer request header contains the address of the previous web page from which a link to the currently requested page was followed. The Referer header allows servers to identify where people are visiting them from and may use that data for analytics, logging, or optimized caching, for example.") header will not be sent to [origin](https://developer.mozilla.org/en-US/docs/Glossary/origin "origin: Web content\'s origin is defined by the scheme (protocol), host (domain), and port of the URL used to access it. Two objects have the same origin only when the scheme, host, and port all match.")s without [TLS](https://developer.mozilla.org/en-US/docs/Glossary/TLS "TLS: Transport Layer Security (TLS), previously known as Secure Sockets Layer (SSL), is a protocol used by applications to communicate securely across a network, preventing tampering with and eavesdropping on email, web browsing, messaging, and other protocols.") ([HTTPS](https://developer.mozilla.org/en-US/docs/Glossary/HTTPS "HTTPS: HTTPS (HTTP Secure) is an encrypted version of the HTTP protocol. It usually uses SSL or TLS to encrypt all communication between a client and a server. This secure connection allows clients to safely exchange sensitive data with a server, for example for banking activities or online shopping.")).\n*   `origin`: The sent referrer will be limited to the origin of the referring page: its [scheme](https://developer.mozilla.org/en-US/docs/Archive/Mozilla/URIScheme), [host](https://developer.mozilla.org/en-US/docs/Glossary/host "host: A host is a device connected to the Internet (or a local network). Some hosts called servers offer additional services like serving webpages or storing files and emails."), and [port](https://developer.mozilla.org/en-US/docs/Glossary/port "port: For a computer connected to a network with an IP address, a port is a communication endpoint. Ports are designated by numbers, and below 1024 each port is associated by default with a specific protocol.").\n*   `origin-when-cross-origin`: The referrer sent to other origins will be limited to the scheme, the host, and the port. Navigations on the same origin will still include the path.\n*   `same-origin`: A referrer will be sent for [same origin](https://developer.mozilla.org/en-US/docs/Glossary/Same-origin_policy "same origin: The same-origin policy is a critical security mechanism that restricts how a document or script loaded from one origin can interact with a resource from another origin."), but cross-origin requests will contain no referrer information.\n*   `strict-origin`: Only send the origin of the document as the referrer when the protocol security level stays the same (e.g. HTTPS\u2192HTTPS), but don\'t send it to a less secure destination (e.g. HTTPS\u2192HTTP).\n*   `strict-origin-when-cross-origin`: Send a full URL when performing a same-origin request, but only send the origin when the protocol security level stays the same (e.g.HTTPS\u2192HTTPS), and send no header to a less secure destination (e.g. HTTPS\u2192HTTP).\n*   `unsafe-url`: The referrer will include the origin _and_ the path (but not the [fragment](https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/hash), [password](https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/password), or [username](https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/username)). **This value is unsafe**, because it leaks origins and paths from TLS-protected resources to insecure origins.\n\n**Note**: An empty string value (`""`) is both the default value, and a fallback value if `referrerpolicy` is not supported. If `referrerpolicy` is not explicitly specified on the `<script>` element, it will adopt a higher-level referrer policy, i.e. one set on the whole document or domain. If a higher-level policy is not available,\xA0the empty string is treated as being equivalent to `no-referrer-when-downgrade`.'},{name:"text",description:"Like the `textContent` attribute, this attribute sets the text content of the element. Unlike the `textContent` attribute, however, this attribute is evaluated as executable code after the node is inserted into the DOM."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/script"}]},{name:"noscript",description:{kind:"markdown",value:"The noscript element represents nothing if scripting is enabled, and represents its children if scripting is disabled. It is used to present different markup to user agents that support scripting and those that don't support scripting, by affecting how the document is parsed."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/noscript"}]},{name:"template",description:{kind:"markdown",value:"The template element is used to declare fragments of HTML that can be cloned and inserted in the document by script."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/template"}]},{name:"canvas",description:{kind:"markdown",value:"The canvas element provides scripts with a resolution-dependent bitmap canvas, which can be used for rendering graphs, game graphics, art, or other visual images on the fly."},attributes:[{name:"width",description:{kind:"markdown",value:"The width of the coordinate space in CSS pixels. Defaults to 300."}},{name:"height",description:{kind:"markdown",value:"The height of the coordinate space in CSS pixels. Defaults to 150."}},{name:"moz-opaque",description:"Lets the canvas know whether or not translucency will be a factor. If the canvas knows there's no translucency, painting performance can be optimized. This is only supported by Mozilla-based browsers; use the standardized [`canvas.getContext('2d', { alpha: false })`](https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/getContext \"The HTMLCanvasElement.getContext() method returns a drawing context on the canvas, or null if the context identifier is not supported.\") instead."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/canvas"}]},{name:"slot",description:{kind:"markdown",value:"The slot element is a placeholder inside a web component that you can fill with your own markup, which lets you create separate DOM trees and present them together."},attributes:[{name:"name",description:{kind:"markdown",value:"The slot's name.\nA **named slot** is a `<slot>` element with a `name` attribute."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/slot"}]},{name:"data",description:{kind:"markdown",value:"The data element links a given piece of content with a machine-readable translation."},attributes:[{name:"value",description:{kind:"markdown",value:"This attribute specifies the machine-readable translation of the content of the element."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/data"}]},{name:"hgroup",description:{kind:"markdown",value:"The hgroup element represents a heading and related content. It groups a single h1\u2013h6 element with one or more p."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/hgroup"}]},{name:"menu",description:{kind:"markdown",value:"The menu element represents an unordered list of interactive items."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/menu"}]}],globalAttributes:[{name:"accesskey",description:{kind:"markdown",value:"Provides a hint for generating a keyboard shortcut for the current element. This attribute consists of a space-separated list of characters. The browser should use the first one that exists on the computer keyboard layout."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/accesskey"}]},{name:"autocapitalize",description:{kind:"markdown",value:"Controls whether and how text input is automatically capitalized as it is entered/edited by the user. It can have the following values:\n\n*   `off` or `none`, no autocapitalization is applied (all letters default to lowercase)\n*   `on` or `sentences`, the first letter of each sentence defaults to a capital letter; all other letters default to lowercase\n*   `words`, the first letter of each word defaults to a capital letter; all other letters default to lowercase\n*   `characters`, all letters should default to uppercase"},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/autocapitalize"}]},{name:"class",description:{kind:"markdown",value:'A space-separated list of the classes of the element. Classes allows CSS and JavaScript to select and access specific elements via the [class selectors](https://developer.mozilla.org/docs/Web/CSS/Class_selectors) or functions like the method [`Document.getElementsByClassName()`](https://developer.mozilla.org/docs/Web/API/Document/getElementsByClassName "returns an array-like object of all child elements which have all of the given class names.").'},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/class"}]},{name:"contenteditable",description:{kind:"markdown",value:"An enumerated attribute indicating if the element should be editable by the user. If so, the browser modifies its widget to allow editing. The attribute must take one of the following values:\n\n*   `true` or the _empty string_, which indicates that the element must be editable;\n*   `false`, which indicates that the element must not be editable."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/contenteditable"}]},{name:"contextmenu",description:{kind:"markdown",value:'The `[**id**](#attr-id)` of a [`<menu>`](https://developer.mozilla.org/docs/Web/HTML/Element/menu "The HTML <menu> element represents a group of commands that a user can perform or activate. This includes both list menus, which might appear across the top of a screen, as well as context menus, such as those that might appear underneath a button after it has been clicked.") to use as the contextual menu for this element.'}},{name:"dir",description:{kind:"markdown",value:"An enumerated attribute indicating the directionality of the element's text. It can have the following values:\n\n*   `ltr`, which means _left to right_ and is to be used for languages that are written from the left to the right (like English);\n*   `rtl`, which means _right to left_ and is to be used for languages that are written from the right to the left (like Arabic);\n*   `auto`, which lets the user agent decide. It uses a basic algorithm as it parses the characters inside the element until it finds a character with a strong directionality, then it applies that directionality to the whole element."},valueSet:"d",references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/dir"}]},{name:"draggable",description:{kind:"markdown",value:"An enumerated attribute indicating whether the element can be dragged, using the [Drag and Drop API](https://developer.mozilla.org/docs/DragDrop/Drag_and_Drop). It can have the following values:\n\n*   `true`, which indicates that the element may be dragged\n*   `false`, which indicates that the element may not be dragged."},valueSet:"b",references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/draggable"}]},{name:"dropzone",description:{kind:"markdown",value:"An enumerated attribute indicating what types of content can be dropped on an element, using the [Drag and Drop API](https://developer.mozilla.org/docs/DragDrop/Drag_and_Drop). It can have the following values:\n\n*   `copy`, which indicates that dropping will create a copy of the element that was dragged\n*   `move`, which indicates that the element that was dragged will be moved to this new location.\n*   `link`, will create a link to the dragged data."}},{name:"exportparts",description:{kind:"markdown",value:"Used to transitively export shadow parts from a nested shadow tree into a containing light tree."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/exportparts"}]},{name:"hidden",description:{kind:"markdown",value:"A Boolean attribute indicates that the element is not yet, or is no longer, _relevant_. For example, it can be used to hide elements of the page that can't be used until the login process has been completed. The browser won't render such elements. This attribute must not be used to hide content that could legitimately be shown."},valueSet:"v",references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/hidden"}]},{name:"id",description:{kind:"markdown",value:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS)."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/id"}]},{name:"inputmode",description:{kind:"markdown",value:'Provides a hint to browsers as to the type of virtual keyboard configuration to use when editing this element or its contents. Used primarily on [`<input>`](https://developer.mozilla.org/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") elements, but is usable on any element while in `[contenteditable](https://developer.mozilla.org/docs/Web/HTML/Global_attributes#attr-contenteditable)` mode.'},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/inputmode"}]},{name:"is",description:{kind:"markdown",value:"Allows you to specify that a standard HTML element should behave like a registered custom built-in element (see [Using custom elements](https://developer.mozilla.org/docs/Web/Web_Components/Using_custom_elements) for more details)."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/is"}]},{name:"itemid",description:{kind:"markdown",value:"The unique, global identifier of an item."}},{name:"itemprop",description:{kind:"markdown",value:"Used to add properties to an item. Every HTML element may have an `itemprop` attribute specified, where an `itemprop` consists of a name and value pair."}},{name:"itemref",description:{kind:"markdown",value:"Properties that are not descendants of an element with the `itemscope` attribute can be associated with the item using an `itemref`. It provides a list of element ids (not `itemid`s) with additional properties elsewhere in the document."}},{name:"itemscope",description:{kind:"markdown",value:"`itemscope` (usually) works along with `[itemtype](https://developer.mozilla.org/docs/Web/HTML/Global_attributes#attr-itemtype)` to specify that the HTML contained in a block is about a particular item. `itemscope` creates the Item and defines the scope of the `itemtype` associated with it. `itemtype` is a valid URL of a vocabulary (such as [schema.org](https://schema.org/)) that describes the item and its properties context."},valueSet:"v"},{name:"itemtype",description:{kind:"markdown",value:"Specifies the URL of the vocabulary that will be used to define `itemprop`s (item properties) in the data structure. `[itemscope](https://developer.mozilla.org/docs/Web/HTML/Global_attributes#attr-itemscope)` is used to set the scope of where in the data structure the vocabulary set by `itemtype` will be active."}},{name:"lang",description:{kind:"markdown",value:"Helps define the language of an element: the language that non-editable elements are in, or the language that editable elements should be written in by the user. The attribute contains one \u201Clanguage tag\u201D (made of hyphen-separated \u201Clanguage subtags\u201D) in the format defined in [_Tags for Identifying Languages (BCP47)_](https://www.ietf.org/rfc/bcp/bcp47.txt). [**xml:lang**](#attr-xml:lang) has priority over it."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/lang"}]},{name:"part",description:{kind:"markdown",value:'A space-separated list of the part names of the element. Part names allows CSS to select and style specific elements in a shadow tree via the [`::part`](https://developer.mozilla.org/docs/Web/CSS/::part "The ::part CSS pseudo-element represents any element within a shadow tree that has a matching part attribute.") pseudo-element.'},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/part"}]},{name:"role",valueSet:"roles"},{name:"slot",description:{kind:"markdown",value:"Assigns a slot in a [shadow DOM](https://developer.mozilla.org/docs/Web/Web_Components/Shadow_DOM) shadow tree to an element: An element with a `slot` attribute is assigned to the slot created by the [`<slot>`](https://developer.mozilla.org/docs/Web/HTML/Element/slot \"The HTML <slot> element\u2014part of the Web Components technology suite\u2014is a placeholder inside a web component that you can fill with your own markup, which lets you create separate DOM trees and present them together.\") element whose `[name](https://developer.mozilla.org/docs/Web/HTML/Element/slot#attr-name)` attribute's value matches that `slot` attribute's value."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/slot"}]},{name:"spellcheck",description:{kind:"markdown",value:"An enumerated attribute defines whether the element may be checked for spelling errors. It may have the following values:\n\n*   `true`, which indicates that the element should be, if possible, checked for spelling errors;\n*   `false`, which indicates that the element should not be checked for spelling errors."},valueSet:"b",references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/spellcheck"}]},{name:"style",description:{kind:"markdown",value:'Contains [CSS](https://developer.mozilla.org/docs/Web/CSS) styling declarations to be applied to the element. Note that it is recommended for styles to be defined in a separate file or files. This attribute and the [`<style>`](https://developer.mozilla.org/docs/Web/HTML/Element/style "The HTML <style> element contains style information for a document, or part of a document.") element have mainly the purpose of allowing for quick styling, for example for testing purposes.'},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/style"}]},{name:"tabindex",description:{kind:"markdown",value:`An integer attribute indicating if the element can take input focus (is _focusable_), if it should participate to sequential keyboard navigation, and if so, at what position. It can take several values:

*   a _negative value_ means that the element should be focusable, but should not be reachable via sequential keyboard navigation;
*   \`0\` means that the element should be focusable and reachable via sequential keyboard navigation, but its relative order is defined by the platform convention;
*   a _positive value_ means that the element should be focusable and reachable via sequential keyboard navigation; the order in which the elements are focused is the increasing value of the [**tabindex**](#attr-tabindex). If several elements share the same tabindex, their relative order follows their relative positions in the document.`},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/tabindex"}]},{name:"title",description:{kind:"markdown",value:"Contains a text representing advisory information related to the element it belongs to. Such information can typically, but not necessarily, be presented to the user as a tooltip."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/title"}]},{name:"translate",description:{kind:"markdown",value:"An enumerated attribute that is used to specify whether an element's attribute values and the values of its [`Text`](https://developer.mozilla.org/docs/Web/API/Text \"The Text interface represents the textual content of Element or Attr. If an element has no markup within its content, it has a single child implementing Text that contains the element's text. However, if the element contains markup, it is parsed into information items and Text nodes that form its children.\") node children are to be translated when the page is localized, or whether to leave them unchanged. It can have the following values:\n\n*   empty string and `yes`, which indicates that the element will be translated.\n*   `no`, which indicates that the element will not be translated."},valueSet:"y",references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/translate"}]},{name:"onabort",description:{kind:"markdown",value:"The loading of a resource has been aborted."}},{name:"onblur",description:{kind:"markdown",value:"An element has lost focus (does not bubble)."}},{name:"oncanplay",description:{kind:"markdown",value:"The user agent can play the media, but estimates that not enough data has been loaded to play the media up to its end without having to stop for further buffering of content."}},{name:"oncanplaythrough",description:{kind:"markdown",value:"The user agent can play the media up to its end without having to stop for further buffering of content."}},{name:"onchange",description:{kind:"markdown",value:"The change event is fired for <input>, <select>, and <textarea> elements when a change to the element's value is committed by the user."}},{name:"onclick",description:{kind:"markdown",value:"A pointing device button has been pressed and released on an element."}},{name:"oncontextmenu",description:{kind:"markdown",value:"The right button of the mouse is clicked (before the context menu is displayed)."}},{name:"ondblclick",description:{kind:"markdown",value:"A pointing device button is clicked twice on an element."}},{name:"ondrag",description:{kind:"markdown",value:"An element or text selection is being dragged (every 350ms)."}},{name:"ondragend",description:{kind:"markdown",value:"A drag operation is being ended (by releasing a mouse button or hitting the escape key)."}},{name:"ondragenter",description:{kind:"markdown",value:"A dragged element or text selection enters a valid drop target."}},{name:"ondragleave",description:{kind:"markdown",value:"A dragged element or text selection leaves a valid drop target."}},{name:"ondragover",description:{kind:"markdown",value:"An element or text selection is being dragged over a valid drop target (every 350ms)."}},{name:"ondragstart",description:{kind:"markdown",value:"The user starts dragging an element or text selection."}},{name:"ondrop",description:{kind:"markdown",value:"An element is dropped on a valid drop target."}},{name:"ondurationchange",description:{kind:"markdown",value:"The duration attribute has been updated."}},{name:"onemptied",description:{kind:"markdown",value:"The media has become empty; for example, this event is sent if the media has already been loaded (or partially loaded), and the load() method is called to reload it."}},{name:"onended",description:{kind:"markdown",value:"Playback has stopped because the end of the media was reached."}},{name:"onerror",description:{kind:"markdown",value:"A resource failed to load."}},{name:"onfocus",description:{kind:"markdown",value:"An element has received focus (does not bubble)."}},{name:"onformchange"},{name:"onforminput"},{name:"oninput",description:{kind:"markdown",value:"The value of an element changes or the content of an element with the attribute contenteditable is modified."}},{name:"oninvalid",description:{kind:"markdown",value:"A submittable element has been checked and doesn't satisfy its constraints."}},{name:"onkeydown",description:{kind:"markdown",value:"A key is pressed down."}},{name:"onkeypress",description:{kind:"markdown",value:"A key is pressed down and that key normally produces a character value (use input instead)."}},{name:"onkeyup",description:{kind:"markdown",value:"A key is released."}},{name:"onload",description:{kind:"markdown",value:"A resource and its dependent resources have finished loading."}},{name:"onloadeddata",description:{kind:"markdown",value:"The first frame of the media has finished loading."}},{name:"onloadedmetadata",description:{kind:"markdown",value:"The metadata has been loaded."}},{name:"onloadstart",description:{kind:"markdown",value:"Progress has begun."}},{name:"onmousedown",description:{kind:"markdown",value:"A pointing device button (usually a mouse) is pressed on an element."}},{name:"onmousemove",description:{kind:"markdown",value:"A pointing device is moved over an element."}},{name:"onmouseout",description:{kind:"markdown",value:"A pointing device is moved off the element that has the listener attached or off one of its children."}},{name:"onmouseover",description:{kind:"markdown",value:"A pointing device is moved onto the element that has the listener attached or onto one of its children."}},{name:"onmouseup",description:{kind:"markdown",value:"A pointing device button is released over an element."}},{name:"onmousewheel"},{name:"onmouseenter",description:{kind:"markdown",value:"A pointing device is moved onto the element that has the listener attached."}},{name:"onmouseleave",description:{kind:"markdown",value:"A pointing device is moved off the element that has the listener attached."}},{name:"onpause",description:{kind:"markdown",value:"Playback has been paused."}},{name:"onplay",description:{kind:"markdown",value:"Playback has begun."}},{name:"onplaying",description:{kind:"markdown",value:"Playback is ready to start after having been paused or delayed due to lack of data."}},{name:"onprogress",description:{kind:"markdown",value:"In progress."}},{name:"onratechange",description:{kind:"markdown",value:"The playback rate has changed."}},{name:"onreset",description:{kind:"markdown",value:"A form is reset."}},{name:"onresize",description:{kind:"markdown",value:"The document view has been resized."}},{name:"onreadystatechange",description:{kind:"markdown",value:"The readyState attribute of a document has changed."}},{name:"onscroll",description:{kind:"markdown",value:"The document view or an element has been scrolled."}},{name:"onseeked",description:{kind:"markdown",value:"A seek operation completed."}},{name:"onseeking",description:{kind:"markdown",value:"A seek operation began."}},{name:"onselect",description:{kind:"markdown",value:"Some text is being selected."}},{name:"onshow",description:{kind:"markdown",value:"A contextmenu event was fired on/bubbled to an element that has a contextmenu attribute"}},{name:"onstalled",description:{kind:"markdown",value:"The user agent is trying to fetch media data, but data is unexpectedly not forthcoming."}},{name:"onsubmit",description:{kind:"markdown",value:"A form is submitted."}},{name:"onsuspend",description:{kind:"markdown",value:"Media data loading has been suspended."}},{name:"ontimeupdate",description:{kind:"markdown",value:"The time indicated by the currentTime attribute has been updated."}},{name:"onvolumechange",description:{kind:"markdown",value:"The volume has changed."}},{name:"onwaiting",description:{kind:"markdown",value:"Playback has stopped because of a temporary lack of data."}},{name:"onpointercancel",description:{kind:"markdown",value:"The pointer is unlikely to produce any more events."}},{name:"onpointerdown",description:{kind:"markdown",value:"The pointer enters the active buttons state."}},{name:"onpointerenter",description:{kind:"markdown",value:"Pointing device is moved inside the hit-testing boundary."}},{name:"onpointerleave",description:{kind:"markdown",value:"Pointing device is moved out of the hit-testing boundary."}},{name:"onpointerlockchange",description:{kind:"markdown",value:"The pointer was locked or released."}},{name:"onpointerlockerror",description:{kind:"markdown",value:"It was impossible to lock the pointer for technical reasons or because the permission was denied."}},{name:"onpointermove",description:{kind:"markdown",value:"The pointer changed coordinates."}},{name:"onpointerout",description:{kind:"markdown",value:"The pointing device moved out of hit-testing boundary or leaves detectable hover range."}},{name:"onpointerover",description:{kind:"markdown",value:"The pointing device is moved into the hit-testing boundary."}},{name:"onpointerup",description:{kind:"markdown",value:"The pointer leaves the active buttons state."}},{name:"aria-activedescendant",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-activedescendant"}],description:{kind:"markdown",value:"Identifies the currently active element when DOM focus is on a [`composite`](https://www.w3.org/TR/wai-aria-1.1/#composite) widget, [`textbox`](https://www.w3.org/TR/wai-aria-1.1/#textbox), [`group`](https://www.w3.org/TR/wai-aria-1.1/#group), or [`application`](https://www.w3.org/TR/wai-aria-1.1/#application)."}},{name:"aria-atomic",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-atomic"}],description:{kind:"markdown",value:"Indicates whether [assistive technologies](https://www.w3.org/TR/wai-aria-1.1/#dfn-assistive-technology) will present all, or only parts of, the changed region based on the change notifications defined by the [`aria-relevant`](https://www.w3.org/TR/wai-aria-1.1/#aria-relevant) attribute."}},{name:"aria-autocomplete",valueSet:"autocomplete",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-autocomplete"}],description:{kind:"markdown",value:"Indicates whether inputting text could trigger display of one or more predictions of the user's intended value for an input and specifies how predictions would be presented if they are made."}},{name:"aria-busy",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-busy"}],description:{kind:"markdown",value:"Indicates an element is being modified and that assistive technologies _MAY_ want to wait until the modifications are complete before exposing them to the user."}},{name:"aria-checked",valueSet:"tristate",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-checked"}],description:{kind:"markdown",value:'Indicates the current "checked" [state](https://www.w3.org/TR/wai-aria-1.1/#dfn-state) of checkboxes, radio buttons, and other [widgets](https://www.w3.org/TR/wai-aria-1.1/#dfn-widget). See related [`aria-pressed`](https://www.w3.org/TR/wai-aria-1.1/#aria-pressed) and [`aria-selected`](https://www.w3.org/TR/wai-aria-1.1/#aria-selected).'}},{name:"aria-colcount",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-colcount"}],description:{kind:"markdown",value:"Defines the total number of columns in a [`table`](https://www.w3.org/TR/wai-aria-1.1/#table), [`grid`](https://www.w3.org/TR/wai-aria-1.1/#grid), or [`treegrid`](https://www.w3.org/TR/wai-aria-1.1/#treegrid). See related [`aria-colindex`](https://www.w3.org/TR/wai-aria-1.1/#aria-colindex)."}},{name:"aria-colindex",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-colindex"}],description:{kind:"markdown",value:"Defines an [element's](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) column index or position with respect to the total number of columns within a [`table`](https://www.w3.org/TR/wai-aria-1.1/#table), [`grid`](https://www.w3.org/TR/wai-aria-1.1/#grid), or [`treegrid`](https://www.w3.org/TR/wai-aria-1.1/#treegrid). See related [`aria-colcount`](https://www.w3.org/TR/wai-aria-1.1/#aria-colcount) and [`aria-colspan`](https://www.w3.org/TR/wai-aria-1.1/#aria-colspan)."}},{name:"aria-colspan",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-colspan"}],description:{kind:"markdown",value:"Defines the number of columns spanned by a cell or gridcell within a [`table`](https://www.w3.org/TR/wai-aria-1.1/#table), [`grid`](https://www.w3.org/TR/wai-aria-1.1/#grid), or [`treegrid`](https://www.w3.org/TR/wai-aria-1.1/#treegrid). See related [`aria-colindex`](https://www.w3.org/TR/wai-aria-1.1/#aria-colindex) and [`aria-rowspan`](https://www.w3.org/TR/wai-aria-1.1/#aria-rowspan)."}},{name:"aria-controls",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-controls"}],description:{kind:"markdown",value:"Identifies the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) (or elements) whose contents or presence are controlled by the current element. See related [`aria-owns`](https://www.w3.org/TR/wai-aria-1.1/#aria-owns)."}},{name:"aria-current",valueSet:"current",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-current"}],description:{kind:"markdown",value:"Indicates the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) that represents the current item within a container or set of related elements."}},{name:"aria-describedby",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-describedby"}],description:{kind:"markdown",value:"Identifies the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) (or elements) that describes the [object](https://www.w3.org/TR/wai-aria-1.1/#dfn-object). See related [`aria-labelledby`](https://www.w3.org/TR/wai-aria-1.1/#aria-labelledby)."}},{name:"aria-disabled",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-disabled"}],description:{kind:"markdown",value:"Indicates that the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) is [perceivable](https://www.w3.org/TR/wai-aria-1.1/#dfn-perceivable) but disabled, so it is not editable or otherwise [operable](https://www.w3.org/TR/wai-aria-1.1/#dfn-operable). See related [`aria-hidden`](https://www.w3.org/TR/wai-aria-1.1/#aria-hidden) and [`aria-readonly`](https://www.w3.org/TR/wai-aria-1.1/#aria-readonly)."}},{name:"aria-dropeffect",valueSet:"dropeffect",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-dropeffect"}],description:{kind:"markdown",value:"\\[Deprecated in ARIA 1.1\\] Indicates what functions can be performed when a dragged object is released on the drop target."}},{name:"aria-errormessage",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-errormessage"}],description:{kind:"markdown",value:"Identifies the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) that provides an error message for the [object](https://www.w3.org/TR/wai-aria-1.1/#dfn-object). See related [`aria-invalid`](https://www.w3.org/TR/wai-aria-1.1/#aria-invalid) and [`aria-describedby`](https://www.w3.org/TR/wai-aria-1.1/#aria-describedby)."}},{name:"aria-expanded",valueSet:"u",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-expanded"}],description:{kind:"markdown",value:"Indicates whether the element, or another grouping element it controls, is currently expanded or collapsed."}},{name:"aria-flowto",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-flowto"}],description:{kind:"markdown",value:"Identifies the next [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) (or elements) in an alternate reading order of content which, at the user's discretion, allows assistive technology to override the general default of reading in document source order."}},{name:"aria-grabbed",valueSet:"u",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-grabbed"}],description:{kind:"markdown",value:`\\[Deprecated in ARIA 1.1\\] Indicates an element's "grabbed" [state](https://www.w3.org/TR/wai-aria-1.1/#dfn-state) in a drag-and-drop operation.`}},{name:"aria-haspopup",valueSet:"haspopup",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-haspopup"}],description:{kind:"markdown",value:"Indicates the availability and type of interactive popup element, such as menu or dialog, that can be triggered by an [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element)."}},{name:"aria-hidden",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-hidden"}],description:{kind:"markdown",value:"Indicates whether the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) is exposed to an accessibility API. See related [`aria-disabled`](https://www.w3.org/TR/wai-aria-1.1/#aria-disabled)."}},{name:"aria-invalid",valueSet:"invalid",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-invalid"}],description:{kind:"markdown",value:"Indicates the entered value does not conform to the format expected by the application. See related [`aria-errormessage`](https://www.w3.org/TR/wai-aria-1.1/#aria-errormessage)."}},{name:"aria-label",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-label"}],description:{kind:"markdown",value:"Defines a string value that labels the current element. See related [`aria-labelledby`](https://www.w3.org/TR/wai-aria-1.1/#aria-labelledby)."}},{name:"aria-labelledby",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-labelledby"}],description:{kind:"markdown",value:"Identifies the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) (or elements) that labels the current element. See related [`aria-describedby`](https://www.w3.org/TR/wai-aria-1.1/#aria-describedby)."}},{name:"aria-level",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-level"}],description:{kind:"markdown",value:"Defines the hierarchical level of an [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) within a structure."}},{name:"aria-live",valueSet:"live",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-live"}],description:{kind:"markdown",value:"Indicates that an [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) will be updated, and describes the types of updates the [user agents](https://www.w3.org/TR/wai-aria-1.1/#dfn-user-agent), [assistive technologies](https://www.w3.org/TR/wai-aria-1.1/#dfn-assistive-technology), and user can expect from the [live region](https://www.w3.org/TR/wai-aria-1.1/#dfn-live-region)."}},{name:"aria-modal",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-modal"}],description:{kind:"markdown",value:"Indicates whether an [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) is modal when displayed."}},{name:"aria-multiline",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-multiline"}],description:{kind:"markdown",value:"Indicates whether a text box accepts multiple lines of input or only a single line."}},{name:"aria-multiselectable",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-multiselectable"}],description:{kind:"markdown",value:"Indicates that the user may select more than one item from the current selectable descendants."}},{name:"aria-orientation",valueSet:"orientation",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-orientation"}],description:{kind:"markdown",value:"Indicates whether the element's orientation is horizontal, vertical, or unknown/ambiguous."}},{name:"aria-owns",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-owns"}],description:{kind:"markdown",value:"Identifies an [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) (or elements) in order to define a visual, functional, or contextual parent/child [relationship](https://www.w3.org/TR/wai-aria-1.1/#dfn-relationship) between DOM elements where the DOM hierarchy cannot be used to represent the relationship. See related [`aria-controls`](https://www.w3.org/TR/wai-aria-1.1/#aria-controls)."}},{name:"aria-placeholder",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-placeholder"}],description:{kind:"markdown",value:"Defines a short hint (a word or short phrase) intended to aid the user with data entry when the control has no value. A hint could be a sample value or a brief description of the expected format."}},{name:"aria-posinset",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-posinset"}],description:{kind:"markdown",value:"Defines an [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element)'s number or position in the current set of listitems or treeitems. Not required if all elements in the set are present in the DOM. See related [`aria-setsize`](https://www.w3.org/TR/wai-aria-1.1/#aria-setsize)."}},{name:"aria-pressed",valueSet:"tristate",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-pressed"}],description:{kind:"markdown",value:'Indicates the current "pressed" [state](https://www.w3.org/TR/wai-aria-1.1/#dfn-state) of toggle buttons. See related [`aria-checked`](https://www.w3.org/TR/wai-aria-1.1/#aria-checked) and [`aria-selected`](https://www.w3.org/TR/wai-aria-1.1/#aria-selected).'}},{name:"aria-readonly",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-readonly"}],description:{kind:"markdown",value:"Indicates that the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) is not editable, but is otherwise [operable](https://www.w3.org/TR/wai-aria-1.1/#dfn-operable). See related [`aria-disabled`](https://www.w3.org/TR/wai-aria-1.1/#aria-disabled)."}},{name:"aria-relevant",valueSet:"relevant",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-relevant"}],description:{kind:"markdown",value:"Indicates what notifications the user agent will trigger when the accessibility tree within a live region is modified. See related [`aria-atomic`](https://www.w3.org/TR/wai-aria-1.1/#aria-atomic)."}},{name:"aria-required",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-required"}],description:{kind:"markdown",value:"Indicates that user input is required on the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) before a form may be submitted."}},{name:"aria-roledescription",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-roledescription"}],description:{kind:"markdown",value:"Defines a human-readable, author-localized description for the [role](https://www.w3.org/TR/wai-aria-1.1/#dfn-role) of an [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element)."}},{name:"aria-rowcount",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-rowcount"}],description:{kind:"markdown",value:"Defines the total number of rows in a [`table`](https://www.w3.org/TR/wai-aria-1.1/#table), [`grid`](https://www.w3.org/TR/wai-aria-1.1/#grid), or [`treegrid`](https://www.w3.org/TR/wai-aria-1.1/#treegrid). See related [`aria-rowindex`](https://www.w3.org/TR/wai-aria-1.1/#aria-rowindex)."}},{name:"aria-rowindex",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-rowindex"}],description:{kind:"markdown",value:"Defines an [element's](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) row index or position with respect to the total number of rows within a [`table`](https://www.w3.org/TR/wai-aria-1.1/#table), [`grid`](https://www.w3.org/TR/wai-aria-1.1/#grid), or [`treegrid`](https://www.w3.org/TR/wai-aria-1.1/#treegrid). See related [`aria-rowcount`](https://www.w3.org/TR/wai-aria-1.1/#aria-rowcount) and [`aria-rowspan`](https://www.w3.org/TR/wai-aria-1.1/#aria-rowspan)."}},{name:"aria-rowspan",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-rowspan"}],description:{kind:"markdown",value:"Defines the number of rows spanned by a cell or gridcell within a [`table`](https://www.w3.org/TR/wai-aria-1.1/#table), [`grid`](https://www.w3.org/TR/wai-aria-1.1/#grid), or [`treegrid`](https://www.w3.org/TR/wai-aria-1.1/#treegrid). See related [`aria-rowindex`](https://www.w3.org/TR/wai-aria-1.1/#aria-rowindex) and [`aria-colspan`](https://www.w3.org/TR/wai-aria-1.1/#aria-colspan)."}},{name:"aria-selected",valueSet:"u",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-selected"}],description:{kind:"markdown",value:'Indicates the current "selected" [state](https://www.w3.org/TR/wai-aria-1.1/#dfn-state) of various [widgets](https://www.w3.org/TR/wai-aria-1.1/#dfn-widget). See related [`aria-checked`](https://www.w3.org/TR/wai-aria-1.1/#aria-checked) and [`aria-pressed`](https://www.w3.org/TR/wai-aria-1.1/#aria-pressed).'}},{name:"aria-setsize",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-setsize"}],description:{kind:"markdown",value:"Defines the number of items in the current set of listitems or treeitems. Not required if all elements in the set are present in the DOM. See related [`aria-posinset`](https://www.w3.org/TR/wai-aria-1.1/#aria-posinset)."}},{name:"aria-sort",valueSet:"sort",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-sort"}],description:{kind:"markdown",value:"Indicates if items in a table or grid are sorted in ascending or descending order."}},{name:"aria-valuemax",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-valuemax"}],description:{kind:"markdown",value:"Defines the maximum allowed value for a range [widget](https://www.w3.org/TR/wai-aria-1.1/#dfn-widget)."}},{name:"aria-valuemin",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-valuemin"}],description:{kind:"markdown",value:"Defines the minimum allowed value for a range [widget](https://www.w3.org/TR/wai-aria-1.1/#dfn-widget)."}},{name:"aria-valuenow",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-valuenow"}],description:{kind:"markdown",value:"Defines the current value for a range [widget](https://www.w3.org/TR/wai-aria-1.1/#dfn-widget). See related [`aria-valuetext`](https://www.w3.org/TR/wai-aria-1.1/#aria-valuetext)."}},{name:"aria-valuetext",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-valuetext"}],description:{kind:"markdown",value:"Defines the human readable text alternative of [`aria-valuenow`](https://www.w3.org/TR/wai-aria-1.1/#aria-valuenow) for a range [widget](https://www.w3.org/TR/wai-aria-1.1/#dfn-widget)."}},{name:"aria-details",description:{kind:"markdown",value:"Identifies the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) that provides a detailed, extended description for the [object](https://www.w3.org/TR/wai-aria-1.1/#dfn-object). See related [`aria-describedby`](https://www.w3.org/TR/wai-aria-1.1/#aria-describedby)."}},{name:"aria-keyshortcuts",description:{kind:"markdown",value:"Indicates keyboard shortcuts that an author has implemented to activate or give focus to an element."}}],valueSets:[{name:"b",values:[{name:"true"},{name:"false"}]},{name:"u",values:[{name:"true"},{name:"false"},{name:"undefined"}]},{name:"o",values:[{name:"on"},{name:"off"}]},{name:"y",values:[{name:"yes"},{name:"no"}]},{name:"w",values:[{name:"soft"},{name:"hard"}]},{name:"d",values:[{name:"ltr"},{name:"rtl"},{name:"auto"}]},{name:"m",values:[{name:"get",description:{kind:"markdown",value:"Corresponds to the HTTP [GET method](https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.3); form data are appended to the `action` attribute URI with a '?' as separator, and the resulting URI is sent to the server. Use this method when the form has no side-effects and contains only ASCII characters."}},{name:"post",description:{kind:"markdown",value:"Corresponds to the HTTP [POST method](https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.5); form data are included in the body of the form and sent to the server."}},{name:"dialog",description:{kind:"markdown",value:"Use when the form is inside a [`<dialog>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/dialog) element to close the dialog when submitted."}}]},{name:"fm",values:[{name:"get"},{name:"post"}]},{name:"s",values:[{name:"row"},{name:"col"},{name:"rowgroup"},{name:"colgroup"}]},{name:"t",values:[{name:"hidden"},{name:"text"},{name:"search"},{name:"tel"},{name:"url"},{name:"email"},{name:"password"},{name:"datetime"},{name:"date"},{name:"month"},{name:"week"},{name:"time"},{name:"datetime-local"},{name:"number"},{name:"range"},{name:"color"},{name:"checkbox"},{name:"radio"},{name:"file"},{name:"submit"},{name:"image"},{name:"reset"},{name:"button"}]},{name:"im",values:[{name:"verbatim"},{name:"latin"},{name:"latin-name"},{name:"latin-prose"},{name:"full-width-latin"},{name:"kana"},{name:"kana-name"},{name:"katakana"},{name:"numeric"},{name:"tel"},{name:"email"},{name:"url"}]},{name:"bt",values:[{name:"button"},{name:"submit"},{name:"reset"},{name:"menu"}]},{name:"lt",values:[{name:"1"},{name:"a"},{name:"A"},{name:"i"},{name:"I"}]},{name:"mt",values:[{name:"context"},{name:"toolbar"}]},{name:"mit",values:[{name:"command"},{name:"checkbox"},{name:"radio"}]},{name:"et",values:[{name:"application/x-www-form-urlencoded"},{name:"multipart/form-data"},{name:"text/plain"}]},{name:"tk",values:[{name:"subtitles"},{name:"captions"},{name:"descriptions"},{name:"chapters"},{name:"metadata"}]},{name:"pl",values:[{name:"none"},{name:"metadata"},{name:"auto"}]},{name:"sh",values:[{name:"circle"},{name:"default"},{name:"poly"},{name:"rect"}]},{name:"xo",values:[{name:"anonymous"},{name:"use-credentials"}]},{name:"target",values:[{name:"_self"},{name:"_blank"},{name:"_parent"},{name:"_top"}]},{name:"sb",values:[{name:"allow-forms"},{name:"allow-modals"},{name:"allow-pointer-lock"},{name:"allow-popups"},{name:"allow-popups-to-escape-sandbox"},{name:"allow-same-origin"},{name:"allow-scripts"},{name:"allow-top-navigation"}]},{name:"tristate",values:[{name:"true"},{name:"false"},{name:"mixed"},{name:"undefined"}]},{name:"inputautocomplete",values:[{name:"additional-name"},{name:"address-level1"},{name:"address-level2"},{name:"address-level3"},{name:"address-level4"},{name:"address-line1"},{name:"address-line2"},{name:"address-line3"},{name:"bday"},{name:"bday-year"},{name:"bday-day"},{name:"bday-month"},{name:"billing"},{name:"cc-additional-name"},{name:"cc-csc"},{name:"cc-exp"},{name:"cc-exp-month"},{name:"cc-exp-year"},{name:"cc-family-name"},{name:"cc-given-name"},{name:"cc-name"},{name:"cc-number"},{name:"cc-type"},{name:"country"},{name:"country-name"},{name:"current-password"},{name:"email"},{name:"family-name"},{name:"fax"},{name:"given-name"},{name:"home"},{name:"honorific-prefix"},{name:"honorific-suffix"},{name:"impp"},{name:"language"},{name:"mobile"},{name:"name"},{name:"new-password"},{name:"nickname"},{name:"off"},{name:"on"},{name:"organization"},{name:"organization-title"},{name:"pager"},{name:"photo"},{name:"postal-code"},{name:"sex"},{name:"shipping"},{name:"street-address"},{name:"tel-area-code"},{name:"tel"},{name:"tel-country-code"},{name:"tel-extension"},{name:"tel-local"},{name:"tel-local-prefix"},{name:"tel-local-suffix"},{name:"tel-national"},{name:"transaction-amount"},{name:"transaction-currency"},{name:"url"},{name:"username"},{name:"work"}]},{name:"autocomplete",values:[{name:"inline"},{name:"list"},{name:"both"},{name:"none"}]},{name:"current",values:[{name:"page"},{name:"step"},{name:"location"},{name:"date"},{name:"time"},{name:"true"},{name:"false"}]},{name:"dropeffect",values:[{name:"copy"},{name:"move"},{name:"link"},{name:"execute"},{name:"popup"},{name:"none"}]},{name:"invalid",values:[{name:"grammar"},{name:"false"},{name:"spelling"},{name:"true"}]},{name:"live",values:[{name:"off"},{name:"polite"},{name:"assertive"}]},{name:"orientation",values:[{name:"vertical"},{name:"horizontal"},{name:"undefined"}]},{name:"relevant",values:[{name:"additions"},{name:"removals"},{name:"text"},{name:"all"},{name:"additions text"}]},{name:"sort",values:[{name:"ascending"},{name:"descending"},{name:"none"},{name:"other"}]},{name:"roles",values:[{name:"alert"},{name:"alertdialog"},{name:"button"},{name:"checkbox"},{name:"dialog"},{name:"gridcell"},{name:"link"},{name:"log"},{name:"marquee"},{name:"menuitem"},{name:"menuitemcheckbox"},{name:"menuitemradio"},{name:"option"},{name:"progressbar"},{name:"radio"},{name:"scrollbar"},{name:"searchbox"},{name:"slider"},{name:"spinbutton"},{name:"status"},{name:"switch"},{name:"tab"},{name:"tabpanel"},{name:"textbox"},{name:"timer"},{name:"tooltip"},{name:"treeitem"},{name:"combobox"},{name:"grid"},{name:"listbox"},{name:"menu"},{name:"menubar"},{name:"radiogroup"},{name:"tablist"},{name:"tree"},{name:"treegrid"},{name:"application"},{name:"article"},{name:"cell"},{name:"columnheader"},{name:"definition"},{name:"directory"},{name:"document"},{name:"feed"},{name:"figure"},{name:"group"},{name:"heading"},{name:"img"},{name:"list"},{name:"listitem"},{name:"math"},{name:"none"},{name:"note"},{name:"presentation"},{name:"region"},{name:"row"},{name:"rowgroup"},{name:"rowheader"},{name:"separator"},{name:"table"},{name:"term"},{name:"text"},{name:"toolbar"},{name:"banner"},{name:"complementary"},{name:"contentinfo"},{name:"form"},{name:"main"},{name:"navigation"},{name:"region"},{name:"search"},{name:"doc-abstract"},{name:"doc-acknowledgments"},{name:"doc-afterword"},{name:"doc-appendix"},{name:"doc-backlink"},{name:"doc-biblioentry"},{name:"doc-bibliography"},{name:"doc-biblioref"},{name:"doc-chapter"},{name:"doc-colophon"},{name:"doc-conclusion"},{name:"doc-cover"},{name:"doc-credit"},{name:"doc-credits"},{name:"doc-dedication"},{name:"doc-endnote"},{name:"doc-endnotes"},{name:"doc-epigraph"},{name:"doc-epilogue"},{name:"doc-errata"},{name:"doc-example"},{name:"doc-footnote"},{name:"doc-foreword"},{name:"doc-glossary"},{name:"doc-glossref"},{name:"doc-index"},{name:"doc-introduction"},{name:"doc-noteref"},{name:"doc-notice"},{name:"doc-pagebreak"},{name:"doc-pagelist"},{name:"doc-part"},{name:"doc-preface"},{name:"doc-prologue"},{name:"doc-pullquote"},{name:"doc-qna"},{name:"doc-subtitle"},{name:"doc-tip"},{name:"doc-toc"}]},{name:"metanames",values:[{name:"application-name"},{name:"author"},{name:"description"},{name:"format-detection"},{name:"generator"},{name:"keywords"},{name:"publisher"},{name:"referrer"},{name:"robots"},{name:"theme-color"},{name:"viewport"}]},{name:"haspopup",values:[{name:"false",description:{kind:"markdown",value:"(default) Indicates the element does not have a popup."}},{name:"true",description:{kind:"markdown",value:"Indicates the popup is a menu."}},{name:"menu",description:{kind:"markdown",value:"Indicates the popup is a menu."}},{name:"listbox",description:{kind:"markdown",value:"Indicates the popup is a listbox."}},{name:"tree",description:{kind:"markdown",value:"Indicates the popup is a tree."}},{name:"grid",description:{kind:"markdown",value:"Indicates the popup is a grid."}},{name:"dialog",description:{kind:"markdown",value:"Indicates the popup is a dialog."}}]},{name:"decoding",values:[{name:"sync"},{name:"async"},{name:"auto"}]},{name:"loading",values:[{name:"eager",description:{kind:"markdown",value:"Loads the image immediately, regardless of whether or not the image is currently within the visible viewport (this is the default value)."}},{name:"lazy",description:{kind:"markdown",value:"Defers loading the image until it reaches a calculated distance from the viewport, as defined by the browser. The intent is to avoid the network and storage bandwidth needed to handle the image until it's reasonably certain that it will be needed. This generally improves the performance of the content in most typical use cases."}}]},{name:"referrerpolicy",values:[{name:"no-referrer"},{name:"no-referrer-when-downgrade"},{name:"origin"},{name:"origin-when-cross-origin"},{name:"same-origin"},{name:"strict-origin"},{name:"strict-origin-when-cross-origin"},{name:"unsafe-url"}]}]}});var O4,UNt,mBe=Ti(()=>{JF();Ale();Dle();O4=class{constructor(e){this.dataProviders=[],this.setDataProviders(e.useDefaultDataProvider!==!1,e.customDataProviders||[])}setDataProviders(e,t){this.dataProviders=[],e&&this.dataProviders.push(new OI("html5",x4)),this.dataProviders.push(...t)}getDataProviders(){return this.dataProviders}isVoidElement(e,t){return!!e&&RHe(t,e.toLowerCase(),(n,i)=>n.localeCompare(i))>=0}getVoidElements(e){let t=Array.isArray(e)?e:this.getDataProviders().filter(i=>i.isApplicable(e)),n=[];return t.forEach(i=>{i.provideTags().filter(o=>o.void).forEach(o=>n.push(o.name))}),n.sort()}isPathAttribute(e,t){if(t==="src"||t==="href")return!0;let n=UNt[e];return n?typeof n=="string"?n===t:n.indexOf(t)!==-1:!1}},UNt={a:"href",area:"href",body:"background",blockquote:"cite",del:"cite",form:"action",frame:["src","longdesc"],img:["src","longdesc"],ins:"cite",link:"href",object:"data",q:"cite",script:"src",audio:"src",button:"formaction",command:"icon",embed:"src",html:"manifest",input:["src","formaction"],source:"src",track:"src",video:["src","poster"]}});var vBe={};g1(vBe,{ClientCapabilities:()=>wle,Color:()=>GF,ColorInformation:()=>i4,ColorPresentation:()=>o4,Command:()=>kD,CompletionItem:()=>l4,CompletionItemKind:()=>Od,CompletionItemTag:()=>a4,CompletionList:()=>d4,Diagnostic:()=>wI,DocumentHighlight:()=>h4,DocumentHighlightKind:()=>YE,DocumentLink:()=>g4,DocumentSymbol:()=>EI,DocumentUri:()=>r4,FileType:()=>YF,FoldingRange:()=>s4,FoldingRangeKind:()=>GE,FormattingOptions:()=>m4,Hover:()=>f4,InsertReplaceEdit:()=>c4,InsertTextFormat:()=>Am,InsertTextMode:()=>u4,Location:()=>bI,MarkedString:()=>CI,MarkupContent:()=>KE,MarkupKind:()=>jg,Position:()=>ec,Range:()=>Pi,ScannerState:()=>Yn,SelectionRange:()=>JE,SymbolInformation:()=>DI,SymbolKind:()=>TI,TextDocument:()=>XE,TextEdit:()=>_u,TokenType:()=>Xt,WorkspaceEdit:()=>KF,getDefaultHTMLDataProvider:()=>BNt,getLanguageService:()=>Lle,newHTMLDataProvider:()=>gBe});function Lle(r=HNt){let e=new O4(r),t=new D4(r,e),n=new C4(r,e),i=new w4(e),o=new P4(i),s=new R4(e),a=new E4(e);return{setDataProviders:e.setDataProviders.bind(e),createScanner:$u,parseHTMLDocument:i.parseDocument.bind(i),doComplete:n.doComplete.bind(n),doComplete2:n.doComplete2.bind(n),setCompletionParticipants:n.setCompletionParticipants.bind(n),doHover:t.doHover.bind(t),format:KHe,findDocumentHighlights:nBe,findDocumentLinks:a.findDocumentLinks.bind(a),findDocumentSymbols:oBe,findDocumentSymbols2:Ile,getFoldingRanges:s.getFoldingRanges.bind(s),getSelectionRanges:o.getSelectionRanges.bind(o),doQuoteComplete:n.doQuoteComplete.bind(n),doTagComplete:n.doTagComplete.bind(n),doRename:cBe,findMatchingTagPosition:lBe,findOnTypeRenameRanges:kle,findLinkedEditingRanges:kle}}function gBe(r,e){return new OI(r,e)}function BNt(){return gBe("default",x4)}var HNt,Mle=Ti(()=>{lC();PHe();MHe();FHe();YHe();ZHe();iBe();aBe();uBe();dBe();fBe();hBe();pBe();JF();mBe();Ale();Lm();HNt={}});var _Be=C(II=>{"use strict";var yBe=II&&II.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(II,"__esModule",{value:!0});II.HtmlTagCompletionProvider=void 0;var C_=require("vscode"),WNt=(Mle(),rT(vBe)),$Nt=(y4(),rT(DHe)),VNt=OD(),GNt=Qv(),Nle=class{constructor(e,t){this.documentManager=e,this.serviceClient=t,this.timeout=void 0,this.enabled=!1}register(){this.htmlLanguageService=(0,WNt.getLanguageService)();let e=C_.workspace.onDidChangeTextDocument(n=>this.onDidChangeTextDocument(n.document,n.contentChanges)),t=C_.window.onDidChangeActiveTextEditor(()=>this.checkIfEnabled());return this.checkIfEnabled(),C_.Disposable.from(e,t)}checkIfEnabled(){this.enabled=!1;let e=C_.window.activeTextEditor;if(!e)return;let t=e.document;t.languageId===VNt.RazorLanguage.id&&C_.workspace.getConfiguration(void 0,t.uri).get("html.autoClosingTags")&&(this.enabled=!0)}onDidChangeTextDocument(e,t){return yBe(this,void 0,void 0,function*(){if(!this.enabled||t.length===0||!C_.window.activeTextEditor||C_.window.activeTextEditor.document!==e)return;this.timeout!==void 0&&clearTimeout(this.timeout);let n=t[t.length-1];if(n.rangeLength>0||n.text[n.text.length-1]!==">")return;let o=n.range.start;if(o.character<2)return;let s=e.offsetAt(n.range.start),a=e.getText(),c=a.charAt(s-1);if(c==="/"||c===">")return;if(!this.atMarkupTransition(a,s)){if((yield this.serviceClient.languageQuery(n.range.start,e.uri)).kind!==GNt.LanguageKind.Html)return}let u=e.version;this.timeout=setTimeout(()=>yBe(this,void 0,void 0,function*(){if(!this.enabled)return;let l=C_.window.activeTextEditor;if(!l)return;let d=l.document;if(e!==d||d.version!==u)return;let f=new C_.Position(o.line,o.character+n.text.length);if(!this.htmlLanguageService)return;let p=yield this.documentManager.getActiveDocument();p&&(a=p.htmlDocument.getContent());let _=$Nt.TextDocument.create(e.uri.fsPath,e.languageId,e.version,a),D=this.htmlLanguageService.parseHTMLDocument(_),P=this.htmlLanguageService.doTagComplete(_,f,D);if(!P)return;let M=l.selections;M.length&&M.some(A=>A.active.isEqual(f))?l.insertSnippet(new C_.SnippetString(P),M.map(A=>A.active)):l.insertSnippet(new C_.SnippetString(P),f)}),75)})}atMarkupTransition(e,t){return e.substring(t-5,t)==="<text"}};II.HtmlTagCompletionProvider=Nle});var SBe=C(kI=>{"use strict";var KNt=kI&&kI.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(kI,"__esModule",{value:!0});kI.RazorHtmlFeature=void 0;var QF=require("vscode"),bBe=NUe(),wBe=zV(),YNt=_Be(),Fle=class{constructor(e,t,n,i){this.projectionProvider=new wBe.HtmlProjectedDocumentContentProvider(e,n,i),this.htmlTagCompletionProvider=new YNt.HtmlTagCompletionProvider(e,t),this.htmlPreviewPanel=new bBe.HtmlPreviewPanel(e)}register(){let e=[QF.workspace.registerTextDocumentContentProvider(wBe.HtmlProjectedDocumentContentProvider.scheme,this.projectionProvider),QF.commands.registerCommand("extension.showRazorHtmlWindow",()=>this.htmlPreviewPanel.show()),this.htmlTagCompletionProvider.register()];return QF.window.registerWebviewPanelSerializer&&e.push(QF.window.registerWebviewPanelSerializer(bBe.HtmlPreviewPanel.viewType,{deserializeWebviewPanel:t=>KNt(this,void 0,void 0,function*(){yield this.htmlPreviewPanel.revive(t)})})),QF.Disposable.from(...e)}};kI.RazorHtmlFeature=Fle});var TBe=C(AI=>{"use strict";var JNt=AI&&AI.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(AI,"__esModule",{value:!0});AI.RazorImplementationProvider=void 0;var XNt=require("vscode"),QNt=d_(),CBe=Qv(),qle=class extends QNt.RazorLanguageFeatureBase{provideImplementation(e,t,n){return JNt(this,void 0,void 0,function*(){let i=yield this.getProjection(e,t,n);return!i||i.languageKind===CBe.LanguageKind.Html||i.languageKind===CBe.LanguageKind.Razor?void 0:yield XNt.commands.executeCommand("vscode.executeImplementationProvider",i.uri,i.position)})}};AI.RazorImplementationProvider=qle});var DBe=C(LI=>{"use strict";var ZNt=LI&&LI.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(LI,"__esModule",{value:!0});LI.ProposedApisFeature=void 0;var jle=class{register(e,t){return ZNt(this,void 0,void 0,function*(){e.env.appName.endsWith("Insiders")})}};LI.ProposedApisFeature=jle});var PBe=C(MI=>{"use strict";var EBe=MI&&MI.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(MI,"__esModule",{value:!0});MI.RazorCSharpLanguageMiddleware=void 0;var zle=require("vscode"),I4=jF(),RBe=Qv(),Ule=class{constructor(e,t){this.serviceClient=e,this.logger=t,this.language="Razor"}remapWorkspaceEdit(e,t){return EBe(this,void 0,void 0,function*(){let n=new Map;for(let o of e.entries()){let s=o[0],a=o[1];if(!(0,I4.isRazorCSharpFile)(s)){n.set(s,a);continue}let c=(0,I4.getRazorDocumentUri)(s);for(let u of a){let l=yield this.serviceClient.mapToDocumentRanges(RBe.LanguageKind.CSharp,[u.range],c);if(!l||!l.ranges||!l.ranges[0]){this.logger.logWarning(`Unable to remap file ${s.path} at ${u.range}.`);continue}else{let d=new zle.TextEdit(l.ranges[0],u.newText);this.logger.logVerbose(`Re-mapping text ${u.newText} at ${u.range} in ${s.path} to ${l.ranges[0]} in ${c.path}`),this.addElementToDictionary(n,c,d)}}}return this.mapToTextEdit(n)})}remapLocations(e,t){return EBe(this,void 0,void 0,function*(){let n=[];for(let i of e){if(!(0,I4.isRazorCSharpFile)(i.uri)){n.push(i);continue}let o=(0,I4.getRazorDocumentUri)(i.uri),s=yield this.serviceClient.mapToDocumentRanges(RBe.LanguageKind.CSharp,[i.range],o);if(!s||!s.ranges||!s.ranges[0]){this.logger.logWarning(`Unable to remap file ${i.uri.path} at ${i.range}.`);continue}let a=new zle.Location(o,s.ranges[0]);n.push(a),this.logger.logVerbose(`Re-mapping location ${i.range} in ${i.uri.path} to ${s.ranges[0]} in ${o.path}`)}return n})}mapToTextEdit(e){let t=new zle.WorkspaceEdit;return e.forEach((n,i)=>{t.set(i,n)}),t}addElementToDictionary(e,t,n){let i;if(e.has(t))i=e.get(t),i&&i.push(n);else{let o=new Array;o.push(n),e.set(t,o)}}};MI.RazorCSharpLanguageMiddleware=Ule});var OBe=C(k4=>{"use strict";Object.defineProperty(k4,"__esModule",{value:!0});k4.RazorLanguageConfiguration=void 0;var Hle=require("vscode"),eFt=OD(),xBe=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],Ble=class{register(){return Hle.languages.setLanguageConfiguration(eFt.RazorLanguage.id,{wordPattern:/(-?\d*\.\d\w*)|([^\`\~\!\@\$\^\&\*\(\)\-\=\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\s]+)/g,onEnterRules:[{beforeText:new RegExp(`<(?!(?:${xBe.join("|")}))([_:\\w][_:\\w-.\\d]*)([^/>]*(?!/)>)[^<]*$`,"i"),afterText:/^<\/([_:\w][_:\w-.\d]*)\s*>/i,action:{indentAction:Hle.IndentAction.IndentOutdent}},{beforeText:new RegExp(`<(?!(?:${xBe.join("|")}))(\\w[\\w\\d]*)([^/>]*(?!/)>)[^<]*$`,"i"),action:{indentAction:Hle.IndentAction.Indent}}]})}};k4.RazorLanguageConfiguration=Ble});var kBe=C((Qcr,IBe)=>{"use strict";IBe.exports=ow()});var MBe=C(A4=>{"use strict";Object.defineProperty(A4,"__esModule",{value:!0});A4.resolveRazorLanguageServerOptions=void 0;var ABe=require("fs"),tFt=require("os"),LBe=require("path");function rFt(r,e,t,n){let i=nFt(e),s=r.workspace.getConfiguration("razor.languageServer").get("debug");return{serverPath:i,debug:s,trace:t,outputChannel:n.outputChannel}}A4.resolveRazorLanguageServerOptions=rFt;function nFt(r){let e=iFt()?".exe":"",t=LBe.join(r,`rzls${e}`),n="";if(ABe.existsSync(t))n=t;else{let i=LBe.join(r,"rzls.dll");if(!ABe.existsSync(i))throw new Error(`Could not find Razor Language Server executable within directory '${r}'`);n=i}return n}function iFt(){return!!tFt.platform().match(/^win/)}});var Wle=C(M4=>{"use strict";Object.defineProperty(M4,"__esModule",{value:!0});M4.resolveRazorLanguageServerTrace=void 0;var L4=UF();function oFt(r){let t=r.workspace.getConfiguration("razor").get("trace");return sFt(t)}M4.resolveRazorLanguageServerTrace=oFt;function sFt(r){switch(r){case"Off":return L4.Trace.Off;case"Messages":return L4.Trace.Messages;case"Verbose":return L4.Trace.Verbose;default:return console.log("Invalid trace setting for Razor language server. Defaulting to 'Off'"),L4.Trace.Off}}});var qBe=C(NI=>{"use strict";var N4=NI&&NI.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(NI,"__esModule",{value:!0});NI.RazorLanguageServerClient=void 0;var aFt=require("events"),$le=require("vscode"),Vle=ow(),cFt=kBe(),NBe=OD(),uFt=MBe(),FBe=Wle(),Gle={ServerStop:"ServerStop"},Kle=class{constructor(e,t,n,i){this.vscodeType=e,this.languageServerDir=t,this.telemetryReporter=n,this.logger=i,this.onStartListeners=[],this.onStartedListeners=[],this.isStarted=!1,this.setupLanguageServer(),this.eventBus=new aFt.EventEmitter}get initializeResult(){return this.client.initializeResult}updateTraceLevel(){let e=(0,FBe.resolveRazorLanguageServerTrace)(this.vscodeType);this.setupLanguageServer(),this.logger.setTraceLevel(e)}onStarted(e){this.onStartedListeners.push(e)}onStart(e){this.onStartListeners.push(e)}onStop(e){return this.eventBus.addListener(Gle.ServerStop,e),new $le.Disposable(()=>this.eventBus.removeListener(Gle.ServerStop,e))}start(){return N4(this,void 0,void 0,function*(){if(this.startHandle)return this.startHandle;let e=Function,t=Function;this.startHandle=new Promise((o,s)=>{e=o,t=s});let n=0,i=this.client.onDidChangeState(o=>{o.oldState===Vle.State.Starting&&o.newState===Vle.State.Stopped?(n++,n===5&&t("Server failed to start after retrying 5 times.")):o.newState===Vle.State.Running&&(n=0)});try{this.logger.logMessage("Starting Razor Language Server..."),yield this.client.start(),this.logger.logMessage("Server started, waiting for client to be ready..."),this.isStarted=!0;for(let o of this.onStartListeners)yield o();e(),this.logger.logMessage("Server ready!");for(let o of this.onStartedListeners)yield o();i.dispose()}catch(o){$le.window.showErrorMessage("Razor Language Server failed to start unexpectedly, please check the 'Razor Log' and report an issue."),this.telemetryReporter.reportErrorOnServerStart(o),t(o)}return this.startHandle})}sendRequest(e,t){return N4(this,void 0,void 0,function*(){if(!this.isStarted)throw new Error("Tried to send requests while server is not started.");return this.client.sendRequest(e,t)})}onRequestWithParams(e,t){return N4(this,void 0,void 0,function*(){if(!this.isStarted)throw new Error("Tried to bind on request logic while server is not started.");this.client.onRequest(e,t)})}onNotification(e,t){if(!this.isStarted)throw new Error("Tried to bind on notification logic while server is not started.");this.client.onNotification(e,t)}dispose(){this.logger.logMessage("Disposing Razor Language Server."),this.isStarted=!1,this.startHandle=void 0,this.eventBus.emit(Gle.ServerStop)}stop(){return N4(this,void 0,void 0,function*(){let e=Function,t=Function;this.stopHandle=new Promise((n,i)=>{e=n,t=i}),this.startHandle||t(new Error("Cannot stop Razor Language Server as it is already stopped.")),this.logger.logMessage("Stopping Razor Language Server.");try{this.client&&(yield this.client.stop()),this.dispose(),e()}catch(n){$le.window.showErrorMessage("Razor Language Server failed to stop correctly, please check the 'Razor Log' and report an issue."),t(n)}return this.stopHandle})}setupLanguageServer(){let e=(0,FBe.resolveRazorLanguageServerTrace)(this.vscodeType),t=(0,uFt.resolveRazorLanguageServerOptions)(this.vscodeType,this.languageServerDir,e,this.logger);this.clientOptions={outputChannel:t.outputChannel,documentSelector:[{language:NBe.RazorLanguage.id,pattern:NBe.RazorLanguage.globbingPattern}]};let n=[],i=t.serverPath;t.serverPath.endsWith(".dll")&&(this.logger.logMessage("Razor Language Server path is an assembly. Using 'dotnet' from the current path to start the server."),i="dotnet",n.push(t.serverPath)),this.logger.logMessage(`Razor language server path: ${t.serverPath}`),n.push("-lsp"),n.push("--trace"),this.telemetryReporter.reportTraceLevel(t.trace),n.push(t.trace.toString()),t.debug&&(this.telemetryReporter.reportDebugLanguageServer(),this.logger.logMessage("Debug flag set for Razor Language Server."),n.push("--debug")),this.serverOptions={command:i,args:n},this.client=new cFt.LanguageClient("razorLanguageServer","Razor Language Server",this.serverOptions,this.clientOptions)}};NI.RazorLanguageServerClient=Kle});var jBe=C(F4=>{"use strict";Object.defineProperty(F4,"__esModule",{value:!0});F4.LanguageQueryRequest=void 0;var Yle=class{constructor(e,t){this.position=e,this.uri=t.toString()}};F4.LanguageQueryRequest=Yle});var zBe=C(q4=>{"use strict";Object.defineProperty(q4,"__esModule",{value:!0});q4.RazorMapToDocumentRangesRequest=void 0;var Jle=class{constructor(e,t,n){this.kind=e,this.projectedRanges=t,this.razorDocumentUri=n.toString()}};q4.RazorMapToDocumentRangesRequest=Jle});var UBe=C(j4=>{"use strict";Object.defineProperty(j4,"__esModule",{value:!0});j4.SemanticTokensRangeRequest=void 0;var lFt=ow(),dFt=SO(),Xle=class{constructor(e,t){this.textDocument=lFt.TextDocumentIdentifier.create(e.toString()),this.range=(0,dFt.convertRangeToSerializable)(t)}};j4.SemanticTokensRangeRequest=Xle});var BBe=C(FI=>{"use strict";var z4=FI&&FI.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(FI,"__esModule",{value:!0});FI.RazorLanguageServiceClient=void 0;var fFt=require("vscode"),hFt=jBe(),pFt=zBe(),HBe=SO(),mFt=UBe(),Qle=class{constructor(e){this.serverClient=e}languageQuery(e,t){return z4(this,void 0,void 0,function*(){yield this.ensureStarted();let n=new hFt.LanguageQueryRequest(e,t),i=yield this.serverClient.sendRequest("razor/languageQuery",n);return i.position=new fFt.Position(i.position.line,i.position.character),i})}mapToDocumentRanges(e,t,n){return z4(this,void 0,void 0,function*(){yield this.ensureStarted();let i=[];for(let c of t){let u=(0,HBe.convertRangeToSerializable)(c);i.push(u)}let o=new pFt.RazorMapToDocumentRangesRequest(e,i,n),s=yield this.serverClient.sendRequest("razor/mapToDocumentRanges",o),a=[];for(let c of s.ranges)if(c.start.line>=0){let u=(0,HBe.convertRangeFromSerializable)(s.ranges[0]);a.push(u)}return s.ranges=a,s})}semanticTokensRange(e,t){return z4(this,void 0,void 0,function*(){yield this.ensureStarted();let n=new mFt.SemanticTokensRangeRequest(e,t),i=yield this.serverClient.sendRequest("textDocument/semanticTokens/range",n);if(i.data&&i.data.length>0)return i})}ensureStarted(){return z4(this,void 0,void 0,function*(){yield this.serverClient.start()})}};FI.RazorLanguageServiceClient=Qle});var VBe=C(B4=>{"use strict";Object.defineProperty(B4,"__esModule",{value:!0});B4.RazorLogger=void 0;var $Be=require("fs"),WBe=require("path"),U4=UF(),H4=class r{constructor(e,t,n){this.vscodeApi=e,this.trace=n,this.processTraceLevel(),this.onLogEmitter=t.create(),this.onTraceLevelChangeEmitter=t.create(),this.outputChannel=this.vscodeApi.window.createOutputChannel(r.logName),this.logRazorInformation()}setTraceLevel(e){this.trace=e,this.processTraceLevel(),this.logMessage(`Updated trace level to: ${U4.Trace[this.trace]}`),this.onTraceLevelChangeEmitter.fire(this.trace)}get onLog(){return this.onLogEmitter.event}get onTraceLevelChange(){return this.onTraceLevelChangeEmitter.event}logAlways(e){this.logWithMarker(e)}logWarning(e){let t=`(Warning) ${e}`;this.logAlways(t)}logError(e,t){if(t instanceof Error)this.logErrorInternal(e,t);else{let n=String(t);this.logErrorInternal(e,Error(n))}}logMessage(e){this.messageEnabled&&this.logWithMarker(e)}logVerbose(e){this.verboseEnabled&&this.logWithMarker(e)}dispose(){this.outputChannel.dispose()}logErrorInternal(e,t){let n=`(Error) ${e}
${t.message}
Stack Trace:
${t.stack}`;this.logAlways(n)}logWithMarker(e){let n=`[Client - ${new Date().toLocaleTimeString()}] ${e}`;this.log(n)}log(e){this.outputChannel.appendLine(e),this.onLogEmitter.fire(e)}logRazorInformation(){let e=gFt();this.log("--------------------------------------------------------------------------------"),this.log(`Razor.VSCode version ${e.defaults.razor}`),this.log("--------------------------------------------------------------------------------"),this.log(`Razor's trace level is currently set to '${U4.Trace[this.trace]}'`),this.log(" - To change Razor's trace level set 'razor.trace' to 'Off', 'Messages' or 'Verbose' and then restart VSCode."),this.log(" - To report issues invoke the 'Report a Razor issue' command via the command palette."),this.log("-----------------------------------------------------------------------------------------------------------------------------"),this.log("")}processTraceLevel(){this.verboseEnabled=this.trace>=U4.Trace.Verbose,this.messageEnabled=this.trace>=U4.Trace.Messages}};B4.RazorLogger=H4;H4.logName="Razor Log";function gFt(){let r=vFt(__dirname,"package.json");return JSON.parse($Be.readFileSync(r).toString())}function vFt(r,e){for(;;){let t=WBe.join(r,e);if($Be.existsSync(t))return t;let n=WBe.dirname(r);if(n===r)throw new Error(`Could not find '${e}' in or above '${r}'.`);r=n}}});var JBe=C(qI=>{"use strict";var yFt=qI&&qI.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(qI,"__esModule",{value:!0});qI.RazorReferenceProvider=void 0;var GBe=require("vscode"),KBe=jF(),_Ft=d_(),YBe=Qv(),Zle=class extends _Ft.RazorLanguageFeatureBase{provideReferences(e,t,n,i){return yFt(this,void 0,void 0,function*(){let o=yield this.getProjection(e,t,i);if(!o||o.languageKind===YBe.LanguageKind.Razor)return;let s=yield GBe.commands.executeCommand("vscode.executeReferenceProvider",o.uri,o.position),a=new Array;for(let c of s)if(o.languageKind===YBe.LanguageKind.Html&&(0,KBe.isRazorHtmlFile)(c.uri)){let u=(0,KBe.getRazorDocumentUri)(c.uri);a.push(new GBe.Location(u,c.range))}else a.push(c);return a})}};qI.RazorReferenceProvider=Zle});var ZBe=C(jI=>{"use strict";var XBe=jI&&jI.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(jI,"__esModule",{value:!0});jI.RazorRenameProvider=void 0;var bFt=require("vscode"),wFt=d_(),QBe=Qv(),ede=class extends wFt.RazorLanguageFeatureBase{constructor(e,t,n,i){super(e,t,n,i)}prepareRename(e,t,n){return XBe(this,void 0,void 0,function*(){let i=yield this.getProjection(e,t,n);return!i||i.languageKind!==QBe.LanguageKind.CSharp?null:e.getWordRangeAtPosition(t)})}provideRenameEdits(e,t,n,i){return XBe(this,void 0,void 0,function*(){let o=yield this.getProjection(e,t,i);return!o||o.languageKind!==QBe.LanguageKind.CSharp?void 0:yield bFt.commands.executeCommand("vscode.executeDocumentRenameProvider",o.uri,o.position,n)})}};jI.RazorRenameProvider=ede});var eWe=C(zI=>{"use strict";var SFt=zI&&zI.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(zI,"__esModule",{value:!0});zI.RazorDocumentSemanticTokensProvider=void 0;var CFt=require("vscode"),TFt=d_(),tde=class extends TFt.RazorLanguageFeatureBase{provideDocumentRangeSemanticTokens(e,t,n){return SFt(this,void 0,void 0,function*(){let i=yield this.serviceClient.semanticTokensRange(e.uri,t);if(i){let o=new Uint32Array(i.data);i=new CFt.SemanticTokens(o,i.resultId)}return i})}};zI.RazorDocumentSemanticTokensProvider=tde});var tWe=C(W4=>{"use strict";Object.defineProperty(W4,"__esModule",{value:!0});W4.ProvideSemanticTokensResponse=void 0;var rde=class{constructor(e,t){this.Result=e,this.HostDocumentSyncVersion=t}};W4.ProvideSemanticTokensResponse=rde});var rWe=C($4=>{"use strict";Object.defineProperty($4,"__esModule",{value:!0});$4.SemanticTokensResponse=void 0;var nde=class{constructor(e,t){this.data=e,this.resultId=t}};$4.SemanticTokensResponse=nde});var iWe=C(UI=>{"use strict";var nWe=UI&&UI.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(UI,"__esModule",{value:!0});UI.SemanticTokensRangeHandler=void 0;var DFt=ow(),EFt=tWe(),RFt=rWe(),V4=class r{constructor(e){this.serverClient=e,this.semanticTokensRequestType=new DFt.RequestType(r.getSemanticTokensRangeEndpoint),this.emptySemanticTokensResponse=new EFt.ProvideSemanticTokensResponse(new RFt.SemanticTokensResponse(new Array,""),null)}register(){return this.serverClient.onRequestWithParams(this.semanticTokensRequestType,(e,t)=>nWe(this,void 0,void 0,function*(){return this.getSemanticTokens(e,t)}))}getSemanticTokens(e,t){return nWe(this,void 0,void 0,function*(){return this.emptySemanticTokensResponse})}};UI.SemanticTokensRangeHandler=V4;V4.getSemanticTokensRangeEndpoint="razor/provideSemanticTokensRange"});var oWe=C(HI=>{"use strict";var PFt=HI&&HI.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(HI,"__esModule",{value:!0});HI.RazorSignatureHelpProvider=void 0;var xFt=require("vscode"),OFt=d_(),ide=class extends OFt.RazorLanguageFeatureBase{provideSignatureHelp(e,t,n){return PFt(this,void 0,void 0,function*(){let i=yield this.getProjection(e,t,n);if(i)return yield xFt.commands.executeCommand("vscode.executeSignatureHelpProvider",i.uri,i.position)})}};HI.RazorSignatureHelpProvider=ide});var sWe=C(BI=>{"use strict";Object.defineProperty(BI,"__esModule",{value:!0});BI.createTelemetryErrorEvent=BI.createTelemetryEvent=void 0;function IFt(r,e,t){return{type:G4.TelemetryEvent,eventName:r,properties:e,measures:t}}BI.createTelemetryEvent=IFt;function kFt(r,e,t,n){return{type:G4.TelemetryErrorEvent,eventName:r,properties:e,measures:t,errorProps:n}}BI.createTelemetryErrorEvent=kFt;var G4;(function(r){r[r.TelemetryEvent=1]="TelemetryEvent",r[r.TelemetryErrorEvent=78]="TelemetryErrorEvent"})(G4||(G4={}))});var aWe=C(K4=>{"use strict";Object.defineProperty(K4,"__esModule",{value:!0});K4.TelemetryReporter=void 0;var ZF=sWe(),AFt=UF(),ode=class{constructor(e){this.eventStream=e,this.razorExtensionActivated=(0,ZF.createTelemetryEvent)("VSCode.Razor.RazorExtensionActivated"),this.debugLanguageServerEvent=(0,ZF.createTelemetryEvent)("VSCode.Razor.DebugLanguageServer"),this.workspaceContainsRazorEvent=(0,ZF.createTelemetryEvent)("VSCode.Razor.WorkspaceContainsRazor"),this.reportedWorkspaceContainsRazor=!1,this.eventStream.post(this.razorExtensionActivated)}reportTraceLevel(e){let t=(0,ZF.createTelemetryEvent)("VSCode.Razor.TraceLevel",{trace:AFt.Trace[e]});this.eventStream.post(t)}reportErrorOnServerStart(e){let t;e instanceof Error?t=e:t=Error(String(e)),this.reportError("VSCode.Razor.ErrorOnServerStart",t)}reportErrorOnActivation(e){let t;e instanceof Error?t=e:t=Error(String(e)),this.reportError("VSCode.Razor.ErrorOnActivation",t)}reportDebugLanguageServer(){this.eventStream.post(this.debugLanguageServerEvent)}reportWorkspaceContainsRazor(){this.reportedWorkspaceContainsRazor||(this.reportedWorkspaceContainsRazor=!0,this.eventStream.post(this.workspaceContainsRazorEvent))}reportError(e,t){let n=(0,ZF.createTelemetryErrorEvent)(e,{error:JSON.stringify(t)},void 0,["error"]);this.eventStream.post(n)}};K4.TelemetryReporter=ode});var cWe=C($I=>{"use strict";var WI=$I&&$I.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty($I,"__esModule",{value:!0});$I.activate=void 0;var LFt=require("vscode"),MFt=kqe(),NFt=qqe(),FFt=Hqe(),qFt=Aze(),jFt=Fze(),zFt=kue(),UFt=jze(),HFt=$ze(),BFt=Yze(),WFt=rUe(),$Ft=uUe(),VFt=dUe(),GFt=mUe(),KFt=vUe(),YFt=yUe(),JFt=SUe(),XFt=EUe(),QFt=RUe(),ZFt=AUe(),eqt=LUe(),tqt=SBe(),rqt=TBe(),nqt=DBe(),iqt=PBe(),Mm=OD(),oqt=OBe(),sqt=qBe(),aqt=Wle(),cqt=BBe(),uqt=VBe(),lqt=JBe(),dqt=ZBe(),fqt=eWe(),hqt=iWe(),pqt=oWe(),mqt=aWe();function gqt(r,e,t,n,i=!1){return WI(this,void 0,void 0,function*(){let o=new mqt.TelemetryReporter(n),s={create:()=>new LFt.EventEmitter},a=(0,aqt.resolveRazorLanguageServerTrace)(r),c=new uqt.RazorLogger(r,s,a);try{let u=new sqt.RazorLanguageServerClient(r,t,o,c),l=new cqt.RazorLanguageServiceClient(u),d=new iqt.RazorCSharpLanguageMiddleware(l,c),f=new $Ft.RazorDocumentManager(u,c);(0,YFt.reportTelemetryForDocuments)(f,o);let p=new oqt.RazorLanguageConfiguration,_=new HFt.RazorCSharpFeature(f,s,c),D=new tqt.RazorHtmlFeature(f,l,s,c),P=[],M=new WFt.ReportIssueCommand(r,f,c),A=new ZFt.RazorFormattingFeature(u,f,c),U=new NFt.RazorCodeActionRunner(u,c),ne;u.onStart(()=>WI(this,void 0,void 0,function*(){r.commands.executeCommand("omnisharp.registerLanguageMiddleware",d),ne=new VFt.RazorDocumentSynchronizer(f,c);let V=new jFt.ProvisionalCompletionOrchestrator(f,_.projectionProvider,l,c),W=new hqt.SemanticTokensRangeHandler(u),ee=new qFt.ColorPresentationHandler(f,u,c),De=new GFt.DocumentColorHandler(f,u,c),ae=new JFt.FoldingRangeHandler(u,f,c),ue=new XFt.FormattingHandler(f,u,c),Fe=new zFt.RazorCompletionItemProvider(ne,f,l,V,c),Me=new pqt.RazorSignatureHelpProvider(ne,f,l,c),ce=new BFt.RazorDefinitionProvider(ne,f,l,c),Ce=new rqt.RazorImplementationProvider(ne,f,l,c),be=new eqt.RazorHoverProvider(ne,f,l,c),xe=new FFt.RazorCodeLensProvider(ne,f,l,c),Ne=new dqt.RazorRenameProvider(ne,f,l,c),$e=new lqt.RazorReferenceProvider(ne,f,l,c),Ct=new KFt.RazorDocumentHighlightProvider(ne,f,l,c),ze=new QFt.RazorFormatOnTypeProvider;P.push(p.register(),V.register(),r.languages.registerCompletionItemProvider(Mm.RazorLanguage.id,Fe,".","<","@"),r.languages.registerSignatureHelpProvider(Mm.RazorLanguage.id,Me,"(",","),r.languages.registerDefinitionProvider(Mm.RazorLanguage.id,ce),r.languages.registerImplementationProvider(Mm.RazorLanguage.id,Ce),r.languages.registerHoverProvider(Mm.RazorLanguage.documentSelector,be),r.languages.registerReferenceProvider(Mm.RazorLanguage.id,$e),r.languages.registerCodeLensProvider(Mm.RazorLanguage.id,xe),r.languages.registerRenameProvider(Mm.RazorLanguage.id,Ne),r.languages.registerDocumentHighlightProvider(Mm.RazorLanguage.id,Ct),r.languages.registerOnTypeFormattingEditProvider(Mm.RazorLanguage.documentSelector,ze,""),f.register(),_.register(),D.register(),ne.register(),M.register(),(0,UFt.listenToConfigurationChanges)(u)),i&&(yield new nqt.ProposedApisFeature().register(r,P)),U.register(),yield A.register(),yield ee.register(),yield De.register(),yield ae.register(),yield ue.register(),yield W.register()}));let pe=u.onStop(()=>{P.forEach(V=>V.dispose()),P.length=0}),ve=new MFt.BlazorDebugConfigurationProvider(c,r);e.subscriptions.push(r.debug.registerDebugConfigurationProvider("blazorwasm",ve)),u.onStarted(()=>WI(this,void 0,void 0,function*(){var V,W;let ee=(W=(V=u.initializeResult)===null||V===void 0?void 0:V.capabilities.semanticTokensProvider)===null||W===void 0?void 0:W.legend,De=new fqt.RazorDocumentSemanticTokensProvider(ne,f,l,c);ee&&P.push(r.languages.registerDocumentRangeSemanticTokensProvider(Mm.RazorLanguage.id,De,ee)),yield f.initialize()})),yield vqt(r,u,c,e),e.subscriptions.push(u,pe,c)}catch(u){c.logError("Failed when activating Razor VSCode.",u),o.reportErrorOnActivation(u)}})}$I.activate=gqt;function vqt(r,e,t,n){return WI(this,void 0,void 0,function*(){if((yield r.workspace.findFiles(Mm.RazorLanguage.globbingPattern)).length===0){t.logAlways("No Razor files detected in workspace, delaying language server start.");let o=r.workspace.createFileSystemWatcher(Mm.RazorLanguage.globbingPattern),s=()=>WI(this,void 0,void 0,function*(){a.dispose(),c.dispose(),yield e.start()}),a=o.onDidCreate(()=>s()),c=r.workspace.onDidOpenTextDocument(u=>WI(this,void 0,void 0,function*(){u.languageId===Mm.RazorLanguage.id&&(yield s())}));n.subscriptions.push(a,c)}else yield e.start()})}});function cq(){return f6>h6.length-16&&(SWe.default.randomFillSync(h6),f6=0),h6.slice(f6,f6+=16)}var SWe,h6,f6,Sde=Ti(()=>{SWe=ye(require("crypto")),h6=new Uint8Array(256),f6=h6.length});var CWe,TWe=Ti(()=>{CWe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function Cqt(r){return typeof r=="string"&&CWe.test(r)}var AD,uq=Ti(()=>{TWe();AD=Cqt});function rR(r,e=0){return(_f[r[e+0]]+_f[r[e+1]]+_f[r[e+2]]+_f[r[e+3]]+"-"+_f[r[e+4]]+_f[r[e+5]]+"-"+_f[r[e+6]]+_f[r[e+7]]+"-"+_f[r[e+8]]+_f[r[e+9]]+"-"+_f[r[e+10]]+_f[r[e+11]]+_f[r[e+12]]+_f[r[e+13]]+_f[r[e+14]]+_f[r[e+15]]).toLowerCase()}function Tqt(r,e=0){let t=rR(r,e);if(!AD(t))throw TypeError("Stringified UUID is invalid");return t}var _f,DWe,lq=Ti(()=>{uq();_f=[];for(let r=0;r<256;++r)_f.push((r+256).toString(16).slice(1));DWe=Tqt});function Dqt(r,e,t){let n=e&&t||0,i=e||new Array(16);r=r||{};let o=r.node||EWe,s=r.clockseq!==void 0?r.clockseq:Cde;if(o==null||s==null){let f=r.random||(r.rng||cq)();o==null&&(o=EWe=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),s==null&&(s=Cde=(f[6]<<8|f[7])&16383)}let a=r.msecs!==void 0?r.msecs:Date.now(),c=r.nsecs!==void 0?r.nsecs:Dde+1,u=a-Tde+(c-Dde)/1e4;if(u<0&&r.clockseq===void 0&&(s=s+1&16383),(u<0||a>Tde)&&r.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Tde=a,Dde=c,Cde=s,a+=122192928e5;let l=((a&268435455)*1e4+c)%4294967296;i[n++]=l>>>24&255,i[n++]=l>>>16&255,i[n++]=l>>>8&255,i[n++]=l&255;let d=a/4294967296*1e4&268435455;i[n++]=d>>>8&255,i[n++]=d&255,i[n++]=d>>>24&15|16,i[n++]=d>>>16&255,i[n++]=s>>>8|128,i[n++]=s&255;for(let f=0;f<6;++f)i[n+f]=o[f];return e||rR(i)}var EWe,Cde,Tde,Dde,RWe,PWe=Ti(()=>{Sde();lq();Tde=0,Dde=0;RWe=Dqt});function Eqt(r){if(!AD(r))throw TypeError("Invalid UUID");let e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}var p6,Ede=Ti(()=>{uq();p6=Eqt});function Rqt(r){r=unescape(encodeURIComponent(r));let e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}function dq(r,e,t){function n(i,o,s,a){var c;if(typeof i=="string"&&(i=Rqt(i)),typeof o=="string"&&(o=p6(o)),((c=o)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+i.length);if(u.set(o),u.set(i,o.length),u=t(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,s){a=a||0;for(let l=0;l<16;++l)s[a+l]=u[l];return s}return rR(u)}try{n.name=r}catch{}return n.DNS=Pqt,n.URL=xqt,n}var Pqt,xqt,Rde=Ti(()=>{lq();Ede();Pqt="6ba7b810-9dad-11d1-80b4-00c04fd430c8",xqt="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function Oqt(r){return Array.isArray(r)?r=Buffer.from(r):typeof r=="string"&&(r=Buffer.from(r,"utf8")),xWe.default.createHash("md5").update(r).digest()}var xWe,OWe,IWe=Ti(()=>{xWe=ye(require("crypto"));OWe=Oqt});var Iqt,kWe,AWe=Ti(()=>{Rde();IWe();Iqt=dq("v3",48,OWe),kWe=Iqt});var LWe,Pde,MWe=Ti(()=>{LWe=ye(require("crypto")),Pde={randomUUID:LWe.default.randomUUID}});function kqt(r,e,t){if(Pde.randomUUID&&!e&&!r)return Pde.randomUUID();r=r||{};let n=r.random||(r.rng||cq)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(let i=0;i<16;++i)e[t+i]=n[i];return e}return rR(n)}var LD,NWe=Ti(()=>{MWe();Sde();lq();LD=kqt});function Aqt(r){return Array.isArray(r)?r=Buffer.from(r):typeof r=="string"&&(r=Buffer.from(r,"utf8")),FWe.default.createHash("sha1").update(r).digest()}var FWe,qWe,jWe=Ti(()=>{FWe=ye(require("crypto"));qWe=Aqt});var Lqt,zWe,UWe=Ti(()=>{Rde();jWe();Lqt=dq("v5",80,qWe),zWe=Lqt});var HWe,BWe=Ti(()=>{HWe="00000000-0000-0000-0000-000000000000"});function Mqt(r){if(!AD(r))throw TypeError("Invalid UUID");return parseInt(r.slice(14,15),16)}var WWe,$We=Ti(()=>{uq();WWe=Mqt});var m6={};g1(m6,{NIL:()=>HWe,parse:()=>p6,stringify:()=>DWe,v1:()=>RWe,v3:()=>kWe,v4:()=>LD,v5:()=>zWe,validate:()=>AD,version:()=>WWe});var XI=Ti(()=>{PWe();AWe();NWe();UWe();BWe();$We();uq();lq();Ede()});var S$e=C((zpr,w$e)=>{var fk=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",g$e=require("path"),zqt=fk?";":":",v$e=EQ(),y$e=r=>Object.assign(new Error(`not found: ${r}`),{code:"ENOENT"}),_$e=(r,e)=>{let t=e.colon||zqt,n=r.match(/\//)||fk&&r.match(/\\/)?[""]:[...fk?[process.cwd()]:[],...(e.path||process.env.PATH||"").split(t)],i=fk?e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",o=fk?i.split(t):[""];return fk&&r.indexOf(".")!==-1&&o[0]!==""&&o.unshift(""),{pathEnv:n,pathExt:o,pathExtExe:i}},b$e=(r,e,t)=>{typeof e=="function"&&(t=e,e={}),e||(e={});let{pathEnv:n,pathExt:i,pathExtExe:o}=_$e(r,e),s=[],a=u=>new Promise((l,d)=>{if(u===n.length)return e.all&&s.length?l(s):d(y$e(r));let f=n[u],p=/^".*"$/.test(f)?f.slice(1,-1):f,_=g$e.join(p,r),D=!p&&/^\.[\\\/]/.test(r)?r.slice(0,2)+_:_;l(c(D,u,0))}),c=(u,l,d)=>new Promise((f,p)=>{if(d===i.length)return f(a(l+1));let _=i[d];v$e(u+_,{pathExt:o},(D,P)=>{if(!D&&P)if(e.all)s.push(u+_);else return f(u+_);return f(c(u,l,d+1))})});return t?a(0).then(u=>t(null,u),t):a(0)},Uqt=(r,e)=>{e=e||{};let{pathEnv:t,pathExt:n,pathExtExe:i}=_$e(r,e),o=[];for(let s=0;s<t.length;s++){let a=t[s],c=/^".*"$/.test(a)?a.slice(1,-1):a,u=g$e.join(c,r),l=!c&&/^\.[\\\/]/.test(r)?r.slice(0,2)+u:u;for(let d=0;d<n.length;d++){let f=l+n[d];try{if(v$e.sync(f,{pathExt:i}))if(e.all)o.push(f);else return f}catch{}}}if(e.all&&o.length)return o;if(e.nothrow)return null;throw y$e(r)};w$e.exports=b$e;b$e.sync=Uqt});var T$e=C((Upr,Fde)=>{"use strict";var C$e=(r={})=>{let e=r.env||process.env;return(r.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};Fde.exports=C$e;Fde.exports.default=C$e});var P$e=C((Hpr,R$e)=>{"use strict";var D$e=require("path"),Hqt=S$e(),Bqt=T$e();function E$e(r,e){let t=r.options.env||process.env,n=process.cwd(),i=r.options.cwd!=null,o=i&&process.chdir!==void 0&&!process.chdir.disabled;if(o)try{process.chdir(r.options.cwd)}catch{}let s;try{s=Hqt.sync(r.command,{path:t[Bqt({env:t})],pathExt:e?D$e.delimiter:void 0})}catch{}finally{o&&process.chdir(n)}return s&&(s=D$e.resolve(i?r.options.cwd:"",s)),s}function Wqt(r){return E$e(r)||E$e(r,!0)}R$e.exports=Wqt});var x$e=C((Bpr,jde)=>{"use strict";var qde=/([()\][%!^"`<>&|;, *?])/g;function $qt(r){return r=r.replace(qde,"^$1"),r}function Vqt(r,e){return r=`${r}`,r=r.replace(/(\\*)"/g,'$1$1\\"'),r=r.replace(/(\\*)$/,"$1$1"),r=`"${r}"`,r=r.replace(qde,"^$1"),e&&(r=r.replace(qde,"^$1")),r}jde.exports.command=$qt;jde.exports.argument=Vqt});var I$e=C((Wpr,O$e)=>{"use strict";O$e.exports=/^#!(.*)/});var A$e=C(($pr,k$e)=>{"use strict";var Gqt=I$e();k$e.exports=(r="")=>{let e=r.match(Gqt);if(!e)return null;let[t,n]=e[0].replace(/#! ?/,"").split(" "),i=t.split("/").pop();return i==="env"?n:n?`${i} ${n}`:i}});var M$e=C((Vpr,L$e)=>{"use strict";var zde=require("fs"),Kqt=A$e();function Yqt(r){let t=Buffer.alloc(150),n;try{n=zde.openSync(r,"r"),zde.readSync(n,t,0,150,0),zde.closeSync(n)}catch{}return Kqt(t.toString())}L$e.exports=Yqt});var j$e=C((Gpr,q$e)=>{"use strict";var Jqt=require("path"),N$e=P$e(),F$e=x$e(),Xqt=M$e(),Qqt=process.platform==="win32",Zqt=/\.(?:com|exe)$/i,e2t=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function t2t(r){r.file=N$e(r);let e=r.file&&Xqt(r.file);return e?(r.args.unshift(r.file),r.command=e,N$e(r)):r.file}function r2t(r){if(!Qqt)return r;let e=t2t(r),t=!Zqt.test(e);if(r.options.forceShell||t){let n=e2t.test(e);r.command=Jqt.normalize(r.command),r.command=F$e.command(r.command),r.args=r.args.map(o=>F$e.argument(o,n));let i=[r.command].concat(r.args).join(" ");r.args=["/d","/s","/c",`"${i}"`],r.command=process.env.comspec||"cmd.exe",r.options.windowsVerbatimArguments=!0}return r}function n2t(r,e,t){e&&!Array.isArray(e)&&(t=e,e=null),e=e?e.slice(0):[],t=Object.assign({},t);let n={command:r,args:e,options:t,file:void 0,original:{command:r,args:e}};return t.shell?n:r2t(n)}q$e.exports=n2t});var H$e=C((Kpr,U$e)=>{"use strict";var Ude=process.platform==="win32";function Hde(r,e){return Object.assign(new Error(`${e} ${r.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${e} ${r.command}`,path:r.command,spawnargs:r.args})}function i2t(r,e){if(!Ude)return;let t=r.emit;r.emit=function(n,i){if(n==="exit"){let o=z$e(i,e,"spawn");if(o)return t.call(r,"error",o)}return t.apply(r,arguments)}}function z$e(r,e){return Ude&&r===1&&!e.file?Hde(e.original,"spawn"):null}function o2t(r,e){return Ude&&r===1&&!e.file?Hde(e.original,"spawnSync"):null}U$e.exports={hookChildProcess:i2t,verifyENOENT:z$e,verifyENOENTSync:o2t,notFoundError:Hde}});var $$e=C((Ypr,hk)=>{"use strict";var B$e=require("child_process"),Bde=j$e(),Wde=H$e();function W$e(r,e,t){let n=Bde(r,e,t),i=B$e.spawn(n.command,n.args,n.options);return Wde.hookChildProcess(i,n),i}function s2t(r,e,t){let n=Bde(r,e,t),i=B$e.spawnSync(n.command,n.args,n.options);return i.error=i.error||Wde.verifyENOENTSync(i.status,n),i}hk.exports=W$e;hk.exports.spawn=W$e;hk.exports.sync=s2t;hk.exports._parse=Bde;hk.exports._enoent=Wde});var G$e=C((Jpr,V$e)=>{"use strict";V$e.exports=r=>{let e=typeof r=="string"?`
`:10,t=typeof r=="string"?"\r":13;return r[r.length-1]===e&&(r=r.slice(0,r.length-1)),r[r.length-1]===t&&(r=r.slice(0,r.length-1)),r}});var Y$e=C((Xpr,$de)=>{"use strict";var K$e=(r={})=>{let e=r.env||process.env;return(r.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};$de.exports=K$e;$de.exports.default=K$e});var Q$e=C((Qpr,Sq)=>{"use strict";var wq=require("path"),J$e=Y$e(),X$e=r=>{r={cwd:process.cwd(),path:process.env[J$e()],execPath:process.execPath,...r};let e,t=wq.resolve(r.cwd),n=[];for(;e!==t;)n.push(wq.join(t,"node_modules/.bin")),e=t,t=wq.resolve(t,"..");let i=wq.resolve(r.cwd,r.execPath,"..");return n.push(i),n.concat(r.path).join(wq.delimiter)};Sq.exports=X$e;Sq.exports.default=X$e;Sq.exports.env=r=>{r={env:process.env,...r};let e={...r.env},t=J$e({env:e});return r.path=e[t],e[t]=Sq.exports(r),e}});var e3e=C((Zpr,Vde)=>{"use strict";var Z$e=(r,e)=>{for(let t of Reflect.ownKeys(e))Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t));return r};Vde.exports=Z$e;Vde.exports.default=Z$e});var r3e=C((emr,Z6)=>{"use strict";var a2t=e3e(),Q6=new WeakMap,t3e=(r,e={})=>{if(typeof r!="function")throw new TypeError("Expected a function");let t,n=0,i=r.displayName||r.name||"<anonymous>",o=function(...s){if(Q6.set(o,++n),n===1)t=r.apply(this,s),r=null;else if(e.throw===!0)throw new Error(`Function \`${i}\` can only be called once`);return t};return a2t(o,r),Q6.set(o,n),o};Z6.exports=t3e;Z6.exports.default=t3e;Z6.exports.callCount=r=>{if(!Q6.has(r))throw new Error(`The given function \`${r.name}\` is not wrapped by the \`onetime\` package`);return Q6.get(r)}});var n3e=C(e5=>{"use strict";Object.defineProperty(e5,"__esModule",{value:!0});e5.SIGNALS=void 0;var c2t=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];e5.SIGNALS=c2t});var Gde=C(pk=>{"use strict";Object.defineProperty(pk,"__esModule",{value:!0});pk.SIGRTMAX=pk.getRealtimeSignals=void 0;var u2t=function(){let r=o3e-i3e+1;return Array.from({length:r},l2t)};pk.getRealtimeSignals=u2t;var l2t=function(r,e){return{name:`SIGRT${e+1}`,number:i3e+e,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},i3e=34,o3e=64;pk.SIGRTMAX=o3e});var s3e=C(t5=>{"use strict";Object.defineProperty(t5,"__esModule",{value:!0});t5.getSignals=void 0;var d2t=require("os"),f2t=n3e(),h2t=Gde(),p2t=function(){let r=(0,h2t.getRealtimeSignals)();return[...f2t.SIGNALS,...r].map(m2t)};t5.getSignals=p2t;var m2t=function({name:r,number:e,description:t,action:n,forced:i=!1,standard:o}){let{signals:{[r]:s}}=d2t.constants,a=s!==void 0;return{name:r,number:a?s:e,description:t,supported:a,action:n,forced:i,standard:o}}});var c3e=C(mk=>{"use strict";Object.defineProperty(mk,"__esModule",{value:!0});mk.signalsByNumber=mk.signalsByName=void 0;var g2t=require("os"),a3e=s3e(),v2t=Gde(),y2t=function(){return(0,a3e.getSignals)().reduce(_2t,{})},_2t=function(r,{name:e,number:t,description:n,supported:i,action:o,forced:s,standard:a}){return{...r,[e]:{name:e,number:t,description:n,supported:i,action:o,forced:s,standard:a}}},b2t=y2t();mk.signalsByName=b2t;var w2t=function(){let r=(0,a3e.getSignals)(),e=v2t.SIGRTMAX+1,t=Array.from({length:e},(n,i)=>S2t(i,r));return Object.assign({},...t)},S2t=function(r,e){let t=C2t(r,e);if(t===void 0)return{};let{name:n,description:i,supported:o,action:s,forced:a,standard:c}=t;return{[r]:{name:n,number:r,description:i,supported:o,action:s,forced:a,standard:c}}},C2t=function(r,e){let t=e.find(({name:n})=>g2t.constants.signals[n]===r);return t!==void 0?t:e.find(n=>n.number===r)},T2t=w2t();mk.signalsByNumber=T2t});var l3e=C((omr,u3e)=>{"use strict";var{signalsByName:D2t}=c3e(),E2t=({timedOut:r,timeout:e,errorCode:t,signal:n,signalDescription:i,exitCode:o,isCanceled:s})=>r?`timed out after ${e} milliseconds`:s?"was canceled":t!==void 0?`failed with ${t}`:n!==void 0?`was killed with ${n} (${i})`:o!==void 0?`failed with exit code ${o}`:"failed",R2t=({stdout:r,stderr:e,all:t,error:n,signal:i,exitCode:o,command:s,timedOut:a,isCanceled:c,killed:u,parsed:{options:{timeout:l}}})=>{o=o===null?void 0:o,i=i===null?void 0:i;let d=i===void 0?void 0:D2t[i].description,f=n&&n.code,_=`Command ${E2t({timedOut:a,timeout:l,errorCode:f,signal:i,signalDescription:d,exitCode:o,isCanceled:c})}: ${s}`,D=n instanceof Error?`${_}
${n.message}`:_,P=[D,e,r].filter(Boolean).join(`
`);return n instanceof Error?(n.originalMessage=n.message,n.message=P):n=new Error(P),n.shortMessage=D,n.command=s,n.exitCode=o,n.signal=i,n.signalDescription=d,n.stdout=r,n.stderr=e,t!==void 0&&(n.all=t),"bufferedData"in n&&delete n.bufferedData,n.failed=!0,n.timedOut=!!a,n.isCanceled=c,n.killed=u&&!a,n};u3e.exports=R2t});var f3e=C((smr,Kde)=>{"use strict";var r5=["stdin","stdout","stderr"],P2t=r=>r5.some(e=>r[e]!==void 0),d3e=r=>{if(!r)return;let{stdio:e}=r;if(e===void 0)return r5.map(n=>r[n]);if(P2t(r))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${r5.map(n=>`\`${n}\``).join(", ")}`);if(typeof e=="string")return e;if(!Array.isArray(e))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof e}\``);let t=Math.max(e.length,r5.length);return Array.from({length:t},(n,i)=>e[i])};Kde.exports=d3e;Kde.exports.node=r=>{let e=d3e(r);return e==="ipc"?"ipc":e===void 0||typeof e=="string"?[e,e,e,"ipc"]:e.includes("ipc")?e:[...e,"ipc"]}});var h3e=C((amr,n5)=>{n5.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&n5.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&n5.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var y3e=C((cmr,yk)=>{var Ec=global.process,iR=function(r){return r&&typeof r=="object"&&typeof r.removeListener=="function"&&typeof r.emit=="function"&&typeof r.reallyExit=="function"&&typeof r.listeners=="function"&&typeof r.kill=="function"&&typeof r.pid=="number"&&typeof r.on=="function"};iR(Ec)?(p3e=require("assert"),gk=h3e(),m3e=/^win/i.test(Ec.platform),Cq=require("events"),typeof Cq!="function"&&(Cq=Cq.EventEmitter),Ec.__signal_exit_emitter__?kd=Ec.__signal_exit_emitter__:(kd=Ec.__signal_exit_emitter__=new Cq,kd.count=0,kd.emitted={}),kd.infinite||(kd.setMaxListeners(1/0),kd.infinite=!0),yk.exports=function(r,e){if(!iR(global.process))return function(){};p3e.equal(typeof r,"function","a callback must be provided for exit handler"),vk===!1&&Yde();var t="exit";e&&e.alwaysLast&&(t="afterexit");var n=function(){kd.removeListener(t,r),kd.listeners("exit").length===0&&kd.listeners("afterexit").length===0&&i5()};return kd.on(t,r),n},i5=function(){!vk||!iR(global.process)||(vk=!1,gk.forEach(function(e){try{Ec.removeListener(e,o5[e])}catch{}}),Ec.emit=s5,Ec.reallyExit=Jde,kd.count-=1)},yk.exports.unload=i5,oR=function(e,t,n){kd.emitted[e]||(kd.emitted[e]=!0,kd.emit(e,t,n))},o5={},gk.forEach(function(r){o5[r]=function(){if(iR(global.process)){var t=Ec.listeners(r);t.length===kd.count&&(i5(),oR("exit",null,r),oR("afterexit",null,r),m3e&&r==="SIGHUP"&&(r="SIGINT"),Ec.kill(Ec.pid,r))}}}),yk.exports.signals=function(){return gk},vk=!1,Yde=function(){vk||!iR(global.process)||(vk=!0,kd.count+=1,gk=gk.filter(function(e){try{return Ec.on(e,o5[e]),!0}catch{return!1}}),Ec.emit=v3e,Ec.reallyExit=g3e)},yk.exports.load=Yde,Jde=Ec.reallyExit,g3e=function(e){iR(global.process)&&(Ec.exitCode=e||0,oR("exit",Ec.exitCode,null),oR("afterexit",Ec.exitCode,null),Jde.call(Ec,Ec.exitCode))},s5=Ec.emit,v3e=function(e,t){if(e==="exit"&&iR(global.process)){t!==void 0&&(Ec.exitCode=t);var n=s5.apply(this,arguments);return oR("exit",Ec.exitCode,null),oR("afterexit",Ec.exitCode,null),n}else return s5.apply(this,arguments)}):yk.exports=function(){return function(){}};var p3e,gk,m3e,Cq,kd,i5,oR,o5,vk,Yde,Jde,g3e,s5,v3e});var b3e=C((umr,_3e)=>{"use strict";var x2t=require("os"),O2t=y3e(),I2t=1e3*5,k2t=(r,e="SIGTERM",t={})=>{let n=r(e);return A2t(r,e,t,n),n},A2t=(r,e,t,n)=>{if(!L2t(e,t,n))return;let i=N2t(t),o=setTimeout(()=>{r("SIGKILL")},i);o.unref&&o.unref()},L2t=(r,{forceKillAfterTimeout:e},t)=>M2t(r)&&e!==!1&&t,M2t=r=>r===x2t.constants.signals.SIGTERM||typeof r=="string"&&r.toUpperCase()==="SIGTERM",N2t=({forceKillAfterTimeout:r=!0})=>{if(r===!0)return I2t;if(!Number.isInteger(r)||r<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${r}\` (${typeof r})`);return r},F2t=(r,e)=>{r.kill()&&(e.isCanceled=!0)},q2t=(r,e,t)=>{r.kill(e),t(Object.assign(new Error("Timed out"),{timedOut:!0,signal:e}))},j2t=(r,{timeout:e,killSignal:t="SIGTERM"},n)=>{if(e===0||e===void 0)return n;if(!Number.isInteger(e)||e<0)throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);let i,o=new Promise((a,c)=>{i=setTimeout(()=>{q2t(r,t,c)},e)}),s=n.finally(()=>{clearTimeout(i)});return Promise.race([o,s])},z2t=async(r,{cleanup:e,detached:t},n)=>{if(!e||t)return n;let i=O2t(()=>{r.kill()});return n.finally(()=>{i()})};_3e.exports={spawnedKill:k2t,spawnedCancel:F2t,setupTimeout:j2t,setExitHandler:z2t}});var S3e=C((lmr,w3e)=>{"use strict";var fw=r=>r!==null&&typeof r=="object"&&typeof r.pipe=="function";fw.writable=r=>fw(r)&&r.writable!==!1&&typeof r._write=="function"&&typeof r._writableState=="object";fw.readable=r=>fw(r)&&r.readable!==!1&&typeof r._read=="function"&&typeof r._readableState=="object";fw.duplex=r=>fw.writable(r)&&fw.readable(r);fw.transform=r=>fw.duplex(r)&&typeof r._transform=="function";w3e.exports=fw});var D3e=C((dmr,T3e)=>{var U2t=rM(),H2t=function(){},B2t=function(r){return r.setHeader&&typeof r.abort=="function"},W2t=function(r){return r.stdio&&Array.isArray(r.stdio)&&r.stdio.length===3},C3e=function(r,e,t){if(typeof e=="function")return C3e(r,null,e);e||(e={}),t=U2t(t||H2t);var n=r._writableState,i=r._readableState,o=e.readable||e.readable!==!1&&r.readable,s=e.writable||e.writable!==!1&&r.writable,a=!1,c=function(){r.writable||u()},u=function(){s=!1,o||t.call(r)},l=function(){o=!1,s||t.call(r)},d=function(P){t.call(r,P?new Error("exited with error code: "+P):null)},f=function(P){t.call(r,P)},p=function(){process.nextTick(_)},_=function(){if(!a){if(o&&!(i&&i.ended&&!i.destroyed))return t.call(r,new Error("premature close"));if(s&&!(n&&n.ended&&!n.destroyed))return t.call(r,new Error("premature close"))}},D=function(){r.req.on("finish",u)};return B2t(r)?(r.on("complete",u),r.on("abort",p),r.req?D():r.on("request",D)):s&&!n&&(r.on("end",c),r.on("close",c)),W2t(r)&&r.on("exit",d),r.on("end",l),r.on("finish",u),e.error!==!1&&r.on("error",f),r.on("close",p),function(){a=!0,r.removeListener("complete",u),r.removeListener("abort",p),r.removeListener("request",D),r.req&&r.req.removeListener("finish",u),r.removeListener("end",c),r.removeListener("close",c),r.removeListener("finish",u),r.removeListener("exit",d),r.removeListener("end",l),r.removeListener("error",f),r.removeListener("close",p)}};T3e.exports=C3e});var P3e=C((fmr,R3e)=>{var $2t=rM(),V2t=D3e(),Xde=require("fs"),Tq=function(){},G2t=/^v?\.0/.test(process.version),a5=function(r){return typeof r=="function"},K2t=function(r){return!G2t||!Xde?!1:(r instanceof(Xde.ReadStream||Tq)||r instanceof(Xde.WriteStream||Tq))&&a5(r.close)},Y2t=function(r){return r.setHeader&&a5(r.abort)},J2t=function(r,e,t,n){n=$2t(n);var i=!1;r.on("close",function(){i=!0}),V2t(r,{readable:e,writable:t},function(s){if(s)return n(s);i=!0,n()});var o=!1;return function(s){if(!i&&!o){if(o=!0,K2t(r))return r.close(Tq);if(Y2t(r))return r.abort();if(a5(r.destroy))return r.destroy();n(s||new Error("stream was destroyed"))}}},E3e=function(r){r()},X2t=function(r,e){return r.pipe(e)},Q2t=function(){var r=Array.prototype.slice.call(arguments),e=a5(r[r.length-1]||Tq)&&r.pop()||Tq;if(Array.isArray(r[0])&&(r=r[0]),r.length<2)throw new Error("pump requires two streams per minimum");var t,n=r.map(function(i,o){var s=o<r.length-1,a=o>0;return J2t(i,s,a,function(c){t||(t=c),c&&n.forEach(E3e),!s&&(n.forEach(E3e),e(t))})});return r.reduce(X2t)};R3e.exports=Q2t});var O3e=C((hmr,x3e)=>{"use strict";var{PassThrough:Z2t}=require("stream");x3e.exports=r=>{r={...r};let{array:e}=r,{encoding:t}=r,n=t==="buffer",i=!1;e?i=!(t||n):t=t||"utf8",n&&(t=null);let o=new Z2t({objectMode:i});t&&o.setEncoding(t);let s=0,a=[];return o.on("data",c=>{a.push(c),i?s=a.length:s+=c.length}),o.getBufferedValue=()=>e?a:n?Buffer.concat(a,s):a.join(""),o.getBufferedLength=()=>s,o}});var I3e=C((pmr,_k)=>{"use strict";var{constants:ejt}=require("buffer"),tjt=P3e(),rjt=O3e(),c5=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function u5(r,e){if(!r)return Promise.reject(new Error("Expected a stream"));e={maxBuffer:1/0,...e};let{maxBuffer:t}=e,n;return await new Promise((i,o)=>{let s=a=>{a&&n.getBufferedLength()<=ejt.MAX_LENGTH&&(a.bufferedData=n.getBufferedValue()),o(a)};n=tjt(r,rjt(e),a=>{if(a){s(a);return}i()}),n.on("data",()=>{n.getBufferedLength()>t&&s(new c5)})}),n.getBufferedValue()}_k.exports=u5;_k.exports.default=u5;_k.exports.buffer=(r,e)=>u5(r,{...e,encoding:"buffer"});_k.exports.array=(r,e)=>u5(r,{...e,array:!0});_k.exports.MaxBufferError=c5});var A3e=C((mmr,k3e)=>{"use strict";var{PassThrough:njt}=require("stream");k3e.exports=function(){var r=[],e=new njt({objectMode:!0});return e.setMaxListeners(0),e.add=t,e.isEmpty=n,e.on("unpipe",i),Array.prototype.slice.call(arguments).forEach(t),e;function t(o){return Array.isArray(o)?(o.forEach(t),this):(r.push(o),o.once("end",i.bind(null,o)),o.once("error",e.emit.bind(e,"error")),o.pipe(e,{end:!1}),this)}function n(){return r.length==0}function i(o){r=r.filter(function(s){return s!==o}),!r.length&&e.readable&&e.end()}}});var F3e=C((gmr,N3e)=>{"use strict";var M3e=S3e(),L3e=I3e(),ijt=A3e(),ojt=(r,e)=>{e===void 0||r.stdin===void 0||(M3e(e)?e.pipe(r.stdin):r.stdin.end(e))},sjt=(r,{all:e})=>{if(!e||!r.stdout&&!r.stderr)return;let t=ijt();return r.stdout&&t.add(r.stdout),r.stderr&&t.add(r.stderr),t},Qde=async(r,e)=>{if(r){r.destroy();try{return await e}catch(t){return t.bufferedData}}},Zde=(r,{encoding:e,buffer:t,maxBuffer:n})=>{if(!(!r||!t))return e?L3e(r,{encoding:e,maxBuffer:n}):L3e.buffer(r,{maxBuffer:n})},ajt=async({stdout:r,stderr:e,all:t},{encoding:n,buffer:i,maxBuffer:o},s)=>{let a=Zde(r,{encoding:n,buffer:i,maxBuffer:o}),c=Zde(e,{encoding:n,buffer:i,maxBuffer:o}),u=Zde(t,{encoding:n,buffer:i,maxBuffer:o*2});try{return await Promise.all([s,a,c,u])}catch(l){return Promise.all([{error:l,signal:l.signal,timedOut:l.timedOut},Qde(r,a),Qde(e,c),Qde(t,u)])}},cjt=({input:r})=>{if(M3e(r))throw new TypeError("The `input` option cannot be a stream in sync mode")};N3e.exports={handleInput:ojt,makeAllStream:sjt,getSpawnedResult:ajt,validateInputSync:cjt}});var j3e=C((vmr,q3e)=>{"use strict";var efe=(r,e,t)=>{let n=typeof e=="function"?(...i)=>e()[t](...i):e[t].bind(e);Object.defineProperty(r,t,{value:n,writable:!0,enumerable:!1,configurable:!0})},ujt=(r,e)=>(efe(r,e,"then"),efe(r,e,"catch"),efe(r,e,"finally"),r),ljt=r=>new Promise((e,t)=>{r.on("exit",(n,i)=>{e({exitCode:n,signal:i})}),r.on("error",n=>{t(n)}),r.stdin&&r.stdin.on("error",n=>{t(n)})});q3e.exports={mergePromise:ujt,getSpawnedPromise:ljt}});var U3e=C((ymr,z3e)=>{"use strict";var djt=/ +/g,fjt=(r,e=[])=>Array.isArray(e)?[r,...e].join(" "):r,hjt=(r,e,t)=>{if(t===0)return[e];let n=r[r.length-1];return n.endsWith("\\")?[...r.slice(0,-1),`${n.slice(0,-1)} ${e}`]:[...r,e]},pjt=r=>r.trim().split(djt).reduce(hjt,[]);z3e.exports={joinCommand:fjt,parseCommand:pjt}});var K3e=C((_mr,bk)=>{"use strict";var mjt=require("path"),tfe=require("child_process"),B3e=$$e(),gjt=G$e(),vjt=Q$e(),yjt=r3e(),l5=l3e(),W3e=f3e(),{spawnedKill:_jt,spawnedCancel:bjt,setupTimeout:wjt,setExitHandler:Sjt}=b3e(),{handleInput:Cjt,getSpawnedResult:Tjt,makeAllStream:Djt,validateInputSync:Ejt}=F3e(),{mergePromise:H3e,getSpawnedPromise:Rjt}=j3e(),{joinCommand:$3e,parseCommand:V3e}=U3e(),Pjt=1e3*1e3*100,xjt=({env:r,extendEnv:e,preferLocal:t,localDir:n,execPath:i})=>{let o=e?{...process.env,...r}:r;return t?vjt.env({env:o,cwd:n,execPath:i}):o},G3e=(r,e,t={})=>{let n=B3e._parse(r,e,t);return r=n.command,e=n.args,t=n.options,t={maxBuffer:Pjt,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:t.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...t},t.env=xjt(t),t.stdio=W3e(t),process.platform==="win32"&&mjt.basename(r,".exe")==="cmd"&&e.unshift("/q"),{file:r,args:e,options:t,parsed:n}},Dq=(r,e,t)=>typeof e!="string"&&!Buffer.isBuffer(e)?t===void 0?void 0:"":r.stripFinalNewline?gjt(e):e,d5=(r,e,t)=>{let n=G3e(r,e,t),i=$3e(r,e),o;try{o=tfe.spawn(n.file,n.args,n.options)}catch(f){let p=new tfe.ChildProcess,_=Promise.reject(l5({error:f,stdout:"",stderr:"",all:"",command:i,parsed:n,timedOut:!1,isCanceled:!1,killed:!1}));return H3e(p,_)}let s=Rjt(o),a=wjt(o,n.options,s),c=Sjt(o,n.options,a),u={isCanceled:!1};o.kill=_jt.bind(null,o.kill.bind(o)),o.cancel=bjt.bind(null,o,u);let d=yjt(async()=>{let[{error:f,exitCode:p,signal:_,timedOut:D},P,M,A]=await Tjt(o,n.options,c),U=Dq(n.options,P),ne=Dq(n.options,M),pe=Dq(n.options,A);if(f||p!==0||_!==null){let ve=l5({error:f,exitCode:p,signal:_,stdout:U,stderr:ne,all:pe,command:i,parsed:n,timedOut:D,isCanceled:u.isCanceled,killed:o.killed});if(!n.options.reject)return ve;throw ve}return{command:i,exitCode:0,stdout:U,stderr:ne,all:pe,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return B3e._enoent.hookChildProcess(o,n.parsed),Cjt(o,n.options.input),o.all=Djt(o,n.options),H3e(o,d)};bk.exports=d5;bk.exports.sync=(r,e,t)=>{let n=G3e(r,e,t),i=$3e(r,e);Ejt(n.options);let o;try{o=tfe.spawnSync(n.file,n.args,n.options)}catch(c){throw l5({error:c,stdout:"",stderr:"",all:"",command:i,parsed:n,timedOut:!1,isCanceled:!1,killed:!1})}let s=Dq(n.options,o.stdout,o.error),a=Dq(n.options,o.stderr,o.error);if(o.error||o.status!==0||o.signal!==null){let c=l5({stdout:s,stderr:a,error:o.error,signal:o.signal,exitCode:o.status,command:i,parsed:n,timedOut:o.error&&o.error.code==="ETIMEDOUT",isCanceled:!1,killed:o.signal!==null});if(!n.options.reject)return c;throw c}return{command:i,exitCode:0,stdout:s,stderr:a,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};bk.exports.command=(r,e)=>{let[t,...n]=V3e(r);return d5(t,n,e)};bk.exports.commandSync=(r,e)=>{let[t,...n]=V3e(r);return d5.sync(t,n,e)};bk.exports.node=(r,e,t={})=>{e&&!Array.isArray(e)&&typeof e=="object"&&(t=e,e=[]);let n=W3e.node(t),{nodePath:i=process.execPath,nodeOptions:o=process.execArgv}=t;return d5(i,[...o,r,...Array.isArray(e)?e:[]],{...t,stdin:void 0,stdout:void 0,stderr:void 0,stdio:n,shell:!1})}});var _C=C(Dh=>{"use strict";Object.defineProperty(Dh,"__esModule",{value:!0});Dh.findWindowsCandidates=Dh.sort=Dh.preferredEdgePath=Dh.preferredFirefoxPath=Dh.preferredChromePath=Dh.escapeRegexSpecialChars=Dh.canAccess=void 0;var Ojt=require("path");async function Eq({access:r},e){if(!e)return!1;try{return await r(e),!0}catch{return!1}}Dh.canAccess=Eq;var Ijt="/\\.?*()^${}|[]+";function kjt(r,e){let t=Ijt.split("").filter(i=>!e||e.indexOf(i)<0).join("").replace(/[\\\]]/g,"\\$&"),n=new RegExp(`[${t}]`,"g");return r.replace(n,"\\$&")}Dh.escapeRegexSpecialChars=kjt;async function Ajt(r,e){if(await Eq(r,e.CHROME_PATH))return e.CHROME_PATH}Dh.preferredChromePath=Ajt;async function Ljt(r,e){if(await Eq(r,e.FIREFOX_PATH))return e.FIREFOX_PATH}Dh.preferredFirefoxPath=Ljt;async function Mjt(r,e){if(await Eq(r,e.EDGE_PATH))return e.EDGE_PATH}Dh.preferredEdgePath=Mjt;function Njt(r,e){return[...r].filter(n=>!!n).map(n=>{let i=e.find(o=>o.regex.test(n));return i?{path:n,weight:i.weight,quality:i.quality}:{path:n,weight:10,quality:"dev"}}).sort((n,i)=>i.weight-n.weight).map(n=>({path:n.path,quality:n.quality}))}Dh.sort=Njt;async function Fjt(r,e,t){let n=[r.LOCALAPPDATA,r.PROGRAMFILES,r["PROGRAMFILES(X86)"]].filter(o=>!!o),i=[];for(let o of n)for(let s of t){let a=Ojt.win32.join(o,s.name);i.push(Eq(e,a).then(c=>c?{path:a,quality:s.type}:void 0))}return(await Promise.all(i)).filter(o=>!!o)}Dh.findWindowsCandidates=Fjt});var h5=C(f5=>{"use strict";Object.defineProperty(f5,"__esModule",{value:!0});f5.DarwinFinderBase=void 0;var qjt=require("path"),jjt=require("fs"),rfe=_C(),Y3e=/( \(0x[a-f0-9]+\))/,nfe=class{constructor(e=process.env,t=jjt.promises,n=n){this.env=e,this.fs=t,this.execa=n,this.lsRegisterCommand="/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/LaunchServices.framework/Versions/A/Support/lsregister -dump",this.wellKnownPaths=[]}async findWhere(e){for(let t of this.wellKnownPaths)if(e(t)&&await(0,rfe.canAccess)(this.fs,t.path))return t;return(await this.findAll()).find(e)}findAll(){var e;return(e=this.foundAll)!==null&&e!==void 0||(this.foundAll=this.findAllInner()),this.foundAll}async findLaunchRegisteredApps(e,t,n){let{stdout:i}=await this.execa.command(`${this.lsRegisterCommand} | awk 'tolower($0) ~ /${e.toLowerCase()}${Y3e.source}?$/ { $1=""; print $0 }'`,{shell:!0,stdio:"pipe"}),o=[...t,...i.split(`
`).map(c=>c.trim().replace(Y3e,""))].filter(c=>!!c),s=this.getPreferredPath();s&&o.push(s);let a=new Set;for(let c of o)for(let u of n){let l=qjt.posix.join(c.trim(),u);try{await this.fs.access(l),a.add(l)}catch{}}return a}createPriorities(e){let t=this.env.HOME&&(0,rfe.escapeRegexSpecialChars)(this.env.HOME),n=this.getPreferredPath(),i=e.reduce((o,s)=>[...o,{regex:new RegExp(`^/Applications/.*${s.name}`),weight:s.weight+100,quality:s.quality},{regex:new RegExp(`^${t}/Applications/.*${s.name}`),weight:s.weight,quality:s.quality},{regex:new RegExp(`^/Volumes/.*${s.name}`),weight:s.weight-100,quality:s.quality}],[]);return n&&i.unshift({regex:new RegExp((0,rfe.escapeRegexSpecialChars)(n)),weight:151,quality:"custom"}),i}};f5.DarwinFinderBase=nfe});var J3e=C(p5=>{"use strict";Object.defineProperty(p5,"__esModule",{value:!0});p5.DarwinChromeBrowserFinder=void 0;var zjt=_C(),Ujt=h5(),ife=class extends Ujt.DarwinFinderBase{constructor(){super(...arguments),this.wellKnownPaths=[{path:"/Applications/Google Chrome.app/Contents/MacOS/Google Chrome",quality:"stable"},{path:"/Applications/Google Chrome Canary.app/Contents/MacOS/Google Chrome Canary",quality:"canary"},{path:"/Applications/Google Chrome Beta.app/Contents/MacOS/Google Chrome Beta",quality:"beta"},{path:"/Applications/Google Chrome Dev.app/Contents/MacOS/Google Chrome Dev",quality:"dev"}]}async findAllInner(){let e=["/Contents/MacOS/Google Chrome Canary","/Contents/MacOS/Google Chrome Beta","/Contents/MacOS/Google Chrome Dev","/Contents/MacOS/Google Chrome"],t=["/Applications/Google Chrome.app","/Applications/Google Chrome Canary.app"],n=await this.findLaunchRegisteredApps("google chrome[A-Za-z() ]*.app",t,e);return(0,zjt.sort)(n,this.createPriorities([{name:"Chrome.app",weight:0,quality:"stable"},{name:"Chrome Canary.app",weight:1,quality:"canary"},{name:"Chrome Beta.app",weight:2,quality:"beta"},{name:"Chrome Dev.app",weight:3,quality:"dev"}]))}getPreferredPath(){return this.env.CHROME_PATH}};p5.DarwinChromeBrowserFinder=ife});var X3e=C(m5=>{"use strict";Object.defineProperty(m5,"__esModule",{value:!0});m5.DarwinEdgeBrowserFinder=void 0;var Hjt=_C(),Bjt=h5(),ofe=class extends Bjt.DarwinFinderBase{constructor(){super(...arguments),this.wellKnownPaths=[{path:"/Applications/Microsoft Edge.app/Contents/MacOS/Microsoft Edge",quality:"stable"},{path:"/Applications/Microsoft Edge Canary.app/Contents/MacOS/Microsoft Edge Canary",quality:"canary"},{path:"/Applications/Microsoft Edge Beta.app/Contents/MacOS/Microsoft Edge Beta",quality:"beta"},{path:"/Applications/Microsoft Edge Dev.app/Contents/MacOS/Microsoft Edge Dev",quality:"dev"}]}async findAllInner(){let e=["/Contents/MacOS/Microsoft Edge Canary","/Contents/MacOS/Microsoft Edge Beta","/Contents/MacOS/Microsoft Edge Dev","/Contents/MacOS/Microsoft Edge"],t=["/Applications/Microsoft Edge.app"],n=await this.findLaunchRegisteredApps("Microsoft Edge[A-Za-z ]*.app",t,e);return(0,Hjt.sort)(n,this.createPriorities([{name:"Microsoft Edge.app",weight:0,quality:"stable"},{name:"Microsoft Edge Canary.app",weight:1,quality:"canary"},{name:"Microsoft Edge Beta.app",weight:2,quality:"beta"},{name:"Microsoft Edge Dev.app",weight:3,quality:"dev"}]))}getPreferredPath(){return this.env.EDGE_PATH}};m5.DarwinEdgeBrowserFinder=ofe});var Q3e=C(g5=>{"use strict";Object.defineProperty(g5,"__esModule",{value:!0});g5.DarwinFirefoxBrowserFinder=void 0;var Wjt=_C(),$jt=h5(),sfe=class extends $jt.DarwinFinderBase{constructor(){super(...arguments),this.wellKnownPaths=[{path:"/Applications/Firefox.app/Contents/MacOS/firefox",quality:"stable"},{path:"/Applications/Firefox Developer Edition.app/Contents/MacOS/firefox",quality:"dev"},{path:"/Applications/Firefox Nightly.app/Contents/MacOS/firefox",quality:"canary"}]}async findAllInner(){let e=["/Contents/MacOS/firefox"],t=["/Applications/Firefox.app"],n=await this.findLaunchRegisteredApps("Firefox[A-Za-z ]*.app",t,e);return(0,Wjt.sort)(n,this.createPriorities([{name:"Firefox.app",weight:0,quality:"stable"},{name:"Firefox Nightly.app",weight:1,quality:"canary"},{name:"Firefox Developer Edition.app",weight:2,quality:"dev"}]))}getPreferredPath(){return this.env.FIREFOX_PATH}};g5.DarwinFirefoxBrowserFinder=sfe});var y5=C(v5=>{"use strict";Object.defineProperty(v5,"__esModule",{value:!0});v5.LinuxChromeBrowserFinder=void 0;var Vjt=require("path"),wk=_C(),afe=require("child_process"),Gjt=require("os"),Kjt=require("fs"),Z3e=/\r?\n/,cfe=class{constructor(e=process.env,t=Kjt.promises){this.env=e,this.fs=t,this.pathEnvironmentVar="CHROME_PATH",this.priorities=[{regex:/chrome-wrapper$/,weight:54,quality:"custom"},{regex:/google-chrome-dev$/,weight:53,quality:"dev"},{regex:/google-chrome-canary$/,weight:52,quality:"canary"},{regex:/google-chrome-unstable$/,weight:51,quality:"canary"},{regex:/google-chrome-canary$/,weight:51,quality:"canary"},{regex:/google-chrome-stable$/,weight:50,quality:"stable"},{regex:/google-chrome$/,weight:49,quality:"stable"},{regex:/chromium-browser$/,weight:48,quality:"custom"},{regex:/chromium$/,weight:47,quality:"custom"}],this.executablesOnPath=["google-chrome-unstable","google-chrome-dev","google-chrome-beta","google-chrome-canary","google-chrome-stable","google-chrome","chromium-browser","chromium"]}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=new Set,t=this.env[this.pathEnvironmentVar];t&&await(0,wk.canAccess)(this.fs,t)&&e.add(t),[Vjt.posix.join((0,Gjt.homedir)(),".local/share/applications/"),"/usr/share/applications/","/usr/bin"].forEach(s=>{for(let a in this.findChromeExecutables(s))e.add(a)}),await Promise.all(this.executablesOnPath.map(async s=>{try{let a=(0,afe.execFileSync)("which",[s],{stdio:"pipe"}).toString().split(Z3e)[0];await(0,wk.canAccess)(this.fs,a)&&e.add(a)}catch{}}));let o=t?[{regex:new RegExp((0,wk.escapeRegexSpecialChars)(t)),weight:101,quality:"custom"}].concat(this.priorities):this.priorities;return(0,wk.sort)(e,o)}async findChromeExecutables(e){let t=/(^[^ ]+).*/,n=`^Exec=/.*/(${this.executablesOnPath.join("|")})-.*`,i=[];if(await(0,wk.canAccess)(this.fs,e)){let o;try{o=(0,afe.execSync)(`grep -ER "${n}" ${e} | awk -F '=' '{print $2}'`)}catch{o=(0,afe.execSync)(`grep -Er "${n}" ${e} | awk -F '=' '{print $2}'`)}let s=o.toString().split(Z3e).map(a=>a.replace(t,"$1"));await Promise.all(s.map(async a=>{await(0,wk.canAccess)(this.fs,a)&&i.push(a)}))}return i}};v5.LinuxChromeBrowserFinder=cfe});var eVe=C(_5=>{"use strict";Object.defineProperty(_5,"__esModule",{value:!0});_5.LinuxEdgeBrowserFinder=void 0;var Yjt=y5(),ufe=class extends Yjt.LinuxChromeBrowserFinder{constructor(){super(...arguments),this.pathEnvironmentVar="EDGE_PATH",this.executablesOnPath=["microsoft-edge-dev","microsoft-edge-beta","microsoft-edge-stable","microsoft-edge"],this.priorities=[{regex:/microsoft-edge\-wrapper$/,weight:52,quality:"custom"},{regex:/microsoft-edge\-dev$/,weight:51,quality:"dev"},{regex:/microsoft-edge\-beta$/,weight:51,quality:"beta"},{regex:/microsoft-edge\-stable$/,weight:50,quality:"stable"},{regex:/microsoft-edge$/,weight:49,quality:"stable"}]}};_5.LinuxEdgeBrowserFinder=ufe});var tVe=C(b5=>{"use strict";Object.defineProperty(b5,"__esModule",{value:!0});b5.LinuxFirefoxBrowserFinder=void 0;var Jjt=y5(),lfe=class extends Jjt.LinuxChromeBrowserFinder{constructor(){super(...arguments),this.pathEnvironmentVar="FIREFOX_PATH",this.executablesOnPath=["firefox-aurora","firefox-dev","firefox-developer","firefox-trunk","firefox-nightly","firefox"],this.priorities=[{regex:/firefox\-aurora$/,weight:51,quality:"dev"},{regex:/firefox\-dev$/,weight:51,quality:"dev"},{regex:/firefox\-developer$/,weight:51,quality:"dev"},{regex:/firefox\-trunk'$/,weight:50,quality:"canary"},{regex:/firefox\-nightly'$/,weight:50,quality:"canary"},{regex:/firefox$/,weight:49,quality:"stable"}]}};b5.LinuxFirefoxBrowserFinder=lfe});var nVe=C(w5=>{"use strict";Object.defineProperty(w5,"__esModule",{value:!0});w5.WindowsChromeBrowserFinder=void 0;var Xjt=require("path"),rVe=_C(),Qjt=require("fs"),dfe=class{constructor(e=process.env,t=Qjt.promises){this.env=e,this.fs=t}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=Xjt.win32.sep,t=[{name:`${e}Google${e}Chrome Dev${e}Application${e}chrome.exe`,type:"dev"},{name:`${e}Google${e}Chrome SxS${e}Application${e}chrome.exe`,type:"canary"},{name:`${e}Google${e}Chrome Beta${e}Application${e}chrome.exe`,type:"beta"},{name:`${e}Google${e}Chrome${e}Application${e}chrome.exe`,type:"stable"}],n=await(0,rVe.findWindowsCandidates)(this.env,this.fs,t),i=await(0,rVe.preferredChromePath)(this.fs,this.env);return i&&n.unshift({path:i,quality:"custom"}),n}};w5.WindowsChromeBrowserFinder=dfe});var oVe=C(S5=>{"use strict";Object.defineProperty(S5,"__esModule",{value:!0});S5.WindowsEdgeBrowserFinder=void 0;var Eh=require("path"),Zjt=require("fs"),iVe=_C(),ffe=class{constructor(e=process.env,t=Zjt.promises){this.env=e,this.fs=t}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=[{name:`${Eh.sep}Microsoft${Eh.sep}Edge SxS${Eh.sep}Application${Eh.sep}msedge.exe`,type:"canary"},{name:`${Eh.sep}Microsoft${Eh.sep}Edge Dev${Eh.sep}Application${Eh.sep}msedge.exe`,type:"dev"},{name:`${Eh.sep}Microsoft${Eh.sep}Edge Beta${Eh.sep}Application${Eh.sep}msedge.exe`,type:"beta"},{name:`${Eh.sep}Microsoft${Eh.sep}Edge${Eh.sep}Application${Eh.sep}msedge.exe`,type:"stable"}],t=await(0,iVe.findWindowsCandidates)(this.env,this.fs,e),n=await(0,iVe.preferredEdgePath)(this.fs,this.env);return n&&t.unshift({path:n,quality:"custom"}),t}};S5.WindowsEdgeBrowserFinder=ffe});var aVe=C(C5=>{"use strict";Object.defineProperty(C5,"__esModule",{value:!0});C5.WindowsFirefoxBrowserFinder=void 0;var ezt=require("path"),sVe=_C(),tzt=require("fs"),hfe=class{constructor(e=process.env,t=tzt.promises){this.env=e,this.fs=t}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=ezt.win32.sep,t=[{name:`${e}Firefox Developer Edition${e}firefox.exe`,type:"dev"},{name:`${e}Firefox Nightly${e}firefox.exe`,type:"canary"},{name:`${e}Mozilla Firefox${e}firefox.exe`,type:"stable"}],n=await(0,sVe.findWindowsCandidates)(this.env,this.fs,t),i=await(0,sVe.preferredFirefoxPath)(this.fs,this.env);return i&&n.unshift({path:i,quality:"custom"}),n}};C5.WindowsFirefoxBrowserFinder=hfe});var cVe=C(Bg=>{"use strict";Object.defineProperty(Bg,"__esModule",{value:!0});Bg.FirefoxBrowserFinder=Bg.EdgeBrowserFinder=Bg.ChromeBrowserFinder=Bg.isQuality=Bg.allQualities=void 0;var rzt=J3e(),nzt=X3e(),izt=Q3e(),ozt=y5(),szt=eVe(),azt=tVe(),czt=nVe(),uzt=oVe(),lzt=aVe(),dzt={canary:null,stable:null,beta:null,dev:null,custom:null};Bg.allQualities=new Set(Object.keys(dzt));var fzt=r=>Bg.allQualities.has(r);Bg.isQuality=fzt;Bg.ChromeBrowserFinder=process.platform==="win32"?czt.WindowsChromeBrowserFinder:process.platform==="darwin"?rzt.DarwinChromeBrowserFinder:ozt.LinuxChromeBrowserFinder;Bg.EdgeBrowserFinder=process.platform==="win32"?uzt.WindowsEdgeBrowserFinder:process.platform==="darwin"?nzt.DarwinEdgeBrowserFinder:szt.LinuxEdgeBrowserFinder;Bg.FirefoxBrowserFinder=process.platform==="win32"?lzt.WindowsFirefoxBrowserFinder:process.platform==="darwin"?izt.DarwinFirefoxBrowserFinder:azt.LinuxFirefoxBrowserFinder});var qD=C(wf=>{"use strict";Object.defineProperty(wf,"__esModule",{value:!0});wf.PIPE_NAME_PREFIX=wf.availabilityChangedEvent=wf.RemoteServiceConnections=wf.MessageDelimiters=wf.Formatters=void 0;var Dzt;(function(r){r[r.Utf8=0]="Utf8",r[r.MessagePack=1]="MessagePack"})(Dzt=wf.Formatters||(wf.Formatters={}));var Ezt;(function(r){r[r.HttpLikeHeaders=0]="HttpLikeHeaders",r[r.BigEndianInt32LengthHeader=1]="BigEndianInt32LengthHeader"})(Ezt=wf.MessageDelimiters||(wf.MessageDelimiters={}));var DVe;(function(r){r[r.None=0]="None",r[r.Multiplexing=1]="Multiplexing",r[r.IpcPipe=2]="IpcPipe",r[r.ClrActivation=8]="ClrActivation"})(DVe=wf.RemoteServiceConnections||(wf.RemoteServiceConnections={}));(function(r){function e(n,i){return typeof n=="string"&&(n=t(n)),(n&i)===i}r.contains=e;function t(n){let i=r.None;for(let o of n.split(","))switch(o.trim()){case"None":break;case"Multiplexing":i|=r.Multiplexing;break;case"IpcPipe":i|=r.IpcPipe;break;case"ClrActivation":i|=r.ClrActivation;break;default:throw new Error(`unrecognized element '${o.trim()}'.`)}return i}r.parse=t})(DVe=wf.RemoteServiceConnections||(wf.RemoteServiceConnections={}));wf.availabilityChangedEvent="availabilityChanged";wf.PIPE_NAME_PREFIX=process.platform==="win32"?"\\\\.\\pipe\\":"/tmp/"});var Ek=C(Rh=>{"use strict";Object.defineProperty(Rh,"__esModule",{value:!0});Rh.stringArray=Rh.array=Rh.func=Rh.error=Rh.number=Rh.string=Rh.boolean=void 0;function Rzt(r){return r===!0||r===!1}Rh.boolean=Rzt;function EVe(r){return typeof r=="string"||r instanceof String}Rh.string=EVe;function Pzt(r){return typeof r=="number"||r instanceof Number}Rh.number=Pzt;function xzt(r){return r instanceof Error}Rh.error=xzt;function Ozt(r){return typeof r=="function"}Rh.func=Ozt;function RVe(r){return Array.isArray(r)}Rh.array=RVe;function Izt(r){return RVe(r)&&r.every(e=>EVe(e))}Rh.stringArray=Izt});var she=C(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});xn.Message=xn.NotificationType9=xn.NotificationType8=xn.NotificationType7=xn.NotificationType6=xn.NotificationType5=xn.NotificationType4=xn.NotificationType3=xn.NotificationType2=xn.NotificationType1=xn.NotificationType0=xn.NotificationType=xn.RequestType9=xn.RequestType8=xn.RequestType7=xn.RequestType6=xn.RequestType5=xn.RequestType4=xn.RequestType3=xn.RequestType2=xn.RequestType1=xn.RequestType=xn.RequestType0=xn.AbstractMessageSignature=xn.ParameterStructures=xn.ResponseError=xn.ErrorCodes=void 0;var cR=Ek(),PVe;(function(r){r.ParseError=-32700,r.InvalidRequest=-32600,r.MethodNotFound=-32601,r.InvalidParams=-32602,r.InternalError=-32603,r.jsonrpcReservedErrorRangeStart=-32099,r.serverErrorStart=-32099,r.MessageWriteError=-32099,r.MessageReadError=-32098,r.PendingResponseRejected=-32097,r.ConnectionInactive=-32096,r.ServerNotInitialized=-32002,r.UnknownErrorCode=-32001,r.jsonrpcReservedErrorRangeEnd=-32e3,r.serverErrorEnd=-32e3})(PVe=xn.ErrorCodes||(xn.ErrorCodes={}));var Ffe=class r extends Error{constructor(e,t,n){super(t),this.code=cR.number(e)?e:PVe.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,r.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};xn.ResponseError=Ffe;var Nm=class r{constructor(e){this.kind=e}static is(e){return e===r.auto||e===r.byName||e===r.byPosition}toString(){return this.kind}};xn.ParameterStructures=Nm;Nm.auto=new Nm("auto");Nm.byPosition=new Nm("byPosition");Nm.byName=new Nm("byName");var tc=class{constructor(e,t){this.method=e,this.numberOfParams=t}get parameterStructures(){return Nm.auto}};xn.AbstractMessageSignature=tc;var qfe=class extends tc{constructor(e){super(e,0)}};xn.RequestType0=qfe;var jfe=class extends tc{constructor(e,t=Nm.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};xn.RequestType=jfe;var zfe=class extends tc{constructor(e,t=Nm.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};xn.RequestType1=zfe;var Ufe=class extends tc{constructor(e){super(e,2)}};xn.RequestType2=Ufe;var Hfe=class extends tc{constructor(e){super(e,3)}};xn.RequestType3=Hfe;var Bfe=class extends tc{constructor(e){super(e,4)}};xn.RequestType4=Bfe;var Wfe=class extends tc{constructor(e){super(e,5)}};xn.RequestType5=Wfe;var $fe=class extends tc{constructor(e){super(e,6)}};xn.RequestType6=$fe;var Vfe=class extends tc{constructor(e){super(e,7)}};xn.RequestType7=Vfe;var Gfe=class extends tc{constructor(e){super(e,8)}};xn.RequestType8=Gfe;var Kfe=class extends tc{constructor(e){super(e,9)}};xn.RequestType9=Kfe;var Yfe=class extends tc{constructor(e,t=Nm.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};xn.NotificationType=Yfe;var Jfe=class extends tc{constructor(e){super(e,0)}};xn.NotificationType0=Jfe;var Xfe=class extends tc{constructor(e,t=Nm.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};xn.NotificationType1=Xfe;var Qfe=class extends tc{constructor(e){super(e,2)}};xn.NotificationType2=Qfe;var Zfe=class extends tc{constructor(e){super(e,3)}};xn.NotificationType3=Zfe;var ehe=class extends tc{constructor(e){super(e,4)}};xn.NotificationType4=ehe;var the=class extends tc{constructor(e){super(e,5)}};xn.NotificationType5=the;var rhe=class extends tc{constructor(e){super(e,6)}};xn.NotificationType6=rhe;var nhe=class extends tc{constructor(e){super(e,7)}};xn.NotificationType7=nhe;var ihe=class extends tc{constructor(e){super(e,8)}};xn.NotificationType8=ihe;var ohe=class extends tc{constructor(e){super(e,9)}};xn.NotificationType9=ohe;var kzt;(function(r){function e(i){let o=i;return o&&cR.string(o.method)&&(cR.string(o.id)||cR.number(o.id))}r.isRequest=e;function t(i){let o=i;return o&&cR.string(o.method)&&i.id===void 0}r.isNotification=t;function n(i){let o=i;return o&&(o.result!==void 0||!!o.error)&&(cR.string(o.id)||cR.number(o.id)||o.id===null)}r.isResponse=n})(kzt=xn.Message||(xn.Message={}))});var che=C(SC=>{"use strict";var xVe;Object.defineProperty(SC,"__esModule",{value:!0});SC.LRUCache=SC.LinkedMap=SC.Touch=void 0;var Ep;(function(r){r.None=0,r.First=1,r.AsOld=r.First,r.Last=2,r.AsNew=r.Last})(Ep=SC.Touch||(SC.Touch={}));var I5=class{constructor(){this[xVe]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,t=Ep.None){let n=this._map.get(e);if(n)return t!==Ep.None&&this.touch(n,t),n.value}set(e,t,n=Ep.None){let i=this._map.get(e);if(i)i.value=t,n!==Ep.None&&this.touch(i,n);else{switch(i={key:e,value:t,next:void 0,previous:void 0},n){case Ep.None:this.addItemLast(i);break;case Ep.First:this.addItemFirst(i);break;case Ep.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let n=this._state,i=this._head;for(;i;){if(t?e.bind(t)(i.value,i.key,this):e(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:t.key,done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}values(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:t.value,done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}entries(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:[t.key,t.value],done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}[(xVe=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==Ep.First&&t!==Ep.Last)){if(t===Ep.First){if(e===this._head)return;let n=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===Ep.Last){if(e===this._tail)return;let n=e.next,i=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((t,n)=>{e.push([n,t])}),e}fromJSON(e){this.clear();for(let[t,n]of e)this.set(t,n)}};SC.LinkedMap=I5;var ahe=class extends I5{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=Ep.AsNew){return super.get(e,t)}peek(e){return super.get(e,Ep.None)}set(e,t){return super.set(e,t,Ep.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};SC.LRUCache=ahe});var OVe=C(kq=>{"use strict";Object.defineProperty(kq,"__esModule",{value:!0});kq.Disposable=void 0;var Azt;(function(r){function e(t){return{dispose:t}}r.create=e})(Azt=kq.Disposable||(kq.Disposable={}))});var jD=C(dhe=>{"use strict";Object.defineProperty(dhe,"__esModule",{value:!0});var uhe;function lhe(){if(uhe===void 0)throw new Error("No runtime abstraction layer installed");return uhe}(function(r){function e(t){if(t===void 0)throw new Error("No runtime abstraction layer provided");uhe=t}r.install=e})(lhe||(lhe={}));dhe.default=lhe});var Rk=C(uR=>{"use strict";Object.defineProperty(uR,"__esModule",{value:!0});uR.Emitter=uR.Event=void 0;var Lzt=jD(),Mzt;(function(r){let e={dispose(){}};r.None=function(){return e}})(Mzt=uR.Event||(uR.Event={}));var fhe=class{add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(!this._callbacks)return;let n=!1;for(let i=0,o=this._callbacks.length;i<o;i++)if(this._callbacks[i]===e)if(this._contexts[i]===t){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let t=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,s=n.length;o<s;o++)try{t.push(n[o].apply(i[o],e))}catch(a){(0,Lzt.default)().console.error(a)}return t}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},k5=class r{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,n)=>{this._callbacks||(this._callbacks=new fhe),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t);let i={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,t),i.dispose=r._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};uR.Emitter=k5;k5._noop=function(){}});var L5=C(lR=>{"use strict";Object.defineProperty(lR,"__esModule",{value:!0});lR.CancellationTokenSource=lR.CancellationToken=void 0;var Nzt=jD(),Fzt=Ek(),hhe=Rk(),phe;(function(r){r.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:hhe.Event.None}),r.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:hhe.Event.None});function e(t){let n=t;return n&&(n===r.None||n===r.Cancelled||Fzt.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}r.is=e})(phe=lR.CancellationToken||(lR.CancellationToken={}));var qzt=Object.freeze(function(r,e){let t=(0,Nzt.default)().timer.setTimeout(r.bind(e),0);return{dispose(){t.dispose()}}}),A5=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?qzt:(this._emitter||(this._emitter=new hhe.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},mhe=class{get token(){return this._token||(this._token=new A5),this._token}cancel(){this._token?this._token.cancel():this._token=phe.Cancelled}dispose(){this._token?this._token instanceof A5&&this._token.dispose():this._token=phe.None}};lR.CancellationTokenSource=mhe});var IVe=C(Pk=>{"use strict";Object.defineProperty(Pk,"__esModule",{value:!0});Pk.SharedArrayReceiverStrategy=Pk.SharedArraySenderStrategy=void 0;var jzt=L5(),Aq;(function(r){r.Continue=0,r.Cancelled=1})(Aq||(Aq={}));var ghe=class{constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;let t=new SharedArrayBuffer(4),n=new Int32Array(t,0,1);n[0]=Aq.Continue,this.buffers.set(e.id,t),e.$cancellationData=t}async sendCancellation(e,t){let n=this.buffers.get(t);if(n===void 0)return;let i=new Int32Array(n,0,1);Atomics.store(i,0,Aq.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}};Pk.SharedArraySenderStrategy=ghe;var vhe=class{constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===Aq.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},yhe=class{constructor(e){this.token=new vhe(e)}cancel(){}dispose(){}},_he=class{constructor(){this.kind="request"}createCancellationTokenSource(e){let t=e.$cancellationData;return t===void 0?new jzt.CancellationTokenSource:new yhe(t)}};Pk.SharedArrayReceiverStrategy=_he});var whe=C(M5=>{"use strict";Object.defineProperty(M5,"__esModule",{value:!0});M5.Semaphore=void 0;var zzt=jD(),bhe=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,zzt.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let t=e.thunk();t instanceof Promise?t.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}};M5.Semaphore=bhe});var kVe=C(CC=>{"use strict";Object.defineProperty(CC,"__esModule",{value:!0});CC.ReadableStreamMessageReader=CC.AbstractMessageReader=CC.MessageReader=void 0;var Che=jD(),xk=Ek(),She=Rk(),Uzt=whe(),Hzt;(function(r){function e(t){let n=t;return n&&xk.func(n.listen)&&xk.func(n.dispose)&&xk.func(n.onError)&&xk.func(n.onClose)&&xk.func(n.onPartialMessage)}r.is=e})(Hzt=CC.MessageReader||(CC.MessageReader={}));var N5=class{constructor(){this.errorEmitter=new She.Emitter,this.closeEmitter=new She.Emitter,this.partialMessageEmitter=new She.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${xk.string(e.message)?e.message:"unknown"}`)}};CC.AbstractMessageReader=N5;var The;(function(r){function e(t){let n,i,o,s=new Map,a,c=new Map;if(t===void 0||typeof t=="string")n=t??"utf-8";else{if(n=t.charset??"utf-8",t.contentDecoder!==void 0&&(o=t.contentDecoder,s.set(o.name,o)),t.contentDecoders!==void 0)for(let u of t.contentDecoders)s.set(u.name,u);if(t.contentTypeDecoder!==void 0&&(a=t.contentTypeDecoder,c.set(a.name,a)),t.contentTypeDecoders!==void 0)for(let u of t.contentTypeDecoders)c.set(u.name,u)}return a===void 0&&(a=(0,Che.default)().applicationJson.decoder,c.set(a.name,a)),{charset:n,contentDecoder:o,contentDecoders:s,contentTypeDecoder:a,contentTypeDecoders:c}}r.fromOptions=e})(The||(The={}));var Dhe=class extends N5{constructor(e,t){super(),this.readable=e,this.options=The.fromOptions(t),this.buffer=(0,Che.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new Uzt.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let t=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),t}onData(e){for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders(!0);if(!n)return;let i=n.get("content-length");if(!i){this.fireError(new Error("Header must provide a Content-Length property."));return}let o=parseInt(i);if(isNaN(o)){this.fireError(new Error("Content-Length value must be a number."));return}this.nextMessageLength=o}let t=this.buffer.tryReadBody(this.nextMessageLength);if(t===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let n=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(t):t,i=await this.options.contentTypeDecoder.decode(n,this.options);this.callback(i)}).catch(n=>{this.fireError(n)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,Che.default)().timer.setTimeout((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};CC.ReadableStreamMessageReader=Dhe});var NVe=C(TC=>{"use strict";Object.defineProperty(TC,"__esModule",{value:!0});TC.WriteableStreamMessageWriter=TC.AbstractMessageWriter=TC.MessageWriter=void 0;var AVe=jD(),Lq=Ek(),Bzt=whe(),LVe=Rk(),Wzt="Content-Length: ",MVe=`\r
`,$zt;(function(r){function e(t){let n=t;return n&&Lq.func(n.dispose)&&Lq.func(n.onClose)&&Lq.func(n.onError)&&Lq.func(n.write)}r.is=e})($zt=TC.MessageWriter||(TC.MessageWriter={}));var F5=class{constructor(){this.errorEmitter=new LVe.Emitter,this.closeEmitter=new LVe.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${Lq.string(e.message)?e.message:"unknown"}`)}};TC.AbstractMessageWriter=F5;var Ehe;(function(r){function e(t){return t===void 0||typeof t=="string"?{charset:t??"utf-8",contentTypeEncoder:(0,AVe.default)().applicationJson.encoder}:{charset:t.charset??"utf-8",contentEncoder:t.contentEncoder,contentTypeEncoder:t.contentTypeEncoder??(0,AVe.default)().applicationJson.encoder}}r.fromOptions=e})(Ehe||(Ehe={}));var Rhe=class extends F5{constructor(e,t){super(),this.writable=e,this.options=Ehe.fromOptions(t),this.errorCount=0,this.writeSemaphore=new Bzt.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(Wzt,n.byteLength.toString(),MVe),i.push(MVe),this.doWrite(e,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(e,t,n){try{return await this.writable.write(t.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){this.writable.end()}};TC.WriteableStreamMessageWriter=Rhe});var FVe=C(q5=>{"use strict";Object.defineProperty(q5,"__esModule",{value:!0});q5.AbstractMessageBuffer=void 0;var Vzt=13,Gzt=10,Kzt=`\r
`,Phe=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let t=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(t),this._totalLength+=t.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let t=0,n=0,i=0,o=0;e:for(;n<this._chunks.length;){let u=this._chunks[n];for(i=0;i<u.length;){switch(u[i]){case Vzt:switch(t){case 0:t=1;break;case 2:t=3;break;default:t=0}break;case Gzt:switch(t){case 1:t=2;break;case 3:t=4,i++;break e;default:t=0}break;default:t=0}i++}o+=u.byteLength,n++}if(t!==4)return;let s=this._read(o+i),a=new Map,c=this.toString(s,"ascii").split(Kzt);if(c.length<2)return a;for(let u=0;u<c.length-2;u++){let l=c[u],d=l.indexOf(":");if(d===-1)throw new Error("Message header must separate key and value using :");let f=l.substr(0,d),p=l.substr(d+1).trim();a.set(e?f.toLowerCase():f,p)}return a}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let o=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(o)}if(this._chunks[0].byteLength>e){let o=this._chunks[0],s=this.asNative(o,e);return this._chunks[0]=o.slice(e),this._totalLength-=e,s}let t=this.allocNative(e),n=0,i=0;for(;e>0;){let o=this._chunks[i];if(o.byteLength>e){let s=o.slice(0,e);t.set(s,n),n+=e,this._chunks[i]=o.slice(e),this._totalLength-=e,e-=e}else t.set(o,n),n+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,e-=o.byteLength}return t}};q5.AbstractMessageBuffer=Phe});var WVe=C(wn=>{"use strict";Object.defineProperty(wn,"__esModule",{value:!0});wn.createMessageConnection=wn.ConnectionOptions=wn.MessageStrategy=wn.CancellationStrategy=wn.CancellationSenderStrategy=wn.CancellationReceiverStrategy=wn.RequestCancellationReceiverStrategy=wn.IdCancellationReceiverStrategy=wn.ConnectionStrategy=wn.ConnectionError=wn.ConnectionErrors=wn.LogTraceNotification=wn.SetTraceNotification=wn.TraceFormat=wn.TraceValues=wn.Trace=wn.NullLogger=wn.ProgressType=wn.ProgressToken=void 0;var qVe=jD(),nu=Ek(),_i=she(),jVe=che(),Mq=Rk(),xhe=L5(),Fq;(function(r){r.type=new _i.NotificationType("$/cancelRequest")})(Fq||(Fq={}));var zVe;(function(r){function e(t){return typeof t=="string"||typeof t=="number"}r.is=e})(zVe=wn.ProgressToken||(wn.ProgressToken={}));var Nq;(function(r){r.type=new _i.NotificationType("$/progress")})(Nq||(Nq={}));var Ohe=class{constructor(){}};wn.ProgressType=Ohe;var Ihe;(function(r){function e(t){return nu.func(t)}r.is=e})(Ihe||(Ihe={}));wn.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var Ws;(function(r){r[r.Off=0]="Off",r[r.Messages=1]="Messages",r[r.Compact=2]="Compact",r[r.Verbose=3]="Verbose"})(Ws=wn.Trace||(wn.Trace={}));var Yzt;(function(r){r.Off="off",r.Messages="messages",r.Compact="compact",r.Verbose="verbose"})(Yzt=wn.TraceValues||(wn.TraceValues={}));(function(r){function e(n){if(!nu.string(n))return r.Off;switch(n=n.toLowerCase(),n){case"off":return r.Off;case"messages":return r.Messages;case"compact":return r.Compact;case"verbose":return r.Verbose;default:return r.Off}}r.fromString=e;function t(n){switch(n){case r.Off:return"off";case r.Messages:return"messages";case r.Compact:return"compact";case r.Verbose:return"verbose";default:return"off"}}r.toString=t})(Ws=wn.Trace||(wn.Trace={}));var x_;(function(r){r.Text="text",r.JSON="json"})(x_=wn.TraceFormat||(wn.TraceFormat={}));(function(r){function e(t){return nu.string(t)?(t=t.toLowerCase(),t==="json"?r.JSON:r.Text):r.Text}r.fromString=e})(x_=wn.TraceFormat||(wn.TraceFormat={}));var UVe;(function(r){r.type=new _i.NotificationType("$/setTrace")})(UVe=wn.SetTraceNotification||(wn.SetTraceNotification={}));var khe;(function(r){r.type=new _i.NotificationType("$/logTrace")})(khe=wn.LogTraceNotification||(wn.LogTraceNotification={}));var j5;(function(r){r[r.Closed=1]="Closed",r[r.Disposed=2]="Disposed",r[r.AlreadyListening=3]="AlreadyListening"})(j5=wn.ConnectionErrors||(wn.ConnectionErrors={}));var Ok=class r extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,r.prototype)}};wn.ConnectionError=Ok;var HVe;(function(r){function e(t){let n=t;return n&&nu.func(n.cancelUndispatched)}r.is=e})(HVe=wn.ConnectionStrategy||(wn.ConnectionStrategy={}));var Mhe;(function(r){function e(t){let n=t;return n&&(n.kind===void 0||n.kind==="id")&&nu.func(n.createCancellationTokenSource)&&(n.dispose===void 0||nu.func(n.dispose))}r.is=e})(Mhe=wn.IdCancellationReceiverStrategy||(wn.IdCancellationReceiverStrategy={}));var BVe;(function(r){function e(t){let n=t;return n&&n.kind==="request"&&nu.func(n.createCancellationTokenSource)&&(n.dispose===void 0||nu.func(n.dispose))}r.is=e})(BVe=wn.RequestCancellationReceiverStrategy||(wn.RequestCancellationReceiverStrategy={}));var Ahe;(function(r){r.Message=Object.freeze({createCancellationTokenSource(t){return new xhe.CancellationTokenSource}});function e(t){return Mhe.is(t)||BVe.is(t)}r.is=e})(Ahe=wn.CancellationReceiverStrategy||(wn.CancellationReceiverStrategy={}));var Lhe;(function(r){r.Message=Object.freeze({sendCancellation(t,n){return t.sendNotification(Fq.type,{id:n})},cleanup(t){}});function e(t){let n=t;return n&&nu.func(n.sendCancellation)&&nu.func(n.cleanup)}r.is=e})(Lhe=wn.CancellationSenderStrategy||(wn.CancellationSenderStrategy={}));var Nhe;(function(r){r.Message=Object.freeze({receiver:Ahe.Message,sender:Lhe.Message});function e(t){let n=t;return n&&Ahe.is(n.receiver)&&Lhe.is(n.sender)}r.is=e})(Nhe=wn.CancellationStrategy||(wn.CancellationStrategy={}));var Fhe;(function(r){function e(t){let n=t;return n&&nu.func(n.handleMessage)}r.is=e})(Fhe=wn.MessageStrategy||(wn.MessageStrategy={}));var Jzt;(function(r){function e(t){let n=t;return n&&(Nhe.is(n.cancellationStrategy)||HVe.is(n.connectionStrategy)||Fhe.is(n.messageStrategy))}r.is=e})(Jzt=wn.ConnectionOptions||(wn.ConnectionOptions={}));var O_;(function(r){r[r.New=1]="New",r[r.Listening=2]="Listening",r[r.Closed=3]="Closed",r[r.Disposed=4]="Disposed"})(O_||(O_={}));function Xzt(r,e,t,n){let i=t!==void 0?t:wn.NullLogger,o=0,s=0,a=0,c="2.0",u,l=new Map,d,f=new Map,p=new Map,_,D=new jVe.LinkedMap,P=new Map,M=new Set,A=new Map,U=Ws.Off,ne=x_.Text,pe,ve=O_.New,V=new Mq.Emitter,W=new Mq.Emitter,ee=new Mq.Emitter,De=new Mq.Emitter,ae=new Mq.Emitter,ue=n&&n.cancellationStrategy?n.cancellationStrategy:Nhe.Message;function Fe(oe){if(oe===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+oe.toString()}function Me(oe){return oe===null?"res-unknown-"+(++a).toString():"res-"+oe.toString()}function ce(){return"not-"+(++s).toString()}function Ce(oe,Q){_i.Message.isRequest(Q)?oe.set(Fe(Q.id),Q):_i.Message.isResponse(Q)?oe.set(Me(Q.id),Q):oe.set(ce(),Q)}function be(oe){}function xe(){return ve===O_.Listening}function Ne(){return ve===O_.Closed}function $e(){return ve===O_.Disposed}function Ct(){(ve===O_.New||ve===O_.Listening)&&(ve=O_.Closed,W.fire(void 0))}function ze(oe){V.fire([oe,void 0,void 0])}function st(oe){V.fire(oe)}r.onClose(Ct),r.onError(ze),e.onClose(Ct),e.onError(st);function at(){_||D.size===0||(_=(0,qVe.default)().timer.setImmediate(()=>{_=void 0,fr()}))}function tt(oe){_i.Message.isRequest(oe)?zr(oe):_i.Message.isNotification(oe)?xt(oe):_i.Message.isResponse(oe)?cr(oe):hr(oe)}function fr(){if(D.size===0)return;let oe=D.shift();try{let Q=n?.messageStrategy;Fhe.is(Q)?Q.handleMessage(oe,tt):tt(oe)}finally{at()}}let Lr=oe=>{try{if(_i.Message.isNotification(oe)&&oe.method===Fq.type.method){let Q=oe.params.id,we=Fe(Q),Je=D.get(we);if(_i.Message.isRequest(Je)){let Yt=n?.connectionStrategy,rr=Yt&&Yt.cancelUndispatched?Yt.cancelUndispatched(Je,be):void 0;if(rr&&(rr.error!==void 0||rr.result!==void 0)){D.delete(we),A.delete(Q),rr.id=Je.id,On(rr,oe.method,Date.now()),e.write(rr).catch(()=>i.error("Sending response for canceled message failed."));return}}let ft=A.get(Q);if(ft!==void 0){ft.cancel(),Hn(oe);return}else M.add(Q)}Ce(D,oe)}finally{at()}};function zr(oe){if($e())return;function Q($t,kt,K){let qe={jsonrpc:c,id:oe.id};$t instanceof _i.ResponseError?qe.error=$t.toJson():qe.result=$t===void 0?null:$t,On(qe,kt,K),e.write(qe).catch(()=>i.error("Sending response failed."))}function we($t,kt,K){let qe={jsonrpc:c,id:oe.id,error:$t.toJson()};On(qe,kt,K),e.write(qe).catch(()=>i.error("Sending response failed."))}function Je($t,kt,K){$t===void 0&&($t=null);let qe={jsonrpc:c,id:oe.id,result:$t};On(qe,kt,K),e.write(qe).catch(()=>i.error("Sending response failed."))}Or(oe);let ft=l.get(oe.method),Yt,rr;ft&&(Yt=ft.type,rr=ft.handler);let Jt=Date.now();if(rr||u){let $t=oe.id??String(Date.now()),kt=Mhe.is(ue.receiver)?ue.receiver.createCancellationTokenSource($t):ue.receiver.createCancellationTokenSource(oe);oe.id!==null&&M.has(oe.id)&&kt.cancel(),oe.id!==null&&A.set($t,kt);try{let K;if(rr)if(oe.params===void 0){if(Yt!==void 0&&Yt.numberOfParams!==0){we(new _i.ResponseError(_i.ErrorCodes.InvalidParams,`Request ${oe.method} defines ${Yt.numberOfParams} params but received none.`),oe.method,Jt);return}K=rr(kt.token)}else if(Array.isArray(oe.params)){if(Yt!==void 0&&Yt.parameterStructures===_i.ParameterStructures.byName){we(new _i.ResponseError(_i.ErrorCodes.InvalidParams,`Request ${oe.method} defines parameters by name but received parameters by position`),oe.method,Jt);return}K=rr(...oe.params,kt.token)}else{if(Yt!==void 0&&Yt.parameterStructures===_i.ParameterStructures.byPosition){we(new _i.ResponseError(_i.ErrorCodes.InvalidParams,`Request ${oe.method} defines parameters by position but received parameters by name`),oe.method,Jt);return}K=rr(oe.params,kt.token)}else u&&(K=u(oe.method,oe.params,kt.token));let qe=K;K?qe.then?qe.then(Ht=>{A.delete($t),Q(Ht,oe.method,Jt)},Ht=>{A.delete($t),Ht instanceof _i.ResponseError?we(Ht,oe.method,Jt):Ht&&nu.string(Ht.message)?we(new _i.ResponseError(_i.ErrorCodes.InternalError,`Request ${oe.method} failed with message: ${Ht.message}`),oe.method,Jt):we(new _i.ResponseError(_i.ErrorCodes.InternalError,`Request ${oe.method} failed unexpectedly without providing any details.`),oe.method,Jt)}):(A.delete($t),Q(K,oe.method,Jt)):(A.delete($t),Je(K,oe.method,Jt))}catch(K){A.delete($t),K instanceof _i.ResponseError?Q(K,oe.method,Jt):K&&nu.string(K.message)?we(new _i.ResponseError(_i.ErrorCodes.InternalError,`Request ${oe.method} failed with message: ${K.message}`),oe.method,Jt):we(new _i.ResponseError(_i.ErrorCodes.InternalError,`Request ${oe.method} failed unexpectedly without providing any details.`),oe.method,Jt)}}else we(new _i.ResponseError(_i.ErrorCodes.MethodNotFound,`Unhandled method ${oe.method}`),oe.method,Jt)}function cr(oe){if(!$e())if(oe.id===null)oe.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(oe.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let Q=oe.id,we=P.get(Q);if($r(oe,we),we!==void 0){P.delete(Q);try{if(oe.error){let Je=oe.error;we.reject(new _i.ResponseError(Je.code,Je.message,Je.data))}else if(oe.result!==void 0)we.resolve(oe.result);else throw new Error("Should never happen.")}catch(Je){Je.message?i.error(`Response handler '${we.method}' failed with message: ${Je.message}`):i.error(`Response handler '${we.method}' failed unexpectedly.`)}}}}function xt(oe){if($e())return;let Q,we;if(oe.method===Fq.type.method){let Je=oe.params.id;M.delete(Je),Hn(oe);return}else{let Je=f.get(oe.method);Je&&(we=Je.handler,Q=Je.type)}if(we||d)try{if(Hn(oe),we)if(oe.params===void 0)Q!==void 0&&Q.numberOfParams!==0&&Q.parameterStructures!==_i.ParameterStructures.byName&&i.error(`Notification ${oe.method} defines ${Q.numberOfParams} params but received none.`),we();else if(Array.isArray(oe.params)){let Je=oe.params;oe.method===Nq.type.method&&Je.length===2&&zVe.is(Je[0])?we({token:Je[0],value:Je[1]}):(Q!==void 0&&(Q.parameterStructures===_i.ParameterStructures.byName&&i.error(`Notification ${oe.method} defines parameters by name but received parameters by position`),Q.numberOfParams!==oe.params.length&&i.error(`Notification ${oe.method} defines ${Q.numberOfParams} params but received ${Je.length} arguments`)),we(...Je))}else Q!==void 0&&Q.parameterStructures===_i.ParameterStructures.byPosition&&i.error(`Notification ${oe.method} defines parameters by position but received parameters by name`),we(oe.params);else d&&d(oe.method,oe.params)}catch(Je){Je.message?i.error(`Notification handler '${oe.method}' failed with message: ${Je.message}`):i.error(`Notification handler '${oe.method}' failed unexpectedly.`)}else ee.fire(oe)}function hr(oe){if(!oe){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(oe,null,4)}`);let Q=oe;if(nu.string(Q.id)||nu.number(Q.id)){let we=Q.id,Je=P.get(we);Je&&Je.reject(new Error("The received response has neither a result nor an error property."))}}function Mt(oe){if(oe!=null)switch(U){case Ws.Verbose:return JSON.stringify(oe,null,4);case Ws.Compact:return JSON.stringify(oe);default:return}}function nn(oe){if(!(U===Ws.Off||!pe))if(ne===x_.Text){let Q;(U===Ws.Verbose||U===Ws.Compact)&&oe.params&&(Q=`Params: ${Mt(oe.params)}

`),pe.log(`Sending request '${oe.method} - (${oe.id})'.`,Q)}else dn("send-request",oe)}function ln(oe){if(!(U===Ws.Off||!pe))if(ne===x_.Text){let Q;(U===Ws.Verbose||U===Ws.Compact)&&(oe.params?Q=`Params: ${Mt(oe.params)}

`:Q=`No parameters provided.

`),pe.log(`Sending notification '${oe.method}'.`,Q)}else dn("send-notification",oe)}function On(oe,Q,we){if(!(U===Ws.Off||!pe))if(ne===x_.Text){let Je;(U===Ws.Verbose||U===Ws.Compact)&&(oe.error&&oe.error.data?Je=`Error data: ${Mt(oe.error.data)}

`:oe.result?Je=`Result: ${Mt(oe.result)}

`:oe.error===void 0&&(Je=`No result returned.

`)),pe.log(`Sending response '${Q} - (${oe.id})'. Processing request took ${Date.now()-we}ms`,Je)}else dn("send-response",oe)}function Or(oe){if(!(U===Ws.Off||!pe))if(ne===x_.Text){let Q;(U===Ws.Verbose||U===Ws.Compact)&&oe.params&&(Q=`Params: ${Mt(oe.params)}

`),pe.log(`Received request '${oe.method} - (${oe.id})'.`,Q)}else dn("receive-request",oe)}function Hn(oe){if(!(U===Ws.Off||!pe||oe.method===khe.type.method))if(ne===x_.Text){let Q;(U===Ws.Verbose||U===Ws.Compact)&&(oe.params?Q=`Params: ${Mt(oe.params)}

`:Q=`No parameters provided.

`),pe.log(`Received notification '${oe.method}'.`,Q)}else dn("receive-notification",oe)}function $r(oe,Q){if(!(U===Ws.Off||!pe))if(ne===x_.Text){let we;if((U===Ws.Verbose||U===Ws.Compact)&&(oe.error&&oe.error.data?we=`Error data: ${Mt(oe.error.data)}

`:oe.result?we=`Result: ${Mt(oe.result)}

`:oe.error===void 0&&(we=`No result returned.

`)),Q){let Je=oe.error?` Request failed: ${oe.error.message} (${oe.error.code}).`:"";pe.log(`Received response '${Q.method} - (${oe.id})' in ${Date.now()-Q.timerStart}ms.${Je}`,we)}else pe.log(`Received response ${oe.id} without active response promise.`,we)}else dn("receive-response",oe)}function dn(oe,Q){if(!pe||U===Ws.Off)return;let we={isLSPMessage:!0,type:oe,message:Q,timestamp:Date.now()};pe.log(we)}function ii(){if(Ne())throw new Ok(j5.Closed,"Connection is closed.");if($e())throw new Ok(j5.Disposed,"Connection is disposed.")}function Vr(){if(xe())throw new Ok(j5.AlreadyListening,"Connection is already listening")}function An(){if(!xe())throw new Error("Call listen() first.")}function xi(oe){return oe===void 0?null:oe}function Gr(oe){if(oe!==null)return oe}function Qi(oe){return oe!=null&&!Array.isArray(oe)&&typeof oe=="object"}function oi(oe,Q){switch(oe){case _i.ParameterStructures.auto:return Qi(Q)?Gr(Q):[xi(Q)];case _i.ParameterStructures.byName:if(!Qi(Q))throw new Error("Received parameters by name but param is not an object literal.");return Gr(Q);case _i.ParameterStructures.byPosition:return[xi(Q)];default:throw new Error(`Unknown parameter structure ${oe.toString()}`)}}function fn(oe,Q){let we,Je=oe.numberOfParams;switch(Je){case 0:we=void 0;break;case 1:we=oi(oe.parameterStructures,Q[0]);break;default:we=[];for(let ft=0;ft<Q.length&&ft<Je;ft++)we.push(xi(Q[ft]));if(Q.length<Je)for(let ft=Q.length;ft<Je;ft++)we.push(null);break}return we}let Oe={sendNotification:(oe,...Q)=>{ii();let we,Je;if(nu.string(oe)){we=oe;let Yt=Q[0],rr=0,Jt=_i.ParameterStructures.auto;_i.ParameterStructures.is(Yt)&&(rr=1,Jt=Yt);let $t=Q.length,kt=$t-rr;switch(kt){case 0:Je=void 0;break;case 1:Je=oi(Jt,Q[rr]);break;default:if(Jt===_i.ParameterStructures.byName)throw new Error(`Received ${kt} parameters for 'by Name' notification parameter structure.`);Je=Q.slice(rr,$t).map(K=>xi(K));break}}else{let Yt=Q;we=oe.method,Je=fn(oe,Yt)}let ft={jsonrpc:c,method:we,params:Je};return ln(ft),e.write(ft).catch(Yt=>{throw i.error("Sending notification failed."),Yt})},onNotification:(oe,Q)=>{ii();let we;return nu.func(oe)?d=oe:Q&&(nu.string(oe)?(we=oe,f.set(oe,{type:void 0,handler:Q})):(we=oe.method,f.set(oe.method,{type:oe,handler:Q}))),{dispose:()=>{we!==void 0?f.delete(we):d=void 0}}},onProgress:(oe,Q,we)=>{if(p.has(Q))throw new Error(`Progress handler for token ${Q} already registered`);return p.set(Q,we),{dispose:()=>{p.delete(Q)}}},sendProgress:(oe,Q,we)=>Oe.sendNotification(Nq.type,{token:Q,value:we}),onUnhandledProgress:De.event,sendRequest:(oe,...Q)=>{ii(),An();let we,Je,ft;if(nu.string(oe)){we=oe;let $t=Q[0],kt=Q[Q.length-1],K=0,qe=_i.ParameterStructures.auto;_i.ParameterStructures.is($t)&&(K=1,qe=$t);let Ht=Q.length;xhe.CancellationToken.is(kt)&&(Ht=Ht-1,ft=kt);let Dr=Ht-K;switch(Dr){case 0:Je=void 0;break;case 1:Je=oi(qe,Q[K]);break;default:if(qe===_i.ParameterStructures.byName)throw new Error(`Received ${Dr} parameters for 'by Name' request parameter structure.`);Je=Q.slice(K,Ht).map(He=>xi(He));break}}else{let $t=Q;we=oe.method,Je=fn(oe,$t);let kt=oe.numberOfParams;ft=xhe.CancellationToken.is($t[kt])?$t[kt]:void 0}let Yt=o++,rr;ft&&(rr=ft.onCancellationRequested(()=>{let $t=ue.sender.sendCancellation(Oe,Yt);return $t===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${Yt}`),Promise.resolve()):$t.catch(()=>{i.log(`Sending cancellation messages for id ${Yt} failed`)})}));let Jt={jsonrpc:c,id:Yt,method:we,params:Je};return nn(Jt),typeof ue.sender.enableCancellation=="function"&&ue.sender.enableCancellation(Jt),new Promise(async($t,kt)=>{let K=Dr=>{$t(Dr),ue.sender.cleanup(Yt),rr?.dispose()},qe=Dr=>{kt(Dr),ue.sender.cleanup(Yt),rr?.dispose()},Ht={method:we,timerStart:Date.now(),resolve:K,reject:qe};try{await e.write(Jt),P.set(Yt,Ht)}catch(Dr){throw i.error("Sending request failed."),Ht.reject(new _i.ResponseError(_i.ErrorCodes.MessageWriteError,Dr.message?Dr.message:"Unknown reason")),Dr}})},onRequest:(oe,Q)=>{ii();let we=null;return Ihe.is(oe)?(we=void 0,u=oe):nu.string(oe)?(we=null,Q!==void 0&&(we=oe,l.set(oe,{handler:Q,type:void 0}))):Q!==void 0&&(we=oe.method,l.set(oe.method,{type:oe,handler:Q})),{dispose:()=>{we!==null&&(we!==void 0?l.delete(we):u=void 0)}}},hasPendingResponse:()=>P.size>0,trace:async(oe,Q,we)=>{let Je=!1,ft=x_.Text;we!==void 0&&(nu.boolean(we)?Je=we:(Je=we.sendNotification||!1,ft=we.traceFormat||x_.Text)),U=oe,ne=ft,U===Ws.Off?pe=void 0:pe=Q,Je&&!Ne()&&!$e()&&await Oe.sendNotification(UVe.type,{value:Ws.toString(oe)})},onError:V.event,onClose:W.event,onUnhandledNotification:ee.event,onDispose:ae.event,end:()=>{e.end()},dispose:()=>{if($e())return;ve=O_.Disposed,ae.fire(void 0);let oe=new _i.ResponseError(_i.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let Q of P.values())Q.reject(oe);P=new Map,A=new Map,M=new Set,D=new jVe.LinkedMap,nu.func(e.dispose)&&e.dispose(),nu.func(r.dispose)&&r.dispose()},listen:()=>{ii(),Vr(),ve=O_.Listening,r.listen(Lr)},inspect:()=>{(0,qVe.default)().console.log("inspect")}};return Oe.onNotification(khe.type,oe=>{if(U===Ws.Off||!pe)return;let Q=U===Ws.Verbose||U===Ws.Compact;pe.log(oe.message,Q?oe.verbose:void 0)}),Oe.onNotification(Nq.type,oe=>{let Q=p.get(oe.token);Q?Q(oe.value):De.fire(oe)}),Oe}wn.createMessageConnection=Xzt});var z5=C(Ft=>{"use strict";Object.defineProperty(Ft,"__esModule",{value:!0});Ft.ProgressType=Ft.ProgressToken=Ft.createMessageConnection=Ft.NullLogger=Ft.ConnectionOptions=Ft.ConnectionStrategy=Ft.AbstractMessageBuffer=Ft.WriteableStreamMessageWriter=Ft.AbstractMessageWriter=Ft.MessageWriter=Ft.ReadableStreamMessageReader=Ft.AbstractMessageReader=Ft.MessageReader=Ft.SharedArrayReceiverStrategy=Ft.SharedArraySenderStrategy=Ft.CancellationToken=Ft.CancellationTokenSource=Ft.Emitter=Ft.Event=Ft.Disposable=Ft.LRUCache=Ft.Touch=Ft.LinkedMap=Ft.ParameterStructures=Ft.NotificationType9=Ft.NotificationType8=Ft.NotificationType7=Ft.NotificationType6=Ft.NotificationType5=Ft.NotificationType4=Ft.NotificationType3=Ft.NotificationType2=Ft.NotificationType1=Ft.NotificationType0=Ft.NotificationType=Ft.ErrorCodes=Ft.ResponseError=Ft.RequestType9=Ft.RequestType8=Ft.RequestType7=Ft.RequestType6=Ft.RequestType5=Ft.RequestType4=Ft.RequestType3=Ft.RequestType2=Ft.RequestType1=Ft.RequestType0=Ft.RequestType=Ft.Message=Ft.RAL=void 0;Ft.MessageStrategy=Ft.CancellationStrategy=Ft.CancellationSenderStrategy=Ft.CancellationReceiverStrategy=Ft.ConnectionError=Ft.ConnectionErrors=Ft.LogTraceNotification=Ft.SetTraceNotification=Ft.TraceFormat=Ft.TraceValues=Ft.Trace=void 0;var Oa=she();Object.defineProperty(Ft,"Message",{enumerable:!0,get:function(){return Oa.Message}});Object.defineProperty(Ft,"RequestType",{enumerable:!0,get:function(){return Oa.RequestType}});Object.defineProperty(Ft,"RequestType0",{enumerable:!0,get:function(){return Oa.RequestType0}});Object.defineProperty(Ft,"RequestType1",{enumerable:!0,get:function(){return Oa.RequestType1}});Object.defineProperty(Ft,"RequestType2",{enumerable:!0,get:function(){return Oa.RequestType2}});Object.defineProperty(Ft,"RequestType3",{enumerable:!0,get:function(){return Oa.RequestType3}});Object.defineProperty(Ft,"RequestType4",{enumerable:!0,get:function(){return Oa.RequestType4}});Object.defineProperty(Ft,"RequestType5",{enumerable:!0,get:function(){return Oa.RequestType5}});Object.defineProperty(Ft,"RequestType6",{enumerable:!0,get:function(){return Oa.RequestType6}});Object.defineProperty(Ft,"RequestType7",{enumerable:!0,get:function(){return Oa.RequestType7}});Object.defineProperty(Ft,"RequestType8",{enumerable:!0,get:function(){return Oa.RequestType8}});Object.defineProperty(Ft,"RequestType9",{enumerable:!0,get:function(){return Oa.RequestType9}});Object.defineProperty(Ft,"ResponseError",{enumerable:!0,get:function(){return Oa.ResponseError}});Object.defineProperty(Ft,"ErrorCodes",{enumerable:!0,get:function(){return Oa.ErrorCodes}});Object.defineProperty(Ft,"NotificationType",{enumerable:!0,get:function(){return Oa.NotificationType}});Object.defineProperty(Ft,"NotificationType0",{enumerable:!0,get:function(){return Oa.NotificationType0}});Object.defineProperty(Ft,"NotificationType1",{enumerable:!0,get:function(){return Oa.NotificationType1}});Object.defineProperty(Ft,"NotificationType2",{enumerable:!0,get:function(){return Oa.NotificationType2}});Object.defineProperty(Ft,"NotificationType3",{enumerable:!0,get:function(){return Oa.NotificationType3}});Object.defineProperty(Ft,"NotificationType4",{enumerable:!0,get:function(){return Oa.NotificationType4}});Object.defineProperty(Ft,"NotificationType5",{enumerable:!0,get:function(){return Oa.NotificationType5}});Object.defineProperty(Ft,"NotificationType6",{enumerable:!0,get:function(){return Oa.NotificationType6}});Object.defineProperty(Ft,"NotificationType7",{enumerable:!0,get:function(){return Oa.NotificationType7}});Object.defineProperty(Ft,"NotificationType8",{enumerable:!0,get:function(){return Oa.NotificationType8}});Object.defineProperty(Ft,"NotificationType9",{enumerable:!0,get:function(){return Oa.NotificationType9}});Object.defineProperty(Ft,"ParameterStructures",{enumerable:!0,get:function(){return Oa.ParameterStructures}});var qhe=che();Object.defineProperty(Ft,"LinkedMap",{enumerable:!0,get:function(){return qhe.LinkedMap}});Object.defineProperty(Ft,"LRUCache",{enumerable:!0,get:function(){return qhe.LRUCache}});Object.defineProperty(Ft,"Touch",{enumerable:!0,get:function(){return qhe.Touch}});var Qzt=OVe();Object.defineProperty(Ft,"Disposable",{enumerable:!0,get:function(){return Qzt.Disposable}});var $Ve=Rk();Object.defineProperty(Ft,"Event",{enumerable:!0,get:function(){return $Ve.Event}});Object.defineProperty(Ft,"Emitter",{enumerable:!0,get:function(){return $Ve.Emitter}});var VVe=L5();Object.defineProperty(Ft,"CancellationTokenSource",{enumerable:!0,get:function(){return VVe.CancellationTokenSource}});Object.defineProperty(Ft,"CancellationToken",{enumerable:!0,get:function(){return VVe.CancellationToken}});var GVe=IVe();Object.defineProperty(Ft,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return GVe.SharedArraySenderStrategy}});Object.defineProperty(Ft,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return GVe.SharedArrayReceiverStrategy}});var jhe=kVe();Object.defineProperty(Ft,"MessageReader",{enumerable:!0,get:function(){return jhe.MessageReader}});Object.defineProperty(Ft,"AbstractMessageReader",{enumerable:!0,get:function(){return jhe.AbstractMessageReader}});Object.defineProperty(Ft,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return jhe.ReadableStreamMessageReader}});var zhe=NVe();Object.defineProperty(Ft,"MessageWriter",{enumerable:!0,get:function(){return zhe.MessageWriter}});Object.defineProperty(Ft,"AbstractMessageWriter",{enumerable:!0,get:function(){return zhe.AbstractMessageWriter}});Object.defineProperty(Ft,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return zhe.WriteableStreamMessageWriter}});var Zzt=FVe();Object.defineProperty(Ft,"AbstractMessageBuffer",{enumerable:!0,get:function(){return Zzt.AbstractMessageBuffer}});var Sf=WVe();Object.defineProperty(Ft,"ConnectionStrategy",{enumerable:!0,get:function(){return Sf.ConnectionStrategy}});Object.defineProperty(Ft,"ConnectionOptions",{enumerable:!0,get:function(){return Sf.ConnectionOptions}});Object.defineProperty(Ft,"NullLogger",{enumerable:!0,get:function(){return Sf.NullLogger}});Object.defineProperty(Ft,"createMessageConnection",{enumerable:!0,get:function(){return Sf.createMessageConnection}});Object.defineProperty(Ft,"ProgressToken",{enumerable:!0,get:function(){return Sf.ProgressToken}});Object.defineProperty(Ft,"ProgressType",{enumerable:!0,get:function(){return Sf.ProgressType}});Object.defineProperty(Ft,"Trace",{enumerable:!0,get:function(){return Sf.Trace}});Object.defineProperty(Ft,"TraceValues",{enumerable:!0,get:function(){return Sf.TraceValues}});Object.defineProperty(Ft,"TraceFormat",{enumerable:!0,get:function(){return Sf.TraceFormat}});Object.defineProperty(Ft,"SetTraceNotification",{enumerable:!0,get:function(){return Sf.SetTraceNotification}});Object.defineProperty(Ft,"LogTraceNotification",{enumerable:!0,get:function(){return Sf.LogTraceNotification}});Object.defineProperty(Ft,"ConnectionErrors",{enumerable:!0,get:function(){return Sf.ConnectionErrors}});Object.defineProperty(Ft,"ConnectionError",{enumerable:!0,get:function(){return Sf.ConnectionError}});Object.defineProperty(Ft,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return Sf.CancellationReceiverStrategy}});Object.defineProperty(Ft,"CancellationSenderStrategy",{enumerable:!0,get:function(){return Sf.CancellationSenderStrategy}});Object.defineProperty(Ft,"CancellationStrategy",{enumerable:!0,get:function(){return Sf.CancellationStrategy}});Object.defineProperty(Ft,"MessageStrategy",{enumerable:!0,get:function(){return Sf.MessageStrategy}});var eUt=jD();Ft.RAL=eUt.default});var JVe=C(Whe=>{"use strict";Object.defineProperty(Whe,"__esModule",{value:!0});var KVe=require("util"),DC=z5(),U5=class r extends DC.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return r.emptyBuffer}fromString(e,t){return Buffer.from(e,t)}toString(e,t){return e instanceof Buffer?e.toString(t):new KVe.TextDecoder(t).decode(e)}asNative(e,t){return t===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,t):Buffer.from(e,0,t)}allocNative(e){return Buffer.allocUnsafe(e)}};U5.emptyBuffer=Buffer.allocUnsafe(0);var Uhe=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),DC.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),DC.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),DC.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),DC.Disposable.create(()=>this.stream.off("data",e))}},Hhe=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),DC.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),DC.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),DC.Disposable.create(()=>this.stream.off("end",e))}write(e,t){return new Promise((n,i)=>{let o=s=>{s==null?n():i(s)};typeof e=="string"?this.stream.write(e,t,o):this.stream.write(e,o)})}end(){this.stream.end()}},YVe=Object.freeze({messageBuffer:Object.freeze({create:r=>new U5(r)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(r,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(r,void 0,0),e.charset))}catch(t){return Promise.reject(t)}}}),decoder:Object.freeze({name:"application/json",decode:(r,e)=>{try{return r instanceof Buffer?Promise.resolve(JSON.parse(r.toString(e.charset))):Promise.resolve(JSON.parse(new KVe.TextDecoder(e.charset).decode(r)))}catch(t){return Promise.reject(t)}}})}),stream:Object.freeze({asReadableStream:r=>new Uhe(r),asWritableStream:r=>new Hhe(r)}),console,timer:Object.freeze({setTimeout(r,e,...t){let n=setTimeout(r,e,...t);return{dispose:()=>clearTimeout(n)}},setImmediate(r,...e){let t=setImmediate(r,...e);return{dispose:()=>clearImmediate(t)}},setInterval(r,e,...t){let n=setInterval(r,e,...t);return{dispose:()=>clearInterval(n)}}})});function Bhe(){return YVe}(function(r){function e(){DC.RAL.install(YVe)}r.install=e})(Bhe||(Bhe={}));Whe.default=Bhe});var hR=C(Fo=>{"use strict";var tUt=Fo&&Fo.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),rUt=Fo&&Fo.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&tUt(e,r,t)};Object.defineProperty(Fo,"__esModule",{value:!0});Fo.createMessageConnection=Fo.createServerSocketTransport=Fo.createClientSocketTransport=Fo.createServerPipeTransport=Fo.createClientPipeTransport=Fo.generateRandomPipeName=Fo.StreamMessageWriter=Fo.StreamMessageReader=Fo.SocketMessageWriter=Fo.SocketMessageReader=Fo.PortMessageWriter=Fo.PortMessageReader=Fo.IPCMessageWriter=Fo.IPCMessageReader=void 0;var Ik=JVe();Ik.default.install();var XVe=require("path"),nUt=require("os"),iUt=require("crypto"),W5=require("net"),Wg=z5();rUt(z5(),Fo);var $he=class extends Wg.AbstractMessageReader{constructor(e){super(),this.process=e;let t=this.process;t.on("error",n=>this.fireError(n)),t.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),Wg.Disposable.create(()=>this.process.off("message",e))}};Fo.IPCMessageReader=$he;var Vhe=class extends Wg.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let t=this.process;t.on("error",n=>this.fireError(n)),t.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,t=>{t?(this.errorCount++,this.handleError(t,e)):this.errorCount=0}),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}};Fo.IPCMessageWriter=Vhe;var Ghe=class extends Wg.AbstractMessageReader{constructor(e){super(),this.onData=new Wg.Emitter,e.on("close",()=>this.fireClose),e.on("error",t=>this.fireError(t)),e.on("message",t=>{this.onData.fire(t)})}listen(e){return this.onData.event(e)}};Fo.PortMessageReader=Ghe;var Khe=class extends Wg.AbstractMessageWriter{constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",()=>this.fireClose()),e.on("error",t=>this.fireError(t))}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}};Fo.PortMessageWriter=Khe;var dR=class extends Wg.ReadableStreamMessageReader{constructor(e,t="utf-8"){super((0,Ik.default)().stream.asReadableStream(e),t)}};Fo.SocketMessageReader=dR;var fR=class extends Wg.WriteableStreamMessageWriter{constructor(e,t){super((0,Ik.default)().stream.asWritableStream(e),t),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};Fo.SocketMessageWriter=fR;var H5=class extends Wg.ReadableStreamMessageReader{constructor(e,t){super((0,Ik.default)().stream.asReadableStream(e),t)}};Fo.StreamMessageReader=H5;var B5=class extends Wg.WriteableStreamMessageWriter{constructor(e,t){super((0,Ik.default)().stream.asWritableStream(e),t)}};Fo.StreamMessageWriter=B5;var QVe=process.env.XDG_RUNTIME_DIR,oUt=new Map([["linux",107],["darwin",103]]);function sUt(){let r=(0,iUt.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${r}-sock`;let e;QVe?e=XVe.join(QVe,`vscode-ipc-${r}.sock`):e=XVe.join(nUt.tmpdir(),`vscode-${r}.sock`);let t=oUt.get(process.platform);return t!==void 0&&e.length>t&&(0,Ik.default)().console.warn(`WARNING: IPC handle "${e}" is longer than ${t} characters.`),e}Fo.generateRandomPipeName=sUt;function aUt(r,e="utf-8"){let t,n=new Promise((i,o)=>{t=i});return new Promise((i,o)=>{let s=(0,W5.createServer)(a=>{s.close(),t([new dR(a,e),new fR(a,e)])});s.on("error",o),s.listen(r,()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}Fo.createClientPipeTransport=aUt;function cUt(r,e="utf-8"){let t=(0,W5.createConnection)(r);return[new dR(t,e),new fR(t,e)]}Fo.createServerPipeTransport=cUt;function uUt(r,e="utf-8"){let t,n=new Promise((i,o)=>{t=i});return new Promise((i,o)=>{let s=(0,W5.createServer)(a=>{s.close(),t([new dR(a,e),new fR(a,e)])});s.on("error",o),s.listen(r,"127.0.0.1",()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}Fo.createClientSocketTransport=uUt;function lUt(r,e="utf-8"){let t=(0,W5.createConnection)(r,"127.0.0.1");return[new dR(t,e),new fR(t,e)]}Fo.createServerSocketTransport=lUt;function dUt(r){let e=r;return e.read!==void 0&&e.addListener!==void 0}function fUt(r){let e=r;return e.write!==void 0&&e.addListener!==void 0}function hUt(r,e,t,n){t||(t=Wg.NullLogger);let i=dUt(r)?new H5(r):r,o=fUt(e)?new B5(e):e;return Wg.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,Wg.createMessageConnection)(i,o,t,n)}Fo.createMessageConnection=hUt});var e4e=C((Pvr,ZVe)=>{"use strict";ZVe.exports=hR()});var jq=C(qq=>{"use strict";Object.defineProperty(qq,"__esModule",{value:!0});qq.ServiceMoniker=void 0;var pUt;(function(r){function e(o,s){if(!o||o==="")throw new Error("name cannot be empty.");return Object.freeze({name:o,version:s,toString:i})}r.create=e;function t(o,s){return o===s?!0:!o||!s?!1:o.name===s.name&&o.version===s.version}r.equals=t;function n(o){return o.version?`${o.name} (${o.version})`:o.name}r.toString=n;function i(){return n(this)}})(pUt=qq.ServiceMoniker||(qq.ServiceMoniker={}))});var Xhe=C(zD=>{"use strict";var mUt=zD&&zD.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(zD,"__esModule",{value:!0});zD.RpcConnection=zD.ServiceRpcDescriptor=void 0;var gUt=mUt(require("assert")),Yhe=class{moniker;constructor(e){this.moniker=e,(0,gUt.default)(e)}constructRpc(e,t){let n;if(t?n=e:t=e,t===void 0)throw new Error("No pipe supplied.");let i=this.constructRpcConnection(t);n!==void 0&&i.addLocalRpcTarget(n);let o=i.constructRpcClient();return i.startListening(),o}};zD.ServiceRpcDescriptor=Yhe;var Jhe=class{static IsRpcEventServer(e){return e.rpcEventNames&&e.on}};zD.RpcConnection=Jhe});var r4e=C(zq=>{"use strict";var vUt=zq&&zq.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(zq,"__esModule",{value:!0});var t4e=function(){},Qhe=function(){function r(e,t){this._isCancelled=e,this.canBeCancelled=t,this._callbacks=new Set}return Object.defineProperty(r.prototype,"isCancelled",{get:function(){return this._isCancelled},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"reason",{get:function(){if(this.isCancelled)return this._reason;throw new Error("This token is not cancelled.")},enumerable:!1,configurable:!0}),r.prototype.racePromise=function(e){var t=this;return this.canBeCancelled?new Promise(function(n,i){var o=t.onCancelled(function(s){return i(new r.CancellationError(s))});e.then(function(s){n(s),o()},function(s){i(s),o()})}):e},r.prototype.throwIfCancelled=function(){if(this._isCancelled)throw new r.CancellationError(this._reason)},r.prototype.onCancelled=function(e){var t=this,n;return this.canBeCancelled?this.isCancelled?(e(this.reason),t4e):((n=this._callbacks)===null||n===void 0||n.add(e),function(){var i;return(i=t._callbacks)===null||i===void 0?void 0:i.delete(e)}):t4e},r.create=function(){var e=new r(!1,!0),t=function(n){var i;e._isCancelled||(e._isCancelled=!0,e._reason=n,(i=e._callbacks)===null||i===void 0||i.forEach(function(o){return o(n)}),delete e._callbacks)};return{token:e,cancel:t}},r.timeout=function(e){var t=r.create(),n=t.token,i=t.cancel,o=setTimeout(function(){return i(r.timeout)},e),s=function(a){n._isCancelled||(clearTimeout(o),i(a))};return{token:n,cancel:s}},r.all=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.some(function(s){return!s.canBeCancelled}))return r.CONTINUE;var n=r.create(),i=e.length,o=function(){if(--i===0){var s=e.map(function(a){return a._reason});n.cancel(s)}};return e.forEach(function(s){return s.onCancelled(o)}),n.token},r.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,i=e;n<i.length;n++){var o=i[n];if(o._isCancelled)return o}var s=r.create(),a,c=function(u){a.forEach(function(l){return l()}),s.cancel(u)};return a=e.map(function(u){return u.onCancelled(c)}),s.token},r.CANCELLED=new r(!0,!0),r.CONTINUE=new r(!1,!1),r}();(function(r){var e=function(t){vUt(n,t);function n(i){var o=t.call(this,"Operation cancelled")||this;return o.reason=i,Object.setPrototypeOf(o,n.prototype),o}return n}(Error);r.CancellationError=e})(Qhe||(Qhe={}));zq.default=Qhe});var UD=C(Zhe=>{"use strict";Object.defineProperty(Zhe,"__esModule",{value:!0});var yUt=r4e();Zhe.default=yUt.default});var n4e=C(kk=>{"use strict";var _Ut=kk&&kk.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(kk,"__esModule",{value:!0});kk.CancellationTokenAdapters=void 0;var epe=_Ut(UD()),Uq=hR();function bUt(r){return r&&r.ImAProxy!==void 0}var tpe=class{static isVSCode(e){return Uq.CancellationToken.is(e)}static isCancellationToken(e){return e&&!bUt(e)&&typeof e.throwIfCancelled=="function"&&typeof e.onCancelled=="function"&&e.isCancelled!==void 0&&e.canBeCancelled!==void 0}static vscodeToCancellationToken(e){if(e.isCancellationRequested)return epe.default.CANCELLED;if(e===Uq.CancellationToken.None)return epe.default.CONTINUE;{let t=epe.default.create();return e.onCancellationRequested(n=>t.cancel()),t.token}}static cancellationTokenToVSCode(e){if(e.isCancelled)return Uq.CancellationToken.Cancelled;if(e.canBeCancelled){let t=new Uq.CancellationTokenSource;return e.onCancelled(n=>t.cancel()),t.token}else return Uq.CancellationToken.None}};kk.CancellationTokenAdapters=tpe});var rpe=C(Lk=>{"use strict";Object.defineProperty(Lk,"__esModule",{value:!0});Lk.registerInstanceMethodsAsRpcTargets=Lk.invokeRpc=void 0;var Ak=hR(),V5=n4e(),pR=G5();async function wUt(r,e,t){if(e.length>0){if(Ak.CancellationToken.is(e[e.length-1])){let i=e[e.length-1],o=$5(t,Array.prototype.slice.call(e,0,e.length-1));return t.sendRequest(r,Ak.ParameterStructures.byPosition,...o,i)}else if(V5.CancellationTokenAdapters.isCancellationToken(e[e.length-1])){let i=V5.CancellationTokenAdapters.cancellationTokenToVSCode(e[e.length-1]),o=$5(t,Array.prototype.slice.call(e,0,e.length-1));return t.sendRequest(r,Ak.ParameterStructures.byPosition,...o,i)}else if(e[e.length-1]===void 0){let i=$5(t,Array.prototype.slice.call(e,0,e.length-1));return t.sendRequest(r,Ak.ParameterStructures.byPosition,...i)}}let n=$5(t,Array.prototype.slice.call(e));try{let i=await t.sendRequest(r,Ak.ParameterStructures.byPosition,...n);return PUt(t,i)}catch(i){for(let o of n)pR.IJsonRpcMarshaledObject.is(o)&&pR.IJsonRpcMarshaledObject.cancelWrap(o,t);throw i}}Lk.invokeRpc=wUt;function $5(r,e){return CUt(e).map(t=>o4e(r,t))}async function SUt(r,e){let t=await e;return o4e(r,t)}function o4e(r,e){return pR.RpcMarshalable.is(e)||pR.MarshaledObjectProxy.is(e)?pR.IJsonRpcMarshaledObject.wrap(e,r):e}function CUt(r){for(let e=0;e<r.length;e++)if(r[e]===void 0)throw new Error(`Argument at 0-based index ${e} is set as undefined, which is not a valid JSON value.`);return r}function TUt(r,e){let t=Object.getOwnPropertyDescriptor(r,e);return!!t&&typeof t.value=="function"}function DUt(r,e){let t=[],n=Object.getPrototypeOf(r);for(;n&&n!==e;)Object.getOwnPropertyNames(n).forEach(i=>{i!=="constructor"&&TUt(n,i)&&t.push(i)}),n=Object.getPrototypeOf(n);return t}function EUt(r){if(r.length>0&&V5.CancellationTokenAdapters.isVSCode(r[r.length-1])){let e=V5.CancellationTokenAdapters.vscodeToCancellationToken(r[r.length-1]);r[r.length-1]=e}return r}function RUt(r,e){return pR.IJsonRpcMarshaledObject.is(e)?pR.IJsonRpcMarshaledObject.unwrap(e,r):e}function s4e(r,e){return RUt(r,e)}function i4e(r,e){return EUt(e).map(t=>s4e(r,t))}function PUt(r,e){return s4e(r,e)}function xUt(r,e,t){let n=[];function i(o,s){let a=t?t(o):o;n.push(e.onRequest(a,(...c)=>SUt(e,s.apply(r,i4e(e,c))))),n.push(e.onNotification(a,(...c)=>s.apply(r,i4e(e,c))))}return DUt(r,Object.prototype).forEach(o=>{if(o!=="dispose"){let s=r[o];i(o,s);let a="Async",c=o.endsWith(a)?o.substring(0,o.length-a.length):`${o}${a}`;i(c,s)}}),Ak.Disposable.create(()=>n.forEach(o=>o.dispose()))}Lk.registerInstanceMethodsAsRpcTargets=xUt});var G5=C($g=>{"use strict";Object.defineProperty($g,"__esModule",{value:!0});$g.IJsonRpcMarshaledObject=$g.MarshaledObjectProxy=$g.RpcMarshalable=$g.registerReleaseMarshaledObjectCallback=void 0;var OUt=hR(),a4e=rpe(),c4e="$/releaseMarshaledObject";function IUt(r){r.onNotification(c4e,e=>{let t=Array.isArray(e)?{handle:e[0],ownedBySender:e[1]}:e,n=r;n._marshaledObjectTracker&&(t.ownedBySender?n._marshaledObjectTracker.theirsByHandle:n._marshaledObjectTracker.ownByHandle)[t.handle]?.dispose()})}$g.registerReleaseMarshaledObjectCallback=IUt;function u4e(r,e,t){return t===void 0?`$/invokeProxy/${r}/${e}`:`$/invokeProxy/${r}/${t}.${e}`}var kUt;(function(r){function e(t){return typeof t?._jsonRpcMarshalableLifetime=="string"}r.is=e})(kUt=$g.RpcMarshalable||($g.RpcMarshalable={}));var l4e;(function(r){function e(t){return typeof t?._jsonrpcMarshaledHandle=="number"}r.is=e})(l4e=$g.MarshaledObjectProxy||($g.MarshaledObjectProxy={}));var AUt={get:(r,e)=>{switch(e.toString()){case"dispose":return r.dispose;case"_jsonrpcMarshaledHandle":return r._jsonrpcMarshaledHandle;case"then":return;case"toJSON":return;default:return function(){let t=u4e(r._jsonrpcMarshaledHandle,e.toString());return(0,a4e.invokeRpc)(t,arguments,r.messageConnection)}}}};function npe(r){let e=r;return e._marshaledObjectTracker??={counter:0,ownByHandle:{},theirsByHandle:{},ownTrackedObjectHandles:new WeakMap},e._marshaledObjectTracker}var LUt;(function(r){function e(o){let s=o;return typeof s?.__jsonrpc_marshaled=="number"&&typeof s.handle=="number"}r.is=e;function t(o,s){let a=npe(s);if(l4e.is(o))return{__jsonrpc_marshaled:0,handle:o._jsonrpcMarshaledHandle};{if(o._jsonRpcMarshalableLifetime==="call")throw new Error("Receiving marshaled objects scoped to the lifetime of a single RPC request is not yet supported.");let c=a.ownTrackedObjectHandles.has(o),u=c?a.ownTrackedObjectHandles.get(o):++a.counter;if(!c){a.ownTrackedObjectHandles.set(o,u);let l=(0,a4e.registerInstanceMethodsAsRpcTargets)(o,s,d=>u4e(u,d));a.ownByHandle[u]={target:o,dispose:()=>{l.dispose(),delete a.ownByHandle[u],a.ownTrackedObjectHandles.delete(o),"dispose"in o&&typeof o.dispose=="function"&&o.dispose()}}}return{__jsonrpc_marshaled:1,handle:u,lifetime:o._jsonRpcMarshalableLifetime,optionalInterfaces:o._jsonRpcOptionalInterfaces}}}r.wrap=t;function n(o,s){npe(s).ownByHandle[o.handle]?.dispose()}r.cancelWrap=n;function i(o,s){if(o.lifetime==="call")throw new Error("Receiving marshaled objects scoped to the lifetime of a single RPC request is not yet supported.");let a=npe(s);switch(o.__jsonrpc_marshaled){case 1:let c=a.theirsByHandle[o.handle]?.proxy;if(!c){let l={messageConnection:s,_jsonrpcMarshaledHandle:o.handle,dispose:()=>{if(a.theirsByHandle[o.handle]){delete a.theirsByHandle[o.handle];let d={handle:o.handle,ownedBySender:!1};s.sendNotification(c4e,OUt.ParameterStructures.byName,d)}}};c=new Proxy(l,AUt),a.theirsByHandle[o.handle]={proxy:c,dispose:()=>{delete a.theirsByHandle[o.handle]}}}return c;case 0:let u=a.ownByHandle[o.handle];if(!u)throw new Error(`Unrecognized handle ${o.handle}`);return u.target;default:throw new Error(`Unsupported value for __jsonrpc_marshaled: ${o.__jsonrpc_marshaled}.`)}}r.unwrap=i})(LUt=$g.IJsonRpcMarshaledObject||($g.IJsonRpcMarshaledObject={}))});var ipe=C(cy=>{"use strict";var MUt=cy&&cy.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(cy,"__esModule",{value:!0});cy.isChannel=cy.clone=cy.isReadWriteStream=cy.constructMessageConnection=void 0;var NUt=MUt(require("assert")),FUt=G5();function qUt(r,e){(0,NUt.default)(r);let t;return d4e(r)?(t=e(r),r.on("close",()=>{t?.dispose()}),t.onDispose(()=>r.end()),t.onClose(()=>r.end())):(t=e(r.stream),r.completion.then(()=>{t?.dispose()}),t.onDispose(()=>r.dispose()),t.onClose(()=>r.dispose())),(0,FUt.registerReleaseMarshaledObjectCallback)(t),t}cy.constructMessageConnection=qUt;function d4e(r){return r&&"unshift"in r}cy.isReadWriteStream=d4e;function jUt(r){var e=r.constructor();for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t]);return e}cy.clone=jUt;function zUt(r){return r&&"stream"in r&&"acceptance"in r&&"completion"in r&&"dispose"in r}cy.isChannel=zUt});var ape=C(spe=>{"use strict";var K5=class{constructor(e){this.tasks=[],this.count=e}sched(){if(this.count>0&&this.tasks.length>0){this.count--;let e=this.tasks.shift();if(e===void 0)throw"Unexpected undefined value in tasks list";e()}}acquire(){return new Promise((e,t)=>{var n=()=>{var i=!1;e(()=>{i||(i=!0,this.count++,this.sched())})};this.tasks.push(n),process&&process.nextTick?process.nextTick(this.sched.bind(this)):setImmediate(this.sched.bind(this))})}use(e){return this.acquire().then(t=>e().then(n=>(t(),n)).catch(n=>{throw t(),n}))}};spe.Semaphore=K5;var ope=class extends K5{constructor(){super(1)}};spe.Mutex=ope});var Hq=C(Y5=>{"use strict";Object.defineProperty(Y5,"__esModule",{value:!0});Y5.Deferred=void 0;var cpe=class{constructor(e){this.state=e,this._isResolved=!1,this._isRejected=!1,this.promise=new Promise((t,n)=>{this.resolvePromise=t,this.rejectPromise=n})}get isCompleted(){return this._isResolved||this._isRejected}get isResolved(){return this._isResolved}get isRejected(){return this._isRejected}get error(){return this._error}resolve(e){return this.isCompleted?!1:(this.resolvePromise(e),this._isResolved=!0,!0)}reject(e){return this.isCompleted?!1:(this.rejectPromise(e),this._error=e,this._isRejected=!0,!0)}};Y5.Deferred=cpe});var Mk=C(Ph=>{"use strict";Object.defineProperty(Ph,"__esModule",{value:!0});Ph.removeFromQueue=Ph.requireInteger=Ph.throwIfDisposed=Ph.getBufferFrom=Ph.readSubstream=Ph.writeSubstream=Ph.writeAsync=void 0;var h4e=require("stream"),f4e=Hq();async function upe(r,e){return new Promise((t,n)=>{r.write(e,i=>{i?n(i):t()})})}Ph.writeAsync=upe;function UUt(r){return new h4e.Writable({async write(e,t,n){try{let i=new DataView(new ArrayBuffer(4));i.setUint32(0,e.length,!1),await upe(r,Buffer.from(i.buffer)),await upe(r,e),n()}catch(i){n(i)}},final(e){r.write(new Uint8Array(4),e)}})}Ph.writeSubstream=UUt;function HUt(r){return new h4e.Readable({async read(e){let t=await lpe(r,4),i=new DataView(t.buffer,t.byteOffset,t.length).getUint32(0,!1);if(i===0){this.push(null);return}let o=await lpe(r,i);this.push(o)}})}Ph.readSubstream=HUt;async function lpe(r,e,t=!1,n){let i=new f4e.Deferred;if(e===0)return Buffer.from([]);let o=null,s=0;for(;e>0;){n?.throwIfCancelled();let a=r.readableLength;if(a)a>e&&(a=e);else{if(r.readableEnded||i.isCompleted){if(!t)throw new Error("Stream terminated before required bytes were read.");return o===null?null:o.subarray(0,s)}a=e}let c=r.read(a);if(c){if(c.length<a&&!t)throw new Error("Stream terminated before required bytes were read.");if(o===null){if(a===e||c.length<a)return c;o=Buffer.alloc(e)}c.copy(o,s),e-=c.length,s+=c.length}if(e>0){let u=new f4e.Deferred,l=u.resolve.bind(u),d=i.resolve.bind(i);r.once("readable",l),r.once("end",d);try{let f=Promise.race([u.promise,i.promise]);await(n?n.racePromise(f):f)}finally{r.removeListener("readable",l),r.removeListener("end",d)}}}return o}Ph.getBufferFrom=lpe;function BUt(r){if(r.isDisposed)throw new Error("disposed")}Ph.throwIfDisposed=BUt;function WUt(r,e,t,n="signed"){if(!Number.isInteger(e))throw new Error(`${r} must be an integer.`);let i=t*8;n==="signed"&&i--;let o=Math.pow(2,i)-1,s=n==="signed"?-Math.pow(2,i):0;if(e>o||e<s)throw new Error(`${r} must be in the range ${s}-${o}.`)}Ph.requireInteger=WUt;function $Ut(r,e){if(e){let t=e.indexOf(r);t>=0&&e.splice(t,1)}}Ph.removeFromQueue=$Ut});var m4e=C(HD=>{"use strict";var VUt=HD&&HD.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(HD,"__esModule",{value:!0});HD.BE32MessageWriter=HD.BE32MessageReader=void 0;var dpe=hR(),GUt=VUt(UD()),p4e=require("stream"),KUt=ape(),J5=Mk(),fpe=class extends dpe.AbstractMessageReader{readable;decoder;constructor(e,t){super(),this.readable=e,this.decoder=t}listen(e){this.readable.on("error",n=>this.fireError(n));let t=GUt.default.create();return(async()=>{try{for(;;){let n=await(0,J5.getBufferFrom)(this.readable,4,!0,t.token);if(!n){this.fireClose();return}let i=n.readInt32BE(0),o=await(0,J5.getBufferFrom)(this.readable,i,!1,t.token),s=await this.decoder(o);e(s)}}catch(n){this.fireError(n)}})(),dpe.Disposable.create(()=>t.cancel())}};HD.BE32MessageReader=fpe;var hpe=class extends dpe.AbstractMessageWriter{writable;encoder;semaphore=new KUt.Semaphore(1);headerBuffer=Buffer.alloc(4);errorCount=0;constructor(e,t){super(),this.writable=e,this.encoder=t,e.on("error",n=>this.fireError([n,void 0,void 0])),e.once("close",()=>this.fireClose())}async write(e){await this.semaphore.use(async()=>{try{let t=await this.encoder(e);this.headerBuffer.writeInt32BE(t.byteLength,0),this.writable instanceof p4e.Writable&&this.writable.cork();let n=Promise.all([(0,J5.writeAsync)(this.writable,this.headerBuffer),(0,J5.writeAsync)(this.writable,t)]);this.writable instanceof p4e.Writable&&this.writable.uncork(),await n}catch(t){this.errorCount++,this.fireError([YUt(t),void 0,this.errorCount])}})}end(){this.writable.end()}};HD.BE32MessageWriter=hpe;function YUt(r){return r instanceof Error?r:new Error(`Writer received error. Reason: ${typeof r.message=="string"?r.message:"unknown"}`)}});var v4e=C((mpe,g4e)=>{g4e.exports=ppe(typeof Buffer<"u"&&Buffer)||ppe(mpe.Buffer)||ppe(typeof window<"u"&&window.Buffer)||mpe.Buffer;function ppe(r){return r&&r.isBuffer&&r}});var X5=C((Uvr,y4e)=>{var JUt={}.toString;y4e.exports=Array.isArray||function(r){return JUt.call(r)=="[object Array]"}});var w4e=C((Fk,b4e)=>{var Nk=Vg(),Fk=b4e.exports=_4e(0);Fk.alloc=_4e;Fk.concat=Nk.concat;Fk.from=XUt;function _4e(r){return new Array(r)}function XUt(r){if(!Nk.isBuffer(r)&&Nk.isView(r))r=Nk.Uint8Array.from(r);else if(Nk.isArrayBuffer(r))r=new Uint8Array(r);else{if(typeof r=="string")return Nk.from.call(Fk,r);if(typeof r=="number")throw new TypeError('"value" argument must not be a number')}return Array.prototype.slice.call(r)}});var T4e=C((jk,C4e)=>{var EC=Vg(),qk=EC.global,jk=C4e.exports=EC.hasBuffer?S4e(0):[];jk.alloc=EC.hasBuffer&&qk.alloc||S4e;jk.concat=EC.concat;jk.from=QUt;function S4e(r){return new qk(r)}function QUt(r){if(!EC.isBuffer(r)&&EC.isView(r))r=EC.Uint8Array.from(r);else if(EC.isArrayBuffer(r))r=new Uint8Array(r);else{if(typeof r=="string")return EC.from.call(jk,r);if(typeof r=="number")throw new TypeError('"value" argument must not be a number')}return qk.from&&qk.from.length!==1?qk.from(r):new qk(r)}});var R4e=C((zk,E4e)=>{var Q5=Vg(),zk=E4e.exports=Q5.hasArrayBuffer?D4e(0):[];zk.alloc=D4e;zk.concat=Q5.concat;zk.from=ZUt;function D4e(r){return new Uint8Array(r)}function ZUt(r){if(Q5.isView(r)){var e=r.byteOffset,t=r.byteLength;r=r.buffer,r.byteLength!==t&&(r.slice?r=r.slice(e,e+t):(r=new Uint8Array(r),r.byteLength!==t&&(r=Array.prototype.slice.call(r,e,e+t))))}else{if(typeof r=="string")return Q5.from.call(zk,r);if(typeof r=="number")throw new TypeError('"value" argument must not be a number')}return new Uint8Array(r)}});var P4e=C(Z5=>{Z5.copy=rHt;Z5.toString=tHt;Z5.write=eHt;function eHt(r,e){for(var t=this,n=e||(e|=0),i=r.length,o=0,s=0;s<i;)o=r.charCodeAt(s++),o<128?t[n++]=o:o<2048?(t[n++]=192|o>>>6,t[n++]=128|o&63):o<55296||o>57343?(t[n++]=224|o>>>12,t[n++]=128|o>>>6&63,t[n++]=128|o&63):(o=(o-55296<<10|r.charCodeAt(s++)-56320)+65536,t[n++]=240|o>>>18,t[n++]=128|o>>>12&63,t[n++]=128|o>>>6&63,t[n++]=128|o&63);return n-e}function tHt(r,e,t){var n=this,i=e|0;t||(t=n.length);for(var o="",s=0;i<t;){if(s=n[i++],s<128){o+=String.fromCharCode(s);continue}(s&224)===192?s=(s&31)<<6|n[i++]&63:(s&240)===224?s=(s&15)<<12|(n[i++]&63)<<6|n[i++]&63:(s&248)===240&&(s=(s&7)<<18|(n[i++]&63)<<12|(n[i++]&63)<<6|n[i++]&63),s>=65536?(s-=65536,o+=String.fromCharCode((s>>>10)+55296,(s&1023)+56320)):o+=String.fromCharCode(s)}return o}function rHt(r,e,t,n){var i;t||(t=0),!n&&n!==0&&(n=this.length),e||(e=0);var o=n-t;if(r===this&&t<e&&e<n)for(i=o-1;i>=0;i--)r[i+e]=this[i+t];else for(i=0;i<o;i++)r[i+e]=this[i+t];return o}});var eG=C(Bq=>{var gpe=P4e();Bq.copy=k4e;Bq.slice=A4e;Bq.toString=nHt;Bq.write=iHt("write");var BD=Vg(),x4e=BD.global,O4e=BD.hasBuffer&&"TYPED_ARRAY_SUPPORT"in x4e,I4e=O4e&&!x4e.TYPED_ARRAY_SUPPORT;function k4e(r,e,t,n){var i=BD.isBuffer(this),o=BD.isBuffer(r);if(i&&o)return this.copy(r,e,t,n);if(!I4e&&!i&&!o&&BD.isView(this)&&BD.isView(r)){var s=t||n!=null?A4e.call(this,t,n):this;return r.set(s,e),s.length}else return gpe.copy.call(this,r,e,t,n)}function A4e(r,e){var t=this.slice||!I4e&&this.subarray;if(t)return t.call(this,r,e);var n=BD.alloc.call(this,e-r);return k4e.call(this,n,0,r,e),n}function nHt(r,e,t){var n=!O4e&&BD.isBuffer(this)?this.toString:gpe.toString;return n.apply(this,arguments)}function iHt(r){return e;function e(){var t=this[r]||gpe[r];return t.apply(this,arguments)}}});var Vg=C(xh=>{var vpe=xh.global=v4e(),F4e=xh.hasBuffer=vpe&&!!vpe.isBuffer,_pe=xh.hasArrayBuffer=typeof ArrayBuffer<"u",oHt=xh.isArray=X5();xh.isArrayBuffer=_pe?dHt:wpe;var sHt=xh.isBuffer=F4e?vpe.isBuffer:wpe,aHt=xh.isView=_pe?ArrayBuffer.isView||j4e("ArrayBuffer","buffer"):wpe;xh.alloc=bpe;xh.concat=uHt;xh.from=cHt;var L4e=xh.Array=w4e(),M4e=xh.Buffer=T4e(),N4e=xh.Uint8Array=R4e(),ype=xh.prototype=eG();function cHt(r){return typeof r=="string"?fHt.call(this,r):q4e(this).from(r)}function bpe(r){return q4e(this).alloc(r)}function uHt(r,e){e||(e=0,Array.prototype.forEach.call(r,o));var t=this!==xh&&this||r[0],n=bpe.call(t,e),i=0;return Array.prototype.forEach.call(r,s),n;function o(a){e+=a.length}function s(a){i+=ype.copy.call(a,n,i)}}var lHt=j4e("ArrayBuffer");function dHt(r){return r instanceof ArrayBuffer||lHt(r)}function fHt(r){var e=r.length*3,t=bpe.call(this,e),n=ype.write.call(t,r);return e!==n&&(t=ype.slice.call(t,0,n)),t}function q4e(r){return sHt(r)?M4e:aHt(r)?N4e:oHt(r)?L4e:F4e?M4e:_pe?N4e:L4e}function wpe(){return!1}function j4e(r,e){return r="[object "+r+"]",function(t){return t!=null&&{}.toString.call(e?t[e]:t)===r}}});var tG=C(z4e=>{z4e.ExtBuffer=Spe;var hHt=Vg();function Spe(r,e){if(!(this instanceof Spe))return new Spe(r,e);this.buffer=hHt.from(r),this.type=e}});var H4e=C(U4e=>{U4e.setExtPackers=gHt;var rG=Vg(),pHt=rG.global,I_=rG.Uint8Array.from,Cpe,mHt={name:1,message:1,stack:1,columnNumber:1,fileName:1,lineNumber:1};function gHt(r){r.addExtPacker(14,Error,[mR,uy]),r.addExtPacker(1,EvalError,[mR,uy]),r.addExtPacker(2,RangeError,[mR,uy]),r.addExtPacker(3,ReferenceError,[mR,uy]),r.addExtPacker(4,SyntaxError,[mR,uy]),r.addExtPacker(5,TypeError,[mR,uy]),r.addExtPacker(6,URIError,[mR,uy]),r.addExtPacker(10,RegExp,[vHt,uy]),r.addExtPacker(11,Boolean,[Tpe,uy]),r.addExtPacker(12,String,[Tpe,uy]),r.addExtPacker(13,Date,[Number,uy]),r.addExtPacker(15,Number,[Tpe,uy]),typeof Uint8Array<"u"&&(r.addExtPacker(17,Int8Array,I_),r.addExtPacker(18,Uint8Array,I_),r.addExtPacker(19,Int16Array,I_),r.addExtPacker(20,Uint16Array,I_),r.addExtPacker(21,Int32Array,I_),r.addExtPacker(22,Uint32Array,I_),r.addExtPacker(23,Float32Array,I_),typeof Float64Array<"u"&&r.addExtPacker(24,Float64Array,I_),typeof Uint8ClampedArray<"u"&&r.addExtPacker(25,Uint8ClampedArray,I_),r.addExtPacker(26,ArrayBuffer,I_),r.addExtPacker(29,DataView,I_)),rG.hasBuffer&&r.addExtPacker(27,pHt,rG.from)}function uy(r){return Cpe||(Cpe=Dpe().encode),Cpe(r)}function Tpe(r){return r.valueOf()}function vHt(r){r=RegExp.prototype.toString.call(r).split("/"),r.shift();var e=[r.pop()];return e.unshift(r.join("/")),e}function mR(r){var e={};for(var t in mHt)e[t]=r[t];return e}});var nG=C(Wq=>{var yHt,_Ht,bHt,wHt;(function(r){var e="undefined",t=e!==typeof Buffer&&Buffer,n=e!==typeof Uint8Array&&Uint8Array,i=e!==typeof ArrayBuffer&&ArrayBuffer,o=[0,0,0,0,0,0,0,0],s=Array.isArray||pe,a=4294967296,c=16777216,u;yHt=l("Uint64BE",!0,!0),_Ht=l("Int64BE",!0,!1),bHt=l("Uint64LE",!1,!0),wHt=l("Int64LE",!1,!1);function l(ve,V,W){var ee=V?0:4,De=V?4:0,ae=V?0:3,ue=V?1:2,Fe=V?2:1,Me=V?3:0,ce=V?M:U,Ce=V?A:ne,be=$e.prototype,xe="is"+ve,Ne="_"+xe;return be.buffer=void 0,be.offset=0,be[Ne]=!0,be.toNumber=at,be.toString=tt,be.toJSON=at,be.toArray=d,t&&(be.toBuffer=f),n&&(be.toArrayBuffer=p),$e[xe]=Ct,r[ve]=$e,$e;function $e(zr,cr,xt,hr){return this instanceof $e?ze(this,zr,cr,xt,hr):new $e(zr,cr,xt,hr)}function Ct(zr){return!!(zr&&zr[Ne])}function ze(zr,cr,xt,hr,Mt){if(n&&i&&(cr instanceof i&&(cr=new n(cr)),hr instanceof i&&(hr=new n(hr))),!cr&&!xt&&!hr&&!u){zr.buffer=P(o,0);return}if(!_(cr,xt)){var nn=u||Array;Mt=xt,hr=cr,xt=0,cr=new nn(8)}zr.buffer=cr,zr.offset=xt|=0,e!==typeof hr&&(typeof hr=="string"?st(cr,xt,hr,Mt||10):_(hr,Mt)?D(cr,xt,hr,Mt):typeof Mt=="number"?(fr(cr,xt+ee,hr),fr(cr,xt+De,Mt)):hr>0?ce(cr,xt,hr):hr<0?Ce(cr,xt,hr):D(cr,xt,o,0))}function st(zr,cr,xt,hr){var Mt=0,nn=xt.length,ln=0,On=0;xt[0]==="-"&&Mt++;for(var Or=Mt;Mt<nn;){var Hn=parseInt(xt[Mt++],hr);if(!(Hn>=0))break;On=On*hr+Hn,ln=ln*hr+Math.floor(On/a),On%=a}Or&&(ln=~ln,On?On=a-On:ln++),fr(zr,cr+ee,ln),fr(zr,cr+De,On)}function at(){var zr=this.buffer,cr=this.offset,xt=Lr(zr,cr+ee),hr=Lr(zr,cr+De);return W||(xt|=0),xt?xt*a+hr:hr}function tt(zr){var cr=this.buffer,xt=this.offset,hr=Lr(cr,xt+ee),Mt=Lr(cr,xt+De),nn="",ln=!W&&hr&2147483648;for(ln&&(hr=~hr,Mt=a-Mt),zr=zr||10;;){var On=hr%zr*a+Mt;if(hr=Math.floor(hr/zr),Mt=Math.floor(On/zr),nn=(On%zr).toString(zr)+nn,!hr&&!Mt)break}return ln&&(nn="-"+nn),nn}function fr(zr,cr,xt){zr[cr+Me]=xt&255,xt=xt>>8,zr[cr+Fe]=xt&255,xt=xt>>8,zr[cr+ue]=xt&255,xt=xt>>8,zr[cr+ae]=xt&255}function Lr(zr,cr){return zr[cr+ae]*c+(zr[cr+ue]<<16)+(zr[cr+Fe]<<8)+zr[cr+Me]}}function d(ve){var V=this.buffer,W=this.offset;return u=null,ve!==!1&&W===0&&V.length===8&&s(V)?V:P(V,W)}function f(ve){var V=this.buffer,W=this.offset;if(u=t,ve!==!1&&W===0&&V.length===8&&Buffer.isBuffer(V))return V;var ee=new t(8);return D(ee,0,V,W),ee}function p(ve){var V=this.buffer,W=this.offset,ee=V.buffer;if(u=n,ve!==!1&&W===0&&ee instanceof i&&ee.byteLength===8)return ee;var De=new n(8);return D(De,0,V,W),De.buffer}function _(ve,V){var W=ve&&ve.length;return V|=0,W&&V+8<=W&&typeof ve[V]!="string"}function D(ve,V,W,ee){V|=0,ee|=0;for(var De=0;De<8;De++)ve[V++]=W[ee++]&255}function P(ve,V){return Array.prototype.slice.call(ve,V,V+8)}function M(ve,V,W){for(var ee=V+8;ee>V;)ve[--ee]=W&255,W/=256}function A(ve,V,W){var ee=V+8;for(W++;ee>V;)ve[--ee]=-W&255^255,W/=256}function U(ve,V,W){for(var ee=V+8;V<ee;)ve[V++]=W&255,W/=256}function ne(ve,V,W){var ee=V+8;for(W++;V<ee;)ve[V++]=-W&255^255,W/=256}function pe(ve){return!!ve&&Object.prototype.toString.call(ve)=="[object Array]"}})(typeof Wq=="object"&&typeof Wq.nodeName!="string"?Wq:Wq||{})});var Rpe=C(Epe=>{Epe.read=function(r,e,t,n,i){var o,s,a=i*8-n-1,c=(1<<a)-1,u=c>>1,l=-7,d=t?i-1:0,f=t?-1:1,p=r[e+d];for(d+=f,o=p&(1<<-l)-1,p>>=-l,l+=a;l>0;o=o*256+r[e+d],d+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=s*256+r[e+d],d+=f,l-=8);if(o===0)o=1-u;else{if(o===c)return s?NaN:(p?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-u}return(p?-1:1)*s*Math.pow(2,o-n)};Epe.write=function(r,e,t,n,i,o){var s,a,c,u=o*8-i-1,l=(1<<u)-1,d=l>>1,f=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,_=n?1:-1,D=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+d>=1?e+=f/c:e+=f*Math.pow(2,1-d),e*c>=2&&(s++,c/=2),s+d>=l?(a=0,s=l):s+d>=1?(a=(e*c-1)*Math.pow(2,i),s=s+d):(a=e*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;r[t+p]=a&255,p+=_,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;r[t+p]=s&255,p+=_,s/=256,u-=8);r[t+p-_]|=D*128}});var Ppe=C(B4e=>{var SHt=B4e.uint8=new Array(256);for($q=0;$q<=255;$q++)SHt[$q]=CHt($q);var $q;function CHt(r){return function(e){var t=e.reserve(1);e.buffer[t]=r}}});var e6e=C(Z4e=>{var $4e=Rpe(),V4e=nG(),THt=V4e.Uint64BE,DHt=V4e.Int64BE,G4e=Ppe().uint8,iG=Vg(),xc=iG.global,EHt=iG.hasBuffer&&"TYPED_ARRAY_SUPPORT"in xc,RHt=EHt&&!xc.TYPED_ARRAY_SUPPORT,W4e=iG.hasBuffer&&xc.prototype||{};Z4e.getWriteToken=PHt;function PHt(r){return r&&r.uint8array?xHt():RHt||iG.hasBuffer&&r&&r.safe?OHt():K4e()}function xHt(){var r=K4e();return r[202]=$s(202,4,X4e),r[203]=$s(203,8,Q4e),r}function K4e(){var r=G4e.slice();return r[196]=Vq(196),r[197]=gR(197),r[198]=vR(198),r[199]=Vq(199),r[200]=gR(200),r[201]=vR(201),r[202]=$s(202,4,W4e.writeFloatBE||X4e,!0),r[203]=$s(203,8,W4e.writeDoubleBE||Q4e,!0),r[204]=Vq(204),r[205]=gR(205),r[206]=vR(206),r[207]=$s(207,8,Y4e),r[208]=Vq(208),r[209]=gR(209),r[210]=vR(210),r[211]=$s(211,8,J4e),r[217]=Vq(217),r[218]=gR(218),r[219]=vR(219),r[220]=gR(220),r[221]=vR(221),r[222]=gR(222),r[223]=vR(223),r}function OHt(){var r=G4e.slice();return r[196]=$s(196,1,xc.prototype.writeUInt8),r[197]=$s(197,2,xc.prototype.writeUInt16BE),r[198]=$s(198,4,xc.prototype.writeUInt32BE),r[199]=$s(199,1,xc.prototype.writeUInt8),r[200]=$s(200,2,xc.prototype.writeUInt16BE),r[201]=$s(201,4,xc.prototype.writeUInt32BE),r[202]=$s(202,4,xc.prototype.writeFloatBE),r[203]=$s(203,8,xc.prototype.writeDoubleBE),r[204]=$s(204,1,xc.prototype.writeUInt8),r[205]=$s(205,2,xc.prototype.writeUInt16BE),r[206]=$s(206,4,xc.prototype.writeUInt32BE),r[207]=$s(207,8,Y4e),r[208]=$s(208,1,xc.prototype.writeInt8),r[209]=$s(209,2,xc.prototype.writeInt16BE),r[210]=$s(210,4,xc.prototype.writeInt32BE),r[211]=$s(211,8,J4e),r[217]=$s(217,1,xc.prototype.writeUInt8),r[218]=$s(218,2,xc.prototype.writeUInt16BE),r[219]=$s(219,4,xc.prototype.writeUInt32BE),r[220]=$s(220,2,xc.prototype.writeUInt16BE),r[221]=$s(221,4,xc.prototype.writeUInt32BE),r[222]=$s(222,2,xc.prototype.writeUInt16BE),r[223]=$s(223,4,xc.prototype.writeUInt32BE),r}function Vq(r){return function(e,t){var n=e.reserve(2),i=e.buffer;i[n++]=r,i[n]=t}}function gR(r){return function(e,t){var n=e.reserve(3),i=e.buffer;i[n++]=r,i[n++]=t>>>8,i[n]=t}}function vR(r){return function(e,t){var n=e.reserve(5),i=e.buffer;i[n++]=r,i[n++]=t>>>24,i[n++]=t>>>16,i[n++]=t>>>8,i[n]=t}}function $s(r,e,t,n){return function(i,o){var s=i.reserve(e+1);i.buffer[s++]=r,t.call(i.buffer,o,s,n)}}function Y4e(r,e){new THt(this,e,r)}function J4e(r,e){new DHt(this,e,r)}function X4e(r,e){$4e.write(this,r,e,!1,23,4)}function Q4e(r,e){$4e.write(this,r,e,!1,52,8)}});var o6e=C(i6e=>{var IHt=X5(),n6e=nG(),kHt=n6e.Uint64BE,AHt=n6e.Int64BE,t6e=Vg(),r6e=eG(),LHt=e6e(),MHt=Ppe().uint8,NHt=tG().ExtBuffer,FHt=typeof Uint8Array<"u",qHt=typeof Map<"u",Uk=[];Uk[1]=212;Uk[2]=213;Uk[4]=214;Uk[8]=215;Uk[16]=216;i6e.getWriteType=jHt;function jHt(r){var e=LHt.getWriteToken(r),t=r&&r.useraw,n=FHt&&r&&r.binarraybuffer,i=n?t6e.isArrayBuffer:t6e.isBuffer,o=n?pe:ne,s=qHt&&r&&r.usemap,a=s?W:V,c={boolean:u,function:A,number:l,object:t?M:P,string:D(t?_:p),symbol:A,undefined:A};return c;function u(De,ae){var ue=ae?195:194;e[ue](De,ae)}function l(De,ae){var ue=ae|0,Fe;if(ae!==ue){Fe=203,e[Fe](De,ae);return}else-32<=ue&&ue<=127?Fe=ue&255:0<=ue?Fe=ue<=255?204:ue<=65535?205:206:Fe=-128<=ue?208:-32768<=ue?209:210;e[Fe](De,ue)}function d(De,ae){var ue=207;e[ue](De,ae.toArray())}function f(De,ae){var ue=211;e[ue](De,ae.toArray())}function p(De){return De<32?1:De<=255?2:De<=65535?3:5}function _(De){return De<32?1:De<=65535?3:5}function D(De){return ae;function ae(ue,Fe){var Me=Fe.length,ce=5+Me*3;ue.offset=ue.reserve(ce);var Ce=ue.buffer,be=De(Me),xe=ue.offset+be;Me=r6e.write.call(Ce,Fe,xe);var Ne=De(Me);if(be!==Ne){var $e=xe+Ne-be,Ct=xe+Me;r6e.copy.call(Ce,Ce,$e,xe,Ct)}var ze=Ne===1?160+Me:Ne<=3?215+Ne:219;e[ze](ue,Me),ue.offset+=Me}}function P(De,ae){if(ae===null)return A(De,ae);if(i(ae))return o(De,ae);if(IHt(ae))return U(De,ae);if(kHt.isUint64BE(ae))return d(De,ae);if(AHt.isInt64BE(ae))return f(De,ae);var ue=De.codec.getExtPacker(ae);if(ue&&(ae=ue(ae)),ae instanceof NHt)return ve(De,ae);a(De,ae)}function M(De,ae){if(i(ae))return ee(De,ae);P(De,ae)}function A(De,ae){var ue=192;e[ue](De,ae)}function U(De,ae){var ue=ae.length,Fe=ue<16?144+ue:ue<=65535?220:221;e[Fe](De,ue);for(var Me=De.codec.encode,ce=0;ce<ue;ce++)Me(De,ae[ce])}function ne(De,ae){var ue=ae.length,Fe=ue<255?196:ue<=65535?197:198;e[Fe](De,ue),De.send(ae)}function pe(De,ae){ne(De,new Uint8Array(ae))}function ve(De,ae){var ue=ae.buffer,Fe=ue.length,Me=Uk[Fe]||(Fe<255?199:Fe<=65535?200:201);e[Me](De,Fe),MHt[ae.type](De),De.send(ue)}function V(De,ae){var ue=Object.keys(ae),Fe=ue.length,Me=Fe<16?128+Fe:Fe<=65535?222:223;e[Me](De,Fe);var ce=De.codec.encode;ue.forEach(function(Ce){ce(De,Ce),ce(De,ae[Ce])})}function W(De,ae){if(!(ae instanceof Map))return V(De,ae);var ue=ae.size,Fe=ue<16?128+ue:ue<=65535?222:223;e[Fe](De,ue);var Me=De.codec.encode;ae.forEach(function(ce,Ce,be){Me(De,Ce),Me(De,ce)})}function ee(De,ae){var ue=ae.length,Fe=ue<32?160+ue:ue<=65535?218:219;e[Fe](De,ue),De.send(ae)}}});var Kq=C(Gq=>{var zHt=X5();Gq.createCodec=s6e;Gq.install=HHt;Gq.filter=$Ht;var UHt=Vg();function Hk(r){if(!(this instanceof Hk))return new Hk(r);this.options=r,this.init()}Hk.prototype.init=function(){var r=this.options;return r&&r.uint8array&&(this.bufferish=UHt.Uint8Array),this};function HHt(r){for(var e in r)Hk.prototype[e]=BHt(Hk.prototype[e],r[e])}function BHt(r,e){return r&&e?t:r||e;function t(){return r.apply(this,arguments),e.apply(this,arguments)}}function WHt(r){return r=r.slice(),function(t){return r.reduce(e,t)};function e(t,n){return n(t)}}function $Ht(r){return zHt(r)?WHt(r):r}function s6e(r){return new Hk(r)}Gq.preset=s6e({preset:!0})});var oG=C(c6e=>{var VHt=tG().ExtBuffer,GHt=H4e(),KHt=o6e(),xpe=Kq();xpe.install({addExtPacker:JHt,getExtPacker:XHt,init:a6e});c6e.preset=a6e.call(xpe.preset);function YHt(r){var e=KHt.getWriteType(r);return t;function t(n,i){var o=e[typeof i];if(!o)throw new Error('Unsupported type "'+typeof i+'": '+i);o(n,i)}}function a6e(){var r=this.options;return this.encode=YHt(r),r&&r.preset&&GHt.setExtPackers(this),this}function JHt(r,e,t){t=xpe.filter(t);var n=e.name;if(n&&n!=="Object"){var i=this.extPackers||(this.extPackers={});i[n]=s}else{var o=this.extEncoderList||(this.extEncoderList=[]);o.unshift([e,s])}function s(a){return t&&(a=t(a)),new VHt(a,r)}}function XHt(r){var e=this.extPackers||(this.extPackers={}),t=r.constructor,n=t&&t.name&&e[t.name];if(n)return n;for(var i=this.extEncoderList||(this.extEncoderList=[]),o=i.length,s=0;s<o;s++){var a=i[s];if(t===a[0])return a[1]}}});var Ipe=C(Ope=>{Ope.FlexDecoder=Bk;Ope.FlexEncoder=Wk;var Yq=Vg(),QHt=2048,ZHt=65536,u6e="BUFFER_SHORTAGE";function Bk(){if(!(this instanceof Bk))return new Bk}function Wk(){if(!(this instanceof Wk))return new Wk}Bk.mixin=f6e(eBt());Bk.mixin(Bk.prototype);Wk.mixin=f6e(tBt());Wk.mixin(Wk.prototype);function eBt(){return{bufferish:Yq,write:r,fetch:nBt,flush:e,push:d6e,pull:iBt,read:l6e,reserve:t,offset:0};function r(n){var i=this.offset?Yq.prototype.slice.call(this.buffer,this.offset):this.buffer;this.buffer=i?n?this.bufferish.concat([i,n]):i:n,this.offset=0}function e(){for(;this.offset<this.buffer.length;){var n=this.offset,i;try{i=this.fetch()}catch(o){if(o&&o.message!=u6e)throw o;this.offset=n;break}this.push(i)}}function t(n){var i=this.offset,o=i+n;if(o>this.buffer.length)throw new Error(u6e);return this.offset=o,i}}function tBt(){return{bufferish:Yq,write:rBt,fetch:r,flush:e,push:d6e,pull:t,read:l6e,reserve:n,send:i,maxBufferSize:ZHt,minBufferSize:QHt,offset:0,start:0};function r(){var o=this.start;if(o<this.offset){var s=this.start=this.offset;return Yq.prototype.slice.call(this.buffer,o,s)}}function e(){for(;this.start<this.offset;){var o=this.fetch();o&&this.push(o)}}function t(){var o=this.buffers||(this.buffers=[]),s=o.length>1?this.bufferish.concat(o):o[0];return o.length=0,s}function n(o){var s=o|0;if(this.buffer){var a=this.buffer.length,c=this.offset|0,u=c+s;if(u<a)return this.offset=u,c;this.flush(),o=Math.max(o,Math.min(a*2,this.maxBufferSize))}return o=Math.max(o,this.minBufferSize),this.buffer=this.bufferish.alloc(o),this.start=0,this.offset=s,0}function i(o){var s=o.length;if(s>this.minBufferSize)this.flush(),this.push(o);else{var a=this.reserve(s);Yq.prototype.copy.call(o,this.buffer,a)}}}function rBt(){throw new Error("method not implemented: write()")}function nBt(){throw new Error("method not implemented: fetch()")}function l6e(){var r=this.buffers&&this.buffers.length;return r?(this.flush(),this.pull()):this.fetch()}function d6e(r){var e=this.buffers||(this.buffers=[]);e.push(r)}function iBt(){var r=this.buffers||(this.buffers=[]);return r.shift()}function f6e(r){return e;function e(t){for(var n in r)t[n]=r[n];return t}}});var sG=C(h6e=>{h6e.EncodeBuffer=$k;var oBt=oG().preset,sBt=Ipe().FlexEncoder;sBt.mixin($k.prototype);function $k(r){if(!(this instanceof $k))return new $k(r);if(r&&(this.options=r,r.codec)){var e=this.codec=r.codec;e.bufferish&&(this.bufferish=e.bufferish)}}$k.prototype.codec=oBt;$k.prototype.write=function(r){this.codec.encode(this,r)}});var Dpe=C(p6e=>{p6e.encode=cBt;var aBt=sG().EncodeBuffer;function cBt(r,e){var t=new aBt(e);return t.write(r),t.read()}});var v6e=C(g6e=>{g6e.setExtUnpackers=dBt;var m6e=Vg(),uBt=m6e.global,kpe,lBt={name:1,message:1,stack:1,columnNumber:1,fileName:1,lineNumber:1};function dBt(r){r.addExtUnpacker(14,[ly,yR(Error)]),r.addExtUnpacker(1,[ly,yR(EvalError)]),r.addExtUnpacker(2,[ly,yR(RangeError)]),r.addExtUnpacker(3,[ly,yR(ReferenceError)]),r.addExtUnpacker(4,[ly,yR(SyntaxError)]),r.addExtUnpacker(5,[ly,yR(TypeError)]),r.addExtUnpacker(6,[ly,yR(URIError)]),r.addExtUnpacker(10,[ly,fBt]),r.addExtUnpacker(11,[ly,Rp(Boolean)]),r.addExtUnpacker(12,[ly,Rp(String)]),r.addExtUnpacker(13,[ly,Rp(Date)]),r.addExtUnpacker(15,[ly,Rp(Number)]),typeof Uint8Array<"u"&&(r.addExtUnpacker(17,Rp(Int8Array)),r.addExtUnpacker(18,Rp(Uint8Array)),r.addExtUnpacker(19,[WD,Rp(Int16Array)]),r.addExtUnpacker(20,[WD,Rp(Uint16Array)]),r.addExtUnpacker(21,[WD,Rp(Int32Array)]),r.addExtUnpacker(22,[WD,Rp(Uint32Array)]),r.addExtUnpacker(23,[WD,Rp(Float32Array)]),typeof Float64Array<"u"&&r.addExtUnpacker(24,[WD,Rp(Float64Array)]),typeof Uint8ClampedArray<"u"&&r.addExtUnpacker(25,Rp(Uint8ClampedArray)),r.addExtUnpacker(26,WD),r.addExtUnpacker(29,[WD,Rp(DataView)])),m6e.hasBuffer&&r.addExtUnpacker(27,Rp(uBt))}function ly(r){return kpe||(kpe=Ape().decode),kpe(r)}function fBt(r){return RegExp.apply(null,r)}function yR(r){return function(e){var t=new r;for(var n in lBt)t[n]=e[n];return t}}function Rp(r){return function(e){return new r(e)}}function WD(r){return new Uint8Array(r).buffer}});var Npe=C(Mpe=>{var y6e=Rpe(),_6e=nG(),b6e=_6e.Uint64BE,w6e=_6e.Int64BE;Mpe.getReadFormat=mBt;Mpe.readUint8=S6e;var Lpe=Vg(),cG=eG(),hBt=typeof Map<"u",pBt=!0;function mBt(r){var e=Lpe.hasArrayBuffer&&r&&r.binarraybuffer,t=r&&r.int64,n=hBt&&r&&r.usemap,i={map:n?vBt:gBt,array:yBt,str:_Bt,bin:e?wBt:bBt,ext:SBt,uint8:S6e,uint16:TBt,uint32:EBt,uint64:aG(8,t?OBt:PBt),int8:CBt,int16:DBt,int32:RBt,int64:aG(8,t?IBt:xBt),float32:aG(4,kBt),float64:aG(8,ABt)};return i}function gBt(r,e){var t={},n,i=new Array(e),o=new Array(e),s=r.codec.decode;for(n=0;n<e;n++)i[n]=s(r),o[n]=s(r);for(n=0;n<e;n++)t[i[n]]=o[n];return t}function vBt(r,e){var t=new Map,n,i=new Array(e),o=new Array(e),s=r.codec.decode;for(n=0;n<e;n++)i[n]=s(r),o[n]=s(r);for(n=0;n<e;n++)t.set(i[n],o[n]);return t}function yBt(r,e){for(var t=new Array(e),n=r.codec.decode,i=0;i<e;i++)t[i]=n(r);return t}function _Bt(r,e){var t=r.reserve(e),n=t+e;return cG.toString.call(r.buffer,"utf-8",t,n)}function bBt(r,e){var t=r.reserve(e),n=t+e,i=cG.slice.call(r.buffer,t,n);return Lpe.from(i)}function wBt(r,e){var t=r.reserve(e),n=t+e,i=cG.slice.call(r.buffer,t,n);return Lpe.Uint8Array.from(i).buffer}function SBt(r,e){var t=r.reserve(e+1),n=r.buffer[t++],i=t+e,o=r.codec.getExtUnpacker(n);if(!o)throw new Error("Invalid ext type: "+(n&&"0x"+n.toString(16)));var s=cG.slice.call(r.buffer,t,i);return o(s)}function S6e(r){var e=r.reserve(1);return r.buffer[e]}function CBt(r){var e=r.reserve(1),t=r.buffer[e];return t&128?t-256:t}function TBt(r){var e=r.reserve(2),t=r.buffer;return t[e++]<<8|t[e]}function DBt(r){var e=r.reserve(2),t=r.buffer,n=t[e++]<<8|t[e];return n&32768?n-65536:n}function EBt(r){var e=r.reserve(4),t=r.buffer;return t[e++]*16777216+(t[e++]<<16)+(t[e++]<<8)+t[e]}function RBt(r){var e=r.reserve(4),t=r.buffer;return t[e++]<<24|t[e++]<<16|t[e++]<<8|t[e]}function aG(r,e){return function(t){var n=t.reserve(r);return e.call(t.buffer,n,pBt)}}function PBt(r){return new b6e(this,r).toNumber()}function xBt(r){return new w6e(this,r).toNumber()}function OBt(r){return new b6e(this,r)}function IBt(r){return new w6e(this,r)}function kBt(r){return y6e.read(this,r,!1,23,4)}function ABt(r){return y6e.read(this,r,!1,52,8)}});var D6e=C(T6e=>{var LBt=Npe();T6e.getReadToken=MBt;function MBt(r){var e=LBt.getReadFormat(r);return r&&r.useraw?NBt(e):C6e(e)}function C6e(r){var e,t=new Array(256);for(e=0;e<=127;e++)t[e]=Jq(e);for(e=128;e<=143;e++)t[e]=RC(e-128,r.map);for(e=144;e<=159;e++)t[e]=RC(e-144,r.array);for(e=160;e<=191;e++)t[e]=RC(e-160,r.str);for(t[192]=Jq(null),t[193]=null,t[194]=Jq(!1),t[195]=Jq(!0),t[196]=Gg(r.uint8,r.bin),t[197]=Gg(r.uint16,r.bin),t[198]=Gg(r.uint32,r.bin),t[199]=Gg(r.uint8,r.ext),t[200]=Gg(r.uint16,r.ext),t[201]=Gg(r.uint32,r.ext),t[202]=r.float32,t[203]=r.float64,t[204]=r.uint8,t[205]=r.uint16,t[206]=r.uint32,t[207]=r.uint64,t[208]=r.int8,t[209]=r.int16,t[210]=r.int32,t[211]=r.int64,t[212]=RC(1,r.ext),t[213]=RC(2,r.ext),t[214]=RC(4,r.ext),t[215]=RC(8,r.ext),t[216]=RC(16,r.ext),t[217]=Gg(r.uint8,r.str),t[218]=Gg(r.uint16,r.str),t[219]=Gg(r.uint32,r.str),t[220]=Gg(r.uint16,r.array),t[221]=Gg(r.uint32,r.array),t[222]=Gg(r.uint16,r.map),t[223]=Gg(r.uint32,r.map),e=224;e<=255;e++)t[e]=Jq(e-256);return t}function NBt(r){var e,t=C6e(r).slice();for(t[217]=t[196],t[218]=t[197],t[219]=t[198],e=160;e<=191;e++)t[e]=RC(e-160,r.bin);return t}function Jq(r){return function(){return r}}function Gg(r,e){return function(t){var n=r(t);return e(t,n)}}function RC(r,e){return function(t){return e(t,r)}}});var uG=C(R6e=>{var FBt=tG().ExtBuffer,qBt=v6e(),jBt=Npe().readUint8,zBt=D6e(),Fpe=Kq();Fpe.install({addExtUnpacker:HBt,getExtUnpacker:BBt,init:E6e});R6e.preset=E6e.call(Fpe.preset);function UBt(r){var e=zBt.getReadToken(r);return t;function t(n){var i=jBt(n),o=e[i];if(!o)throw new Error("Invalid type: "+(i&&"0x"+i.toString(16)));return o(n)}}function E6e(){var r=this.options;return this.decode=UBt(r),r&&r.preset&&qBt.setExtUnpackers(this),this}function HBt(r,e){var t=this.extUnpackers||(this.extUnpackers=[]);t[r]=Fpe.filter(e)}function BBt(r){var e=this.extUnpackers||(this.extUnpackers=[]);return e[r]||t;function t(n){return new FBt(n,r)}}});var lG=C(P6e=>{P6e.DecodeBuffer=Vk;var WBt=uG().preset,$Bt=Ipe().FlexDecoder;$Bt.mixin(Vk.prototype);function Vk(r){if(!(this instanceof Vk))return new Vk(r);if(r&&(this.options=r,r.codec)){var e=this.codec=r.codec;e.bufferish&&(this.bufferish=e.bufferish)}}Vk.prototype.codec=WBt;Vk.prototype.fetch=function(){return this.codec.decode(this)}});var Ape=C(x6e=>{x6e.decode=GBt;var VBt=lG().DecodeBuffer;function GBt(r,e){var t=new VBt(e);return t.write(r),t.read()}});var zpe=C((uyr,jpe)=>{function qpe(){if(!(this instanceof qpe))return new qpe}(function(r){typeof jpe<"u"&&(jpe.exports=r);var e="listeners",t={on:i,once:o,off:s,emit:a};n(r.prototype),r.mixin=n;function n(u){for(var l in t)u[l]=t[l];return u}function i(u,l){return c(this,u).push(l),this}function o(u,l){var d=this;return f.originalListener=l,c(d,u).push(f),d;function f(){s.call(d,u,f),l.apply(this,arguments)}}function s(u,l){var d=this,f;if(!arguments.length)delete d[e];else if(l){if(f=c(d,u,!0),f){if(f=f.filter(p),!f.length)return s.call(d,u);d[e][u]=f}}else if(f=d[e],f&&(delete f[u],!Object.keys(f).length))return s.call(d);return d;function p(_){return _!==l&&_.originalListener!==l}}function a(u,l){var d=this,f=c(d,u,!0);if(!f)return!1;var p=arguments.length;if(p===1)f.forEach(D);else if(p===2)f.forEach(P);else{var _=Array.prototype.slice.call(arguments,1);f.forEach(M)}return!!f.length;function D(A){A.call(d)}function P(A){A.call(d,l)}function M(A){A.apply(d,_)}}function c(u,l,d){if(!(d&&!u[e])){var f=u[e]||(u[e]={});return f[l]||(f[l]=[])}}})(qpe)});var k6e=C(I6e=>{I6e.Encoder=_R;var KBt=zpe(),O6e=sG().EncodeBuffer;function _R(r){if(!(this instanceof _R))return new _R(r);O6e.call(this,r)}_R.prototype=new O6e;KBt.mixin(_R.prototype);_R.prototype.encode=function(r){this.write(r),this.emit("data",this.read())};_R.prototype.end=function(r){arguments.length&&this.encode(r),this.flush(),this.emit("end")}});var M6e=C(L6e=>{L6e.Decoder=$D;var YBt=zpe(),A6e=lG().DecodeBuffer;function $D(r){if(!(this instanceof $D))return new $D(r);A6e.call(this,r)}$D.prototype=new A6e;YBt.mixin($D.prototype);$D.prototype.decode=function(r){arguments.length&&this.write(r),this.flush()};$D.prototype.push=function(r){this.emit("data",r)};$D.prototype.end=function(r){this.decode(r),this.emit("end")}});var q6e=C(F6e=>{F6e.createEncodeStream=Gk;var JBt=require("util"),N6e=require("stream").Transform,XBt=sG().EncodeBuffer;JBt.inherits(Gk,N6e);var QBt={objectMode:!0};function Gk(r){if(!(this instanceof Gk))return new Gk(r);r?r.objectMode=!0:r=QBt,N6e.call(this,r);var e=this,t=this.encoder=new XBt(r);t.push=function(n){e.push(n)}}Gk.prototype._transform=function(r,e,t){this.encoder.write(r),t&&t()};Gk.prototype._flush=function(r){this.encoder.flush(),r&&r()}});var U6e=C(z6e=>{z6e.createDecodeStream=Xq;var ZBt=require("util"),j6e=require("stream").Transform,eWt=lG().DecodeBuffer;ZBt.inherits(Xq,j6e);var tWt={objectMode:!0};function Xq(r){if(!(this instanceof Xq))return new Xq(r);r?r.objectMode=!0:r=tWt,j6e.call(this,r);var e=this,t=this.decoder=new eWt(r);t.push=function(n){e.push(n)}}Xq.prototype._transform=function(r,e,t){this.decoder.write(r),this.decoder.flush(),t&&t()}});var B6e=C(H6e=>{uG();oG();H6e.createCodec=Kq().createCodec});var $6e=C(W6e=>{uG();oG();W6e.codec={preset:Kq().preset}});var Upe=C(PC=>{PC.encode=Dpe().encode;PC.decode=Ape().decode;PC.Encoder=k6e().Encoder;PC.Decoder=M6e().Decoder;PC.createEncodeStream=q6e().createEncodeStream;PC.createDecodeStream=U6e().createDecodeStream;PC.createCodec=B6e().createCodec;PC.codec=$6e().codec});var Hpe=C(Qq=>{"use strict";Object.defineProperty(Qq,"__esModule",{value:!0});Qq.ControlCode=void 0;var rWt;(function(r){r[r.offer=0]="offer",r[r.offerAccepted=1]="offerAccepted",r[r.content=2]="content",r[r.contentWritingCompleted=3]="contentWritingCompleted",r[r.channelTerminated=4]="channelTerminated",r[r.contentProcessed=5]="contentProcessed"})(rWt=Qq.ControlCode||(Qq.ControlCode={}))});var fG=C(dG=>{"use strict";Object.defineProperty(dG,"__esModule",{value:!0});dG.FrameHeader=void 0;var nWt=Mk(),Bpe=class{constructor(e,t){this.code=e,t&&(0,nWt.requireInteger)("channelId",t.id,4,"signed"),this.code=e,this._channel=t}get channel(){return this._channel}get requiredChannel(){if(this.channel)return this.channel;throw new Error("Expected channel not present in frame header.")}flipChannelPerspective(){this._channel&&(this._channel={id:this._channel.id,source:this._channel.source*-1})}};dG.FrameHeader=Bpe});var Zq=C(VD=>{"use strict";Object.defineProperty(VD,"__esModule",{value:!0});VD.QualifiedChannelId=VD.ChannelSource=void 0;var hG;(function(r){r[r.Local=1]="Local",r[r.Remote=-1]="Remote",r[r.Seeded=0]="Seeded"})(hG=VD.ChannelSource||(VD.ChannelSource={}));var iWt;(function(r){function e(t){let n=t.source===hG.Local?"local":t.source===hG.Remote?"remote":t.source===hG.Seeded?"seeded":"unknown";return`${t.id} (${n})`}r.toString=e})(iWt=VD.QualifiedChannelId||(VD.QualifiedChannelId={}))});var K6e=C(hw=>{"use strict";Object.defineProperty(hw,"__esModule",{value:!0});hw.MultiplexingStreamV3Formatter=hw.MultiplexingStreamV2Formatter=hw.MultiplexingStreamV1Formatter=hw.MultiplexingStreamFormatter=void 0;var Wpe=gG(),oWt=require("crypto"),xC=Mk(),Kg=Upe(),V6e=Hq(),$pe=fG(),G6e=Zq(),OC=class{static getIsOddRandomData(){return(0,oWt.randomBytes)(16)}static isOdd(e,t){let n;for(let i=0;i<e.length;i++){let o=e[i],s=t[i];if(o>s){n=!0;break}else if(o<s){n=!1;break}}if(n===void 0)throw new Error("Unable to determine even/odd party.");return n}createFrameHeader(e,t){if(!t)return new $pe.FrameHeader(e);let i=t%2===1===this.isOdd?G6e.ChannelSource.Remote:G6e.ChannelSource.Local;return new $pe.FrameHeader(e,{id:t,source:i})}};hw.MultiplexingStreamFormatter=OC;var pG=class r extends OC{constructor(e){super(),this.stream=e}end(){this.stream.end()}async writeHandshakeAsync(){let e=OC.getIsOddRandomData(),t=Buffer.concat([r.protocolMagicNumber,e]);return await(0,xC.writeAsync)(this.stream,t),e}async readHandshakeAsync(e,t){let n=e,i=await(0,xC.getBufferFrom)(this.stream,r.protocolMagicNumber.length+16,!1,t);for(let s=0;s<r.protocolMagicNumber.length;s++){let a=r.protocolMagicNumber[s],c=i.readUInt8(s);if(a!==c)throw new Error(`Protocol magic number mismatch. Expected ${a} but was ${c}.`)}return{isOdd:OC.isOdd(n,i.slice(r.protocolMagicNumber.length)),protocolVersion:{major:1,minor:0}}}async writeFrameAsync(e,t){var n;let i=Buffer.alloc(7);i.writeInt8(e.code,0),i.writeUInt32BE(((n=e.channel)===null||n===void 0?void 0:n.id)||0,1),i.writeUInt16BE(t?.length||0,5),await(0,xC.writeAsync)(this.stream,i),t&&t.length>0&&await(0,xC.writeAsync)(this.stream,t)}async readFrameAsync(e){if(this.isOdd===void 0)throw new Error("isOdd must be set first.");let t=await(0,xC.getBufferFrom)(this.stream,7,!0,e);if(t===null)return null;let n=this.createFrameHeader(t.readInt8(0),t.readUInt32BE(1)),i=t.readUInt16BE(5),o=await(0,xC.getBufferFrom)(this.stream,i);return{header:n,payload:o}}serializeOfferParameters(e){let t=Buffer.from(e.name,Wpe.MultiplexingStream.ControlFrameEncoding);if(t.length>Wpe.MultiplexingStream.framePayloadMaxLength)throw new Error("Name is too long.");return t}deserializeOfferParameters(e){return{name:e.toString(Wpe.MultiplexingStream.ControlFrameEncoding)}}serializeAcceptanceParameters(e){return Buffer.from([])}deserializeAcceptanceParameters(e){return{}}serializeContentProcessed(e){throw new Error("Not supported in the V1 protocol.")}deserializeContentProcessed(e){throw new Error("Not supported in the V1 protocol.")}};hw.MultiplexingStreamV1Formatter=pG;pG.protocolMagicNumber=Buffer.from([47,223,29,80]);var e2=class r extends OC{constructor(e){super(),this.reader=Kg.createDecodeStream(),e.pipe(this.reader),this.writer=e}end(){this.writer.end()}async writeHandshakeAsync(){let e=OC.getIsOddRandomData(),t=[[r.protocolVersion.major,r.protocolVersion.minor],e];return await(0,xC.writeAsync)(this.writer,Kg.encode(t)),e}async readHandshakeAsync(e,t){if(!e)throw new Error("Provide the result of writeHandshakeAsync as a first argument.");let n=await this.readMessagePackAsync(t);if(n===null)throw new Error("No data received during handshake.");return{isOdd:OC.isOdd(e,n[1]),protocolVersion:{major:n[0][0],minor:n[0][1]}}}async writeFrameAsync(e,t){var n;let i=[e.code];if(!((n=e.channel)===null||n===void 0)&&n.id)i.push(e.channel.id),t&&t.length>0&&i.push(t);else if(t&&t.length>0)throw new Error("A frame may not contain payload without a channel ID.");await(0,xC.writeAsync)(this.writer,Kg.encode(i))}async readFrameAsync(e){if(this.isOdd===void 0)throw new Error("isOdd must be set first.");let t=await this.readMessagePackAsync(e);return t===null?null:{header:this.createFrameHeader(t[0],t[1]),payload:t[2]||Buffer.from([])}}serializeOfferParameters(e){let t=[e.name];return e.remoteWindowSize&&t.push(e.remoteWindowSize),Kg.encode(t)}deserializeOfferParameters(e){let t=Kg.decode(e);return{name:t[0],remoteWindowSize:t[1]}}serializeAcceptanceParameters(e){let t=[];return e.remoteWindowSize&&t.push(e.remoteWindowSize),Kg.encode(t)}deserializeAcceptanceParameters(e){return{remoteWindowSize:Kg.decode(e)[0]}}serializeContentProcessed(e){return Kg.encode([e])}deserializeContentProcessed(e){return Kg.decode(e)[0]}serializeException(e){if(!e)return Buffer.alloc(0);let n=[`${e.name}: ${e.message}`];return Kg.encode(n)}deserializeException(e){if(e.length===0)return null;let t=Kg.decode(e);if(!t||t.length===0)return null;let n=Kg.decode(e)[0];return n=`Received error from remote side: ${n}`,new Error(n)}async readMessagePackAsync(e){let t=new V6e.Deferred;for(;;){let n=this.reader.read();if(n===null){let i=new V6e.Deferred,o=i.resolve.bind(i),s=t.resolve.bind(t);this.reader.once("readable",o),this.reader.once("end",s);let a=Promise.race([i.promise,t.promise]);if(await(e?e.racePromise(a):a),this.reader.removeListener("readable",o),this.reader.removeListener("end",s),i.isCompleted)continue;return null}return n}}};hw.MultiplexingStreamV2Formatter=e2;e2.protocolVersion={major:2,minor:0};var mG=class r extends e2{writeHandshakeAsync(){return Promise.resolve(null)}readHandshakeAsync(){return Promise.resolve({protocolVersion:r.protocolV3Version})}async writeFrameAsync(e,t){let n=[e.code];if(e.channel)n.push(e.channel.id),n.push(e.channel.source),t&&t.length>0&&n.push(t);else if(t&&t.length>0)throw new Error("A frame may not contain payload without a channel ID.");await(0,xC.writeAsync)(this.writer,Kg.encode(n))}async readFrameAsync(e){let t=await this.readMessagePackAsync(e);return t===null?null:{header:new $pe.FrameHeader(t[0],t.length>1?{id:t[1],source:t[2]}:void 0),payload:t[3]||Buffer.from([])}}};hw.MultiplexingStreamV3Formatter=mG;mG.protocolV3Version={major:2,minor:0}});var J6e=C(Y6e=>{"use strict";Object.defineProperty(Y6e,"__esModule",{value:!0})});var vG=C((Syr,X6e)=>{"use strict";X6e.exports=(r=>e=>(e.catch(r),e))(()=>{})});var gG=C(Xk=>{"use strict";Object.defineProperty(Xk,"__esModule",{value:!0});Xk.MultiplexingStreamClass=Xk.MultiplexingStream=void 0;var sWt=ape(),Kk=UD(),aWt=require("events"),bG=Vpe(),dy=Hpe(),Q6e=Hq(),Jk=fG(),yG=K6e();J6e();var IC=Zq(),Yk=Mk(),_G=vG(),kC=class r{constructor(e,t,n){var i,o,s;if(this.formatter=e,this.isOdd=t,this._completionSource=new Q6e.Deferred,this.seededOpenChannels={},this.locallyOfferedOpenChannels={},this.remotelyOfferedOpenChannels={},this.channelsOfferedByThemByName={},this.acceptingChannels={},this.eventEmitter=new aWt.EventEmitter,this.disposalTokenSource=Kk.default.create(),this.defaultChannelReceivingWindowSize=(i=n.defaultChannelReceivingWindowSize)!==null&&i!==void 0?i:r.recommendedDefaultChannelReceivingWindowSize,this.protocolMajorVersion=(o=n.protocolMajorVersion)!==null&&o!==void 0?o:1,n.seededChannels)for(let a=0;a<n.seededChannels.length;a++){let c=n.seededChannels[a],u={id:a,source:IC.ChannelSource.Seeded};this.setOpenChannel(new bG.ChannelClass(this,u,{name:"",remoteWindowSize:(s=c.channelReceivingWindowSize)!==null&&s!==void 0?s:this.defaultChannelReceivingWindowSize}))}}get disposalToken(){return this.disposalTokenSource.token}get completion(){return this._completionSource.promise}get isDisposed(){return this.disposalTokenSource.token.isCancelled}static async CreateAsync(e,t,n=Kk.default.CONTINUE){var i;if(!e)throw new Error("stream must be specified.");if(t=t||{},(i=t.protocolMajorVersion)!==null&&i!==void 0||(t.protocolMajorVersion=1),t.defaultChannelReceivingWindowSize=t.defaultChannelReceivingWindowSize||r.recommendedDefaultChannelReceivingWindowSize,t.protocolMajorVersion<3&&t.seededChannels&&t.seededChannels.length>0)throw new Error("Seeded channels require v3 of the protocol at least.");let o=t.protocolMajorVersion===1?new yG.MultiplexingStreamV1Formatter(e):t.protocolMajorVersion===2?new yG.MultiplexingStreamV2Formatter(e):t.protocolMajorVersion===3?new yG.MultiplexingStreamV3Formatter(e):void 0;if(!o)throw new Error(`Protocol major version ${t.protocolMajorVersion} is not supported.`);let s=await o.writeHandshakeAsync(),a=await o.readHandshakeAsync(s,n);return o.isOdd=a.isOdd,new t2(o,a.isOdd,t)}static Create(e,t){var n;t??(t={protocolMajorVersion:3}),(n=t.protocolMajorVersion)!==null&&n!==void 0||(t.protocolMajorVersion=3);let i=t.protocolMajorVersion===3?new yG.MultiplexingStreamV3Formatter(e):void 0;if(!i)throw new Error(`Protocol major version ${t.protocolMajorVersion} is not supported. Try CreateAsync instead.`);return new t2(i,void 0,t)}createChannel(e){var t;let n={name:"",remoteWindowSize:(t=e?.channelReceivingWindowSize)!==null&&t!==void 0?t:this.defaultChannelReceivingWindowSize},i=this.formatter.serializeOfferParameters(n),o=new bG.ChannelClass(this,{id:this.getUnusedChannelId(),source:IC.ChannelSource.Local},n);return this.setOpenChannel(o),this.rejectOnFailure(this.sendFrameAsync(new Jk.FrameHeader(dy.ControlCode.offer,o.qualifiedId),i,this.disposalToken)),o}acceptChannel(e,t){let n=this.remotelyOfferedOpenChannels[e]||this.seededOpenChannels[e];if(!n)throw new Error("No channel with ID "+e);return this.removeChannelFromOfferedQueue(n),this.acceptChannelOrThrow(n,t),n}rejectChannel(e){let t=this.remotelyOfferedOpenChannels[e];if(t)(0,Yk.removeFromQueue)(t,this.channelsOfferedByThemByName[t.name]);else throw new Error("No channel with that ID found.");_G(t.acceptance),_G(t.completion),t.dispose()}async offerChannelAsync(e,t,n=Kk.default.CONTINUE){var i;if(e==null)throw new Error("Name must be specified (but may be empty).");n.throwIfCancelled(),(0,Yk.throwIfDisposed)(this);let o={name:e,remoteWindowSize:(i=t?.channelReceivingWindowSize)!==null&&i!==void 0?i:this.defaultChannelReceivingWindowSize},s=this.formatter.serializeOfferParameters(o),a=new bG.ChannelClass(this,{id:this.getUnusedChannelId(),source:IC.ChannelSource.Local},o);this.setOpenChannel(a);let c=new Jk.FrameHeader(dy.ControlCode.offer,a.qualifiedId),u=n.onCancelled(l=>this.offerChannelCanceled(a,l));try{return _G(a.acceptance),await this.sendFrameAsync(c,s,n),await a.acceptance,a}finally{u()}}async acceptChannelAsync(e,t,n=Kk.default.CONTINUE){if(e==null)throw new Error("Name must be specified (but may be empty).");n.throwIfCancelled(),(0,Yk.throwIfDisposed)(this);let i,o,s=this.channelsOfferedByThemByName[e];if(s){for(;i===void 0&&s.length>0;)if(i=s.shift(),i.isAccepted||i.isRejectedOrCanceled){i=void 0;continue}}if(i===void 0){let a=this.acceptingChannels[e];a||(this.acceptingChannels[e]=a=[]),o=new Q6e.Deferred(t),a.push(o)}if(i!==void 0)return this.acceptChannelOrThrow(i,t),i;{let a=n.onCancelled(c=>this.acceptChannelCanceled(o,e,c));try{return await o.promise}finally{a()}}}dispose(){this.disposalTokenSource.cancel(),this._completionSource.resolve(),this.formatter.end(),[this.locallyOfferedOpenChannels,this.remotelyOfferedOpenChannels].forEach(e=>{for(let t in e)if(e.hasOwnProperty(t)){let n=e[t];_G(n.acceptance),n.dispose()}})}on(e,t){this.eventEmitter.on(e,t)}off(e,t){this.eventEmitter.off(e,t)}once(e,t){this.eventEmitter.once(e,t)}raiseChannelOffered(e,t,n){let i={id:e,isAccepted:n,name:t};try{this.eventEmitter.emit("channelOffered",i)}catch(o){this._completionSource.reject(o)}}acceptChannelOrThrow(e,t){var n,i;if(e.tryAcceptOffer(t)){let o={remoteWindowSize:(i=(n=t?.channelReceivingWindowSize)!==null&&n!==void 0?n:e.localWindowSize)!==null&&i!==void 0?i:this.defaultChannelReceivingWindowSize};if(o.remoteWindowSize<this.defaultChannelReceivingWindowSize&&(o.remoteWindowSize=this.defaultChannelReceivingWindowSize),e.qualifiedId.source!==IC.ChannelSource.Seeded){let s=this.formatter.serializeAcceptanceParameters(o);this.rejectOnFailure(this.sendFrameAsync(new Jk.FrameHeader(dy.ControlCode.offerAccepted,e.qualifiedId),s,this.disposalToken))}}else throw e.isAccepted?new Error("Channel is already accepted."):e.isRejectedOrCanceled?new Error("Channel is no longer available for acceptance."):new Error("Channel could not be accepted.")}async rejectOnFailure(e){try{await e}catch(t){this._completionSource.reject(t)}}removeChannelFromOfferedQueue(e){e.name&&(0,Yk.removeFromQueue)(e,this.channelsOfferedByThemByName[e.name])}getOpenChannel(e){return this.getChannelCollection(e.source)[e.id]}setOpenChannel(e){this.getChannelCollection(e.qualifiedId.source)[e.qualifiedId.id]=e}deleteOpenChannel(e){delete this.getChannelCollection(e.source)[e.id]}getChannelCollection(e){switch(e){case IC.ChannelSource.Local:return this.locallyOfferedOpenChannels;case IC.ChannelSource.Remote:return this.remotelyOfferedOpenChannels;case IC.ChannelSource.Seeded:return this.seededOpenChannels}}acceptChannelCanceled(e,t,n){e.reject(new Kk.default.CancellationError(n))&&(0,Yk.removeFromQueue)(e,this.acceptingChannels[t])}offerChannelCanceled(e,t){e.tryCancelOffer(t)}getUnusedChannelId(){return this.lastOfferedChannelId+=this.isOdd!==void 0?2:1}};Xk.MultiplexingStream=kC;kC.framePayloadMaxLength=20*1024;kC.recommendedDefaultChannelReceivingWindowSize=5*kC.framePayloadMaxLength;kC.defaultChannelOptions={};kC.ControlFrameEncoding="utf-8";var t2=class extends kC{constructor(e,t,n){var i,o;super(e,t,n),this.sendingSemaphore=new sWt.Semaphore(1),this.lastOfferedChannelId=t?-1:0,this.lastOfferedChannelId+=(o=(i=n.seededChannels)===null||i===void 0?void 0:i.length)!==null&&o!==void 0?o:0,this.readFromStream(this.disposalToken).catch(s=>this._completionSource.reject(s))}get backpressureSupportEnabled(){return this.protocolMajorVersion>1}async sendFrameAsync(e,t,n=Kk.default.CONTINUE){if(!e)throw new Error("Header is required.");await this.sendingSemaphore.use(async()=>{n.throwIfCancelled(),(0,Yk.throwIfDisposed)(this),await this.formatter.writeFrameAsync(e,t)})}async sendFrame(e,t){try{if(this._completionSource.isCompleted)return;let n=new Jk.FrameHeader(e,t);await this.sendFrameAsync(n)}catch(n){this._completionSource.reject(n)}}onChannelWritingCompleted(e){!e.isDisposed&&this.getOpenChannel(e.qualifiedId)&&this.sendFrame(dy.ControlCode.contentWritingCompleted,e.qualifiedId)}async onChannelDisposed(e,t){if(!this._completionSource.isCompleted)try{let n=this.protocolMajorVersion>1&&t?this.formatter.serializeException(t):Buffer.alloc(0),i=new Jk.FrameHeader(dy.ControlCode.channelTerminated,e.qualifiedId);await this.sendFrameAsync(i,n)}catch(n){if(this.isDisposed)return;throw n}}localContentExamined(e,t){let n=this.formatter.serializeContentProcessed(t);this.rejectOnFailure(this.sendFrameAsync(new Jk.FrameHeader(dy.ControlCode.contentProcessed,e.qualifiedId),n))}async readFromStream(e){for(;!this.isDisposed;){let t=await this.formatter.readFrameAsync(e);if(t===null)break;switch(t.header.flipChannelPerspective(),t.header.code){case dy.ControlCode.offer:this.onOffer(t.header.requiredChannel,t.payload);break;case dy.ControlCode.offerAccepted:this.onOfferAccepted(t.header.requiredChannel,t.payload);break;case dy.ControlCode.content:this.onContent(t.header.requiredChannel,t.payload);break;case dy.ControlCode.contentProcessed:this.onContentProcessed(t.header.requiredChannel,t.payload);break;case dy.ControlCode.contentWritingCompleted:this.onContentWritingCompleted(t.header.requiredChannel);break;case dy.ControlCode.channelTerminated:this.onChannelTerminated(t.header.requiredChannel,t.payload);break;default:break}}this.dispose()}onOffer(e,t){let n=this.formatter.deserializeOfferParameters(t),i=new bG.ChannelClass(this,e,n),o=!1,s,a;if((a=this.acceptingChannels[n.name])!==void 0)for(;a.length>0;){let c=a.shift();if(c.resolve(i)){o=!0,s=c.state;break}}if(!o&&n.name){let c;(c=this.channelsOfferedByThemByName[n.name])||(this.channelsOfferedByThemByName[n.name]=c=[]),c.push(i)}this.setOpenChannel(i),o&&this.acceptChannelOrThrow(i,s),this.raiseChannelOffered(i.id,i.name,o)}onOfferAccepted(e,t){if(e.source!==IC.ChannelSource.Local)throw new Error("Remote party tried to accept a channel that they offered.");let n=this.formatter.deserializeAcceptanceParameters(t),i=this.getOpenChannel(e);if(!i)throw new Error(`Unexpected channel created with ID ${IC.QualifiedChannelId.toString(e)}`);i.onAccepted(n)}onContent(e,t){let n=this.getOpenChannel(e);if(!n)throw new Error(`No channel with id ${e} found.`);n.onContent(t)}onContentProcessed(e,t){let n=this.getOpenChannel(e);if(!n)throw new Error(`No channel with id ${e} found.`);let i=this.formatter.deserializeContentProcessed(t);n.onContentProcessed(i)}onContentWritingCompleted(e){let t=this.getOpenChannel(e);if(!t)throw new Error(`No channel with id ${e} found.`);t.onContent(null)}onChannelTerminated(e,t){let n=this.getOpenChannel(e);if(n){this.deleteOpenChannel(e),this.removeChannelFromOfferedQueue(n);let i=this.protocolMajorVersion>1?this.formatter.deserializeException(t):null;n.dispose(i)}}};Xk.MultiplexingStreamClass=t2});var Vpe=C(Qk=>{"use strict";Object.defineProperty(Qk,"__esModule",{value:!0});Qk.ChannelClass=Qk.Channel=void 0;var Z6e=UD(),cWt=require("stream"),uWt=Hpe(),wG=Hq(),lWt=fG(),dWt=gG(),Gpe=Zq(),Kpe=vG(),SG=class{constructor(e){this._isDisposed=!1,this.qualifiedId=e}get id(){return this.qualifiedId.id}get isDisposed(){return this._isDisposed}dispose(e){this._isDisposed=!0}};Qk.Channel=SG;var Ype=class extends SG{constructor(e,t,n){super(t),this._acceptance=new wG.Deferred,this._completion=new wG.Deferred,this.remoteWindowFilled=0;let i=this;switch(this.name=n.name,t.source){case Gpe.ChannelSource.Local:this.localWindowSize=n.remoteWindowSize;break;case Gpe.ChannelSource.Remote:this.remoteWindowSize=n.remoteWindowSize;break;case Gpe.ChannelSource.Seeded:this.remoteWindowSize=n.remoteWindowSize,this.localWindowSize=n.remoteWindowSize;break;default:throw new Error("Channel source not recognized.")}this._multiplexingStream=e,this.remoteWindowHasCapacity=new wG.Deferred,(!this._multiplexingStream.backpressureSupportEnabled||this.remoteWindowSize)&&this.remoteWindowHasCapacity.resolve(),this._duplex=new cWt.Duplex({async write(o,s,a){let c;try{let u=Buffer.from(o);for(;u.length>0;){let l=Math.min(u.length,dWt.MultiplexingStream.framePayloadMaxLength);if(i._multiplexingStream.backpressureSupportEnabled){if(await i.remoteWindowHasCapacity.promise,!i.remoteWindowSize)throw new Error("Remote window size unknown.");l=Math.min(i.remoteWindowSize-i.remoteWindowFilled,l)}i.onTransmittingBytes(l);let d=new lWt.FrameHeader(uWt.ControlCode.content,t);await e.sendFrameAsync(d,u.slice(0,l)),u=u.slice(l)}}catch(u){c=u}a&&a(c)},async final(o){let s;try{await e.onChannelWritingCompleted(i)}catch(a){s=a}o&&o(s)},read(){}})}get stream(){return this._duplex}get acceptance(){return this._acceptance.promise}get isAccepted(){return this._acceptance.isResolved}get isRejectedOrCanceled(){return this._acceptance.isRejected}get completion(){return this._completion.promise}tryAcceptOffer(e){return this._acceptance.resolve()?(this.localWindowSize=e?.channelReceivingWindowSize!==void 0?Math.max(this._multiplexingStream.defaultChannelReceivingWindowSize,e?.channelReceivingWindowSize):this._multiplexingStream.defaultChannelReceivingWindowSize,!0):!1}tryCancelOffer(e){let t=new Z6e.default.CancellationError(e);this._acceptance.reject(t),this._completion.reject(t),Kpe(this._completion.promise),this.dispose()}onAccepted(e){return this._multiplexingStream.backpressureSupportEnabled&&(this.remoteWindowSize=e.remoteWindowSize,this.remoteWindowHasCapacity.resolve()),this._acceptance.resolve()}onContent(e){this._duplex.push(e),this._multiplexingStream.backpressureSupportEnabled&&e&&this._multiplexingStream.localContentExamined(this,e.length)}onContentProcessed(e){if(e<0)throw new Error("A non-negative number is required.");if(e>this.remoteWindowFilled)throw new Error("More bytes processed than we thought were in the window.");if(this.remoteWindowSize===void 0)throw new Error("Unexpected content processed message given we don't know the remote window size.");this.remoteWindowFilled-=e,this.remoteWindowFilled<this.remoteWindowSize&&this.remoteWindowHasCapacity.resolve()}dispose(e){this.isDisposed||(super.dispose(),this._acceptance.reject(new Z6e.default.CancellationError("disposed"))&&Kpe(this.acceptance),this._duplex.end(),this._duplex.push(null),e?this._completion.reject(e):this._completion.resolve(),Kpe(this._multiplexingStream.onChannelDisposed(this,e??null)))}onTransmittingBytes(e){if(this._multiplexingStream.backpressureSupportEnabled){if(e<0)throw new Error("Negative byte count transmitted.");this.remoteWindowFilled+=e,this.remoteWindowFilled===this.remoteWindowSize&&(this.remoteWindowHasCapacity=new wG.Deferred)}}};Qk.ChannelClass=Ype});var e5e=C(CG=>{"use strict";Object.defineProperty(CG,"__esModule",{value:!0});CG.FullDuplexStream=void 0;var Jpe=require("stream"),Xpe=class r{static CreatePair(){let e=new Jpe.PassThrough,t=new Jpe.PassThrough;return{first:r.Splice(e,t),second:r.Splice(t,e)}}static Splice(e,t){let n=new Jpe.Duplex({write(i,o,s){t.write(i,o,s)},final(i){t.end(i)}});return n.read=e.read.bind(e),n.on=e.on.bind(e),n}};CG.FullDuplexStream=Xpe});var r2=C(Oh=>{"use strict";Object.defineProperty(Oh,"__esModule",{value:!0});Oh.ChannelSource=Oh.QualifiedChannelId=Oh.readSubstream=Oh.writeSubstream=Oh.MultiplexingStream=Oh.FullDuplexStream=Oh.Channel=void 0;var fWt=Vpe();Object.defineProperty(Oh,"Channel",{enumerable:!0,get:function(){return fWt.Channel}});var hWt=e5e();Object.defineProperty(Oh,"FullDuplexStream",{enumerable:!0,get:function(){return hWt.FullDuplexStream}});var pWt=gG();Object.defineProperty(Oh,"MultiplexingStream",{enumerable:!0,get:function(){return pWt.MultiplexingStream}});var t5e=Mk();Object.defineProperty(Oh,"writeSubstream",{enumerable:!0,get:function(){return t5e.writeSubstream}});Object.defineProperty(Oh,"readSubstream",{enumerable:!0,get:function(){return t5e.readSubstream}});var r5e=Zq();Object.defineProperty(Oh,"QualifiedChannelId",{enumerable:!0,get:function(){return r5e.QualifiedChannelId}});Object.defineProperty(Oh,"ChannelSource",{enumerable:!0,get:function(){return r5e.ChannelSource}})});var n5e=C(Zk=>{"use strict";Object.defineProperty(Zk,"__esModule",{value:!0});Zk.NodeStreamMessageWriter=Zk.NodeStreamMessageReader=void 0;var AC=hR(),Qpe=class extends AC.ReadableStreamMessageReader{constructor(e,t){super(new eme(e),t)}};Zk.NodeStreamMessageReader=Qpe;var Zpe=class extends AC.WriteableStreamMessageWriter{constructor(e,t){super(new tme(e),t)}};Zk.NodeStreamMessageWriter=Zpe;var eme=class{stream;constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),AC.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),AC.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),AC.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),AC.Disposable.create(()=>this.stream.off("data",e))}},tme=class{stream;constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),AC.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),AC.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),AC.Disposable.create(()=>this.stream.off("end",e))}write(e,t){return new Promise((n,i)=>{let o=s=>{s==null?n():i(s)};typeof e=="string"?this.stream.write(e,t,o):this.stream.write(e,o)})}end(){this.stream.end()}}});var ome=C(fy=>{"use strict";var mWt=fy&&fy.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),gWt=fy&&fy.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),vWt=fy&&fy.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&mWt(e,r,t);return gWt(e,r),e};Object.defineProperty(fy,"__esModule",{value:!0});fy.JsonRpcConnection=fy.ServiceJsonRpcDescriptor=void 0;var rme=e4e(),n2=qD(),yWt=jq(),nme=Xhe(),TG=ipe(),i5e=m4e(),o5e=vWt(Upe()),_Wt=r2(),bWt=require("stream"),s5e=n5e(),a5e=rpe(),ime=class r extends nme.ServiceRpcDescriptor{formatter;messageDelimiter;protocol="json-rpc";multiplexingStreamOptions;connectionFactory;constructor(e,t,n,i){super(e),this.formatter=t,this.messageDelimiter=n;let o,s;switch(t){case n2.Formatters.Utf8:o=a=>Promise.resolve(Buffer.from(JSON.stringify(a))),s=a=>JSON.parse(a.toString());break;case n2.Formatters.MessagePack:o=a=>Promise.resolve(o5e.encode(a)),s=a=>o5e.decode(a);break;default:throw new Error(`Unsupported formatter: ${t}.`)}if(this.multiplexingStreamOptions=i===void 0?void 0:Object.freeze(i),n===n2.MessageDelimiters.HttpLikeHeaders){if(t!==n2.Formatters.Utf8)throw new Error("Utf8 is the only formatter supported while using HttpLikeHeaders.");this.connectionFactory=a=>(0,rme.createMessageConnection)(new s5e.NodeStreamMessageReader(a),new s5e.NodeStreamMessageWriter(a))}else if(n===n2.MessageDelimiters.BigEndianInt32LengthHeader)this.connectionFactory=a=>(0,rme.createMessageConnection)(new i5e.BE32MessageReader(a,s),new i5e.BE32MessageWriter(a,o));else throw new Error(`Unsupported message delimiter: ${n}.`)}constructRpcConnection(e){if(this.multiplexingStreamOptions){let t=this.createSeedChannels(),n=(0,TG.isChannel)(e)?e.stream:e,i=_Wt.MultiplexingStream.Create(n,t),o=i.acceptChannel(0);return o.completion.finally(()=>i.dispose()),new i2((0,TG.constructMessageConnection)(o,this.connectionFactory))}return new i2((0,TG.constructMessageConnection)(e,this.connectionFactory))}equals(e){return!e||!(e instanceof r)||!yWt.ServiceMoniker.equals(e.moniker,this.moniker)?!1:this.formatter===e.formatter&&this.messageDelimiter===e.messageDelimiter}createSeedChannels(){if(this.multiplexingStreamOptions===void 0)throw new Error("multiplexingStreamOptions unset.");if(this.multiplexingStreamOptions.seededChannels===void 0||this.multiplexingStreamOptions.seededChannels.length===0){let e=(0,TG.clone)(this.multiplexingStreamOptions);return e.seededChannels=[{}],e.protocolMajorVersion=3,e}else return this.multiplexingStreamOptions}};fy.ServiceJsonRpcDescriptor=ime;var wWt={get:(r,e)=>{switch(e.toString()){case"dispose":return function(){r.messageConnection.dispose()};case"_jsonRpc":return r.messageConnection;case"then":return;case"on":return function(t,n){return r.eventEmitter.on(t,n),r};case"once":return function(t,n){return r.eventEmitter.once(t,n),r};case"prependListener":return function(t,n){return r.eventEmitter.prependListener(t,n),r};case"prependOnceListener":return function(t,n){return r.eventEmitter.prependOnceListener(t,n),r};case"addListener":return function(t,n){return r.eventEmitter.addListener(t,n),r};case"rawListeners":return r.eventEmitter.rawListeners;case"removeAllListeners":return function(t){return r.eventEmitter.removeAllListeners(t),r};case"removeListener":return function(t,n){return r.eventEmitter.removeListener(t,n),r};case"off":return function(t,n){return r.eventEmitter.off(t,n),r};case"listenerCount":return r.eventEmitter.listenerCount;case"getMaxListeners":return r.eventEmitter.getMaxListeners;case"setMaxListeners":return function(t){return r.eventEmitter.setMaxListeners(t),r};case"eventNames":return function(){return r.eventEmitter.eventNames(),r};case"emit":return function(t,n){return r.eventEmitter.emit(t,n),r};default:return function(){let t=e.toString();return(0,a5e.invokeRpc)(e.toString(),arguments,r.messageConnection)}}}},i2=class extends nme.RpcConnection{messageConnection;constructor(e){super(),this.messageConnection=e}addLocalRpcTarget(e){if((0,a5e.registerInstanceMethodsAsRpcTargets)(e,this.messageConnection),nme.RpcConnection.IsRpcEventServer(e))for(let t of e.rpcEventNames)e.on(t,(...n)=>{this.messageConnection.sendNotification(t,rme.ParameterStructures.byPosition,...n)});typeof e.dispose=="function"&&this.messageConnection.onDispose(()=>e.dispose())}constructRpcClient(){let e={messageConnection:this.messageConnection,eventEmitter:new bWt.EventEmitter};return this.messageConnection.onNotification((t,n)=>Array.isArray(n)?e.eventEmitter.emit(t,...n):e.eventEmitter.emit(t,n)),new Proxy(e,wWt)}startListening(){this.messageConnection?.listen()}dispose(){}};fy.JsonRpcConnection=i2});var RG=C(EG=>{"use strict";Object.defineProperty(EG,"__esModule",{value:!0});EG.FrameworkServices=void 0;var DG=qD(),c5e=ome(),u5e=jq(),sme=class{static remoteServiceBroker=Object.freeze(new c5e.ServiceJsonRpcDescriptor(u5e.ServiceMoniker.create("RemoteServiceBroker"),DG.Formatters.Utf8,DG.MessageDelimiters.HttpLikeHeaders));static authorization=Object.freeze(new c5e.ServiceJsonRpcDescriptor(u5e.ServiceMoniker.create("Microsoft.ServiceHub.Framework.AuthorizationService"),DG.Formatters.Utf8,DG.MessageDelimiters.HttpLikeHeaders))};EG.FrameworkServices=sme});var cme=C(e1=>{"use strict";var f5e=e1&&e1.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e1,"__esModule",{value:!0});e1.AuthorizationServiceClient=void 0;var l5e=f5e(require("assert")),d5e=f5e(UD()),ame=class{authService;ownsAuthService;isDisposed=!1;constructor(e,t=!0){this.authService=e,this.ownsAuthService=t,(0,l5e.default)(e),this.authService=e}async getCredentials(e=d5e.default.CONTINUE){if(this.isDisposed)throw new Error("Object is disposed");return await this.authService.getCredentials(e)}async checkAuthorization(e,t=d5e.default.CONTINUE){if((0,l5e.default)(e),this.isDisposed)throw new Error("Object is disposed");return await this.authService.checkAuthorization(e,t)}dispose(){this.isDisposed=!0,this.ownsAuthService&&this.authService.dispose()}};e1.AuthorizationServiceClient=ame});var h5e=C(o2=>{"use strict";Object.defineProperty(o2,"__esModule",{value:!0});o2.IDisposable=void 0;var SWt;(function(r){function e(t){return typeof t.dispose=="function"}r.is=e})(SWt=o2.IDisposable||(o2.IDisposable={}))});var dme=C(PG=>{"use strict";Object.defineProperty(PG,"__esModule",{value:!0});PG.IpcRelayServiceBroker=void 0;var ume=qD(),CWt=require("events"),p5e=(XI(),rT(m6)),TWt=require("net"),DWt=require("path"),lme=class r extends CWt{serviceBroker;static _rpcEventNames=Object.freeze(["availabilityChanged"]);rpcEventNames=r._rpcEventNames;completion;channelsOfferedToClient={};disposed;constructor(e){super(),this.serviceBroker=e,e.on("availabilityChanged",this.onAvailabilityChanged.bind(this)),this.completion=new Promise(t=>this.disposed=t)}handshake(e,t){if(!ume.RemoteServiceConnections.contains(e.supportedConnections,ume.RemoteServiceConnections.IpcPipe))throw new Error("The client must support IpcPipe to use this service broker.");return Promise.resolve()}async requestServiceChannel(e,t,n){let i=await this.serviceBroker.getPipe(e,t,n);if(!i)return{};let o=(0,p5e.v4)(),s=DWt.join(ume.PIPE_NAME_PREFIX,(0,p5e.v4)()),a=(0,TWt.createServer)(c=>{delete this.channelsOfferedToClient[o],c.pipe(i),i.pipe(c)});return a.listen(s),this.channelsOfferedToClient[o]=a,{requestId:o,pipeName:s}}cancelServiceRequest(e,t){let n=this.channelsOfferedToClient[e];return n?(delete this.channelsOfferedToClient[e],n.close(),Promise.resolve()):Promise.reject("Request to cancel a channel that is not awaiting acceptance.")}dispose(){this.serviceBroker.off("availabilityChanged",this.onAvailabilityChanged.bind(this));for(let e in this.channelsOfferedToClient)this.channelsOfferedToClient[e].close(),delete this.channelsOfferedToClient[e];this.disposed&&this.disposed()}onAvailabilityChanged(e){this.emit("availabilityChanged",e)}};PG.IpcRelayServiceBroker=lme});var g5e=C(t1=>{"use strict";var EWt=t1&&t1.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(t1,"__esModule",{value:!0});t1.MultiplexingRelayServiceBroker=void 0;var m5e=qD(),RWt=require("events"),PWt=r2(),xWt=RG(),OWt=EWt(vG()),IWt=(XI(),rT(m6)),fme=class r extends RWt{serviceBroker;multiplexingStreamWithClient;multiplexingStreamWithRemoteClientOwned;static _rpcEventNames=Object.freeze(["availabilityChanged"]);channelsOfferedToClient={};completion;rpcEventNames=r._rpcEventNames;disposed;constructor(e,t,n){super(),this.serviceBroker=e,this.multiplexingStreamWithClient=t,this.multiplexingStreamWithRemoteClientOwned=n,e.on("availabilityChanged",this.onAvailabilityChanged.bind(this)),this.completion=new Promise(i=>this.disposed=i)}static async connectToServer(e,t,n){try{let i=await PWt.MultiplexingStream.CreateAsync(t,void 0,n),o=await i.offerChannelAsync("",void 0,n),s=new r(e,i,!0);return xWt.FrameworkServices.remoteServiceBroker.constructRpc(s,o),s}catch(i){throw t.end(),i}}handshake(e,t){if(!m5e.RemoteServiceConnections.contains(e.supportedConnections,m5e.RemoteServiceConnections.Multiplexing))throw new Error("The client must support multiplexing to use this service broker.");return Promise.resolve()}async requestServiceChannel(e,t,n){let i=(0,IWt.v4)();t=t?{...t}:{},t.multiplexingStream=this.multiplexingStreamWithClient;let o=await this.serviceBroker.getPipe(e,t,n);if(!o)return{};let s=this.multiplexingStreamWithClient.createChannel();return s.stream.pipe(o),o.pipe(s.stream),this.channelsOfferedToClient[i]=s,(0,OWt.default)(s.acceptance.finally(()=>delete this.channelsOfferedToClient[i])),{requestId:i,multiplexingChannelId:s.qualifiedId.id}}async cancelServiceRequest(e,t){let n=this.channelsOfferedToClient[e];return n?(n.dispose(),Promise.resolve()):Promise.reject("Request to cancel a channel that is not awaiting acceptance.")}dispose(){this.serviceBroker.off("availabilityChanged",this.onAvailabilityChanged.bind(this)),this.multiplexingStreamWithRemoteClientOwned&&this.multiplexingStreamWithClient.dispose(),this.disposed&&this.disposed()}onAvailabilityChanged(e){this.emit("availabilityChanged",e)}};t1.MultiplexingRelayServiceBroker=fme});var y5e=C(bR=>{"use strict";var kWt=bR&&bR.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(bR,"__esModule",{value:!0});bR.ProtectedOperation=void 0;var v5e=kWt(require("assert")),AWt;(function(r){function e(i,o){return Object.freeze({operationMoniker:i,requiredTrustLevel:o})}r.create=e;function t(i,o){return(0,v5e.default)(i),(0,v5e.default)(o),i.operationMoniker===o.operationMoniker&&(i.requiredTrustLevel===o.requiredTrustLevel||!!i.requiredTrustLevel&&!!o.requiredTrustLevel&&i.requiredTrustLevel>o.requiredTrustLevel)}r.isSupersetOf=t;function n(i,o){return i===o?!0:!i||!o?!1:i.operationMoniker===o.operationMoniker&&i.requiredTrustLevel===o.requiredTrustLevel}r.equals=n})(AWt=bR.ProtectedOperation||(bR.ProtectedOperation={}))});var hme=C(s2=>{"use strict";Object.defineProperty(s2,"__esModule",{value:!0});s2.RemoteServiceConnectionInfo=void 0;var LWt;(function(r){function e(n){return!n.multiplexingChannelId&&!n.requestId&&!n.pipeName}r.isEmpty=e;function t(n,i){return n.multiplexingChannelId?i.indexOf("multiplexing")>-1:!1}r.isOneOf=t})(LWt=s2.RemoteServiceConnectionInfo||(s2.RemoteServiceConnectionInfo={}))});var mme=C(r1=>{"use strict";var S5e=r1&&r1.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(r1,"__esModule",{value:!0});r1.RemoteServiceBroker=void 0;var k_=S5e(require("assert")),wR=S5e(UD()),MWt=require("events"),NWt=r2(),FWt=cme(),GD=qD(),_5e=hme(),b5e=ipe(),qWt=require("net"),w5e=RG(),pme=class r extends MWt.EventEmitter{serviceBroker;multiplexingStream;static fullConnectionSupport=GD.RemoteServiceConnections.Multiplexing|GD.RemoteServiceConnections.IpcPipe;static async connectToDuplex(e,t=wR.default.CONTINUE){(0,k_.default)(e);let n=w5e.FrameworkServices.remoteServiceBroker.constructRpc(e);return await r.initializeBrokerConnection(n,t)}static async connectToRemoteServiceBroker(e,t=wR.default.CONTINUE){return(0,k_.default)(e),await r.initializeBrokerConnection(e,t)}static async connectToMultiplexingDuplex(e,t,n=wR.default.CONTINUE){(0,k_.default)(e);let i=await NWt.MultiplexingStream.CreateAsync(e,t,n),o=await i.acceptChannelAsync("",void 0,n),s=w5e.FrameworkServices.remoteServiceBroker.constructRpc(o.stream),a=await this.connectToMultiplexingRemoteServiceBroker(s,i,n);return a.ownsMxStream=!0,a}static async connectToMultiplexingRemoteServiceBroker(e,t,n=wR.default.CONTINUE){(0,k_.default)(e),(0,k_.default)(t);let i={supportedConnections:r.fullConnectionSupport},o=await r.initializeBrokerConnection(e,n,i,t);return o.ownsMxStream=!1,o}static async initializeBrokerConnection(e,t=wR.default.CONTINUE,n,i){if(!n){let o=this.fullConnectionSupport;i||(o&=~GD.RemoteServiceConnections.Multiplexing),n={supportedConnections:o}}try{await e.handshake(n,t)}catch(o){let s=e;throw typeof s.dispose=="function"&&s.dispose(),o}return new r(e,n,i)}isDisposed=!1;ownsMxStream=!1;defaultClientCulture="en-US";defaultClientUICulture="en-US";authorizationClient;constructor(e,t,n){super(),this.serviceBroker=e,this.multiplexingStream=n,(0,k_.default)(e),(0,k_.default)(t),GD.RemoteServiceConnections.contains(t.supportedConnections,GD.RemoteServiceConnections.Multiplexing)&&(0,k_.default)(n),this.serviceBroker.on("availabilityChanged",i=>{this.emit("availabilityChanged",i)})}setAuthorizationService(e){(0,k_.default)(e),this.authorizationClient?.dispose(),this.authorizationClient=new FWt.AuthorizationServiceClient(e)}async getProxy(e,t,n=wR.default.CONTINUE){(0,k_.default)(e),t=t||{clientCulture:this.defaultClientCulture,clientUICulture:this.defaultClientUICulture},t=await this.applyAuthorization(t,n);let i,o={};try{if(o=await this.serviceBroker.requestServiceChannel(e.moniker,t,n),!o||_5e.RemoteServiceConnectionInfo.isEmpty(o))return null;if(o.multiplexingChannelId&&this.multiplexingStream)i=await this.multiplexingStream.acceptChannel(o.multiplexingChannelId);else if(o.pipeName){let a=process.platform==="win32"&&!o.pipeName.startsWith(GD.PIPE_NAME_PREFIX)?GD.PIPE_NAME_PREFIX+o.pipeName:o.pipeName;i=(0,qWt.createConnection)(a)}else throw new Error("Unsupported connection type")}catch(a){throw(0,b5e.isReadWriteStream)(i)?i.end():(0,b5e.isChannel)(i)&&i.dispose(),o?.requestId&&await this.serviceBroker.cancelServiceRequest(o.requestId,n),a}return e.constructRpc(t?.clientRpcTarget,i)}async getPipe(e,t,n=wR.default.CONTINUE){if((0,k_.default)(e),t=t||{clientCulture:"en-US",clientUICulture:"en-US"},t=await this.applyAuthorization(t,n),t.clientRpcTarget)throw new Error("Cannot connect pipe to service with client RPC target");let i={},o=null,s=null;try{if(i=await this.serviceBroker.requestServiceChannel(e,t,n),!i||_5e.RemoteServiceConnectionInfo.isEmpty(i))return null;if(i.multiplexingChannelId&&this.multiplexingStream)s=await this.multiplexingStream.acceptChannelAsync("",void 0,n),o=s.stream;else throw i.pipeName?new Error("Cannot connect to named pipe"):new Error("Unsupported connection type");return o}catch(a){throw s?.dispose(),o?.end(),!o&&i?.requestId&&await this.serviceBroker.cancelServiceRequest(i.requestId,n),a}}dispose(){this.isDisposed=!0,this.serviceBroker.removeAllListeners(GD.availabilityChangedEvent);let e=this.serviceBroker;typeof e.dispose=="function"&&e.dispose(),this.authorizationClient?.dispose(),this.multiplexingStream&&this.ownsMxStream&&this.multiplexingStream.dispose()}async applyAuthorization(e,t){return this.authorizationClient&&!e.clientCredentials&&(e.clientCredentials=await this.authorizationClient.getCredentials(t)),e}};r1.RemoteServiceBroker=pme});var C5e=C(xG=>{"use strict";Object.defineProperty(xG,"__esModule",{value:!0});xG.Observer=void 0;var gme=class{next;completion;_jsonRpcMarshalableLifetime="explicit";error;get completed(){return this.error!==void 0}constructor(e,t){this.next=e,this.completion=t}onNext(e){this.next(e)}onCompleted(){this.error=null,this.completion&&this.completion(null)}onError(e){this.error=e,this.completion&&this.completion(e)}};xG.Observer=gme});var D5e=C((OG,T5e)=>{(function(r,e){typeof OG=="object"&&typeof T5e<"u"?e(OG):typeof define=="function"&&define.amd?define(["exports"],e):(r=typeof globalThis<"u"?globalThis:r||self,e(r.Immutable={}))})(OG,function(r){"use strict";var e="delete",t=5,n=1<<t,i=n-1,o={};function s(){return{value:!1}}function a(g){g&&(g.value=!0)}function c(){}function u(g){return g.size===void 0&&(g.size=g.__iterate(d)),g.size}function l(g,v){if(typeof v!="number"){var R=v>>>0;if(""+R!==v||R===4294967295)return NaN;v=R}return v<0?u(g)+v:v}function d(){return!0}function f(g,v,R){return(g===0&&!P(g)||R!==void 0&&g<=-R)&&(v===void 0||R!==void 0&&v>=R)}function p(g,v){return D(g,v,0)}function _(g,v){return D(g,v,v)}function D(g,v,R){return g===void 0?R:P(g)?v===1/0?v:Math.max(0,v+g)|0:v===void 0||v===g?g:Math.min(v,g)|0}function P(g){return g<0||g===0&&1/g===-1/0}var M="@@__IMMUTABLE_ITERABLE__@@";function A(g){return!!(g&&g[M])}var U="@@__IMMUTABLE_KEYED__@@";function ne(g){return!!(g&&g[U])}var pe="@@__IMMUTABLE_INDEXED__@@";function ve(g){return!!(g&&g[pe])}function V(g){return ne(g)||ve(g)}var W=function(v){return A(v)?v:Or(v)},ee=function(g){function v(R){return ne(R)?R:Hn(R)}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v}(W),De=function(g){function v(R){return ve(R)?R:$r(R)}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v}(W),ae=function(g){function v(R){return A(R)&&!V(R)?R:dn(R)}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v}(W);W.Keyed=ee,W.Indexed=De,W.Set=ae;var ue="@@__IMMUTABLE_SEQ__@@";function Fe(g){return!!(g&&g[ue])}var Me="@@__IMMUTABLE_RECORD__@@";function ce(g){return!!(g&&g[Me])}function Ce(g){return A(g)||ce(g)}var be="@@__IMMUTABLE_ORDERED__@@";function xe(g){return!!(g&&g[be])}var Ne=0,$e=1,Ct=2,ze=typeof Symbol=="function"&&Symbol.iterator,st="@@iterator",at=ze||st,tt=function(v){this.next=v};tt.prototype.toString=function(){return"[Iterator]"},tt.KEYS=Ne,tt.VALUES=$e,tt.ENTRIES=Ct,tt.prototype.inspect=tt.prototype.toSource=function(){return this.toString()},tt.prototype[at]=function(){return this};function fr(g,v,R,O){var F=g===0?v:g===1?R:[v,R];return O?O.value=F:O={value:F,done:!1},O}function Lr(){return{value:void 0,done:!0}}function zr(g){return Array.isArray(g)?!0:!!hr(g)}function cr(g){return g&&typeof g.next=="function"}function xt(g){var v=hr(g);return v&&v.call(g)}function hr(g){var v=g&&(ze&&g[ze]||g[st]);if(typeof v=="function")return v}function Mt(g){var v=hr(g);return v&&v===g.entries}function nn(g){var v=hr(g);return v&&v===g.keys}var ln=Object.prototype.hasOwnProperty;function On(g){return Array.isArray(g)||typeof g=="string"?!0:g&&typeof g=="object"&&Number.isInteger(g.length)&&g.length>=0&&(g.length===0?Object.keys(g).length===1:g.hasOwnProperty(g.length-1))}var Or=function(g){function v(R){return R==null?Gr():Ce(R)?R.toSeq():fn(R)}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.toSeq=function(){return this},v.prototype.toString=function(){return this.__toString("Seq {","}")},v.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},v.prototype.__iterate=function(O,F){var J=this._cache;if(J){for(var Z=J.length,he=0;he!==Z;){var ke=J[F?Z-++he:he++];if(O(ke[1],ke[0],this)===!1)break}return he}return this.__iterateUncached(O,F)},v.prototype.__iterator=function(O,F){var J=this._cache;if(J){var Z=J.length,he=0;return new tt(function(){if(he===Z)return Lr();var ke=J[F?Z-++he:he++];return fr(O,ke[0],ke[1])})}return this.__iteratorUncached(O,F)},v}(W),Hn=function(g){function v(R){return R==null?Gr().toKeyedSeq():A(R)?ne(R)?R.toSeq():R.fromEntrySeq():ce(R)?R.toSeq():Qi(R)}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.toKeyedSeq=function(){return this},v}(Or),$r=function(g){function v(R){return R==null?Gr():A(R)?ne(R)?R.entrySeq():R.toIndexedSeq():ce(R)?R.toSeq().entrySeq():oi(R)}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.of=function(){return v(arguments)},v.prototype.toIndexedSeq=function(){return this},v.prototype.toString=function(){return this.__toString("Seq [","]")},v}(Or),dn=function(g){function v(R){return(A(R)&&!V(R)?R:$r(R)).toSetSeq()}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.of=function(){return v(arguments)},v.prototype.toSetSeq=function(){return this},v}(Or);Or.isSeq=Fe,Or.Keyed=Hn,Or.Set=dn,Or.Indexed=$r,Or.prototype[ue]=!0;var ii=function(g){function v(R){this._array=R,this.size=R.length}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.get=function(O,F){return this.has(O)?this._array[l(this,O)]:F},v.prototype.__iterate=function(O,F){for(var J=this._array,Z=J.length,he=0;he!==Z;){var ke=F?Z-++he:he++;if(O(J[ke],ke,this)===!1)break}return he},v.prototype.__iterator=function(O,F){var J=this._array,Z=J.length,he=0;return new tt(function(){if(he===Z)return Lr();var ke=F?Z-++he:he++;return fr(O,ke,J[ke])})},v}($r),Vr=function(g){function v(R){var O=Object.keys(R).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(R):[]);this._object=R,this._keys=O,this.size=O.length}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.get=function(O,F){return F!==void 0&&!this.has(O)?F:this._object[O]},v.prototype.has=function(O){return ln.call(this._object,O)},v.prototype.__iterate=function(O,F){for(var J=this._object,Z=this._keys,he=Z.length,ke=0;ke!==he;){var Qe=Z[F?he-++ke:ke++];if(O(J[Qe],Qe,this)===!1)break}return ke},v.prototype.__iterator=function(O,F){var J=this._object,Z=this._keys,he=Z.length,ke=0;return new tt(function(){if(ke===he)return Lr();var Qe=Z[F?he-++ke:ke++];return fr(O,Qe,J[Qe])})},v}(Hn);Vr.prototype[be]=!0;var An=function(g){function v(R){this._collection=R,this.size=R.length||R.size}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.__iterateUncached=function(O,F){if(F)return this.cacheResult().__iterate(O,F);var J=this._collection,Z=xt(J),he=0;if(cr(Z))for(var ke;!(ke=Z.next()).done&&O(ke.value,he++,this)!==!1;);return he},v.prototype.__iteratorUncached=function(O,F){if(F)return this.cacheResult().__iterator(O,F);var J=this._collection,Z=xt(J);if(!cr(Z))return new tt(Lr);var he=0;return new tt(function(){var ke=Z.next();return ke.done?ke:fr(O,he++,ke.value)})},v}($r),xi;function Gr(){return xi||(xi=new ii([]))}function Qi(g){var v=Oe(g);if(v)return v.fromEntrySeq();if(typeof g=="object")return new Vr(g);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+g)}function oi(g){var v=Oe(g);if(v)return v;throw new TypeError("Expected Array or collection object of values: "+g)}function fn(g){var v=Oe(g);if(v)return Mt(g)?v.fromEntrySeq():nn(g)?v.toSetSeq():v;if(typeof g=="object")return new Vr(g);throw new TypeError("Expected Array or collection object of values, or keyed object: "+g)}function Oe(g){return On(g)?new ii(g):zr(g)?new An(g):void 0}var oe="@@__IMMUTABLE_MAP__@@";function Q(g){return!!(g&&g[oe])}function we(g){return Q(g)&&xe(g)}function Je(g){return!!(g&&typeof g.equals=="function"&&typeof g.hashCode=="function")}function ft(g,v){if(g===v||g!==g&&v!==v)return!0;if(!g||!v)return!1;if(typeof g.valueOf=="function"&&typeof v.valueOf=="function"){if(g=g.valueOf(),v=v.valueOf(),g===v||g!==g&&v!==v)return!0;if(!g||!v)return!1}return!!(Je(g)&&Je(v)&&g.equals(v))}var Yt=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(v,R){v|=0,R|=0;var O=v&65535,F=R&65535;return O*F+((v>>>16)*F+O*(R>>>16)<<16>>>0)|0};function rr(g){return g>>>1&1073741824|g&3221225471}var Jt=Object.prototype.valueOf;function $t(g){if(g==null)return kt(g);if(typeof g.hashCode=="function")return rr(g.hashCode(g));var v=fe(g);if(v==null)return kt(v);switch(typeof v){case"boolean":return v?1108378657:1108378656;case"number":return K(v);case"string":return v.length>qn?qe(v):Ht(v);case"object":case"function":return He(v);case"symbol":return Dr(v);default:if(typeof v.toString=="function")return Ht(v.toString());throw new Error("Value type "+typeof v+" cannot be hashed.")}}function kt(g){return g===null?1108378658:1108378659}function K(g){if(g!==g||g===1/0)return 0;var v=g|0;for(v!==g&&(v^=g*4294967295);g>4294967295;)g/=4294967295,v^=g;return rr(v)}function qe(g){var v=Sn[g];return v===void 0&&(v=Ht(g),Ms===Oi&&(Ms=0,Sn={}),Ms++,Sn[g]=v),v}function Ht(g){for(var v=0,R=0;R<g.length;R++)v=31*v+g.charCodeAt(R)|0;return rr(v)}function Dr(g){var v=Tr[g];return v!==void 0||(v=S(),Tr[g]=v),v}function He(g){var v;if(de&&(v=Ye.get(g),v!==void 0)||(v=g[Xr],v!==void 0)||!Pe&&(v=g.propertyIsEnumerable&&g.propertyIsEnumerable[Xr],v!==void 0||(v=je(g),v!==void 0)))return v;if(v=S(),de)Ye.set(g,v);else{if(re!==void 0&&re(g)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Pe)Object.defineProperty(g,Xr,{enumerable:!1,configurable:!1,writable:!1,value:v});else if(g.propertyIsEnumerable!==void 0&&g.propertyIsEnumerable===g.constructor.prototype.propertyIsEnumerable)g.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},g.propertyIsEnumerable[Xr]=v;else if(g.nodeType!==void 0)g[Xr]=v;else throw new Error("Unable to set a non-enumerable property on object.")}return v}var re=Object.isExtensible,Pe=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function je(g){if(g&&g.nodeType>0)switch(g.nodeType){case 1:return g.uniqueID;case 9:return g.documentElement&&g.documentElement.uniqueID}}function fe(g){return g.valueOf!==Jt&&typeof g.valueOf=="function"?g.valueOf(g):g}function S(){var g=++Wr;return Wr&1073741824&&(Wr=0),g}var de=typeof WeakMap=="function",Ye;de&&(Ye=new WeakMap);var Tr=Object.create(null),Wr=0,Xr="__immutablehash__";typeof Symbol=="function"&&(Xr=Symbol(Xr));var qn=16,Oi=255,Ms=0,Sn={},rs=function(g){function v(R,O){this._iter=R,this._useKeys=O,this.size=R.size}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.get=function(O,F){return this._iter.get(O,F)},v.prototype.has=function(O){return this._iter.has(O)},v.prototype.valueSeq=function(){return this._iter.valueSeq()},v.prototype.reverse=function(){var O=this,F=Ue(this,!0);return this._useKeys||(F.valueSeq=function(){return O._iter.toSeq().reverse()}),F},v.prototype.map=function(O,F){var J=this,Z=H(this,O,F);return this._useKeys||(Z.valueSeq=function(){return J._iter.toSeq().map(O,F)}),Z},v.prototype.__iterate=function(O,F){var J=this;return this._iter.__iterate(function(Z,he){return O(Z,he,J)},F)},v.prototype.__iterator=function(O,F){return this._iter.__iterator(O,F)},v}(Hn);rs.prototype[be]=!0;var Vs=function(g){function v(R){this._iter=R,this.size=R.size}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.includes=function(O){return this._iter.includes(O)},v.prototype.__iterate=function(O,F){var J=this,Z=0;return F&&u(this),this._iter.__iterate(function(he){return O(he,F?J.size-++Z:Z++,J)},F)},v.prototype.__iterator=function(O,F){var J=this,Z=this._iter.__iterator($e,F),he=0;return F&&u(this),new tt(function(){var ke=Z.next();return ke.done?ke:fr(O,F?J.size-++he:he++,ke.value,ke)})},v}($r),oa=function(g){function v(R){this._iter=R,this.size=R.size}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.has=function(O){return this._iter.includes(O)},v.prototype.__iterate=function(O,F){var J=this;return this._iter.__iterate(function(Z){return O(Z,Z,J)},F)},v.prototype.__iterator=function(O,F){var J=this._iter.__iterator($e,F);return new tt(function(){var Z=J.next();return Z.done?Z:fr(O,Z.value,Z.value,Z)})},v}(dn),jo=function(g){function v(R){this._iter=R,this.size=R.size}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.entrySeq=function(){return this._iter.toSeq()},v.prototype.__iterate=function(O,F){var J=this;return this._iter.__iterate(function(Z){if(Z){Su(Z);var he=A(Z);return O(he?Z.get(1):Z[1],he?Z.get(0):Z[0],J)}},F)},v.prototype.__iterator=function(O,F){var J=this._iter.__iterator($e,F);return new tt(function(){for(;;){var Z=J.next();if(Z.done)return Z;var he=Z.value;if(he){Su(he);var ke=A(he);return fr(O,ke?he.get(0):he[0],ke?he.get(1):he[1],Z)}}})},v}(Hn);Vs.prototype.cacheResult=rs.prototype.cacheResult=oa.prototype.cacheResult=jo.prototype.cacheResult=yl;function Ro(g){var v=_o(g);return v._iter=g,v.size=g.size,v.flip=function(){return g},v.reverse=function(){var R=g.reverse.apply(this);return R.flip=function(){return g.reverse()},R},v.has=function(R){return g.includes(R)},v.includes=function(R){return g.has(R)},v.cacheResult=yl,v.__iterateUncached=function(R,O){var F=this;return g.__iterate(function(J,Z){return R(Z,J,F)!==!1},O)},v.__iteratorUncached=function(R,O){if(R===Ct){var F=g.__iterator(R,O);return new tt(function(){var J=F.next();if(!J.done){var Z=J.value[0];J.value[0]=J.value[1],J.value[1]=Z}return J})}return g.__iterator(R===$e?Ne:$e,O)},v}function H(g,v,R){var O=_o(g);return O.size=g.size,O.has=function(F){return g.has(F)},O.get=function(F,J){var Z=g.get(F,o);return Z===o?J:v.call(R,Z,F,g)},O.__iterateUncached=function(F,J){var Z=this;return g.__iterate(function(he,ke,Qe){return F(v.call(R,he,ke,Qe),ke,Z)!==!1},J)},O.__iteratorUncached=function(F,J){var Z=g.__iterator(Ct,J);return new tt(function(){var he=Z.next();if(he.done)return he;var ke=he.value,Qe=ke[0];return fr(F,Qe,v.call(R,ke[1],Qe,g),he)})},O}function Ue(g,v){var R=this,O=_o(g);return O._iter=g,O.size=g.size,O.reverse=function(){return g},g.flip&&(O.flip=function(){var F=Ro(g);return F.reverse=function(){return g.flip()},F}),O.get=function(F,J){return g.get(v?F:-1-F,J)},O.has=function(F){return g.has(v?F:-1-F)},O.includes=function(F){return g.includes(F)},O.cacheResult=yl,O.__iterate=function(F,J){var Z=this,he=0;return J&&u(g),g.__iterate(function(ke,Qe){return F(ke,v?Qe:J?Z.size-++he:he++,Z)},!J)},O.__iterator=function(F,J){var Z=0;J&&u(g);var he=g.__iterator(Ct,!J);return new tt(function(){var ke=he.next();if(ke.done)return ke;var Qe=ke.value;return fr(F,v?Qe[0]:J?R.size-++Z:Z++,Qe[1],ke)})},O}function vt(g,v,R,O){var F=_o(g);return O&&(F.has=function(J){var Z=g.get(J,o);return Z!==o&&!!v.call(R,Z,J,g)},F.get=function(J,Z){var he=g.get(J,o);return he!==o&&v.call(R,he,J,g)?he:Z}),F.__iterateUncached=function(J,Z){var he=this,ke=0;return g.__iterate(function(Qe,ht,Ut){if(v.call(R,Qe,ht,Ut))return ke++,J(Qe,O?ht:ke-1,he)},Z),ke},F.__iteratorUncached=function(J,Z){var he=g.__iterator(Ct,Z),ke=0;return new tt(function(){for(;;){var Qe=he.next();if(Qe.done)return Qe;var ht=Qe.value,Ut=ht[0],Sr=ht[1];if(v.call(R,Sr,Ut,g))return fr(J,O?Ut:ke++,Sr,Qe)}})},F}function Fr(g,v,R){var O=Ic().asMutable();return g.__iterate(function(F,J){O.update(v.call(R,F,J,g),0,function(Z){return Z+1})}),O.asImmutable()}function ao(g,v,R){var O=ne(g),F=(xe(g)?Es():Ic()).asMutable();g.__iterate(function(Z,he){F.update(v.call(R,Z,he,g),function(ke){return ke=ke||[],ke.push(O?[he,Z]:Z),ke})});var J=ns(g);return F.map(function(Z){return Jn(g,J(Z))}).asImmutable()}function $i(g,v,R){var O=ne(g),F=[[],[]];g.__iterate(function(Z,he){F[v.call(R,Z,he,g)?1:0].push(O?[he,Z]:Z)});var J=ns(g);return F.map(function(Z){return Jn(g,J(Z))})}function N(g,v,R,O){var F=g.size;if(f(v,R,F))return g;var J=p(v,F),Z=_(R,F);if(J!==J||Z!==Z)return N(g.toSeq().cacheResult(),v,R,O);var he=Z-J,ke;he===he&&(ke=he<0?0:he);var Qe=_o(g);return Qe.size=ke===0?ke:g.size&&ke||void 0,!O&&Fe(g)&&ke>=0&&(Qe.get=function(ht,Ut){return ht=l(this,ht),ht>=0&&ht<ke?g.get(ht+J,Ut):Ut}),Qe.__iterateUncached=function(ht,Ut){var Sr=this;if(ke===0)return 0;if(Ut)return this.cacheResult().__iterate(ht,Ut);var an=0,jr=!0,Wn=0;return g.__iterate(function(Zs,lc){if(!(jr&&(jr=an++<J)))return Wn++,ht(Zs,O?lc:Wn-1,Sr)!==!1&&Wn!==ke}),Wn},Qe.__iteratorUncached=function(ht,Ut){if(ke!==0&&Ut)return this.cacheResult().__iterator(ht,Ut);if(ke===0)return new tt(Lr);var Sr=g.__iterator(ht,Ut),an=0,jr=0;return new tt(function(){for(;an++<J;)Sr.next();if(++jr>ke)return Lr();var Wn=Sr.next();return O||ht===$e||Wn.done?Wn:ht===Ne?fr(ht,jr-1,void 0,Wn):fr(ht,jr-1,Wn.value[1],Wn)})},Qe}function Le(g,v,R){var O=_o(g);return O.__iterateUncached=function(F,J){var Z=this;if(J)return this.cacheResult().__iterate(F,J);var he=0;return g.__iterate(function(ke,Qe,ht){return v.call(R,ke,Qe,ht)&&++he&&F(ke,Qe,Z)}),he},O.__iteratorUncached=function(F,J){var Z=this;if(J)return this.cacheResult().__iterator(F,J);var he=g.__iterator(Ct,J),ke=!0;return new tt(function(){if(!ke)return Lr();var Qe=he.next();if(Qe.done)return Qe;var ht=Qe.value,Ut=ht[0],Sr=ht[1];return v.call(R,Sr,Ut,Z)?F===Ct?Qe:fr(F,Ut,Sr,Qe):(ke=!1,Lr())})},O}function rt(g,v,R,O){var F=_o(g);return F.__iterateUncached=function(J,Z){var he=this;if(Z)return this.cacheResult().__iterate(J,Z);var ke=!0,Qe=0;return g.__iterate(function(ht,Ut,Sr){if(!(ke&&(ke=v.call(R,ht,Ut,Sr))))return Qe++,J(ht,O?Ut:Qe-1,he)}),Qe},F.__iteratorUncached=function(J,Z){var he=this;if(Z)return this.cacheResult().__iterator(J,Z);var ke=g.__iterator(Ct,Z),Qe=!0,ht=0;return new tt(function(){var Ut,Sr,an;do{if(Ut=ke.next(),Ut.done)return O||J===$e?Ut:J===Ne?fr(J,ht++,void 0,Ut):fr(J,ht++,Ut.value[1],Ut);var jr=Ut.value;Sr=jr[0],an=jr[1],Qe&&(Qe=v.call(R,an,Sr,he))}while(Qe);return J===Ct?Ut:fr(J,Sr,an,Ut)})},F}function zt(g,v){var R=ne(g),O=[g].concat(v).map(function(Z){return A(Z)?R&&(Z=ee(Z)):Z=R?Qi(Z):oi(Array.isArray(Z)?Z:[Z]),Z}).filter(function(Z){return Z.size!==0});if(O.length===0)return g;if(O.length===1){var F=O[0];if(F===g||R&&ne(F)||ve(g)&&ve(F))return F}var J=new ii(O);return R?J=J.toKeyedSeq():ve(g)||(J=J.toSetSeq()),J=J.flatten(!0),J.size=O.reduce(function(Z,he){if(Z!==void 0){var ke=he.size;if(ke!==void 0)return Z+ke}},0),J}function Ln(g,v,R){var O=_o(g);return O.__iterateUncached=function(F,J){if(J)return this.cacheResult().__iterate(F,J);var Z=0,he=!1;function ke(Qe,ht){Qe.__iterate(function(Ut,Sr){return(!v||ht<v)&&A(Ut)?ke(Ut,ht+1):(Z++,F(Ut,R?Sr:Z-1,O)===!1&&(he=!0)),!he},J)}return ke(g,0),Z},O.__iteratorUncached=function(F,J){if(J)return this.cacheResult().__iterator(F,J);var Z=g.__iterator(F,J),he=[],ke=0;return new tt(function(){for(;Z;){var Qe=Z.next();if(Qe.done!==!1){Z=he.pop();continue}var ht=Qe.value;if(F===Ct&&(ht=ht[1]),(!v||he.length<v)&&A(ht))he.push(Z),Z=ht.__iterator(F,J);else return R?Qe:fr(F,ke++,ht,Qe)}return Lr()})},O}function Cn(g,v,R){var O=ns(g);return g.toSeq().map(function(F,J){return O(v.call(R,F,J,g))}).flatten(!0)}function Nn(g,v){var R=_o(g);return R.size=g.size&&g.size*2-1,R.__iterateUncached=function(O,F){var J=this,Z=0;return g.__iterate(function(he){return(!Z||O(v,Z++,J)!==!1)&&O(he,Z++,J)!==!1},F),Z},R.__iteratorUncached=function(O,F){var J=g.__iterator($e,F),Z=0,he;return new tt(function(){return(!he||Z%2)&&(he=J.next(),he.done)?he:Z%2?fr(O,Z++,v):fr(O,Z++,he.value,he)})},R}function co(g,v,R){v||(v=Fi);var O=ne(g),F=0,J=g.toSeq().map(function(Z,he){return[he,Z,F++,R?R(Z,he,g):Z]}).valueSeq().toArray();return J.sort(function(Z,he){return v(Z[3],he[3])||Z[2]-he[2]}).forEach(O?function(Z,he){J[he].length=2}:function(Z,he){J[he]=Z[1]}),O?Hn(J):ve(g)?$r(J):dn(J)}function Ui(g,v,R){if(v||(v=Fi),R){var O=g.toSeq().map(function(F,J){return[F,R(F,J,g)]}).reduce(function(F,J){return Po(v,F[1],J[1])?J:F});return O&&O[0]}return g.reduce(function(F,J){return Po(v,F,J)?J:F})}function Po(g,v,R){var O=g(R,v);return O===0&&R!==v&&(R==null||R!==R)||O>0}function Gi(g,v,R,O){var F=_o(g),J=new ii(R).map(function(Z){return Z.size});return F.size=O?J.max():J.min(),F.__iterate=function(Z,he){for(var ke=this.__iterator($e,he),Qe,ht=0;!(Qe=ke.next()).done&&Z(Qe.value,ht++,this)!==!1;);return ht},F.__iteratorUncached=function(Z,he){var ke=R.map(function(Ut){return Ut=W(Ut),xt(he?Ut.reverse():Ut)}),Qe=0,ht=!1;return new tt(function(){var Ut;return ht||(Ut=ke.map(function(Sr){return Sr.next()}),ht=O?Ut.every(function(Sr){return Sr.done}):Ut.some(function(Sr){return Sr.done})),ht?Lr():fr(Z,Qe++,v.apply(null,Ut.map(function(Sr){return Sr.value})))})},F}function Jn(g,v){return g===v?g:Fe(g)?v:g.constructor(v)}function Su(g){if(g!==Object(g))throw new TypeError("Expected [K, V] tuple: "+g)}function ns(g){return ne(g)?ee:ve(g)?De:ae}function _o(g){return Object.create((ne(g)?Hn:ve(g)?$r:dn).prototype)}function yl(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Or.prototype.cacheResult.call(this)}function Fi(g,v){return g===void 0&&v===void 0?0:g===void 0?1:v===void 0?-1:g>v?1:g<v?-1:0}function nc(g,v){v=v||0;for(var R=Math.max(0,g.length-v),O=new Array(R),F=0;F<R;F++)O[F]=g[F+v];return O}function ic(g,v){if(!g)throw new Error(v)}function va(g){ic(g!==1/0,"Cannot perform this action with an infinite size.")}function _l(g){if(On(g)&&typeof g!="string")return g;if(xe(g))return g.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+g)}var kh=Object.prototype.toString;function Oc(g){if(!g||typeof g!="object"||kh.call(g)!=="[object Object]")return!1;var v=Object.getPrototypeOf(g);if(v===null)return!0;for(var R=v,O=Object.getPrototypeOf(v);O!==null;)R=O,O=Object.getPrototypeOf(R);return R===v}function sa(g){return typeof g=="object"&&(Ce(g)||Array.isArray(g)||Oc(g))}function Cu(g){try{return typeof g=="string"?JSON.stringify(g):String(g)}catch{return JSON.stringify(g)}}function Ah(g,v){return Ce(g)?g.has(v):sa(g)&&ln.call(g,v)}function Wo(g,v,R){return Ce(g)?g.get(v,R):Ah(g,v)?typeof g.get=="function"?g.get(v):g[v]:R}function Gs(g){if(Array.isArray(g))return nc(g);var v={};for(var R in g)ln.call(g,R)&&(v[R]=g[R]);return v}function Dn(g,v){if(!sa(g))throw new TypeError("Cannot update non-data-structure value: "+g);if(Ce(g)){if(!g.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+g);return g.remove(v)}if(!ln.call(g,v))return g;var R=Gs(g);return Array.isArray(R)?R.splice(v,1):delete R[v],R}function Ks(g,v,R){if(!sa(g))throw new TypeError("Cannot update non-data-structure value: "+g);if(Ce(g)){if(!g.set)throw new TypeError("Cannot update immutable value without .set() method: "+g);return g.set(v,R)}if(ln.call(g,v)&&R===g[v])return g;var O=Gs(g);return O[v]=R,O}function Tu(g,v,R,O){O||(O=R,R=void 0);var F=si(Ce(g),g,_l(v),0,R,O);return F===o?R:F}function si(g,v,R,O,F,J){var Z=v===o;if(O===R.length){var he=Z?F:v,ke=J(he);return ke===he?v:ke}if(!Z&&!sa(v))throw new TypeError("Cannot update within non-data-structure value in path ["+R.slice(0,O).map(Cu)+"]: "+v);var Qe=R[O],ht=Z?o:Wo(v,Qe,o),Ut=si(ht===o?g:Ce(ht),ht,R,O+1,F,J);return Ut===ht?v:Ut===o?Dn(v,Qe):Ks(Z?g?$o():{}:v,Qe,Ut)}function Ia(g,v,R){return Tu(g,v,o,function(){return R})}function iu(g,v){return Ia(this,g,v)}function Lh(g,v){return Tu(g,v,function(){return o})}function Cf(g){return Lh(this,g)}function Pp(g,v,R,O){return Tu(g,[v],R,O)}function Tf(g,v,R){return arguments.length===1?g(this):Pp(this,g,v,R)}function xp(g,v,R){return Tu(this,g,v,R)}function Df(){for(var g=[],v=arguments.length;v--;)g[v]=arguments[v];return Xn(this,g)}function Bl(g){for(var v=[],R=arguments.length-1;R-- >0;)v[R]=arguments[R+1];if(typeof g!="function")throw new TypeError("Invalid merger function: "+g);return Xn(this,v,g)}function Xn(g,v,R){for(var O=[],F=0;F<v.length;F++){var J=ee(v[F]);J.size!==0&&O.push(J)}return O.length===0?g:g.toSeq().size===0&&!g.__ownerID&&O.length===1?g.constructor(O[0]):g.withMutations(function(Z){for(var he=R?function(Qe,ht){Pp(Z,ht,o,function(Ut){return Ut===o?Qe:R(Ut,Qe,ht)})}:function(Qe,ht){Z.set(ht,Qe)},ke=0;ke<O.length;ke++)O[ke].forEach(he)})}function Ys(g){for(var v=[],R=arguments.length-1;R-- >0;)v[R]=arguments[R+1];return Js(g,v)}function Wl(g,v){for(var R=[],O=arguments.length-2;O-- >0;)R[O]=arguments[O+2];return Js(v,R,g)}function uo(g){for(var v=[],R=arguments.length-1;R-- >0;)v[R]=arguments[R+1];return Nh(g,v)}function Mh(g,v){for(var R=[],O=arguments.length-2;O-- >0;)R[O]=arguments[O+2];return Nh(v,R,g)}function Nh(g,v,R){return Js(g,v,Du(R))}function Js(g,v,R){if(!sa(g))throw new TypeError("Cannot merge into non-data-structure value: "+g);if(Ce(g))return typeof R=="function"&&g.mergeWith?g.mergeWith.apply(g,[R].concat(v)):g.merge?g.merge.apply(g,v):g.concat.apply(g,v);for(var O=Array.isArray(g),F=g,J=O?De:ee,Z=O?function(ke){F===g&&(F=Gs(F)),F.push(ke)}:function(ke,Qe){var ht=ln.call(F,Qe),Ut=ht&&R?R(F[Qe],ke,Qe):ke;(!ht||Ut!==F[Qe])&&(F===g&&(F=Gs(F)),F[Qe]=Ut)},he=0;he<v.length;he++)J(v[he]).forEach(Z);return F}function Du(g){function v(R,O,F){return sa(R)&&sa(O)&&Fh(R,O)?Js(R,[O],v):g?g(R,O,F):O}return v}function Fh(g,v){var R=Or(g),O=Or(v);return ve(R)===ve(O)&&ne(R)===ne(O)}function Ld(){for(var g=[],v=arguments.length;v--;)g[v]=arguments[v];return Nh(this,g)}function Ds(g){for(var v=[],R=arguments.length-1;R-- >0;)v[R]=arguments[R+1];return Nh(this,v,g)}function $l(g){for(var v=[],R=arguments.length-1;R-- >0;)v[R]=arguments[R+1];return Tu(this,g,$o(),function(O){return Js(O,v)})}function ou(g){for(var v=[],R=arguments.length-1;R-- >0;)v[R]=arguments[R+1];return Tu(this,g,$o(),function(O){return Nh(O,v)})}function jm(g){var v=this.asMutable();return g(v),v.wasAltered()?v.__ensureOwner(this.__ownerID):this}function Md(){return this.__ownerID?this:this.__ensureOwner(new c)}function Ef(){return this.__ensureOwner()}function Rf(){return this.__altered}var Ic=function(g){function v(R){return R==null?$o():Q(R)&&!xe(R)?R:$o().withMutations(function(O){var F=g(R);va(F.size),F.forEach(function(J,Z){return O.set(Z,J)})})}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.of=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];return $o().withMutations(function(J){for(var Z=0;Z<O.length;Z+=2){if(Z+1>=O.length)throw new Error("Missing value for key: "+O[Z]);J.set(O[Z],O[Z+1])}})},v.prototype.toString=function(){return this.__toString("Map {","}")},v.prototype.get=function(O,F){return this._root?this._root.get(0,void 0,O,F):F},v.prototype.set=function(O,F){return Vl(this,O,F)},v.prototype.remove=function(O){return Vl(this,O,o)},v.prototype.deleteAll=function(O){var F=W(O);return F.size===0?this:this.withMutations(function(J){F.forEach(function(Z){return J.remove(Z)})})},v.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):$o()},v.prototype.sort=function(O){return Es(co(this,O))},v.prototype.sortBy=function(O,F){return Es(co(this,F,O))},v.prototype.map=function(O,F){var J=this;return this.withMutations(function(Z){Z.forEach(function(he,ke){Z.set(ke,O.call(F,he,ke,J))})})},v.prototype.__iterator=function(O,F){return new gy(this,O,F)},v.prototype.__iterate=function(O,F){var J=this,Z=0;return this._root&&this._root.iterate(function(he){return Z++,O(he[1],he[0],J)},F),Z},v.prototype.__ensureOwner=function(O){return O===this.__ownerID?this:O?Ku(this.size,this._root,O,this.__hash):this.size===0?$o():(this.__ownerID=O,this.__altered=!1,this)},v}(ee);Ic.isMap=Q;var bo=Ic.prototype;bo[oe]=!0,bo[e]=bo.remove,bo.removeAll=bo.deleteAll,bo.setIn=iu,bo.removeIn=bo.deleteIn=Cf,bo.update=Tf,bo.updateIn=xp,bo.merge=bo.concat=Df,bo.mergeWith=Bl,bo.mergeDeep=Ld,bo.mergeDeepWith=Ds,bo.mergeIn=$l,bo.mergeDeepIn=ou,bo.withMutations=jm,bo.wasAltered=Rf,bo.asImmutable=Ef,bo["@@transducer/init"]=bo.asMutable=Md,bo["@@transducer/step"]=function(g,v){return g.set(v[0],v[1])},bo["@@transducer/result"]=function(g){return g.asImmutable()};var Op=function(v,R){this.ownerID=v,this.entries=R};Op.prototype.get=function(v,R,O,F){for(var J=this.entries,Z=0,he=J.length;Z<he;Z++)if(ft(O,J[Z][0]))return J[Z][1];return F},Op.prototype.update=function(v,R,O,F,J,Z,he){for(var ke=J===o,Qe=this.entries,ht=0,Ut=Qe.length;ht<Ut&&!ft(F,Qe[ht][0]);ht++);var Sr=ht<Ut;if(Sr?Qe[ht][1]===J:ke)return this;if(a(he),(ke||!Sr)&&a(Z),!(ke&&Qe.length===1)){if(!Sr&&!ke&&Qe.length>=xf)return jh(v,Qe,F,J);var an=v&&v===this.ownerID,jr=an?Qe:nc(Qe);return Sr?ke?ht===Ut-1?jr.pop():jr[ht]=jr.pop():jr[ht]=[F,J]:jr.push([F,J]),an?(this.entries=jr,this):new Op(v,jr)}};var Pf=function(v,R,O){this.ownerID=v,this.bitmap=R,this.nodes=O};Pf.prototype.get=function(v,R,O,F){R===void 0&&(R=$t(O));var J=1<<((v===0?R:R>>>v)&i),Z=this.bitmap;return(Z&J)===0?F:this.nodes[kp(Z&J-1)].get(v+t,R,O,F)},Pf.prototype.update=function(v,R,O,F,J,Z,he){O===void 0&&(O=$t(F));var ke=(R===0?O:O>>>R)&i,Qe=1<<ke,ht=this.bitmap,Ut=(ht&Qe)!==0;if(!Ut&&J===o)return this;var Sr=kp(ht&Qe-1),an=this.nodes,jr=Ut?an[Sr]:void 0,Wn=qh(jr,v,R+t,O,F,J,Z,he);if(Wn===jr)return this;if(!Ut&&Wn&&an.length>=qd)return Gl(v,an,ht,ke,Wn);if(Ut&&!Wn&&an.length===2&&Jg(an[Sr^1]))return an[Sr^1];if(Ut&&Wn&&an.length===1&&Jg(Wn))return Wn;var Zs=v&&v===this.ownerID,lc=Ut?Wn?ht:ht^Qe:ht|Qe,Iu=Ut?Wn?Yu(an,Sr,Wn,Zs):Ru(an,Sr,Zs):zh(an,Sr,Wn,Zs);return Zs?(this.bitmap=lc,this.nodes=Iu,this):new Pf(v,lc,Iu)};var aa=function(v,R,O){this.ownerID=v,this.count=R,this.nodes=O};aa.prototype.get=function(v,R,O,F){R===void 0&&(R=$t(O));var J=(v===0?R:R>>>v)&i,Z=this.nodes[J];return Z?Z.get(v+t,R,O,F):F},aa.prototype.update=function(v,R,O,F,J,Z,he){O===void 0&&(O=$t(F));var ke=(R===0?O:O>>>R)&i,Qe=J===o,ht=this.nodes,Ut=ht[ke];if(Qe&&!Ut)return this;var Sr=qh(Ut,v,R+t,O,F,J,Z,he);if(Sr===Ut)return this;var an=this.count;if(!Ut)an++;else if(!Sr&&(an--,an<Of))return Ip(v,ht,an,ke);var jr=v&&v===this.ownerID,Wn=Yu(ht,ke,Sr,jr);return jr?(this.count=an,this.nodes=Wn,this):new aa(v,an,Wn)};var bl=function(v,R,O){this.ownerID=v,this.keyHash=R,this.entries=O};bl.prototype.get=function(v,R,O,F){for(var J=this.entries,Z=0,he=J.length;Z<he;Z++)if(ft(O,J[Z][0]))return J[Z][1];return F},bl.prototype.update=function(v,R,O,F,J,Z,he){O===void 0&&(O=$t(F));var ke=J===o;if(O!==this.keyHash)return ke?this:(a(he),a(Z),Fd(this,v,R,O,[F,J]));for(var Qe=this.entries,ht=0,Ut=Qe.length;ht<Ut&&!ft(F,Qe[ht][0]);ht++);var Sr=ht<Ut;if(Sr?Qe[ht][1]===J:ke)return this;if(a(he),(ke||!Sr)&&a(Z),ke&&Ut===2)return new Eu(v,this.keyHash,Qe[ht^1]);var an=v&&v===this.ownerID,jr=an?Qe:nc(Qe);return Sr?ke?ht===Ut-1?jr.pop():jr[ht]=jr.pop():jr[ht]=[F,J]:jr.push([F,J]),an?(this.entries=jr,this):new bl(v,this.keyHash,jr)};var Eu=function(v,R,O){this.ownerID=v,this.keyHash=R,this.entry=O};Eu.prototype.get=function(v,R,O,F){return ft(O,this.entry[0])?this.entry[1]:F},Eu.prototype.update=function(v,R,O,F,J,Z,he){var ke=J===o,Qe=ft(F,this.entry[0]);if(Qe?J===this.entry[1]:ke)return this;if(a(he),ke){a(Z);return}return Qe?v&&v===this.ownerID?(this.entry[1]=J,this):new Eu(v,this.keyHash,[F,J]):(a(Z),Fd(this,v,R,$t(F),[F,J]))},Op.prototype.iterate=bl.prototype.iterate=function(g,v){for(var R=this.entries,O=0,F=R.length-1;O<=F;O++)if(g(R[v?F-O:O])===!1)return!1},Pf.prototype.iterate=aa.prototype.iterate=function(g,v){for(var R=this.nodes,O=0,F=R.length-1;O<=F;O++){var J=R[v?F-O:O];if(J&&J.iterate(g,v)===!1)return!1}},Eu.prototype.iterate=function(g,v){return g(this.entry)};var gy=function(g){function v(R,O,F){this._type=O,this._reverse=F,this._stack=R._root&&M_(R._root)}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.next=function(){for(var O=this._type,F=this._stack;F;){var J=F.node,Z=F.index++,he=void 0;if(J.entry){if(Z===0)return ca(O,J.entry)}else if(J.entries){if(he=J.entries.length-1,Z<=he)return ca(O,J.entries[this._reverse?he-Z:Z])}else if(he=J.nodes.length-1,Z<=he){var ke=J.nodes[this._reverse?he-Z:Z];if(ke){if(ke.entry)return ca(O,ke.entry);F=this._stack=M_(ke,F)}continue}F=this._stack=this._stack.__prev}return Lr()},v}(tt);function ca(g,v){return fr(g,v[0],v[1])}function M_(g,v){return{node:g,index:0,__prev:v}}function Ku(g,v,R,O){var F=Object.create(bo);return F.size=g,F._root=v,F.__ownerID=R,F.__hash=O,F.__altered=!1,F}var Nd;function $o(){return Nd||(Nd=Ku(0))}function Vl(g,v,R){var O,F;if(g._root){var J=s(),Z=s();if(O=qh(g._root,g.__ownerID,0,void 0,v,R,J,Z),!Z.value)return g;F=g.size+(J.value?R===o?-1:1:0)}else{if(R===o)return g;F=1,O=new Op(g.__ownerID,[[v,R]])}return g.__ownerID?(g.size=F,g._root=O,g.__hash=void 0,g.__altered=!0,g):O?Ku(F,O):$o()}function qh(g,v,R,O,F,J,Z,he){return g?g.update(v,R,O,F,J,Z,he):J===o?g:(a(he),a(Z),new Eu(v,O,[F,J]))}function Jg(g){return g.constructor===Eu||g.constructor===bl}function Fd(g,v,R,O,F){if(g.keyHash===O)return new bl(v,O,[g.entry,F]);var J=(R===0?g.keyHash:g.keyHash>>>R)&i,Z=(R===0?O:O>>>R)&i,he,ke=J===Z?[Fd(g,v,R+t,O,F)]:(he=new Eu(v,O,F),J<Z?[g,he]:[he,g]);return new Pf(v,1<<J|1<<Z,ke)}function jh(g,v,R,O){g||(g=new c);for(var F=new Eu(g,$t(R),[R,O]),J=0;J<v.length;J++){var Z=v[J];F=F.update(g,0,void 0,Z[0],Z[1])}return F}function Ip(g,v,R,O){for(var F=0,J=0,Z=new Array(R),he=0,ke=1,Qe=v.length;he<Qe;he++,ke<<=1){var ht=v[he];ht!==void 0&&he!==O&&(F|=ke,Z[J++]=ht)}return new Pf(g,F,Z)}function Gl(g,v,R,O,F){for(var J=0,Z=new Array(n),he=0;R!==0;he++,R>>>=1)Z[he]=R&1?v[J++]:void 0;return Z[O]=F,new aa(g,J+1,Z)}function kp(g){return g-=g>>1&1431655765,g=(g&858993459)+(g>>2&858993459),g=g+(g>>4)&252645135,g+=g>>8,g+=g>>16,g&127}function Yu(g,v,R,O){var F=O?g:nc(g);return F[v]=R,F}function zh(g,v,R,O){var F=g.length+1;if(O&&v+1===F)return g[v]=R,g;for(var J=new Array(F),Z=0,he=0;he<F;he++)he===v?(J[he]=R,Z=-1):J[he]=g[he+Z];return J}function Ru(g,v,R){var O=g.length-1;if(R&&v===O)return g.pop(),g;for(var F=new Array(O),J=0,Z=0;Z<O;Z++)Z===v&&(J=1),F[Z]=g[Z+J];return F}var xf=n/4,qd=n/2,Of=n/4,jd="@@__IMMUTABLE_LIST__@@";function Xs(g){return!!(g&&g[jd])}var ka=function(g){function v(R){var O=Kl();if(R==null)return O;if(Xs(R))return R;var F=g(R),J=F.size;return J===0?O:(va(J),J>0&&J<n?Ju(0,J,t,null,new su(F.toArray())):O.withMutations(function(Z){Z.setSize(J),F.forEach(function(he,ke){return Z.set(ke,he)})}))}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.of=function(){return this(arguments)},v.prototype.toString=function(){return this.__toString("List [","]")},v.prototype.get=function(O,F){if(O=l(this,O),O>=0&&O<this.size){O+=this._origin;var J=Uh(this,O);return J&&J.array[O&i]}return F},v.prototype.set=function(O,F){return Ap(this,O,F)},v.prototype.remove=function(O){return this.has(O)?O===0?this.shift():O===this.size-1?this.pop():this.splice(O,1):this},v.prototype.insert=function(O,F){return this.splice(O,0,F)},v.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=t,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):Kl()},v.prototype.push=function(){var O=arguments,F=this.size;return this.withMutations(function(J){kc(J,0,F+O.length);for(var Z=0;Z<O.length;Z++)J.set(F+Z,O[Z])})},v.prototype.pop=function(){return kc(this,0,-1)},v.prototype.unshift=function(){var O=arguments;return this.withMutations(function(F){kc(F,-O.length);for(var J=0;J<O.length;J++)F.set(J,O[J])})},v.prototype.shift=function(){return kc(this,1)},v.prototype.concat=function(){for(var O=arguments,F=[],J=0;J<arguments.length;J++){var Z=O[J],he=g(typeof Z!="string"&&zr(Z)?Z:[Z]);he.size!==0&&F.push(he)}return F.length===0?this:this.size===0&&!this.__ownerID&&F.length===1?this.constructor(F[0]):this.withMutations(function(ke){F.forEach(function(Qe){return Qe.forEach(function(ht){return ke.push(ht)})})})},v.prototype.setSize=function(O){return kc(this,0,O)},v.prototype.map=function(O,F){var J=this;return this.withMutations(function(Z){for(var he=0;he<J.size;he++)Z.set(he,O.call(F,Z.get(he),he,J))})},v.prototype.slice=function(O,F){var J=this.size;return f(O,F,J)?this:kc(this,p(O,J),_(F,J))},v.prototype.__iterator=function(O,F){var J=F?this.size:0,Z=Xg(this,F);return new tt(function(){var he=Z();return he===oc?Lr():fr(O,F?--J:J++,he)})},v.prototype.__iterate=function(O,F){for(var J=F?this.size:0,Z=Xg(this,F),he;(he=Z())!==oc&&O(he,F?--J:J++,this)!==!1;);return J},v.prototype.__ensureOwner=function(O){return O===this.__ownerID?this:O?Ju(this._origin,this._capacity,this._level,this._root,this._tail,O,this.__hash):this.size===0?Kl():(this.__ownerID=O,this.__altered=!1,this)},v}(De);ka.isList=Xs;var xo=ka.prototype;xo[jd]=!0,xo[e]=xo.remove,xo.merge=xo.concat,xo.setIn=iu,xo.deleteIn=xo.removeIn=Cf,xo.update=Tf,xo.updateIn=xp,xo.mergeIn=$l,xo.mergeDeepIn=ou,xo.withMutations=jm,xo.wasAltered=Rf,xo.asImmutable=Ef,xo["@@transducer/init"]=xo.asMutable=Md,xo["@@transducer/step"]=function(g,v){return g.push(v)},xo["@@transducer/result"]=function(g){return g.asImmutable()};var su=function(v,R){this.array=v,this.ownerID=R};su.prototype.removeBefore=function(v,R,O){if(O===R?1<<R:this.array.length===0)return this;var F=O>>>R&i;if(F>=this.array.length)return new su([],v);var J=F===0,Z;if(R>0){var he=this.array[F];if(Z=he&&he.removeBefore(v,R-t,O),Z===he&&J)return this}if(J&&!Z)return this;var ke=wl(this,v);if(!J)for(var Qe=0;Qe<F;Qe++)ke.array[Qe]=void 0;return Z&&(ke.array[F]=Z),ke},su.prototype.removeAfter=function(v,R,O){if(O===(R?1<<R:0)||this.array.length===0)return this;var F=O-1>>>R&i;if(F>=this.array.length)return this;var J;if(R>0){var Z=this.array[F];if(J=Z&&Z.removeAfter(v,R-t,O),J===Z&&F===this.array.length-1)return this}var he=wl(this,v);return he.array.splice(F+1),J&&(he.array[F]=J),he};var oc={};function Xg(g,v){var R=g._origin,O=g._capacity,F=Xu(O),J=g._tail;return Z(g._root,g._level,0);function Z(Qe,ht,Ut){return ht===0?he(Qe,Ut):ke(Qe,ht,Ut)}function he(Qe,ht){var Ut=ht===F?J&&J.array:Qe&&Qe.array,Sr=ht>R?0:R-ht,an=O-ht;return an>n&&(an=n),function(){if(Sr===an)return oc;var jr=v?--an:Sr++;return Ut&&Ut[jr]}}function ke(Qe,ht,Ut){var Sr,an=Qe&&Qe.array,jr=Ut>R?0:R-Ut>>ht,Wn=(O-Ut>>ht)+1;return Wn>n&&(Wn=n),function(){for(;;){if(Sr){var Zs=Sr();if(Zs!==oc)return Zs;Sr=null}if(jr===Wn)return oc;var lc=v?--Wn:jr++;Sr=Z(an&&an[lc],ht-t,Ut+(lc<<ht))}}}}function Ju(g,v,R,O,F,J,Z){var he=Object.create(xo);return he.size=v-g,he._origin=g,he._capacity=v,he._level=R,he._root=O,he._tail=F,he.__ownerID=J,he.__hash=Z,he.__altered=!1,he}var Qs;function Kl(){return Qs||(Qs=Ju(0,0,t))}function Ap(g,v,R){if(v=l(g,v),v!==v)return g;if(v>=g.size||v<0)return g.withMutations(function(Z){v<0?kc(Z,v).set(0,R):kc(Z,0,v+1).set(v,R)});v+=g._origin;var O=g._tail,F=g._root,J=s();return v>=Xu(g._capacity)?O=Pu(O,g.__ownerID,0,v,R,J):F=Pu(F,g.__ownerID,g._level,v,R,J),J.value?g.__ownerID?(g._root=F,g._tail=O,g.__hash=void 0,g.__altered=!0,g):Ju(g._origin,g._capacity,g._level,F,O):g}function Pu(g,v,R,O,F,J){var Z=O>>>R&i,he=g&&Z<g.array.length;if(!he&&F===void 0)return g;var ke;if(R>0){var Qe=g&&g.array[Z],ht=Pu(Qe,v,R-t,O,F,J);return ht===Qe?g:(ke=wl(g,v),ke.array[Z]=ht,ke)}return he&&g.array[Z]===F?g:(J&&a(J),ke=wl(g,v),F===void 0&&Z===ke.array.length-1?ke.array.pop():ke.array[Z]=F,ke)}function wl(g,v){return v&&g&&v===g.ownerID?g:new su(g?g.array.slice():[],v)}function Uh(g,v){if(v>=Xu(g._capacity))return g._tail;if(v<1<<g._level+t){for(var R=g._root,O=g._level;R&&O>0;)R=R.array[v>>>O&i],O-=t;return R}}function kc(g,v,R){v!==void 0&&(v|=0),R!==void 0&&(R|=0);var O=g.__ownerID||new c,F=g._origin,J=g._capacity,Z=F+v,he=R===void 0?J:R<0?J+R:F+R;if(Z===F&&he===J)return g;if(Z>=he)return g.clear();for(var ke=g._level,Qe=g._root,ht=0;Z+ht<0;)Qe=new su(Qe&&Qe.array.length?[void 0,Qe]:[],O),ke+=t,ht+=1<<ke;ht&&(Z+=ht,F+=ht,he+=ht,J+=ht);for(var Ut=Xu(J),Sr=Xu(he);Sr>=1<<ke+t;)Qe=new su(Qe&&Qe.array.length?[Qe]:[],O),ke+=t;var an=g._tail,jr=Sr<Ut?Uh(g,he-1):Sr>Ut?new su([],O):an;if(an&&Sr>Ut&&Z<J&&an.array.length){Qe=wl(Qe,O);for(var Wn=Qe,Zs=ke;Zs>t;Zs-=t){var lc=Ut>>>Zs&i;Wn=Wn.array[lc]=wl(Wn.array[lc],O)}Wn.array[Ut>>>t&i]=an}if(he<J&&(jr=jr&&jr.removeAfter(O,0,he)),Z>=Sr)Z-=Sr,he-=Sr,ke=t,Qe=null,jr=jr&&jr.removeBefore(O,0,Z);else if(Z>F||Sr<Ut){for(ht=0;Qe;){var Iu=Z>>>ke&i;if(Iu!==Sr>>>ke&i)break;Iu&&(ht+=(1<<ke)*Iu),ke-=t,Qe=Qe.array[Iu]}Qe&&Z>F&&(Qe=Qe.removeBefore(O,ke,Z-ht)),Qe&&Sr<Ut&&(Qe=Qe.removeAfter(O,ke,Sr-ht)),ht&&(Z-=ht,he-=ht)}return g.__ownerID?(g.size=he-Z,g._origin=Z,g._capacity=he,g._level=ke,g._root=Qe,g._tail=jr,g.__hash=void 0,g.__altered=!0,g):Ju(Z,he,ke,Qe,jr)}function Xu(g){return g<n?0:g-1>>>t<<t}var Es=function(g){function v(R){return R==null?Zu():we(R)?R:Zu().withMutations(function(O){var F=ee(R);va(F.size),F.forEach(function(J,Z){return O.set(Z,J)})})}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.of=function(){return this(arguments)},v.prototype.toString=function(){return this.__toString("OrderedMap {","}")},v.prototype.get=function(O,F){var J=this._map.get(O);return J!==void 0?this._list.get(J)[1]:F},v.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):Zu()},v.prototype.set=function(O,F){return ua(this,O,F)},v.prototype.remove=function(O){return ua(this,O,o)},v.prototype.__iterate=function(O,F){var J=this;return this._list.__iterate(function(Z){return Z&&O(Z[1],Z[0],J)},F)},v.prototype.__iterator=function(O,F){return this._list.fromEntrySeq().__iterator(O,F)},v.prototype.__ensureOwner=function(O){if(O===this.__ownerID)return this;var F=this._map.__ensureOwner(O),J=this._list.__ensureOwner(O);return O?au(F,J,O,this.__hash):this.size===0?Zu():(this.__ownerID=O,this.__altered=!1,this._map=F,this._list=J,this)},v}(Ic);Es.isOrderedMap=we,Es.prototype[be]=!0,Es.prototype[e]=Es.prototype.remove;function au(g,v,R,O){var F=Object.create(Es.prototype);return F.size=g?g.size:0,F._map=g,F._list=v,F.__ownerID=R,F.__hash=O,F.__altered=!1,F}var Qu;function Zu(){return Qu||(Qu=au($o(),Kl()))}function ua(g,v,R){var O=g._map,F=g._list,J=O.get(v),Z=J!==void 0,he,ke;if(R===o){if(!Z)return g;F.size>=n&&F.size>=O.size*2?(ke=F.filter(function(Qe,ht){return Qe!==void 0&&J!==ht}),he=ke.toKeyedSeq().map(function(Qe){return Qe[0]}).flip().toMap(),g.__ownerID&&(he.__ownerID=ke.__ownerID=g.__ownerID)):(he=O.remove(v),ke=J===F.size-1?F.pop():F.set(J,void 0))}else if(Z){if(R===F.get(J)[1])return g;he=O,ke=F.set(J,[v,R])}else he=O.set(v,F.size),ke=F.set(F.size,[v,R]);return g.__ownerID?(g.size=he.size,g._map=he,g._list=ke,g.__hash=void 0,g.__altered=!0,g):au(he,ke)}var Qg="@@__IMMUTABLE_STACK__@@";function sc(g){return!!(g&&g[Qg])}var Sl=function(g){function v(R){return R==null?el():sc(R)?R:el().pushAll(R)}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.of=function(){return this(arguments)},v.prototype.toString=function(){return this.__toString("Stack [","]")},v.prototype.get=function(O,F){var J=this._head;for(O=l(this,O);J&&O--;)J=J.next;return J?J.value:F},v.prototype.peek=function(){return this._head&&this._head.value},v.prototype.push=function(){var O=arguments;if(arguments.length===0)return this;for(var F=this.size+arguments.length,J=this._head,Z=arguments.length-1;Z>=0;Z--)J={value:O[Z],next:J};return this.__ownerID?(this.size=F,this._head=J,this.__hash=void 0,this.__altered=!0,this):Go(F,J)},v.prototype.pushAll=function(O){if(O=g(O),O.size===0)return this;if(this.size===0&&sc(O))return O;va(O.size);var F=this.size,J=this._head;return O.__iterate(function(Z){F++,J={value:Z,next:J}},!0),this.__ownerID?(this.size=F,this._head=J,this.__hash=void 0,this.__altered=!0,this):Go(F,J)},v.prototype.pop=function(){return this.slice(1)},v.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):el()},v.prototype.slice=function(O,F){if(f(O,F,this.size))return this;var J=p(O,this.size),Z=_(F,this.size);if(Z!==this.size)return g.prototype.slice.call(this,O,F);for(var he=this.size-J,ke=this._head;J--;)ke=ke.next;return this.__ownerID?(this.size=he,this._head=ke,this.__hash=void 0,this.__altered=!0,this):Go(he,ke)},v.prototype.__ensureOwner=function(O){return O===this.__ownerID?this:O?Go(this.size,this._head,O,this.__hash):this.size===0?el():(this.__ownerID=O,this.__altered=!1,this)},v.prototype.__iterate=function(O,F){var J=this;if(F)return new ii(this.toArray()).__iterate(function(ke,Qe){return O(ke,Qe,J)},F);for(var Z=0,he=this._head;he&&O(he.value,Z++,this)!==!1;)he=he.next;return Z},v.prototype.__iterator=function(O,F){if(F)return new ii(this.toArray()).__iterator(O,F);var J=0,Z=this._head;return new tt(function(){if(Z){var he=Z.value;return Z=Z.next,fr(O,J++,he)}return Lr()})},v}(De);Sl.isStack=sc;var Vo=Sl.prototype;Vo[Qg]=!0,Vo.shift=Vo.pop,Vo.unshift=Vo.push,Vo.unshiftAll=Vo.pushAll,Vo.withMutations=jm,Vo.wasAltered=Rf,Vo.asImmutable=Ef,Vo["@@transducer/init"]=Vo.asMutable=Md,Vo["@@transducer/step"]=function(g,v){return g.unshift(v)},Vo["@@transducer/result"]=function(g){return g.asImmutable()};function Go(g,v,R,O){var F=Object.create(Vo);return F.size=g,F._head=v,F.__ownerID=R,F.__hash=O,F.__altered=!1,F}var If;function el(){return If||(If=Go(0))}var kf="@@__IMMUTABLE_SET__@@";function zo(g){return!!(g&&g[kf])}function Yl(g){return zo(g)&&xe(g)}function Af(g,v){if(g===v)return!0;if(!A(v)||g.size!==void 0&&v.size!==void 0&&g.size!==v.size||g.__hash!==void 0&&v.__hash!==void 0&&g.__hash!==v.__hash||ne(g)!==ne(v)||ve(g)!==ve(v)||xe(g)!==xe(v))return!1;if(g.size===0&&v.size===0)return!0;var R=!V(g);if(xe(g)){var O=g.entries();return v.every(function(ke,Qe){var ht=O.next().value;return ht&&ft(ht[1],ke)&&(R||ft(ht[0],Qe))})&&O.next().done}var F=!1;if(g.size===void 0)if(v.size===void 0)typeof g.cacheResult=="function"&&g.cacheResult();else{F=!0;var J=g;g=v,v=J}var Z=!0,he=v.__iterate(function(ke,Qe){if(R?!g.has(ke):F?!ft(ke,g.get(Qe,o)):!ft(g.get(Qe,o),ke))return Z=!1,!1});return Z&&g.size===he}function ya(g,v){var R=function(O){g.prototype[O]=v[O]};return Object.keys(v).forEach(R),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(v).forEach(R),g}function xu(g){if(!g||typeof g!="object")return g;if(!A(g)){if(!sa(g))return g;g=Or(g)}if(ne(g)){var v={};return g.__iterate(function(O,F){v[F]=xu(O)}),v}var R=[];return g.__iterate(function(O){R.push(xu(O))}),R}var la=function(g){function v(R){return R==null?cu():zo(R)&&!xe(R)?R:cu().withMutations(function(O){var F=g(R);va(F.size),F.forEach(function(J){return O.add(J)})})}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.of=function(){return this(arguments)},v.fromKeys=function(O){return this(ee(O).keySeq())},v.intersect=function(O){return O=W(O).toArray(),O.length?Ns.intersect.apply(v(O.pop()),O):cu()},v.union=function(O){return O=W(O).toArray(),O.length?Ns.union.apply(v(O.pop()),O):cu()},v.prototype.toString=function(){return this.__toString("Set {","}")},v.prototype.has=function(O){return this._map.has(O)},v.prototype.add=function(O){return Jl(this,this._map.set(O,O))},v.prototype.remove=function(O){return Jl(this,this._map.remove(O))},v.prototype.clear=function(){return Jl(this,this._map.clear())},v.prototype.map=function(O,F){var J=this,Z=!1,he=Jl(this,this._map.mapEntries(function(ke){var Qe=ke[1],ht=O.call(F,Qe,Qe,J);return ht!==Qe&&(Z=!0),[ht,ht]},F));return Z?he:this},v.prototype.union=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];return O=O.filter(function(J){return J.size!==0}),O.length===0?this:this.size===0&&!this.__ownerID&&O.length===1?this.constructor(O[0]):this.withMutations(function(J){for(var Z=0;Z<O.length;Z++)typeof O[Z]=="string"?J.add(O[Z]):g(O[Z]).forEach(function(he){return J.add(he)})})},v.prototype.intersect=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];if(O.length===0)return this;O=O.map(function(Z){return g(Z)});var J=[];return this.forEach(function(Z){O.every(function(he){return he.includes(Z)})||J.push(Z)}),this.withMutations(function(Z){J.forEach(function(he){Z.remove(he)})})},v.prototype.subtract=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];if(O.length===0)return this;O=O.map(function(Z){return g(Z)});var J=[];return this.forEach(function(Z){O.some(function(he){return he.includes(Z)})&&J.push(Z)}),this.withMutations(function(Z){J.forEach(function(he){Z.remove(he)})})},v.prototype.sort=function(O){return Ko(co(this,O))},v.prototype.sortBy=function(O,F){return Ko(co(this,F,O))},v.prototype.wasAltered=function(){return this._map.wasAltered()},v.prototype.__iterate=function(O,F){var J=this;return this._map.__iterate(function(Z){return O(Z,Z,J)},F)},v.prototype.__iterator=function(O,F){return this._map.__iterator(O,F)},v.prototype.__ensureOwner=function(O){if(O===this.__ownerID)return this;var F=this._map.__ensureOwner(O);return O?this.__make(F,O):this.size===0?this.__empty():(this.__ownerID=O,this._map=F,this)},v}(ae);la.isSet=zo;var Ns=la.prototype;Ns[kf]=!0,Ns[e]=Ns.remove,Ns.merge=Ns.concat=Ns.union,Ns.withMutations=jm,Ns.asImmutable=Ef,Ns["@@transducer/init"]=Ns.asMutable=Md,Ns["@@transducer/step"]=function(g,v){return g.add(v)},Ns["@@transducer/result"]=function(g){return g.asImmutable()},Ns.__empty=cu,Ns.__make=vy;function Jl(g,v){return g.__ownerID?(g.size=v.size,g._map=v,g):v===g._map?g:v.size===0?g.__empty():g.__make(v)}function vy(g,v){var R=Object.create(Ns);return R.size=g?g.size:0,R._map=g,R.__ownerID=v,R}var vs;function cu(){return vs||(vs=vy($o()))}var Cl=function(g){function v(R,O,F){if(!(this instanceof v))return new v(R,O,F);if(ic(F!==0,"Cannot step a Range by 0"),R=R||0,O===void 0&&(O=1/0),F=F===void 0?1:Math.abs(F),O<R&&(F=-F),this._start=R,this._end=O,this._step=F,this.size=Math.max(0,Math.ceil((O-R)/F-1)+1),this.size===0){if(Hh)return Hh;Hh=this}}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},v.prototype.get=function(O,F){return this.has(O)?this._start+l(this,O)*this._step:F},v.prototype.includes=function(O){var F=(O-this._start)/this._step;return F>=0&&F<this.size&&F===Math.floor(F)},v.prototype.slice=function(O,F){return f(O,F,this.size)?this:(O=p(O,this.size),F=_(F,this.size),F<=O?new v(0,0):new v(this.get(O,this._end),this.get(F,this._end),this._step))},v.prototype.indexOf=function(O){var F=O-this._start;if(F%this._step===0){var J=F/this._step;if(J>=0&&J<this.size)return J}return-1},v.prototype.lastIndexOf=function(O){return this.indexOf(O)},v.prototype.__iterate=function(O,F){for(var J=this.size,Z=this._step,he=F?this._start+(J-1)*Z:this._start,ke=0;ke!==J&&O(he,F?J-++ke:ke++,this)!==!1;)he+=F?-Z:Z;return ke},v.prototype.__iterator=function(O,F){var J=this.size,Z=this._step,he=F?this._start+(J-1)*Z:this._start,ke=0;return new tt(function(){if(ke===J)return Lr();var Qe=he;return he+=F?-Z:Z,fr(O,F?J-++ke:ke++,Qe)})},v.prototype.equals=function(O){return O instanceof v?this._start===O._start&&this._end===O._end&&this._step===O._step:Af(this,O)},v}($r),Hh;function zd(g,v,R){for(var O=_l(v),F=0;F!==O.length;)if(g=Wo(g,O[F++],o),g===o)return R;return g}function Lp(g,v){return zd(this,g,v)}function ac(g,v){return zd(g,v,o)!==o}function zm(g){return ac(this,g)}function Hi(){va(this.size);var g={};return this.__iterate(function(v,R){g[R]=v}),g}W.isIterable=A,W.isKeyed=ne,W.isIndexed=ve,W.isAssociative=V,W.isOrdered=xe,W.Iterator=tt,ya(W,{toArray:function(){va(this.size);var v=new Array(this.size||0),R=ne(this),O=0;return this.__iterate(function(F,J){v[O++]=R?[J,F]:F}),v},toIndexedSeq:function(){return new Vs(this)},toJS:function(){return xu(this)},toKeyedSeq:function(){return new rs(this,!0)},toMap:function(){return Ic(this.toKeyedSeq())},toObject:Hi,toOrderedMap:function(){return Es(this.toKeyedSeq())},toOrderedSet:function(){return Ko(ne(this)?this.valueSeq():this)},toSet:function(){return la(ne(this)?this.valueSeq():this)},toSetSeq:function(){return new oa(this)},toSeq:function(){return ve(this)?this.toIndexedSeq():ne(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Sl(ne(this)?this.valueSeq():this)},toList:function(){return ka(ne(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(v,R){return this.size===0?v+R:v+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+R},concat:function(){for(var v=[],R=arguments.length;R--;)v[R]=arguments[R];return Jn(this,zt(this,v))},includes:function(v){return this.some(function(R){return ft(R,v)})},entries:function(){return this.__iterator(Ct)},every:function(v,R){va(this.size);var O=!0;return this.__iterate(function(F,J,Z){if(!v.call(R,F,J,Z))return O=!1,!1}),O},filter:function(v,R){return Jn(this,vt(this,v,R,!0))},partition:function(v,R){return $i(this,v,R)},find:function(v,R,O){var F=this.findEntry(v,R);return F?F[1]:O},forEach:function(v,R){return va(this.size),this.__iterate(R?v.bind(R):v)},join:function(v){va(this.size),v=v!==void 0?""+v:",";var R="",O=!0;return this.__iterate(function(F){O?O=!1:R+=v,R+=F!=null?F.toString():""}),R},keys:function(){return this.__iterator(Ne)},map:function(v,R){return Jn(this,H(this,v,R))},reduce:function(v,R,O){return da(this,v,R,O,arguments.length<2,!1)},reduceRight:function(v,R,O){return da(this,v,R,O,arguments.length<2,!0)},reverse:function(){return Jn(this,Ue(this,!0))},slice:function(v,R){return Jn(this,N(this,v,R,!0))},some:function(v,R){return!this.every(Lf(v),R)},sort:function(v){return Jn(this,co(this,v))},values:function(){return this.__iterator($e)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(v,R){return u(v?this.toSeq().filter(v,R):this)},countBy:function(v,R){return Fr(this,v,R)},equals:function(v){return Af(this,v)},entrySeq:function(){var v=this;if(v._cache)return new ii(v._cache);var R=v.toSeq().map(Ki).toIndexedSeq();return R.fromEntrySeq=function(){return v.toSeq()},R},filterNot:function(v,R){return this.filter(Lf(v),R)},findEntry:function(v,R,O){var F=O;return this.__iterate(function(J,Z,he){if(v.call(R,J,Z,he))return F=[Z,J],!1}),F},findKey:function(v,R){var O=this.findEntry(v,R);return O&&O[0]},findLast:function(v,R,O){return this.toKeyedSeq().reverse().find(v,R,O)},findLastEntry:function(v,R,O){return this.toKeyedSeq().reverse().findEntry(v,R,O)},findLastKey:function(v,R){return this.toKeyedSeq().reverse().findKey(v,R)},first:function(v){return this.find(d,null,v)},flatMap:function(v,R){return Jn(this,Cn(this,v,R))},flatten:function(v){return Jn(this,Ln(this,v,!0))},fromEntrySeq:function(){return new jo(this)},get:function(v,R){return this.find(function(O,F){return ft(F,v)},void 0,R)},getIn:Lp,groupBy:function(v,R){return ao(this,v,R)},has:function(v){return this.get(v,o)!==o},hasIn:zm,isSubset:function(v){return v=typeof v.includes=="function"?v:W(v),this.every(function(R){return v.includes(R)})},isSuperset:function(v){return v=typeof v.isSubset=="function"?v:W(v),v.isSubset(this)},keyOf:function(v){return this.findKey(function(R){return ft(R,v)})},keySeq:function(){return this.toSeq().map(Tl).toIndexedSeq()},last:function(v){return this.toSeq().reverse().first(v)},lastKeyOf:function(v){return this.toKeyedSeq().reverse().keyOf(v)},max:function(v){return Ui(this,v)},maxBy:function(v,R){return Ui(this,R,v)},min:function(v){return Ui(this,v?wi(v):Bn)},minBy:function(v,R){return Ui(this,R?wi(R):Bn,v)},rest:function(){return this.slice(1)},skip:function(v){return v===0?this:this.slice(Math.max(0,v))},skipLast:function(v){return v===0?this:this.slice(0,-Math.max(0,v))},skipWhile:function(v,R){return Jn(this,rt(this,v,R,!0))},skipUntil:function(v,R){return this.skipWhile(Lf(v),R)},sortBy:function(v,R){return Jn(this,co(this,R,v))},take:function(v){return this.slice(0,Math.max(0,v))},takeLast:function(v){return this.slice(-Math.max(0,v))},takeWhile:function(v,R){return Jn(this,Le(this,v,R))},takeUntil:function(v,R){return this.takeWhile(Lf(v),R)},update:function(v){return v(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=Ud(this))}});var is=W.prototype;is[M]=!0,is[at]=is.values,is.toJSON=is.toArray,is.__toStringMapper=Cu,is.inspect=is.toSource=function(){return this.toString()},is.chain=is.flatMap,is.contains=is.includes,ya(ee,{flip:function(){return Jn(this,Ro(this))},mapEntries:function(v,R){var O=this,F=0;return Jn(this,this.toSeq().map(function(J,Z){return v.call(R,[Z,J],F++,O)}).fromEntrySeq())},mapKeys:function(v,R){var O=this;return Jn(this,this.toSeq().flip().map(function(F,J){return v.call(R,F,J,O)}).flip())}});var tl=ee.prototype;tl[U]=!0,tl[at]=is.entries,tl.toJSON=Hi,tl.__toStringMapper=function(g,v){return Cu(v)+": "+Cu(g)},ya(De,{toKeyedSeq:function(){return new rs(this,!1)},filter:function(v,R){return Jn(this,vt(this,v,R,!1))},findIndex:function(v,R){var O=this.findEntry(v,R);return O?O[0]:-1},indexOf:function(v){var R=this.keyOf(v);return R===void 0?-1:R},lastIndexOf:function(v){var R=this.lastKeyOf(v);return R===void 0?-1:R},reverse:function(){return Jn(this,Ue(this,!1))},slice:function(v,R){return Jn(this,N(this,v,R,!1))},splice:function(v,R){var O=arguments.length;if(R=Math.max(R||0,0),O===0||O===2&&!R)return this;v=p(v,v<0?this.count():this.size);var F=this.slice(0,v);return Jn(this,O===1?F:F.concat(nc(arguments,2),this.slice(v+R)))},findLastIndex:function(v,R){var O=this.findLastEntry(v,R);return O?O[0]:-1},first:function(v){return this.get(0,v)},flatten:function(v){return Jn(this,Ln(this,v,!1))},get:function(v,R){return v=l(this,v),v<0||this.size===1/0||this.size!==void 0&&v>this.size?R:this.find(function(O,F){return F===v},void 0,R)},has:function(v){return v=l(this,v),v>=0&&(this.size!==void 0?this.size===1/0||v<this.size:this.indexOf(v)!==-1)},interpose:function(v){return Jn(this,Nn(this,v))},interleave:function(){var v=[this].concat(nc(arguments)),R=Gi(this.toSeq(),$r.of,v),O=R.flatten(!0);return R.size&&(O.size=R.size*v.length),Jn(this,O)},keySeq:function(){return Cl(0,this.size)},last:function(v){return this.get(-1,v)},skipWhile:function(v,R){return Jn(this,rt(this,v,R,!1))},zip:function(){var v=[this].concat(nc(arguments));return Jn(this,Gi(this,Aa,v))},zipAll:function(){var v=[this].concat(nc(arguments));return Jn(this,Gi(this,Aa,v,!0))},zipWith:function(v){var R=nc(arguments);return R[0]=this,Jn(this,Gi(this,v,R))}});var Ac=De.prototype;Ac[pe]=!0,Ac[be]=!0,ya(ae,{get:function(v,R){return this.has(v)?v:R},includes:function(v){return this.has(v)},keySeq:function(){return this.valueSeq()}});var Lc=ae.prototype;Lc.has=is.includes,Lc.contains=Lc.includes,Lc.keys=Lc.values,ya(Hn,tl),ya($r,Ac),ya(dn,Lc);function da(g,v,R,O,F,J){return va(g.size),g.__iterate(function(Z,he,ke){F?(F=!1,R=Z):R=v.call(O,R,Z,he,ke)},J),R}function Tl(g,v){return v}function Ki(g,v){return[v,g]}function Lf(g){return function(){return!g.apply(this,arguments)}}function wi(g){return function(){return-g.apply(this,arguments)}}function Aa(){return nc(arguments)}function Bn(g,v){return g<v?1:g>v?-1:0}function Ud(g){if(g.size===1/0)return 0;var v=xe(g),R=ne(g),O=v?1:0,F=g.__iterate(R?v?function(J,Z){O=31*O+Mc($t(J),$t(Z))|0}:function(J,Z){O=O+Mc($t(J),$t(Z))|0}:v?function(J){O=31*O+$t(J)|0}:function(J){O=O+$t(J)|0});return Xl(F,O)}function Xl(g,v){return v=Yt(v,3432918353),v=Yt(v<<15|v>>>-15,461845907),v=Yt(v<<13|v>>>-13,5),v=(v+3864292196|0)^g,v=Yt(v^v>>>16,2246822507),v=Yt(v^v>>>13,3266489909),v=rr(v^v>>>16),v}function Mc(g,v){return g^v+2654435769+(g<<6)+(g>>2)|0}var Ko=function(g){function v(R){return R==null?Ou():Yl(R)?R:Ou().withMutations(function(O){var F=ae(R);va(F.size),F.forEach(function(J){return O.add(J)})})}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.of=function(){return this(arguments)},v.fromKeys=function(O){return this(ee(O).keySeq())},v.prototype.toString=function(){return this.__toString("OrderedSet {","}")},v}(la);Ko.isOrderedSet=Yl;var cc=Ko.prototype;cc[be]=!0,cc.zip=Ac.zip,cc.zipWith=Ac.zipWith,cc.zipAll=Ac.zipAll,cc.__empty=Ou,cc.__make=fa;function fa(g,v){var R=Object.create(cc);return R.size=g?g.size:0,R._map=g,R.__ownerID=v,R}var lo;function Ou(){return lo||(lo=fa(Zu()))}var Fn={LeftThenRight:-1,RightThenLeft:1};function uu(g){if(ce(g))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(Ce(g))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(g===null||typeof g!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var Oo=function(v,R){var O;uu(v);var F=function(he){var ke=this;if(he instanceof F)return he;if(!(this instanceof F))return new F(he);if(!O){O=!0;var Qe=Object.keys(v),ht=J._indices={};J._name=R,J._keys=Qe,J._defaultValues=v;for(var Ut=0;Ut<Qe.length;Ut++){var Sr=Qe[Ut];ht[Sr]=Ut,J[Sr]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+La(this)+' with property "'+Sr+'" since that property name is part of the Record API.'):ha(J,Sr)}}return this.__ownerID=void 0,this._values=ka().withMutations(function(an){an.setSize(ke._keys.length),ee(he).forEach(function(jr,Wn){an.set(ke._indices[Wn],jr===ke._defaultValues[Wn]?void 0:jr)})}),this},J=F.prototype=Object.create(ai);return J.constructor=F,R&&(F.displayName=R),F};Oo.prototype.toString=function(){for(var v=La(this)+" { ",R=this._keys,O,F=0,J=R.length;F!==J;F++)O=R[F],v+=(F?", ":"")+O+": "+Cu(this.get(O));return v+" }"},Oo.prototype.equals=function(v){return this===v||ce(v)&&_a(this).equals(_a(v))},Oo.prototype.hashCode=function(){return _a(this).hashCode()},Oo.prototype.has=function(v){return this._indices.hasOwnProperty(v)},Oo.prototype.get=function(v,R){if(!this.has(v))return R;var O=this._indices[v],F=this._values.get(O);return F===void 0?this._defaultValues[v]:F},Oo.prototype.set=function(v,R){if(this.has(v)){var O=this._values.set(this._indices[v],R===this._defaultValues[v]?void 0:R);if(O!==this._values&&!this.__ownerID)return Ql(this,O)}return this},Oo.prototype.remove=function(v){return this.set(v)},Oo.prototype.clear=function(){var v=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:Ql(this,v)},Oo.prototype.wasAltered=function(){return this._values.wasAltered()},Oo.prototype.toSeq=function(){return _a(this)},Oo.prototype.toJS=function(){return xu(this)},Oo.prototype.entries=function(){return this.__iterator(Ct)},Oo.prototype.__iterator=function(v,R){return _a(this).__iterator(v,R)},Oo.prototype.__iterate=function(v,R){return _a(this).__iterate(v,R)},Oo.prototype.__ensureOwner=function(v){if(v===this.__ownerID)return this;var R=this._values.__ensureOwner(v);return v?Ql(this,R,v):(this.__ownerID=v,this._values=R,this)},Oo.isRecord=ce,Oo.getDescriptiveName=La;var ai=Oo.prototype;ai[Me]=!0,ai[e]=ai.remove,ai.deleteIn=ai.removeIn=Cf,ai.getIn=Lp,ai.hasIn=is.hasIn,ai.merge=Df,ai.mergeWith=Bl,ai.mergeIn=$l,ai.mergeDeep=Ld,ai.mergeDeepWith=Ds,ai.mergeDeepIn=ou,ai.setIn=iu,ai.update=Tf,ai.updateIn=xp,ai.withMutations=jm,ai.asMutable=Md,ai.asImmutable=Ef,ai[at]=ai.entries,ai.toJSON=ai.toObject=is.toObject,ai.inspect=ai.toSource=function(){return this.toString()};function Ql(g,v,R){var O=Object.create(Object.getPrototypeOf(g));return O._values=v,O.__ownerID=R,O}function La(g){return g.constructor.displayName||g.constructor.name||"Record"}function _a(g){return Qi(g._keys.map(function(v){return[v,g.get(v)]}))}function ha(g,v){try{Object.defineProperty(g,v,{get:function(){return this.get(v)},set:function(R){ic(this.__ownerID,"Cannot set on an immutable record."),this.set(v,R)}})}catch{}}var Zl=function(g){function v(R,O){if(!(this instanceof v))return new v(R,O);if(this._value=R,this.size=O===void 0?1/0:Math.max(0,O),this.size===0){if(uc)return uc;uc=this}}return g&&(v.__proto__=g),v.prototype=Object.create(g&&g.prototype),v.prototype.constructor=v,v.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},v.prototype.get=function(O,F){return this.has(O)?this._value:F},v.prototype.includes=function(O){return ft(this._value,O)},v.prototype.slice=function(O,F){var J=this.size;return f(O,F,J)?this:new v(this._value,_(F,J)-p(O,J))},v.prototype.reverse=function(){return this},v.prototype.indexOf=function(O){return ft(this._value,O)?0:-1},v.prototype.lastIndexOf=function(O){return ft(this._value,O)?this.size:-1},v.prototype.__iterate=function(O,F){for(var J=this.size,Z=0;Z!==J&&O(this._value,F?J-++Z:Z++,this)!==!1;);return Z},v.prototype.__iterator=function(O,F){var J=this,Z=this.size,he=0;return new tt(function(){return he===Z?Lr():fr(O,F?Z-++he:he++,J._value)})},v.prototype.equals=function(O){return O instanceof v?ft(this._value,O._value):Af(O)},v}($r),uc;function Hd(g,v){return Rs([],v||lu,g,"",v&&v.length>2?[]:void 0,{"":g})}function Rs(g,v,R,O,F,J){if(typeof R!="string"&&!Ce(R)&&(On(R)||zr(R)||Oc(R))){if(~g.indexOf(R))throw new TypeError("Cannot convert circular structure to Immutable");g.push(R),F&&O!==""&&F.push(O);var Z=v.call(J,O,Or(R).map(function(he,ke){return Rs(g,v,he,ke,F,R)}),F&&F.slice());return g.pop(),F&&F.pop(),Z}return R}function lu(g,v){return ve(v)?v.toList():ne(v)?v.toMap():v.toSet()}var Dl="4.3.0",ed={version:Dl,Collection:W,Iterable:W,Seq:Or,Map:Ic,OrderedMap:Es,List:ka,Stack:Sl,Set:la,OrderedSet:Ko,PairSorting:Fn,Record:Oo,Range:Cl,Repeat:Zl,is:ft,fromJS:Hd,hash:$t,isImmutable:Ce,isCollection:A,isKeyed:ne,isIndexed:ve,isAssociative:V,isOrdered:xe,isValueObject:Je,isPlainObject:Oc,isSeq:Fe,isList:Xs,isMap:Q,isOrderedMap:we,isStack:sc,isSet:zo,isOrderedSet:Yl,isRecord:ce,get:Wo,getIn:zd,has:Ah,hasIn:ac,merge:Ys,mergeDeep:uo,mergeWith:Wl,mergeDeepWith:Mh,remove:Dn,removeIn:Lh,set:Ks,setIn:Ia,update:Pp,updateIn:Tu},Bd=W;r.Collection=W,r.Iterable=Bd,r.List=ka,r.Map=Ic,r.OrderedMap=Es,r.OrderedSet=Ko,r.PairSorting=Fn,r.Range=Cl,r.Record=Oo,r.Repeat=Zl,r.Seq=Or,r.Set=la,r.Stack=Sl,r.default=ed,r.fromJS=Hd,r.get=Wo,r.getIn=zd,r.has=Ah,r.hasIn=ac,r.hash=$t,r.is=ft,r.isAssociative=V,r.isCollection=A,r.isImmutable=Ce,r.isIndexed=ve,r.isKeyed=ne,r.isList=Xs,r.isMap=Q,r.isOrdered=xe,r.isOrderedMap=we,r.isOrderedSet=Yl,r.isPlainObject=Oc,r.isRecord=ce,r.isSeq=Fe,r.isSet=zo,r.isStack=sc,r.isValueObject=Je,r.merge=Ys,r.mergeDeep=uo,r.mergeDeepWith=Mh,r.mergeWith=Wl,r.remove=Dn,r.removeIn=Lh,r.set=Ks,r.setIn=Ia,r.update=Pp,r.updateIn=Tu,r.version=Dl,Object.defineProperty(r,"__esModule",{value:!0})})});var IG=C(a2=>{"use strict";Object.defineProperty(a2,"__esModule",{value:!0});a2.ServiceSource=void 0;var jWt;(function(r){r[r.sameProcess=0]="sameProcess",r[r.otherProcessOnSameMachine=1]="otherProcessOnSameMachine",r[r.trustedServer=2]="trustedServer",r[r.untrustedServer=3]="untrustedServer"})(jWt=a2.ServiceSource||(a2.ServiceSource={}))});var kG=C(c2=>{"use strict";Object.defineProperty(c2,"__esModule",{value:!0});c2.ClientCredentialsPolicy=void 0;var zWt;(function(r){r[r.requestOverridesDefault=0]="requestOverridesDefault",r[r.filterOverridesRequest=1]="filterOverridesRequest"})(zWt=c2.ClientCredentialsPolicy||(c2.ClientCredentialsPolicy={}))});var R5e=C(AG=>{"use strict";Object.defineProperty(AG,"__esModule",{value:!0});AG.View=void 0;var UWt=require("events"),E5e=qD(),HWt=kG(),vme=class extends UWt.EventEmitter{container;audience;clientCredentials;clientCredentialsPolicy;clientCulture;clientUICulture;constructor(e,t,n,i,o,s){super(),this.container=e,this.audience=t,this.clientCredentials=n,this.clientCredentialsPolicy=i,this.clientCulture=o,this.clientUICulture=s}async getProxy(e,t,n){n?.throwIfCancelled(),t=this.applyOptionsFilter(t);let i=await this.container.getProfferingSource(e.moniker,this.audience);return i?.proffered?await i.proffered.getProxy(e,t,n):null}async getPipe(e,t,n){n?.throwIfCancelled(),t=this.applyOptionsFilter(t);let i=await this.container.getProfferingSource(e,this.audience);return i?.proffered?await i.proffered.getPipe(e,t,n):null}handshake(e,t){if(!E5e.RemoteServiceConnections.contains(e.supportedConnections,E5e.RemoteServiceConnections.IpcPipe))throw new Error("We only support pipes.");return Promise.resolve()}async requestServiceChannel(e,t,n){n?.throwIfCancelled(),t=this.applyOptionsFilter(t);let i=await this.container.getProfferingSource(e,this.audience);return i?.proffered?i.proffered.requestServiceChannel(e,t,n):Promise.resolve({})}cancelServiceRequest(e,t){throw new Error("Not yet implemented.")}applyOptionsFilter(e){let{...t}=e??{};return(this.clientCredentialsPolicy===HWt.ClientCredentialsPolicy.filterOverridesRequest||(t.clientCredentials?.length??0)===0)&&(t.clientCredentials=this.clientCredentials.toObject()),t.clientCulture=this.clientCulture,t.clientUICulture=this.clientUICulture,t}};AG.View=vme});var _me=C(LG=>{"use strict";Object.defineProperty(LG,"__esModule",{value:!0});LG.RemoteServiceBrokerWrapper=void 0;var BWt=dme(),yme=class extends BWt.IpcRelayServiceBroker{};LG.RemoteServiceBrokerWrapper=yme});var x5e=C((Hyr,P5e)=>{"use strict";function WWt(r){for(var e=5381,t=r.length;t;)e=e*33^r.charCodeAt(--t);return e>>>0}P5e.exports=WWt});var u2=C(n1=>{"use strict";var $Wt=n1&&n1.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(n1,"__esModule",{value:!0});n1.ServiceMonikerValue=void 0;var O5e=$Wt(x5e()),bme=class r{name;version;hash;constructor(e,t){typeof e=="string"?(this.name=e,this.version=t):(this.name=e.name,this.version=e.version)}equals(e){return e&&e.name===this.name&&e.version===this.version}hashCode(){return this.hash??=(0,O5e.default)(this.name)+(0,O5e.default)(this.version??""),this.hash}static from(e){return e instanceof r?e:new r(e)}};n1.ServiceMonikerValue=bme});var A5e=C(i1=>{"use strict";var VWt=i1&&i1.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(i1,"__esModule",{value:!0});i1.ProfferedServiceFactory=void 0;var I5e=VWt(UD()),GWt=require("events"),KWt=r2(),YWt=_me(),k5e=u2(),JWt=IG(),wme=class extends GWt.EventEmitter{container;descriptor;factory;source=JWt.ServiceSource.sameProcess;monikers;remoteServiceBrokerWrapper;constructor(e,t,n){super(),this.container=e,this.descriptor=t,this.factory=n,this.monikers=Object.freeze([new k5e.ServiceMonikerValue(t.moniker)]),this.remoteServiceBrokerWrapper=new YWt.RemoteServiceBrokerWrapper(this)}async getProxy(e,t,n){n?.throwIfCancelled();let i=this.container.getSecureServiceBroker(t),o=await this.invokeFactory(i,e.moniker,t??{},n??I5e.default.CONTINUE);if(!o)return null;switch(typeof o.dispose){case"undefined":o.dispose=function(){};break;case"function":break;default:throw new Error(`Service has a dispose property of type ${typeof o.dispose} instead of a function.`)}return o}async getPipe(e,t,n){n?.throwIfCancelled();let i=KWt.FullDuplexStream.CreatePair(),o=this.container.getSecureServiceBroker(t),s=this.descriptor.constructRpcConnection(i.first),a=await this.invokeFactory(o,e,t??{},n??I5e.default.CONTINUE);try{return a?(s.addLocalRpcTarget(a),s.startListening(),i.second):(s.dispose(),null)}catch(c){throw typeof a?.dispose=="function"&&a.dispose(),c}}handshake(e,t){return this.remoteServiceBrokerWrapper.handshake(e,t)}requestServiceChannel(e,t,n){return this.remoteServiceBrokerWrapper.requestServiceChannel(e,t,n)}cancelServiceRequest(e,t){return this.remoteServiceBrokerWrapper.cancelServiceRequest(e,t)}dispose(){this.container.removeRegistrations(this)}invokeFactory(e,t,n,i){let o=this.container.getServiceRegistration(k5e.ServiceMonikerValue.from(t))?.registration.allowGuestClients===!0;return this.factory(t,n,e,i)}};i1.ProfferedServiceFactory=wme});var MG=C(l2=>{"use strict";Object.defineProperty(l2,"__esModule",{value:!0});l2.ServiceAudience=void 0;var XWt;(function(r){r[r.none=0]="none",r[r.process=1]="process",r[r.local=3]="local",r[r.liveShareGuest=1024]="liveShareGuest",r[r.allClientsIncludingGuests=1027]="allClientsIncludingGuests"})(XWt=l2.ServiceAudience||(l2.ServiceAudience={}))});var L5e=C(d2=>{"use strict";Object.defineProperty(d2,"__esModule",{value:!0});d2.MissingBrokeredServiceErrorCode=void 0;var QWt;(function(r){r[r.noExplanation=0]="noExplanation",r[r.notLocallyRegistered=1]="notLocallyRegistered",r[r.chaosConfigurationDeniedRequest=2]="chaosConfigurationDeniedRequest",r[r.serviceAudienceMismatch=3]="serviceAudienceMismatch",r[r.serviceFactoryNotProffered=4]="serviceFactoryNotProffered",r[r.serviceFactoryReturnedNull=5]="serviceFactoryReturnedNull",r[r.serviceFactoryFault=6]="serviceFactoryFault",r[r.localServiceHiddenOnRemoteClient=7]="localServiceHiddenOnRemoteClient"})(QWt=d2.MissingBrokeredServiceErrorCode||(d2.MissingBrokeredServiceErrorCode={}))});var N5e=C(NG=>{"use strict";Object.defineProperty(NG,"__esModule",{value:!0});NG.ProfferedRemoteServiceBroker=void 0;var ZWt=require("events"),M5e=mme(),e$t=u2(),Sme=class extends ZWt.EventEmitter{container;remoteServiceBroker;multiplexingStream;source;serviceBroker;monikers;constructor(e,t,n,i,o){super(),this.container=e,this.remoteServiceBroker=t,this.multiplexingStream=n,this.source=i,this.monikers=o.map(e$t.ServiceMonikerValue.from),this.serviceBroker=new Promise(async(s,a)=>{try{let c=n?await M5e.RemoteServiceBroker.connectToMultiplexingRemoteServiceBroker(t,n):await M5e.RemoteServiceBroker.connectToRemoteServiceBroker(t);s(c)}catch(c){a(c)}}),this.remoteServiceBroker.on("availabilityChanged",this.onAvailabilityChanged)}async getProxy(e,t,n){return await(await this.serviceBroker).getProxy(e,t,n)}async getPipe(e,t,n){return await(await this.serviceBroker).getPipe(e,t,n)}handshake(e,t){return this.remoteServiceBroker.handshake(e,t)}requestServiceChannel(e,t,n){return this.remoteServiceBroker.requestServiceChannel(e,t,n)}cancelServiceRequest(e,t){return this.remoteServiceBroker.cancelServiceRequest(e,t)}dispose(){this.remoteServiceBroker.off("availabilityChanged",this.onAvailabilityChanged),this.container.removeRegistrations(this)}onAvailabilityChanged(e){this.container.onAvailabilityChanged(null,this,e.impactedServices),this.emit("availabilityChanged",e)}};NG.ProfferedRemoteServiceBroker=Sme});var F5e=C(FG=>{"use strict";Object.defineProperty(FG,"__esModule",{value:!0});FG.ProfferedServiceBroker=void 0;var t$t=require("events"),r$t=_me(),n$t=u2(),Cme=class extends t$t.EventEmitter{container;serviceBroker;source;monikers;remoteServiceBrokerWrapper;constructor(e,t,n,i){super(),this.container=e,this.serviceBroker=t,this.source=n,this.monikers=i.map(n$t.ServiceMonikerValue.from),this.serviceBroker.on("availabilityChanged",this.onAvailabilityChanged),this.remoteServiceBrokerWrapper=new r$t.RemoteServiceBrokerWrapper(this)}getProxy(e,t,n){return this.serviceBroker.getProxy(e,t,n)}getPipe(e,t,n){return this.serviceBroker.getPipe(e,t,n)}handshake(e,t){return this.remoteServiceBrokerWrapper.handshake(e,t)}requestServiceChannel(e,t,n){return this.remoteServiceBrokerWrapper.requestServiceChannel(e,t,n)}cancelServiceRequest(e,t){return this.remoteServiceBrokerWrapper.cancelServiceRequest(e,t)}dispose(){this.serviceBroker.off("availabilityChanged",this.onAvailabilityChanged),this.container.removeRegistrations(this)}onAvailabilityChanged(e){this.container.onAvailabilityChanged(null,this,e.impactedServices),this.emit("availabilityChanged",e)}};FG.ProfferedServiceBroker=Cme});var j5e=C(pw=>{"use strict";var i$t=pw&&pw.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),o$t=pw&&pw.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),s$t=pw&&pw.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&i$t(e,r,t);return o$t(e,r),e};Object.defineProperty(pw,"__esModule",{value:!0});pw.GlobalBrokeredServiceContainer=void 0;var SR=s$t(D5e()),Fm=IG(),Tme=R5e(),a$t=A5e(),CR=MG(),qG=L5e(),q5e=kG(),c$t=N5e(),u$t=F5e(),jG=u2(),Dme=jq(),Eme=class r{static preferredSourceOrderForRemoteServices=[Fm.ServiceSource.trustedServer,Fm.ServiceSource.untrustedServer];static preferredSourceOrderForLocalServices=[Fm.ServiceSource.sameProcess,Fm.ServiceSource.otherProcessOnSameMachine];remoteSources=SR.Map();profferedServiceIndex=SR.Map();registeredServices=SR.Map();localUserCredentials=SR.Map();constructor(){}register(e){let t=this.registeredServices,n=e.map(o=>({moniker:jG.ServiceMonikerValue.from(o.moniker),registration:o.registration}));n.forEach(o=>{if(this.registeredServices.has(o.moniker))throw new Error(`${Dme.ServiceMoniker.toString(o.moniker)} is already registered.`);t=t.set(o.moniker,o.registration)}),this.registeredServices=t;let i=!1;return{dispose:()=>{i||(n.forEach(o=>this.registeredServices=this.registeredServices.delete(o.moniker)),i=!0)}}}profferServiceFactory(e,t){return this.profferInternal(new a$t.ProfferedServiceFactory(this,e,t))}profferServiceBroker(e,t){return this.profferInternal(new u$t.ProfferedServiceBroker(this,e,Fm.ServiceSource.sameProcess,t))}profferRemoteServiceBroker(e,t,n,i){if(n===Fm.ServiceSource.sameProcess)throw new Error("Use the proffer method for local services when they are in the same process.");return this.profferInternal(new c$t.ProfferedRemoteServiceBroker(this,e,t,n,this.getAllowedMonikers(n,i?.map(jG.ServiceMonikerValue.from)??null)))}getFullAccessServiceBroker(){return new Tme.View(this,CR.ServiceAudience.process,this.localUserCredentials,q5e.ClientCredentialsPolicy.requestOverridesDefault)}getLimitedAccessServiceBroker(e,t,n){return new Tme.View(this,e,t,n)}static isLocalConsumer(e){return(e&~CR.ServiceAudience.local)===CR.ServiceAudience.none}getSecureServiceBroker(e){return new Tme.View(this,CR.ServiceAudience.process,e?.clientCredentials?SR.Map(e.clientCredentials):SR.Map(),q5e.ClientCredentialsPolicy.requestOverridesDefault)}getServiceRegistration(e){let t=this.registeredServices.get(e);if(t)return{registration:t,matchingMoniker:e};if(e.version){let n=new jG.ServiceMonikerValue(e.name);return this.getServiceRegistration(n)}return null}async getProfferingSource(e,t){let n=jG.ServiceMonikerValue.from(e),{registration:i,matchingMoniker:o}=this.getServiceRegistration(n)||{};if(!i||!o)return{errorCode:qG.MissingBrokeredServiceErrorCode.notLocallyRegistered};let s=!1;if(r.isLocalConsumer(t),!i.isExposedTo(t))return{errorCode:qG.MissingBrokeredServiceErrorCode.serviceAudienceMismatch};if(i.profferCallback){let a=i.profferCallback;i.profferCallback=void 0,await a(this,e)}for(let a of r.preferredSourceOrderForLocalServices){let c=this.profferedServiceIndex.get(a);if(c){let u=c.get(o);if(u)return{proffered:u,errorCode:qG.MissingBrokeredServiceErrorCode.noExplanation}}}return{errorCode:qG.MissingBrokeredServiceErrorCode.serviceFactoryNotProffered}}removeRegistrations(e){let t=this.profferedServiceIndex;switch(e.source){case Fm.ServiceSource.sameProcess:case Fm.ServiceSource.otherProcessOnSameMachine:let n=this.profferedServiceIndex.get(e.source);n&&(n=n.removeAll(e.monikers),this.profferedServiceIndex=this.profferedServiceIndex.set(e.source,n));break;default:this.profferedServiceIndex=this.profferedServiceIndex.remove(e.source),this.remoteSources=this.remoteSources.remove(e.source);break}this.onAvailabilityChanged(t,e)}onAvailabilityChanged(e,t,n){}getAllowedMonikers(e,t){let n=r.convertRemoteSourceToLocalAudience(e),i=[];if(t===null)for(let[o,s]of this.registeredServices)((s.audience&n)===n||e===Fm.ServiceSource.otherProcessOnSameMachine)&&i.push(o);else for(let o of t){let s=this.registeredServices.get(o);s&&((s.audience&n)===n||e===Fm.ServiceSource.otherProcessOnSameMachine)&&i.push(o)}return i}static convertRemoteSourceToLocalAudience(e){switch(e){case Fm.ServiceSource.otherProcessOnSameMachine:return CR.ServiceAudience.local;case Fm.ServiceSource.trustedServer:return CR.ServiceAudience.liveShareGuest;case Fm.ServiceSource.untrustedServer:return CR.ServiceAudience.liveShareGuest;default:throw new Error(`Source not recognized: ${e}`)}}profferInternal(e){let t=this.profferedServiceIndex;e.source>Fm.ServiceSource.otherProcessOnSameMachine&&this.remoteSources.set(e.source,e);let n=this.profferedServiceIndex.get(e.source)??SR.Map(),i=[];if(e.monikers.forEach(o=>{if(this.registeredServices.has(o)||i.push(o),n.has(o))throw new Error(`${Dme.ServiceMoniker.toString(o)} is already proffered.`);n=n.set(o,e)}),i.length>0)throw new Error(`Cannot proffer unregistered service(s): ${i.map(o=>Dme.ServiceMoniker.toString(o)).join(", ")}`);return this.profferedServiceIndex=this.profferedServiceIndex.set(e.source,n),this.onAvailabilityChanged(t,e),e}};pw.GlobalBrokeredServiceContainer=Eme});var z5e=C(UG=>{"use strict";Object.defineProperty(UG,"__esModule",{value:!0});UG.ServiceRegistration=void 0;var zG=MG(),Rme=class{audience;allowGuestClients;profferCallback;constructor(e,t,n){this.audience=e,this.allowGuestClients=t,this.profferCallback=n}get isExposedLocally(){return(this.audience&zG.ServiceAudience.local)!==zG.ServiceAudience.none}get isExposedRemotely(){return(this.audience&zG.ServiceAudience.liveShareGuest)!==zG.ServiceAudience.none}isExposedTo(e){return(e&this.audience)===e}};UG.ServiceRegistration=Rme});var U5e=C(hy=>{"use strict";Object.defineProperty(hy,"__esModule",{value:!0});hy.ClientCredentialsPolicy=hy.ServiceSource=hy.ServiceRegistration=hy.ServiceAudience=hy.GlobalBrokeredServiceContainer=void 0;var l$t=j5e();Object.defineProperty(hy,"GlobalBrokeredServiceContainer",{enumerable:!0,get:function(){return l$t.GlobalBrokeredServiceContainer}});var d$t=MG();Object.defineProperty(hy,"ServiceAudience",{enumerable:!0,get:function(){return d$t.ServiceAudience}});var f$t=z5e();Object.defineProperty(hy,"ServiceRegistration",{enumerable:!0,get:function(){return f$t.ServiceRegistration}});var h$t=IG();Object.defineProperty(hy,"ServiceSource",{enumerable:!0,get:function(){return h$t.ServiceSource}});var p$t=kG();Object.defineProperty(hy,"ClientCredentialsPolicy",{enumerable:!0,get:function(){return p$t.ClientCredentialsPolicy}})});var xme=C(ro=>{"use strict";var m$t=ro&&ro.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),H5e=ro&&ro.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&m$t(e,r,t)};Object.defineProperty(ro,"__esModule",{value:!0});ro.Observer=ro.ServiceRpcDescriptor=ro.ServiceMoniker=ro.JsonRpcConnection=ro.ServiceJsonRpcDescriptor=ro.RemoteServiceConnectionInfo=ro.RemoteServiceBroker=ro.ProtectedOperation=ro.MultiplexingRelayServiceBroker=ro.RpcMarshalable=ro.IpcRelayServiceBroker=ro.IDisposable=ro.AuthorizationServiceClient=ro.RemoteServiceConnections=ro.MessageDelimiters=ro.Formatters=void 0;var Pme=qD();Object.defineProperty(ro,"Formatters",{enumerable:!0,get:function(){return Pme.Formatters}});Object.defineProperty(ro,"MessageDelimiters",{enumerable:!0,get:function(){return Pme.MessageDelimiters}});Object.defineProperty(ro,"RemoteServiceConnections",{enumerable:!0,get:function(){return Pme.RemoteServiceConnections}});H5e(RG(),ro);var g$t=cme();Object.defineProperty(ro,"AuthorizationServiceClient",{enumerable:!0,get:function(){return g$t.AuthorizationServiceClient}});var v$t=h5e();Object.defineProperty(ro,"IDisposable",{enumerable:!0,get:function(){return v$t.IDisposable}});var y$t=dme();Object.defineProperty(ro,"IpcRelayServiceBroker",{enumerable:!0,get:function(){return y$t.IpcRelayServiceBroker}});var _$t=G5();Object.defineProperty(ro,"RpcMarshalable",{enumerable:!0,get:function(){return _$t.RpcMarshalable}});var b$t=g5e();Object.defineProperty(ro,"MultiplexingRelayServiceBroker",{enumerable:!0,get:function(){return b$t.MultiplexingRelayServiceBroker}});var w$t=y5e();Object.defineProperty(ro,"ProtectedOperation",{enumerable:!0,get:function(){return w$t.ProtectedOperation}});var S$t=mme();Object.defineProperty(ro,"RemoteServiceBroker",{enumerable:!0,get:function(){return S$t.RemoteServiceBroker}});var C$t=hme();Object.defineProperty(ro,"RemoteServiceConnectionInfo",{enumerable:!0,get:function(){return C$t.RemoteServiceConnectionInfo}});var B5e=ome();Object.defineProperty(ro,"ServiceJsonRpcDescriptor",{enumerable:!0,get:function(){return B5e.ServiceJsonRpcDescriptor}});Object.defineProperty(ro,"JsonRpcConnection",{enumerable:!0,get:function(){return B5e.JsonRpcConnection}});var T$t=jq();Object.defineProperty(ro,"ServiceMoniker",{enumerable:!0,get:function(){return T$t.ServiceMoniker}});var D$t=Xhe();Object.defineProperty(ro,"ServiceRpcDescriptor",{enumerable:!0,get:function(){return D$t.ServiceRpcDescriptor}});var E$t=C5e();Object.defineProperty(ro,"Observer",{enumerable:!0,get:function(){return E$t.Observer}});H5e(U5e(),ro)});var d3t={};g1(d3t,{activate:()=>l3t});module.exports=rT(d3t);var DA=ye(require("path")),Yi=ye(require("vscode"));var b8=ye(require("child_process")),Gw=ye(require("fs")),oge=ye(require("os")),hb=ye(require("path")),_8;function sge(r){_8=r}function nT(){if(!_8)throw new Error("Failed to set extension path");return _8}function age(){let r=process.env.TMPDIR;return r||"/tmp/"}function v1(r,e){return r.reduce((t,n)=>t+e(n),0)}async function w8(r,e){return Promise.all(r.map(e))}async function cge(r,e){let t=await w8(r,e);return r.filter((n,i)=>t[i])}function S8(r){return r?r.length:0}async function $y(r,e,t){return new Promise((n,i)=>{b8.exec(r,{cwd:e,maxBuffer:500*1024,env:t},(o,s,a)=>{o?i(new Error(`${o}
${s}
${a}`)):a&&!a.includes("screen size is bogus")?i(new Error(a)):n(s)})})}async function uge(r){return new Promise((e,t)=>{b8.exec("ps -A -o ppid,pid",(n,i,o)=>{if(n)return t(n);if(o&&!o.includes("screen size is bogus"))return t(new Error(o));if(!i)return e([]);let a=i.split(oge.EOL).map(u=>u.trim().split(/\s+/)),c=[];for(let u of a)parseInt(u[0])===r&&c.push(parseInt(u[1]));e(c)})})}async function MR(r){return new Promise(e=>{Gw.stat(r,(t,n)=>{n&&n.isFile()?e(!0):e(!1)})})}async function lge(r){return MR(r).then(async e=>new Promise((t,n)=>{if(!e)return t();Gw.unlink(r,i=>{if(i)return n(i);t()})}))}var y1=(t=>(t[t.Begin=0]="Begin",t[t.Lock=1]="Lock",t))(y1||{});function _1(r,e){let t="install."+y1[e];return hb.resolve(r.value,t)}async function E2(r,e){return MR(_1(r,e))}async function C8(r,e){return new Promise((t,n)=>{Gw.writeFile(_1(r,e),"",i=>{if(i){n(i);return}t()})})}async function dge(r,e){return new Promise((t,n)=>{Gw.unlink(_1(r,e),i=>{if(i){n(i);return}t()})})}function Kw(r){return r.split(hb.sep).join(hb.posix.sep)}function fge(r,e){let t=r.split(hb.sep),n=e.split(hb.sep);return n.length<=r.length&&n.every((i,o)=>t[o]===i)}function hge(){let r=(process.env.PATH||"").replace(/"+/g,"").split(";").filter(t=>t),e=["pwsh.exe","powershell.exe"];for(let t of e){let n=r.reduce((i,o)=>[...i,hb.join(o,t)],[]);for(let i of n)try{if(Gw.statSync(i).isFile())return t}catch{}}}var UR=ye(require("vscode")),V8=ye(require("path")),HR=ye(require("fs")),j2=ye(sT()),hye=ye(require("os"));var $8=ye(sT()),lye=require("path");var dye=require("os");async function dm(r){let e=I7e(r),t=await k7e(e);return await A7e(t,e)}function I7e(r){let e=`dotnet${vd.getPlatformExeExtension()}`,t;for(let n of r){let i=(0,lye.join)(n,e);if(vd.existsSync(i)){t=i;break}}return t}async function k7e(r){try{let e={...process.env,DOTNET_CLI_UI_LANGUAGE:"en-US"},t=r?`"${r}"`:"dotnet";return await $y(`${t} --info`,process.cwd(),e)}catch(e){let t=e instanceof Error?e.message:`${e}`;throw new Error(`Error running dotnet --info: ${t}`)}}async function A7e(r,e){try{let t=e,n=r,i,o,s,a=r.replace(/\r/gm,"").split(`
`);for(let d of a){let f;(f=/^\s*Version:\s*([^\s].*)$/.exec(d))?i=f[1]:(f=/^\s*RID:\s*([\w\-.]+)$/.exec(d))?o=f[1]:(f=/^\s*Architecture:\s*(.*)/.exec(d))&&(s=f[1])}let c={},u=e?`"${e}"`:"dotnet";a=(await $y(`${u} --list-runtimes`,process.cwd(),process.env)).split(/\r?\n/);for(let d of a){let f;if(f=/^([\w.]+) ([^ ]+) \[([^\]]+)\]$/.exec(d)){let p=f[1],_=f[2];p in c?c[p].push({Version:$8.parse(_),Path:f[3]}):c[p]=[{Version:$8.parse(_),Path:f[3]}]}}if(i!==void 0)return{CliPath:t,FullInfo:n,Version:i,RuntimeId:o,Architecture:s,Runtimes:c};throw new Error("Failed to parse dotnet version information")}catch(t){let n=t instanceof Error?t.message:`${t}`;throw new Error(`Error parsing dotnet --info: ${n}, raw info was:${dye.EOL}${r}`)}}var fye="1.0.0",L7e="22.0.0",pye="macOS 13 (Ventura)",vd=class{_extensionDir="";_debugAdapterDir="";_installCompleteFilePath="";constructor(e){this._extensionDir=e,this._debugAdapterDir=V8.join(this._extensionDir,".debugger"),this._installCompleteFilePath=V8.join(this._debugAdapterDir,"install.complete")}extensionDir(){if(this._extensionDir==="")throw new Error(UR.l10n.t("Failed to set extension directory"));return this._extensionDir}debugAdapterDir(){if(this._debugAdapterDir==="")throw new Error(UR.l10n.t("Failed to set debugadpter directory"));return this._debugAdapterDir}installCompleteFilePath(){if(this._installCompleteFilePath==="")throw new Error(UR.l10n.t("Failed to set install complete file path"));return this._installCompleteFilePath}static async writeEmptyFile(e){return new Promise((t,n)=>{HR.writeFile(e,"",i=>{i?n(i.code):t()})})}async checkDotNetCli(e){try{let t=await dm(e);if(j2.lt(t.Version,fye))throw new Error(UR.l10n.t("The .NET Core SDK located on the path is too old. .NET Core debugging will not be enabled. The minimum supported version is {0}.",fye))}catch(t){let n=t instanceof Error?t.message:`${t}`;throw new Error(UR.l10n.t("The .NET Core SDK cannot be located: {0}. .NET Core debugging will not be enabled. Make sure the .NET Core SDK is installed and is on the path.",n))}}static isMacOSSupported(){return j2.gte(hye.release(),L7e)}static existsSync(e){try{return HR.accessSync(e,HR.constants.F_OK),!0}catch(t){let n=t;if(n.code==="ENOENT"||n.code==="ENOTDIR")return!1;throw Error(n.code)}}static getPlatformExeExtension(){return process.platform==="win32"?".exe":""}};var lf=class{constructor(e){this.message=e}type=24},z2=class{type=54},S0=class extends lf{type=41},P1=class extends lf{type=67},C0=class{type=52},U2=class{type=6},aT=class{constructor(e){this.packageInfo=e}type=7},cT=class{constructor(e){this.info=e}type=8},BR=class{constructor(e){this.packageDescription=e}type=9},uT=class{type=50},T0=class{constructor(e,t){this.stage=e;this.error=t}type=10},H2=class{constructor(e){this.packageDescription=e}type=25},B2=class{constructor(e){this.fallbackUrl=e}type=26},x1=class extends lf{type=65},WR=class extends lf{type=64},W2=class{constructor(e){this.packageSize=e}type=27},$2=class{constructor(e,t){this.downloadPercentage=e;this.packageDescription=t}type=11},V2=class{type=43},$R=class{constructor(e){this.message=e}type=28},G2=class{constructor(e,t,n){this.packageDescription=e;this.url=t;this.retry=n}type=37},K2=class{type=38};var Y2=ye(require("path")),D0=class r{constructor(e){this.value=e;if(!Y2.isAbsolute(e))throw new Error("The path must be absolute")}static getAbsolutePath(...e){return new r(Y2.resolve(...e))}};var VR=class r{constructor(e,t,n,i,o,s,a,c,u,l,d,f){this.id=e;this.description=t;this.url=n;this.platforms=i;this.architectures=o;this.installPath=s;this.binaries=a;this.installTestPath=c;this.fallbackUrl=u;this.platformId=l;this.integrity=d;this.isFramework=f}static getAbsolutePathPackage(e,t){return new r(e.id,e.description,e.url,e.platforms,e.architectures,mye(e,t),N7e(e,t),M7e(e,t),e.fallbackUrl,e.platformId,e.integrity,e.isFramework)}};function M7e(r,e){if(r.installTestPath!==void 0)return D0.getAbsolutePath(e,r.installTestPath)}function N7e(r,e){let t=mye(r,e).value;return r.binaries?.map(n=>D0.getAbsolutePath(t,n))}function mye(r,e){return r.installPath!==void 0?D0.getAbsolutePath(e,r.installPath):new D0(e)}async function gye(r,e){let t=G8(r,e);return F7e(t)}function G8(r,e){return r.filter(t=>t.architectures.includes(e.architecture)&&t.platforms.includes(e.platform))}async function F7e(r){return cge(r,async e=>{let t=_1(e.installPath,1);return!await MR(t)})}function vye(r,e,t,n){let o=E0(e).map(a=>VR.getAbsolutePathPackage(a,n));return G8(o,t).find(a=>a.id===r)}function E0(r){if(r.runtimeDependencies)return JSON.parse(JSON.stringify(r.runtimeDependencies));throw new Error("No runtime dependencies found")}var _K=ye(require("child_process")),hK=ye(mT()),vT=ye(require("os")),pj=ye(require("path")),dp=ye(require("vscode"));var Ebe=ye(require("crypto")),Rbe=ye(require("fs")),hj=ye(require("os"));var x0="unknown",fK=class r{constructor(e,t){this.name=e;this.version=t}static async GetCurrent(){return r.FromFilePath("/etc/os-release").catch(async()=>r.FromFilePath("/usr/lib/os-release")).catch(async()=>Promise.resolve(new r(x0,x0)))}toString(){return`name=${this.name}, version=${this.version}`}toTelemetryString(){let e=["alpine","antergos","arch","centos","debian","deepin","elementary","fedora","galliumos","gentoo","kali","linuxmint","manjoro","neon","opensuse","parrot","rhel","ubuntu","zorin"];if(this.name===x0||e.indexOf(this.name)>=0)return this.toString();{let t=Ebe.createHash("sha256");return t.update(this.name),`other (${t.digest("hex")})`}}static async FromFilePath(e){return new Promise((t,n)=>{Rbe.readFile(e,"utf8",(i,o)=>{i?n(i):t(r.FromReleaseInfo(o))})})}static FromReleaseInfo(e,t=hj.EOL){let n=x0,i=x0,o=e.split(t);for(let s of o){s=s.trim();let a=s.indexOf("=");if(a>=0){let c=s.substring(0,a),u=s.substring(a+1);if(u.length>1&&u.startsWith('"')&&u.endsWith('"')&&(u=u.substring(1,u.length-1)),c==="ID"?n=u:c==="VERSION_ID"&&(i=u),n!==x0&&i!==x0)break}}return new r(n,i)}},ZR=class r{constructor(e,t,n){this.platform=e;this.architecture=t;this.distribution=n}isWindows(){return this.platform==="win32"}isMacOS(){return this.platform==="darwin"}isLinux(){return this.platform.startsWith("linux")}toString(){let e=`${this.platform}, ${this.architecture}`;return this.distribution!==void 0&&(e+=`, ${this.distribution.toString()}`),e}static async GetCurrent(){let e=hj.platform();if(e==="win32")return new r(e,r.GetWindowsArchitecture());if(e==="darwin")return new r(e,await r.GetUnixArchitecture());if(e==="linux"){let[t,n,i]=await Promise.all([r.GetIsMusl(),r.GetUnixArchitecture(),fK.GetCurrent()]);return new r(t?"linux-musl":e,n,i)}throw new Error(`Unsupported platform: ${e}`)}static GetWindowsArchitecture(){return process.env.PROCESSOR_ARCHITECTURE==="x86"&&process.env.PROCESSOR_ARCHITEW6432===void 0?"x86":process.env.PROCESSOR_ARCHITECTURE==="ARM64"&&process.env.PROCESSOR_ARCHITEW6432===void 0?"arm64":"x86_64"}static async GetUnixArchitecture(){let e=(await $y("uname -m",__dirname,process.env)).trim();return e==="aarch64"?"arm64":e}static async GetIsMusl(){try{return(await $y("ldd --version",__dirname,process.env)).includes("musl")}catch(e){return e instanceof Error?e.message.includes("musl"):!1}}isValidPlatformForMono(){return this.isLinux()||this.isMacOS()}};var mj=class{constructor(e){this.attachItemsProvider=e}async ShowAttachEntries(){let e=await this.attachItemsProvider.getAttachItems();return dp.window.showQuickPick(e,{ignoreFocusOut:!0,matchOnDescription:!0,matchOnDetail:!0,placeHolder:"Select the process to attach to"})}},gT=class r{static get commColumnTitle(){return Array(U1.secondColumnCharacters).join("a")}static get linuxPsCommand(){return`ps axww -o pid=,flags=,comm=${r.commColumnTitle},args=`}static get osxPsCommand(){return`ps axww -o pid=,flags=,comm=${r.commColumnTitle},args= -c`}static get debuggerCommand(){return"${debuggerCommand}"}static get scriptShellCmd(){return"sh -s"}static _channel;static async ValidateAndFixPipeProgram(e){return ZR.GetCurrent().then(t=>{if(t.isWindows()&&t.architecture==="x86_64"){let n=process.env.SystemRoot,i=pj.join(n,"System32"),o=pj.join(n,"sysnative"),s=RegExp(i.replace(/\\/g,"\\\\"),"ig"),a=e.replace(s,o);if(e.toLowerCase().startsWith(i.toLowerCase())&&!hK.existsSync(e)&&hK.existsSync(a))return a}return e})}static getPipeTransportOptions(e,t){let n=e.pipeProgram,i=e.pipeArgs,o=e.pipeCwd,s=e.quoteArgs!=null?e.quoteArgs:!0,a=this.getPlatformSpecificPipeTransportOptions(e,t);return a!==void 0&&(n=a.pipeProgram||n,i=a.pipeArgs||i,o=a.pipeCwd||o,s=a.quoteArgs!=null?a.quoteArgs:s),{pipeProgram:n,pipeArgs:i,pipeCwd:o,quoteArgs:s}}static getPlatformSpecificPipeTransportOptions(e,t){if(t==="darwin"&&e.osx)return e.osx;if(t==="linux"&&e.linux)return e.linux;if(t==="win32"&&e.windows)return e.windows}static async createPipeCmd(e,t,n){return this.ValidateAndFixPipeProgram(e).then(async i=>typeof t=="string"?Promise.resolve(this.createPipeCmdFromString(i,t,n)):t instanceof Array?Promise.resolve(this.createPipeCmdFromArray(i,t,n)):Promise.reject(new Error(dp.l10n.t("pipeArgs must be a string or a string array type"))))}static createPipeCmdFromString(e,t,n){let i=this.quoteArg(e);return t.indexOf(this.debuggerCommand)>=0?i=i.concat(" ",t.replace(/\$\{debuggerCommand\}/g,this.scriptShellCmd)):i=i.concat(" ",t.concat(" ",this.quoteArg(this.scriptShellCmd,n))),i}static createPipeCmdFromArray(e,t,n){let i=[];if(i.push(e),t.filter(o=>o.indexOf(this.debuggerCommand)>=0).length>0)for(let o of t){for(;o.indexOf(this.debuggerCommand)>=0;)o=o.replace(this.debuggerCommand,r.scriptShellCmd);i.push(o)}else i=i.concat(t),i.push(this.scriptShellCmd);return n?this.createArgumentList(i):i.join(" ")}static quoteArg(e,t=!0){return t&&e.includes(" ")?`"${e}"`:e}static createArgumentList(e){return e.map(t=>this.quoteArg(t)).join(" ")}static async ShowAttachEntries(e,t){r._channel===void 0?r._channel=dp.window.createOutputChannel(dp.l10n.t("remote-attach")):r._channel.clear();let n=e?e.name:null;if(!n)return Promise.reject(new Error(dp.l10n.t("Name not defined in current configuration.")));if(!e.pipeTransport||!e.pipeTransport.debuggerPath)return Promise.reject(new Error(dp.l10n.t('Configuration "{0}" in launch.json does not have a {1} argument with {2} for remote process listing.',n,"pipeTransport","debuggerPath")));{let i=this.getPipeTransportOptions(e.pipeTransport,vT.platform()),o=await r.createPipeCmd(i.pipeProgram,i.pipeArgs,i.quoteArgs),s=await r.getRemoteOSAndProcesses(o,i.pipeCwd,r._channel,t);return dp.window.showQuickPick(s,{ignoreFocusOut:!0,matchOnDescription:!0,matchOnDetail:!0,placeHolder:dp.l10n.t("Select the process to attach to")})}}static async getRemoteOSAndProcesses(e,t,n,i){let o=pj.join(nT(),"scripts","remoteProcessPickerScript");return VJe(`${e} < "${o}"`,t,n,i).then(async s=>{let a=s.split(/\r?\n/);if(a.length==0)return Promise.reject(new Error(dp.l10n.t("Pipe transport failed to get OS and processes.")));{let c=a[0].replace(/[\r\n]+/g,"");if(c!="Linux"&&c!="Darwin")return Promise.reject(new Error(dp.l10n.t('Operating system "{0}" not supported.',c)));if(a.length==1)return Promise.reject(new Error(dp.l10n.t("Transport attach could not obtain processes list.")));{let u=a.slice(1);return Pbe(U1.parseProcessFromPsArray(u),c)}}})}},gj=class{static Get(){if(vT.platform()==="win32"){let e=hge();return e?new mK(e):new vK}else return new pK}},z1=class{async getAttachItems(){return this.getInternalProcessEntries().then(e=>Pbe(e,vT.platform()))}};function Pbe(r,e){let t=e==="win32"?"dotnet.exe":"dotnet";return r=r.sort((i,o)=>i.name.toLowerCase()===t&&o.name.toLowerCase()===t?i.commandLine!==void 0&&o.commandLine!==void 0?i.commandLine.toLowerCase()<o.commandLine.toLowerCase()?-1:1:i.commandLine!==void 0?-1:1:i.name.toLowerCase()===t?-1:o.name.toLowerCase()===t?1:i.name.toLowerCase()<o.name.toLowerCase()?-1:1),r.map(i=>({label:i.name,description:i.pid,detail:i.commandLine,id:i.pid,flags:i.flags??0}))}var pK=class extends z1{async getInternalProcessEntries(){let e=vT.platform()==="darwin"?gT.osxPsCommand:gT.linuxPsCommand;return bK(e).then(t=>U1.parseProcessFromPs(t))}},U1=class r{static get secondColumnCharacters(){return 50}static parseProcessFromPs(e){let t=e.split(vT.EOL),n=[];for(let i=1;i<t.length;i++){let o=t[i];if(!o)continue;let s=this.parseLineFromPs(o);s&&n.push(s)}return n}static parseProcessFromPsArray(e){let t=[];for(let n=1;n<e.length;n++){let i=e[n];if(!i)continue;let o=this.parseLineFromPs(i);o&&t.push(o)}return t}static parseLineFromPs(e){let n=new RegExp(`^\\s*([0-9]+)\\s+([0-9a-fA-F]+)\\s+(.{${r.secondColumnCharacters-1}})\\s+(.*)$`).exec(e);if(n?.length===5){let i=n[1].trim(),o=parseInt(n[2].trim(),16),s=n[3].trim(),a=n[4].trim();return{name:s,pid:i,commandLine:a,flags:o}}}},mK=class extends z1{constructor(t){super();this.pwsh=t}async getInternalProcessEntries(){let t=`${this.pwsh} -NoProfile -Command`,i=await bK(`${t} "Get-CimInstance Win32_Process | Select-Object Name,ProcessId,CommandLine | ConvertTo-JSON"`);return gK.ParseProcessFromCim(i)}},gK=class{static get extendedLengthPathPrefix(){return"\\\\?\\"}static get ntObjectManagerPathPrefix(){return"\\??\\"}static ParseProcessFromCim(e){return JSON.parse(e).map(n=>{let i=n.CommandLine??void 0;return i?.startsWith(this.extendedLengthPathPrefix)&&(i=i.slice(this.extendedLengthPathPrefix.length)),i?.startsWith(this.ntObjectManagerPathPrefix)&&(i=i.slice(this.ntObjectManagerPathPrefix.length)),{name:n.Name,pid:`${n.ProcessId}`,commandLine:i}})}},vK=class extends z1{async getInternalProcessEntries(){return bK("wmic process get Name,ProcessId,CommandLine /FORMAT:list").then(t=>yK.parseProcessFromWmic(t))}},yK=class r{static get wmicNameTitle(){return"Name"}static get wmicCommandLineTitle(){return"CommandLine"}static get wmicPidTitle(){return"ProcessId"}static parseProcessFromWmic(e){let t=e.split(vT.EOL),n={},i=[];for(let o=0;o<t.length;o++){let s=t[o];s&&(this.parseLineFromWmic(s,n),s.startsWith(r.wmicPidTitle)&&(i.push(n),n={}))}return i}static parseLineFromWmic(e,t){if(e.indexOf("=")>=0){let i=e.slice(0,e.indexOf("=")),o=e.slice(e.indexOf("=")+1);if(i===r.wmicNameTitle)t.name=o.trim();else if(i===r.wmicPidTitle)t.pid=o.trim();else if(i===r.wmicCommandLineTitle){let s="\\??\\";o.startsWith(s)&&(o=o.slice(s.length).trim()),t.commandLine=o.trim()}}}};async function bK(r){return new Promise((e,t)=>{_K.exec(r,{maxBuffer:500*1024},(n,i,o)=>{if(n){t(n);return}if(o&&!o.includes("screen size is bogus")){t(new Error(o));return}e(i)})})}async function $Je(r){let e=process.env;if(r.isWindows()&&r.architecture==="x86_64"){let t=process.env.WINDIR+"\\sysnative";e.Path=process.env.PATH+";"+t}return e}async function VJe(r,e,t,n){return t.appendLine(`Executing: ${r}`),new Promise((i,o)=>{$Je(n).then(s=>{_K.exec(r,{cwd:e,env:s,maxBuffer:500*1024},(a,c,u)=>{let l="";if(c&&c.length>0&&(l=l.concat(c)),u&&u.length>0&&(l=l.concat("stderr: "+u)),a&&(l=l.concat(dp.l10n.t("Error Message: ")+a.message)),a||u&&u.length>0){t.append(l),t.show(),o(new Error(dp.l10n.t("See {0} output","remote-attach")));return}i(c)})},s=>o(s))})}var bSe=ye(CT());var _Se=ye(CT()),yd=class{onDispose;constructor(e){if(!e)throw new Error("onDispose cannot be null or empty.");e instanceof _Se.Subscription?this.onDispose=()=>e.unsubscribe():this.onDispose=e}dispose=()=>{this.onDispose()}};var mo=class extends yd{disposables=new bSe.Subscription;constructor(...e){super(()=>this.disposables.unsubscribe());for(let t of e)if(t)this.add(t);else throw new Error("null disposables are not supported")}add(e){if(!e)throw new Error("disposable cannot be null");this.disposables.add(()=>e.dispose())}};var ks=ye(require("vscode"));var wSe=ye(require("vscode")),SSe=ye(require("fs")),Wj=class r{Env;Warning;constructor(e,t){this.Env=e,this.Warning=t}static CreateFromFile(e,t){let n=SSe.readFileSync(e,"utf8");return this.CreateFromContent(n,e,t)}static CreateFromContent(e,t,n){e.charAt(0)==="\uFEFF"&&(e=e.substring(1));let i=[],o=n??{},s={...o};e.split(`
`).forEach(c=>{let u=c.match(/^\s*([\w.-]+)\s*=\s*(.*)?\s*$/);if(u!==null){let l=u[1];if(o[l]!==void 0)return;let d=u[2]??"";d.length>0&&d.charAt(0)==='"'&&d.charAt(d.length-1)==='"'&&(d=d.replace(/\\n/gm,`
`)),d=d.replace(/(^['"]|['"]$)/g,""),s[l]=d}else new RegExp(/^\s*(#|$)/).test(c)||i.push(c)});let a;return i.length!==0&&(a=wSe.l10n.t("Ignoring non-parseable lines in envFile {0}: {1}.",t,i.join(", "))),new r(s,a)}};var a7=ye(require("vscode")),c7=class{_sessions=new Set;_onDidStartDebugSession;_onDidTerminateDebugSession;_brokeredServicePipeName;initializeDebugSessionHandlers(e){this._onDidStartDebugSession=a7.debug.onDidStartDebugSession(this.onDidStartDebugSession.bind(this)),this._onDidTerminateDebugSession=a7.debug.onDidTerminateDebugSession(t=>{this.onDidTerminateDebugSession(t)}),e.subscriptions.push(this._onDidStartDebugSession),e.subscriptions.push(this._onDidTerminateDebugSession)}onDidStartDebugSession(e){e.type==="coreclr"&&this._sessions?.add(e)}onDidTerminateDebugSession(e){this._sessions?.delete(e)}async onCsDevKitInitialized(e){this._brokeredServicePipeName=e;let t=this._sessions;t?.forEach(n=>n.customRequest("initializeBrokeredServicePipeName",e)),this.cleanup()}getBrokeredServicePipeName(){return this._brokeredServicePipeName}cleanup(){this._sessions?.clear(),this._sessions=void 0,this._onDidStartDebugSession?.dispose(),this._onDidTerminateDebugSession?.dispose()}},CA=new c7;var ESe=ye(require("child_process"));var N0=ye(require("vscode")),$j=ye(require("path")),u7=class{get waitForDebugger(){return Jr("dotnet.server.waitForDebugger",!1,"omnisharp.waitForDebugger")}get serverPath(){return Jr("dotnet.server.path","","omnisharp.path","csharp.omnisharp")}get useOmnisharpServer(){return Jr("dotnet.server.useOmnisharp",!1)}get excludePaths(){return Dnt()}get defaultSolution(){let e="",t=Jr("dotnet.defaultSolution","","omnisharp.defaultLaunchSolution");if(t==="disable")e="disable";else if(N0.workspace.workspaceFolders!==void 0&&(N0.workspace.workspaceFolders.length>1&&$j.isAbsolute(t)&&(e=t),e==""))for(let n of N0.workspace.workspaceFolders){let i=N0.workspace.getConfiguration(void 0,n.uri),o=CSe(i,"dotnet.defaultSolution","","omnisharp.defaultLaunchSolution");if(o!==""&&o!=="disable"){e=$j.join(n.uri.fsPath,o);break}}return e}get unitTestDebuggingOptions(){return Jr("dotnet.unitTestDebuggingOptions",{},"csharp.unitTestDebuggingOptions")}get runSettingsPath(){return Jr("dotnet.unitTests.runSettingsPath","","omnisharp.testRunSettings")}get organizeImportsOnFormat(){return Jr("dotnet.formatting.organizeImportsOnFormat",!1)}},l7=class{get useModernNet(){return Jr("omnisharp.useModernNet",!0)}get monoPath(){return Jr("omnisharp.monoPath","")}get loggingLevel(){let e=Jr("omnisharp.loggingLevel","information");return e&&e.toLowerCase()==="verbose"&&(e="debug"),e}get autoStart(){return Jr("omnisharp.autoStart",!0)}get projectFilesExcludePattern(){return Jr("omnisharp.projectFilesExcludePattern","**/node_modules/**,**/.git/**,**/bower_components/**")}get projectLoadTimeout(){return Jr("omnisharp.projectLoadTimeout",60)}get maxProjectResults(){return Jr("omnisharp.maxProjectResults",250)}get useEditorFormattingSettings(){return Jr("omnisharp.useEditorFormattingSettings",!0)}get enableRoslynAnalyzers(){let e=Jr("omnisharp.enableRoslynAnalyzers",!1),n=Jr("dotnet.backgroundAnalysis.analyzerDiagnosticsScope",ds.useOmnisharpServer?"none":"openFiles")!="none";return e||n}get enableEditorConfigSupport(){return Jr("omnisharp.enableEditorConfigSupport",!0)}get enableDecompilationSupport(){return Jr("omnisharp.enableDecompilationSupport",!1)}get enableImportCompletion(){return Jr("dotnet.completion.showCompletionItemsFromUnimportedNamespaces",!1,"omnisharp.enableImportCompletion")}get enableAsyncCompletion(){return Jr("omnisharp.enableAsyncCompletion",!1)}get analyzeOpenDocumentsOnly(){let e=Jr("omnisharp.analyzeOpenDocumentsOnly",!1),n=Jr("dotnet.backgroundAnalysis.analyzerDiagnosticsScope",ds.useOmnisharpServer?"none":"openFiles")=="openFiles";return e||n}get disableMSBuildDiagnosticWarning(){return Jr("omnisharp.disableMSBuildDiagnosticWarning",!1)}get showOmnisharpLogOnError(){return Jr("csharp.showOmnisharpLogOnError",!0)}get minFindSymbolsFilterLength(){return Jr("omnisharp.minFindSymbolsFilterLength",0)}get maxFindSymbolsItems(){return Jr("omnisharp.maxFindSymbolsItems",1e3)}get enableMsBuildLoadProjectsOnDemand(){return Jr("omnisharp.enableMsBuildLoadProjectsOnDemand",!1)}get sdkPath(){return Jr("omnisharp.sdkPath","")}get sdkVersion(){return Jr("omnisharp.sdkVersion","")}get sdkIncludePrereleases(){return Jr("omnisharp.sdkIncludePrereleases",!0)}get dotNetCliPaths(){return Jr("omnisharp.dotNetCliPaths",[])}get useFormatting(){return Jr("csharp.format.enable",!0)}get showReferencesCodeLens(){return Jr("dotnet.codeLens.enableReferencesCodeLens",!0,"csharp.referencesCodeLens.enabled")}get showTestsCodeLens(){return Jr("dotnet.codeLens.enableTestsCodeLens",!0,"csharp.testsCodeLens.enabled")}get filteredSymbolsCodeLens(){return Jr("csharp.referencesCodeLens.filteredSymbols",[])}get disableCodeActions(){return Jr("csharp.disableCodeActions",!1)}get useSemanticHighlighting(){return Jr("csharp.semanticHighlighting.enabled",!0)}get inlayHintsEnableForParameters(){return Jr("dotnet.inlayHints.enableInlayHintsForParameters",!1,"csharp.inlayHints.parameters.enabled")}get inlayHintsForLiteralParameters(){return Jr("dotnet.inlayHints.enableInlayHintsForLiteralParameters",!1,"csharp.inlayHints.parameters.forLiteralParameters")}get inlayHintsForObjectCreationParameters(){return Jr("dotnet.inlayHints.enableInlayHintsForObjectCreationParameters",!1,"csharp.inlayHints.parameters.forObjectCreationParameters")}get inlayHintsForIndexerParameters(){return Jr("dotnet.inlayHints.enableInlayHintsForIndexerParameters",!1,"csharp.inlayHints.parameters.forIndexerParameters")}get inlayHintsForOtherParameters(){return Jr("dotnet.inlayHints.enableInlayHintsForOtherParameters",!1,"csharp.inlayHints.parameters.forOtherParameters")}get inlayHintsSuppressForParametersThatDifferOnlyBySuffix(){return Jr("dotnet.inlayHints.suppressInlayHintsForParametersThatDifferOnlyBySuffix",!1,"csharp.inlayHints.parameters.suppressForParametersThatDifferOnlyBySuffix")}get inlayHintsSuppressForParametersThatMatchMethodIntent(){return Jr("dotnet.inlayHints.suppressInlayHintsForParametersThatMatchMethodIntent",!1,"csharp.inlayHints.parameters.suppressForParametersThatMatchMethodIntent")}get inlayHintsSuppressForParametersThatMatchArgumentName(){return Jr("dotnet.inlayHints.suppressInlayHintsForParametersThatMatchArgumentName",!1,"csharp.inlayHints.parameters.suppressForParametersThatMatchArgumentName")}get inlayHintsEnableForTypes(){return Jr("csharp.inlayHints.enableInlayHintsForTypes",!1,"csharp.inlayHints.types.enabled")}get inlayHintsForImplicitVariableTypes(){return Jr("csharp.inlayHints.enableInlayHintsForImplicitVariableTypes",!1,"csharp.inlayHints.types.forImplicitVariableTypes")}get inlayHintsForLambdaParameterTypes(){return Jr("csharp.inlayHints.enableInlayHintsForLambdaParameterTypes",!1,"csharp.inlayHints.types.forLambdaParameterTypes")}get inlayHintsForImplicitObjectCreation(){return Jr("csharp.inlayHints.enableInlayHintsForImplicitObjectCreation",!1,"csharp.inlayHints.types.forImplicitObjectCreation")}get maxProjectFileCountForDiagnosticAnalysis(){return Jr("csharp.maxProjectFileCountForDiagnosticAnalysis",1e3)}get suppressDotnetRestoreNotification(){return Jr("csharp.suppressDotnetRestoreNotification",!1)}get enableLspDriver(){return Jr("omnisharp.enableLspDriver",!1)}get dotnetPath(){return Jr("omnisharp.dotnetPath","")}},d7=class{get documentSelector(){return Jr("dotnet.server.documentSelector",["csharp"])}get extensionsPaths(){return Jr("dotnet.server.extensionPaths",null)}get preferCSharpExtension(){return Jr("dotnet.preferCSharpExtension",!1)}get startTimeout(){return Jr("dotnet.server.startTimeout",3e4)}get crashDumpPath(){return Jr("dotnet.server.crashDumpPath",void 0)}get analyzerDiagnosticScope(){return Jr("dotnet.backgroundAnalysis.analyzerDiagnosticsScope","openFiles")}get compilerDiagnosticScope(){return Jr("dotnet.backgroundAnalysis.compilerDiagnosticsScope","openFiles")}get componentPaths(){return Jr("dotnet.server.componentPaths",{})}get enableXamlTools(){return Jr("dotnet.enableXamlTools",!0)}get suppressLspErrorToasts(){return Jr("dotnet.server.suppressLspErrorToasts",!1)}get suppressMiscellaneousFilesToasts(){return Jr("dotnet.server.suppressMiscellaneousFilesToasts",!1)}get useServerGC(){return Jr("dotnet.server.useServerGC",!0)}get reportInformationAsHint(){return Jr("dotnet.diagnostics.reportInformationAsHint",!0)}},f7=class{get razorDevMode(){return Jr("razor.devmode",!1)}get razorPluginPath(){return Jr("razor.plugin.path","")}get razorServerPath(){return Jr("razor.languageServer.directory","")}get cohostingEnabled(){return Jr("razor.languageServer.cohostingEnabled",!1)}},ds=new u7,qr=new l7,fs=new d7,rh=new f7;function Dnt(){let r=N0.workspace.getConfiguration();return t(r,"files.exclude");function t(n,i){let o=n.get(i,{});return Object.entries(o).filter(([s,a])=>a).map(([s,a])=>s)}}function CSe(r,e,t,...n){let i=r.get(e);return i===void 0&&n.length>0&&(i=n.map(o=>r.get(o)).find(o=>o)),i??t}function Jr(r,e,...t){return CSe(N0.workspace.getConfiguration(),r,e,...t)}var Vj=["waitForDebugger","serverPath","useOmnisharpServer"],TSe=["dotnetPath","enableMsBuildLoadProjectsOnDemand","loggingLevel","enableEditorConfigSupport","enableDecompilationSupport","enableImportCompletion","enableAsyncCompletion","useModernNet","enableLspDriver","sdkPath","sdkVersion","sdkIncludePrereleases","analyzeOpenDocumentsOnly","enableRoslynAnalyzers","inlayHintsEnableForParameters","inlayHintsForLiteralParameters","inlayHintsForObjectCreationParameters","inlayHintsForIndexerParameters","inlayHintsForOtherParameters","inlayHintsSuppressForParametersThatDifferOnlyBySuffix","inlayHintsSuppressForParametersThatMatchMethodIntent","inlayHintsSuppressForParametersThatMatchArgumentName","inlayHintsEnableForTypes","inlayHintsForImplicitVariableTypes","inlayHintsForLambdaParameterTypes","inlayHintsForImplicitObjectCreation"],DSe=["documentSelector","preferCSharpExtension","componentPaths","enableXamlTools","useServerGC","reportInformationAsHint"];async function RSe(){return await xSe(`${OSe()} dev-certs https --check --trust`,process.cwd(),process.env)}async function PSe(){return await xSe(`${OSe()} dev-certs https --trust`,process.cwd(),process.env)}async function xSe(r,e=nT(),t={}){return new Promise(n=>{ESe.exec(r,{cwd:e,maxBuffer:500*1024,env:t},(i,o,s)=>{n({error:i,stdout:o,stderr:s})})})}function OSe(){return ds.useOmnisharpServer?qr.dotnetPath??"dotnet":"dotnet"}var ISe=ye(require("vscode"));var eS="ms-dotnettools.csdevkit",Gj="ms-dotnettools.vscodeintellicode-csharp";function Sa(){if(!fs.preferCSharpExtension)return ISe.extensions.getExtension(eS)}function Vi(r,e,...t){TA(r,e,void 0,...t)}function TA(r,e,t,...n){h7(r,r.window.showErrorMessage,e,t,...n)}function pp(r,e,...t){h7(r,r.window.showWarningMessage,e,void 0,...t)}function Ca(r,e,...t){h7(r,r.window.showInformationMessage,e,void 0,...t)}function h7(r,e,t,n,...i){e(t,n===void 0?{}:n,...i).then(async s=>{if(s){if(typeof s=="string")return;"action"in s&&s.action?await s.action():"command"in s&&s.command&&(s.arguments?await r.commands.executeCommand(s.command,...s.arguments):await r.commands.executeCommand(s.command))}},s=>{console.log(s)})}var F0=class{constructor(e,t){this.platformInformation=e;this.csharpOutputChannel=t}async resolveDebugConfiguration(e,t,n){return Object.keys(t).length==0?Sa()?void 0:null:(this.loadSettingDebugOptions(t),t)}async resolveDebugConfigurationWithSubstitutedVariables(e,t,n){if(!t.type)return null;let i=CA.getBrokeredServicePipeName();if(i!==void 0&&(t.brokeredServicePipeName=i),t.request==="launch"&&(!t.cwd&&!t.pipeTransport&&(t.cwd=e?.uri.fsPath),t.internalConsoleOptions||(t.internalConsoleOptions=t.console==="integratedTerminal"?"neverOpen":"openOnSessionStart"),t.envFile!==void 0&&t.envFile.length>0&&(t=this.parseEnvFile(t.envFile,t))),t.request==="attach"&&!t.processId&&!t.processName){let o;if(t.pipeTransport)o=await gT.ShowAttachEntries(t,this.platformInformation);else{let s=gj.Get();o=await new mj(s).ShowAttachEntries()}if(o!==void 0)t.processId=o.id,t.type=="coreclr"&&this.platformInformation.isMacOS()&&this.platformInformation.architecture=="arm64"&&(o.flags&131072?t.targetArchitecture="x86_64":t.targetArchitecture="arm64");else{TA(ks,ks.l10n.t("No process was selected."),{modal:!0});return}}if(!(!this.platformInformation.isLinux()&&!ks.env.remoteName&&ks.env.uiKind!=ks.UIKind.Web&&!t.pipeTransport&&(t.checkForDevCert===void 0&&t.serverReadyAction&&t.type==="coreclr"&&(t.checkForDevCert=!0),t.checkForDevCert&&!await this.checkForDevCerts())))return t}parseEnvFile(e,t){try{let n=Wj.CreateFromFile(e,t.env);n.Warning&&this.showFileWarning(n.Warning,e),t.env=n.Env}catch(n){throw new Error(ks.l10n.t("Can't parse envFile {0} because of {1}",e,`${n}`))}return delete t.envFile,t}showFileWarning(e,t){let n={title:ks.l10n.t("Open envFile"),action:async()=>{let i=await ks.workspace.openTextDocument(t);await ks.window.showTextDocument(i)}};pp(ks,e,n)}loadSettingDebugOptions(e){let t=ks.workspace.getConfiguration("csharp").get("debug"),n=JSON.parse(JSON.stringify(t)),i=Object.keys(n);for(let o of i){if(Object.prototype.hasOwnProperty.call(e,o)||o==="console"||o=="debugConsoleVerbosity")continue;let s=n[o];this.CheckIfSettingIsEmpty(s)||(e[o]=s)}}CheckIfSettingIsEmpty(e){switch(typeof e){case"object":return Array.isArray(e)?e.length===0:Object.keys(e).length===0;case"string":return!e;case"boolean":case"number":return!1;default:throw"Unknown type to check to see if setting is empty"}}async checkForDevCerts(){let e;for(;e===void 0;){let n=(await RSe()).error?.code;if(n===7||n===6){let i=ks.l10n.t("Yes"),o=ks.l10n.t("More Information"),s=await ks.window.showWarningMessage(ks.l10n.t("Security Warning"),{modal:!0,detail:ks.l10n.t("The selected launch configuration is configured to launch a web browser but no trusted development certificate was found. Create a trusted self-signed certificate?")},i,o);if(s===i){let a=await PSe();if(a.error===null){let c=n===7?"trusted":"created";Ca(ks,ks.l10n.t("Self-signed certificate successfully {0}",c)),e=!0}else{this.csharpOutputChannel.appendLine(ks.l10n.t(`Couldn't create self-signed certificate. {0}
code: {1}
stdout: {2}`,a.error.message,`${a.error.code}`,a.stdout));let c={title:ks.l10n.t("Show Output"),action:async()=>{this.csharpOutputChannel.show()}};pp(ks,ks.l10n.t("Couldn't create self-signed certificate. See output for more information."),c),e=!1}}else s===o?await ks.env.openExternal(ks.Uri.parse("https://aka.ms/VSCode-CS-CheckForDevCert")):s===void 0&&(e=!0)}else e=!0}return e}};async function kSe(r,e,t,n,i,o){let s=new mo,a=new vd(e.extensionPath);vd.existsSync(a.debugAdapterDir())?vd.existsSync(a.installCompleteFilePath())||await LSe(a,t,n):await ASe(t,n)&&(n.post(new S0(Yi.l10n.t("[ERROR]: C# Extension failed to install the debugger package."))),Ent(n)),s.add(Yi.commands.registerCommand("csharp.listProcess",()=>"")),s.add(Yi.commands.registerCommand("csharp.listRemoteProcess",()=>"")),s.add(Yi.commands.registerCommand("csharp.listRemoteDockerProcess",async u=>{let l=await gT.ShowAttachEntries(u,t);return l?l.id:Promise.reject(new Error(Yi.l10n.t("Could not find a process id to attach.")))})),s.add(Yi.commands.registerCommand("csharp.attachToProcess",async()=>{if(o)try{await o}catch(u){throw u&&new Error(Yi.l10n.t("Unable to launch Attach to Process dialog: ")+u.message)}await Yi.debug.startDebugging(void 0,{name:".NET Core Attach",type:"coreclr",request:"attach"},void 0)}));let c=new p7(a,t,n,r.packageJSON,r.extensionPath);e.subscriptions.push(Yi.debug.registerDebugConfigurationProvider("clr",new F0(t,i))),e.subscriptions.push(Yi.debug.registerDebugConfigurationProvider("monovsdbg",new F0(t,i))),s.add(Yi.debug.registerDebugAdapterDescriptorFactory("coreclr",c)),s.add(Yi.debug.registerDebugAdapterDescriptorFactory("clr",c)),s.add(Yi.debug.registerDebugAdapterDescriptorFactory("monovsdbg",c)),e.subscriptions.push(s)}async function ASe(r,e){if(r){if(r.isMacOS())return r.architecture!=="arm64"&&r.architecture!=="x86_64"?(e.post(new S0(Yi.l10n.t("[ERROR] The debugger cannot be installed. The debugger is not supported on '{0}'",r.architecture))),!1):vd.isMacOSSupported()?!0:(e.post(new S0(Yi.l10n.t("[ERROR] The debugger cannot be installed. The debugger requires {0} or newer.",pye))),!1);if(r.isWindows())return r.architecture==="x86"?(e.post(new P1(Yi.l10n.t("[WARNING]: x86 Windows is not supported by the .NET debugger. Debugging will not be available."))),!1):!0;if(r.isLinux())return!0}return e.post(new S0(Yi.l10n.t("[ERROR] The debugger cannot be installed. Unknown platform."))),!1}async function LSe(r,e,t){try{return await r.checkDotNetCli(qr.dotNetCliPaths),await ASe(e,t)?(await vd.writeEmptyFile(r.installCompleteFilePath()),!0):(t.post(new C0),Vi(Yi,Yi.l10n.t("Failed to complete the installation of the C# extension. Please see the error in the output window below.")),!1)}catch(n){let i=n;return Rnt(i.message),t.post(new P1(i.message)),!1}}function Ent(r){r.post(new C0),Vi(Yi,Yi.l10n.t("An error occurred during installation of the .NET Debugger. The C# extension may need to be reinstalled."))}function Rnt(r){if(!Yi.workspace.getConfiguration("csharp").get("suppressDotnetInstallWarning",!1)){let t={title:Yi.l10n.t("Get the SDK"),action:async()=>{await Yi.env.openExternal(Yi.Uri.parse("https://dot.net/core-sdk-vscode"))}},n={title:Yi.l10n.t("Disable message in settings"),action:async()=>{await Yi.commands.executeCommand("workbench.action.openGlobalSettings")}},i={title:Yi.l10n.t("Help"),action:async()=>{await Yi.env.openExternal(Yi.Uri.parse("https://aka.ms/VSCode-CS-DotnetNotFoundHelp"))}};Vi(Yi,r,n,t,i)}}var p7=class{constructor(e,t,n,i,o){this.debugUtil=e;this.platformInfo=t;this.eventStream=n;this.packageJSON=i;this.extensionPath=o}async createDebugAdapterDescriptor(e,t){let n=new vd(nT());if(!vd.existsSync(n.debugAdapterDir())){let o=!1,s=vye("Debugger",this.packageJSON,this.platformInfo,this.extensionPath);if(s?.installPath&&(o=await E2(s.installPath,1)),o){if(!vd.existsSync(n.installCompleteFilePath())&&!await LSe(this.debugUtil,this.platformInfo,this.eventStream))throw this.eventStream.post(new C0),new Error(Yi.l10n.t("Failed to complete the installation of the C# extension. Please see the error in the output window below."))}else throw this.eventStream.post(new C0),new Error(Yi.l10n.t("The C# extension is still downloading packages. Please see progress in the output window below."))}let i=e.configuration.pipeTransport;if(!t||typeof i=="object"){let o=await dm(qr.dotNetCliPaths),s=process.env.DOTNET_ROOT??(o.CliPath?DA.dirname(o.CliPath):""),a={};s&&(a={env:{DOTNET_ROOT:s}});let c="",u=[];typeof i=="object"?(i.debuggerPath?c=i.debuggerPath:c=DA.join(nT(),".debugger","netcoredbg","netcoredbg"+vd.getPlatformExeExtension()),i.debuggerArgs?u=i.debuggerArgs:u.push("--interpreter=vscode","--"),i.pipeProgram&&u.push(i.pipeProgram),i.pipeArgs&&u.push(...i.pipeArgs),i.pipeCwd&&(a.cwd=i.pipeCwd)):(c=DA.join(nT(),".debugger","netcoredbg","netcoredbg"+vd.getPlatformExeExtension()),u=["--interpreter=vscode"]),t=new Yi.DebugAdapterExecutable(c,u,a)}return t}};var y2=ye(require("vscode"));var pb=class{constructor(e){this.channel=e}showChannel(e){this.channel.show(e)}clearChannel(){this.channel.clear()}};var Kj=class extends pb{post=e=>{switch(e.type){case 6:case 37:case 10:case 52:case 41:case 48:this.showChannel(!0);break;case 82:this.showChannel(!1);break}}};var MSe;var EA=class{_writer;_prefix;_indentLevel=0;_indentSize=4;_atLineStart=!1;constructor(e,t){this._writer=e,this._prefix=t}_appendCore(e){if(this._atLineStart){if(this._indentLevel>0){let t=" ".repeat(this._indentLevel*this._indentSize);this.write(t)}this._prefix!==void 0&&this.write(`[${this._prefix}] `),this._atLineStart=!1}this.write(e)}increaseIndent(){this._indentLevel+=1}decreaseIndent(){this._indentLevel>0&&(this._indentLevel-=1)}append(e=""){this._appendCore(e)}appendLine(e=""){this._appendCore(e+`
`),this._atLineStart=!0}write(e){this._writer(e),MSe&&MSe(e)}};var nh=class{logger;constructor(e){e instanceof EA?this.logger=e:this.logger=new EA(t=>e.append(t))}};var Uu=class extends Error{constructor(t,n){super(t);this.message=t;this.err=n}};var TT=class extends Uu{constructor(t,n,i){super(t,i);this.message=t;this.pkg=n;this.innerError=i}};var Yj=class extends nh{dots=0;post=e=>{switch(e.type){case 54:this.logger.appendLine("[ERROR]: C# Extension failed to get platform information.");break;case 7:this.handlePackageInstallation(e);break;case 8:this.handlePlatformInfo(e);break;case 10:this.handleInstallationFailure(e);break;case 50:this.logger.appendLine("Finished"),this.logger.appendLine();break;case 9:this.handleInstallationStart(e);break;case 25:this.handleDownloadStart(e);break;case 11:this.handleDownloadProgress(e);break;case 65:case 64:case 41:case 67:this.handleEventWithMessage(e);break;case 26:this.handleDownloadFallback(e);break;case 27:this.handleDownloadSizeObtained(e);break;case 37:this.handleIntegrityCheckFailure(e);break;case 43:this.handleDownloadValidation();break;case 38:this.handleIntegrityCheckSuccess();break}};handleDownloadValidation(){this.logger.appendLine("Validating download...")}handleIntegrityCheckSuccess(){this.logger.appendLine("Integrity Check succeeded.")}handleIntegrityCheckFailure(e){e.retry?this.logger.appendLine(`Package ${e.packageDescription} failed integrity check. Retrying..`):this.logger.appendLine(`Package ${e.packageDescription} download from ${e.url} failed integrity check. Some features may not work as expected. Please restart Visual Studio Code to retrigger the download.`)}handleDownloadSizeObtained(e){this.logger.append(`(${Math.ceil(e.packageSize/1024)} KB)`)}handleDownloadFallback(e){this.logger.append(`	Retrying from '${e.fallbackUrl}' `)}handleEventWithMessage(e){this.logger.appendLine(e.message)}handlePackageInstallation(e){this.logger.append(`Installing ${e.packageInfo}...`),this.logger.appendLine()}handlePlatformInfo(e){this.logger.appendLine(`Platform: ${e.info.toString()}`),this.logger.appendLine()}handleInstallationFailure(e){this.logger.appendLine(`Failed at stage: ${e.stage}`),e.error instanceof TT?e.error.innerError?this.logger.appendLine(e.error.innerError.toString()):this.logger.appendLine(e.error.message):this.logger.appendLine(e.error.toString()),this.logger.appendLine()}handleDownloadProgress(e){let t=Math.ceil(e.downloadPercentage/5);this.logger.append(".".repeat(t-this.dots)),this.dots=t}handleDownloadStart(e){this.logger.append(`Downloading package '${e.packageDescription}' `),this.dots=0}handleInstallationStart(e){this.logger.appendLine(`Installing package '${e.packageDescription}'`),this.logger.appendLine()}};var NSe=ye(CT()),Jj=class{sink;constructor(){this.sink=new NSe.Subject}post(e){this.sink.next(e)}subscribe(e){return this.sink.subscribe(e)}};var n8e=ye(ZSe());var iz=class{constructor(e,t){this.proxy=e;this.strictSSL=t}};function eCe(r){return()=>{let e=r.workspace.getConfiguration(),t=e.get("http.proxy",""),n=e.get("http.proxyStrictSSL",!0);return new iz(t,n)}}var _De=ye(CT()),bDe=ye(RL());function LY(r){return _De.Observable.create(e=>{let t=r.workspace.onDidChangeConfiguration(n=>{(n.affectsConfiguration("dotnet")||n.affectsConfiguration("omnisharp")||n.affectsConfiguration("csharp"))&&e.next()});return()=>t.dispose()}).pipe((0,bDe.publishBehavior)(()=>{})).refCount()}var GDe=ye(require("https"));var KDe=require("url");var WDe=ye(FDe()),$De=ye(BDe());function wpt(r){if(r.protocol==="http:")return process.env.HTTP_PROXY??process.env.http_proxy;if(r.protocol==="https:")return process.env.HTTPS_PROXY??process.env.https_proxy??process.env.HTTP_PROXY??process.env.http_proxy}function VDe(r,e,t){let n=e.length>0?e:wpt(r);if(n===void 0)return;let i=new URL(n);if(i.protocol===null||!/^https?:$/.test(i.protocol))return;let o={rejectUnauthorized:t};return r.protocol==="http:"?new WDe.default.HttpProxyAgent(i,o):new $De.default.HttpsProxyAgent(i,o)}async function bz(r,e,t,n,i,o){e.post(new H2(r));try{let s=await zY(r,n,e,t,o);return e.post(new x1(" Done!")),s}catch(s){if(i!==void 0){e.post(new B2(i));try{let a=await zY(r,i,e,t);return e.post(new x1(" Done!")),a}catch{throw s}}else throw s}}async function zY(r,e,t,n,i){let o=(0,KDe.parse)(e),s=n(),a=s.proxy,c=s.strictSSL,u={host:o.hostname,path:o.path,agent:VDe(o,a,c),port:o.port,rejectUnauthorized:c},l=[];return new Promise((d,f)=>{i?.onCancellationRequested(()=>f(new Uu(`Cancelled downloading ${e}.`)));let p=GDe.request(u,_=>{if(_.statusCode===301||_.statusCode===302)return _.headers.location===void 0?(t.post(new WR(`Failed to download from ${e}. Redirected without location header`)),f(new Uu("Missing location"))):d(zY(r,_.headers.location,t,n,i));if(_.statusCode!==200)return t.post(new WR(`Failed to download from ${e}. Error code '${_.statusCode}')`)),f(new Uu(_.statusCode.toString()));if(_.headers["content-length"]===void 0)return t.post(new WR(`Failed to download from ${e}. No content-length header`)),f(new Uu("Missing content-length"));let D=parseInt(_.headers["content-length"],10),P=0,M=0;t.post(new W2(D)),_.on("data",A=>{P+=A.length,l.push(A);let U=Math.ceil(100*(P/D));U!==M&&(M=U,t.post(new $2(M,r)))}),_.on("end",()=>{d(Buffer.concat(l))}),_.on("error",A=>{f(new Uu(`Failed to download from ${e}. Error Message: ${A.message} || 'NONE'}`,A))})});p.on("error",_=>{f(new Uu(`Request error: ${_.message||"NONE"}`,_))}),p.end()})}var iPe=ye(nPe()),oPe=require("stream");async function sPe(r,e,t,n){return n.post(new BR(e)),new Promise((i,o)=>{let s=new oPe.Readable;s.push(r),s.push(null),s.pipe(iPe.extract({cwd:t.value})).on("error",a=>{let c="Error extracting tar file. "+a.message;return n.post(new $R(c)),o(new Uu(c))}).on("end",()=>i())})}var Exe=ye(require("fs")),gQ=ye(uxe()),XU=ye(require("path")),Rxe=ye(Dxe());async function Pxe(r,e,t,n,i){return i.post(new BR(e)),new Promise((o,s)=>{Rxe.fromBuffer(r,{lazyEntries:!0},(a,c)=>{if(a!==null){let u="C# Extension was unable to download its dependencies. Please check your internet connection. If you use a proxy server, please visit https://aka.ms/VsCodeCsharpNetworking";return i.post(new $R(u)),s(new Uu(u))}c.readEntry(),c.on("entry",async u=>{let l=XU.resolve(t.value,u.fileName);if(u.fileName.endsWith("/"))try{await(0,gQ.mkdirp)(l,509),c.readEntry()}catch(d){let f=d;return s(new Uu("Error creating directory for zip directory entry:"+f.code,f))}else c.openReadStream(u,async(d,f)=>{if(d)return s(new Uu("Error reading zip stream",d));try{await(0,gQ.mkdirp)(XU.dirname(l),509);let _=n?.map(D=>D.value)?.includes(l)?493:436;f.pipe(Exe.createWriteStream(l,{mode:_})),f.on("end",()=>c.readEntry())}catch(p){return s(new Uu("Error creating directory for zip file entry",p))}})}),c.on("end",()=>{o()}),c.on("error",u=>{s(new Uu("Zip File Error:"+u.code||"",u))})})})}var xxe=ye(mT());async function ZP(r,e,t,n,i){t.post(new U2);for(let o of r){let s="touchBeginFile";try{(0,xxe.mkdirpSync)(o.installPath.value),await C8(o.installPath,0);let a=1,c=()=>a<=2;for(;c();){a=a+1,s="downloadPackage";let u=await bz(o.description,t,e,o.url,o.fallbackUrl,i);if(n(u,o.integrity,t)){s="installPackage",o.url.includes(".tar.gz")?await sPe(u,o.description,o.installPath,t):await Pxe(u,o.description,o.installPath,o.binaries,t),s="touchLockFile",await C8(o.installPath,1);break}else t.post(new G2(o.description,o.url,c()))}}catch(a){if(a instanceof Uu){let c=new TT(a.message,o,a.err);t.post(new T0(s,c))}else t.post(new T0(s,a));return!1}finally{try{await E2(o.installPath,0)&&await dge(o.installPath,0)}catch{}}}return!0}async function ex(r,e,t){let n=r.map(i=>VR.getAbsolutePathPackage(i,t));return gye(n,e)}async function Oxe(r,e,t,n,i,o,s){let a=E0(r),c=await ex(a,i,e),u=t_t(c,o),l=r_t(s,u);if(l.length>0)if(n.post(new aT("C# dependencies")),n.post(new cT(i)),await t(l))n.post(new uT);else return!1;return!0}function t_t(r,e){return r.filter(t=>t.id!=="OmniSharp"||t.isFramework===e)}function r_t(r,e){return e.filter(t=>r.includes(t.id))}var Ixe=ye(require("crypto"));function tx(r,e,t){return e!==void 0&&e.length>0?(t.post(new V2),n_t(r)===e.toUpperCase()?(t.post(new K2),!0):!1):!0}function n_t(r){let e=Ixe.createHash("sha256");return e.update(r),e.digest("hex").toUpperCase()}var kxe=ye(require("fs")),Axe=ye(require("path")),Lxe=require("util");var Uv="muhammad-sammy.csharp";var lM="dotnet.dotnetPath",QU="dotnetAcquisitionExtension.existingDotnetPath",i_t=[{oldName:"csharp.inlayHints.parameters.enabled",newName:"dotnet.inlayHints.enableInlayHintsForParameters"},{oldName:"csharp.inlayHints.parameters.forLiteralParameters",newName:"dotnet.inlayHints.enableInlayHintsForLiteralParameters"},{oldName:"csharp.inlayHints.parameters.forIndexerParameters",newName:"dotnet.inlayHints.enableInlayHintsForIndexerParameters"},{oldName:"csharp.inlayHints.parameters.forObjectCreationParameters",newName:"dotnet.inlayHints.enableInlayHintsForObjectCreationParameters"},{oldName:"csharp.inlayHints.parameters.forOtherParameters",newName:"dotnet.inlayHints.enableInlayHintsForOtherParameters"},{oldName:"csharp.inlayHints.parameters.suppressForParametersThatDifferOnlyBySuffix",newName:"dotnet.inlayHints.suppressInlayHintsForParametersThatDifferOnlyBySuffix"},{oldName:"csharp.inlayHints.parameters.suppressForParametersThatMatchMethodIntent",newName:"dotnet.inlayHints.suppressInlayHintsForParametersThatMatchMethodIntent"},{oldName:"csharp.inlayHints.parameters.suppressForParametersThatMatchArgumentName",newName:"dotnet.inlayHints.suppressInlayHintsForParametersThatMatchArgumentName"},{oldName:"csharp.inlayHints.types.enabled",newName:"csharp.inlayHints.enableInlayHintsForTypes"},{oldName:"csharp.inlayHints.types.forImplicitVariableTypes",newName:"csharp.inlayHints.enableInlayHintsForImplicitVariableTypes"},{oldName:"csharp.inlayHints.types.forLambdaParameterTypes",newName:"csharp.inlayHints.enableInlayHintsForLambdaParameterTypes"},{oldName:"csharp.inlayHints.types.forImplicitObjectCreation",newName:"csharp.inlayHints.enableInlayHintsForImplicitObjectCreation"},{oldName:"omnisharp.defaultLaunchSolution",newName:"dotnet.defaultSolution"},{oldName:"omnisharp.enableImportCompletion",newName:"dotnet.completion.showCompletionItemsFromUnimportedNamespaces"},{oldName:"csharp.referencesCodeLens.enabled",newName:"dotnet.codeLens.enableReferencesCodeLens"},{oldName:"csharp.testsCodeLens.enabled",newName:"dotnet.codeLens.enableTestsCodeLens"},{oldName:"csharp.unitTestDebuggingOptions",newName:"dotnet.unitTestDebuggingOptions"},{oldName:"omnisharp.testRunSettings",newName:"dotnet.unitTests.runSettingsPath"},{oldName:"dotnet.implementType.insertionBehavior",newName:"dotnet.typeMembers.memberInsertionLocation"},{oldName:"dotnet.implementType.propertyGenerationBehavior",newName:"dotnet.typeMembers.propertyGenerationBehavior"},{oldName:"omnisharp.organizeImportsOnFormat",newName:"dotnet.formatting.organizeImportsOnFormat"}];async function Mxe(r){let e=r.workspace.getConfiguration();for(let{oldName:t,newName:n}of i_t){if(!e.has(t))continue;let i=e.inspect(n);if(i==null)continue;let o=e.get(n);o!=null&&s_t(o,i.defaultValue)&&await Nxe(t,n,e)}await o_t(r)}async function o_t(r){let e=r.workspace.getConfiguration();if(ds.useOmnisharpServer)await Nxe(lM,"omnisharp.dotnetPath",e);else{let t=e.inspect(lM);if(!t||!t.globalValue&&!t.workspaceValue&&!t.workspaceFolderValue)return;let n=e.inspect(QU);t.globalValue&&await vQ(lM,t.globalValue,QU,n?.globalValue,e,1),t.workspaceValue&&await vQ(lM,t.workspaceValue,QU,n?.workspaceValue,e,2),t.workspaceFolderValue&&await vQ(lM,t.workspaceFolderValue,QU,n?.workspaceFolderValue,e,3)}}async function vQ(r,e,t,n,i,o){let s=process.platform==="win32"?".exe":"",a=Axe.join(e,`dotnet${s}`);if(!kxe.existsSync(a)){i.update(r,void 0,o);return}if(n=n??[],n&&n.filter(c=>c.extensionId===Uv).length!==0){await i.update(r,void 0,o);return}n.push({extensionId:Uv,path:a}),await i.update(t,n,o),await i.update(r,void 0,o)}function s_t(r,e){return r==e?!0:Lxe.types.isProxy(r)?JSON.stringify(r)===JSON.stringify(e):!1}async function Nxe(r,e,t){let n=t.inspect(r);if(n!==void 0){let{key:i,defaultValue:o,globalValue:s,workspaceValue:a,workspaceFolderValue:c}=n;s!==void 0&&(await t.update(e,s,1),await t.update(r,void 0,1)),a!==void 0&&(await t.update(e,a,2),await t.update(r,void 0,2)),c!==void 0&&(await t.update(e,c,3),await t.update(r,void 0,3))}}var t_=ye(require("vscode")),Fxe=ye(sT()),rx="ms-dotnettools.vscode-dotnet-runtime",yQ="2.2.3";async function qxe(r){let t=t_.extensions.getExtension(rx)?.packageJSON.version;if((0,Fxe.lt)(t,yQ)){let n=t_.l10n.t("Update and reload"),i=t_.l10n.t("The {0} extension requires at least {1} of the .NET Install Tool ({2}) extension. Please update to continue",r.extension.packageJSON.displayName,yQ,rx);if(await t_.window.showErrorMessage(i,n)===n)await t_.commands.executeCommand("workbench.extensions.installExtension",rx),await t_.commands.executeCommand("workbench.action.reloadWindow");else throw new Error(t_.l10n.t("Version {0} of the .NET Install Tool ({1}) was not found, {2} will not activate.",yQ,rx,r.extension.packageJSON.displayName))}}var Hv=ye(require("vscode"));function jxe(r,e){if(!a_t(e)){if(r.extension.extensionKind===Hv.ExtensionKind.Workspace){let t={title:Hv.l10n.t("How to setup Remote Debugging"),action:async()=>{await Hv.env.openExternal(Hv.Uri.parse("https://github.com/dotnet/vscode-csharp/wiki/Remote-Debugging-On-Linux-Arm"))}},n=Hv.l10n.t("The C# extension for Visual Studio Code is incompatible on {0} {1} with the VS Code Remote Extensions. To see avaliable workarounds, click on '{2}'.",e.platform,e.architecture,t.title);Vi(Hv,n,t)}else{let t=Hv.l10n.t("The C# extension for Visual Studio Code is incompatible on {0} {1}.",e.platform,e.architecture);Vi(Hv,t)}return!1}return!0}function a_t(r){return r.isWindows()?r.architecture==="x86_64"||r.architecture==="arm64":r.isMacOS()?!0:r.isLinux()?r.architecture==="x86_64"||r.architecture==="x86"||r.architecture==="i686"||r.architecture==="arm64":!1}var Dk=ye(require("vscode"));var Xa=ye(require("vscode"));var ix=ye(require("path"));var dM=ye(mT()),ZU=ye(require("path"));function zxe(r){let e=new RegExp("^net[1-4]");return r.find(t=>e.test(t))}function nx(r){return c_t(r)??u_t(r)}function c_t(r){return r.find(e=>e.startsWith("netcoreapp"))}function u_t(r){let e=new RegExp("^net[5-9]"),t=r.find(n=>e.test(n));return t!==void 0&&t.charAt(4)!=="."&&(t=`${t.substring(0,4)}.${t.substring(4)}`),t}function Uxe(r){return r.find(e=>e.startsWith("netstandard"))}function eH(r){return dM.readFileSync(r,"utf8").toLowerCase().indexOf('sdk="microsoft.net.sdk.web"')>=0}async function tH(r){let e=ZU.dirname(r),t=ZU.join(e,"Properties","launchSettings.json");try{if(!dM.pathExistsSync(t))return!1;let n=dM.readFileSync(t);if(!n)return!1;if(n.indexOf('"inspectUri"')>0)return!0}catch{}return!1}function rH(r,e,t,n){return!(!t||!r||!e||n)}var Ai;(Ne=>(Ne.AddToProject="/addtoproject",Ne.CodeCheck="/codecheck",Ne.CodeFormat="/codeformat",Ne.ChangeBuffer="/changebuffer",Ne.FilesChanged="/filesChanged",Ne.FindSymbols="/findsymbols",Ne.FindUsages="/findusages",Ne.FormatAfterKeystroke="/formatAfterKeystroke",Ne.FormatRange="/formatRange",Ne.GetCodeActions="/getcodeactions",Ne.GoToTypeDefinition="/gototypedefinition",Ne.FindImplementations="/findimplementations",Ne.Project="/project",Ne.Projects="/projects",Ne.RemoveFromProject="/removefromproject",Ne.Rename="/rename",Ne.RunCodeAction="/runcodeaction",Ne.SignatureHelp="/signatureHelp",Ne.TypeLookup="/typelookup",Ne.UpdateBuffer="/updatebuffer",Ne.Metadata="/metadata",Ne.RunFixAll="/runfixall",Ne.GetFixAll="/getfixall",Ne.ReAnalyze="/reanalyze",Ne.QuickInfo="/quickinfo",Ne.Completion="/completion",Ne.CompletionResolve="/completion/resolve",Ne.CompletionAfterInsert="/completion/afterInsert",Ne.SourceGeneratedFile="/sourcegeneratedfile",Ne.UpdateSourceGeneratedFile="/updatesourcegeneratedfile",Ne.SourceGeneratedFileClosed="/sourcegeneratedfileclosed",Ne.InlayHint="/inlayHint",Ne.InlayHintResolve="/inlayHint/resolve",Ne.FileOpen="/open",Ne.FileClose="/close"))(Ai||={});var Ls;(a=>{let r;(W=>(W.GetCodeActions="/v2/getcodeactions",W.RunCodeAction="/v2/runcodeaction",W.GetTestStartInfo="/v2/getteststartinfo",W.RunTest="/v2/runtest",W.RunAllTestsInClass="/v2/runtestsinclass",W.RunTestsInContext="/v2/runtestsincontext",W.DebugTestGetStartInfo="/v2/debugtest/getstartinfo",W.DebugTestsInClassGetStartInfo="/v2/debugtestsinclass/getstartinfo",W.DebugTestsInContextGetStartInfo="/v2/debugtestsincontext/getstartinfo",W.DebugTestLaunch="/v2/debugtest/launch",W.DebugTestStop="/v2/debugtest/stop",W.DiscoverTests="/v2/discovertests",W.BlockStructure="/v2/blockstructure",W.CodeStructure="/v2/codestructure",W.Highlight="/v2/highlight",W.GoToDefinition="/v2/gotodefinition"))(r=a.Requests||={});let e;(p=>(p.None="none",p.Passed="passed",p.Failed="failed",p.Skipped="skipped",p.NotFound="notfound"))(e=a.TestOutcomes||={});let t;(ee=>(ee.Class="class",ee.Delegate="delegate",ee.Enum="enum",ee.Interface="interface",ee.Struct="struct",ee.Constant="constant",ee.Constructor="constructor",ee.Destructor="destructor",ee.EnumMember="enummember",ee.Event="event",ee.Field="field",ee.Indexer="indexer",ee.Method="method",ee.Operator="operator",ee.Property="property",ee.Namespace="namespace",ee.Unknown="unknown"))(t=a.SymbolKinds||={});let n;(_=>(_.Internal="internal",_.Private="private",_.PrivateProtected="private protected",_.Protected="protected",_.ProtectedInternal="protected internal",_.Public="public"))(n=a.SymbolAccessibilities||={});let i;(f=>(f.Accessibility="accessibility",f.Static="static",f.TestFramework="testFramework",f.TestMethodName="testMethodName"))(i=a.SymbolPropertyNames||={});let o;(d=>(d.Attributes="attributes",d.Full="full",d.Name="name"))(o=a.SymbolRangeNames||={});let s;(u=>{function c(l,d){function f(p,_){for(let D of p)d(D,_),D.Children&&f(D.Children,D)}f(l)}u.walkCodeElements=c})(s=a.Structure||={})})(Ls||={});function l_t(r){let e=r.TargetFrameworks.map(t=>t.ShortName);return nx(e)!==void 0||Uxe(e)!==void 0||zxe(e)!==void 0}function Hxe(r){let e=[];if(r.DotNet&&r.DotNet.Projects.length>0)for(let t of r.DotNet.Projects)e.push({Name:t.Name,Directory:t.Path,FilePath:ix.join(t.Path,"project.json")});if(r.MsBuild&&r.MsBuild.Projects.length>0)for(let t of r.MsBuild.Projects)l_t(t)&&e.push({Name:ix.basename(t.Path),Directory:ix.dirname(t.Path),FilePath:t.Path});return e}async function _Q(r,e,t){return r.makeRequest(Ai.CodeCheck,e,t)}async function Bxe(r,e,t){return r.makeRequest(Ls.Requests.BlockStructure,e,t)}async function nH(r,e,t){return r.makeRequest(Ls.Requests.CodeStructure,e,t)}async function Wxe(r,e){return r.makeRequest(Ls.Requests.DiscoverTests,e)}async function ox(r,e){return r.makeRequest(Ai.FilesChanged,e)}async function $xe(r,e,t){return r.makeRequest(Ai.FindImplementations,e,t)}async function Vxe(r,e,t){return r.makeRequest(Ai.FindSymbols,e,t)}async function Gxe(r,e){return r.makeRequest(Ai.RunFixAll,e)}async function Kxe(r,e){return r.makeRequest(Ai.GetFixAll,e)}async function sx(r,e,t){return r.makeRequest(Ai.FindUsages,e,t)}async function Yxe(r,e,t){return r.makeRequest(Ai.FormatAfterKeystroke,e,t)}async function Jxe(r,e,t){return r.makeRequest(Ai.FormatRange,e,t)}async function Xxe(r,e,t){return r.makeRequest(Ls.Requests.GetCodeActions,e,t)}async function Qxe(r,e,t){return r.makeRequest(Ls.Requests.GoToDefinition,e,t)}async function Zxe(r,e,t){return r.makeRequest(Ai.GoToTypeDefinition,e,t)}async function eOe(r,e,t){return r.makeRequest(Ai.SourceGeneratedFile,e,t)}async function tOe(r,e){return r.makeRequest(Ai.UpdateSourceGeneratedFile,e)}async function rOe(r,e){return r.makeRequest(Ai.SourceGeneratedFileClosed,e)}async function nOe(r,e,t){return r.makeRequest(Ai.Rename,e,t)}async function fM(r,e){return r.makeRequest(Ai.Project,e)}async function CS(r){let e=await r.makeRequest(Ai.Projects);if(e.MsBuild&&e.MsBuild.Projects)for(let t of e.MsBuild.Projects){t.IsWebProject=eH(t.Path);let n=await tH(t.Path),i=nx(t.TargetFrameworks.map(s=>s.ShortName))!==void 0,o=rH(t.IsExe,t.IsWebProject,n,i);t.IsBlazorWebAssemblyHosted=o,t.IsBlazorWebAssemblyStandalone=n&&!t.IsBlazorWebAssemblyHosted}return e}async function iOe(r,e){return r.makeRequest(Ls.Requests.RunCodeAction,e)}async function oOe(r,e,t){return r.makeRequest(Ai.SignatureHelp,e,t)}async function ax(r,e){return r.makeRequest(Ai.UpdateBuffer,e)}async function sOe(r,e){return r.makeRequest(Ai.Metadata,e)}async function bQ(r,e){return r.makeRequest(Ai.ReAnalyze,e)}async function aOe(r,e){return r.makeRequest(Ls.Requests.RunTest,e)}async function cOe(r,e){return r.makeRequest(Ls.Requests.RunAllTestsInClass,e)}async function uOe(r,e){return r.makeRequest(Ls.Requests.RunTestsInContext,e)}async function lOe(r,e){return r.makeRequest(Ls.Requests.DebugTestGetStartInfo,e)}async function dOe(r,e){return r.makeRequest(Ls.Requests.DebugTestsInClassGetStartInfo,e)}async function fOe(r,e){return r.makeRequest(Ls.Requests.DebugTestsInContextGetStartInfo,e)}async function hOe(r,e){return r.makeRequest0(Ls.Requests.DebugTestLaunch,e)}async function pOe(r,e){return r.makeRequest0(Ls.Requests.DebugTestStop,e)}async function mOe(r,e){return r.makeRequest(Ls.Requests.Highlight,e)}async function gOe(r,e,t){return r.makeRequest(Ai.QuickInfo,e,t)}async function vOe(r,e,t){return r.makeRequest(Ai.Completion,e,t)}async function yOe(r,e,t){return r.makeRequest(Ai.CompletionResolve,e,t)}async function _Oe(r,e){return r.makeRequest(Ai.CompletionAfterInsert,e)}async function bOe(r,e){return r.makeRequest(Ai.FileOpen,e)}async function wOe(r,e){return r.makeRequest(Ai.FileClose,e)}function SOe(r){return r.TargetFrameworks.find(e=>e.ShortName.startsWith("netcoreapp")||e.ShortName.startsWith("netstandard"))!==void 0}async function COe(r,e,t){return r.makeRequest(Ai.InlayHint,e,t)}async function TOe(r,e,t){return r.makeRequest(Ai.InlayHintResolve,e,t)}var iH=class extends pb{post=e=>{switch(e.type){case 51:this.clearChannel(),this.showChannel(!0);break}}};var oH=class extends nh{post=e=>{switch(e.type){case 42:this.logger.append(e.message);break;case 66:this.logger.appendLine(e.message);break;case 68:this.logger.appendLine(e.message);break}}};var hM=class extends nh{post=e=>{switch(e.type){case 30:this.handleDotnetTestRunStart(e);break;case 60:this.logger.appendLine(e.message);break;case 29:this.handleReportDotnetTestResults(e);break;case 31:this.handleDotnetTestDebugStart(e);break;case 58:this.handleDotNetTestDebugWarning(e);break;case 32:this.handleDotNetTestDebugProcessStart(e);break;case 44:this.logger.appendLine(`Debugging complete.
`);break;case 34:this.handleDotnetTestsInClassDebugStart(e);break;case 33:this.handleDotnetTestsInClassRunStart(e);break;case 76:this.handleDotnetTestsRunInContextStart(e);break;case 77:this.handleDotnetTestsDebugInContextStart(e);break}};handleDotNetTestDebugWarning(e){this.logger.appendLine(`Warning: ${e.message}`)}handleDotnetTestDebugStart(e){this.logger.appendLine(`----- Debugging test method ${e.testMethod} -----`),this.logger.appendLine("")}handleDotnetTestRunStart(e){this.logger.appendLine(`----- Running test method "${e.testMethod}" -----`),this.logger.appendLine("")}handleDotnetTestsInClassDebugStart(e){this.logger.appendLine(`----- Debugging tests in class ${e.className} -----`),this.logger.appendLine("")}handleDotnetTestsInClassRunStart(e){this.logger.appendLine(`----- Running tests in class "${e.className}" -----`),this.logger.appendLine("")}handleDotnetTestsRunInContextStart(e){this.logger.appendLine(`----- Running test(s) in context "${e.fileName}(${e.line+1},${e.column+1})" -----`),this.logger.appendLine("")}handleDotnetTestsDebugInContextStart(e){this.logger.appendLine(`----- Debugging test(s) in context "${e.fileName}(${e.line+1},${e.column+1})" -----`),this.logger.appendLine("")}handleDotNetTestDebugProcessStart(e){this.logger.appendLine(`Started debugging process #${e.targetProcessId}.`)}handleReportDotnetTestResults(e){if(e.results){this.logger.appendLine("----- Test Execution Summary -----"),this.logger.appendLine("");let t=e.results,n=t.length,i=0,o=0,s=0;for(let a of t)switch(this.logTestResult(a),a.Outcome){case Ls.TestOutcomes.Failed:o+=1;break;case Ls.TestOutcomes.Passed:i+=1;break;case Ls.TestOutcomes.Skipped:s+=1;break}this.logger.appendLine(`Total tests: ${n}. Passed: ${i}. Failed: ${o}. Skipped: ${s}`),this.logger.appendLine("")}}logTestResult(e){this.logger.appendLine(`${e.MethodName}:`),this.logger.increaseIndent(),this.logger.appendLine(`Outcome: ${d_t(e.Outcome)}`),e.ErrorMessage&&(this.logger.appendLine("Error Message:"),this.logger.appendLine(e.ErrorMessage)),e.ErrorStackTrace&&(this.logger.appendLine("Stack Trace:"),this.logger.appendLine(e.ErrorStackTrace)),e.StandardOutput&&e.StandardOutput.length>0&&(this.logger.appendLine("Standard Output Messages:"),e.StandardOutput.forEach(t=>this.logger.appendLine(t))),e.StandardError&&e.StandardError.length>0&&(this.logger.appendLine("Standard Error Messages:"),e.StandardError.forEach(t=>this.logger.appendLine(t))),this.logger.appendLine(),this.logger.decreaseIndent()}};function d_t(r){return r.charAt(0).toUpperCase()+r.slice(1)}var pM=class extends pb{post=e=>{switch(e.type){case 30:case 59:case 33:case 31:case 34:case 76:case 77:this.showChannel(!0);break}}};var sH=ye(require("os"));var aH=class extends nh{constructor(t,n){super(t);this.platformInformation=n}post=t=>{switch(t.type){case 4:this.handleOmnisharpInitialisation(t);break;case 5:this.handleOmnisharpLaunch(t);break;case 12:this.logger.appendLine(t.message),this.logger.appendLine();break;case 62:this.logger.appendLine(t.message);break;case 21:this.handleOmnisharpServerOnServerError(t);break;case 15:this.handleOmnisharpServerOnError(t);break;case 16:this.handleOmnisharpServerMsBuildProjectDiagnostics(t);break;case 63:this.handleOmnisharpServerOnStdErr(t);break;case 20:this.handleOmnisharpEventPacketReceived(t);break}};handleOmnisharpServerOnServerError(t){if(t.err.cmd==="dotnet --version"){this.logger.appendLine("[ERROR] A .NET 6 SDK was not found. Please install the latest SDK from https://dotnet.microsoft.com/en-us/download/dotnet/6.0.");return}else if(t.err.message?.startsWith("Found dotnet version")){this.logger.appendLine(`[ERROR] ${t.err} Please install the latest SDK from https://dotnet.microsoft.com/en-us/download/dotnet/6.0.`);return}this.logger.appendLine("[ERROR] "+t.err)}handleOmnisharpServerOnStdErr(t){if(t.message.startsWith("System.BadImageFormatException: Could not load file or assembly")){this.logger.appendLine(`[ERROR] A .NET 6 SDK for ${this.platformInformation.architecture} was not found. Please install the latest ${this.platformInformation.architecture} SDK from https://dotnet.microsoft.com/en-us/download/dotnet/6.0.`);return}this.logger.appendLine("[STDERR] "+t.message)}handleOmnisharpInitialisation(t){this.logger.appendLine(`Starting OmniSharp server at ${t.timeStamp.toLocaleString()}`),this.logger.increaseIndent(),this.logger.appendLine(`Target: ${t.solutionPath}`),this.logger.decreaseIndent(),this.logger.appendLine()}handleOmnisharpLaunch(t){this.logger.append("OmniSharp server started"),t.hostVersion&&(this.logger.append(` with ${t.hostIsMono?"Mono":".NET"} ${t.hostVersion}`),t.hostPath&&t.hostPath.length>0&&this.logger.append(` (${t.hostPath})`)),this.logger.appendLine("."),this.logger.increaseIndent(),this.logger.appendLine(`Path: ${t.command}`),this.logger.appendLine(`PID: ${t.pid}`),this.logger.decreaseIndent(),this.logger.appendLine()}handleOmnisharpServerMsBuildProjectDiagnostics(t){(t.diagnostics.Errors.length>0||t.diagnostics.Warnings.length>0)&&(this.logger.appendLine(t.diagnostics.FileName),t.diagnostics.Errors.forEach(n=>{this.logger.appendLine(`${n.FileName}(${n.StartLine},${n.StartColumn}): Error: ${n.Text}`)}),t.diagnostics.Warnings.forEach(n=>{this.logger.appendLine(`${n.FileName}(${n.StartLine},${n.StartColumn}): Warning: ${n.Text}`)}),this.logger.appendLine(""))}handleOmnisharpServerOnError(t){t.errorMessage.FileName&&this.logger.appendLine(`${t.errorMessage.FileName}(${t.errorMessage.Line},${t.errorMessage.Column})`),this.logger.appendLine(t.errorMessage.Text),this.logger.appendLine("")}handleOmnisharpEventPacketReceived(t){if(!this._isFilterableOutput(t)){let n=`[${this.getLogLevelPrefix(t.logLevel)}]: ${t.name}${sH.EOL}${t.message}`,i=sH.EOL+"        ";n=n.replace(sH.EOL,i),this.logger.appendLine(n)}}_isFilterableOutput(t){let n=/^\/[/\w]+: 200 \d+ms/;return t.logLevel==="INFORMATION"&&t.name==="OmniSharp.Middleware.LoggingMiddleware"&&n.test(t.message)}getLogLevelPrefix(t){switch(t){case"TRACE":return"trce";case"DEBUG":return"dbug";case"INFORMATION":return"info";case"WARNING":return"warn";case"ERROR":return"fail";case"CRITICAL":return"crit";default:throw new Error(`Unknown log level value: ${t}`)}}};var cH=class extends pb{constructor(e){super(e)}post=e=>{switch(e.type){case 53:case 12:this.showChannel(!0);break;case 63:this.handleOmnisharpServerOnStdErr();break;case 69:this.clearChannel();break}};handleOmnisharpServerOnStdErr(){qr.showOmnisharpLogOnError&&this.showChannel(!0)}};var DOe=ye(RL()),EOe=ye(CT());var wQ=require("vscode");var uH=class{constructor(e,t,n){this.vscode=e;this.disableMsBuildDiagnosticWarning=t;this.warningMessageDebouncer=new EOe.Subject,this.warningMessageDebouncer.pipe((0,DOe.debounceTime)(1500,n)).subscribe(i=>{let o=wQ.l10n.t("Some projects have trouble loading. Please review the output for more details."),s={title:wQ.l10n.t("Show Output"),command:"o.showOutput"};pp(this.vscode,o,s)})}warningMessageDebouncer;post=e=>{switch(e.type){case 15:this.warningMessageDebouncer.next(e);break;case 16:this.handleOmnisharpServerMsBuildProjectDiagnostics(e);break}};handleOmnisharpServerMsBuildProjectDiagnostics(e){!this.disableMsBuildDiagnosticWarning()&&e.diagnostics.Errors.length>0&&this.warningMessageDebouncer.next(e)}};var SQ=require("vscode");var lH=class{constructor(e){this.vscode=e}post=e=>{switch(e.type){case 17:this.handleOmnisharpServerUnresolvedDependencies();break}};handleOmnisharpServerUnresolvedDependencies(){if(!qr.suppressDotnetRestoreNotification){let e=SQ.l10n.t("There are unresolved dependencies. Please execute the restore command to continue."),t={title:SQ.l10n.t("Restore"),command:"dotnet.restore.all"};Ca(this.vscode,e,t)}}};var dH=require("vscode");var fH=class{constructor(e){this.vscode=e}post=e=>{switch(e.type){case 28:this.handleZipError(e);break;case 59:this.handleDotnetTestRunFailure(e);break;case 57:this.handleDotNetTestDebugStartFailure(e);break;case 37:this.handleIntegrityCheckFailure(e)}};handleIntegrityCheckFailure(e){e.retry||Vi(this.vscode,dH.l10n.t("Package {0} download from {1} failed integrity check. Some features may not work as expected. Please restart Visual Studio Code to retrigger the download",e.packageDescription,e.url))}handleZipError(e){Vi(this.vscode,e.message)}handleDotnetTestRunFailure(e){Vi(this.vscode,dH.l10n.t("Failed to run test: {0}",e.message))}handleDotNetTestDebugStartFailure(e){Vi(this.vscode,dH.l10n.t("Failed to start debugger: {0}",e.message))}};var cx=class{constructor(e){this.statusBarItem=e}get alignment(){return this.statusBarItem.alignment}get priority(){return this.statusBarItem.priority}get text(){return this.statusBarItem.text}set text(e){this.statusBarItem.text=e}get tooltip(){return this.statusBarItem.tooltip}set tooltip(e){this.statusBarItem.tooltip=e}get color(){return this.statusBarItem.color}set color(e){this.statusBarItem.color=e}get command(){return this.statusBarItem.command}set command(e){this.statusBarItem.command=e}get name(){return this.statusBarItem.name}set name(e){this.statusBarItem.name=e}show(){this.statusBarItem.show()}hide(){this.statusBarItem.hide()}dispose(){this.statusBarItem.dispose()}};var YT=class{constructor(e){this.statusBarItem=e}SetAndShowStatusBar(e,t,n,i){this.statusBarItem.text=e,this.statusBarItem.command=t,this.statusBarItem.color=n,this.statusBarItem.tooltip=i,this.statusBarItem.show()}ResetAndHideStatusBar(){this.statusBarItem.text="",this.statusBarItem.command=void 0,this.statusBarItem.color=void 0,this.statusBarItem.tooltip=void 0,this.statusBarItem.hide()}};var hH=class extends YT{post=e=>{switch(e.type){case 21:this.SetAndShowStatusBar("$(flame)","o.showOutput","rgb(218,0,0)","Error starting OmniSharp");break;case 63:this.SetAndShowStatusBar("$(flame)","o.showOutput","rgb(218,0,0)",`OmniSharp process errored:${e.message}`);break;case 73:this.SetAndShowStatusBar("$(flame) Installing OmniSharp...","o.showOutput");break;case 47:this.SetAndShowStatusBar("$(flame)","o.showOutput","rgb(218,218,0)","Starting OmniSharp server");break;case 71:this.ResetAndHideStatusBar();break;case 72:this.SetAndShowStatusBar("$(flame)","o.showOutput",void 0,"OmniSharp server is running");break;case 25:this.SetAndShowStatusBar("$(cloud-download) Downloading packages","","",`Downloading package '${e.packageDescription}...' `);break;case 9:this.SetAndShowStatusBar("$(desktop-download) Installing packages...","","",`Installing package '${e.packageDescription}'`);break;case 50:this.ResetAndHideStatusBar();break;case 11:{let t=e;this.SetAndShowStatusBar("$(cloud-download) Downloading packages","","",`Downloading package '${t.packageDescription}'... ${t.downloadPercentage}%`);break}}}};var ROe=ye(require("vscode")),POe=require("path");var pH=class extends YT{post=e=>{switch(e.type){case 22:this.SetAndShowStatusBar("$(file-submodule) "+ROe.l10n.t("Select project"),"o.pickProjectAndStart","rgb(90, 218, 90)");break;case 71:this.ResetAndHideStatusBar();break;case 23:this.handleWorkspaceInformationUpdated(e)}};handleWorkspaceInformationUpdated(e){let t,n=e.info.MsBuild;n&&n.SolutionPath?(t=(0,POe.basename)(n.SolutionPath),this.SetAndShowStatusBar("$(file-directory) "+t,"o.pickProjectAndStart")):this.ResetAndHideStatusBar()}};var mH=class extends YT{post=e=>{if(e.type===80){let t=e;if(t.message.Status!==2){let{NumberFilesRemaining:n,NumberFilesTotal:i}=t.message,o=`Analyzing ${i} files - Remaining ${n} files`;this.SetAndShowStatusBar(`$(sync~spin) ${o}`,"o.showOutput",void 0,`${o}`)}else this.ResetAndHideStatusBar()}}};var gH=ye(require("os"));var vH=class extends nh{post=e=>{switch(e.type){case 13:this.handleOmnisharpRequestMessage(e);break;case 18:this.handleOmnisharpServerEnqueueRequest(e);break;case 70:this.handleOmnisharpServerDequeueRequest(e);break;case 79:this.handleOmnisharpServerRequestCancelled(e);break;case 19:this.handleOmnisharpProcessRequestStart(e);break;case 49:this.logger.decreaseIndent();break;case 61:this.handleOmnisharpServerVerboseMessage(e);break;case 20:this.handleOmnisharpEventPacketReceived(e);break}};handleOmnisharpRequestMessage(e){this.logger.append(`makeRequest: ${e.request.command} (${e.id})`),e.request.data&&this.logger.append(`, data=${JSON.stringify(e.request.data)}`),this.logger.appendLine()}handleOmnisharpServerEnqueueRequest(e){this.logger.appendLine(`Enqueue to ${e.queueName} request for ${e.command}.`),this.logger.appendLine()}handleOmnisharpServerDequeueRequest(e){this.logger.appendLine(`Dequeue from ${e.queueName} with status ${e.queueStatus} request for ${e.command}${e.id?` (${e.id})`:""}.`),this.logger.appendLine()}handleOmnisharpServerRequestCancelled(e){this.logger.appendLine(`Cancelled request for ${e.command}${e.id?` (${e.id})`:""}.`),this.logger.appendLine()}handleOmnisharpProcessRequestStart(e){this.logger.appendLine(`Processing ${e.name} queue, available slots ${e.availableRequestSlots}`),this.logger.increaseIndent()}handleOmnisharpServerVerboseMessage(e){this.logger.appendLine(e.message)}handleOmnisharpEventPacketReceived(e){if(this._isFilterableOutput(e)){let t=`[${this.getLogLevelPrefix(e.logLevel)}]: ${e.name}${gH.EOL}${e.message}`,n=gH.EOL+"        ";t=t.replace(gH.EOL,n),this.logger.appendLine(t)}}_isFilterableOutput(e){let t=/^\/[/\w]+: 200 \d+ms/;return e.logLevel==="INFORMATION"&&e.name==="OmniSharp.Middleware.LoggingMiddleware"&&t.test(e.message)}getLogLevelPrefix(e){switch(e){case"TRACE":return"trce";case"DEBUG":return"dbug";case"INFORMATION":return"info";case"WARNING":return"warn";case"ERROR":return"fail";case"CRITICAL":return"crit";default:throw new Error(`Unknown log level value: ${e}`)}}};var yH=class extends nh{post=e=>{switch(e.type){case 39:this.handleRazorPluginPathSpecifiedMessage(e);break;case 40:this.handleRazorPluginPathDoesNotExistMessage(e);break;case 56:this.handleRazorDevMode();break}};handleRazorPluginPathSpecifiedMessage(e){this.logger.appendLine("Razor Plugin Path Specified"),this.logger.increaseIndent(),this.logger.appendLine(`Path: ${e.path}`),this.logger.decreaseIndent(),this.logger.appendLine()}handleRazorPluginPathDoesNotExistMessage(e){this.logger.appendLine(`[error]: Razor plugin path was specified as '${e.path}' but does not exist on disk.`)}handleRazorDevMode(){this.logger.appendLine("Razor dev mode active. Suppressing built-in OmniSharp Razor support."),this.logger.appendLine()}};var _H=class{constructor(e,t,n,i,o){this.networkSettingsProvider=e;this.eventStream=t;this.packageJSON=n;this.platformInfo=i;this.extensionPath=o}async DownloadAndInstallRazorOmnisharp(e){let n=E0(this.packageJSON).filter(o=>o.id==="RazorOmnisharp"),i=await ex(n,this.platformInfo,this.extensionPath);return i.length>0&&(this.eventStream.post(new aT(`Razor OmniSharp Version = ${e}`)),this.eventStream.post(new cT(this.platformInfo)),await ZP(i,this.networkSettingsProvider,this.eventStream,tx))?(this.eventStream.post(new uT),!0):!1}};var xOe=ye(sT()),bH=ye(require("path"));var ux=class{constructor(e){this.getMonoVersion=e}minimumMonoVersion="6.4.0";async getHostExecutableInfo(){let e={...process.env},t=qr.monoPath;t.length>0&&(e.PATH=bH.join(t,"bin")+bH.delimiter+e.PATH,e.MONO_GAC_PREFIX=t);let n=await this.getMonoVersion(e);if(n===void 0){let i=t?`Update the "omnisharp.monoPath" setting to point to the folder containing Mono's '/bin' folder.`:"Ensure that Mono's '/bin' folder is added to your environment's PATH variable.";throw new Error(`Unable to find Mono. ${i}`)}if(xOe.lt(n,this.minimumMonoVersion))throw new Error(`Found Mono version ${n}. Minimum required version is ${this.minimumMonoVersion}.`);return{version:n,path:t,env:e}}};var OOe=require("child_process"),IOe=ye(require("path")),SH=ye(sT()),kOe=require("util");var wH=class{constructor(e){this.platformInfo=e}minimumDotnetVersion="6.0.100";async getHostExecutableInfo(){let e=this.platformInfo.isWindows()?"dotnet.exe":"dotnet",t={...process.env},n=qr.dotnetPath;n.length>0&&(t.PATH=n+IOe.delimiter+t.PATH);let i=await(0,kOe.promisify)(OOe.exec)(`${e} --version`,{env:t});if(i.stderr)throw new Error(`Unable to read dotnet version information. Error ${i.stderr}`);let o=SH.parse(i.stdout.trimEnd());if(!o)throw new Error(`Unknown result output from 'dotnet --version'. Received ${i.stdout}`);if(SH.lt(o,this.minimumDotnetVersion))throw new Error(`Found dotnet version ${o}. Minimum required version is ${this.minimumDotnetVersion}.`);return{version:i.stdout,path:n,env:t}}};var AOe=ye(require("vscode")),CH=class{_middlewares;_registration;constructor(){this._middlewares=[]}dispose(){this._registration?.dispose()}register(){this._registration=AOe.commands.registerCommand("omnisharp.registerLanguageMiddleware",e=>{this._middlewares.push(e)})}getLanguageMiddlewares(){return this._middlewares}async remap(e,t,n){try{let i=this.getLanguageMiddlewares(),o=t;for(let s of i){let a=s[e];if(!a)continue;let c=await a.call(s,o,n);c&&(o=c)}return o}catch{return t}}};var goe=ye(require("fs")),mO=ye(require("path"));var TH=ye(require("path")),LOe=ye(require("vscode"));function DH(r){let e=TH.dirname(r.fsPath),t=LOe.workspace.asRelativePath(e);return{label:TH.basename(r.fsPath),description:e===t?"":t,target:r.fsPath,directory:e,workspaceKind:0}}var EH=class{_name;_immediateDelays=0;_nearImmediateDelays=0;_shortDelays=0;_mediumDelays=0;_idleDelays=0;_nonFocusDelays=0;_bigDelays=0;constructor(e){this._name=e}reportDelay(e){e<=25?this._immediateDelays+=1:e<=50?this._nearImmediateDelays+=1:e<=250?this._shortDelays+=1:e<=500?this._mediumDelays+=1:e<=1500?this._idleDelays+=1:e<=3e3?this._nonFocusDelays+=1:this._bigDelays+=1}name(){return this._name}clearMeasures(){this._immediateDelays=0,this._nearImmediateDelays=0,this._shortDelays=0,this._mediumDelays=0,this._idleDelays=0,this._nonFocusDelays=0,this._bigDelays=0}hasMeasures(){return this._immediateDelays>0||this._nearImmediateDelays>0||this._shortDelays>0||this._mediumDelays>0||this._idleDelays>0||this._nonFocusDelays>0||this._bigDelays>0}getMeasures(){return{immediateDelays:this._immediateDelays,nearImmediateDelays:this._nearImmediateDelays,shortDelays:this._shortDelays,mediumDelays:this._mediumDelays,idleDelays:this._idleDelays,nonFocusDelays:this._nonFocusDelays,bigDelays:this._bigDelays}}};var uqe=require("events");var JT=ye(require("path")),NOe=ye(sT());var CQ="6.0";function MOe(r,e,t,n,i){return t.filter(o=>o.platformId!==void 0&&o.isFramework===e).map(o=>h_t(o,e,n,r,i))}function h_t(r,e,t,n,i){let o;return e?r.platforms.includes("win32")?o="OmniSharp.exe":o="run":o="OmniSharp.dll",p_t(r,e,t,n,i,o)}function p_t(r,e,t,n,i,o){let s=e?"":`-net${CQ}`;return{...r,integrity:void 0,description:`${r.description}, Version = ${n}`,url:`${t}/releases/${n}/omnisharp-${r.platformId}${s}.zip`,installPath:`${i}/${n}${s}`,installTestPath:`./${i}/${n}${s}/${o}`}}var RH=class{constructor(e,t,n="https://roslynomnisharp.blob.core.windows.net"){this.downloader=e;this.platformInfo=t;this.serverUrl=n}latestVersionFileServerPath="releases/versioninfo.txt";installPath=".omnisharp";async GetOmniSharpLaunchPath(e,t,n,i){if(t.length===0)return this.GetLaunchPathForVersion(e,this.platformInfo,n,i);if(JT.isAbsolute(t)){if(!await MR(t))throw new Error("The system could not find the specified path");return t}else if(t==="latest")return await this.InstallLatestAndReturnLaunchInfo(n,i);return await this.InstallVersionAndReturnLaunchInfo(t,n,i)}async InstallLatestAndReturnLaunchInfo(e,t){let n=await this.downloader.GetLatestVersion(this.serverUrl,this.latestVersionFileServerPath);return await this.InstallVersionAndReturnLaunchInfo(n,e,t)}async InstallVersionAndReturnLaunchInfo(e,t,n){if(NOe.valid(e))return await this.downloader.DownloadAndInstallOmnisharp(e,t,this.serverUrl,this.installPath),this.GetLaunchPathForVersion(e,this.platformInfo,t,n);throw new Error(`Invalid OmniSharp version - ${e}`)}GetLaunchPathForVersion(e,t,n,i){let o=JT.resolve(i,this.installPath,e+(n?"":`-net${CQ}`));if(n){if(t.isWindows())return JT.join(o,"OmniSharp.exe")}else return JT.join(o,"OmniSharp.dll");return JT.join(o,"omnisharp","OmniSharp.exe")}};var PH=class{constructor(e,t){this.eventName=e;this.measures=t}type=1},xH=class extends PH{type=3},OH=class extends PH{type=0},IH=class{constructor(e,t,n){this.dotNetCliPaths=e;this.timeStamp=t;this.solutionPath=n}type=4},lx=class{constructor(e,t,n,i,o){this.hostVersion=e;this.hostPath=t;this.hostIsMono=n;this.command=i;this.pid=o}type=5},kH=class{constructor(e,t){this.message=e;this.error=t}type=12},AH=class{constructor(e,t){this.request=e;this.id=t}type=13},LH=class{constructor(e,t){this.debugCounts=e;this.runCounts=t}type=14},MH=class{constructor(e){this.errorMessage=e}type=15},NH=class{constructor(e){this.message=e}type=80},FH=class{constructor(e){this.diagnostics=e}type=16},qH=class{constructor(e){this.unresolvedDependencies=e}type=17},jH=class{constructor(e,t){this.queueName=e;this.command=t}type=18},mM=class{constructor(e,t,n,i){this.queueName=e;this.queueStatus=t;this.command=n;this.id=i}type=70};var zH=class{constructor(e,t){this.name=e;this.availableRequestSlots=t}type=19},dx=class{constructor(e,t,n){this.logLevel=e;this.name=t;this.message=n}type=20},cE=class{constructor(e){this.err=e}type=21},UH=class{constructor(e){this.targets=e}type=22},HH=class{constructor(e){this.projectConfiguration=e}type=74},BH=class{constructor(e){this.info=e}type=23},fx=class{constructor(e){this.results=e}type=29},WH=class{constructor(e){this.testMethod=e}type=30},$H=class{constructor(e){this.testMethod=e}type=31},VH=class{constructor(e){this.targetProcessId=e}type=32},GH=class{constructor(e){this.className=e}type=33},KH=class{constructor(e){this.className=e}type=34},YH=class{constructor(e,t,n){this.fileName=e;this.line=t;this.column=n}type=76},JH=class{constructor(e,t,n){this.fileName=e;this.line=t;this.column=n}type=77},XH=class{constructor(e,t){this.documentPath=e;this.errorMessage=t}type=35},QH=class{constructor(e){this.path=e}type=39},ZH=class{constructor(e){this.path=e}type=40},gM=class extends lf{type=42},eB=class extends lf{type=66},tB=class extends lf{type=68},rB=class extends lf{type=63},TS=class extends lf{type=62},nB=class extends lf{type=61},bm=class extends lf{type=60},DS=class extends lf{type=59},vM=class extends lf{type=58},yM=class extends lf{type=57},iB=class{type=56},oB=class{type=55},sB=class{type=53},_M=class{type=51},aB=class{type=49},cB=class{type=48},uB=class{type=47},lB=class{type=73},dB=class{type=46},fB=class{type=71},hB=class{type=72},pB=class{type=45},mB=class{type=69},gB=class{type=44};var vB=class{constructor(e,t,n,i,o){this.networkSettingsProvider=e;this.eventStream=t;this.packageJSON=n;this.platformInfo=i;this.extensionPath=o}async DownloadAndInstallOmnisharp(e,t,n,i){let o=E0(this.packageJSON),s=MOe(e,t,o,n,i),a=await ex(s,this.platformInfo,this.extensionPath);return a.length>0&&(this.eventStream.post(new aT(`OmniSharp Version = ${e}`)),this.eventStream.post(new cT(this.platformInfo)),await ZP(a,this.networkSettingsProvider,this.eventStream,tx))?(this.eventStream.post(new uT),!0):!1}async GetLatestVersion(e,t){let n="Latest OmniSharp Version Information",i=`${e}/${t}`;try{return this.eventStream.post(new pB),(await bz(n,this.eventStream,this.networkSettingsProvider,i)).toString("utf8")}catch(o){throw this.eventStream.post(new T0("getLatestVersionInfoFile",o)),o}}};var lqe=ye(CT()),dqe=ye(RL());var PB=ye(BIe()),XT=ye(require("path")),RS=ye(require("vscode"));var Rbt={label:"VSLS",description:"Visual Studio Live Share",directory:"",target:"",workspaceKind:6},Pbt="vsls",xbt=new Set([Pbt]);async function xB(){if(!RS.workspace.workspaceFolders)return Promise.resolve([]);let r=await RS.workspace.findFiles("{**/*.sln,**/*.slnf,**/*.csproj,**/*.csx,**/*.cake}",`{${qr.projectFilesExcludePattern}}`),e=await RS.workspace.findFiles("{**/*.cs}","{**/node_modules/**,**/.git/**,**/bower_components/**}",1);return Obt(r.concat(e),RS.workspace.workspaceFolders,qr.maxProjectResults)}function Obt(r,e,t){if(r.length===0)return[];let n=r.filter(o=>!xbt.has(o.scheme));if(n.length===0)return[Rbt];let i=new Map;for(let o of n){let s=RS.workspace.getWorkspaceFolder(o);if(s){let a;i.has(s.index)?a=i.get(s.index):(a=[],i.set(s.index,a)),a.push(o)}}return Ibt(r,e,i,t)}function Ibt(r,e,t,n){let i=[],o=[],s=[],a=[],c=[];t.forEach((l,d)=>{let f=!1,p=!1,_=!1,P=e[d].uri.fsPath;l.forEach(U=>{if(Abt(U))i.push(DH(U));else if(kbt(U)){let ne=XT.dirname(U.fsPath);a.push({label:XT.basename(U.fsPath),description:RS.workspace.asRelativePath(ne),target:ne,directory:ne,workspaceKind:1})}else f||=Lbt(U),p||=Mbt(U),_||=Nbt(U)});let M=a.length>0,A=i.length>0;M&&!A&&s.push({label:XT.basename(P),description:"All contained projects",target:P,directory:P,workspaceKind:3}),f&&c.push({label:"CSX",description:XT.basename(P),target:P,directory:P,workspaceKind:4}),p&&c.push({label:"Cake",description:XT.basename(P),target:P,directory:P,workspaceKind:5}),_&&!A&&!M&&c.push({label:XT.basename(P),description:"",target:P,directory:P,workspaceKind:3})}),i=i.sort((l,d)=>l.directory.localeCompare(d.directory)),s=s.sort((l,d)=>l.directory.localeCompare(d.directory)),o=o.sort((l,d)=>l.directory.localeCompare(d.directory)),a=a.sort((l,d)=>l.directory.localeCompare(d.directory));let u=c.concat(i).concat(s).concat(o).concat(a);return n>0?u.slice(0,n):u}function kbt(r){return/\.csproj$/i.test(r.fsPath)}function Abt(r){return/\.slnf?$/i.test(r.fsPath)}function Lbt(r){return/\.csx$/i.test(r.fsPath)}function Mbt(r){return/\.cake$/i.test(r.fsPath)}function Nbt(r){return/\.cs$/i.test(r.fsPath)}async function WIe(r,e,t,n,i,o){return new Promise((s,a)=>{Fbt(r,e,t,n,i,o).then(c=>{c.process.on("error",u=>{a(u)}),c.process.on("spawn",()=>{s(c)})}).catch(c=>a(c))})}async function eZ(r,e,t,n,i,o){if(qr.useEditorFormattingSettings){let a=RS.workspace.getConfiguration("",null),c=RS.workspace.getConfiguration("[csharp]",null);e.push(`formattingOptions:useTabs=${!ZQ(a,c,"editor.insertSpaces",!0)}`),e.push(`formattingOptions:tabSize=${ZQ(a,c,"editor.tabSize",4)}`),e.push(`formattingOptions:indentationSize=${ZQ(a,c,"editor.tabSize",4)}`)}if(qr.useModernNet){let a=e.slice(0),c;t.endsWith(".dll")?(c=n.isWindows()?"dotnet.exe":"dotnet",a.unshift(t)):c=t;let u=await o.getHostExecutableInfo();return{hostKind:".NET",hostPath:u.path,hostVersion:u.version,path:c,launchPath:t,cwd:r,args:a,env:u.env}}if(n.isWindows())return{hostKind:"Windows .NET Framework",hostPath:"",hostVersion:"",path:t,launchPath:t,cwd:r,args:e,env:process.env};let s=await i.getHostExecutableInfo();if(s!==void 0){let a=e.slice(0);return a.unshift(t),a.unshift("--assembly-loader=strict"),ds.waitForDebugger&&(a.unshift("--debug"),a.unshift("--debugger-agent=transport=dt_socket,server=y,address=127.0.0.1:55555")),{hostKind:"Mono .NET Framework",hostPath:s.path,hostVersion:s.version,path:"mono",launchPath:t,cwd:r,args:a,env:s.env}}throw new Error("Unable to find Mono installation.")}async function Fbt(r,e,t,n,i,o){let s=await eZ(r,e,t,n,i,o);return qbt(n,s)}function qbt(r,e){let{cwd:t,args:n,path:i,launchPath:o,env:s}=e;switch(e.hostKind){case".NET":return{process:(0,PB.spawn)(i,n,{detached:!1,cwd:t,env:s}),command:o,hostIsMono:!1,hostVersion:e.hostVersion,hostPath:e.hostPath};case"Windows .NET Framework":return jbt(i,t,n);case"Mono .NET Framework":return{command:o,process:zbt(e.hostPath,t,n,e.env),hostIsMono:!0,hostVersion:e.hostVersion,hostPath:e.hostPath}}}function ZQ(r,e,t,n){return e[t]!=null?e[t]:r.get(t,n)}function jbt(r,e,t){function n(s){return/^[^"].* .*[^"]/.test(s)?`"${s}"`:s.replace("&","^&")}let i=t.slice(0);return i.unshift(`"${r}"`),i=[["/s","/c",'"'+i.map(n).join(" ")+'"'].join(" ")],{process:(0,PB.spawn)("cmd",i,{windowsVerbatimArguments:!0,detached:!1,cwd:e}),command:r,hostIsMono:!1}}function zbt(r,e,t,n){return(0,PB.spawn)("mono",t,{detached:!1,cwd:e,env:n})}var tFe=require("timers");var vD=require("vscode");var rFe=ye(en()),b$=ye(cl()),nFe=ye(KS()),iFe=ye(Ene()),oFe=ye(nne()),sFe=ye($ne()),aFe=ye(Sne()),cFe=ye(mne()),uFe=ye(zne()),lFe=ye(MW()),dFe=ye(wre()),fFe=ye(qne()),hFe=ye(One()),_$=class{constructor(e,t,n,i,o,s,a,c,u){this.eventBus=e;this.eventStream=t;this.context=n;this.outputChannel=i;this.disposables=o;this.languageMiddlewareFeature=s;this.platformInfo=a;this.monoResolver=c;this.dotnetResolver=u}client;_initializeTask;async start(e,t,n,i){let o=await eZ(e,["-lsp","--encoding","ascii"].concat(t),i,this.platformInfo,this.monoResolver,this.dotnetResolver),s={run:{command:o.path,args:o.args,options:{cwd:o.cwd,env:o.env}},debug:{command:o.path,args:o.args,options:{cwd:e,env:o.env}}},a=this.languageMiddlewareFeature,c={diagnosticCollectionName:"csharp",progressOnInitialization:!0,outputChannel:this.outputChannel,synchronize:{configurationSection:"csharp"},middleware:{async provideDefinition(p,_,D,P){let M=await P(p,_,D);return M&&a.remap("remapLocations",Array.isArray(M)?M:[M],D)},async provideTypeDefinition(p,_,D,P){let M=await P(p,_,D);return M&&a.remap("remapLocations",Array.isArray(M)?M:[M],D)},async provideReferences(p,_,D,P,M){let A=await M(p,_,D,P);return a.remap("remapLocations",A,P)},async provideImplementation(p,_,D,P){let M=await P(p,_,D);return M&&a.remap("remapLocations",Array.isArray(M)?M:[M],D)},async provideRenameEdits(p,_,D,P,M){let A=await M(p,_,D,P);return A&&a.remap("remapWorkspaceEdit",A,P)},async provideCodeLenses(p,_,D){let P=await D(p,_);if(!P)return P;let M=P.map(U=>new vD.Location(p.uri,U.range)),A=await a.remap("remapLocations",M,_);return P.filter((U,ne)=>A[ne].uri===p.uri)},async resolveCodeLens(p,_,D){let P=await D(p,_);return!P||P.command===void 0?P:new vD.CodeLens(P.range,rFe.Command.create(P.command.title,"editor.action.findReferences",vD.Uri.parse(p.data),P.range.start))},async provideFoldingRanges(p,_,D,P){return await P(p,_,D)},async provideHover(p,_,D,P){return await P(p,_,D)},async provideSignatureHelp(p,_,D,P,M){return await M(p,_,D,P)},async provideCompletionItem(p,_,D,P,M){return await M(p,_,D,P)},async provideWorkspaceSymbols(p,_,D){return await D(p,_)},async provideDocumentSymbols(p,_,D){return await D(p,_)},async provideCodeActions(p,_,D,P,M){return await M(p,_,D,P)},async provideDocumentFormattingEdits(p,_,D,P){return await P(p,_,D)},async provideDocumentRangeFormattingEdits(p,_,D,P,M){return await M(p,_,D,P)},async provideOnTypeFormattingEdits(p,_,D,P,M,A){return await A(p,_,D,P,M)},async provideDocumentSemanticTokens(p,_,D){return await D(p,_)},async provideDocumentRangeSemanticTokens(p,_,D,P){return await P(p,_,D)},async provideDocumentHighlights(p,_,D,P){return await P(p,_,D)},async provideInlayHints(p,_,D,P){return await P(p,_,D)}}},u=new nFe.LanguageClient("Omnisharp Server",s,c);await u.setTrace(b$.Trace.Verbose);let l=u._features;function d(p){let _=l.findIndex(D=>D instanceof p);_>-1&&l.splice(_,1)}d(hFe.CallHierarchyFeature),d(oFe.ColorProviderFeature),d(aFe.DeclarationFeature),d(lFe.DiagnosticFeature),d(cFe.DocumentLinkFeature),d(uFe.InlineValueFeature),d(dFe.NotebookDocumentSyncFeature),d(iFe.SelectionRangeFeature),d(fFe.TypeHierarchyFeature),d(sFe.WorkspaceFoldersFeature);let f=this.createInteropFeature(u);return u.registerFeature(f),this.client=u,this.disposables.add(u),this.context.subscriptions.push(u),this.eventStream.post(new lx(o.hostVersion??"",o.hostPath,o.hostKind==="Mono .NET Framework",o.hostPath??o.path,-1)),this.client.start()}async registerProviders(e,t,n,i,o){return new mo}async stop(){return this.client?.stop()}async waitForInitialize(){if(this.client===void 0)throw new Error("LSP Client not started.");return this._initializeTask===void 0&&(this._initializeTask=e(this.client)),this._initializeTask;async function e(t){let n=new b$.RequestType("o#/checkreadystatus");for(;!await t.sendRequest(n,{});)await new Promise(i=>(0,tFe.setTimeout)(i,100))}}dispose(){this.disposables.dispose()}async makeRequest(e,t,n){if(t?.Buffer&&delete t.Buffer,this.client===void 0)throw new Error("Request made before client was started.");await this.waitForInitialize();let i=0,o;for(;i<5;)try{return await this.client.sendRequest(`o#/${e}`.replace(/\/\//g,"/").toLowerCase(),t||{},n??new vD.CancellationTokenSource().token)}catch(s){i<5&&o?.code===-32801?i++:o=s}throw console.error(o),o}addListener(e,t){let n=`o#/${e}`.replace(/\/\//g,"/").toLowerCase();return this.eventBus.addListener(n,t),new yd(()=>this.eventBus.removeListener(n,t))}createInteropFeature=e=>({getState(){return{kind:"workspace",id:"omnisharpProtocolInteropFeature",registrations:!0}},clear(){},fillClientCapabilities(t){},initialize:(t,n)=>{e.onNotification("o#/log",i=>{let o=i.Body;this.eventStream.post(new dx(o.LogLevel,o.Name,o.Message))});for(let i of Object.values(Zo)){if(typeof i!="string")continue;let o=`o#/${i}`.replace(/\/\//g,"/").toLowerCase();e.onNotification(o,s=>{this.eventBus.emit(i,s)})}}})};var BFe=require("child_process"),WFe=require("readline");var pFe=[Ai.ChangeBuffer,Ai.FormatAfterKeystroke,Ai.FormatRange,Ai.UpdateBuffer],mFe=[Ai.Completion,Ai.CompletionResolve,Ai.FilesChanged,Ai.FindSymbols,Ai.FindUsages,Ai.GetCodeActions,Ls.Requests.GoToDefinition,Ai.RunCodeAction,Ai.SignatureHelp,Ai.TypeLookup,Ai.GoToTypeDefinition],dPt=new Set(pFe),fPt=new Set(mFe);var gFe=new Set;for(let r of pFe)gFe.add(r);for(let r of mFe)gFe.add(r);function vFe(r){return dPt.has(r)}function yFe(r){return fPt.has(r)}var mN=class{constructor(e,t,n,i){this._name=e;this._maxSize=t;this.eventStream=n;this._makeRequest=i}_pending=[];_waiting=new Map;enqueue(e){this.eventStream.post(new jH(this._name,e.command)),this._pending.push(e)}dequeue(e){let t=this._waiting.get(e);return t&&(this._waiting.delete(e),this.eventStream.post(new mM(this._name,"waiting",t.command,e))),t}cancelRequest(e){let t=this._pending.indexOf(e);t!==-1&&(this._pending.splice(t,1),this.eventStream.post(new mM(this._name,"pending",e.command))),e.id&&this.dequeue(e.id)}hasPending(){return this._pending.length>0}isFull(){return this._waiting.size>=this._maxSize}processPending(){if(this._pending.length===0)return;let e=this._maxSize-this._waiting.size;this.eventStream.post(new zH(this._name,e));for(let t=0;t<e&&this._pending.length>0;t++){let n=this._pending.shift();n.startTime=Date.now();let i=this._makeRequest(n);if(this._waiting.set(i,n),this.isFull())break}this.eventStream.post(new aB)}},w$=class{_isProcessing;_priorityQueue;_normalQueue;_deferredQueue;constructor(e,t,n){this._isProcessing=!1,this._priorityQueue=new mN("Priority",1,e,n),this._normalQueue=new mN("Normal",t,e,n),this._deferredQueue=new mN("Deferred",Math.max(Math.floor(t/4),2),e,n)}getQueue(e){return vFe(e)?this._priorityQueue:yFe(e)?this._normalQueue:this._deferredQueue}isEmpty(){return!this._deferredQueue.hasPending()&&!this._normalQueue.hasPending()&&!this._priorityQueue.hasPending()}enqueue(e){this.getQueue(e.command).enqueue(e),this.drain()}dequeue(e,t){return this.getQueue(e).dequeue(t)}cancelRequest(e){this.getQueue(e.command).cancelRequest(e)}drain(){if(this._isProcessing||this._priorityQueue.isFull()||this._normalQueue.isFull()&&this._deferredQueue.isFull())return!1;if(this._isProcessing=!0,this._priorityQueue.hasPending()){this._priorityQueue.processPending(),this._isProcessing=!1;return}this._normalQueue.hasPending()&&this._normalQueue.processPending(),this._deferredQueue.hasPending()&&this._deferredQueue.processPending(),this._isProcessing=!1}};var soe=require("timers");var TFe=ye(CFe());function $ie(r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);return r.charCodeAt(0)===65279?r.slice(1):r}function DFe(r){return(0,TFe.default)(r)}function EFe(r){return $ie(r.trim())}var gN=require("vscode"),vN=class{scheme="omnisharp-metadata";_registration;_documents;_documentClosedSubscription;constructor(){this._documents=new Map,this._documentClosedSubscription=gN.workspace.onDidCloseTextDocument(this.onTextDocumentClosed,this)}onTextDocumentClosed(e){this._documents.delete(e.uri.toString())}dispose(){this._registration?.dispose(),this._documentClosedSubscription.dispose(),this._documents.clear()}addMetadataResponse(e){let t=this.createUri(e.SourceName);return this._documents.set(t.toString(),e),t}getExistingMetadataResponseUri(e){return this.createUri(e)}hasMetadataDocument(e){let t=this.createUri(e);return this._documents.has(t.toString())}register(){this._registration=gN.workspace.registerTextDocumentContentProvider(this.scheme,this)}provideTextDocumentContent(e){return this._documents.get(e.toString())?.Source}createUri(e){return gN.Uri.parse(this.scheme+"://"+e.replace(/\\/g,"/").replace(/(.*)\/(.*)/g,"$1/[metadata] $2"))}};var YS=require("vscode");var yN=class{constructor(e){this.server=e;this._documents=new Map,this._uriToDocumentInfo=new Map,this._documentClosedSubscription=YS.workspace.onDidCloseTextDocument(this.onTextDocumentClosed,this),this._visibleTextEditorsChangedSubscription=YS.window.onDidChangeVisibleTextEditors(this.onVisibleTextEditorsChanged,this),this._onDidChangeEmitter=new YS.EventEmitter,this.onDidChange=this._onDidChangeEmitter.event}scheme="omnisharp-source-generated";_registration;_documents;_uriToDocumentInfo;_documentClosedSubscription;_visibleTextEditorsChangedSubscription;_onDidChangeEmitter;onDidChange;async onTextDocumentClosed(e){let t=e.uri.toString(),n=this._uriToDocumentInfo.get(t);n!==void 0&&(this._documents.delete(n),this._uriToDocumentInfo.delete(t),await rOe(this.server,n))}async onVisibleTextEditorsChanged(e){for(let t of e){let n=t.document.uri,i=n.toString(),o=this._uriToDocumentInfo.get(i);if(o!==void 0)try{let s=this._documents.get(o);if(s===void 0)continue;let a=await tOe(this.server,o);switch(a.UpdateType){case 1:s.Source="Document is no longer being generated.";break;case 2:s.Source=a.Source;break;case 0:continue}this._onDidChangeEmitter.fire(n)}catch{continue}}}register(){this._registration=YS.workspace.registerTextDocumentContentProvider(this.scheme,this)}dispose(){this._registration?.dispose(),this._documentClosedSubscription.dispose(),this._visibleTextEditorsChangedSubscription.dispose(),this._documents.clear()}addSourceGeneratedFileWithoutInitialContent(e,t){let n=this._documents.get(e);if(n!==void 0)return this.getUriForName(n.SourceName);let i=this.getUriForName(t),o=i.toString();return this._documents.delete(e),this._uriToDocumentInfo.set(o,e),i}async provideTextDocumentContent(e,t){let n=this._uriToDocumentInfo.get(e.toString());if(n===void 0)return;let i=this._documents.get(n);return i===void 0&&(i=await eOe(this.server,n,t),this._documents.set(n,i)),i.Source}getUriForName(e){return YS.Uri.parse(this.scheme+":///"+e)}};var Ya=ye(require("vscode"));var oO=ye(require("vscode"));var vh=ye(require("vscode"));function nO(r){let e=vh.Uri.file(r.FileName);return Vie(e,r)}function Vie(r,e){let t=new vh.Position(e.Line,e.Column),n=e.EndLine,i=e.EndColumn;if(n!==void 0&&i!==void 0){let o=new vh.Position(n,i);return new vh.Location(r,new vh.Range(t,o))}return new vh.Location(r,t)}function PFe(r){return new vh.Location(vh.Uri.file(r.FileName),yD(r.Range))}function iO(r){let{Line:e,Column:t,EndLine:n,EndColumn:i}=r;return Gie(e,t,n,i)}function _N(r){let{StartLine:e,StartColumn:t,EndLine:n,EndColumn:i}=r;return Gie(e,t,n,i)}function yD(r){return Gie(r.Start.Line,r.Start.Column,r.End.Line,r.End.Column)}function Gie(r,e,t,n){return new vh.Range(r,e,t,n)}function xFe(r){return{Start:RFe(r.start),End:RFe(r.end)}}function RFe(r){return{Line:r.line,Column:r.character}}function OFe(r){return new vh.Position(r.Line,r.Column)}function IFe(r){return new vh.TextEdit(_N(r),r.NewText)}function ql(r,e,t=!1){return{FileName:r.uri.scheme==="omnisharp-metadata"?`${r.uri.authority}${r.fileName.replace("[metadata] ","")}`:r.fileName,Buffer:t?r.getText():void 0,Line:e.line,Column:e.character}}var Ji=class{_server;_languageMiddlewareFeature;_disposables;constructor(e,t){this._server=e,this._languageMiddlewareFeature=t,this._disposables=new mo}addDisposables(e){this._disposables.add(e)}dispose=()=>{this._disposables.dispose()}};var mPt=Ls.Structure,bN=Ls.SymbolKinds,kFe=Ls.SymbolPropertyNames,Kie=Ls.SymbolRangeNames,S$=class extends oO.CodeLens{constructor(t,n){super(new oO.Range(t.Start.Line,t.Start.Column,t.End.Line,t.End.Column));this.fileName=n}},C$=class extends S${constructor(e,t){super(e,t)}},T$=class extends S${constructor(t,n,i,o,s,a){super(t,n);this.displayName=i;this.isTestContainer=o;this.testFramework=s;this.testMethodNames=a}},wN=class extends T${constructor(e,t,n,i,o,s){super(e,t,n,i,o,s)}},SN=class extends T${constructor(e,t,n,i,o,s){super(e,t,n,i,o,s)}},CN=class extends Ji{constructor(e,t,n){super(e,n)}async provideCodeLenses(e,t){if(!qr.showReferencesCodeLens&&!qr.showTestsCodeLens)return[];try{let n=await nH(this._server,{FileName:e.fileName},t);if(n&&n.Elements)return gPt(n.Elements,e.fileName)}catch{}return[]}async resolveCodeLens(e,t){if(e instanceof C$)return this.resolveReferencesCodeLens(e,t);if(e instanceof wN)return this.resolveTestCodeLens(e,"Run Test","dotnet.test.run","Run All Tests","dotnet.classTests.run");if(e instanceof SN)return this.resolveTestCodeLens(e,"Debug Test","dotnet.test.debug","Debug All Tests","dotnet.classTests.debug")}async resolveReferencesCodeLens(e,t){let n={FileName:e.fileName,Line:e.range.start.line,Column:e.range.start.character,OnlyThisFile:!1,ExcludeDefinition:!0};try{let i=await sx(this._server,n,t);if(!i||!i.QuickFixes)return;let o=i.QuickFixes,s=o.length,a=o.map(nO),c=await this._languageMiddlewareFeature.remap("remapLocations",a,t);return e.command={title:s===1?"1 reference":`${s} references`,command:"editor.action.showReferences",arguments:[oO.Uri.file(e.fileName),e.range.start,c]},e}catch{return}}async resolveTestCodeLens(e,t,n,i,o){if(!e.isTestContainer)return e.command={title:t,command:n,arguments:[e.testMethodNames[0],e.fileName,e.testFramework]},e;let s;try{s=await fM(this._server,{FileName:e.fileName})}catch{return}return s.MsBuildProject&&(e.command={title:i,command:o,arguments:[e.displayName,e.testMethodNames,e.fileName,e.testFramework]}),e}};function gPt(r,e){let t=[];return mPt.walkCodeElements(r,n=>{let i=vPt(n,e);t.push(...i)}),t}function vPt(r,e){let t=[];if(qr.showReferencesCodeLens&&_Pt(r)){let n=r.Ranges[Kie.Name];n&&t.push(new C$(n,e))}if(qr.showTestsCodeLens){if(r.Kind===bN.Method){let n=AFe(r);if(n!==void 0){let i=r.Ranges[Kie.Name];i!==void 0&&(t.push(new wN(i,e,r.DisplayName,!1,n.framework,[n.methodName])),t.push(new SN(i,e,r.DisplayName,!1,n.framework,[n.methodName])))}}else if(r.Kind===bN.Class&&r.Children!==void 0){let i=r.Children.filter(s=>s.Kind===bN.Method).map(s=>AFe(s)).filter(s=>s!==void 0),o=i.length>0?i[0].framework:void 0;if(o!==void 0){let s=i.filter(c=>c.framework===o).map(c=>c.methodName),a=r.Ranges[Kie.Name];t.push(new wN(a,e,r.DisplayName,!0,o,s)),t.push(new SN(a,e,r.DisplayName,!0,o,s))}}}return t}var yPt={Equals:!0,Finalize:!0,GetHashCode:!0,ToString:!0,Dispose:!0,GetEnumerator:!0};function _Pt(r){return!(r.Kind===bN.Namespace||r.Kind===bN.Method&&yPt[r.Name]||qr.filteredSymbolsCodeLens.includes(r.Name))}function AFe(r){if(r.Properties===void 0)return;let e=r.Properties[kFe.TestFramework],t=r.Properties[kFe.TestMethodName];if(!(e===void 0||t===void 0))return{framework:e,methodName:t}}var D$=require("vscode"),TN=class r extends Ji{async provideDocumentHighlights(e,t,n){let i=ql(e,t);i.OnlyThisFile=!0,i.ExcludeDefinition=!1;try{let o=await sx(this._server,i,n);if(o&&Array.isArray(o.QuickFixes))return o.QuickFixes.map(r._asDocumentHighlight)}catch{}return[]}static _asDocumentHighlight(e){return new D$.DocumentHighlight(iO(e),D$.DocumentHighlightKind.Read)}};var dl=ye(require("vscode"));var es=Ls.SymbolKinds,LFe=Ls.SymbolRangeNames,DN=class extends Ji{async provideDocumentSymbols(e,t){try{let n=await nH(this._server,{FileName:e.fileName},t);return n&&n.Elements?MFe(n.Elements):[]}catch{return[]}}};function MFe(r,e){let t=[];return r.forEach(n=>{let i=wPt(n,e);n.Children&&(i.children=MFe(n.Children,n)),t.push(i)}),t}function bPt(r,e){switch(r.Kind){case es.Class:case es.Delegate:case es.Enum:case es.Interface:case es.Struct:return r.Name;case es.Namespace:return typeof e<"u"&&r.DisplayName.startsWith(`${e.DisplayName}.`)?r.DisplayName.slice(e.DisplayName.length+1):r.DisplayName;case es.Constant:case es.Constructor:case es.Destructor:case es.EnumMember:case es.Event:case es.Field:case es.Indexer:case es.Method:case es.Operator:case es.Property:case es.Unknown:default:return r.DisplayName}}function wPt(r,e){let t=r.Ranges[LFe.Full],n=r.Ranges[LFe.Name],i=bPt(r,e),o=i===r.DisplayName?"":r.DisplayName;return new dl.DocumentSymbol(i,o,SPt(r.Kind),yD(t),yD(n))}var pf={};pf[es.Class]=dl.SymbolKind.Class;pf[es.Delegate]=dl.SymbolKind.Class;pf[es.Enum]=dl.SymbolKind.Enum;pf[es.Interface]=dl.SymbolKind.Interface;pf[es.Struct]=dl.SymbolKind.Struct;pf[es.Constant]=dl.SymbolKind.Constant;pf[es.Destructor]=dl.SymbolKind.Method;pf[es.EnumMember]=dl.SymbolKind.EnumMember;pf[es.Event]=dl.SymbolKind.Event;pf[es.Field]=dl.SymbolKind.Field;pf[es.Indexer]=dl.SymbolKind.Property;pf[es.Method]=dl.SymbolKind.Method;pf[es.Operator]=dl.SymbolKind.Operator;pf[es.Property]=dl.SymbolKind.Property;pf[es.Namespace]=dl.SymbolKind.Namespace;pf[es.Unknown]=dl.SymbolKind.Class;function SPt(r){return r==="constructor"?dl.SymbolKind.Constructor:pf[r]}var E$=require("vscode"),EN=class extends Ji{async provideHover(e,t,n){let i=ql(e,t);try{let o=await gOe(this._server,i,n);if(!o||!o.Markdown)return;let s=new E$.MarkdownString;return s.appendMarkdown(o.Markdown),new E$.Hover(s)}catch{return}}};var sO=require("vscode"),RN=class extends Ji{async provideRenameEdits(e,t,n,i){let o=ql(e,t);o.WantsTextChanges=!0,o.RenameTo=n,o.ApplyTextChanges=!1;try{let s=await nOe(this._server,o,i);if(!s)return;let a=new sO.WorkspaceEdit;return s.Changes.forEach(u=>{let l=sO.Uri.file(u.FileName);u.Changes.forEach(d=>{a.replace(l,new sO.Range(d.StartLine,d.StartColumn,d.EndLine,d.EndColumn),d.NewText)})}),await this._languageMiddlewareFeature.remap("remapWorkspaceEdit",a,i)}catch{return}}};var R$=require("vscode"),aO=class r extends Ji{async provideDocumentRangeFormattingEdits(e,t,n,i){let o={FileName:e.fileName,Line:t.start.line,Column:t.start.character,EndLine:t.end.line,EndColumn:t.end.character};try{let s=await Jxe(this._server,o,i);if(s&&Array.isArray(s.Changes))return s.Changes.map(r._asEditOptionation)}catch{}return[]}async provideOnTypeFormattingEdits(e,t,n,i,o){let s={FileName:e.fileName,Line:t.line,Column:t.character,Character:n};try{let a=await Yxe(this._server,s,o);if(a&&Array.isArray(a.Changes))return a.Changes.map(r._asEditOptionation)}catch{}return[]}static _asEditOptionation(e){return new R$.TextEdit(new R$.Range(e.StartLine,e.StartColumn,e.EndLine,e.EndColumn),e.NewText)}};var mf=require("vscode");var PN=class r extends Ji{constructor(t,n,i){super(t,n);this.sourceGeneratedDocumentProvider=i}async provideWorkspaceSymbols(t,n){let i=qr.minFindSymbolsFilterLength,o=qr.maxFindSymbolsItems,s=i>0?i:void 0,a=o>0?o:void 0;if(s!==void 0&&t.length<s)return[];try{let c=await Vxe(this._server,{Filter:t,MaxItemsToReturn:a},n);if(Array.isArray(c?.QuickFixes))return c.QuickFixes.map(u=>this._asSymbolInformation(u))}catch{}return[]}_asSymbolInformation(t){let n;t.GeneratedFileInfo?n=this.sourceGeneratedDocumentProvider.addSourceGeneratedFileWithoutInitialContent(t.GeneratedFileInfo,t.FileName):n=mf.Uri.file(t.FileName);let i=new mf.Location(n,iO(t));return new mf.SymbolInformation(t.Text,r._toKind(t),t.ContainingSymbolName??"",i)}static _toKind(t){switch(t.Kind){case"Method":return mf.SymbolKind.Method;case"Field":return mf.SymbolKind.Field;case"Property":return mf.SymbolKind.Property;case"Interface":return mf.SymbolKind.Interface;case"Enum":return mf.SymbolKind.Enum;case"Struct":return mf.SymbolKind.Struct;case"Event":return mf.SymbolKind.Event;case"EnumMember":return mf.SymbolKind.EnumMember;case"Class":return mf.SymbolKind.Class;default:return mf.SymbolKind.Class}}};var cO=require("vscode"),NFe=require("vscode"),xN=class extends Ji{async provideSignatureHelp(e,t,n){let i=ql(e,t);try{let o=await oOe(this._server,i,n);if(!o)return;let s=new cO.SignatureHelp;s.activeSignature=o.ActiveSignature,s.activeParameter=o.ActiveParameter;for(let a of o.Signatures){let c=new cO.SignatureInformation(a.Label,a.StructuredDocumentation.SummaryText);s.signatures.push(c);for(let u of a.Parameters){let l=new cO.ParameterInformation(u.Label,this.GetParameterDocumentation(u));c.parameters.push(l)}}return s}catch{return}}GetParameterDocumentation(e){let t=e.Documentation;if(t.length>0){let n=`**${e.Name}**: ${t}`;return new NFe.MarkdownString(n)}return""}};var Pm=ye(require("vscode"));var Mg=ye(require("vscode"));async function P$(r,e,t){let n=new Mg.WorkspaceEdit,i;if(!r||!Array.isArray(r)||!r.length)return!0;for(let s of r)if(s.ModificationType==1&&(i=Mg.Uri.file(s.FileName)),s.ModificationType==0){let a=s,c=Mg.Uri.file(a.FileName),u=[];for(let l of a.Changes)u.push(Mg.TextEdit.replace(_N(l),l.NewText));n.set(c,u)}for(let s of r)if(s.ModificationType==2){let a=s;n.renameFile(Mg.Uri.file(a.FileName),Mg.Uri.file(a.NewFileName))}n=await e.remap("remapWorkspaceEdit",n,t);let o=Mg.workspace.applyEdit(n);return i!==void 0?o.then(s=>Mg.commands.executeCommand("vscode.open",i)):o}var FFe=ye(cl());var ON=class r extends Ji{constructor(t,n){super(t,n);this.server=t;let i=new mo;i.add(Pm.commands.registerCommand("o.fixAll.solution",async()=>this.fixAllMenu(t,"Solution"))),i.add(Pm.commands.registerCommand("o.fixAll.project",async()=>this.fixAllMenu(t,"Project"))),i.add(Pm.commands.registerCommand("o.fixAll.document",async()=>this.fixAllMenu(t,"Document"))),this.addDisposables(i)}static fixAllCodeActionKind=Pm.CodeActionKind.SourceFixAll.append("csharp");static metadata={providedCodeActionKinds:[r.fixAllCodeActionKind]};async provideCodeActions(t,n,i,o){return console.log(i),i.only?(i.only.contains(r.fixAllCodeActionKind)&&await this.applyFixes(t.fileName,"Document",void 0),[]):[]}async fixAllMenu(t,n){let i=Pm.window.activeTextEditor?.document.fileName;if(i===void 0){pp(Pm,Pm.l10n.t("Text editor must be focused to fix all issues"));return}let s=(await Kxe(t,{FileName:i,Scope:n})).Items.map(l=>`${l.Id}: ${l.Message}`),a=Pm.l10n.t("Fix all issues");n==="Document"&&(s=[a,...s]);let c=await Pm.window.showQuickPick(s,{matchOnDescription:!0,placeHolder:Pm.l10n.t("Select fix all action")});if(c===void 0)return;let u;if(c!==a){let l=c.split(":");u=[{Id:l[0],Message:l[1]}]}await this.applyFixes(i,n,u)}async applyFixes(t,n,i){let o=await Gxe(this.server,{FileName:t,Scope:n,FixAllFilter:i,WantsAllCodeActionOperations:!0,WantsTextChanges:!0,ApplyChanges:!1});o&&await P$(o.Changes,this._languageMiddlewareFeature,FFe.CancellationToken.None)}};var Xc=require("vscode");var zFe=ye(cl()),UFe=ye(en());var uO=require("vscode");async function DPt(r,e){for(let t=0;t<uO.workspace.textDocuments.length;t++){let n=uO.workspace.textDocuments[t];x$(n,r)||await qFe(n,r,e)}}function Jb(r){return!(r.languageId!=="csharp"||r.uri.scheme==="virtualCSharp-"||!r.uri.scheme.startsWith("virtualCSharp-"))}function EPt(r,e){let t=uO.workspace.onDidOpenTextDocument(async o=>{x$(o,r)||await qFe(o,r,e)}),n=uO.workspace.onDidChangeTextDocument(async o=>{let s=o.document;x$(s,r)||await jFe(s,r,e)}),i=uO.workspace.onDidCloseTextDocument(async o=>{x$(o,r)||await RPt(o,r,e)});return new mo(t,i,n)}function x$(r,e){return!Jb(r)||!e.isRunning()}async function qFe(r,e,t){let n=r.uri.fsPath;n||(n=r.uri.path);let i={FileName:n,changeType:"Create"};try{await ox(e,[i]),await jFe(r,e,t)}catch(o){Yie(r.uri,o,e,t)}}async function jFe(r,e,t){let n=r.uri.fsPath;n||(n=r.uri.path);try{await ax(e,{Buffer:r.getText(),FileName:r.fileName})}catch(i){Yie(r.uri,i,e,t)}}async function RPt(r,e,t){let n=r.uri.fsPath;n||(n=r.uri.path);let i={FileName:n,changeType:"Delete"};try{await ox(e,[i])}catch(o){Yie(r.uri,o,e,t)}}function Yie(r,e,t,n){t.isRunning()&&n.post(new XH(r.path,e))}function Jie(r,e){return DPt(r,e).catch(n=>{throw new Error(`Failed to track current virtual documents: ${n}`)}),EPt(r,e)}var Xie="csharp.completion.afterInsert",IN=class extends Ji{#t;constructor(e,t){super(e,t)}async provideCompletionItems(e,t,n,i){let o=ql(e,t);o.CompletionTrigger=i.triggerKind+1,o.TriggerCharacter=i.triggerCharacter;try{let s=await vOe(this._server,o,n),a=s.Items.map(u=>this._convertToVscodeCompletionItem(u,e));Jb(e)&&(a=a.filter(u=>u.label.label!=="await"||!u.additionalTextEdits));let c=new Map;for(let u=0;u<a.length;u++)c.set(a[u],s.Items[u]);return this.#t=c,{items:a}}catch{return}}async resolveCompletionItem(e,t){let n=this.#t;if(!n)return e;let i=n.get(e);if(!i)return e;let o={Item:i};try{let s=await yOe(this._server,o,t);return this._convertToVscodeCompletionItem(s.Item,e.command?.arguments?.[1])}catch{return e}}async afterInsert(e,t){try{let n=t.uri,i=await _Oe(this._server,{Item:e});if(!i.Changes||!i.Column||!i.Line)return;let o=new Xc.WorkspaceEdit;if(o.set(n,i.Changes.map(u=>({newText:u.NewText,range:new Xc.Range(new Xc.Position(u.StartLine,u.StartColumn),new Xc.Position(u.EndLine,u.EndColumn))}))),o=await this._languageMiddlewareFeature.remap("remapWorkspaceEdit",o,zFe.CancellationToken.None),!await Xc.workspace.applyEdit(o))return;let a=Xc.window.visibleTextEditors.find(u=>u.document===t);if(a===void 0)return;let c=new Xc.Position(i.Line,i.Column);a.selections=[new Xc.Selection(c,c)]}catch{return}}_convertToVscodeCompletionItem(e,t){let n=e.Documentation?new Xc.MarkdownString(e.Documentation,!1):void 0,i=function(l){let d=new Xc.Position(l.StartLine,l.StartColumn),f=new Xc.Position(l.EndLine,l.EndColumn);return new Xc.Range(d,f)},o=function(l){return new Xc.TextEdit(i(l),l.NewText)},s=e.AdditionalTextEdits?.map(o),a=e.TextEdit?.NewText??e.InsertText,c=e.InsertTextFormat===UFe.InsertTextFormat.Snippet?new Xc.SnippetString(a):a,u=e.TextEdit?i(e.TextEdit):void 0;return{label:{label:e.Label,description:e.Detail},kind:e.Kind-1,documentation:n,commitCharacters:e.CommitCharacters,preselect:e.Preselect,filterText:e.FilterText,insertText:c,range:u,tags:e.Tags,sortText:e.SortText,additionalTextEdits:s,keepWhitespace:!0,command:e.HasAfterInsertStep?{command:Xie,title:"",arguments:[e,t]}:void 0}}};var kN=class extends Ji{constructor(t,n,i){super(t,n);this.generatedDocumentProvider=i}async provideReferences(t,n,i,o){let s=ql(t,n);s.OnlyThisFile=!1,s.ExcludeDefinition=!0;try{let a=await sx(this._server,s,o);if(a&&Array.isArray(a.QuickFixes)){let c=a.QuickFixes.map(l=>this.mapToLocationWithGeneratedInfoPopulation(l));return await this._languageMiddlewareFeature.remap("remapLocations",c,o)}}catch{}return[]}mapToLocationWithGeneratedInfoPopulation(t){if(t.GeneratedFileInfo){let n=this.generatedDocumentProvider.addSourceGeneratedFileWithoutInitialContent(t.GeneratedFileInfo,t.FileName);return Vie(n,t)}return nO(t)}};var AN=class extends Ji{async provideImplementation(e,t,n){let i=ql(e,t);try{let s=(await $xe(this._server,i,n))?.QuickFixes?.map(c=>nO(c))??[];return await this._languageMiddlewareFeature.remap("remapLocations",s,n)}catch{}}};var lO=ye(require("vscode")),Cc=ye(en());var LN=class extends Ji{constructor(e,t){super(e,t)}getLegend(){return new lO.SemanticTokensLegend(zn,_D)}async provideDocumentSemanticTokens(e,t){return this._provideSemanticTokens(e,void 0,t)}async provideDocumentRangeSemanticTokens(e,t,n){let i={Start:{Line:t.start.line,Column:t.start.character},End:{Line:t.end.line,Column:t.end.character}};return this._provideSemanticTokens(e,i,n)}async _provideSemanticTokens(e,t,n){if(e.uri.scheme!=="file"||!qr.useSemanticHighlighting)return null;let i=ql(e,new lO.Position(0,0));i.Range=t;let o=e.version,s=await mOe(this._server,i),a=e.version;if(o!==a)throw new Error("busy");let c=new lO.SemanticTokensBuilder;for(let u of s.Spans){let l=cn[u.Type];if(l===void 0)continue;let d=u.Modifiers.reduce((p,_)=>p+HFe[_],0);u.Type===26&&(d+=2**6);let f=_N(u);for(let p=f.start.line;p<=f.end.line;p++){let _=p===f.start.line?f.start.character:0,D=p===f.end.line?f.end.character:e.lineAt(p).text.length;c.push(p,_,D-_,l,d)}}return c.build()}},zn=[];zn[0]=Cc.SemanticTokenTypes.comment;zn[1]=Cc.SemanticTokenTypes.string;zn[2]=Cc.SemanticTokenTypes.keyword;zn[3]=Cc.SemanticTokenTypes.number;zn[4]=Cc.SemanticTokenTypes.regexp;zn[5]=Cc.SemanticTokenTypes.operator;zn[6]=Cc.SemanticTokenTypes.namespace;zn[7]=Cc.SemanticTokenTypes.type;zn[8]=Cc.SemanticTokenTypes.struct;zn[9]=Cc.SemanticTokenTypes.class;zn[10]=Cc.SemanticTokenTypes.interface;zn[11]=Cc.SemanticTokenTypes.enum;zn[12]=Cc.SemanticTokenTypes.typeParameter;zn[13]=Cc.SemanticTokenTypes.function;zn[14]=Cc.SemanticTokenTypes.method;zn[15]=Cc.SemanticTokenTypes.macro;zn[16]=Cc.SemanticTokenTypes.variable;zn[17]=Cc.SemanticTokenTypes.parameter;zn[18]=Cc.SemanticTokenTypes.property;zn[19]=Cc.SemanticTokenTypes.enumMember;zn[20]=Cc.SemanticTokenTypes.event;zn[21]="label";zn[22]="controlKeyword";zn[23]="operatorOverloaded";zn[24]=Cc.SemanticTokenTypes.macro;zn[25]="preprocessorText";zn[26]="excludedCode";zn[27]="punctuation";zn[28]="stringVerbatim";zn[29]="stringEscapeCharacter";zn[30]="delegate";zn[31]="module";zn[32]="extensionMethod";zn[33]="field";zn[34]=Cc.SemanticTokenTypes.variable;zn[35]="xmlDocCommentAttributeName";zn[36]="xmlDocCommentAttributeQuotes";zn[37]="xmlDocCommentAttributeValue";zn[38]="xmlDocCommentCDataSection";zn[39]="xmlDocCommentComment";zn[40]="xmlDocCommentDelimiter";zn[41]="xmlDocCommentEntityReference";zn[42]="xmlDocCommentName";zn[43]="xmlDocCommentProcessingInstruction";zn[44]="xmlDocCommentText";zn[45]="regexComment";zn[46]="regexCharacterClass";zn[47]="regexAnchor";zn[48]="regexQuantifier";zn[49]="regexGrouping";zn[50]="regexAlternation";zn[51]="regexText";zn[52]="regexSelfEscapedCharacter";var _D=[];_D[0]="declaration";_D[1]="static";_D[2]="abstract";_D[3]="deprecated";_D[4]="modification";_D[5]="async";_D[6]="readonly";var cn=[];cn[0]=0;cn[1]=26;cn[2]=16;cn[3]=2;cn[4]=22;cn[5]=3;cn[6]=5;cn[7]=23;cn[8]=24;cn[9]=1;cn[10]=void 0;cn[11]=void 0;cn[12]=void 0;cn[13]=25;cn[14]=27;cn[15]=28;cn[16]=29;cn[17]=9;cn[18]=30;cn[19]=11;cn[20]=10;cn[21]=31;cn[22]=8;cn[23]=12;cn[24]=33;cn[25]=19;cn[26]=16;cn[27]=34;cn[28]=17;cn[29]=14;cn[30]=32;cn[31]=18;cn[32]=20;cn[33]=6;cn[34]=21;cn[35]=35;cn[36]=36;cn[37]=37;cn[38]=38;cn[39]=39;cn[40]=40;cn[41]=41;cn[42]=42;cn[43]=43;cn[44]=44;cn[45]=void 0;cn[46]=void 0;cn[47]=void 0;cn[48]=void 0;cn[49]=void 0;cn[50]=void 0;cn[51]=void 0;cn[52]=void 0;cn[53]=void 0;cn[54]=void 0;cn[55]=void 0;cn[56]=45;cn[57]=46;cn[58]=47;cn[59]=48;cn[60]=49;cn[61]=50;cn[62]=4;cn[63]=51;cn[64]=52;var HFe=[];HFe[0]=2**1;var dO=ye(require("vscode"));var MN=class extends Ji{_onDidChangeInlayHints=new dO.EventEmitter;onDidChangeInlayHints=this._onDidChangeInlayHints.event;_hintsMap=new Map;constructor(e,t){super(e,t),this.addDisposables(new mo(this._onDidChangeInlayHints,dO.workspace.onDidChangeTextDocument(n=>{n.document.languageId==="csharp"&&this._onDidChangeInlayHints.fire()})))}async provideInlayHints(e,t,n){if(e.uri.scheme!=="file")return[];if(Jb(e))return[];let i={Location:{FileName:e.fileName,Range:xFe(t)}};try{return(await COe(this._server,i,n)).InlayHints.map(s=>{let a=this.toVSCodeHint(s);return this._hintsMap.set(a,s),a})}catch(o){return Promise.reject(new Error(`Problem invoking 'GetInlayHints' on OmniSharpServer: ${o}`))}}async resolveInlayHint(e,t){let n=this._hintsMap.get(e);if(n===void 0)return Promise.reject(new Error("Outdated inlay hint was requested to be resolved, aborting."));let i={Hint:n};try{let o=await TOe(this._server,i,t);return this.toVSCodeHint(o)}catch(o){return Promise.reject(new Error(`Problem invoking 'ResolveInlayHints' on OmniSharpServer: ${o}`))}}toVSCodeHint(e){return{label:e.Label,position:OFe(e.Position),tooltip:new dO.MarkdownString(e.Tooltip??""),textEdits:t(e.TextEdits)};function t(n){return n?.map(IFe)??void 0}}};var bD=ye(require("vscode"));function eoe(r){return new Zie(r)}var Zie=class{_server;_diagnostics;_disposable;constructor(e){this._server=e,this._diagnostics=bD.languages.createDiagnosticCollection("csharp"),setTimeout(async()=>{for(let t of bD.window.visibleTextEditors){let n=t.document;await this._onDocumentOpen(n)}},0),this._disposable=new mo(this._diagnostics,bD.workspace.onDidOpenTextDocument(this._onDocumentOpen,this),bD.workspace.onDidCloseTextDocument(this._onDocumentClose,this),bD.window.onDidChangeActiveTextEditor(this._onActiveTextEditorChange,this))}async _onDocumentOpen(e){Qie(e)||await bOe(this._server,{FileName:e.fileName})}async _onDocumentClose(e){Qie(e)||await wOe(this._server,{FileName:e.fileName})}async _onActiveTextEditorChange(e){e===void 0||Qie(e.document)||await ax(this._server,{FileName:e.document.fileName,Buffer:e.document.getText()})}dispose=()=>this._disposable.dispose()};function Qie(r){return r.languageId!=="csharp"||r.uri.scheme!=="file"&&!Jb(r)}var Xb=ye(require("vscode"));var NN=class extends Ji{_commandId;constructor(e,t){super(e,t),this._commandId="omnisharp.runCodeAction";let n=Xb.commands.registerCommand(this._commandId,this._runCodeAction,this);this.addDisposables(new mo(n))}async provideCodeActions(e,t,n,i){if(qr.disableCodeActions)return;let o=t.start.line,s=t.start.character,a={FileName:e.fileName,Line:o,Column:s};t instanceof Xb.Selection&&!t.isEmpty&&(a.Selection={Start:{Line:t.start.line,Column:t.start.character},End:{Line:t.end.line,Column:t.end.character}});try{return(await Xxe(this._server,a,i)).CodeActions.map(u=>{let l={...a,Identifier:u.Identifier,WantsTextChanges:!0,WantsAllCodeActionOperations:!0,ApplyTextChanges:!1};return{title:u.Name,kind:this.mapOmniSharpCodeActionKindToVSCodeCodeActionKind(u.CodeActionKind),command:{title:u.Name,command:this._commandId,arguments:[l,i]}}})}catch(c){return Promise.reject(new Error(`Problem invoking 'GetCodeActions' on OmniSharp server: ${c}`))}}mapOmniSharpCodeActionKindToVSCodeCodeActionKind(e){switch(e){case"QuickFix":return Xb.CodeActionKind.QuickFix;case"Refactor":return Xb.CodeActionKind.Refactor;case"RefactorExtract":return Xb.CodeActionKind.RefactorExtract;case"RefactorInline":return Xb.CodeActionKind.RefactorInline;default:return Xb.CodeActionKind.Empty}}async _runCodeAction(e,t){try{let n=await iOe(this._server,e);if(n)return P$(n.Changes,this._languageMiddlewareFeature,t)}catch(n){return Promise.reject(new Error(`Problem invoking 'RunCodeAction' on OmniSharp server: ${n}`))}}};var O$=require("vscode");function PPt(r){return O$.workspace.onDidChangeTextDocument(e=>{let{document:t,contentChanges:n}=e;t.isUntitled||t.languageId!=="csharp"||t.uri.scheme!=="file"||n.length===0||r.isRunning()&&ax(r,{Buffer:t.getText(),FileName:t.fileName}).catch(i=>(console.error(i),i))})}function xPt(r){function e(u){return function(l){if(!r.isRunning())return;let d={FileName:l.fsPath,changeType:u};ox(r,[d]).catch(f=>(console.warn(`[o] failed to forward file change event for ${l.fsPath}`,f),f))}}function t(u){return async function(l){if(r.isRunning()&&u==="Delete"){let d=[{FileName:l.fsPath,changeType:"DirectoryDelete"}];ox(r,d).catch(f=>(console.warn(`[o] failed to forward file change event for ${l.fsPath}`,f),f))}}}let n=O$.workspace.createFileSystemWatcher("**/*.*"),i=n.onDidCreate(e("Create")),o=n.onDidDelete(e("Delete")),s=n.onDidChange(e("Change")),a=O$.workspace.createFileSystemWatcher("**/"),c=a.onDidDelete(t("Delete"));return new mo(n,i,o,s,a,c)}function toe(r){return new mo(PPt(r),xPt(r))}var I$=require("vscode");var FN=class extends Ji{constructor(t,n,i,o){super(t,o);this.definitionMetadataDocumentProvider=n;this.sourceGeneratedDocumentProvider=i}async provideDefinition(t,n,i){let o=ql(t,n);o.WantMetadata=!0;try{let s=await Qxe(this._server,o,i);return await this.GetLocationsFromResponse(s,i)}catch{return[]}}async provideTypeDefinition(t,n,i){let o=ql(t,n);o.WantMetadata=!0;try{let s=await Zxe(this._server,o,i);return await this.GetLocationsFromResponse(s,i)}catch{return[]}}async GetLocationsFromResponse(t,n){let i=[];if(t&&t.Definitions)for(let o of t.Definitions)if(o.MetadataSource){let s=o.MetadataSource;if(o.Location.FileName.startsWith("$metadata$")&&this.definitionMetadataDocumentProvider.hasMetadataDocument(o.Location.FileName)){let l=this.definitionMetadataDocumentProvider.getExistingMetadataResponseUri(o.Location.FileName),d=yD(o.Location.Range);i.push(new I$.Location(l,d));continue}let a=await sOe(this._server,{Timeout:5e3,AssemblyName:s.AssemblyName,VersionNumber:s.VersionNumber,ProjectName:s.ProjectName,Language:s.Language,TypeName:s.TypeName});if(!a||!a.Source||!a.SourceName)continue;let c=this.definitionMetadataDocumentProvider.addMetadataResponse(a),u=yD(o.Location.Range);i.push(new I$.Location(c,u))}else if(o.SourceGeneratedFileInfo){let s=this.sourceGeneratedDocumentProvider.addSourceGeneratedFileWithoutInitialContent(o.SourceGeneratedFileInfo,o.Location.FileName);i.push(new I$.Location(s,yD(o.Location.Range)))}else i.push(PFe(o.Location));return await this._languageMiddlewareFeature.remap("remapLocations",i,n)}};var ws=ye(require("vscode"));var roe=ye(CT()),noe=ye(RL());var k$=class{_disposable;_server;_packageRestoreCounter=0;_projectSourceFileCounts=Object.create(null);constructor(e){this._server=e;let t=e.onProjectChange(this._onProjectChange,this),n=e.onProjectAdded(this._onProjectAdded,this),i=e.onProjectRemoved(this._onProjectRemoved,this),o=e.onBeforePackageRestore(this._onBeforePackageRestore,this),s=e.onPackageRestore(this._onPackageRestore,this);this._disposable=new mo(t,n,i,o,s)}dispose(){this._disposable.dispose()}shouldValidateFiles(){return this._isServerStarted()&&!this._isRestoringPackages()}shouldValidateAll(){return this._isServerStarted()&&!this._isRestoringPackages()&&!this._isOverFileLimit()}_updateProjectFileCount(e,t){this._projectSourceFileCounts[e]=t}_addOrUpdateProjectFileCount(e){e.MsBuildProject&&e.MsBuildProject.SourceFiles&&this._updateProjectFileCount(e.MsBuildProject.Path,e.MsBuildProject.SourceFiles.length)}_removeProjectFileCount(e){e.MsBuildProject&&e.MsBuildProject.SourceFiles&&delete this._projectSourceFileCounts[e.MsBuildProject.Path]}_onProjectAdded(e){this._addOrUpdateProjectFileCount(e)}_onProjectRemoved(e){this._removeProjectFileCount(e)}_onProjectChange(e){this._addOrUpdateProjectFileCount(e)}_onBeforePackageRestore(){this._packageRestoreCounter+=1}_onPackageRestore(){this._packageRestoreCounter-=1}_isRestoringPackages(){return this._packageRestoreCounter>0}_isServerStarted(){return this._server.isRunning()}_isOverFileLimit(){let e=qr.maxProjectFileCountForDiagnosticAnalysis;if(e>0){let t=0;for(let n in this._projectSourceFileCounts)if(t+=this._projectSourceFileCounts[n],t>e)return!0}return!1}};function ooe(r,e,t){return new ioe(r,e,t)}var ioe=class extends Ji{_validationAdvisor;_disposable;_diagnostics;_validateCurrentDocumentPipe=new roe.Subject;_validateAllPipe=new roe.Subject;_analyzersEnabled;_subscriptions=[];_suppressHiddenDiagnostics;constructor(e,t,n){super(e,n);let i=ws.workspace.getConfiguration("omnisharp").get("enableRoslynAnalyzers",!1),o=ws.workspace.getConfiguration("dotnet").get("server.useOmnisharp",!1),s=ws.workspace.getConfiguration("dotnet").get("backgroundAnalysis.analyzerDiagnosticsScope",o?"none":"openFiles")!="none";this._analyzersEnabled=i||s,this._validationAdvisor=t,this._diagnostics=ws.languages.createDiagnosticCollection("csharp"),this._suppressHiddenDiagnostics=ws.workspace.getConfiguration("csharp").get("suppressHiddenDiagnostics",!0),qr.enableLspDriver||this._subscriptions.push(this._validateCurrentDocumentPipe.pipe((0,noe.debounceTime)(750)).subscribe(async a=>await this._validateDocument(a))),this._subscriptions.push(this._validateAllPipe.pipe((0,noe.debounceTime)(3e3)).subscribe(async()=>{this._validationAdvisor.shouldValidateAll()?await this._validateEntireWorkspace():this._validationAdvisor.shouldValidateFiles()&&await this._validateOpenDocuments()})),this._disposable=new mo(this._diagnostics,this._server.onPackageRestore(()=>this._validateAllPipe.next("onPackageRestore"),this),this._server.onProjectChange(()=>this._validateAllPipe.next("onProjectChanged"),this),this._server.onBackgroundDiagnosticStatus(this._onBackgroundAnalysis,this),ws.workspace.onDidOpenTextDocument(a=>this._onDocumentOpenOrChange(a),this),ws.workspace.onDidChangeTextDocument(a=>this._onDocumentOpenOrChange(a.document),this),ws.workspace.onDidCloseTextDocument(this._onDocumentClose,this),ws.window.onDidChangeActiveTextEditor(a=>this._onDidChangeActiveTextEditor(a),this),ws.window.onDidChangeWindowState(a=>this._OnDidChangeWindowState(a),this))}dispose=()=>{this._validateAllPipe.complete(),this._validateCurrentDocumentPipe.complete(),this._subscriptions.forEach(e=>e.unsubscribe()),this._disposable.dispose()};shouldIgnoreDocument(e){return e.languageId!=="csharp"||e.uri.scheme!=="file"&&!Jb(e)}_OnDidChangeWindowState(e){e.focused===!0&&this._onDidChangeActiveTextEditor(ws.window.activeTextEditor)}_onDidChangeActiveTextEditor(e){e!==void 0&&this._onDocumentOpenOrChange(e.document)}_onDocumentOpenOrChange(e){this.shouldIgnoreDocument(e)||(this._validateCurrentDocumentPipe.next(e),this._analyzersEnabled||this._validateAllPipe.next("onDocumentOpenOrChange"))}_onBackgroundAnalysis(e){e.Status==2&&e.NumberFilesRemaining===0&&this._validateAllPipe.next()}_onDocumentClose(e){this._diagnostics.has(e.uri)&&!this._validationAdvisor.shouldValidateAll()&&this._diagnostics.delete(e.uri)}async _validateDocument(e){if(!this._validationAdvisor.shouldValidateFiles()||Jb(e))return;let t=new ws.CancellationTokenSource;try{let i=(await _Q(this._server,{FileName:e.fileName},t.token)).QuickFixes;if(i.length===0){this._diagnostics.has(e.uri)&&this._diagnostics.delete(e.uri);return}if(!this._validationAdvisor.shouldValidateAll()&&ws.workspace.textDocuments.every(s=>s.uri!==e.uri))return;let o=this._mapQuickFixesAsDiagnosticsInFile(i);this._diagnostics.set(e.uri,o.map(s=>s.diagnostic))}catch{return}}async _validateOpenDocuments(){for(let e of ws.window.visibleTextEditors){let t=e.document;this.shouldIgnoreDocument(t)||await this._validateDocument(t)}}_mapQuickFixesAsDiagnosticsInFile(e){return e.map(t=>this._asDiagnosticInFileIfAny(t)).filter(t=>t!==void 0)}async _validateEntireWorkspace(){let t=(await _Q(this._server,{},new ws.CancellationTokenSource().token)).QuickFixes.sort((o,s)=>o.FileName.localeCompare(s.FileName)),n=[],i;for(let o of this._mapQuickFixesAsDiagnosticsInFile(t)){let s=ws.Uri.file(o.fileName);i!==void 0&&i[0].toString()===s.toString()?i[1].push(o.diagnostic):(n.push([s,void 0]),i=[s,[o.diagnostic]],n.push(i))}this._diagnostics.forEach(o=>{n.find(s=>s[0].toString()===o.toString())===void 0&&this._diagnostics.delete(o)}),this._diagnostics.set(n)}_asDiagnosticInFileIfAny(e){let t=this._getDiagnosticDisplay(e,this._asDiagnosticSeverity(e));if(t.severity==="hidden")return;let n=`${e.Text} [${e.Projects.map(o=>this._asProjectLabel(o)).join(", ")}]`,i=new ws.Diagnostic(iO(e),n,t.severity);return i.source="csharp",i.code=e.Id,t.isFadeout&&(i.tags=[ws.DiagnosticTag.Unnecessary]),{diagnostic:i,fileName:e.FileName}}_getDiagnosticDisplay(e,t){let n=e.Tags?.find(i=>i.toLowerCase()==="unnecessary")!==void 0||e.Id=="CS0162"||e.Id=="CS0219"||e.Id=="CS8019";return n&&["hidden","none"].includes(e.LogLevel.toLowerCase())?{severity:ws.DiagnosticSeverity.Hint,isFadeout:n}:{severity:t,isFadeout:n}}_asDiagnosticSeverity(e){switch(e.LogLevel.toLowerCase()){case"error":return ws.DiagnosticSeverity.Error;case"warning":return ws.DiagnosticSeverity.Warning;case"info":return ws.DiagnosticSeverity.Information;case"hidden":return this._suppressHiddenDiagnostics?"hidden":ws.DiagnosticSeverity.Hint;default:return"hidden"}}_asProjectLabel(e){let t=e.indexOf("+");return e.substr(t+1)}};var fO=require("vscode");var A$=class extends Ji{async provideFoldingRanges(e,t,n){let i={FileName:e.fileName};try{let o=await Bxe(this._server,i,n),s=[];for(let a of o.Spans)s.push(new fO.FoldingRange(a.Range.Start.Line,a.Range.End.Line,this.GetType(a.Kind)));return s}catch{return[]}}GetType(e){switch(e){case"Comment":return fO.FoldingRangeKind.Comment;case"Imports":return fO.FoldingRangeKind.Imports;case"Region":return fO.FoldingRangeKind.Region;default:return}}};var L$=class r{constructor(e,t,n,i,o,s){this.eventStream=t;this.platformInfo=n;this.monoResolver=i;this.dotnetResolver=o;this._eventBus=e,this._disposables=s,this._requestQueue=new w$(this.eventStream,8,a=>this._makeRequest(a))}static _nextId=1;_readLine;_disposables;_serverProcess;_eventBus;_requestQueue;async registerProviders(e,t,n,i,o){let s={language:"csharp"},a=new mo,c=new vN;c.register(),a.add(c);let u=new yN(e);u.register(),a.add(u),a.add(Ya.languages.registerCodeLensProvider(s,new CN(e,o,t))),a.add(Ya.languages.registerDocumentHighlightProvider(s,new TN(e,t))),a.add(Ya.languages.registerDocumentSymbolProvider(s,new DN(e,t))),a.add(Ya.languages.registerHoverProvider(s,new EN(e,t))),a.add(Ya.languages.registerRenameProvider(s,new RN(e,t))),qr.useFormatting&&(a.add(Ya.languages.registerDocumentRangeFormattingEditProvider(s,new aO(e,t))),a.add(Ya.languages.registerOnTypeFormattingEditProvider(s,new aO(e,t),"}","/",`
`,";")));let l=new IN(e,t);a.add(Ya.languages.registerCompletionItemProvider(s,l,"."," ")),a.add(Ya.commands.registerCommand(Xie,async(P,M)=>l.afterInsert(P,M))),a.add(Ya.languages.registerWorkspaceSymbolProvider(new PN(e,t,u))),a.add(Ya.languages.registerSignatureHelpProvider(s,new xN(e,t),"(",","));let d=new ON(e,t);a.add(d),a.add(Ya.languages.registerCodeActionsProvider(s,d,ON.metadata)),a.add(ooe(e,i,t));let f=new FN(e,c,u,t);a.add(Ya.languages.registerTypeDefinitionProvider(s,f)),a.add(Ya.languages.registerTypeDefinitionProvider({scheme:c.scheme},f)),a.add(Ya.languages.registerDefinitionProvider(s,f)),a.add(Ya.languages.registerDefinitionProvider({scheme:c.scheme},f)),a.add(Ya.languages.registerReferenceProvider(s,new kN(e,t,u))),a.add(Ya.languages.registerImplementationProvider(s,new AN(e,t))),a.add(toe(e));let p=new NN(e,t);a.add(p),a.add(Ya.languages.registerCodeActionsProvider(s,p)),a.add(Jie(e,n)),a.add(Ya.languages.registerFoldingRangeProvider(s,new A$(e,t))),a.add(eoe(e));let _=new LN(e,t);a.add(Ya.languages.registerDocumentSemanticTokensProvider(s,_,_.getLegend())),a.add(Ya.languages.registerDocumentRangeSemanticTokensProvider(s,_,_.getLegend()));let D=new MN(e,t);return a.add(Ya.languages.registerInlayHintsProvider(s,D)),a}async stop(){let e;this._serverProcess===void 0?e=Promise.resolve():process.platform==="win32"?e=new Promise((n,i)=>{let o=(0,BFe.exec)(`taskkill /F /T /PID ${this._serverProcess.pid}`,(s,a,c)=>{if(s)return i(s)});o.on("exit",n),o.on("error",i)}):e=uge(this._serverProcess.pid).then(n=>{for(let i of n)process.kill(i,"SIGTERM");this._serverProcess.kill("SIGTERM")});let t=this._disposables;return this._disposables=void 0,e.then(()=>{this._serverProcess=void 0,this._eventBus.emit(Zo.ServerStop,this),t&&t.dispose()})}async waitForInitialize(){for(;!this._requestQueue.isEmpty();)await new Promise(t=>(0,soe.setTimeout)(t,100))}addListener(e,t){return this._eventBus.addListener(e,t),new yd(()=>this._eventBus.removeListener(e,t))}async start(e,t,n,i){let o=await WIe(e,t.concat("--encoding","utf-8"),i,this.platformInfo,this.monoResolver,this.dotnetResolver);if(this.eventStream.post(new lx(o.hostVersion??"",o.hostPath??"",o.hostIsMono,o.command,o.process.pid)),this._serverProcess=o.process,this._serverProcess===void 0)throw new Error("Server launch failed.");this._serverProcess.stderr.on("data",c=>{let u=DFe(c);u.length>0&&this._fireEvent(Zo.StdErr,u.toString())}),this._readLine=(0,WFe.createInterface)({input:this._serverProcess.stdout,output:this._serverProcess.stdin,terminal:!1});let s=new Promise((c,u)=>{let l,d=qr.projectLoadTimeout*1e3,f=(0,soe.setTimeout)(()=>{l&&l.dispose(),u(new Error("OmniSharp server load timed out. Use the 'omnisharp.projectLoadTimeout' setting to override the default delay (one minute)."))},d);l=this.addListener(Zo.Started,p=>{l&&l.dispose(),clearTimeout(f),c()})}),a=this._onLineReceived.bind(this);this._readLine.addListener("line",a),this._disposables?.add(new yd(()=>{this._readLine?.removeListener("line",a)})),await s,this._requestQueue.drain()}_onLineReceived(e){if(e=EFe(e),e[0]!=="{"){this.eventStream.post(new TS(e));return}let t;try{t=JSON.parse(e)}catch{return}if(t.Type)switch(t.Type){case"response":this._handleResponsePacket(t);break;case"event":this._handleEventPacket(t);break;default:this.eventStream.post(new TS(`Unknown packet type: ${t.Type}`));break}}_handleResponsePacket(e){let t=this._requestQueue.dequeue(e.Command,e.Request_seq);if(!t){this.eventStream.post(new TS(`Received response for ${e.Command} but could not find request.`));return}this.eventStream.post(new nB(`handleResponse: ${e.Command} (${e.Request_seq})`)),e.Success?t.onSuccess(e.Body):t.onError(e.Message||e.Body),this._requestQueue.drain()}_handleEventPacket(e){if(e.Event==="log"){let t=e.Body;this.eventStream.post(new dx(t.LogLevel,t.Name,t.Message))}else this._fireEvent(e.Event,e.Body)}_fireEvent(e,t){this._eventBus.emit(e,t)}_makeRequest(e){let t=r._nextId++,n={Type:"request",Seq:t,Command:e.command,Arguments:e.data};return this.eventStream.post(new AH(e,t)),this._serverProcess?.stdin.write(JSON.stringify(n)+`
`),t}dispose(){this._disposables?.dispose()}async makeRequest(e,t,n){let i,o=new Promise((s,a)=>{i={command:e,data:t,onSuccess:c=>s(c),onError:c=>a(c)},this._requestQueue.enqueue(i)});return n&&n.onCancellationRequested(()=>{this._requestQueue.cancelRequest(i)}),o}};var eqe=ye(require("child_process")),tqe=ye(require("fs")),B$=ye(require("path"));var xm=ye(require("vscode"));var Wu=ye(mT());function jN(r,e){e===void 0&&(e=!1);var t=r.length,n=0,i="",o=0,s=16,a=0,c=0,u=0,l=0,d=0;function f(U,ne){for(var pe=0,ve=0;pe<U||!ne;){var V=r.charCodeAt(n);if(V>=48&&V<=57)ve=ve*16+V-48;else if(V>=65&&V<=70)ve=ve*16+V-65+10;else if(V>=97&&V<=102)ve=ve*16+V-97+10;else break;n++,pe++}return pe<U&&(ve=-1),ve}function p(U){n=U,i="",o=0,s=16,d=0}function _(){var U=n;if(r.charCodeAt(n)===48)n++;else for(n++;n<r.length&&hO(r.charCodeAt(n));)n++;if(n<r.length&&r.charCodeAt(n)===46)if(n++,n<r.length&&hO(r.charCodeAt(n)))for(n++;n<r.length&&hO(r.charCodeAt(n));)n++;else return d=3,r.substring(U,n);var ne=n;if(n<r.length&&(r.charCodeAt(n)===69||r.charCodeAt(n)===101))if(n++,(n<r.length&&r.charCodeAt(n)===43||r.charCodeAt(n)===45)&&n++,n<r.length&&hO(r.charCodeAt(n))){for(n++;n<r.length&&hO(r.charCodeAt(n));)n++;ne=n}else d=3;return r.substring(U,ne)}function D(){for(var U="",ne=n;;){if(n>=t){U+=r.substring(ne,n),d=2;break}var pe=r.charCodeAt(n);if(pe===34){U+=r.substring(ne,n),n++;break}if(pe===92){if(U+=r.substring(ne,n),n++,n>=t){d=2;break}var ve=r.charCodeAt(n++);switch(ve){case 34:U+='"';break;case 92:U+="\\";break;case 47:U+="/";break;case 98:U+="\b";break;case 102:U+="\f";break;case 110:U+=`
`;break;case 114:U+="\r";break;case 116:U+="	";break;case 117:var V=f(4,!0);V>=0?U+=String.fromCharCode(V):d=4;break;default:d=5}ne=n;continue}if(pe>=0&&pe<=31)if(qN(pe)){U+=r.substring(ne,n),d=2;break}else d=6;n++}return U}function P(){if(i="",d=0,o=n,c=a,l=u,n>=t)return o=t,s=17;var U=r.charCodeAt(n);if(aoe(U)){do n++,i+=String.fromCharCode(U),U=r.charCodeAt(n);while(aoe(U));return s=15}if(qN(U))return n++,i+=String.fromCharCode(U),U===13&&r.charCodeAt(n)===10&&(n++,i+=`
`),a++,u=n,s=14;switch(U){case 123:return n++,s=1;case 125:return n++,s=2;case 91:return n++,s=3;case 93:return n++,s=4;case 58:return n++,s=6;case 44:return n++,s=5;case 34:return n++,i=D(),s=10;case 47:var ne=n-1;if(r.charCodeAt(n+1)===47){for(n+=2;n<t&&!qN(r.charCodeAt(n));)n++;return i=r.substring(ne,n),s=12}if(r.charCodeAt(n+1)===42){n+=2;for(var pe=t-1,ve=!1;n<pe;){var V=r.charCodeAt(n);if(V===42&&r.charCodeAt(n+1)===47){n+=2,ve=!0;break}n++,qN(V)&&(V===13&&r.charCodeAt(n)===10&&n++,a++,u=n)}return ve||(n++,d=1),i=r.substring(ne,n),s=13}return i+=String.fromCharCode(U),n++,s=16;case 45:if(i+=String.fromCharCode(U),n++,n===t||!hO(r.charCodeAt(n)))return s=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i+=_(),s=11;default:for(;n<t&&M(U);)n++,U=r.charCodeAt(n);if(o!==n){switch(i=r.substring(o,n),i){case"true":return s=8;case"false":return s=9;case"null":return s=7}return s=16}return i+=String.fromCharCode(U),n++,s=16}}function M(U){if(aoe(U)||qN(U))return!1;switch(U){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function A(){var U;do U=P();while(U>=12&&U<=15);return U}return{setPosition:p,getPosition:function(){return n},scan:e?A:P,getToken:function(){return s},getTokenValue:function(){return i},getTokenOffset:function(){return o},getTokenLength:function(){return n-o},getTokenStartLine:function(){return c},getTokenStartCharacter:function(){return o-l},getTokenError:function(){return d}}}function aoe(r){return r===32||r===9||r===11||r===12||r===160||r===5760||r>=8192&&r<=8203||r===8239||r===8287||r===12288||r===65279}function qN(r){return r===10||r===13||r===8232||r===8233}function hO(r){return r>=48&&r<=57}function M$(r,e,t){var n,i,o,s,a;if(e){for(s=e.offset,a=s+e.length,o=s;o>0&&!zN(r,o-1);)o--;for(var c=a;c<r.length&&!zN(r,c);)c++;i=r.substring(o,c),n=IPt(i,t)}else i=r,n=0,o=0,s=0,a=r.length;var u=kPt(t,r),l=!1,d=0,f;t.insertSpaces?f=coe(" ",t.tabSize||4):f="	";var p=jN(i,!1),_=!1;function D(){return u+coe(f,n+d)}function P(){var ue=p.scan();for(l=!1;ue===15||ue===14;)l=l||ue===14,ue=p.scan();return _=ue===16||p.getTokenError()!==0,ue}var M=[];function A(ue,Fe,Me){!_&&(!e||Fe<a&&Me>s)&&r.substring(Fe,Me)!==ue&&M.push({offset:Fe,length:Me-Fe,content:ue})}var U=P();if(U!==17){var ne=p.getTokenOffset()+o,pe=coe(f,n);A(pe,o,ne)}for(;U!==17;){for(var ve=p.getTokenOffset()+p.getTokenLength()+o,V=P(),W="",ee=!1;!l&&(V===12||V===13);){var De=p.getTokenOffset()+o;A(" ",ve,De),ve=p.getTokenOffset()+p.getTokenLength()+o,ee=V===12,W=ee?D():"",V=P()}if(V===2)U!==1&&(d--,W=D());else if(V===4)U!==3&&(d--,W=D());else{switch(U){case 3:case 1:d++,W=D();break;case 5:case 12:W=D();break;case 13:l?W=D():ee||(W=" ");break;case 6:ee||(W=" ");break;case 10:if(V===6){ee||(W="");break}case 7:case 8:case 9:case 11:case 2:case 4:V===12||V===13?ee||(W=" "):V!==5&&V!==17&&(_=!0);break;case 16:_=!0;break}l&&(V===12||V===13)&&(W=D())}V===17&&(W=t.insertFinalNewline?u:"");var ae=p.getTokenOffset()+o;A(W,ve,ae),U=V}return M}function coe(r,e){for(var t="",n=0;n<e;n++)t+=r;return t}function IPt(r,e){for(var t=0,n=0,i=e.tabSize||4;t<r.length;){var o=r.charAt(t);if(o===" ")n++;else if(o==="	")n+=i;else break;t++}return Math.floor(n/i)}function kPt(r,e){for(var t=0;t<e.length;t++){var n=e.charAt(t);if(n==="\r")return t+1<e.length&&e.charAt(t+1)===`
`?`\r
`:"\r";if(n===`
`)return`
`}return r&&r.eol||`
`}function zN(r,e){return`\r
`.indexOf(r.charAt(e))!==-1}var UN;(function(r){r.DEFAULT={allowTrailingComma:!1}})(UN||(UN={}));function $Fe(r,e,t){e===void 0&&(e=[]),t===void 0&&(t=UN.DEFAULT);var n=null,i=[],o=[];function s(c){Array.isArray(i)?i.push(c):n!==null&&(i[n]=c)}var a={onObjectBegin:function(){var c={};s(c),o.push(i),i=c,n=null},onObjectProperty:function(c){n=c},onObjectEnd:function(){i=o.pop()},onArrayBegin:function(){var c=[];s(c),o.push(i),i=c,n=null},onArrayEnd:function(){i=o.pop()},onLiteralValue:s,onError:function(c,u,l){e.push({error:c,offset:u,length:l})}};return loe(r,a,t),i[0]}function uoe(r,e,t){e===void 0&&(e=[]),t===void 0&&(t=UN.DEFAULT);var n={type:"array",offset:-1,length:-1,children:[],parent:void 0};function i(c){n.type==="property"&&(n.length=c-n.offset,n=n.parent)}function o(c){return n.children.push(c),c}var s={onObjectBegin:function(c){n=o({type:"object",offset:c,length:-1,parent:n,children:[]})},onObjectProperty:function(c,u,l){n=o({type:"property",offset:u,length:-1,parent:n,children:[]}),n.children.push({type:"string",value:c,offset:u,length:l,parent:n})},onObjectEnd:function(c,u){i(c+u),n.length=c+u-n.offset,n=n.parent,i(c+u)},onArrayBegin:function(c,u){n=o({type:"array",offset:c,length:-1,parent:n,children:[]})},onArrayEnd:function(c,u){n.length=c+u-n.offset,n=n.parent,i(c+u)},onLiteralValue:function(c,u,l){o({type:LPt(c),offset:u,length:l,parent:n,value:c}),i(u+l)},onSeparator:function(c,u,l){n.type==="property"&&(c===":"?n.colonOffset=u:c===","&&i(u))},onError:function(c,u,l){e.push({error:c,offset:u,length:l})}};loe(r,s,t);var a=n.children[0];return a&&delete a.parent,a}function N$(r,e){if(r){for(var t=r,n=0,i=e;n<i.length;n++){var o=i[n];if(typeof o=="string"){if(t.type!=="object"||!Array.isArray(t.children))return;for(var s=!1,a=0,c=t.children;a<c.length;a++){var u=c[a];if(Array.isArray(u.children)&&u.children[0].value===o){t=u.children[1],s=!0;break}}if(!s)return}else{var l=o;if(t.type!=="array"||l<0||!Array.isArray(t.children)||l>=t.children.length)return;t=t.children[l]}}return t}}function loe(r,e,t){t===void 0&&(t=UN.DEFAULT);var n=jN(r,!1);function i(ee){return ee?function(){return ee(n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter())}:function(){return!0}}function o(ee){return ee?function(De){return ee(De,n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter())}:function(){return!0}}var s=i(e.onObjectBegin),a=o(e.onObjectProperty),c=i(e.onObjectEnd),u=i(e.onArrayBegin),l=i(e.onArrayEnd),d=o(e.onLiteralValue),f=o(e.onSeparator),p=i(e.onComment),_=o(e.onError),D=t&&t.disallowComments,P=t&&t.allowTrailingComma;function M(){for(;;){var ee=n.scan();switch(n.getTokenError()){case 4:A(14);break;case 5:A(15);break;case 3:A(13);break;case 1:D||A(11);break;case 2:A(12);break;case 6:A(16);break}switch(ee){case 12:case 13:D?A(10):p();break;case 16:A(1);break;case 15:case 14:break;default:return ee}}}function A(ee,De,ae){if(De===void 0&&(De=[]),ae===void 0&&(ae=[]),_(ee),De.length+ae.length>0)for(var ue=n.getToken();ue!==17;){if(De.indexOf(ue)!==-1){M();break}else if(ae.indexOf(ue)!==-1)break;ue=M()}}function U(ee){var De=n.getTokenValue();return ee?d(De):a(De),M(),!0}function ne(){switch(n.getToken()){case 11:var ee=n.getTokenValue(),De=Number(ee);isNaN(De)&&(A(2),De=0),d(De);break;case 7:d(null);break;case 8:d(!0);break;case 9:d(!1);break;default:return!1}return M(),!0}function pe(){return n.getToken()!==10?(A(3,[],[2,5]),!1):(U(!1),n.getToken()===6?(f(":"),M(),W()||A(4,[],[2,5])):A(5,[],[2,5]),!0)}function ve(){s(),M();for(var ee=!1;n.getToken()!==2&&n.getToken()!==17;){if(n.getToken()===5){if(ee||A(4,[],[]),f(","),M(),n.getToken()===2&&P)break}else ee&&A(6,[],[]);pe()||A(4,[],[2,5]),ee=!0}return c(),n.getToken()!==2?A(7,[2],[]):M(),!0}function V(){u(),M();for(var ee=!1;n.getToken()!==4&&n.getToken()!==17;){if(n.getToken()===5){if(ee||A(4,[],[]),f(","),M(),n.getToken()===4&&P)break}else ee&&A(6,[],[]);W()||A(4,[],[4,5]),ee=!0}return l(),n.getToken()!==4?A(8,[4],[]):M(),!0}function W(){switch(n.getToken()){case 3:return V();case 1:return ve();case 10:return U(!0);default:return ne()}}return M(),n.getToken()===17?t.allowEmptyContent?!0:(A(4,[],[]),!1):W()?(n.getToken()!==17&&A(9,[],[]),!0):(A(4,[],[]),!1)}function LPt(r){switch(typeof r){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":{if(r){if(Array.isArray(r))return"array"}else return"null";return"object"}default:return"null"}}function VFe(r,e,t,n){for(var i,o=e.slice(),s=[],a=uoe(r,s),c=void 0,u=void 0;o.length>0&&(u=o.pop(),c=N$(a,o),c===void 0&&t!==void 0);)typeof u=="string"?t=(i={},i[u]=t,i):t=[t];if(c)if(c.type==="object"&&typeof u=="string"&&Array.isArray(c.children)){var l=N$(c,[u]);if(l!==void 0)if(t===void 0){if(!l.parent)throw new Error("Malformed AST");var d=c.children.indexOf(l.parent),f=void 0,p=l.parent.offset+l.parent.length;if(d>0){var _=c.children[d-1];f=_.offset+_.length}else if(f=c.offset+1,c.children.length>1){var D=c.children[1];p=D.offset}return RE(r,{offset:f,length:p-f,content:""},n)}else return RE(r,{offset:l.offset,length:l.length,content:JSON.stringify(t)},n);else{if(t===void 0)return[];var P=JSON.stringify(u)+": "+JSON.stringify(t),M=n.getInsertionIndex?n.getInsertionIndex(c.children.map(function(ee){return ee.children[0].value})):c.children.length,A=void 0;if(M>0){var _=c.children[M-1];A={offset:_.offset+_.length,length:0,content:","+P}}else c.children.length===0?A={offset:c.offset+1,length:0,content:P}:A={offset:c.offset+1,length:0,content:P+","};return RE(r,A,n)}}else if(c.type==="array"&&typeof u=="number"&&Array.isArray(c.children)){var U=u;if(U===-1){var P=""+JSON.stringify(t),A=void 0;if(c.children.length===0)A={offset:c.offset+1,length:0,content:P};else{var _=c.children[c.children.length-1];A={offset:_.offset+_.length,length:0,content:","+P}}return RE(r,A,n)}else if(t===void 0&&c.children.length>=0){var ne=u,pe=c.children[ne],A=void 0;if(c.children.length===1)A={offset:c.offset+1,length:c.length-2,content:""};else if(c.children.length-1===ne){var _=c.children[ne-1],ve=_.offset+_.length,V=c.offset+c.length;A={offset:ve,length:V-2-ve,content:""}}else A={offset:pe.offset,length:c.children[ne+1].offset-pe.offset,content:""};return RE(r,A,n)}else if(t!==void 0){var A=void 0,P=""+JSON.stringify(t);if(!n.isArrayInsertion&&c.children.length>u){var W=c.children[u];A={offset:W.offset,length:W.length,content:P}}else if(c.children.length===0||u===0)A={offset:c.offset+1,length:0,content:c.children.length===0?P:P+","};else{var M=u>c.children.length?c.children.length:u,_=c.children[M-1];A={offset:_.offset+_.length,length:0,content:","+P}}return RE(r,A,n)}else throw new Error("Can not "+(t===void 0?"remove":n.isArrayInsertion?"insert":"modify")+" Array index "+U+" as length is not sufficient")}else throw new Error("Can not add "+(typeof u!="number"?"index":"property")+" to parent of type "+c.type);else{if(t===void 0)throw new Error("Can not delete in empty document");return RE(r,{offset:a?a.offset:0,length:a?a.length:0,content:JSON.stringify(t)},n)}}function RE(r,e,t){if(!t.formattingOptions)return[e];var n=F$(r,e),i=e.offset,o=e.offset+e.content.length;if(e.length===0||e.content.length===0){for(;i>0&&!zN(n,i-1);)i--;for(;o<n.length&&!zN(n,o);)o++}for(var s=M$(n,{offset:i,length:o-i},t.formattingOptions),a=s.length-1;a>=0;a--){var c=s[a];n=F$(n,c),i=Math.min(i,c.offset),o=Math.max(o,c.offset+c.length),o+=c.content.length-c.length}var u=r.length-(n.length-o)-i;return[{offset:i,length:u,content:n.substring(i,o)}]}function F$(r,e){return r.substring(0,e.offset)+e.content+r.substring(e.offset+e.length)}var JS=$Fe;function doe(r,e,t){return M$(r,e,t)}function GFe(r,e,t,n){return VFe(r,e,t,n)}function q$(r,e){for(var t=e.length-1;t>=0;t--)r=F$(r,e[t]);return r}var YFe=ye(require("os")),_p=ye(require("path"));var di=ye(require("vscode"));function KFe(r){return JS(r)}var wD=class r{constructor(e,t){this.workspaceFolder=t;this.vscodeFolder=_p.join(this.workspaceFolder.uri.fsPath,".vscode"),this.tasksJsonPath=_p.join(this.vscodeFolder,"tasks.json"),this.launchJsonPath=_p.join(this.vscodeFolder,"launch.json"),e!==void 0&&e.length>0&&(this.executableProjects=this.findExecutableMSBuildProjects(e),this.executableProjects.length===0&&(this.fallbackBuildProject=e[0]))}vscodeFolder;tasksJsonPath;launchJsonPath;executableProjects=[];startupProject;fallbackBuildProject;hasExecutableProjects(){return this.executableProjects.length>0}isStartupProjectSelected(){return this.startupProject!==void 0}async selectStartupProject(e){if(!this.hasExecutableProjects())throw new Error(di.l10n.t("No executable projects"));if(e!==void 0)return this.startupProject=this.executableProjects[e],!0;if(this.executableProjects.length===1)return this.startupProject=this.executableProjects[0],!0;{let t=this.executableProjects.map(i=>({label:i.projectName,project:i})),n=await di.window.showQuickPick(t,{matchOnDescription:!0,placeHolder:di.l10n.t("Select the project to launch")});return n===void 0?!1:(this.startupProject=n.project,!0)}}setStartupProject(e){if(e>=this.executableProjects.length)throw new Error(di.l10n.t("Invalid project index"));this.startupProject=this.executableProjects[e]}hasWebServerDependency(){if(!this.startupProject)throw new Error(di.l10n.t("Startup project not set"));return this.startupProject.isWebProject}computeProgramLaunchType(){if(!this.startupProject)throw new Error(di.l10n.t("Startup project not set"));return this.startupProject.isBlazorWebAssemblyStandalone?3:this.startupProject.isBlazorWebAssemblyHosted?2:this.startupProject.isWebProject?1:0}computeProgramPath(){if(!this.startupProject)throw new Error(di.l10n.t("Startup project not set"));let e=_p.relative(this.workspaceFolder.uri.fsPath,this.startupProject.outputPath);return e===this.startupProject.outputPath?this.startupProject.outputPath:_p.join("${workspaceFolder}",e)}computeWorkingDirectory(){if(!this.startupProject)throw new Error(di.l10n.t("Startup project not set"));let e=_p.relative(this.workspaceFolder.uri.fsPath,this.startupProject.projectPath);return _p.join("${workspaceFolder}",_p.dirname(e))}static getConsoleDebugOption(){let e=di.workspace.getConfiguration("csharp").get("debug");if(e)return e.console}createLaunchJsonConfigurationsArray(e,t){let n=this.createLaunchJsonConfigurations(e),i=JSON.parse(n);return i.forEach(o=>{for(let s in o)if(Object.prototype.hasOwnProperty.call(o,s)&&(s.startsWith("OS-COMMENT")&&delete o[s],t&&s==="stopAtEntry"&&delete o[s],t&&e===0&&s=="console")){let a=r.getConsoleDebugOption();a&&(o.console=a)}}),t&&(i=i.filter(o=>o.request=="launch")),i}createLaunchJsonConfigurations(e){switch(e){case 0:{let t=UPt(this.computeProgramPath(),this.computeWorkingDirectory()),n=j$();return`
[
    ${t},
    ${n}
]`}case 1:{let t=qPt(this.computeProgramPath(),this.computeWorkingDirectory()),n=j$();return`
[
    ${t},
    ${n}
]`}case 2:return`
[
    ${jPt(this.computeProgramPath(),this.computeWorkingDirectory())}
]`;case 3:return`
[
    ${zPt(this.computeWorkingDirectory())}
]`}}createBuildTaskDescription(){let e=["build"];return this.AddAdditionalCommandArgs(e),{label:"build",command:"dotnet",type:"process",args:e,problemMatcher:"$msCompile"}}createPublishTaskDescription(){let e=["publish"];return this.AddAdditionalCommandArgs(e),{label:"publish",command:"dotnet",type:"process",args:e,problemMatcher:"$msCompile"}}createWatchTaskDescription(){let e=["watch","run"],t=this.getBuildProjectPath();return t&&(e.push("--project"),e.push(t)),{label:"watch",command:"dotnet",type:"process",args:e,problemMatcher:"$msCompile"}}AddAdditionalCommandArgs(e){let t=this.getBuildProjectPath();t&&e.push(t),e.push("/property:GenerateFullPaths=true"),e.push("/consoleloggerparameters:NoSummary;ForceNoAlign")}getBuildProjectPath(){let e=this.startupProject;return e||(e=this.fallbackBuildProject),e?e.solutionPath?this.getBuildPath(e.solutionPath):this.getBuildPath(e.projectPath):null}getBuildPath(e){let t=_p.join("${workspaceFolder}",_p.relative(this.workspaceFolder.uri.fsPath,e));return Kw(t)}createTasksConfiguration(){return{version:"2.0.0",tasks:[this.createBuildTaskDescription(),this.createPublishTaskDescription(),this.createWatchTaskDescription()]}}findExecutableMSBuildProjects(e){let t=[];return e.forEach(n=>{let i=n.targetsDotnetCore||n.isBlazorWebAssemblyStandalone;n.isExe&&i&&t.push(n)}),t}};function qPt(r,e){let t={"OS-COMMENT1":di.l10n.t("Use IntelliSense to find out which attributes exist for C# debugging"),"OS-COMMENT2":di.l10n.t("Use hover for the description of the existing attributes"),"OS-COMMENT3":di.l10n.t("For further information visit {0}.","https://github.com/dotnet/vscode-csharp/blob/main/debugger-launchjson.md"),name:".NET Core Launch (web)",type:"coreclr",request:"launch",preLaunchTask:"build","OS-COMMENT4":di.l10n.t("If you have changed target frameworks, make sure to update the program path."),program:`${Kw(r)}`,args:Array(0),cwd:`${Kw(e)}`,stopAtEntry:!1,"OS-COMMENT5":di.l10n.t("Enable launching a web browser when ASP.NET Core starts. For more information: {0}","https://aka.ms/VSCode-CS-LaunchJson-WebBrowser"),serverReadyAction:{action:"openExternally",pattern:"\\bNow listening on:\\s+(https?://\\S+)"},env:{ASPNETCORE_ENVIRONMENT:"Development"},sourceFileMap:{"/Views":"${workspaceFolder}/Views"}};return JSON.stringify(t)}function jPt(r,e){let t={name:"Launch and Debug Hosted Blazor WebAssembly App",type:"blazorwasm",request:"launch",hosted:!0,"OS-COMMENT1":di.l10n.t("If you have changed target frameworks, make sure to update the program path."),program:`${Kw(r)}`,cwd:`${Kw(e)}`};return JSON.stringify(t)}function zPt(r){let e={name:"Launch and Debug Standalone Blazor WebAssembly App",type:"blazorwasm",request:"launch",cwd:`${Kw(r)}`};return JSON.stringify(e)}function UPt(r,e){let t={"OS-COMMENT1":di.l10n.t("Use IntelliSense to find out which attributes exist for C# debugging"),"OS-COMMENT2":di.l10n.t("Use hover for the description of the existing attributes"),"OS-COMMENT3":di.l10n.t("For further information visit {0}","https://github.com/dotnet/vscode-csharp/blob/main/debugger-launchjson.md"),name:".NET Core Launch (console)",type:"coreclr",request:"launch",preLaunchTask:"build","OS-COMMENT4":di.l10n.t("If you have changed target frameworks, make sure to update the program path."),program:`${Kw(r)}`,args:Array(0),cwd:`${Kw(e)}`,"OS-COMMENT5":di.l10n.t("For more information about the 'console' field, see {0}","https://aka.ms/VSCode-CS-LaunchJson-Console"),console:"internalConsole",stopAtEntry:!1};return JSON.stringify(t)}function HPt(r){let e=[],t=r.split(`
`);for(let n=0;n<t.length;n++){let i=t[n].replace(/(?![^\n]{1,80}$)([^\n]{1,80})\s/g,`$1
`);e=e.concat(i.split(`
`))}return e}function foe(r,e){return`${r}${e.toString().padStart(2,"0")}`}function JFe(){let r=di.l10n.t("WARNING"),e=di.l10n.t(`The C# extension was unable to automatically decode projects in the current workspace to create a runnable launch.json file. A template launch.json file has been created as a placeholder.

If the server is currently unable to load your project, you can attempt to resolve this by restoring any missing project dependencies (example: run 'dotnet restore') and by fixing any reported errors from building the projects in your workspace.
If this allows the server to now load your project then --
  * Delete this file
  * Open the Visual Studio Code command palette (View->Command Palette)
  * run the command: '.NET: Generate Assets for Build and Debug'.

If your project requires a more complex launch configuration, you may wish to delete this configuration and pick a different template using the 'Add Configuration...' button at the bottom of this file.`),t=HPt(e),n={};n.name=".NET Core Launch (console)",n.type="coreclr",n.request="launch",n[foe(r,1)]="*********************************************************************************";for(let i=0;i<t.length;i++)n[foe(r,i+2)]=t[i];return n[foe(r,t.length+2)]="*********************************************************************************",n.preLaunchTask="build",n.program="${workspaceFolder}/bin/Debug/<insert-target-framework-here>/<insert-project-name-here>.dll",n.args=[],n.cwd="${workspaceFolder}",n.console="internalConsole",n.stopAtEntry=!1,n}function j$(){return JSON.stringify({name:".NET Core Attach",type:"coreclr",request:"attach"})}function BPt(r){return r.addTasksJson||r.addLaunchJson}async function WPt(r){return HN(r).then(async e=>VPt(r,e))}function $Pt(r){let e=[];function t(n){let i;n!==void 0&&(i=n.find(o=>o.group==="build")),i!==void 0&&e.push(i)}return t(r.tasks),r.windows&&t(r.windows.tasks),r.osx&&t(r.osx.tasks),r.linux&&t(r.linux.tasks),e}async function HN(r){return new Promise((e,t)=>{Wu.exists(r.tasksJsonPath,n=>{n?Wu.readFile(r.tasksJsonPath,(i,o)=>{if(i)return t(i);let s=o.toString(),a;try{a=KFe(s)}catch(u){let l=u instanceof Error?u.message:`${u}`;return Vi(di,di.l10n.t("Failed to parse tasks.json file: {0}",l)),e({updateTasksJson:!1})}if(!a.version||!a.version.startsWith("2.0."))return e({updateTasksJson:!1});let c=$Pt(a);e({updateTasksJson:c.length===0})}):e({addTasksJson:!0})})})}async function VPt(r,e){return r.hasExecutableProjects()?new Promise((t,n)=>Wu.exists(r.launchJsonPath,i=>{i||(e.addLaunchJson=!0),t(e)})):Promise.resolve(e)}async function GPt(r){return new Promise((e,t)=>{let n={title:di.l10n.t("Yes"),result:0},i={title:di.l10n.t("Not Now"),result:1,isCloseAffordance:!0},o={title:di.l10n.t("Don't Ask Again"),result:2},s=_p.basename(r.uri.fsPath);KPt()||di.window.showWarningMessage(di.l10n.t("Required assets to build and debug are missing from '{0}'. Add them?",s),o,i,n).then(a=>e(a?.result??1))})}function KPt(){let r="suppressBuildAssetsNotification",e=di.workspace.getConfiguration("csharp");return e.has(r)?e.get(r):e.get("supressBuildAssetsNotification")}function XFe(){let r=di.workspace.getConfiguration("editor"),e=r.get("tabSize")??4,t=r.get("insertSpaces")??!0,i=di.workspace.getConfiguration("files").get("eol");return{insertSpaces:t,tabSize:e,eol:!i||i==="auto"?YFe.EOL:`
`}}async function BN(r,e){return new Promise((t,n)=>{if(!e.addTasksJson&&!e.updateTasksJson)return t();let i=XFe(),o=r.createTasksConfiguration(),s;if(Wu.pathExistsSync(r.tasksJsonPath)){let c=o.tasks??[],u=Wu.readFileSync(r.tasksJsonPath,{encoding:"utf8"});s=ZFe(u,c,"tasks","label",i)}else{let c=JSON.stringify(o);s=q$(c,doe(c,void 0,i))}let a=hoe(s);Wu.writeFile(r.tasksJsonPath,a,c=>{if(c)return n(c);t()})})}async function YPt(r,e){return new Promise((t,n)=>{if(!e.addLaunchJson)return t();let i=r.computeProgramLaunchType(),o=r.createLaunchJsonConfigurations(i),s=XFe(),a;if(Wu.pathExistsSync(r.launchJsonPath)){let u=JS(o)??[],l=Wu.readFileSync(r.launchJsonPath,{encoding:"utf8"});a=ZFe(l,u,"configurations","name",s)}else{let l=`
            {
                "version": "0.2.0",
                "configurations": ${o}
            }`;a=q$(l,doe(l,void 0,s))}let c=hoe(a);Wu.writeFile(r.launchJsonPath,c,u=>{if(u)return n(u);t()})})}async function QFe(r,e){if(r.hasExecutableProjects()&&!r.isStartupProjectSelected()&&!await r.selectStartupProject())return;let t=[BN(r,e),YPt(r,e)];return Promise.all(t)}async function z$(r,e){if(!di.workspace.workspaceFolders||r.workspaceState.get("assetPromptDisabled"))return;let t=di.workspace.workspaceFolders.map(async i=>{let o=await e.getWorkspaceDebugInformation(i.uri);if(!o||o.length===0)return 0;let s=new wD(o,i);if(s.hasExecutableProjects()){let a=await WPt(s);if(!BPt(a))return 0;let c=await GPt(i);return c===2?2:c!==0?3:(await Wu.ensureDir(s.vscodeFolder),await QFe(s,a),1)}return 0});(await Promise.all(t)).some(i=>i===2)&&r.workspaceState.update("assetPromptDisabled",!0)}async function JPt(r){return new Promise((e,t)=>{let n=[];if(Wu.pathExistsSync(r.tasksJsonPath)){let i=Wu.readFileSync(r.tasksJsonPath).toString(),o=["build","publish","watch"],s=JS(i)?.tasks?.map(a=>a.label).filter(a=>o.includes(a));n=n.concat(s)}if(Wu.pathExistsSync(r.launchJsonPath)){let i=Wu.readFileSync(r.launchJsonPath).toString(),o=[".NET Core Launch (console)",".NET Core Launch (web)",".NET Core Attach","Launch and Debug Standalone Blazor WebAssembly App"],s=JS(i)?.configurations?.map(a=>a.name).filter(a=>o.includes(a));n=n.concat(s)}e(n)})}async function XPt(r){return new Promise((e,t)=>{JPt(r).then(n=>{if(n.length>0){let i={title:di.l10n.t("Yes")},o={title:di.l10n.t("Cancel"),isCloseAffordance:!0};di.window.showWarningMessage(di.l10n.t("Replace existing build and debug assets?"),o,i).then(s=>{e(s===i)})}else e(!0)},n=>t(n))})}async function U$(r,e){try{if(!di.workspace.workspaceFolders)return;for(let t of di.workspace.workspaceFolders){let n=await r.getWorkspaceDebugInformation(t.uri);if(n&&n.length>0){let i=n[0].projectPath,o=di.workspace.getWorkspaceFolder(di.Uri.file(i));if(o===void 0)return;let s=new wD(n,o);if(!await XPt(s))return;let c={addLaunchJson:s.hasExecutableProjects(),addTasksJson:!0};if(c.addLaunchJson&&!await s.selectStartupProject(e))return;await Wu.ensureDir(s.vscodeFolder),await QFe(s,c)}else Vi(di,di.l10n.t("Could not locate .NET Core project in '{0}'. Assets were not generated.",t.name))}}catch(t){Vi(di,di.l10n.t("Unable to generate assets to build and debug. {0}.",`${t}`))}}function hoe(r){let e=/["']OS-COMMENT\d*["']\s*:\s*["'](.*)["']\s*?,/gi;return r.replace(e,"// $1")}function ZFe(r,e,t,n,i){let o={formattingOptions:i},a=JS(r)[t],c=a.map(d=>d[n]),u=r,l=0;return e.map(d=>{let f=c.indexOf(d[n]),_=f>=0?f:a.length+l++,D=GFe(u,[t,_],d,o);u=q$(u,D)}),hoe(u)}var pO=ye(require("vscode")),H$=require("path");async function WN(r,e,t,n,i){let o;try{let d=await n.getHostExecutableInfo();o=(await e([(0,H$.dirname)(d.path)])).FullInfo}catch(d){o=d instanceof Error?d.message:`${d}`}let s="";t&&i&&(s=await ext(i));let a=rxt(),c=ds.useOmnisharpServer,l=`## Issue Description ##
## Steps to Reproduce ##

## Expected Behavior ##

## Actual Behavior ##

## Logs ##

${txt(c)}

## Environment information ##

**VSCode version**: ${pO.version}
**C# Extension**: ${r}
**Using OmniSharp**: ${c}

${s}
<details><summary>Dotnet Information</summary>
${o}</details>
<details><summary>Visual Studio Code Extensions</summary>
${ZPt(a)}
</details>
`;await pO.commands.executeCommand("workbench.action.openIssueReporter",{extensionId:Uv,issueBody:l})}function QPt(r,e){return r.packageJSON.name.toLowerCase()<e.packageJSON.name.toLowerCase()?-1:r.packageJSON.name.toLowerCase()>e.packageJSON.name.toLowerCase()?1:0}function ZPt(r){if(r.length<=0)return"none";let e=`|Extension|Author|Version|Folder Name|
|---|---|---|---|`,t=r.map(i=>`|${i.packageJSON.name}|${i.packageJSON.publisher}|${i.packageJSON.version}|${(0,H$.basename)(i.extensionPath)}|`).join(`
`);return`
${e}
${t};
`}async function ext(r){let e="Unknown Mono version";try{e=`OmniSharp using mono: ${(await r.getHostExecutableInfo()).version}`}catch(t){e=t instanceof Error?t.message:`${t}`}return`<details><summary>Mono Information</summary>
    ${e}</details>`}function txt(r){return r?`### OmniSharp log ###
<details>Post the output from Output-->OmniSharp log here</details>
        
### C# log ###
<details>Post the output from Output-->C# here</details>`:`<!--
If you can, it would be the most helpful to zip up and attach the entire extensions log folder.  The folder can be opened by running the \`workbench.action.openExtensionLogsFolder\` command.

Additionally, if you can reproduce the issue reliably, set the \`C#\` output window log level to 'Trace' re-run the scenario to get more detailed logs.
-->
        
### C# log ###
<details>Post the output from Output-->C# here</details>

### C# LSP Trace Logs ###
<details>Post the output from Output-->C# LSP Trace Logs here.  Requires the \`C#\` output window log level to be set to \`Trace\`</details>`}function rxt(){return pO.extensions.all.filter(e=>e.packageJSON.isBuiltin===!1).sort(QPt)}function poe(r,e,t,n,i,o,s){let a=new mo;return a.add(xm.commands.registerCommand("o.restart",async()=>nxt(r,e))),a.add(xm.commands.registerCommand("o.pickProjectAndStart",async()=>ixt(e))),a.add(xm.commands.registerCommand("o.showOutput",()=>n.post(new sB))),a.add(xm.commands.registerCommand("dotnet.restore.project",async()=>sxt(e,n))),a.add(xm.commands.registerCommand("dotnet.restore.all",async()=>uxt(e,n))),a.add(xm.commands.registerCommand("o.reanalyze.allProjects",async()=>axt(e))),a.add(xm.commands.registerCommand("o.reanalyze.currentProject",async()=>cxt(e))),a.add(xm.commands.registerCommand("dotnet.generateAssets",async c=>U$(s,c))),a.add(xm.commands.registerCommand("csharp.reportIssue",async()=>WN(r.extension.packageJSON.version,dm,t.isValidPlatformForMono(),o,i))),new mo(a)}async function nxt(r,e){e.isRunning()?await e.restart():await e.autoStart("")}async function ixt(r){return xB().then(async e=>{let t=r.getSolutionPathOrFolder();if(t)for(let n of e)n.target===t&&(n.label=`\u2713 ${n.label}`);return moe(r,e)})}async function moe(r,e){let t=await xm.window.showQuickPick(e,{matchOnDescription:!0,placeHolder:`Select 1 of ${e.length} projects`});if(t!==void 0)return r.restart(t)}function oxt(r,e){return r.map(async t=>{let n=t.Directory;return new Promise((i,o)=>{tqe.lstat(n,(s,a)=>{if(s)return o(s);a.isFile()&&(n=B$.dirname(n)),i({label:`dotnet restore - (${t.Name||B$.basename(t.Directory)})`,description:n,async execute(){return nqe(n,e,t.Name)}})})})})}async function sxt(r,e){let t=await rqe(r);e.post(new _M);let n=await Promise.all(oxt(t,e)),i=await xm.window.showQuickPick(n);if(i)return i.execute()}async function axt(r){await bQ(r,{})}async function cxt(r){let e=xm.window.activeTextEditor;e!==void 0&&await bQ(r,{FileName:e.document.uri.fsPath})}async function uxt(r,e){let t=await rqe(r);e.post(new _M);for(let n of t)await nqe(n.Directory,e,n.Name)}async function rqe(r){if(!r.isRunning())throw new Error("OmniSharp server is not running.");let e=await CS(r),t=Hxe(e);if(t.length===0)throw new Error("No .NET Core projects found");return t}async function nqe(r,e,t){return new Promise((n,i)=>{let o="dotnet",s=["restore"];t&&s.push(t);let a=eqe.spawn(o,s,{cwd:r,env:process.env});function c(u){u.on("data",l=>{e.post(new gM(l.toString()))}),u.on("err",l=>{e.post(new gM(`ERROR: ${l}`))})}c(a.stdout),c(a.stderr),a.on("close",u=>{e.post(new eB(`Done: ${u}.`)),n()}),a.on("error",u=>{e.post(new tB(`ERROR: ${u}`)),i(u)})})}var yh=ye(require("vscode")),aqe=ye(sT());var iqe=require("child_process"),W$=async r=>{let e=/(\d+\.\d+\.\d+)/;return new Promise((t,n)=>{let i=(0,iqe.spawn)("mono",["--version"],{env:r});i.on("error",()=>{t(void 0)});let o="";i.stdout.on("data",s=>{o+=s.toString()}),i.stdout.on("close",()=>{let s=e.exec(o);s&&s.length>1?t(s[1]):t(void 0)})})};var oqe=require("path");var $$;async function sqe(){if($$!==void 0)return $$;let r=(0,oqe.join)("msbuild",vd.getPlatformExeExtension());try{let e=await $y(`${r} -version -nologo`,process.cwd(),process.env),t=/^(\d+\.\d+\.\d+\.\d+)$/.exec(e);t&&($$=t[1])}catch{}return $$}async function cqe(){let r=await lxt();if(r.needsDotNetSdk){let e=await dxt();return e===1?await yh.env.openExternal(yh.Uri.parse("https://dot.net/core-sdk-vscode")):e===2&&await yh.commands.executeCommand("workbench.action.openGlobalSettings"),!1}if(r.needsMono||r.needsMSBuildTools){let e=await fxt();return e===1?await yh.env.openExternal(yh.Uri.parse("https://www.mono-project.com/download/stable/")):e===2&&await yh.commands.executeCommand("workbench.action.openGlobalSettings"),!1}return!0}async function lxt(){if(qr.useModernNet){let r=await dm(qr.dotNetCliPaths);return{needsDotNetSdk:r.Version===void 0||aqe.lt(r.Version,"6.0.0"),needsMono:!1,needsMSBuildTools:!1}}if(process.platform==="win32")return{needsMSBuildTools:!1,needsDotNetSdk:!1,needsMono:!1};{let r=new ux(W$),e=!1;try{await r.getHostExecutableInfo()}catch{e=!0}let t=await sqe();return{needsMono:e,needsDotNetSdk:!1,needsMSBuildTools:t===void 0}}}async function dxt(){return new Promise((r,e)=>{let t="OmniSharp requires an install of the .NET SDK to provide language services when `omnisharp.useModernNet` is enabled in Settings. Please install the latest .NET SDK and restart vscode. If you continue see this error after installing .NET and restarting vscode, you may need to log out and log back in or restart your system for changes to the PATH to take effect.",n={modal:!0},i={title:"Get the SDK",result:1},o={title:"Open settings",result:2,isCloseAffordance:!0};yh.window.showErrorMessage(t,n,o,i).then(s=>r(s?.result??0))})}async function fxt(){return new Promise((r,e)=>{let t=yh.l10n.t("OmniSharp requires a complete install of Mono (including MSBuild) to provide language services when `omnisharp.useModernNet` is disabled in Settings. Please install the latest Mono and restart."),n={modal:!0},i={title:yh.l10n.t("Download Mono"),result:1},o={title:yh.l10n.t("Open settings"),result:2,isCloseAffordance:!0};yh.window.showErrorMessage(t,n,o,i).then(s=>r(s?.result??0))})}var Zo;(pe=>(pe.StateChanged="stateChanged",pe.StdOut="stdout",pe.StdErr="stderr",pe.Error="Error",pe.ServerError="ServerError",pe.UnresolvedDependencies="UnresolvedDependencies",pe.PackageRestoreStarted="PackageRestoreStarted",pe.PackageRestoreFinished="PackageRestoreFinished",pe.ProjectChanged="ProjectChanged",pe.ProjectAdded="ProjectAdded",pe.ProjectRemoved="ProjectRemoved",pe.BackgroundDiagnosticStatus="BackgroundDiagnosticStatus",pe.MsBuildProjectDiagnostics="MsBuildProjectDiagnostics",pe.TestMessage="TestMessage",pe.BeforeServerInstall="BeforeServerInstall",pe.BeforeServerStart="BeforeServerStart",pe.ServerStart="ServerStart",pe.ServerStop="ServerStop",pe.MultipleLaunchTargets="server:MultipleLaunchTargets",pe.Started="started",pe.ProjectConfiguration="ProjectConfiguration"))(Zo||={});var hxt=2*60*1e3,V$=class{constructor(e,t,n,i,o,s,a,c,u,l,d){this.vscode=e;this.packageJSON=n;this.platformInfo=i;this.eventStream=o;this.extensionPath=s;this.monoResolver=a;this.dotnetResolver=c;this.context=u;this.outputChannel=l;this.languageMiddlewareFeature=d;let f=new vB(t,this.eventStream,this.packageJSON,i,s);this._omnisharpManager=new RH(f,i),this.updateProjectDebouncer.pipe((0,dqe.debounceTime)(1500)).subscribe(async p=>{await this.updateProjectInfo()}),this.firstUpdateProject=!0}_delayTrackers={};_eventBus=new uqe.EventEmitter;_state={status:2};_launchTarget;_sessionProperties={};_omnisharpManager;updateProjectDebouncer=new lqe.Subject;firstUpdateProject;get sessionProperties(){return this._sessionProperties}isRunning(){return this._state.status===1}async waitForInitialize(){if(this._state.status!==1)throw new Error("OmniSharp server is not running.");let{engine:e}=this._state;await e.waitForInitialize()}_setState(e){e.status!==this._state.status&&(this._state=e,this._fireEvent(Zo.StateChanged,this._state.status))}_recordRequestDelay(e,t){let n=this._delayTrackers[e];n||(n=new EH(e),this._delayTrackers[e]=n),n.reportDelay(t)}_reportTelemetry(){let e=this._delayTrackers;for(let t in e){let n=e[t],i="omnisharp"+t;if(n.hasMeasures()){let o=n.getMeasures();n.clearMeasures(),this.eventStream.post(new xH(i,o))}}}getSolutionPathOrFolder(){return this._launchTarget?.target}onStdout(e,t){return this._addListener(Zo.StdOut,e,t)}onStderr(e,t){return this._addListener(Zo.StdErr,e,t)}onError(e,t){return this._addListener(Zo.Error,e,t)}onServerError(e,t){return this._addListener(Zo.ServerError,e,t)}onUnresolvedDependencies(e,t){return this._addListener(Zo.UnresolvedDependencies,e,t)}onBeforePackageRestore(e,t){return this._addListener(Zo.PackageRestoreStarted,e,t)}onPackageRestore(e,t){return this._addListener(Zo.PackageRestoreFinished,e,t)}onProjectChange(e,t){return this._addListener(Zo.ProjectChanged,e,t)}onProjectAdded(e,t){return this._addListener(Zo.ProjectAdded,e,t)}onProjectRemoved(e,t){return this._addListener(Zo.ProjectRemoved,e,t)}onBackgroundDiagnosticStatus(e,t){return this._addListener(Zo.BackgroundDiagnosticStatus,e,t)}onMsBuildProjectDiagnostics(e,t){return this._addListener(Zo.MsBuildProjectDiagnostics,e,t)}onTestMessage(e,t){return this._addListener(Zo.TestMessage,e,t)}onBeforeServerInstall(e){return this._addListener(Zo.BeforeServerInstall,e)}onBeforeServerStart(e){return this._addListener(Zo.BeforeServerStart,e)}onServerStart(e){return this._addListener(Zo.ServerStart,e)}onServerStop(e){return this._addListener(Zo.ServerStop,e)}onMultipleLaunchTargets(e,t){return this._addListener(Zo.MultipleLaunchTargets,e,t)}onOmnisharpStart(e){return this._addListener(Zo.Started,e)}_addListener(e,t,n){return t=n?t.bind(n):t,this._eventBus.addListener(e,t),new yd(()=>this._eventBus.removeListener(e,t))}_fireEvent(e,t){this._eventBus.emit(e,t)}async start(e){if(this._state.status!==2){this.eventStream.post(new cE("Attempt to start OmniSharp server failed because another server instance is running."));return}if(e.workspaceKind===6){this.eventStream.post(new TS("During Live Share sessions language services are provided by the Live Share server."));return}if(!await cqe()){this.eventStream.post(new TS("OmniSharp failed to start because of missing requirements."));return}let t=new mo,n;qr.enableLspDriver?n=new _$(this._eventBus,this.eventStream,this.context,this.outputChannel,t,this.languageMiddlewareFeature,this.platformInfo,this.monoResolver,this.dotnetResolver):n=new L$(this._eventBus,this.eventStream,this.platformInfo,this.monoResolver,this.dotnetResolver,t),t.add(this.onServerError(P=>this.eventStream.post(new cE(P)))),t.add(this.onError(P=>this.eventStream.post(new MH(P)))),t.add(this.onMsBuildProjectDiagnostics(P=>this.eventStream.post(new FH(P)))),t.add(this.onUnresolvedDependencies(P=>this.eventStream.post(new qH(P)))),t.add(this.onStderr(P=>this.eventStream.post(new rB(P)))),t.add(this.onMultipleLaunchTargets(P=>this.eventStream.post(new UH(P)))),t.add(this.onBeforeServerInstall(()=>this.eventStream.post(new lB))),t.add(this.onBeforeServerStart(()=>{this.eventStream.post(new uB)})),t.add(this.onServerStop(()=>this.eventStream.post(new fB))),t.add(this.onServerStart(()=>{this.eventStream.post(new hB)})),t.add(this.onBackgroundDiagnosticStatus(P=>this.eventStream.post(new NH(P)))),t.add(this.onProjectConfigurationReceived(P=>{this.eventStream.post(new HH(P))})),t.add(this.onProjectAdded(this.debounceUpdateProjectWithLeadingTrue)),t.add(this.onProjectChange(this.debounceUpdateProjectWithLeadingTrue)),t.add(this.onProjectRemoved(this.debounceUpdateProjectWithLeadingTrue)),this._setState({status:0,disposables:t}),this._launchTarget=e;let i=e.target,o=mO.dirname(i),s=["-z","-s",i,"--hostPID",process.pid.toString(),"DotNet:enablePackageRestore=false","--loglevel",qr.loggingLevel],a=rh.razorPluginPath,c=a.length>0?a:mO.join(this.extensionPath,".razoromnisharp","OmniSharpPlugin","Microsoft.AspNetCore.Razor.OmniSharpPlugin.dll");goe.existsSync(c)&&s.push("--plugin",c),ds.waitForDebugger===!0&&s.push("--debug");let u=ds.excludePaths;for(let P=0;P<u.length;P++)s.push(`FileOptions:SystemExcludeSearchPatterns:${P}=${u[P]}`);qr.enableMsBuildLoadProjectsOnDemand===!0&&s.push("MsBuild:LoadProjectsOnDemand=true"),qr.enableRoslynAnalyzers===!0&&s.push("RoslynExtensionsOptions:EnableAnalyzersSupport=true"),qr.enableEditorConfigSupport===!0&&s.push("FormattingOptions:EnableEditorConfigSupport=true"),ds.organizeImportsOnFormat===!0&&s.push("FormattingOptions:OrganizeImports=true"),qr.enableDecompilationSupport===!0&&s.push("RoslynExtensionsOptions:EnableDecompilationSupport=true"),qr.enableImportCompletion===!0&&s.push("RoslynExtensionsOptions:EnableImportCompletion=true"),qr.enableAsyncCompletion===!0&&s.push("RoslynExtensionsOptions:EnableAsyncCompletion=true");let l=qr.sdkPath;l.length>0&&s.push(`Sdk:Path=${l}`);let d=qr.sdkVersion;d.length>0&&s.push(`Sdk:Version=${d}`),qr.sdkIncludePrereleases&&s.push("Sdk:IncludePrereleases=true");let f=qr.inlayHintsEnableForParameters;f===!0&&(s.push(`RoslynExtensionsOptions:InlayHintsOptions:EnableForParameters=${f.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:ForLiteralParameters=${qr.inlayHintsForLiteralParameters.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:ForIndexerParameters=${qr.inlayHintsForIndexerParameters.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:ForObjectCreationParameters=${qr.inlayHintsForObjectCreationParameters.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:ForOtherParameters=${qr.inlayHintsForOtherParameters.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:SuppressForParametersThatDifferOnlyBySuffix=${qr.inlayHintsSuppressForParametersThatDifferOnlyBySuffix.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:SuppressForParametersThatMatchMethodIntent=${qr.inlayHintsSuppressForParametersThatMatchMethodIntent.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:SuppressForParametersThatMatchArgumentName=${qr.inlayHintsSuppressForParametersThatMatchArgumentName.toString()}`));let p=qr.inlayHintsEnableForTypes;p===!0&&(s.push(`RoslynExtensionsOptions:InlayHintsOptions:EnableForTypes=${p.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:ForImplicitVariableTypes=${qr.inlayHintsForImplicitVariableTypes.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:ForLambdaParameterTypes=${qr.inlayHintsForLambdaParameterTypes.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:ForImplicitObjectCreation=${qr.inlayHintsForImplicitObjectCreation.toString()}`)),qr.analyzeOpenDocumentsOnly===!0&&s.push("RoslynExtensionsOptions:AnalyzeOpenDocumentsOnly=true");let _=qr.dotNetCliPaths;for(let P=0;P<_.length;P++)s.push(`DotNetCliOptions:LocationPaths:${P}=${_[P]}`);let D;try{D=await this._omnisharpManager.GetOmniSharpLaunchPath(this.packageJSON.defaults.omniSharp,ds.serverPath,!qr.useModernNet,this.extensionPath)}catch(P){let M=P;this.eventStream.post(new kH(`Error occurred in loading omnisharp from omnisharp.path
Could not start the server due to ${M.toString()}`,M));return}this.eventStream.post(new IH(_,new Date,i)),this._fireEvent(Zo.BeforeServerStart,i);try{await n.start(o,s,e,D),this._setState({status:1,disposables:t,engine:n,telemetryIntervalId:setInterval(()=>this._reportTelemetry(),hxt)}),this._delayTrackers={},c!==void 0&&rh.razorPluginPath&&(goe.existsSync(c)?this.eventStream.post(new QH(c)):this.eventStream.post(new ZH(c))),this._fireEvent(Zo.ServerStart,i)}catch(P){return this._fireEvent(Zo.ServerError,P),this.stop()}}async registerProviders(e,t,n){if(this._state.status!==1){this.eventStream.post(new cE("Attempt to register providers failed because no server instance is running."));return}let{engine:i}=this._state;return await i.registerProviders(this,this.languageMiddlewareFeature,e,t,n)}onProjectConfigurationReceived(e){return this._addListener(Zo.ProjectConfiguration,e)}debounceUpdateProjectWithLeadingTrue=async()=>{this.firstUpdateProject?await this.updateProjectInfo():this.updateProjectDebouncer.next(new oB)};updateProjectInfo=async()=>{this.firstUpdateProject=!1;let e=await CS(this);this.eventStream.post(new BH(e))};async stop(){if(this._state.status!==2&&this._state.status===1){let{disposables:e,engine:t,telemetryIntervalId:n}=this._state;await t.stop(),t.dispose(),this._sessionProperties={},this._setState({status:2}),this._fireEvent(Zo.ServerStop,this),e.dispose(),clearInterval(n),this._reportTelemetry()}}async restart(e=this._launchTarget){if(this._state.status===0){this.eventStream.post(new cE("Attempt to restart OmniSharp server failed because another server instance is starting."));return}e!==void 0&&(await this.stop(),this.eventStream.post(new mB),await this.start(e))}async autoStart(e){let t=await xB();if(t.length===0)return await new Promise(s=>{let a=this.vscode.workspace.createFileSystemWatcher("{**/*.sln,**/*.slnf,**/*.csproj,**/*.csx,**/*.cake}",!1,!0,!0);a.onDidCreate(c=>{a.dispose(),s()})}),this.autoStart(e);if(t.length===1)return this.start(t[0]);let n=ds.defaultSolution,i=t.find(s=>mO.basename(s.target)===n);if(i)return this.start(i);if(e.length>0){let s=t.find(a=>a.target===e);if(s)return this.start(s)}let o=t.find(s=>s.workspaceKind==3||s.workspaceKind==0);return o?this.start(o):process.env.RUNNING_INTEGRATION_TESTS==="true"?this.start(t[0]):(this._fireEvent(Zo.MultipleLaunchTargets,t),moe(this,t))}async makeRequest(e,t,n){if(this._state.status!==1)throw new Error("OmniSharp server is not running.");let{engine:i}=this._state,o=Date.now(),s=await i.makeRequest(e,t,n),c=Date.now()-o;return this._recordRequestDelay(e,c),s}async makeRequest0(e,t,n){await this.makeRequest(e,t,n)}};var gqe=ye(require("net")),voe=ye(require("os")),VN=ye(require("path"));var Ja=ye(require("vscode"));var fqe=ye(require("vscode"));var hqe="processLaunched",pqe="debuggingStopped";function mqe(r){if(r[r.length-1]!=10)throw new Error(fqe.l10n.t("Unexpected message received from debugger."));let e=r.toString("utf-8",0,r.length-1);return JSON.parse(e)}var mxt=2*60*1e3,$N=class extends Ji{_runCounts;_debugCounts;_telemetryIntervalId=void 0;_eventStream;constructor(e,t,n){super(e,n),this._eventStream=t;let i=Ja.commands.registerCommand("dotnet.test.run",async(d,f,p)=>this.runDotnetTest(d,f,p)),o=Ja.commands.registerCommand("dotnet.test.debug",async(d,f,p)=>this.debugDotnetTest(d,f,p)),s=Ja.commands.registerCommand("dotnet.classTests.run",async(d,f,p,_)=>this.runDotnetTestsInClass(d,f,p,_)),a=Ja.commands.registerCommand("dotnet.classTests.debug",async(d,f,p,_)=>this.debugDotnetTestsInClass(d,f,p,_)),c=Ja.commands.registerTextEditorCommand("dotnet.test.runTestsInContext",async d=>this._runDotnetTestsInContext(d.document.fileName,d.selection.active,d.document.languageId)),u=Ja.commands.registerTextEditorCommand("dotnet.test.debugTestsInContext",async d=>this._debugDotnetTestsInContext(d.document.fileName,d.document.uri,d.selection.active,d.document.languageId));this._telemetryIntervalId=setInterval(()=>this._reportTelemetry(),mxt);let l=new yd(()=>{this._telemetryIntervalId!==void 0&&(clearInterval(this._telemetryIntervalId),this._telemetryIntervalId=void 0,this._reportTelemetry())});this.addDisposables(new mo(i,o,l,s,a,c,u))}_recordRunRequest(e){this._runCounts===void 0&&(this._runCounts={}),e===void 0&&(e="context");let t=this._runCounts[e];t?t+=1:t=1,this._runCounts[e]=t}_recordDebugRequest(e){this._debugCounts===void 0&&(this._debugCounts={}),e===void 0&&(e="context");let t=this._debugCounts[e];t?t+=1:t=1,this._debugCounts[e]=t}_reportTelemetry(){this._eventStream.post(new LH(this._debugCounts,this._runCounts)),this._runCounts=void 0,this._debugCounts=void 0}async _saveDirtyFiles(){return Promise.resolve(Ja.workspace.saveAll(!1))}async _runTest(e,t,n,i,o,s){let a={FileName:e,MethodName:t,RunSettings:n,TestFrameworkName:i,TargetFrameworkVersion:o,NoBuild:s};return(await aOe(this._server,a)).Results}async _recordRunAndGetFrameworkVersion(e,t){await this._saveDirtyFiles(),this._recordRunRequest(t);let n;try{n=await fM(this._server,{FileName:e})}catch{return}let i;if(n.MsBuildProject)i=n.MsBuildProject.TargetFramework;else throw new Error("Expected .csproj project.");return i}async discoverTests(e,t,n){let i=await this._recordRunAndGetFrameworkVersion(e,t),o=this._getRunSettings(e),s={FileName:e,RunSettings:o,TestFrameworkName:t,TargetFrameworkVersion:i,NoBuild:n};try{return(await Wxe(this._server,s)).Tests}catch{}}_getRunSettings(e){let t=ds.runSettingsPath;if(t.length===0)return;if(VN.isAbsolute(t))return t;let n=Ja.Uri.file(e),i=Ja.workspace.getWorkspaceFolder(n);if(i!==void 0)return VN.join(i.uri.fsPath,t)}async runDotnetTest(e,t,n,i=!1){this._eventStream.post(new WH(e));let o=this._server.onTestMessage(c=>{this._eventStream.post(new bm(c.Message))}),s=await this._recordRunAndGetFrameworkVersion(t,n),a=this._getRunSettings(t);try{let c=await this._runTest(t,e,a,n,s,i);this._eventStream.post(new fx(c))}catch(c){let u=c.message;this._eventStream.post(new DS(u))}finally{o.dispose()}}async runDotnetTestsInClass(e,t,n,i,o=!1){this._eventStream.post(new GH(e));let s=this._server.onTestMessage(u=>{this._eventStream.post(new bm(u.Message))}),a=await this._recordRunAndGetFrameworkVersion(n,i),c=this._getRunSettings(n);try{let u=await this._runTestsInClass(n,c,i,a,t,o);this._eventStream.post(new fx(u))}catch(u){let l=u.message;this._eventStream.post(new DS(l))}finally{s.dispose()}}async _runTestsInClass(e,t,n,i,o,s){let a={FileName:e,RunSettings:t,TestFrameworkName:n,TargetFrameworkVersion:i,MethodNames:o,NoBuild:s};return(await cOe(this._server,a)).Results}async _runDotnetTestsInContext(e,t,n){if(n!=="csharp"){this._eventStream.post(new bm(`${Ja.workspace.asRelativePath(e,!1)} is not a C# file, cannot run tests`));return}this._eventStream.post(new YH(Ja.workspace.asRelativePath(e,!1),t.line,t.character));let i=this._server.onTestMessage(c=>{this._eventStream.post(new bm(c.Message))}),o=await this._recordRunAndGetFrameworkVersion(e),s=this._getRunSettings(e),a={FileName:e,Line:t.line,Column:t.character,RunSettings:s,TargetFrameworkVersion:o};try{let c=await uOe(this._server,a);c.ContextHadNoTests?this._eventStream.post(new bm(c.Failure)):!c.Pass&&c.Results===null?this._eventStream.post(new DS(c.Failure)):this._eventStream.post(new fx(c.Results))}catch(c){let u=c.message;this._eventStream.post(new DS(u))}finally{i.dispose()}}_createLaunchConfiguration(e,t,n,i,o){let s=ds.unitTestDebuggingOptions,a;return typeof s=="object"?a=JSON.parse(JSON.stringify(s)):a={},{...a,type:a.type||"coreclr",name:".NET Test Launch",request:"launch",debuggerEventsPipeName:o,program:e,args:t,cwd:n,env:i}}async _getLaunchConfigurationForVSTest(e,t,n,i,o,s,a){let c=this._server.onTestMessage(l=>{this._eventStream.post(new bm(l.Message))}),u={FileName:e,MethodName:t,RunSettings:n,TestFrameworkName:i,TargetFrameworkVersion:o,NoBuild:a};try{let l=await lOe(this._server,u);return this._createLaunchConfiguration(l.FileName,l.Arguments,l.WorkingDirectory,l.EnvironmentVariables,s.pipePath())}finally{c.dispose()}}async _recordDebugAndGetDebugValues(e,t){await this._saveDirtyFiles(),this._recordDebugRequest(t);let n;try{n=await fM(this._server,{FileName:e})}catch{throw new Error("Could not determine project type.")}if(!n.MsBuildProject)throw new Error("Expected .csproj project.");let i=n.MsBuildProject.TargetFramework,o=new yoe(e,this._server,this._eventStream);return await o.start(),{debugEventListener:o,targetFrameworkVersion:i}}async debugDotnetTest(e,t,n,i=!1){this._eventStream.post(new $H(e));let{debugEventListener:o,targetFrameworkVersion:s}=await this._recordDebugAndGetDebugValues(t,n),a=this._getRunSettings(t);try{let c=await this._getLaunchConfigurationForVSTest(t,e,a,n,s,o,i),u=Ja.workspace.getWorkspaceFolder(Ja.Uri.file(t));return Ja.debug.startDebugging(u,c)}catch(c){let u=c.message;this._eventStream.post(new yM(u)),o.close()}}async debugDotnetTestsInClass(e,t,n,i,o=!1){this._eventStream.post(new KH(e));let{debugEventListener:s,targetFrameworkVersion:a}=await this._recordDebugAndGetDebugValues(n,i),c=this._getRunSettings(n);try{let u=await this._getLaunchConfigurationForVSTestClass(n,t,c,i,a,s,o),l=Ja.workspace.getWorkspaceFolder(Ja.Uri.file(n));return Ja.debug.startDebugging(l,u)}catch(u){let l=u.message;this._eventStream.post(new yM(l)),s.close()}}async _debugDotnetTestsInContext(e,t,n,i){if(i!=="csharp"){this._eventStream.post(new bm(`${Ja.workspace.asRelativePath(e,!1)} is not a C# file, cannot run tests`));return}this._eventStream.post(new JH(Ja.workspace.asRelativePath(e,!1),n.line,n.character));let{debugEventListener:o,targetFrameworkVersion:s}=await this._recordDebugAndGetDebugValues(e),a=this._getRunSettings(e);try{let c=await this._getLaunchConfigurationForVSTestInContext(e,n.line,n.character,a,s,o);if(c===null)return;let u=Ja.workspace.getWorkspaceFolder(t);return Ja.debug.startDebugging(u,c)}catch(c){let u=c.message;this._eventStream.post(new DS(u)),o.close()}}async _getLaunchConfigurationForVSTestClass(e,t,n,i,o,s,a){let c=this._server.onTestMessage(l=>{this._eventStream.post(new bm(l.Message))}),u={FileName:e,MethodNames:t,RunSettings:n,TestFrameworkName:i,TargetFrameworkVersion:o,NoBuild:a};try{let l=await dOe(this._server,u);return this._createLaunchConfiguration(l.FileName,l.Arguments,l.WorkingDirectory,l.EnvironmentVariables,s.pipePath())}finally{c.dispose()}}async _getLaunchConfigurationForVSTestInContext(e,t,n,i,o,s){let a=this._server.onTestMessage(u=>{this._eventStream.post(new bm(u.Message))}),c={FileName:e,Line:t,Column:n,RunSettings:i,TargetFrameworkVersion:o};try{let u=await fOe(this._server,c);return u.Succeeded?this._createLaunchConfiguration(u.FileName,u.Arguments,u.WorkingDirectory,u.EnvironmentVariables,s.pipePath()):(u.ContextHadNoTests?this._eventStream.post(new bm(u.FailureReason)):this._eventStream.post(new DS(u.FailureReason)),null)}finally{a.dispose()}}},yoe=class r{static s_activeInstance;_fileName;_server;_pipePath;_eventStream;_serverSocket;_isClosed=!1;constructor(e,t,n){if(this._fileName=e,this._server=t,this._eventStream=n,voe.platform()==="win32")this._pipePath="\\\\.\\pipe\\Microsoft.VSCode.CSharpExt.TestDebugEvents"+process.pid;else{let i=age();this._pipePath=VN.join(i,"muhammad-sammy.csharp-tde-"+process.pid)}}async start(){r.s_activeInstance!==void 0&&r.s_activeInstance.close(),r.s_activeInstance=this;let e=gqe.createServer(t=>{t.on("data",async n=>{let i;try{i=mqe(n)}catch{this._eventStream.post(new vM("Invalid event received from debugger"));return}switch(i.eventType){case hqe:{let o=i;this._eventStream.post(new VH(o.targetProcessId)),await this.onProcessLaunched(o.targetProcessId);break}case pqe:this._eventStream.post(new gB),await this.onDebuggingStopped();break}}),t.on("end",async()=>{await this.onDebuggingStopped()})});return this._serverSocket=e,await this.removeSocketFileIfExists(),new Promise((t,n)=>{e.on("error",i=>{e.listening?this._eventStream.post(new vM(`Communications error on debugger event channel. ${i.message}`)):n(i.message)}),e.listen(this._pipePath,()=>{t()})})}pipePath(){return this._pipePath}close(){this===r.s_activeInstance&&(r.s_activeInstance=void 0),!this._isClosed&&(this._isClosed=!0,this._serverSocket!==void 0&&this._serverSocket.close())}async onProcessLaunched(e){let t={FileName:this._fileName,TargetProcessId:e},n=this._server.onTestMessage(i=>{this._eventStream.post(new bm(i.Message))});try{await hOe(this._server,t)}finally{n.dispose()}}async onDebuggingStopped(){if(this._isClosed)return;let e={FileName:this._fileName};try{await pOe(this._server,e),this.close()}catch{return}}async removeSocketFileIfExists(){return voe.platform()==="win32"?Promise.resolve():lge(this._pipePath)}};var gO=ye(require("path"));var G$=class{constructor(e){this.server=e}async getWorkspaceDebugInformation(e){return this.server.isRunning()?(await CS(this.server)).MsBuild?.Projects.map(o=>{let s=nx(o.TargetFrameworks.map(a=>a.ShortName))!==void 0;return{projectPath:o.Path,outputPath:o.TargetPath,projectName:`${gO.basename(o.Path,".csproj")} (${o.Path})`,targetsDotnetCore:s,isExe:o.IsExe,isWebProject:o.IsWebProject,isBlazorWebAssemblyHosted:o.IsBlazorWebAssemblyHosted,isBlazorWebAssemblyStandalone:o.IsBlazorWebAssemblyStandalone,solutionPath:null}})?.filter(o=>{let s=gO.resolve(e.fsPath),a=gO.dirname(o.projectPath);return fge(a,s)}):void 0}};var vqe=ye(mT()),SD=ye(require("vscode"));var vO=class extends F0{constructor(t,n,i){super(n,i);this.workspaceDebugInfoProvider=t}async provideDebugConfigurations(t,n){if(!t||!t.uri)return Vi(SD,SD.l10n.t("Cannot create .NET debug configurations. No workspace folder was selected.")),[];try{let i=await this.workspaceDebugInfoProvider.getWorkspaceDebugInformation(t.uri);if(!i)return Vi(SD,SD.l10n.t("Cannot create .NET debug configurations. The server is still initializing or has exited unexpectedly.")),[];if(i.length===0)return Vi(SD,SD.l10n.t("Cannot create .NET debug configurations. The active C# project is not within folder '{0}'.",t.uri.fsPath)),[];let o=new wD(i,t);if(o.hasExecutableProjects()){if(!await o.selectStartupProject())return[];await vqe.ensureDir(o.vscodeFolder);let s=await HN(o);await BN(o,s);let a=o.computeProgramLaunchType();return o.createLaunchJsonConfigurationsArray(a,!1)}else throw new Error(SD.l10n.t("Does not contain .NET Core projects."))}catch{return[JFe(),JS(j$())]}}};function K$(r){let e={"platform.architecture":r.architecture,"platform.platform":r.platform};return r.distribution&&(e["platform.distribution"]=r.distribution.toTelemetryString()),e}var Y$=ye(require("crypto")),_qe=ye(yqe());function J$(r,e,t,n,i){let o="";n&&(o=gxt(n));let s=K$(e);s.SolutionId=o,s.ProjectId=r.ProjectId,s.SessionId=r.SessionId,s.OutputType=r.OutputKind?.toString()??"",s.ProjectCapabilities=r.ProjectCapabilities?.join(" ")??"",s.TargetFrameworks=r.TargetFrameworks.join("|"),s.References=r.References.join("|"),s.FileExtensions=r.FileExtensions.join("|"),s.FileCounts=r.FileCounts?.join("|")??"",s.NetSdkVersion=t?.Version??"",s.sdkStyleProject=r.SdkStyleProject.toString(),i&&(s.useModernNet=i.toString())}function gxt(r){let e=Y$.createHash("sha256").update(r).digest("hex"),t=(0,_qe.machineIdSync)(),n=Y$.createHash("sha256").update(t).digest("hex");return Y$.createHash("sha256").update(e+n).digest("hex")}var X$=class{reporter;platformInfo;solutionPath;dotnetInfo;useModernNet;constructor(e,t,n){this.platformInfo=e,this.reporter=t(),this.useModernNet=n}post=async e=>{let t=K$(this.platformInfo);switch(e.type){case 4:await this.handleOmnisharpInitialisation(e);break;case 7:this.reporter.sendTelemetryEvent("AcquisitionStart");break;case 10:this.handleInstallationFailure(e,t);break;case 50:this.handleInstallationSuccess(t);break;case 3:case 0:this.handleTelemetryEventMeasures(e);break;case 14:this.handleTestExecutionCountReport(e);break;case 1:{let n=e;this.reporter.sendTelemetryEvent(n.eventName,n.properties,n.measures);break}case 78:{let n=e;this.reporter.sendTelemetryErrorEvent(n.eventName,n.properties,n.measures,n.errorProps);break}case 74:this.handleProjectConfigurationReceived(e);break}};handleTelemetryEventMeasures(e){this.reporter.sendTelemetryEvent(e.eventName,void 0,e.measures)}async handleOmnisharpInitialisation(e){this.dotnetInfo=await dm(e.dotNetCliPaths),this.solutionPath=e.solutionPath}handleInstallationSuccess(e){e.installStage="completeSuccess",this.reporter.sendTelemetryEvent("AcquisitionSucceeded",e)}handleInstallationFailure(e,t){t.installStage=e.stage,e.error instanceof TT&&(t["error.message"]=e.error.message,t["error.packageUrl"]=e.error.pkg.url),this.reporter.sendTelemetryEvent("AcquisitionFailed",t)}handleTestExecutionCountReport(e){e.debugCounts&&this.reporter.sendTelemetryEvent("DebugTest",void 0,e.debugCounts),e.runCounts&&this.reporter.sendTelemetryEvent("RunTest",void 0,e.runCounts)}handleProjectConfigurationReceived(e){let t=e.projectConfiguration;J$(t,this.platformInfo,this.dotnetInfo,this.solutionPath??"",this.useModernNet)}};var PE=ye(require("vscode"));var Q$=require("util");function Z$(r,e){let t,n=r.pipe().subscribe(()=>{let i=e.getRelevantOptions(),o=vxt(i);t||(t=o);let s=i.changedCommonOptions.filter(u=>!(0,Q$.isDeepStrictEqual)(t.commonOptions.get(u),o.commonOptions.get(u))),a=i.changedLanguageServerOptions.filter(u=>!(0,Q$.isDeepStrictEqual)(t.languageServerOptions.get(u),o.languageServerOptions.get(u))),c=i.changedOmnisharpOptions.filter(u=>!(0,Q$.isDeepStrictEqual)(t.omnisharpOptions.get(u),o.omnisharpOptions.get(u)));t=o,(s.length>0||a.length>0||c.length>0)&&e.handleOptionChanges({changedCommonOptions:s,changedLanguageServerOptions:a,changedOmnisharpOptions:c})});return new yd(n)}function vxt(r){return{commonOptions:new Map(r.changedCommonOptions.map(e=>[e,ds[e]])),omnisharpOptions:new Map(r.changedOmnisharpOptions.map(e=>[e,qr[e]])),languageServerOptions:new Map(r.changedLanguageServerOptions.map(e=>[e,fs[e]]))}}function bqe(r){return Z$(r,{getRelevantOptions:()=>({changedCommonOptions:Vj,changedLanguageServerOptions:[],changedOmnisharpOptions:TSe}),handleOptionChanges(n){if(n.changedCommonOptions.find(s=>s==="useOmnisharpServer")){let s={title:PE.l10n.t("Reload Window"),command:"workbench.action.reloadWindow"};Ca(PE,PE.l10n.t("dotnet.server.useOmnisharp option has changed. Please reload the window to apply the change"),s);return}let i=PE.l10n.t("C# configuration has changed. Would you like to relaunch the Language Server with your changes?"),o={title:PE.l10n.t("Restart Language Server"),command:"o.restart"};Ca(PE,i,o)}})}var e3=class extends nh{post=e=>{switch(e.type){case 48:this.logger.appendLine("Warning: project.json is no longer a supported project format for .NET Core applications. Update to the latest version of .NET Core (https://aka.ms/netcoredownload) and use 'dotnet migrate' to upgrade your project (see https://aka.ms/netcoremigrate for details).");break;case 35:this.handleDocumentSynchronizationFailure(e);break;case 45:this.logger.appendLine("Getting latest OmniSharp version information");break}};handleDocumentSynchronizationFailure(e){this.logger.appendLine(`Failed to synchronize document '${e.documentPath}': ${e.errorMessage}`)}};async function wqe(r,e,t,n,i,o,s,a,c){Xa.commands.executeCommand("setContext","dotnet.server.activationContext","OmniSharp");let u=qr.useModernNet,l=new X$(e,()=>c,u);i.subscribe(l.post);let d=new e3(o);i.subscribe(d.post);let f=new iH(a),p=new oH(a);i.subscribe(f.post),i.subscribe(p.post);let _=new pM(s),D=new hM(s);i.subscribe(_.post),i.subscribe(D.post);let P=Xa.window.createOutputChannel(Xa.l10n.t("OmniSharp Log")),M=new aH(P,e),A=new cH(P);i.subscribe(M.post),i.subscribe(A.post);let U=new uH(Xa,()=>qr.disableMSBuildDiagnosticWarning||!1);i.subscribe(U.post);let ne=new lH(Xa);i.subscribe(ne.post);let pe=new fH(Xa);i.subscribe(pe.post);let ve=new cx(Xa.window.createStatusBarItem("C#-Language-Service-Status",Xa.StatusBarAlignment.Left,Number.MIN_VALUE+2));ve.name="C# Language Service Status";let V=new hH(ve);i.subscribe(V.post);let W=new cx(Xa.window.createStatusBarItem("C#-Project-Selector",Xa.StatusBarAlignment.Left,Number.MIN_VALUE+1));W.name="C# Project Selector";let ee=new pH(W);i.subscribe(ee.post);let De=new cx(Xa.window.createStatusBarItem("C#-Code-Analysis",Xa.StatusBarAlignment.Left,Number.MIN_VALUE));De.name="C# Code Analysis";let ae=new mH(De);if(i.subscribe(ae.post),!1){let Me=new vH(P);i.subscribe(Me.post)}let Fe=new yH(o);return i.subscribe(Fe.post),rh.razorDevMode||await new _H(n,i,r.extension.packageJSON,e,r.extension.extensionPath).DownloadAndInstallRazorOmnisharp(r.extension.packageJSON.defaults.razorOmnisharp),bqe(t),r.subscriptions.push(Xa.window.onDidChangeActiveTextEditor(()=>{i.post(new dB)})),yxt(r,r.extension.packageJSON,e,n,i,r.extension.extensionPath,P)}async function yxt(r,e,t,n,i,o,s){let a=new mo,c=new ux(W$),u=new wH(t),l=new CH;l.register(),a.add(l);let d=new V$(Xa,n,e,t,i,o,c,u,r,s,l),f=new k$(d),p=new $N(d,i,l),_=new G$(d),D;return a.add(d.onServerStart(async()=>{D=await d.registerProviders(i,f,p)})),a.add(d.onServerStop(()=>{D?.dispose(),D=void 0})),a.add(poe(r,d,t,i,c,u,_)),a.add(d.onServerStart(async()=>{await z$(r,_)})),Xa.workspace.getConfiguration("csharp").get("suppressProjectJsonWarning")||a.add(d.onServerStart(async()=>{await CS(d).then(M=>{if(M.DotNet&&M.DotNet.Projects.length>0){let A=Xa.l10n.t("project.json is no longer a supported project format for .NET Core applications."),U=Xa.l10n.t("More Detail");i.post(new cB),pp(Xa,A,U)}})})),a.add(d.onServerStart(async()=>{let M={};await CS(d).then(A=>{A.DotNet&&A.DotNet.Projects.length>0&&(M["projectjson.projectcount"]=A.DotNet.Projects.length,M["projectjson.filecount"]=v1(A.DotNet.Projects,U=>S8(U.SourceFiles))),A.MsBuild&&A.MsBuild.Projects.length>0&&(M["msbuild.projectcount"]=A.MsBuild.Projects.length,M["msbuild.filecount"]=v1(A.MsBuild.Projects,U=>S8(U.SourceFiles)),M["msbuild.unityprojectcount"]=v1(A.MsBuild.Projects,U=>U.IsUnityProject?1:0),M["msbuild.netcoreprojectcount"]=v1(A.MsBuild.Projects,U=>SOe(U)?1:0)),i.post(new OH("OmniSharp.Start",M))})})),a.add(d.onBeforeServerStart(async M=>{rh.razorDevMode&&i.post(new iB),await r.workspaceState.update("lastSolutionPathOrFolder",M)})),qr.autoStart&&d.autoStart(r.workspaceState.get("lastSolutionPathOrFolder","")).catch(M=>{throw M}),a.add(new yd(()=>{p.dispose(),f.dispose(),d.stop().catch(M=>console.error(M))})),a.add(Xa.debug.registerDebugConfigurationProvider("coreclr",new vO(_,t,s))),r.subscriptions.push(a),new Promise(M=>d.onServerStart(A=>M({server:d,advisor:f,testManager:p})))}var vVe=ye(require("fs")),yVe=ye(cWe()),gfe=ye(require("path")),aR=ye(require("vscode"));var pVe=ye(require("path")),mVe=ye(require("vscode"));var fC=ye(require("vscode")),eq=ye(en());var uWe=ye(require("vscode"));var T_=(s=>(s[s.added=0]="added",s[s.removed=1]="removed",s[s.opened=2]="opened",s[s.closed=3]="closed",s[s.csharpChanged=4]="csharpChanged",s[s.htmlChanged=5]="htmlChanged",s))(T_||{});function Ei(r){let e=r;if(r.authority&&r.scheme==="file"){let t=r.authority.toLowerCase();e=r.with({authority:t})}return e.fsPath||e.path}var D_=class{constructor(e,t,n){this.documentManager=e;this.logger=n;e.onChange(i=>this.documentChanged(i)),this.onDidChangeEmitter=t.create()}static scheme="virtualCSharp-razor";onDidChangeEmitter;get onDidChange(){return this.onDidChangeEmitter.event}provideTextDocumentContent(e){let t=this.findRazorDocument(e);return t?`${t.csharpDocument.getContent()}
// ${t.csharpDocument.hostDocumentSyncVersion}`:(this.logger.traceEnabled&&this.logger.logTrace(`Could not find document '${Ei(e)}' when updating the C# buffer. This typically happens when a document is removed.`),"")}ensureDocumentContent(e){this.onDidChangeEmitter.fire(e)}documentChanged(e){(e.kind===4||e.kind===2||e.kind===1)&&this.onDidChangeEmitter.fire(e.document.csharpDocument.uri)}findRazorDocument(e){let t=Ei(e);return this.documentManager.documents.find(n=>n.csharpDocument.path.localeCompare(t,void 0,{sensitivity:"base"})===0)}};var Ni=class{static serialize(e){if(e.scheme===D_.scheme){let n=e.with({scheme:"file"}).toString(!0);return e.scheme+n.slice(4)}else return e.toString(!0)}static deserialize(e){return uWe.Uri.parse(e,!0)}};var Ug=ye(require("vscode")),ms=ye(pN()),yqt="roslyn.changeRazorCSharp",_qt="roslyn.closeRazorCSharp",sde="roslyn.pullDiagnosticRazorCSharp",ade="roslyn.provideCodeActions",cde="roslyn.resolveCodeAction",ude="roslyn.provideCompletions",lde="roslyn.resolveCompletion";var dde="roslyn.simplifyMethod",fde="roslyn.formatNewFile",hde="razor.initialize",pde="roslyn.provideInlayHints",mde="roslyn.resolveInlayHint";function lWe(r,e){r.subscriptions.push(Ug.commands.registerCommand(yqt,async n=>{await e.sendNotification(ms.DidChangeTextDocumentNotification.method,n)})),r.subscriptions.push(Ug.commands.registerCommand(_qt,async n=>{await e.sendNotification(ms.DidCloseTextDocumentNotification.method,n)})),r.subscriptions.push(Ug.commands.registerCommand(sde,async n=>{let i=new ms.RequestType(ms.DocumentDiagnosticRequest.method);return await e.sendRequest(i,n,ms.CancellationToken.None)})),r.subscriptions.push(Ug.commands.registerCommand(dde,async n=>{let i=new ms.RequestType("roslyn/simplifyMethod");return await e.sendRequest(i,n,ms.CancellationToken.None)}));let t=new ms.RequestType("roslyn/formatNewFile");r.subscriptions.push(Ug.commands.registerCommand(fde,async n=>await e.sendRequest(t,n,ms.CancellationToken.None))),r.subscriptions.push(Ug.commands.registerCommand(ade,async n=>await e.sendRequest(ms.CodeActionRequest.type,n,ms.CancellationToken.None))),r.subscriptions.push(Ug.commands.registerCommand(cde,async n=>await e.sendRequest(ms.CodeActionResolveRequest.type,n,ms.CancellationToken.None))),r.subscriptions.push(Ug.commands.registerCommand(pde,async n=>await e.sendRequest(ms.InlayHintRequest.type,n,ms.CancellationToken.None))),r.subscriptions.push(Ug.commands.registerCommand(mde,async n=>await e.sendRequest(ms.InlayHintResolveRequest.type,n,ms.CancellationToken.None))),r.subscriptions.push(Ug.commands.registerCommand(ude,async n=>await e.sendRequest(ms.CompletionRequest.type,n,ms.CancellationToken.None))),r.subscriptions.push(Ug.commands.registerCommand(lde,async n=>await e.sendRequest(ms.CompletionResolveRequest.type,n,ms.CancellationToken.None))),r.subscriptions.push(Ug.commands.registerCommand(hde,async n=>{await e.sendNotification("razor/initialize",{pipeName:n})}))}var Y4=class r{constructor(e,t,n,i){this.documentManager=e;this.documentSynchronizer=t;this.serverClient=n;this.logger=i}static provideCodeActionsEndpoint="razor/provideCodeActions";static resolveCodeActionsEndpoint="razor/resolveCodeActions";codeActionRequestType=new eq.RequestType(r.provideCodeActionsEndpoint);codeActionResolveRequestType=new eq.RequestType(r.resolveCodeActionsEndpoint);emptyCodeActionResponse=[];emptyCodeAction={};async register(){await this.serverClient.onRequestWithParams(this.codeActionRequestType,async(e,t)=>this.provideCodeActions(e,t)),await this.serverClient.onRequestWithParams(this.codeActionResolveRequestType,async(e,t)=>this.resolveCodeAction(e,t))}async provideCodeActions(e,t){try{let n=e.codeActionParams,i=fC.Uri.parse(n.textDocument.uri,!0),o=await this.documentManager.getDocument(i);if(o===void 0)return this.emptyCodeActionResponse;if(e.languageKind!==1)return this.emptyCodeActionResponse;if(!this.documentManager.roslynActivated)return this.emptyCodeActionResponse;let s=await fC.workspace.openTextDocument(i);if(!await this.documentSynchronizer.trySynchronizeProjectedDocument(s,o.csharpDocument,e.hostDocumentVersion,t))return this.emptyCodeActionResponse;let c=Ni.serialize(o.csharpDocument.uri);return n.textDocument=eq.TextDocumentIdentifier.create(c),await fC.commands.executeCommand(ade,n)}catch(n){this.logger.logWarning(`${r.provideCodeActionsEndpoint} failed with ${n}`)}return this.emptyCodeActionResponse}async resolveCodeAction(e,t){try{let n=e.codeAction,i=fC.Uri.parse(e.identifier.uri,!0),o=await this.documentManager.getDocument(i);if(o===void 0)return this.emptyCodeAction;if(e.languageKind!==1)return this.emptyCodeAction;let s=await fC.workspace.openTextDocument(o.uri);return await this.documentSynchronizer.trySynchronizeProjectedDocument(s,o.csharpDocument,e.hostDocumentVersion,t)?await fC.commands.executeCommand(cde,n):this.emptyCodeAction}catch(n){this.logger.logWarning(`${r.resolveCodeActionsEndpoint} failed with ${n}`)}return this.emptyCodeAction}};var sy=ye(require("vscode")),R_=ye(en());var VI=class r{constructor(e,t,n,i,o){this.documentManager=e;this.documentSynchronizer=t;this.serverClient=n;this.projectedCSharpProvider=i;this.logger=o}static completionEndpoint="razor/completion";static completionResolveEndpoint="razor/completionItem/resolve";completionRequestType=new R_.RequestType(r.completionEndpoint);completionResolveRequestType=new R_.RequestType(r.completionResolveEndpoint);static emptyCompletionList={items:new Array(0)};static emptyCompletionItem={};async register(){await this.serverClient.onRequestWithParams(this.completionRequestType,async(e,t)=>this.provideCompletions(e,t)),await this.serverClient.onRequestWithParams(this.completionResolveRequestType,async(e,t)=>this.provideResolvedCompletionItem(e,t))}async provideCompletions(e,t){try{let n=sy.Uri.parse(e.identifier.textDocumentIdentifier.uri,!0),i=await this.documentManager.getDocument(n);if(i===void 0)return r.emptyCompletionList;let o=await sy.workspace.openTextDocument(n),s;if(e.projectedKind===2)s=i.htmlDocument;else if(e.projectedKind===1)s=i.csharpDocument;else return this.logger.logWarning(`Unknown language kind value ${e.projectedKind}`),r.emptyCompletionList;if(!s)return this.logger.logWarning(`Null or undefined virtual document: ${s}`),r.emptyCompletionList;if(!await this.documentSynchronizer.trySynchronizeProjectedDocument(o,s,e.identifier.version,t))return r.emptyCompletionList;let c=e.context.triggerCharacter==="@"?void 0:e.context.triggerCharacter,u=e.context.triggerCharacter==="@"?R_.CompletionTriggerKind.Invoked:e.context.triggerKind;return e.projectedKind===1?this.provideCSharpCompletions(u,c,s,e.projectedPosition,e.provisionalTextEdit):r.provideVscodeCompletions(s.uri,e.projectedPosition,c)}catch(n){this.logger.logWarning(`${r.completionEndpoint} failed with ${n}`)}return r.emptyCompletionList}async provideResolvedCompletionItem(e,t){let n=sy.Uri.parse(e.identifier.textDocumentIdentifier.uri,!0),o=(await this.documentManager.getDocument(n)).csharpDocument,s=o.getProvisionalDotPosition();try{if(e.originatingKind!=1||e.completionItem.data.TextDocument==null)return e.completionItem;{o.ensureResolveProvisionalDot()&&s!==void 0&&await this.ensureProvisionalDotUpdatedInCSharpDocument(o.uri,s);let a=await sy.commands.executeCommand(lde,e.completionItem);return a||e.completionItem}}catch(a){this.logger.logWarning(`${r.completionResolveEndpoint} failed with ${a}`)}finally{o.removeResolveProvisionalDot()&&s!==void 0&&await this.ensureProvisionalDotUpdatedInCSharpDocument(o.uri,s,!0)}return r.emptyCompletionItem}async provideCSharpCompletions(e,t,n,i,o){let s=r.getIndexOfPosition(n,i);try{if(n.clearResolveCompletionRequestVariables(),o){if(s===-1)return r.emptyCompletionList;n.addProvisionalDotAt(s),n.setProvisionalDotPosition(i),await this.ensureProvisionalDotUpdatedInCSharpDocument(n.uri,i)}let a=Ni.serialize(n.uri),c={context:{triggerKind:e,triggerCharacter:t},textDocument:{uri:a},position:i},u=await sy.commands.executeCommand(ude,c);return u?(r.adjustCSharpCompletionList(u,t),u):r.emptyCompletionList}catch(a){this.logger.logWarning(`${r.completionEndpoint} failed with ${a}`)}finally{o&&n.removeProvisionalDot()&&await this.ensureProvisionalDotUpdatedInCSharpDocument(n.uri,i,!0)}return r.emptyCompletionList}async ensureProvisionalDotUpdatedInCSharpDocument(e,t,n=!1){this.projectedCSharpProvider.ensureDocumentContent(e),await this.waitForDocumentChange(e,t,n)}async waitForDocumentChange(e,t,n){return new Promise(i=>{let o=sy.workspace.onDidChangeTextDocument(s=>{let a=n?"":".";s.document.uri.toString()===e.toString()&&s.contentChanges.some(u=>u.range.start.character<=t.character&&u.range.start.line===t.line&&u.range.end.character+1>=t.character&&u.range.end.line===t.line&&u.text===a)&&(i(),o.dispose())})})}static adjustCSharpCompletionList(e,t){let n=e.itemDefaults?.data;for(let i of e.items)i.textEdit=void 0,t==="@"&&i.commitCharacters&&(i.commitCharacters=i.commitCharacters.filter(o=>o!=="{"&&o!=="("&&o!=="*")),i.label.toString().includes("\u2605")&&i.textEditText&&(i.insertText=i.textEditText),i.data||(i.data=n)}static getIndexOfPosition(e,t){let n=e.getContent(),i=0,o=0;for(;i<t.line&&o<n.length;){let a=n[o];a==="\r"?(i++,o+1<n.length&&n[o+1]===`
`&&o++):a===`
`&&i++,o++}return i!==t.line?-1:o+t.character-1}static async provideVscodeCompletions(e,t,n){let i=await sy.commands.executeCommand("vscode.executeCompletionItemProvider",e,t,n),o=i instanceof Array?i:i?i.items:[],s=new Array(o.length);for(let u=0;u<o.length;u++){let l=o[u],d={command:l.command,commitCharacters:l.commitCharacters,detail:l.detail,documentation:r.toMarkupContent(l.documentation),filterText:l.filterText,insertText:r.toLspInsertText(l.insertText),insertTextFormat:r.toLspInsertTextFormat(l.insertText),insertTextMode:r.toInsertTextMode(l.keepWhitespace),kind:l.kind?l.kind+1:l.kind,label:r.toLspCompletionItemLabel(l.label),preselect:l.preselect,sortText:l.sortText,textEdit:r.toLspTextEdit(r.toLspInsertText(l.insertText),l.range)};s[u]=d}return{isIncomplete:i instanceof Array?!1:i?i.isIncomplete:!1,items:s}}static toMarkupContent(e){let t=e;return t?.value?{value:t.value,kind:"markdown"}:e}static toLspCompletionItemLabel(e){return e?.label??e}static toLspInsertText(e){return e?.value??e}static toLspInsertTextFormat(e){return e instanceof sy.SnippetString?R_.InsertTextFormat.Snippet:R_.InsertTextFormat.PlainText}static toInsertTextMode(e){return e===void 0?void 0:e?R_.InsertTextMode.asIs:R_.InsertTextMode.adjustIndentation}static toLspTextEdit(e,t){if(!t)return;e||(e="");let n=t.inserting,i=t.replacing;return n||i?!n||!i?void 0:{newText:e,insert:r.toLspRange(n),replace:r.toLspRange(i)}:{newText:e,range:this.toLspRange(t)}}static toLspRange(e){return{start:r.toLspPosition(e.start),end:r.toLspPosition(e.end)}}static toLspPosition(e){return{line:e.line,character:e.character}}};var rq=ye(require("vscode"));var hC=ye(require("vscode"));var hWe=ye(require("vscode"));var fWe=ye(require("vscode"));var dWe=ye(require("vscode"));function gde(r){return{line:r.line,character:r.character}}function vde(r){return new dWe.Position(r.line,r.character)}function lw(r){return{start:gde(r.start),end:gde(r.end)}}function J4(r){return new fWe.Range(vde(r.start),vde(r.end))}function tq(r){return{range:lw(r.range),newText:r.newText}}function yde(r){return new hWe.TextEdit(J4(r.range),r.newText)}function _de(r){let e=new hC.WorkspaceEdit;if(Array.isArray(r.documentChanges))for(let t of r.documentChanges)if(t.kind==="create"){let n=t;e.createFile(hC.Uri.parse(n.uri),n.options)}else if(t.kind==="rename"){let n=t;e.renameFile(hC.Uri.parse(n.oldUri),hC.Uri.parse(n.newUri),n.options)}else if(t.kind==="delete"){let n=t;e.deleteFile(hC.Uri.parse(n.uri),n.options)}else{let n=t,i=n.edits.map(yde);e.set(hC.Uri.parse(n.textDocument.uri),i)}if(r.changes!==void 0)for(let t in r.changes){if(!Object.prototype.hasOwnProperty.call(r.changes,t))continue;let n=r.changes[t].map(yde);e.set(hC.Uri.parse(t),n)}return e}var X4=class r{constructor(e,t){this.serverClient=e;this.logger=t}static codeActionResolveEndpoint="textDocument/codeActionResolve";static razorCodeActionRunnerCommand="razor/runCodeAction";register(){return rq.commands.registerCommand(r.razorCodeActionRunnerCommand,async e=>this.runCodeAction(e),this)}async runCodeAction(e){let t=await this.serverClient.sendRequest(r.codeActionResolveEndpoint,{data:e,title:e.action}),n,i;try{n=_de({changes:t.edit.changes}),i=_de({documentChanges:t.edit.documentChanges})}catch(o){return this.logger.logError(`Unexpected error deserializing code action for ${e.action}`,o),Promise.resolve(!1)}return rq.workspace.applyEdit(i).then(()=>rq.workspace.applyEdit(n))}};var dw=ye(require("vscode"));var Dc=class{constructor(e,t,n,i){this.documentSynchronizer=e;this.documentManager=t;this.serviceClient=n;this.logger=i}async getProjection(e,t,n){let i=await this.serviceClient.languageQuery(t,e.uri);switch(i.kind){case 1:case 2:{let o=await this.documentManager.getDocument(e.uri),s=i.kind===1?o.csharpDocument:o.htmlDocument;if(i.hostDocumentVersion===void 0)this.logger.traceEnabled&&this.logger.logTrace(`Could not find a document version associated with the document '${Ei(e.uri)}'.`);else if(!await this.documentSynchronizer.trySynchronizeProjectedDocument(e,s,i.hostDocumentVersion,n))return null;return{uri:s.uri,position:i.position,languageKind:i.kind,hostDocumentVersion:s.hostDocumentSyncVersion}}default:return null}}};var pWe=ye(require("vscode")),nq=class extends pWe.CodeLens{constructor(t,n,i,o){super(t,o);this.uri=n;this.document=i}};var GI=ye(require("vscode"));var mWe=ye(require("vscode"));var eR="__virtual.html",iq="__virtual.cs",bqt=`__bg${iq}`;function pC(r){return Ei(r).endsWith(iq)}function Q4(r){return Ei(r).endsWith(eR)}function tR(r){let t=Ei(r).replace(bqt,"");return t=t.replace(iq,""),t=t.replace(eR,""),mWe.Uri.file(t)}var ay=class r{static language="Razor";static async remapGeneratedFileWorkspaceEdit(e,t,n,i){let o=new Map;for(let a of e.entries()){let c=a[0],u=a[1];if(!pC(c)){o.set(c,u);continue}let l=tR(c);for(let d of u){let f=await r.remapGeneratedFileTextEdit(l,d,t,n,i);f&&this.addElementToDictionary(o,l,f)}}return this.mapToTextEdit(o)}static async remapGeneratedFileTextEdit(e,t,n,i,o){let s=await n.mapToDocumentRanges(1,[t.range],e);if(!s||!s.ranges||!s.ranges[0]){i.logWarning(`Unable to remap file ${e.path} at ${t.range}.`);return}else{let a=new GI.TextEdit(s.ranges[0],t.newText);return i.logTrace(`Re-mapping text ${t.newText} at ${t.range} in ${e.path} to ${s.ranges[0]} in ${e.path}`),a}}static async remapGeneratedFileLocation(e,t,n,i){if(!pC(e.uri))return e;let o=tR(e.uri),s=await t.mapToDocumentRanges(1,[e.range],o);if(!s||!s.ranges||!s.ranges[0]){n.logWarning(`Unable to remap file ${e.uri.path} at ${e.range}.`);return}return n.logTrace(`Re-mapping location ${e.range} in ${e.uri.path} to ${s.ranges[0]} in ${o.path}`),new GI.Location(o,s.ranges[0])}static async remapGeneratedFileLocations(e,t,n,i){let o=[];for(let s of e){let a=await this.remapGeneratedFileLocation(s,t,n,i);a!==void 0&&o.push(a)}return o}static mapToTextEdit(e){let t=new GI.WorkspaceEdit;return e.forEach((n,i)=>{t.set(i,n)}),t}static addElementToDictionary(e,t,n){let i;if(e.has(t))i=e.get(t),i&&i.push(n);else{let o=new Array;o.push(n),e.set(t,o)}}};var Z4=class extends Dc{onDidChangeCodeLenses;constructor(e,t,n,i){super(e,t,n,i);let o=new dw.EventEmitter;this.onDidChangeCodeLenses=o.event,t.onChange(async s=>{if(s.kind!==0)return;dw.workspace.textDocuments.filter(c=>!c.isClosed).map(c=>c.uri).includes(s.document.uri)&&(await new Promise(c=>setTimeout(c,5e3)),o.fire())}),t.onRazorInitialized(()=>o.fire())}async provideCodeLenses(e,t){try{if(!this.documentManager.razorDocumentGenerationInitialized)return;let n=await this.documentManager.getDocument(e.uri);if(!n)return;let i=n.csharpDocument,o=await dw.commands.executeCommand("vscode.executeCodeLensProvider",i.uri);if(!o)return;let s=new Array;for(let a of o){let c=await this.serviceClient.mapToDocumentRanges(1,[a.range],n.uri);if(c&&c.ranges.length>0){let u=new nq(c.ranges[0],n.uri,e,a.command);s.push(u)}}return s}catch(n){return this.logger.logWarning(`provideCodeLens failed with ${n}`),[]}}async resolveCodeLens(e,t){if(e instanceof nq)return this.resolveRazorCodeLens(e,t)}async resolveRazorCodeLens(e,t){e.command={title:"",command:"",arguments:[]};try{let n=await this.documentManager.getDocument(e.uri);if(!n)return e;let i=await this.getProjection(e.document,e.range.start,t);if(!i||i.languageKind!==1)return e;let o=await dw.commands.executeCommand("vscode.executeReferenceProvider",i.uri,i.position),s=await ay.remapGeneratedFileLocations(o,this.serviceClient,this.logger,t),a=s.length;return e.command={title:a===1?dw.l10n.t("1 reference"):dw.l10n.t("{0} references",a),command:"editor.action.showReferences",arguments:[n.uri,e.range.start,s]},e}catch(n){return this.logger.logWarning(`resolveCodeLens failed with ${n}`),e}}};var YI=ye(require("vscode")),gWe=ye(cl());var e6=class{constructor(e,t){this.uri=e;this.range=t}};var t6=class{constructor(e,t,n){this.label=e;this.textEdit=t;this.additionalTextEdits=n}};var KI=class r{constructor(e,t,n){this.documentManager=e;this.serverClient=t;this.logger=n}static provideHtmlColorPresentation="razor/provideHtmlColorPresentation";colorPresentationRequestType=new gWe.RequestType(r.provideHtmlColorPresentation);emptyColorInformationResponse=[];async register(){await this.serverClient.onRequestWithParams(this.colorPresentationRequestType,async(e,t)=>this.provideHtmlColorPresentation(e,t))}async provideHtmlColorPresentation(e,t){try{let n=YI.Uri.parse(`${e.textDocument.uri}`,!0),i=await this.documentManager.getDocument(n);if(i===void 0)return this.logger.logWarning(`Could not find Razor document ${n}; returning empty color information.`),this.emptyColorInformationResponse;let o=i.htmlDocument.uri;return await r.doColorPresentationRequest(o,e)}catch(n){this.logger.logWarning(`${r.provideHtmlColorPresentation} failed with ${n}`)}return this.emptyColorInformationResponse}static async doColorPresentationRequest(e,t){let n=new YI.Color(t.color.red,t.color.green,t.color.blue,t.color.alpha),i=await YI.commands.executeCommand("vscode.executeColorPresentationProvider",n,new e6(e,t.range));return r.SerializeColorPresentations(i)}static SerializeColorPresentations(e){let t=new Array;for(let n of e){let i=null,o=new Array;if(n.textEdit&&(i=tq(n.textEdit)),n.additionalTextEdits)for(let a of n.additionalTextEdits){let c=tq(a);o.push(c)}let s=new t6(n.label,i,o);t.push(s)}return t}};var mC=ye(require("vscode"));var yf=ye(require("vscode"));var oq=class r{constructor(e){this.documentManager=e;e.onChange(async t=>this.documentChanged(t))}static viewType="razorCSharpPreview";panel;csharpContent;async show(){this.panel?this.panel.reveal(yf.ViewColumn.Two):(this.panel=yf.window.createWebviewPanel(r.viewType,yf.l10n.t("Razor C# Preview"),yf.ViewColumn.Two,{enableScripts:!0,localResourceRoots:[]}),this.attachToCurrentPanel()),await this.update()}async revive(e){this.panel=e,this.attachToCurrentPanel(),await this.update()}async documentChanged(e){this.panel&&(e.kind===4||e.kind===2||e.kind===3)&&await this.update()}attachToCurrentPanel(){if(!this.panel){Vi(yf,yf.l10n.t("Unexpected error when attaching to C# preview window."));return}this.panel.webview.onDidReceiveMessage(async e=>{switch(e.command){case"copy":if(!this.csharpContent)return;await yf.env.clipboard.writeText(this.csharpContent),Ca(yf,yf.l10n.t("Razor C# copied to clipboard"));return}}),this.panel.onDidDispose(()=>this.panel=void 0)}async update(){if(!this.panel)return;let e=await this.documentManager.getActiveDocument(),t="",n="";e?(this.csharpContent=e.csharpDocument.getContent(),t=Ei(e.uri),n=Ei(e.csharpDocument.uri)):this.csharpContent=void 0;let i=this.csharpContent?this.csharpContent:"";i=i.replace(/</g,"&lt;").replace(/</g,"&gt;");let o=yf.l10n.t("Report a Razor issue"),s=yf.l10n.t("Host document file path"),a=yf.l10n.t("Virtual document file path"),c=yf.l10n.t("Copy C#");this.panel.webview.html=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${o}</title>
    <style>
        button {
            background-color: #eff3f6;
            background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);
            color: #24292e;
            border: 1px solid rgba(27,31,35,.2);
            border-radius: .25em;
            font-size: 1.1em;
            font-weight: 600;
            line-height: 18px;
            padding: 6px 12px;
            vertical-align: middle;
            cursor: pointer;
        }
        button:focus-visible {
            outline-color: var(--vscode-focusBorder)
        }
    </style>

    <script type="text/javascript">
        const vscode = acquireVsCodeApi();
        function copy() {
            vscode.postMessage({
                command: 'copy'
            });
        }
    </script>
</head>
<body>
    <p>${s}: <strong>${t}</strong></p>
    <p>${a}: <strong>${n}</strong></p
    <p><button onclick="copy()">${c}</button></p>
    <hr />
    <pre>${i}</pre>
</body>
</html>`}};var r6=class{projectionProvider;csharpPreviewPanel;constructor(e,t,n){this.projectionProvider=new D_(e,t,n),this.csharpPreviewPanel=new oq(e)}register(){let e=[mC.workspace.registerTextDocumentContentProvider(D_.scheme,this.projectionProvider),mC.commands.registerCommand("extension.showRazorCSharpWindow",async()=>this.csharpPreviewPanel.show())];return mC.window.registerWebviewPanelSerializer&&e.push(mC.window.registerWebviewPanelSerializer(oq.viewType,{deserializeWebviewPanel:async t=>{await this.csharpPreviewPanel.revive(t)}})),mC.Disposable.from(...e)}};var i6=ye(require("vscode"));var n6=class extends Dc{async provideDefinition(e,t,n){let i=await this.getProjection(e,t,n);if(!i||i.languageKind===3)return;let o=await i6.commands.executeCommand("vscode.executeDefinitionProvider",i.uri,i.position),s=new Array;for(let a of o)if(i.languageKind===2&&Q4(a.uri)){let c=tR(a.uri);s.push(new i6.Location(c,a.range))}else if(pC(a.uri)){let c=await ay.remapGeneratedFileLocation(a,this.serviceClient,this.logger,n);if(c===void 0)continue;s.push(c)}else s.push(a);return s}};var yWe=ye(require("child_process")),o6=ye(require("os")),Bo=ye(require("vscode"));var vWe="muhammad-sammy.csharp";var s6=class{constructor(e,t,n){this.vscodeApi=e;this.documentManager=t;this.cohostingDocumentManager=n}async create(e){let t,n,i;if(t=Bo.l10n.t("Non Razor file as active document"),n=Bo.l10n.t("Could not determine CSharp content"),i=Bo.l10n.t("Could not determine Html content"),e.document){if(t=await this.getRazor(e.document),this.documentManager){let be=await this.documentManager.getDocument(e.document.uri);n=await this.getProjectedCSharp(be),i=await this.getProjectedHtml(be)}else if(this.cohostingDocumentManager){n=Bo.l10n.t("Cohosting is on, client has no access to CSharp content");let be=await this.cohostingDocumentManager.getDocument(e.document.uri);be&&(i=be.getContent())}}let o=this.getExtensionVersion(),s="";try{s=await this.getDotnetInfo()}catch(be){s=Bo.l10n.t("A valid dotnet installation could not be found: {0}",be?.toString())}let a=this.generateExtensionTable(),c=this.sanitize(e.logOutput),u=this.sanitize(t),l=this.sanitize(n),d=this.sanitize(i),f=this.sanitize(s),p=Bo.l10n.t("Is this a Bug or Feature request?"),_=Bo.l10n.t("Bug"),D=Bo.l10n.t("Steps to reproduce"),P=Bo.l10n.t("Please fill in this section"),M=Bo.l10n.t("Description of the problem"),A=Bo.l10n.t("Expected behavior"),U=Bo.l10n.t("Actual behavior"),ne=Bo.l10n.t("Logs"),pe=Bo.l10n.t("OmniSharp"),ve=Bo.l10n.t(`To find the OmniSharp log, open VS Code's "Output" pane, then in the dropdown choose "OmniSharp Log".`),V=Bo.l10n.t("Razor"),W=Bo.l10n.t("Expand"),ee=Bo.l10n.t("Workspace information"),De=Bo.l10n.t("Razor document"),ae=Bo.l10n.t("Projected CSharp document"),ue=Bo.l10n.t("Projected Html document"),Fe=Bo.l10n.t("Machine information"),Me=Bo.l10n.t("Razor.VSCode version"),ce=Bo.l10n.t("VSCode version"),Ce=Bo.l10n.t("Extensions");return`## ${p}:
${_}

## ${D}:
------------------- ${P} -------------------------

## ${M}:
------------------- ${P} -------------------------

${A}:

${U}:

## ${ne}

#### ${pe}
------------------- ${P} -------------------------
${ve}

#### ${V}
<details><summary>${W}</summary>
<p>

\`\`\`
${c}
\`\`\`

</p>
</details>

## ${ee}

#### ${De}:
<details><summary>${W}</summary>
<p>

\`\`\`Razor
${u}
\`\`\`

</p>
</details>

#### ${ae}:
<details><summary>${W}</summary>
<p>

\`\`\`C#
${l}
\`\`\`

</p>
</details>

#### ${ue}:
<details><summary>${W}</summary>
<p>

\`\`\`Html
${d}
\`\`\`

</p>
</details>

## ${Fe}


**${ce}**: ${this.vscodeApi.version}
**${Me}**: ${o}
#### \`dotnet --info\`

<details><summary>${W}</summary>
<p>

\`\`\`
${f}
\`\`\`

</p>
</details>

#### ${Ce}
<details><summary>${W}</summary>
<p>

${a}

</p>
</details>`}sanitize(e){let t=process.env.USERNAME===void 0?process.env.USER:process.env.USERNAME;if(t===void 0)return e;let n=new RegExp(t,"g");return e.replace(n,"anonymous")}async getRazor(e){return e.getText()}async getProjectedCSharp(e){let t=Bo.l10n.t("Projected CSharp as seen by extension"),n=`////////////////////// ${t} ///////////////////////
${e.csharpDocument.getContent()}


////////////////////// ${t} ///////////////////////`,i=Bo.l10n.t("Unable to resolve VSCode's version of CSharp");try{let o=await this.vscodeApi.workspace.openTextDocument(e.csharpDocument.uri);o?n=`${n}
${o.getText()}`:n=`${n}
${i}`}catch{n=`${n}
${i}`}return n}async getProjectedHtml(e){let t=Bo.l10n.t("Projected Html as seen by extension"),n=`////////////////////// ${t} ///////////////////////
${e.htmlDocument.getContent()}


////////////////////// ${t} ///////////////////////`,i=Bo.l10n.t("Unable to resolve VSCode's version of Html");try{let o=await this.vscodeApi.workspace.openTextDocument(e.htmlDocument.uri);o?n=`${n}
${o.getText()}`:n=`${n}
${i}`}catch{n=`${n}
${i}`}return n}getExtensionVersion(){let e=this.vscodeApi.extensions.getExtension(vWe);return e?e.packageJSON.version:Bo.l10n.t("Unable to find Razor extension version.")}getInstalledExtensions(){return this.vscodeApi.extensions.all.filter(t=>t.packageJSON.isBuiltin===!1).sort((t,n)=>t.packageJSON.name.toLowerCase().localeCompare(n.packageJSON.name.toLowerCase()))}generateExtensionTable(){let e=this.getInstalledExtensions();if(e.length<=0)return"none";let t=Bo.l10n.t("Extension"),n=Bo.l10n.t("Author"),i=Bo.l10n.t("Version"),o=`|${t}|${n}|${i}|${o6.EOL}|---|---|---|`,s=e.map(c=>`|${c.packageJSON.name}|${c.packageJSON.publisher}|${c.packageJSON.version}|`).join(o6.EOL);return`
${o}${o6.EOL}${s};
`}async getDotnetInfo(){return new Promise((e,t)=>{try{yWe.exec("dotnet --info",{cwd:process.cwd(),maxBuffer:500*1024},(n,i,o)=>{n||o&&o.length>0?t(n):e(i)})}catch(n){t(n)}})}};var sq=ye(require("vscode"));var gs=class r{static id="aspnetcorerazor";static fileExtensions=["cshtml","razor"];static globbingPattern=`**/*.{${r.fileExtensions.join(",")}}`;static documentSelector={language:this.id,pattern:r.globbingPattern}};var _We=ye(require("os")),a6=class{constructor(e,t){this.razorFileFocusChange=e;this.logger=t;this.focusRegistration=this.razorFileFocusChange(n=>this.lastFocusedRazorDocument=n),this.logRegistration=this.logger.onLog(n=>this.logMessages.push(n)),this.logger.outputChannel.show(!0),this.logger.logAlways("-- Starting Issue Data Collection-- ")}logMessages=[];logOutput="";focusRegistration;logRegistration;lastFocusedRazorDocument;stop(){this.logger.logAlways("-- Stopping Issue Data Collection-- "),this.logOutput=this.logMessages.join(_We.EOL),this.logMessages.length=0,this.focusRegistration&&this.focusRegistration.dispose(),this.logRegistration&&this.logRegistration.dispose()}collect(){return{document:this.lastFocusedRazorDocument,logOutput:this.logOutput}}};var c6=class{constructor(e){this.logger=e;this.onRazorDocumentFocusedEmitter=new sq.EventEmitter}onRazorDocumentFocusedEmitter=new sq.EventEmitter;register(){return sq.window.onDidChangeActiveTextEditor(e=>{e&&gs.fileExtensions.some(t=>e.document.fileName.endsWith(t))&&this.onRazorDocumentFocusedEmitter.fire(e.document)})}create(){return new a6(this.onRazorDocumentFocusedEmitter.event,this.logger)}};var so=ye(require("vscode"));var aq=class r{constructor(e,t,n){this.dataCollectorFactory=e;this.reportIssueCreator=t;this.logger=n}static viewType="razorReportIssue";panel;dataCollector;issueContent;traceLevelChange;async show(){this.panel?this.panel.reveal(so.ViewColumn.Two):(this.panel=so.window.createWebviewPanel(r.viewType,so.l10n.t("Report Razor Issue"),so.ViewColumn.Two,{enableScripts:!0,localResourceRoots:[]}),this.attachToCurrentPanel()),await this.update()}async revive(e){this.panel=e,this.attachToCurrentPanel(),await this.update()}attachToCurrentPanel(){if(!this.panel){Vi(so,so.l10n.t("Unexpected error when attaching to report Razor issue window."));return}this.panel.webview.onDidReceiveMessage(async e=>{switch(e.command){case"copyIssue":if(!this.issueContent){if(!this.dataCollector){Vi(so,so.l10n.t("You must first start the data collection before copying."));return}let t=this.dataCollector.collect();this.issueContent=await this.reportIssueCreator.create(t),this.dataCollector=void 0}await so.env.clipboard.writeText(this.issueContent),Ca(so,so.l10n.t("Razor issue copied to clipboard"));return;case"startIssue":this.dataCollector&&(this.dataCollector.stop(),this.dataCollector=void 0),this.issueContent=void 0,this.dataCollector=this.dataCollectorFactory.create(),Ca(so,so.l10n.t('Razor issue data collection started. Reproduce the issue then press "Stop"'));return;case"stopIssue":if(!this.dataCollector){Vi(so,so.l10n.t("You must first start the data collection before stopping."));return}this.dataCollector.stop(),Ca(so,so.l10n.t("Razor issue data collection stopped. Copying issue content..."));return}}),this.traceLevelChange=this.logger.outputChannel.onDidChangeLogLevel(async()=>this.update()),this.panel.onDidDispose(()=>{this.traceLevelChange&&this.traceLevelChange.dispose(),this.panel=void 0})}async update(){if(!this.panel)return;let e="";if(this.logger.logLevel<=so.LogLevel.Debug&&this.logger.logLevel!=so.LogLevel.Off){let i=`<button onclick="startIssue()">${so.l10n.t("Start")}</button>`,o=so.l10n.t("Press {0}",i),s=so.l10n.t("Perform the actions (or no action) that resulted in your Razor issue"),c=`<button onclick="stopIssue()">${so.l10n.t("Stop")}</button>`,u=so.l10n.t("Click {0}. This will copy all relevant issue information.",c),d=`<a href="https://github.com/dotnet/razor/issues/new?template=bug_report.md&labels=vscode%2C+bug">${so.l10n.t("Go to GitHub")}</a>`,f=so.l10n.t("{0}, paste your issue contents as the body of the issue. Don't forget to fill out any details left unfilled.",d),p=so.env.language,_=`<a href="https://privacy.microsoft.com/${p}/privacystatement">https://privacy.microsoft.com/${p}/privacystatement</a>`,D=so.l10n.t("Privacy Alert! The contents copied to your clipboard may contain personal data. Prior to posting to GitHub, please remove any personal data which should not be publicly viewable."),P=so.l10n.t("Copy issue content again");e=`<ol>
    <li>${o}</li>
    <li>${s}</li>
    <li>${u}</li>
    <li>${f}</li>
</ol>

<p><em>${D}
${_}
</em></p>

<button onclick="copyIssue()">${P}</button>`}else{let n="<strong><em>Razor Logging Level</em></strong>",i=`<strong><em>${so.LogLevel[this.logger.logLevel]}</em></strong>`,o=`<strong><em>${so.LogLevel[so.LogLevel.Debug]}</em></strong>`;e="<p>"+so.l10n.t('Cannot start collecting Razor logs when {0} is set to {1}. Please open the output window, choose the "Razor Log", and use the gear icon to ensure the log level is set to "Debug" or "Trace".',n,i,o)+"</p>"}let t=so.l10n.t("Report a Razor issue");this.panel.webview.html=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${t}</title>
    <style>
        button {
            background-color: #eff3f6;
            background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);
            color: #24292e;
            border: 1px solid rgba(27,31,35,.2);
            border-radius: .25em;
            font-size: 1.1em;
            font-weight: 600;
            line-height: 18px;
            padding: 6px 12px;
            vertical-align: middle;
            cursor: pointer;
        }
        body {
            font-size: 20px;
        }
        strong {
            color: red;
        }
    </style>

    <script type="text/javascript">
        const vscode = acquireVsCodeApi();
        function copyIssue() {
            vscode.postMessage({
                command: 'copyIssue'
            });
        }
        function startIssue() {
            vscode.postMessage({
                command: 'startIssue'
            });
        }
        function stopIssue() {
            vscode.postMessage({
                command: 'stopIssue'
            });
            copyIssue();
        }
    </script>
</head>
<body>
<h3>${t}</h3>
${e}
</body>
</html>`}};var JI=class{constructor(e,t,n,i){this.vscodeApi=e;this.dataCollectorFactory=new c6(i),this.issueCreator=new s6(this.vscodeApi,t,n),this.issuePanel=new aq(this.dataCollectorFactory,this.issueCreator,i)}issuePanel;issueCreator;dataCollectorFactory;register(){let e=[];return e.push(this.dataCollectorFactory.register(),this.vscodeApi.commands.registerCommand("razor.reportIssue",async()=>this.issuePanel.show())),this.vscodeApi.window.registerWebviewPanelSerializer&&e.push(this.vscodeApi.window.registerWebviewPanelSerializer(aq.viewType,{deserializeWebviewPanel:async t=>{await this.issuePanel.revive(t)}})),this.vscodeApi.Disposable.from(...e)}};var bu=ye(require("vscode"));var wde=ye(require("vscode"));var u6=class{constructor(e){this.uri=e;this.path=Ei(e)}path;content="";preProvisionalContent;preResolveProvisionalContent;provisionalEditAt;resolveProvisionalEditAt;ProvisionalDotPosition;hostDocumentVersion=null;updates=null;_checksum="";_checksumAlgorithm=1;_encodingCodePage=null;get hostDocumentSyncVersion(){return this.hostDocumentVersion}get length(){return this.content.length}clear(){this.setContent("")}get checksum(){return this._checksum}get checksumAlgorithm(){return this._checksumAlgorithm}get encodingCodePage(){return this._encodingCodePage}update(e,t,n,i,o,s){if(e){if(this.removeProvisionalDot(),this.updates){for(let a of this.updates)this.updateContent(a.changes);this.updates=null}this.updateContent(t),this._checksum=i,this._checksumAlgorithm=o,this._encodingCodePage=s}else{let a=new bde(t,i,o,s);this.updates?this.updates=this.updates.concat(a):this.updates=[a]}this.hostDocumentVersion=n}applyEdits(){let e=this.updates;this.updates=null;let t=this._checksum,n=this._checksumAlgorithm,i=this._encodingCodePage;if(e)for(let o of e)this.updateContent(o.changes),this._checksum=o.checksum,this._checksumAlgorithm=o.checksumAlgorithm,this._encodingCodePage=o.encodingCodePage;return{edits:e,originalChecksum:t,originalChecksumAlgorithm:n,originalEncodingCodePage:i}}getContent(){return this.content}addProvisionalDotAt(e){if(this.provisionalEditAt===e)return;this.removeProvisionalDot(),this.resolveProvisionalEditAt=void 0,this.ProvisionalDotPosition=void 0;let t=this.getEditedContent(".",e,e,this.content);this.preProvisionalContent=this.content,this.provisionalEditAt=e,this.setContent(t)}removeProvisionalDot(){return this.provisionalEditAt&&this.preProvisionalContent?(this.setContent(this.preProvisionalContent),this.resolveProvisionalEditAt=this.provisionalEditAt,this.provisionalEditAt=void 0,this.preProvisionalContent=void 0,!0):!1}ensureResolveProvisionalDot(){if(this.removeResolveProvisionalDot(),this.resolveProvisionalEditAt){let e=this.getEditedContent(".",this.resolveProvisionalEditAt,this.resolveProvisionalEditAt,this.content);return this.preResolveProvisionalContent=this.content,this.setContent(e),!0}return!1}removeResolveProvisionalDot(){return this.resolveProvisionalEditAt&&this.preResolveProvisionalContent?(this.setContent(this.preResolveProvisionalContent),this.provisionalEditAt=void 0,this.preResolveProvisionalContent=void 0,!0):!1}setProvisionalDotPosition(e){this.ProvisionalDotPosition=e}getProvisionalDotPosition(){return this.ProvisionalDotPosition}clearResolveCompletionRequestVariables(){this.resolveProvisionalEditAt=void 0,this.ProvisionalDotPosition=void 0}getEditedContent(e,t,n,i){let o=i.substring(0,t),s=i.substring(n);return i=`${o}${e}${s}`,i}setContent(e){this.content=e}updateContent(e){if(e.length===0)return;let t=this.content;for(let n of e.reverse())t=this.getEditedContent(n.newText,n.span.start,n.span.start+n.span.length,t);this.setContent(t)}},bde=class{constructor(e,t,n,i){this.changes=e;this.checksum=t;this.checksumAlgorithm=n;this.encodingCodePage=i}};var l6=class{constructor(e){this.uri=e;this.path=Ei(e)}path;content="";hostDocumentVersion=null;get hostDocumentSyncVersion(){return this.hostDocumentVersion}get length(){return this.content.length}clear(){this.setContent("")}update(e,t){if(this.hostDocumentVersion=t,e.length===0)return;let n=this.content;for(let i of e.reverse())n=this.getEditedContent(i.newText,i.span.start,i.span.start+i.span.length,n);this.setContent(n)}getContent(){return this.content}getEditedContent(e,t,n,i){let o=i.substr(0,t),s=i.substr(n);return i=`${o}${e}${s}`,i}setContent(e){this.content=e}};var gC=class{constructor(e,t,n){this.documentManager=e;this.logger=n;e.onChange(i=>this.documentChanged(i)),this.onDidChangeEmitter=t.create()}static scheme="razor-html";onDidChangeEmitter;get onDidChange(){return this.onDidChangeEmitter.event}provideTextDocumentContent(e){let t=this.findRazorDocument(e);return t?`${t.htmlDocument.getContent()}
// ${t.htmlDocument.hostDocumentSyncVersion}`:(this.logger.traceEnabled&&this.logger.logTrace(`Could not find document '${Ei(e)}' when updating the HTML buffer. This typically happens when a document is removed.`),"")}documentChanged(e){(e.kind===5||e.kind===2||e.kind===1)&&this.onDidChangeEmitter.fire(e.document.htmlDocument.uri)}findRazorDocument(e){let t=Ei(e);return this.documentManager.documents.find(n=>n.htmlDocument.path.localeCompare(t,void 0,{sensitivity:"base"})===0)}};var bWe=ye(require("vscode"));var d6=class{constructor(e,t,n){this.uri=e;this.csharpDocument=t;this.htmlDocument=n;this.path=Ei(e)}path;get isOpen(){for(let e of bWe.workspace.textDocuments)if(e.uri.fsPath==this.uri.fsPath)return!0;return!1}};function wWe(r){let e=Sqt(r),t=wqt(r);return new d6(r,e,t)}function wqt(r){let t=`${Ei(r)}${eR}`,n=wde.Uri.file(t);return n=n.with({scheme:gC.scheme}),new l6(n)}function Sqt(r){let t=`${Ei(r)}${iq}`,n=wde.Uri.file(t);return n=n.with({scheme:D_.scheme}),new u6(n)}XI();var g6=class{constructor(e,t,n,i){this.serverClient=e;this.logger=t;this.telemetryReporter=n;this.platformInfo=i}roslynActivated=!1;razorDocuments={};openRazorDocuments=new Set;onChangeEmitter=new bu.EventEmitter;onRazorInitializedEmitter=new bu.EventEmitter;razorDocumentGenerationInitialized=!1;get onChange(){return this.onChangeEmitter.event}get onRazorInitialized(){return this.onRazorInitializedEmitter.event}get documents(){return Object.values(this.razorDocuments)}async getDocument(e){return this._getDocument(e)}async getDocumentForCSharpUri(e){let t=e.fsPath??e.path;return this.documents.find(n=>this.platformInfo.isLinux()?n.csharpDocument.path===t:n.csharpDocument.path.localeCompare(t,void 0,{sensitivity:"base"})===0)}async getActiveDocument(){return!bu.window.activeTextEditor||bu.window.activeTextEditor.document.languageId!==gs.id?null:await this.getDocument(bu.window.activeTextEditor.document.uri)}isRazorDocumentOpenInCSharpWorkspace(e){let t=Ei(e);return this.openRazorDocuments.has(t)}didOpenRazorCSharpDocument(e){let t=Ei(e);this.openRazorDocuments.add(t)}didCloseRazorCSharpDocument(e){let t=Ei(e);this.openRazorDocuments.delete(t)}async initialize(){let e=await bu.workspace.findFiles(gs.globbingPattern);for(let t of e)this.addDocument(t);for(let t of bu.workspace.textDocuments)t.languageId===gs.id&&(t.isClosed||await this.openDocument(t.uri))}register(){let e=bu.workspace.createFileSystemWatcher(gs.globbingPattern),t=e.onDidCreate(async o=>this.addDocument(o)),n=bu.workspace.onDidOpenTextDocument(async o=>{o.languageId===gs.id&&await this.openDocument(o.uri)}),i=bu.workspace.onDidCloseTextDocument(o=>{o.languageId===gs.id&&this.closeDocument(o.uri)});return this.serverClient!==void 0&&(this.serverClient.onNotification("razor/updateCSharpBuffer",async o=>this.updateCSharpBuffer(o)),this.serverClient.onNotification("razor/updateHtmlBuffer",async o=>this.updateHtmlBuffer(o))),bu.Disposable.from(e,t,n,i)}_getDocument(e){let t=Ei(e),n=this.findDocument(t);return n||(this.logger.logInfo(`File '${t}' didn't exist in the Razor document list. This is likely because it's from outside the workspace.`),n=this.addDocument(e)),n}async openDocument(e){await this.ensureRazorInitialized();let t=this._getDocument(e);this.notifyDocumentChange(t,2,[])}async ensureRazorInitialized(){if(this.serverClient!==void 0&&this.roslynActivated&&!this.razorDocumentGenerationInitialized){this.razorDocumentGenerationInitialized=!0;let e=LD();await bu.commands.executeCommand(hde,e),await this.serverClient.connectNamedPipe(e),this.onRazorInitializedEmitter.fire()}}closeDocument(e){let t=this._getDocument(e);e.scheme==="file"&&(bu.workspace.getWorkspaceFolder(e)||this.removeDocument(e)),this.notifyDocumentChange(t,3,[])}addDocument(e){let t=Ei(e),n=this.findDocument(t);return n?(this.logger.logInfo(`Skipping document creation for '${t}' because it already exists.`),n):(n=wWe(e),this.razorDocuments[n.path]=n,this.notifyDocumentChange(n,0,[]),n)}removeDocument(e){let t=this._getDocument(e);delete this.razorDocuments[t.path],this.notifyDocumentChange(t,1,[])}findDocument(e){return this.platformInfo.isLinux()?this.razorDocuments[e]:Object.values(this.razorDocuments).find(t=>t.path.localeCompare(e,void 0,{sensitivity:"base"})===0)}async updateCSharpBuffer(e){this.logger.traceEnabled&&this.logger.logTrace(`Updating the C# document for Razor file '${e.hostDocumentFilePath}' (${e.hostDocumentVersion})`);let t=bu.Uri.file(e.hostDocumentFilePath),n=this._getDocument(t),i=n.csharpDocument;if(e.previousWasEmpty||!i.hostDocumentSyncVersion||i.hostDocumentSyncVersion<=e.hostDocumentVersion){let o=i;e.previousWasEmpty&&i.length!==0&&(this.telemetryReporter.reportBuffersOutOfSync(),o.clear()),o.update(n.isOpen,e.changes,e.hostDocumentVersion,e.checksum,e.checksumAlgorithm,e.encodingCodePage),this.notifyDocumentChange(n,4,e.changes)}else this.logger.logWarning("Failed to update the C# document buffer. This is unexpected and may result in incorrect C# interactions.")}async updateHtmlBuffer(e){this.logger.traceEnabled&&this.logger.logTrace(`Updating the HTML document for Razor file '${e.hostDocumentFilePath}' (${e.hostDocumentVersion})`);let t=bu.Uri.file(e.hostDocumentFilePath),n=this._getDocument(t),i=n.htmlDocument;if(e.previousWasEmpty||!i.hostDocumentSyncVersion||i.hostDocumentSyncVersion<=e.hostDocumentVersion){await bu.workspace.openTextDocument(n.htmlDocument.uri);let o=i;e.previousWasEmpty&&i.length!==0&&(this.telemetryReporter.reportBuffersOutOfSync(),o.clear()),o.update(e.changes,e.hostDocumentVersion),this.notifyDocumentChange(n,5,e.changes)}else this.logger.logWarning("Failed to update the HTML document buffer. This is unexpected and may result in incorrect HTML interactions.")}notifyDocumentChange(e,t,n){this.logger.traceEnabled&&this.logger.logTrace(`Notifying document '${Ei(e.uri)}' changed '${T_[t]}' with '${n.length}' changes.`);let i={document:e,kind:t,changes:n};this.onChangeEmitter.fire(i)}};var MD=ye(require("vscode"));var v6=class{constructor(e,t){this.documentManager=e;this.logger=t}synchronizations={};synchronizationIdentifier=0;register(){let e=this.documentManager.onChange(n=>this.documentChanged(n)),t=MD.workspace.onDidChangeTextDocument(n=>this.textDocumentChanged(n));return MD.Disposable.from(e,t)}async trySynchronizeProjectedDocument(e,t,n,i){let o=++this.synchronizationIdentifier,s=Ei(t.uri);if(this.logger.traceEnabled){let c=n;this.logger.logTrace(`${o} - Synchronizing '${s}':
    Currently at ${t.hostDocumentSyncVersion}, synchronizing to version '${c}'.'`)}let a=this.createSynchronizationContext(s,t,n,e,i);try{t.hostDocumentSyncVersion!==n&&(this.logger.traceEnabled&&this.logger.logTrace(`${o} - Projected document not in sync with host document, waiting for update...
    Current host document sync version: ${t.hostDocumentSyncVersion}`),await a.onProjectedDocumentSynchronized),this.logger.traceEnabled&&this.logger.logTrace(`${o} - Projected document in sync with host document`);let c=await MD.workspace.openTextDocument(t.uri),u=this.getProjectedTextDocumentVersion(c);t.hostDocumentSyncVersion!==u&&(this.logger.traceEnabled&&this.logger.logTrace(`${o} - Projected text document not in sync with data type, waiting for update...
    Current projected text document sync version: ${u}`),await a.onProjectedTextDocumentSynchronized),this.logger.traceEnabled&&this.logger.logTrace(`${o} - Projected text document in sync with data type`)}catch(c){return this.removeSynchronization(a),this.logger.traceEnabled&&this.logger.logTrace(`${o} - Synchronization failed: ${c}`),!1}return this.removeSynchronization(a),this.logger.traceEnabled&&this.logger.logTrace(`${o} - Synchronization successful!`),!0}removeSynchronization(e){e.dispose();let t=Ei(e.projectedDocument.uri),n=this.synchronizations[t];if(n.length===1){delete this.synchronizations[t];return}this.synchronizations[t]=n.filter(i=>i!==e)}createSynchronizationContext(e,t,n,i,o){let s=[],a=Function,c=new Promise((_,D)=>{a=_,s.push(D)}),u=Function,l=new Promise((_,D)=>{u=_,s.push(D)});o.onCancellationRequested(_=>{f.cancel(MD.l10n.t("Token cancellation requested: {0}",_))});let d=setTimeout(()=>{f.cancel(MD.l10n.t("Synchronization timed out"))},2e3),f={projectedDocument:t,logIdentifier:this.synchronizationIdentifier,timeoutId:d,toHostDocumentVersion:n,cancel:_=>{for(let D of s)D(_)},dispose:()=>{s.length=0,clearTimeout(f.timeoutId)},projectedDocumentSynchronized:a,onProjectedDocumentSynchronized:c,projectedTextDocumentSynchronized:u,onProjectedTextDocumentSynchronized:l},p=this.synchronizations[e];return p||(p=[],this.synchronizations[e]=p),p.push(f),f}textDocumentChanged(e){if(e.document.uri.scheme!==D_.scheme&&e.document.uri.scheme!==gC.scheme)return;let t=this.getProjectedTextDocumentVersion(e.document);if(t===null)return;let n=Ei(e.document.uri),i=this.synchronizations[n];if(i){for(let o of i)if(o.projectedDocument.hostDocumentSyncVersion===t){if(this.logger.traceEnabled){let s=o.logIdentifier,a=t;this.logger.logTrace(`${s} - Projected text document synchronized to ${a}.`)}o.projectedTextDocumentSynchronized()}}}documentChanged(e){let t;if(e.kind===4)t=e.document.csharpDocument;else if(e.kind===5)t=e.document.htmlDocument;else return;if(t.hostDocumentSyncVersion===null)return;let i=Ei(t.uri),o=this.synchronizations[i];if(o)for(let s of o)s.toHostDocumentVersion===t.hostDocumentSyncVersion&&s.projectedDocumentSynchronized()}getProjectedTextDocumentVersion(e){if(e.lineCount<=0)return null;let n=e.lineAt(e.lineCount-1).text.substring(3);return parseInt(n,10)}};var ZI=ye(require("vscode")),VWe=ye(cl());var y6=class{constructor(e,t){this.range=e;this.color=t}};var QI=class r{constructor(e,t,n,i){this.documentManager=e;this.documentSynchronizer=t;this.serverClient=n;this.logger=i}static provideHtmlDocumentColorEndpoint="razor/provideHtmlDocumentColor";documentColorRequestType=new VWe.RequestType(r.provideHtmlDocumentColorEndpoint);emptyColorInformationResponse=[];async register(){await this.serverClient.onRequestWithParams(this.documentColorRequestType,async(e,t)=>this.provideHtmlDocumentColors(e,t))}async provideHtmlDocumentColors(e,t){try{let n=ZI.Uri.parse(e.textDocument.uri,!0),i=await this.documentManager.getDocument(n);if(i===void 0)return this.logger.logWarning(`Could not find Razor document ${n}; returning empty color information.`),this.emptyColorInformationResponse;let o=await ZI.workspace.openTextDocument(n);if(!await this.documentSynchronizer.trySynchronizeProjectedDocument(o,i.htmlDocument,e._razor_hostDocumentVersion,t))return this.emptyColorInformationResponse;let a=i.htmlDocument.uri;return await r.doDocumentColorRequest(a)}catch(n){this.logger.logWarning(`${r.provideHtmlDocumentColorEndpoint} failed with ${n}`)}return this.emptyColorInformationResponse}static async doDocumentColorRequest(e){let t=await ZI.commands.executeCommand("vscode.executeDocumentColorProvider",e),n=new Array;for(let i of t){let o=lw(i.range),s=new y6(o,i.color);n.push(s)}return n}};var b6=ye(require("vscode"));var _6=class extends Dc{async provideDocumentHighlights(e,t,n){let i=await this.getProjection(e,t,n);if(!i||i.languageKind===3)return;let o=await b6.commands.executeCommand("vscode.executeDocumentHighlights",i.uri,i.position);if(!o||o.length===0)return;let s=new Array;for(let a of o){let c=await this.serviceClient.mapToDocumentRanges(i.languageKind,[a.range],e.uri);if(!c||!c.ranges||!c.ranges[0]||i.hostDocumentVersion!==c.hostDocumentVersion)continue;let u=new b6.DocumentHighlight(c.ranges[0],a.kind);s.push(u)}return s}};function GWe(r,e){r.onChange(t=>{switch(t.kind){case 0:e.reportWorkspaceContainsRazor();break}})}var ek=ye(require("vscode"));var fq=class{constructor(e,t,n,i,o){this.csharpDocument=e;this.edits=t;this.checksum=n;this.checksumAlgorithm=i;this.encodingCodePage=o}};var w6=class{constructor(e){this.razorDocument=e}};var KWe=ye(en());var hq=class{constructor(e,t){this.newText=e;this.span=t}};var pq=class{constructor(e,t){this.start=e;this.length=t}};var P_=class r{constructor(e,t){this.documentManager=e;this.logger=t}static provideDynamicFileInfoCommand="razor.provideDynamicFileInfo";static removeDynamicFileInfoCommand="razor.removeDynamicFileInfo";static dynamicFileUpdatedCommand="razor.dynamicFileUpdated";register(){ek.commands.registerCommand(r.provideDynamicFileInfoCommand,async e=>this.provideDynamicFileInfo(e)),ek.commands.registerCommand(r.removeDynamicFileInfoCommand,async e=>{await this.removeDynamicFileInfo(e)}),rh.cohostingEnabled||this.documentManager.onChange(async e=>{if(e.kind==4&&!e.document.isOpen&&e.changes.length>0){let t=Ni.serialize(e.document.uri),n=KWe.TextDocumentIdentifier.create(t);await ek.commands.executeCommand(r.dynamicFileUpdatedCommand,new w6(n))}})}async provideDynamicFileInfo(e){this.documentManager.roslynActivated=!0;let t=ek.Uri.parse(e.razorDocument.uri,!0);await this.documentManager.ensureRazorInitialized();let n=await this.documentManager.getDocument(t);try{if(n===void 0)return this.logger.logWarning(`Could not find Razor document ${t.fsPath}; adding null as a placeholder in URI array.`),null;let i=n.csharpDocument;if(e.fullText){let s=new hq(n.csharpDocument.getContent(),new pq(0,0));return new fq(e.razorDocument,[s],i.checksum,i.checksumAlgorithm,i.encodingCodePage)}let o=Ni.serialize(n.csharpDocument.uri);if(this.documentManager.isRazorDocumentOpenInCSharpWorkspace(t))return null;{let s=i.applyEdits(),a=s.edits?.flatMap(c=>c.changes.map(u=>new hq(u.newText,new pq(u.span.start,u.span.length))));return new fq({uri:o},a??[],s.originalChecksum,s.originalChecksumAlgorithm,s.originalEncodingCodePage)}}catch(i){this.logger.logWarning(`${r.provideDynamicFileInfoCommand} failed with ${i}`)}return null}async removeDynamicFileInfo(e){try{let t=Ni.deserialize(e.csharpDocument.uri);this.documentManager.isRazorDocumentOpenInCSharpWorkspace(t)&&this.documentManager.didCloseRazorCSharpDocument(t)}catch(t){this.logger.logWarning(`${r.removeDynamicFileInfoCommand} failed with ${t}`)}}};var vC=ye(require("vscode")),tk=ye(en());var mq=class{constructor(e,t){this.htmlRanges=e;this.csharpRanges=t}};var rk=class r{constructor(e,t,n){this.serverClient=e;this.documentManager=t;this.logger=n}static provideFoldingRange="razor/foldingRange";foldingRangeRequestType=new tk.RequestType(r.provideFoldingRange);emptyFoldingRangeReponse=new mq(new Array,new Array);async register(){await this.serverClient.onRequestWithParams(this.foldingRangeRequestType,async(e,t)=>this.provideFoldingRanges(e,t))}async provideFoldingRanges(e,t){try{let n=vC.Uri.parse(e.textDocument.uri,!0),i=await this.documentManager.getDocument(n);if(i===void 0)return this.emptyFoldingRangeReponse;let o=i.htmlDocument.uri,s=i.csharpDocument.uri,a=await vC.commands.executeCommand("vscode.executeFoldingRangeProvider",o),c=await vC.commands.executeCommand("vscode.executeFoldingRangeProvider",s),u=a===void 0?new Array:r.convertFoldingRanges(a,this.logger),l=c===void 0?new Array:r.convertFoldingRanges(c,this.logger);return new mq(u,l)}catch(n){this.logger.logWarning(`${r.provideFoldingRange} failed with ${n}`)}return this.emptyFoldingRangeReponse}static convertFoldingRanges(e,t){let n=new Array;return e.forEach(i=>{let o={startLine:i.start,startCharacter:0,endLine:i.end,endCharacter:0,kind:i.kind===void 0?void 0:r.convertFoldingRangeKind(i.kind,t)};n.push(o)}),n}static convertFoldingRangeKind(e,t){if(e===vC.FoldingRangeKind.Comment)return tk.FoldingRangeKind.Comment;if(e===vC.FoldingRangeKind.Imports)return tk.FoldingRangeKind.Imports;if(e===vC.FoldingRangeKind.Region)return tk.FoldingRangeKind.Region;t.logWarning(`Unexpected FoldingRangeKind ${e}`)}};var Id=ye(require("vscode")),xde=ye(cl());var nk=class{constructor(e){this.edits=e}};var nR=class r{constructor(e,t,n,i){this.documentManager=e;this.documentSynchronizer=t;this.serverClient=n;this.logger=i}static provideFormattingEndpoint="razor/htmlFormatting";static provideOnTypeFormattingEndpoint="razor/htmlOnTypeFormatting";formattingRequestType=new xde.RequestType(r.provideFormattingEndpoint);onTypeFormattingRequestType=new xde.RequestType(r.provideOnTypeFormattingEndpoint);static emptyFormattingResponse=new nk;async register(){await this.serverClient.onRequestWithParams(this.formattingRequestType,async(e,t)=>this.provideFormatting(e,t)),await this.serverClient.onRequestWithParams(this.onTypeFormattingRequestType,async(e,t)=>this.provideOnTypeFormatting(e,t))}async provideFormatting(e,t){try{let n=Id.Uri.parse(e.textDocument.uri),i=await this.documentManager.getDocument(n);if(i===void 0)return r.emptyFormattingResponse;let o=await Id.workspace.openTextDocument(n);if(!await this.documentSynchronizer.trySynchronizeProjectedDocument(o,i.htmlDocument,e.hostDocumentVersion,t))return r.emptyFormattingResponse;let a=i.htmlDocument.uri,c=i.htmlDocument.getContent();return await r.getHtmlFormattingResult(a,c,e.options)}catch(n){this.logger.logWarning(`${r.provideFormattingEndpoint} failed with ${n}`)}return r.emptyFormattingResponse}static async getHtmlFormattingResult(e,t,n){let i=r.countLines(t),o=r.getLastLineLength(t),s=new Id.Range(new Id.Position(0,0),new Id.Position(i,o)),a=await Id.commands.executeCommand("vscode.executeFormatRangeProvider",e,s,n);if(a===void 0)return r.emptyFormattingResponse;let c=r.sanitizeTextEdits(t,a);return new nk(c)}static async getHtmlOnTypeFormattingResult(e,t,n,i,o){let s=await Id.commands.executeCommand("vscode.executeFormatOnTypeProvider",e,n,i,o);if(s===void 0)return r.emptyFormattingResponse;let a=r.sanitizeTextEdits(t,s);return new nk(a)}async provideOnTypeFormatting(e,t){try{let n=Id.Uri.parse(e.textDocument.uri),i=await this.documentManager.getDocument(n);if(i===void 0)return r.emptyFormattingResponse;let o=await Id.workspace.openTextDocument(n);if(!await this.documentSynchronizer.trySynchronizeProjectedDocument(o,i.csharpDocument,e.hostDocumentVersion,t))return r.emptyFormattingResponse;let a=i.htmlDocument.uri,c=i.htmlDocument.getContent();return await r.getHtmlOnTypeFormattingResult(a,c,e.position,e.ch,e.options)}catch(n){this.logger.logWarning(`${r.provideFormattingEndpoint} failed with ${n}`)}return r.emptyFormattingResponse}static sanitizeTextEdits(e,t){let n=r.countLines(e),i=Array();for(let o of t){if(o.range.end.line>n||o.range.start.line>n){let a=r.getLastLineLength(e),c=new Id.Position(n,a),u=o.range.start,l=o.range.end;o.range.start.line>n&&(u=c),o.range.end.line>n&&(l=c);let d=new Id.Range(u,l);o=new Id.TextEdit(d,o.newText)}let s=tq(o);i.push(s)}return i}static countLines(e){let t=0;for(let n of e)n===`
`&&t++;return t}static getLastLineLength(e){let t=0;for(let n=0;n<e.length;n++)n+1<e.length&&e[n]==="\r"&&e[n+1]===`
`?(t=0,n++):e[n]===`
`?t=0:t++;return t}};var ND=ye(require("vscode"));var S6=class extends Dc{async provideHover(e,t,n){let i=await this.getProjection(e,t,n);if(!i)return;let o=await ND.commands.executeCommand("vscode.executeHoverProvider",i.uri,i.position);if(!o||o.length===0)return;let s=o.filter(l=>l.range)[0];if(!s)return;let a=await this.serviceClient.mapToDocumentRanges(i.languageKind,[s.range],e.uri);if(!a||!a.ranges||!a.ranges[0]||i.hostDocumentVersion!==a.hostDocumentVersion)return;let c=new Array;for(let l of s.contents)if(typeof l=="string"){let d=new ND.MarkdownString(l);c.push(d)}else if(l.language){let d=l,f=new ND.MarkdownString;f.appendCodeblock(d.value,d.language),c.push(f)}else{let d=l.value,f=new ND.MarkdownString(d);c.push(f)}return new ND.Hover(c,a.ranges[0])}};var yC=ye(require("vscode"));var bf=ye(require("vscode"));var gq=class r{constructor(e){this.documentManager=e;e.onChange(async t=>this.documentChanged(t))}static viewType="razorHtmlPreview";panel;htmlContent;async show(){this.panel?this.panel.reveal(bf.ViewColumn.Two):(this.panel=bf.window.createWebviewPanel(r.viewType,bf.l10n.t("Razor HTML Preview"),bf.ViewColumn.Two,{enableScripts:!0,localResourceRoots:[]}),this.attachToCurrentPanel()),await this.update()}async revive(e){this.panel=e,this.attachToCurrentPanel(),await this.update()}async documentChanged(e){this.panel&&(e.kind===5||e.kind===2||e.kind===3)&&await this.update()}attachToCurrentPanel(){if(!this.panel){Vi(bf,bf.l10n.t("Unexpected error when attaching to HTML preview window."));return}this.panel.webview.onDidReceiveMessage(async e=>{switch(e.command){case"copy":if(!this.htmlContent)return;await bf.env.clipboard.writeText(this.htmlContent),Ca(bf,bf.l10n.t("Razor HTML copied to clipboard"));return}}),this.panel.onDidDispose(()=>this.panel=void 0)}async update(){if(!this.panel)return;let e=await this.documentManager.getActiveDocument(),t="",n="";e?(this.htmlContent=e.htmlDocument.getContent(),t=Ei(e.uri),n=Ei(e.htmlDocument.uri)):this.htmlContent=void 0;let i=this.htmlContent?this.htmlContent:"";i=i.replace(/</g,"&lt;").replace(/</g,"&gt;");let o=bf.l10n.t("Report a Razor issue"),s=bf.l10n.t("Host document file path"),a=bf.l10n.t("Virtual document file path"),c=bf.l10n.t("Copy Html");this.panel.webview.html=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${o}</title>
    <style>
        button {
            background-color: #eff3f6;
            background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);
            color: #24292e;
            border: 1px solid rgba(27,31,35,.2);
            border-radius: .25em;
            font-size: 1.1em;
            font-weight: 600;
            line-height: 18px;
            padding: 6px 12px;
            vertical-align: middle;
            cursor: pointer;
        }
        button:focus-visible {
            outline-color: var(--vscode-focusBorder)
        }
    </style>

    <script type="text/javascript">
        const vscode = acquireVsCodeApi();
        function copy() {
            vscode.postMessage({
                command: 'copy'
            });
        }
    </script>
</head>
<body>
    <p>${s}: <strong>${t}</strong></p>
    <p>${a}: <strong>${n}</strong></p>
    <p><button onclick="copy()">${c}</button></p>
    <hr />
    <pre>${i}</pre>
</body>
</html>`}};var Th=ye(require("vscode"));Mle();y4();var C6=class{constructor(e,t){this.documentManager=e;this.serviceClient=t}timeout=void 0;enabled=!1;htmlLanguageService;register(){this.htmlLanguageService=Lle();let e=Th.workspace.onDidChangeTextDocument(async n=>this.onDidChangeTextDocument(n.document,n.contentChanges)),t=Th.window.onDidChangeActiveTextEditor(()=>this.checkIfEnabled());return this.checkIfEnabled(),Th.Disposable.from(e,t)}checkIfEnabled(){this.enabled=!1;let e=Th.window.activeTextEditor;if(!e)return;let t=e.document;t.languageId===gs.id&&Th.workspace.getConfiguration(void 0,t.uri).get("html.autoClosingTags")&&(this.enabled=!0)}async onDidChangeTextDocument(e,t){if(!this.enabled||t.length===0||!Th.window.activeTextEditor||Th.window.activeTextEditor.document!==e)return;this.timeout!==void 0&&clearTimeout(this.timeout);let n=t[t.length-1];if(n.rangeLength>0||n.text[n.text.length-1]!==">")return;let o=n.range.start;if(o.character<2)return;let s=e.offsetAt(n.range.start),a=e.getText(),c=a.charAt(s-1);if(c==="/"||c===">")return;if(!this.atMarkupTransition(a,s)){if((await this.serviceClient.languageQuery(n.range.start,e.uri)).kind!==2)return}let u=e.version;this.timeout=setTimeout(async()=>{if(!this.enabled)return;let l=Th.window.activeTextEditor;if(!l)return;let d=l.document;if(e!==d||d.version!==u)return;let f=new Th.Position(o.line,o.character+n.text.length);if(!this.htmlLanguageService)return;let p=await this.documentManager.getActiveDocument();p&&(a=p.htmlDocument.getContent());let _=XE.create(e.uri.fsPath,e.languageId,e.version,a),D=this.htmlLanguageService.parseHTMLDocument(_),P=this.htmlLanguageService.doTagComplete(_,f,D);if(!P)return;let M=l.selections;M.length&&M.some(A=>A.active.isEqual(f))?await l.insertSnippet(new Th.SnippetString(P),M.map(A=>A.active)):await l.insertSnippet(new Th.SnippetString(P),f)},75)}atMarkupTransition(e,t){return e.substring(t-5,t)==="<text"}};var T6=class{projectionProvider;htmlTagCompletionProvider;htmlPreviewPanel;constructor(e,t,n,i){this.projectionProvider=new gC(e,n,i),this.htmlTagCompletionProvider=new C6(e,t),this.htmlPreviewPanel=new gq(e)}register(){let e=[yC.workspace.registerTextDocumentContentProvider(gC.scheme,this.projectionProvider),yC.commands.registerCommand("extension.showRazorHtmlWindow",async()=>this.htmlPreviewPanel.show()),this.htmlTagCompletionProvider.register()];return yC.window.registerWebviewPanelSerializer&&e.push(yC.window.registerWebviewPanelSerializer(gq.viewType,{deserializeWebviewPanel:async t=>{await this.htmlPreviewPanel.revive(t)}})),yC.Disposable.from(...e)}};var YWe=ye(require("vscode"));var D6=class extends Dc{async provideImplementation(e,t,n){let i=await this.getProjection(e,t,n);if(!i||i.languageKind===2||i.languageKind===3)return;let o=await YWe.commands.executeCommand("vscode.executeImplementationProvider",i.uri,i.position),s=new Array;for(let a of o)if(pC(a.uri)){let c=await ay.remapGeneratedFileLocation(a,this.serviceClient,this.logger,n);if(c===void 0)continue;s.push(c)}else s.push(a);return s}};var E6=class{async register(e){e.env.appName.endsWith("Insiders")}};var vq=ye(require("vscode"));var JWe=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],R6=class{register(){return vq.languages.setLanguageConfiguration(gs.id,{wordPattern:/(-?\d*\.\d\w*)|([^`~!@$^&*()\-=+[{\]}\\|;:'",.<>/\s]+)/g,onEnterRules:[{beforeText:new RegExp(`<(?!(?:${JWe.join("|")}))([_:\\w][_:\\w-.\\d]*)([^/>]*(?!/)>)[^<]*$`,"i"),afterText:/^<\/([_:\w][_:\w-.\d]*)\s*>/i,action:{indentAction:vq.IndentAction.IndentOutdent}},{beforeText:new RegExp(`<(?!(?:${JWe.join("|")}))(\\w[\\w\\d]*)([^/>]*(?!/)>)[^<]*$`,"i"),action:{indentAction:vq.IndentAction.Indent}}]})}};var Mde=ye(require("child_process")),t$e=require("events"),Hg=ye(require("vscode")),k6=ye(pN());var Ode=ye(require("fs")),kde=ye(require("os")),Ide=ye(require("path")),XWe=ye(require("vscode"));function P6(r,e,t){let n=Nqt(e),i=r.workspace.getConfiguration("razor.languageServer"),o=i.get("debug"),s=!Sa()&&r.workspace.getConfiguration().get("dotnet.server.useOmnisharp"),a=i.get("forceRuntimeCodeGeneration"),c=i.get("suppressLspErrorToasts"),u=i.get("useNewFormattingEngine"),l=i.get("cohostingEnabled");return{serverPath:n,debug:o,outputChannel:t.outputChannel,usingOmniSharp:s,forceRuntimeCodeGeneration:a,suppressErrorToasts:c,useNewFormattingEngine:u,cohostingEnabled:l}}function Nqt(r){let e="rzls",t="";Fqt()&&(t=".exe"),qqt()&&(t=".dll");let n=`${e}${t}`,i=Ide.join(r,n);if(Ode.existsSync(i)||(n=`${e}.dll`,i=Ide.join(r,n)),!Ode.existsSync(i))throw new Error(XWe.l10n.t("Could not find Razor Language Server executable '{0}' within directory",i));return i}function Fqt(){return!!kde.platform().match(/^win/)}function qqt(){return kde.platform()==="darwin"}var QWe=ye(KS()),x6=class extends QWe.LanguageClient{razorOptions;constructor(e,t,n,i,o,s){super(e,t,n,i,s),this.razorOptions=o}handleFailedRequest(e,t,n,i,o){return this.razorOptions.suppressErrorToasts?super.handleFailedRequest(e,t,n,i,!1):super.handleFailedRequest(e,t,n,i,o)}};var Ade=ye(require("vscode")),ZWe=ye(KS());async function O6(r,e,t,n){let i=await n(r,e,t);return e$e(i),i}async function I6(r,e,t,n){return await n(r,e,o=>{o?.items.forEach(e$e),t(o)})}function e$e(r){r?.kind===ZWe.vsdiag.DocumentDiagnosticReportKind.full&&fs.reportInformationAsHint&&r.items.forEach(e=>{e.severity===Ade.DiagnosticSeverity.Information&&(e.severity=Ade.DiagnosticSeverity.Hint)})}var Lde={ServerStop:"ServerStop"},A6=class{constructor(e,t,n,i,o,s){this.vscodeType=e;this.languageServerDir=t;this.razorTelemetryReporter=n;this.env=i;this.dotnetExecutablePath=o;this.logger=s;this.isStarted=!1,this.setupLanguageServer(),this.eventBus=new t$e.EventEmitter}clientOptions;serverOptions;client;onStartListeners=[];onStartedListeners=[];eventBus;isStarted;startHandle;stopHandle;get initializeResult(){return this.client.initializeResult}onStarted(e){this.onStartedListeners.push(e)}onStart(e){this.onStartListeners.push(e)}onStop(e){return this.eventBus.addListener(Lde.ServerStop,e),new Hg.Disposable(()=>this.eventBus.removeListener(Lde.ServerStop,e))}async start(){if(this.startHandle)return this.startHandle;let e=Function,t=Function;this.startHandle=new Promise((o,s)=>{e=o,t=s});let n=0,i=this.client.onDidChangeState(o=>{o.oldState===k6.State.Starting&&o.newState===k6.State.Stopped?(n++,n===5&&t(Hg.l10n.t("Server failed to start after retrying 5 times."))):o.newState===k6.State.Running&&(n=0)});try{this.logger.logInfo("Starting Razor Language Server..."),await this.client.start(),this.logger.logInfo("Server started, waiting for client to be ready..."),this.isStarted=!0,this.logger.languageServerClient=this;for(let o of this.onStartListeners)await o();e(),this.logger.logInfo("Server ready!");for(let o of this.onStartedListeners)await o();i.dispose()}catch(o){Vi(Hg,Hg.l10n.t("Razor Language Server failed to start unexpectedly, please check the 'Razor Log' and report an issue.")),this.razorTelemetryReporter.reportErrorOnServerStart(o),t(o)}return this.startHandle}async sendRequest(e,t){if(!this.isStarted)throw new Error(Hg.l10n.t("Tried to send requests while server is not started."));return this.client.sendRequest(e,t)}async sendNotification(e,t){if(!this.isStarted)throw new Error(Hg.l10n.t("Tried to send requests while server is not started."));return this.client.sendNotification(e,t)}async onRequestWithParams(e,t){if(!this.isStarted)throw new Error(Hg.l10n.t("Tried to bind on request logic while server is not started."));this.client.onRequest(e,t)}onNotification(e,t){if(!this.isStarted)throw new Error(Hg.l10n.t("Tried to bind on notification logic while server is not started."));this.client.onNotification(e,t)}dispose(){this.logger.logInfo("Disposing Razor Language Server."),this.isStarted=!1,this.startHandle=void 0,this.eventBus.emit(Lde.ServerStop)}async stop(){let e=Function,t=Function;this.stopHandle=new Promise((n,i)=>{e=n,t=i}),this.startHandle||t(new Error(Hg.l10n.t("Cannot stop Razor Language Server as it is already stopped."))),this.logger.logInfo("Stopping Razor Language Server.");try{this.client&&await this.client.stop(),this.dispose(),e()}catch(n){Vi(Hg,Hg.l10n.t("Razor Language Server failed to stop correctly, please check the 'Razor Log' and report an issue.")),t(n)}return this.stopHandle}async connectNamedPipe(e){await this.start(),await this.sendNotification("razor/namedPipeConnect",{pipeName:e})}setupLanguageServer(){let e=P6(this.vscodeType,this.languageServerDir,this.logger);this.clientOptions={outputChannel:e.outputChannel,documentSelector:[{language:gs.id,pattern:gs.globbingPattern}],middleware:{provideDiagnostics:O6,provideWorkspaceDiagnostics:I6}};let t=[];this.logger.logInfo(`Razor language server path: ${e.serverPath}`),t.push("--logLevel"),t.push(this.logger.logLevelForRZLS.toString()),this.razorTelemetryReporter.reportTraceLevel(this.logger.logLevel),e.debug&&(this.razorTelemetryReporter.reportDebugLanguageServer(),this.logger.logInfo("Debug flag set for Razor Language Server."),t.push("--debug")),e.usingOmniSharp||(t.push("--DelegateToCSharpOnDiagnosticPublish"),t.push("true"),t.push("--UpdateBuffersForClosedDocuments"),t.push("true"),t.push("--SingleServerCompletionSupport"),t.push("true"),t.push("--ForceRuntimeCodeGeneration"),t.push(e.forceRuntimeCodeGeneration?"true":"false"),e.useNewFormattingEngine&&(t.push("--UseNewFormattingEngine"),t.push("true")));let n,i={detached:!0,windowsHide:!0,env:this.env};if(e.serverPath.endsWith(".dll")){let o=[e.serverPath].concat(t);this.logger.logInfo(`Server arguments ${o.join(" ")}`),n=async()=>Mde.spawn(this.dotnetExecutablePath,o,i)}else this.logger.logInfo(`Server arguments ${t.join(" ")}`),n=async()=>Mde.spawn(e.serverPath,t,i);this.serverOptions=n,this.client=new x6("razorLanguageServer","Razor Language Server",this.serverOptions,this.clientOptions,e)}};var r$e=ye(require("vscode"));var L6=class{constructor(e,t){this.position=e;this.uri=t.toString()}uri};var yq=class{constructor(e,t,n){this.kind=e;this.projectedRanges=t;this.razorDocumentUri=n.toString()}razorDocumentUri};var ik=class r{constructor(e,t,n){this.ranges=e;this.spans=t;this.razorDocument=n}static empty=new r([],[],{uri:""})};var ok=class{constructor(e,t){this.razorDocument=e;this.textChanges=t}static empty};var M6=class{constructor(e,t,n){this.kind=e;this.razorDocumentUri=t;this.textChanges=n}};var N6=class r{constructor(e,t){this.serverClient=e;this.documentManager=t}static MapToDocumentRangesEndpoint="razor/mapToDocumentRanges";async languageQuery(e,t){await this.ensureStarted();let n=new L6(e,t),i=await this.serverClient.sendRequest("razor/languageQuery",n);return i.position=new r$e.Position(i.position.line,i.position.character),i}async mapToDocumentRanges(e,t,n){await this.ensureStarted();let i=[];for(let c of t){let u=lw(c);i.push(u)}let o=new yq(e,i,n),s=await this.serverClient.sendRequest(r.MapToDocumentRangesEndpoint,o),a=[];for(let c of s.ranges)if(c.start.line>=0){let u=J4(s.ranges[0]);a.push(u)}return s.ranges=a,s}async mapSpans(e){let t=Ni.deserialize(e.csharpDocument.uri),n=await this.documentManager.getDocumentForCSharpUri(t);if(!n)return ik.empty;let i=new yq(1,e.ranges,n.uri),o=await this.serverClient.sendRequest(r.MapToDocumentRangesEndpoint,i);return o?new ik(o.ranges.map(s=>({start:{line:s.start.line,character:s.start.character},end:{line:s.end.line,character:s.end.character}})),o.spans,{uri:Ni.serialize(n.uri)}):ik.empty}async mapTextChanges(e){let t=Ni.deserialize(e.csharpDocument.uri),n=await this.documentManager.getDocumentForCSharpUri(t);if(!n)return ok.empty;let i=new M6(1,n.uri,e.textChanges),o=await this.serverClient.sendRequest("razor/mapToDocumentEdits",i);return o?new ok({uri:Ni.serialize(n.uri)},o.textChanges):ok.empty}async ensureStarted(){await this.serverClient.start()}};var q6=ye(require("vscode"));var F6=class extends Dc{async provideReferences(e,t,n,i){let o=await this.getProjection(e,t,i);if(!o||o.languageKind===3)return;let s=await q6.commands.executeCommand("vscode.executeReferenceProvider",o.uri,o.position),a=new Array;for(let c of s)if(o.languageKind===2&&Q4(c.uri)){let u=tR(c.uri);a.push(new q6.Location(u,c.range))}else if(pC(c.uri)){let u=await ay.remapGeneratedFileLocation(c,this.serviceClient,this.logger,i);if(u===void 0)continue;a.push(u)}else a.push(c);return a}};var n$e=ye(require("vscode"));var j6=class extends Dc{constructor(e,t,n,i){super(e,t,n,i)}async prepareRename(e,t,n){let i=await this.getProjection(e,t,n);return!i||i.languageKind!==1?null:e.getWordRangeAtPosition(t)}async provideRenameEdits(e,t,n,i){let o=await this.getProjection(e,t,i);if(!o||o.languageKind!==1)return;let s=await n$e.commands.executeCommand("vscode.executeDocumentRenameProvider",o.uri,o.position,n);return await ay.remapGeneratedFileWorkspaceEdit(s,this.serviceClient,this.logger,i)}};var sk=ye(require("vscode")),i$e=ye(cl());var FD=class{constructor(e,t){this.tokens=e;this.hostDocumentSyncVersion=t}};var z6=class r{constructor(e,t,n,i){this.documentManager=e;this.documentSynchronizer=t;this.serverClient=n;this.logger=i}static getSemanticTokensRangeEndpoint="razor/provideSemanticTokensRange";semanticTokensRequestType=new i$e.RequestType(r.getSemanticTokensRangeEndpoint);emptyTokensResponse=new Array;async register(){await this.serverClient.onRequestWithParams(this.semanticTokensRequestType,async(e,t)=>this.getSemanticTokens(e,t))}async getSemanticTokens(e,t){try{let n=sk.Uri.parse(e.textDocument.uri,!0),i=await this.documentManager.getDocument(n);if(i===void 0)return this.logger.logWarning(`Could not find Razor document ${n}; returning semantic tokens information.`),new FD(this.emptyTokensResponse,e.requiredHostDocumentVersion);let o=await sk.workspace.openTextDocument(n);if(!await this.documentSynchronizer.trySynchronizeProjectedDocument(o,i.csharpDocument,e.requiredHostDocumentVersion,t))return new FD(this.emptyTokensResponse,e.requiredHostDocumentVersion);if(e.requiredHostDocumentVersion==1){let c=e.ranges[0].end.line;if(this.countLines(i.csharpDocument.getContent())<c)return new FD(this.emptyTokensResponse,-1)}let a=await sk.commands.executeCommand("vscode.provideDocumentRangeSemanticTokens",i.csharpDocument.uri,e.ranges[0]);return new FD(Array.from(a.data),e.requiredHostDocumentVersion)}catch(n){this.logger.logWarning(`${r.getSemanticTokensRangeEndpoint} failed with ${n}`)}return new FD(this.emptyTokensResponse,e.requiredHostDocumentVersion)}countLines(e){let t=0;for(let n of e)n===`
`&&t++;return t}};var o$e=ye(require("vscode"));var U6=class extends Dc{async provideSignatureHelp(e,t,n){let i=await this.getProjection(e,t,n);if(i)return await o$e.commands.executeCommand("vscode.executeSignatureHelpProvider",i.uri,i.position)}};function ak(r,e,t){return{type:1,eventName:r,properties:e,measures:t}}function s$e(r,e,t,n){return{type:78,eventName:r,properties:e,measures:t,errorProps:n}}var a$e=ye(require("vscode")),H6=class{constructor(e){this.eventStream=e;this.eventStream.post(this.razorExtensionActivated)}razorExtensionActivated=ak("VSCode.Razor.RazorExtensionActivated");debugLanguageServerEvent=ak("VSCode.Razor.DebugLanguageServer");workspaceContainsRazorEvent=ak("VSCode.Razor.WorkspaceContainsRazor");buffersOutOfSyncEvent=ak("VSCode.Razor.BuffersOutOfSync");reportedWorkspaceContainsRazor=!1;reportTraceLevel(e){let t=ak("VSCode.Razor.TraceLevel",{trace:a$e.LogLevel[e]});this.eventStream.post(t)}reportBuffersOutOfSync(){this.eventStream.post(this.buffersOutOfSyncEvent)}reportErrorOnServerStart(e){let t;e instanceof Error?t=e:t=Error(String(e)),this.reportError("VSCode.Razor.ErrorOnServerStart",t)}reportErrorOnActivation(e){let t;e instanceof Error?t=e:t=Error(String(e)),this.reportError("VSCode.Razor.ErrorOnActivation",t)}reportDebugLanguageServer(){this.eventStream.post(this.debugLanguageServerEvent)}reportWorkspaceContainsRazor(){this.reportedWorkspaceContainsRazor||(this.reportedWorkspaceContainsRazor=!0,this.eventStream.post(this.workspaceContainsRazorEvent))}reportError(e,t){let n=s$e(e,{error:JSON.stringify(t)},void 0,["error"]);this.eventStream.post(n)}};var ck=ye(require("vscode")),c$e=ye(en());var B6=class r extends Dc{constructor(t,n,i,o,s){super(t,o,i,s);this.documentSynchronizer=t;this.serverClient=n;this.serviceClient=i;this.documentManager=o;this.logger=s}static razorPullDiagnosticsCommand="razor/csharpPullDiagnostics";diagnosticRequestType=new c$e.RequestType(r.razorPullDiagnosticsCommand);async register(){await this.serverClient.onRequestWithParams(this.diagnosticRequestType,async(t,n)=>this.getDiagnostic(t,n))}async getDiagnostic(t,n){if(!this.documentManager.roslynActivated)return;let i=ck.Uri.parse(t.identifier.textDocumentIdentifier.uri,!0),o=await ck.workspace.openTextDocument(i),s=await this.documentManager.getDocument(i);if(!await this.documentSynchronizer.trySynchronizeProjectedDocument(o,s.csharpDocument,t.identifier.version,n))return;let c=s.csharpDocument.uri,u={textDocument:{uri:Ni.serialize(c)}};return await ck.commands.executeCommand(sde,u)}};var $6=ye(require("vscode")),V6=ye(en());var _q=class{constructor(e,t){this.textDocument=e;this.textEdit=t}};var W6=class r extends Dc{constructor(t,n,i,o,s){super(t,o,i,s);this.serverClient=n;this.serviceClient=i;this.documentManager=o;this.logger=s}static razorSimplifyMethodCommand="razor/simplifyMethod";simplifyMethodRequestType=new V6.RequestType(r.razorSimplifyMethodCommand);async register(){await this.serverClient.onRequestWithParams(this.simplifyMethodRequestType,async(t,n)=>this.getSimplifiedMethod(t,n))}async getSimplifiedMethod(t,n){if(!this.documentManager.roslynActivated)return;let i=t.identifier.textDocumentIdentifier;if(t.requiresVirtualDocument){let a=$6.Uri.parse(t.identifier.textDocumentIdentifier.uri,!0),u=(await this.documentManager.getDocument(a)).csharpDocument.uri;i=V6.TextDocumentIdentifier.create(Ni.serialize(u))}let o=new _q(i,t.textEdit);return await $6.commands.executeCommand(dde,o)}};var bq=ye(require("path")),uk=ye(require("vscode"));var u$e=require("fs");var l$e=require("fs/promises");var d$e="9",f$e="0",jqt="1",Nde=`${d$e}.${f$e}.${jqt}`,lk=class{constructor(e,t,n,i){this.platformInfo=e;this.getServerPath=t;this.channel=n;this.extensionPath=i}hostInfo;async getHostExecutableInfo(){if(this.hostInfo)return this.hostInfo;let t=Sa()!==void 0?"aspnetcore":"runtime";this.channel.appendLine(`Locating .NET runtime version ${Nde}`);let n=await this.getArchitectureFromTargetPlatform()??process.arch,i={acquireContext:{version:Nde,requestingExtensionId:Uv,architecture:n,mode:t},versionSpecRequirement:"greater_than_or_equal",rejectPreviews:!0},o=await uk.commands.executeCommand("dotnet.findPath",i);o===void 0&&(this.channel.appendLine(`Did not find .NET ${Nde} on path, falling back to acquire runtime via ${rx}`),o=await this.acquireDotNetProcessDependencies(t));let s=o.dotnetPath,a={version:"",path:s,env:this.getEnvironmentVariables(s)};return this.hostInfo=a,a}getEnvironmentVariables(e){let t={...process.env};return t.DOTNET_ROOT=bq.dirname(e),t.DOTNET_MULTILEVEL_LOOKUP="0",t.DOTNET_ROOT_USER=process.env.DOTNET_ROOT??"EMPTY",fs.crashDumpPath&&(t.DOTNET_DbgEnableMiniDump="1",t.DOTNET_DbgMiniDumpType="2",t.DOTNET_EnableCrashReport="1",t.DOTNET_DbgMiniDumpName=bq.join(fs.crashDumpPath,"%e.%p.dmp")),t}async acquireRuntime(e){let n={version:`${d$e}.${f$e}`,requestingExtensionId:Uv,mode:e},i=await uk.commands.executeCommand("dotnet.acquireStatus",n);if(i===void 0&&(await uk.commands.executeCommand("dotnet.showAcquisitionLog"),i=await uk.commands.executeCommand("dotnet.acquire",n),!i))throw new Error("Could not resolve the dotnet path!");return i}async acquireDotNetProcessDependencies(e){let t=await this.acquireRuntime(e),n=[this.getServerPath(this.platformInfo)];return await uk.commands.executeCommand("dotnet.ensureDotnetDependencies",{command:t.dotnetPath,arguments:n}),t}async getArchitectureFromTargetPlatform(){let e=bq.join(this.extensionPath,".vsixmanifest");if(!(0,u$e.existsSync)(e)){this.channel.appendLine(`Unable to find extension target platform - no vsix manifest file exists at ${e}`);return}let t=await(0,l$e.readFile)(e,"utf-8"),n=/TargetPlatform="(.*)"/.exec(t);if(!n)return;let i=n[1];switch(i){case"win32-x64":case"linux-x64":case"alpine-x64":case"darwin-x64":return"x64";case"win32-ia32":return"x86";case"win32-arm64":case"linux-arm64":case"alpine-arm64":case"darwin-arm64":return"arm64";case"linux-armhf":case"web":return;default:throw new Error(`Unknown extension target platform: ${i}`)}}};var h$e=ye(require("vscode")),p$e=ye(cl());var G6=class r extends Dc{constructor(t,n,i,o,s){super(t,o,i,s);this.serverClient=n;this.serviceClient=i;this.documentManager=o;this.logger=s}static razorFormatNewFileCommand="razor/formatNewFile";formatNewFileRequestType=new p$e.RequestType(r.razorFormatNewFileCommand);async register(){await this.serverClient.onRequestWithParams(this.formatNewFileRequestType,async(t,n)=>this.getFormatNewFile(t,n))}async getFormatNewFile(t,n){return this.documentManager.roslynActivated?await h$e.commands.executeCommand(fde,t):void 0}};var dk=ye(require("vscode")),Y6=ye(en());var K6=class r{constructor(e,t,n,i){this.serverClient=e;this.documentManager=t;this.documentSynchronizer=n;this.logger=i}static provideInlayHint="razor/inlayHint";InlayHintRequestType=new Y6.RequestType(r.provideInlayHint);emptyInlayHintResponse=new Array;async register(){await this.serverClient.onRequestWithParams(this.InlayHintRequestType,async(e,t)=>this.provideInlayHints(e,t))}async provideInlayHints(e,t){try{let n=dk.Uri.parse(e.identifier.textDocumentIdentifier.uri,!0),i=await this.documentManager.getDocument(n);if(i===void 0)return this.emptyInlayHintResponse;if(!this.documentManager.roslynActivated)return this.emptyInlayHintResponse;let o=await dk.workspace.openTextDocument(n);if(!await this.documentSynchronizer.trySynchronizeProjectedDocument(o,i.csharpDocument,e.identifier.version,t))return this.emptyInlayHintResponse;let a=Ni.serialize(i.csharpDocument.uri),c={textDocument:Y6.TextDocumentIdentifier.create(a),range:e.projectedRange};return await dk.commands.executeCommand(pde,c)}catch(n){this.logger.logWarning(`${r.provideInlayHint} failed with ${n}`)}return this.emptyInlayHintResponse}};var X6=ye(require("vscode")),m$e=ye(en());var J6=class r{constructor(e,t,n){this.serverClient=e;this.documentManager=t;this.logger=n}static resolveInlayHint="razor/inlayHintResolve";InlayHintResolveRequestType=new m$e.RequestType(r.resolveInlayHint);async register(){await this.serverClient.onRequestWithParams(this.InlayHintResolveRequestType,async(e,t)=>this.resolveInlayHint(e,t))}async resolveInlayHint(e,t){try{let n=X6.Uri.parse(e.identifier.textDocumentIdentifier.uri,!0);return await this.documentManager.getDocument(n)===void 0?null:await X6.commands.executeCommand(mde,e.inlayHint)}catch(n){this.logger.logWarning(`${r.resolveInlayHint} failed with ${n}`)}return null}};var pfe=ye(K3e()),Pq=require("fs"),hVe=require("path"),mfe=require("url"),bC=ye(require("vscode")),D5=ye(cVe());var Rq=".NET Application Server",T5="Debug Blazor Web Assembly in Browser";var uVe=ye(Soe());var lVe=r=>r.startsWith(T5)||r===Rq,dVe=(r,e)=>{if(r)try{e.logTrace(`[DEBUGGER] Terminating debugging session with PID ${r}...`),process.kill(r)}catch(t){e.logError(`[DEBUGGER] Error terminating debug processes with PID ${r}: `,t)}};async function fVe(r,e,t){t&&(typeof t=="number"?hzt(r,e,t):await pzt(r,e,t))}function hzt(r,e,t){lVe(r.name)&&dVe(t,e)}async function pzt(r,e,t){if(!lVe(r.name))return;let n=[];try{n=await(0,uVe.default)()}catch(o){e.logError("Error retrieving processes to clean-up: ",o)}let i=n.find(o=>!!(o&&o.cmd&&o.cmd.toLowerCase().match(t)));i&&dVe(i.pid,e)}var Sk=class r{constructor(e,t){this.logger=e;this.vscodeType=t}static autoDetectUserNotice=bC.l10n.t("Run and Debug: auto-detection found {0} for a launch browser");static edgeBrowserType="msedge";static chromeBrowserType="chrome";async resolveDebugConfiguration(e,t){t.request==="launch"&&await this.launchApp(e,t);let n="{wsProtocol}://{url.hostname}:{url.port}/_framework/debug/ws-proxy?browser={browserInspectUri}",i="https://localhost:5001";try{if(e!==void 0){let o=t.cwd?t.cwd:(0,mfe.fileURLToPath)(e.uri.toString());o=o.replace("${workspaceFolder}",(0,mfe.fileURLToPath)(e.uri.toString()));let s=JSON.parse((0,Pq.readFileSync)((0,hVe.join)(o,"Properties","launchSettings.json"),"utf8"));s?.profiles&&s?.profiles[Object.keys(s.profiles)[0]]?.inspectUri&&(n=s.profiles[Object.keys(s.profiles)[0]].inspectUri,i=s.profiles[Object.keys(s.profiles)[0]].applicationUrl.split(";",1)[0])}}catch(o){this.logger.logError("[DEBUGGER] Error while getting information from launchSettings.json: ",o)}await this.launchBrowser(e,t,n,i)}async launchApp(e,t){let n=t.hosted?t.program:"dotnet",i=t.cwd||"${workspaceFolder}",o=t.hosted?[]:["run"],s={name:Rq,type:"coreclr",request:"launch",prelaunchTask:"build",program:n,args:o,cwd:i,env:{ASPNETCORE_ENVIRONMENT:"Development",...t.env},launchBrowser:{enabled:!1},...t.dotNetConfig};try{if(await this.vscodeType.debug.startDebugging(e,s),process.platform!=="win32"){let a=this.vscodeType.debug.onDidTerminateDebugSession(async c=>{let u="blazor-devserver\\.dll",d=(e&&e.uri&&e.uri.fsPath).toLowerCase().replace(/\//g,"\\/"),f=t.hosted?s.program:`${d}.*${u}|${u}.*${d}`;await fVe(c,this.logger,f),a.dispose()})}}catch(a){this.logger.logError("[DEBUGGER] Error when launching application: ",a)}}async launchBrowser(e,t,n,i){let o=t.browser,s=o==="edge"?r.edgeBrowserType:o==="chrome"?r.chromeBrowserType:await r.determineBrowserType();if(!s)return;let a={name:T5,type:s,request:"launch",timeout:t.timeout||3e4,url:t.url||i,webRoot:t.webRoot||"${workspaceFolder}",inspectUri:n,trace:t.trace||!1,noDebug:t.noDebug||!1,...t.browserConfig,cascadeTerminateToConfigurations:[Rq]};try{await this.vscodeType.debug.startDebugging(e,a)}catch(c){this.logger.logError("[DEBUGGER] Error when launching browser debugger: ",c);let u=bC.l10n.t("There was an unexpected error while launching your debugging session. Check the console for helpful logs and visit the debugging docs for more info."),l={title:bC.l10n.t("View Debug Docs"),action:async()=>{await this.vscodeType.commands.executeCommand("vcode.open","https://aka.ms/blazorwasmcodedebug")}},d=bC.l10n.t("Ignore");Vi(this.vscodeType,u,l,d)}}static async determineBrowserType(){if((await new D5.EdgeBrowserFinder(process.env,Pq.promises,pfe.default).findAll()).length>0)return Ca(bC,r.autoDetectUserNotice.replace("{0}","'Edge'")),r.edgeBrowserType;if((await new D5.ChromeBrowserFinder(process.env,Pq.promises,pfe.default).findAll()).length>0)return Ca(bC,r.autoDetectUserNotice.replace("{0}","'Chrome'")),r.chromeBrowserType;Vi(bC,bC.l10n.t("Run and Debug: A valid browser is not installed. Please install Edge or Chrome."))}};var xq=ye(require("vscode")),sR=class r{constructor(e){this.languageServiceClient=e}static MapSpansCommand="razor.mapSpansCommand";static MapChangesCommand="razor.mapChangesCommand";async register(){return xq.Disposable.from(xq.commands.registerCommand(r.MapSpansCommand,async e=>this.languageServiceClient.mapSpans(e)),xq.commands.registerCommand(r.MapChangesCommand,async e=>this.languageServiceClient.mapTextChanges(e)))}};async function gVe(r,e,t,n,i,o,s,a=!1){let c=new H6(n),u={create:()=>new mVe.EventEmitter};try{let l=P6(r,t,s);if(l.cohostingEnabled){s.logTrace("Razor cohosting is enabled, skipping language server activation. No rzls process will be created.");return}let f=await new lk(o,()=>l.serverPath,s.outputChannel,e.extensionPath).getHostExecutableInfo(),p=pVe.dirname(f.path),_={...process.env};_.DOTNET_ROOT=p,_.DOTNET_MULTILEVEL_LOOKUP="0",_.DOTNET_ROOT_USER=process.env.DOTNET_ROOT??"EMPTY",i&&await gzt(f.env,i,s);let D=new A6(r,t,c,f.env,f.path,s),P=new g6(D,s,c,o),M=new N6(D,P),A=new v6(P,s);GWe(P,c);let U=new R6,ne=new r6(P,u,s),pe=new T6(P,M,u,s),ve=[],V=new JI(r,P,void 0,s),W=new X4(D,s),ee=new Y4(P,A,D,s),De=new VI(P,A,D,ne.projectionProvider,s);new P_(P,s).register(),D.onStart(async()=>{let Me=new z6(P,A,D,s),ce=new KI(P,D,s),Ce=new QI(P,A,D,s),be=new rk(D,P,s),xe=new K6(D,P,A,s),Ne=new J6(D,P,s),$e=new nR(P,A,D,s),Ct=new U6(A,P,M,s),ze=new n6(A,P,M,s),st=new D6(A,P,M,s),at=new S6(A,P,M,s),tt=new Z4(A,P,M,s),fr=new j6(A,P,M,s),Lr=new F6(A,P,M,s),zr=new _6(A,P,M,s),cr=new B6(A,D,M,P,s),xt=new W6(A,D,M,P,s),hr=new G6(A,D,M,P,s),Mt=new sR(M);ve.push(U.register(),r.languages.registerSignatureHelpProvider(gs.id,Ct,"(",","),r.languages.registerDefinitionProvider(gs.id,ze),r.languages.registerImplementationProvider(gs.id,st),r.languages.registerHoverProvider(gs.documentSelector,at),r.languages.registerReferenceProvider(gs.id,Lr),r.languages.registerCodeLensProvider(gs.id,tt),r.languages.registerRenameProvider(gs.id,fr),r.languages.registerDocumentHighlightProvider(gs.id,zr),P.register(),ne.register(),pe.register(),A.register(),V.register(),W.register()),a&&await new E6().register(r),await Promise.all([ce.register(),Ce.register(),be.register(),xe.register(),Ne.register(),$e.register(),Me.register(),cr.register(),ee.register(),De.register(),xt.register(),hr.register(),Mt.register()])});let ue=D.onStop(()=>{ve.forEach(Me=>Me.dispose()),ve.length=0}),Fe=new Sk(s,r);e.subscriptions.push(r.debug.registerDebugConfigurationProvider("blazorwasm",Fe)),D.onStarted(async()=>{await P.initialize()}),await mzt(r,D,s,e),e.subscriptions.push(D,ue,s)}catch(l){s.logError("Failed when activating Razor VSCode.",l),c.reportErrorOnActivation(l)}}async function mzt(r,e,t,n){if((await r.workspace.findFiles(gs.globbingPattern)).length===0){t.logAlways("No Razor files detected in workspace, delaying language server start.");let o=r.workspace.createFileSystemWatcher(gs.globbingPattern),s=async()=>{a.dispose(),c.dispose(),await e.start()},a=o.onDidCreate(async()=>s()),c=r.workspace.onDidOpenTextDocument(async u=>{u.languageId===gs.id&&await s()});n.subscriptions.push(a,c)}else await e.start()}async function gzt(r,e,t){try{let n=await e.activate();if(!n.setupTelemetryEnvironmentAsync)return;await n.setupTelemetryEnvironmentAsync(r)}catch(n){t.logError("Failed to setup DevKit environment for telemetry.",n)}}async function E5(r,e,t,n,i,o,s){let c=aR.workspace.getConfiguration("razor").get("languageServer.directory",""),u=c.length>0?c:o?gfe.join(e,".razoromnisharp"):gfe.join(e,".razor");vVe.existsSync(u)?o?await yVe.activate(aR,r,u,t,!1):await gVe(aR,r,u,t,n,i,s,!1):pp(aR,aR.l10n.t("Cannot load Razor language server because the directory was not found: '{0}'",u))}var R5=ye(require("fs")),P5=ye(require("path")),wu=ye(require("vscode")),Ck=ye(en()),Tk=class{static logName="Razor Log";traceEnabled;debugEnabled;infoEnabled;outputChannel;languageServerClient;onLogEmitter;constructor(){this.outputChannel=wu.window.createOutputChannel(wu.l10n.t("Razor Log"),{log:!0}),this.onLogEmitter=new wu.EventEmitter,this.processTraceLevel(),this.outputChannel.onDidChangeLogLevel(async()=>{await this.updateLogLevelAsync()}),this.logRazorInformation(),this.setupToStringOverrides()}get logLevel(){return this.outputChannel.logLevel}get logLevelForRZLS(){switch(this.logLevel){case wu.LogLevel.Off:return 0;case wu.LogLevel.Trace:return 1;case wu.LogLevel.Debug:return 2;case wu.LogLevel.Info:return 3;case wu.LogLevel.Warning:return 4;case wu.LogLevel.Error:return 5;default:throw new Error("Unexpected log level value. Do not know how to convert")}}get onLog(){return this.onLogEmitter.event}logAlways(e){this.outputChannel.info(e),this.onLogEmitter.fire(e)}logWarning(e){this.outputChannel.warn(e),this.onLogEmitter.fire(e)}logError(e,t){if(t instanceof Error)this.logErrorInternal(e,t);else{let n=String(t);this.logErrorInternal(e,Error(n))}}logInfo(e){this.infoEnabled&&(this.outputChannel.info(e),this.onLogEmitter.fire(e))}logDebug(e){this.debugEnabled&&(this.outputChannel.debug(e),this.onLogEmitter.fire(e))}logTrace(e){this.traceEnabled&&(this.outputChannel.trace(e),this.onLogEmitter.fire(e))}log(e,t){switch(t){case Ck.MessageType.Error:this.logError(e,new Error(e));break;case Ck.MessageType.Warning:this.logWarning(e);break;case Ck.MessageType.Info:this.logInfo(e);break;case Ck.MessageType.Debug:this.logDebug(e);break;case Ck.MessageType.Log:default:this.logTrace(e)}}dispose(){this.outputChannel.dispose()}async updateLogLevelAsync(){this.processTraceLevel(),this.languageServerClient&&await this.languageServerClient.sendNotification("razor/updateLogLevel",{logLevel:this.logLevelForRZLS})}logErrorInternal(e,t){let n=`${e}
${t.message}
Stack Trace:
${t.stack}`;this.outputChannel.error(n),this.onLogEmitter.fire(e)}logRazorInformation(){let e=yzt();this.logAlways("--------------------------------------------------------------------------------"),this.logAlways(`Razor.VSCode version ${e.defaults.razor}`),this.logAlways("--------------------------------------------------------------------------------"),this.logAlways(`Razor's log level is currently set to '${wu.LogLevel[this.logLevel]}'`),this.logAlways(" - To change Razor's log level use the gear icon on the output window"),this.logAlways(" - To report issues invoke the 'Report a Razor issue' command via the command palette."),this.logAlways("-----------------------------------------------------------------------------------------------------------------------------"),this.logAlways("")}setupToStringOverrides(){wu.Range.prototype.toString=function(){return`[${this.start}, ${this.end}]`},wu.Position.prototype.toString=function(){return`${this.line}:${this.character}`}}processTraceLevel(){this.traceEnabled=this.outputChannel.logLevel<=wu.LogLevel.Trace,this.debugEnabled=this.outputChannel.logLevel<=wu.LogLevel.Debug,this.infoEnabled=this.outputChannel.logLevel<=wu.LogLevel.Info}};function yzt(){let r=_zt(__dirname,"package.json");return JSON.parse(R5.readFileSync(r).toString())}function _zt(r,e){let t=r;for(;t;){let n=P5.join(t,e);if(R5.existsSync(n))return n;let i=P5.dirname(t);t=i===r?void 0:i}throw new Error(wu.l10n.t("Could not find '{0}' in or above '{1}'.",e,r))}function _Ve(r,e,t,n,i,o,s,a){let c=Dk.window.createOutputChannel(Dk.l10n.t(".NET Test Log")),u=Dk.window.createOutputChannel(Dk.l10n.t(".NET NuGet Restore")),l=wqe(r,e,t,n,i,o,c,u,s),d=new Tk,f;rh.razorDevMode||(f=E5(r,r.extension.extensionPath,i,void 0,e,!0,d));let p=a(l);return{initializationFinished:async()=>{await(await l).server.waitForInitialize(),await p,f&&await f},getAdvisor:async()=>(await l).advisor,getTestManager:async()=>(await l).testManager,eventStream:i,logDirectory:r.logUri.fsPath}}var t8e=ye(require("vscode"));var bVe=ye(require("vscode"));var x5=class{onServerStateChangeEmitter=new bVe.EventEmitter;get onServerStateChange(){return this.onServerStateChangeEmitter.event}dispose(){this.onServerStateChangeEmitter.dispose()}};var u1=ye(require("vscode")),Wme=ye(require("fs")),$me=ye(require("path"));var yfe=ye(require("vscode"));var wC=ye(require("vscode"));function wVe(r,e){Sa()||r.subscriptions.push(wC.commands.registerCommand("dotnet.openSolution",async()=>bzt(e)))}async function bzt(r){if(!wC.workspace.workspaceFolders)return;let t=(await wC.workspace.findFiles("**/*.{sln,slnf}")).map(DH),n=await wC.window.showQuickPick(t,{matchOnDescription:!0,placeHolder:"Select solution file"});if(n){let i=wC.Uri.file(n.target);return await r.openSolution(i),i}}var Rc=ye(require("vscode"));function SVe(r,e,t){r.subscriptions.push(Rc.commands.registerCommand("roslyn.client.peekReferences",wzt)),r.subscriptions.push(Rc.commands.registerCommand("roslyn.client.completionComplexEdit",async(n,i,o,s)=>Szt(n,i,o,s,t))),r.subscriptions.push(Rc.commands.registerCommand("dotnet.restartServer",async()=>Czt(e)))}async function wzt(r,e){let t=Ni.deserialize(r),n=new Rc.Position(e.line,e.character),i=await Rc.commands.executeCommand("vscode.executeReferenceProvider",t,n);i&&Array.isArray(i)&&await Rc.commands.executeCommand("editor.action.showReferences",t,n,i)}async function Szt(r,e,t,n,i){let o="[roslyn.client.completionComplexEdit]",s=Ni.deserialize(r.uri),a=await Rc.workspace.openTextDocument(s);a===void 0&&vfe(i,`${o} Can't open document with path: '${r.uri}'`);let c;(t||n>=0)&&(c=await Rc.window.showTextDocument(a),c===void 0&&vfe(i,`${o} Editor unavailable for document with path: '${r.uri}'`));let u=a.validateRange(new Rc.Range(e.range.start.line,e.range.start.character,e.range.end.line,e.range.end.character)),l=!1;for(let d=0;d<3;d++){if(t)c.selection=new Rc.Selection(u.start,u.end),l=await c.insertSnippet(new Rc.SnippetString(e.newText));else{let f=new Rc.WorkspaceEdit,p=Rc.TextEdit.replace(u,e.newText);if(f.set(a.uri,[p]),l=await Rc.workspace.applyEdit(f),l&&n>=0){let _=a.positionAt(n);c.selections=[new Rc.Selection(_,_)]}}if(l)return}l||vfe(i,`${o} ${t?"TextEditor.insertSnippet":"workspace.applyEdit"} failed.`)}function vfe(r,e){throw r.show(),r.error(e),new Error(e)}async function Czt(r){await r.restart()}function CVe(r,e,t,n){Tzt(r,e,t,n),wVe(r,e),SVe(r,e,n)}function Tzt(r,e,t,n){r.subscriptions.push(yfe.commands.registerCommand("csharp.reportIssue",async()=>WN(r.extension.packageJSON.version,dm,!1,t))),r.subscriptions.push(yfe.commands.registerCommand("csharp.showOutputWindow",async()=>n.show()))}var Ad=ye(require("vscode"));var TVe=ye(require("vscode"));var Pc=ye(en()),Ul=ye(cl()),_fe;(n=>(n.method="workspace/debugConfiguration",n.messageDirection=Pc.MessageDirection.clientToServer,n.type=new Ul.RequestType(n.method)))(_fe||={});var Oq;(n=>(n.method="textDocument/_vs_onAutoInsert",n.messageDirection=Pc.MessageDirection.clientToServer,n.type=new Ul.RequestType(n.method)))(Oq||={});var bfe;(n=>(n.method="workspace/_vs_registerSolutionSnapshot",n.messageDirection=Pc.MessageDirection.clientToServer,n.type=new Ul.RequestType0(n.method)))(bfe||={});var wfe;(n=>(n.method="textDocument/_vs_getProjectContexts",n.messageDirection=Pc.MessageDirection.clientToServer,n.type=new Ul.RequestType(n.method)))(wfe||={});var Sfe;(n=>(n.method="workspace/projectInitializationComplete",n.messageDirection=Pc.MessageDirection.serverToClient,n.type=new Ul.NotificationType(n.method)))(Sfe||={});var Cfe;(n=>(n.method="workspace/projectConfigurationTelemetry",n.messageDirection=Pc.MessageDirection.serverToClient,n.type=new Ul.NotificationType(n.method)))(Cfe||={});var Tfe;(n=>(n.method="window/_roslyn_showToast",n.messageDirection=Pc.MessageDirection.serverToClient,n.type=new Ul.NotificationType(n.method)))(Tfe||={});var Dfe;(n=>(n.method="textDocument/runTests",n.messageDirection=Pc.MessageDirection.clientToServer,n.type=new Pc.ProtocolRequestType(n.method)))(Dfe||={});var Efe;(n=>(n.method="workspace/attachDebugger",n.messageDirection=Pc.MessageDirection.serverToClient,n.type=new Ul.RequestType(n.method)))(Efe||={});var Rfe;(n=>(n.method="solution/open",n.messageDirection=Pc.MessageDirection.clientToServer,n.type=new Ul.NotificationType(n.method)))(Rfe||={});var Pfe;(n=>(n.method="project/open",n.messageDirection=Pc.MessageDirection.clientToServer,n.type=new Ul.NotificationType(n.method)))(Pfe||={});var xfe;(n=>(n.method="workspace/buildOnlyDiagnosticIds",n.messageDirection=Pc.MessageDirection.clientToServer,n.type=new Ul.RequestType0(n.method)))(xfe||={});var Ofe;(n=>(n.method="codeAction/resolveFixAll",n.messageDirection=Pc.MessageDirection.clientToServer,n.type=new Ul.RequestType(n.method)))(Ofe||={});var Ife;(n=>(n.method="workspace/_roslyn_restore",n.messageDirection=Pc.MessageDirection.clientToServer,n.type=new Pc.ProtocolRequestType(n.method)))(Ife||={});var kfe;(n=>(n.method="workspace/_roslyn_restorableProjects",n.messageDirection=Pc.MessageDirection.clientToServer,n.type=new Ul.RequestType0(n.method)))(kfe||={});var Afe;(n=>(n.method="workspace/_roslyn_projectNeedsRestore",n.messageDirection=Pc.MessageDirection.serverToClient,n.type=new Ul.RequestType(n.method)))(Afe||={});var Lfe;(n=>(n.method="copilot/_related_documents",n.messageDirection=Pc.MessageDirection.clientToServer,n.type=new Pc.ProtocolRequestType(n.method)))(Lfe||={});var Mfe;(n=>(n.method="sourceGeneratedDocument/_roslyn_getText",n.messageDirection=Pc.MessageDirection.clientToServer,n.type=new Ul.RequestType(n.method)))(Mfe||={});var Nfe;(n=>(n.method="workspace/refreshSourceGeneratedDocument",n.messageDirection=Pc.MessageDirection.serverToClient,n.type=new Ul.NotificationType(n.method)))(Nfe||={});var O5=class{constructor(e,t){this.server=e;this.outputChannel=t}async getWorkspaceDebugInformation(e){if(!this.server.isRunning())return;let t={workspacePath:Ni.serialize(e)},n;try{n=await this.server.sendRequest(_fe.type,t,new TVe.CancellationTokenSource().token)}catch(o){this.outputChannel.error("Failed to get debug configuration",o);return}return await w8(n,async o=>{let s=eH(o.projectPath),a=await tH(o.projectPath);return{projectPath:o.projectPath,outputPath:o.outputPath,projectName:o.projectName,targetsDotnetCore:o.targetsDotnetCore,isExe:o.isExe,isWebProject:s,isBlazorWebAssemblyHosted:rH(o.isExe,s,a,o.targetsDotnetCore),isBlazorWebAssemblyStandalone:a,solutionPath:o.solutionPath}})}};var V5e=ye(mT()),qm=ye(require("vscode"));var o1=ye(xme());var Ih=ye(xme()),A_=class{static solutionSnapshotProviderRegistration=Object.freeze(new Ih.ServiceJsonRpcDescriptor(Ih.ServiceMoniker.create("Microsoft.CodeAnalysis.LanguageClient.SolutionSnapshotProvider","0.1"),Ih.Formatters.MessagePack,Ih.MessageDelimiters.BigEndianInt32LengthHeader));static dotnetDebugConfigurationService=new Ih.ServiceJsonRpcDescriptor(Ih.ServiceMoniker.create("Microsoft.VisualStudio.Debugger.DotnetDebugConfigurationService","0.1"),Ih.Formatters.MessagePack,Ih.MessageDelimiters.BigEndianInt32LengthHeader,{protocolMajorVersion:3});static csharpExtensionBuildResultService=new Ih.ServiceJsonRpcDescriptor(Ih.ServiceMoniker.create("Microsoft.VisualStudio.CSharpExtension.BuildResultService","0.1"),Ih.Formatters.MessagePack,Ih.MessageDelimiters.BigEndianInt32LengthHeader,{protocolMajorVersion:3})};var Ome=class extends o1.GlobalBrokeredServiceContainer{registerExternalServices(...e){let t=new o1.ServiceRegistration(o1.ServiceAudience.local,!1);this.register(e.map(n=>({moniker:n,registration:t})))}},HG;function Ime(){return HG||(HG=new Ome,HG.registerExternalServices(A_.dotnetDebugConfigurationService.moniker)),HG}function W5e(){return Ime().getFullAccessServiceBroker()}var s1=class extends Error{},BG=class extends Error{constructor(){super()}},f2=class extends Error{},WG=class extends Error{},$5e="${workspaceFolder}";function R$t(r,e){if(r.startsWith($5e)){let t=r.substring($5e.length);t.startsWith("/")?e=e.replace(/[\\/]+/g,"/"):e=e.replace(/[\\/]+/g,"\\"),r=e+t}return r}var $G=class r{constructor(e,t){this.workspaceDebugInfoProvider=e;this.dotnetWorkspaceConfigurationProvider=t}static dotnetType="dotnet";async resolveDebugConfiguration(e,t,n){if(t.type===void 0)return t;if(t.request!=="launch")throw t.request?new Error(qm.l10n.t("'{0}' request is not supported for the '{1}' configuration.",t.request,r.dotnetType)):new Error(qm.l10n.t("'{0}' was not set in the debug configuration.","request"));let i=t.projectPath;if(e){i&&(i=R$t(i,e.uri.fsPath));let o=await W5e()?.getProxy(A_.dotnetDebugConfigurationService);try{if(o){let s=await o.resolveDebugConfigurationWithLaunchConfigurationService(i,t,n);return this.resolveDotnetDebugConfigurationServiceResult(i,s)}else throw new WG}catch(s){if(s instanceof WG){if(!i)throw new s1(qm.l10n.t("'{0}' was not provided in the debug configuration.","projectPath"));return await this.resolveDebugConfigurationWithWorkspaceDebugInformationProvider(e,i)}else{if(s instanceof BG)return;throw s}}finally{o?.dispose()}}else throw new Error(qm.l10n.t("Can not find an opened workspace folder. Please open a folder before starting to debug with a '{0}' configuration'.",r.dotnetType))}resolveDotnetDebugConfigurationServiceResult(e,t){if(t.error){let i=t.error;switch(i.kind){case"launchCancelled":throw new BG;case"internalError":case"userError":throw new s1(i.message);default:throw new f2(`Unexpected error kind: '${i.kind}'`)}}let n=t.configurations;if(n.length==0)throw e?new s1(qm.l10n.t("No launchable target found for '{0}'",e)):new s1(qm.l10n.t("No launchable target found."));if(n.length==1)return n[0];if(n.length===2){let i=qm.debug.onDidStartDebugSession(async o=>{o.name===n[0].name&&(i.dispose(),await qm.debug.startDebugging(o.workspaceFolder,n[1],o))});return n[0]}else throw n.length>2?new f2("Multiple launch targets (>2) is not yet supported."):new f2("Unexpected configuration array from IDotnetDebugConfigurationServiceResult.")}async resolveDebugConfigurationWithWorkspaceDebugInformationProvider(e,t){let n=await this.workspaceDebugInfoProvider.getWorkspaceDebugInformation(e.uri);if(!n)throw new Error(qm.l10n.t("Cannot resolve .NET debug configurations. The server is still initializing or has exited unexpectedly."));for(let i=0;i<n.length;i++){let o=n[i].projectPath.replace(/[\\/]+/g,"/");if(t.replace(/[\\/]+/g,"/")==o){let a=new wD(n,e);if(a.hasExecutableProjects()){await a.selectStartupProject(i),await V5e.ensureDir(a.vscodeFolder);let c=await HN(a);await BN(a,c);let u=a.computeProgramLaunchType(),l=a.createLaunchJsonConfigurationsArray(u,!0);if(l.length===1)return l[0];throw new Error(qm.l10n.t("Unable to determine a configuration for '{0}'. Please generate C# debug assets instead.",t))}else throw new Error(qm.l10n.t("'{0}' is not an executable project.",t))}}throw new Error(qm.l10n.t("Unable to determine debug settings for project '{0}'",t))}async resolveDebugConfigurationWithSubstitutedVariables(e,t,n){return this.dotnetWorkspaceConfigurationProvider.resolveDebugConfigurationWithSubstitutedVariables(e,t,n)}};function G5e(r,e,t,n,i){let o=new O5(e,i),s=t.onServerStateChange(async c=>{c.state===3&&(Sa()||await z$(r,o))});r.subscriptions.push(s);let a=new vO(o,n,i);r.subscriptions.push(Ad.debug.registerDebugConfigurationProvider("dotnet",new $G(o,a))),r.subscriptions.push(Ad.debug.registerDebugConfigurationProvider("coreclr",a)),r.subscriptions.push(Ad.commands.registerCommand("dotnet.generateAssets",async c=>{await P$t()&&await U$(o,c)}))}async function P$t(){if(Sa()){let r;for(;r===void 0;){let e=Ad.l10n.t("Yes"),t=Ad.l10n.t("No"),n=Ad.l10n.t("More Information"),i=Ad.l10n.t(".NET: Generate Assets for Build and Debug"),o=await Ad.window.showInformationMessage(i,{modal:!0,detail:Ad.l10n.t("The '{0}' command is not recommended to be used when C# Dev Kit extension is installed. Would you like build and debug using a dynamic configuration instead?",i)},e,t,n);o===e?(await Ad.commands.executeCommand("workbench.action.debug.selectandstart","dotnet"),r=!1):o===t?r=!0:o===n?await Ad.env.openExternal(Ad.Uri.parse("https://aka.ms/VSCode-CS-DynamicDebugConfig")):o===void 0&&(r=!1)}return r}return!1}var Y5e=ye(require("fs")),GG=ye(require("path")),Hl=ye(require("vscode")),J5e=ye(KS());function X5e(r,e){if(Sa())return;let t=Hl.window.createOutputChannel(Hl.l10n.t(".NET Test Log"));r.subscriptions.push(Hl.commands.registerCommand("dotnet.test.run",async n=>Q5e(n,e,t))),r.subscriptions.push(Hl.commands.registerCommand("dotnet.test.runTestsInContext",async()=>K5e(!1,e,t))),r.subscriptions.push(Hl.commands.registerCommand("dotnet.test.debugTestsInContext",async()=>K5e(!0,e,t)))}async function K5e(r,e,t){let n=Hl.window.activeTextEditor;if(!n)throw new Error("No active editor");let i={start:n.selection.active,end:n.selection.active},s={textDocument:J5e.TextDocumentIdentifier.create(Ni.serialize(n.document.uri)),range:i,attachDebugger:r};return Q5e(s,e,t)}var VG=!1;async function Q5e(r,e,t){if(VG){Vi(Hl,Hl.l10n.t("Test run already in progress"));return}r.runSettingsPath=x$t(r.textDocument.uri,t),VG=!0,t.show(!0);let n;return await Hl.window.withProgress({location:Hl.ProgressLocation.Notification,title:"Dotnet Test",cancellable:!0},async(i,o)=>{let s=0,a=u=>{if(u.message&&t.appendLine(u.message),u.progress){let l=u.progress.totalTests,d=u.progress.testsPassed+u.progress.testsFailed+u.progress.testsSkipped,f=(d-s)/l*100;i.report({message:u.stage,increment:f}),s=d,n=u.progress}else i.report({message:u.stage})};i.report({message:"Saving files..."}),await Hl.workspace.saveAll(!1),i.report({message:"Requesting server..."}),await e.sendRequestWithProgress(Dfe.type,r,async u=>{a(u)},o).then(u=>{u.forEach(l=>{a(l)})},u=>{t.appendLine(u)})}).then(()=>{VG=!1},()=>{VG=!1}),n}function x$t(r,e){let t=ds.runSettingsPath;if(t.length===0)return;let n=t;if(!GG.isAbsolute(t)){let i=Hl.workspace.getWorkspaceFolder(Hl.Uri.parse(r));if(i===void 0){e.appendLine(`Warning: Unable to find workspace folder for ${r}, cannot resolve run settings path ${t}.`);return}n=GG.join(i.uri.fsPath,t)}if(!Y5e.existsSync(n)){e.appendLine(`Warning: Unable to find run settings file at ${n}.`);return}return n}var c1=ye(require("vscode"));function Z5e(r){return Z$(r,{getRelevantOptions:()=>({changedCommonOptions:Vj,changedLanguageServerOptions:DSe,changedOmnisharpOptions:[]}),handleOptionChanges(n){O$t(n)}})}function O$t(r){if(r.changedCommonOptions.length==0&&r.changedLanguageServerOptions.length==0)return;let e={title:c1.l10n.t("Reload Window"),command:"workbench.action.reloadWindow"};if(r.changedCommonOptions.find(n=>n==="useOmnisharpServer")){Ca(c1,c1.l10n.t("dotnet.server.useOmnisharp option has changed. Please reload the window to apply the change"),e);return}let t=c1.l10n.t("C# configuration has changed. Would you like to reload the window to apply your changes?");Ca(c1,t,e)}var py=ye(require("vscode"));var eGe=ye(TW());function tGe(r,e,t){r.subscriptions.push(py.commands.registerCommand("roslyn.client.fixAllCodeAction",async n=>I$t(e,n,t)))}async function kme(r,e,t){if(!r.FixAllFlavors)throw new Error(`FixAllFlavors is missing from data ${JSON.stringify(r)}`);let n=await py.window.showQuickPick(r.FixAllFlavors,{placeHolder:py.l10n.t("Pick a fix all scope")});await py.window.withProgress({location:py.ProgressLocation.Notification,title:py.l10n.t("Fix All Code Action"),cancellable:!0},async(i,o)=>{if(n){let s={title:r.UniqueIdentifier,data:r,scope:n},a=await e.sendRequest(Ofe.type,s,o);if(a.edit){let l=await(0,eGe.createConverter)(d=>Ni.deserialize(d),!0,!0,!0).asWorkspaceEdit(a.edit);if(!await py.workspace.applyEdit(l)){let d="[roslyn.client.fixAllCodeAction]",f="Failed to make a fix all edit for completion.";throw t.show(),t.error(`${d} ${f}`),new Error("Tried to insert multiple code action edits, but an error occurred.")}}}})}async function I$t(r,e,t){e&&await kme(e,r,t)}var Yg=ye(require("vscode")),rGe=ye(en()),nGe=ye(TW());function iGe(r,e,t){r.subscriptions.push(Yg.commands.registerCommand("roslyn.client.nestedCodeAction",async n=>k$t(e,n,t)))}async function k$t(r,e,t){if(e){let n=e,i=n.NestedCodeActions;if(i.length>0){let o=A$t(i),s=await Yg.window.showQuickPick(o,{placeHolder:Yg.l10n.t(n.UniqueIdentifier),ignoreFocusOut:!0});if(s){let a=s.codeAction;if(!a)return;if(a.data.FixAllFlavors){await kme(a.data,r,t);return}await Yg.window.withProgress({location:Yg.ProgressLocation.Notification,title:Yg.l10n.t("Nested Code Action"),cancellable:!0},async(c,u)=>{let l={title:a.title,data:a.data},d=await r.sendRequest(rGe.CodeActionResolveRequest.type,l,u);if(!d.edit)throw t.show(),t.error("Failed to make an edit for completion."),new Error("Tried to retrieve a code action edit, but an error occurred.");let _=await(0,nGe.createConverter)(D=>Ni.deserialize(D),!0,!0,!0).asWorkspaceEdit(d.edit);if(!await Yg.workspace.applyEdit(_)){let D="[roslyn.client.nestedCodeAction]",P="Failed to make am edit for completion.";throw t.show(),t.error(`${D} ${P}`),new Error("Tried to insert code action edit, but an error occurred.")}})}}}}function A$t(r){return r.map(e=>{let t=e.data.CodeActionPath,n=e.data.FixAllFlavors;if(t.length===1)return t;let i=t.slice(1).join(" -> "),o=Yg.l10n.t("Fix All: ");return{label:n?`${o}${i}`:i,codeAction:e}})}var vl=ye(require("vscode"));var oGe=ye(require("path"));var KG=!1;function sGe(r,e){if(Sa())return;let t=vl.window.createOutputChannel(vl.l10n.t(".NET NuGet Restore"));r.subscriptions.push(vl.commands.registerCommand("dotnet.restore.project",async n=>L$t(e,t))),r.subscriptions.push(vl.commands.registerCommand("dotnet.restore.all",async()=>Ame(e,t,[],!0))),e.registerOnRequest(Afe.type,async n=>{await Ame(e,t,n.projectFilePaths,!1)})}async function L$t(r,e){let t;try{t=await r.sendRequest0(kfe.type,new vl.CancellationTokenSource().token)}catch(o){if(o instanceof vl.CancellationError)return;throw o}let n=t.map(o=>{let s=oGe.default.basename(o);return{label:vl.l10n.t("Restore {0}",s),description:o}}),i=await vl.window.showQuickPick(n);i&&await Ame(r,e,[i.description],!0)}async function Ame(r,e,t,n){if(KG){Vi(vl,vl.l10n.t("Restore already in progress"));return}KG=!0,n&&e.show(!0);let i={projectFilePaths:t};await vl.window.withProgress({location:vl.ProgressLocation.Notification,title:vl.l10n.t("Restore"),cancellable:!0},async(o,s)=>{let a=u=>{u.message&&e.appendLine(u.message),o.report({message:u.stage})};o.report({message:vl.l10n.t("Sending request")}),await r.sendRequestWithProgress(Ife.type,i,async u=>a(u),s).then(u=>u.forEach(l=>a(l)),u=>e.appendLine(u))}).then(()=>{KG=!1},()=>{KG=!1})}var LC=ye(require("vscode"));var aGe=ye(en());function cGe(r,e){r.subscriptions.push(LC.workspace.registerTextDocumentContentProvider("roslyn-source-generated",new Lme(e)))}var Lme=class{constructor(e){this.languageServer=e;e.registerOnNotification(Nfe.method,async()=>{this._openedDocuments.forEach(async(t,n)=>{await this.enqueueDocumentUpdateAsync(n,this._cancellationSource.token),this._onDidChangeEmitter.fire(n)})}),LC.workspace.onDidCloseTextDocument(t=>{this._openedDocuments.get(t.uri)!==void 0&&this._openedDocuments.delete(t.uri)})}_onDidChangeEmitter=new LC.EventEmitter;_openedDocuments=new Map;_updateQueue;_cancellationSource=new LC.CancellationTokenSource;onDidChange=this._onDidChangeEmitter.event;async provideTextDocumentContent(e,t){let n=this._openedDocuments.get(e);return n||(n=await this.enqueueDocumentUpdateAsync(e,t)),n.text??LC.l10n.t("Generated document not found")}async enqueueDocumentUpdateAsync(e,t){return this._updateQueue?this._updateQueue=this._updateQueue.then(async()=>await this.updateDocumentAsync(e,t)):this._updateQueue=this.updateDocumentAsync(e,t),await this._updateQueue}async updateDocumentAsync(e,t){let n=this._openedDocuments.get(e),i=await this.languageServer.sendRequest(Mfe.type,{textDocument:aGe.TextDocumentIdentifier.create(Ni.serialize(e)),resultId:n?.resultId},t);return!n||i.resultId!==n?.resultId?(this._openedDocuments.set(e,i),i):n}dispose(){this._cancellationSource.cancel()}};var h2=ye(require("vscode")),dGe=ye(require("crypto"));var uGe="dotnet.server.suppressMiscellaneousFilesToasts",lGe=new Set;function fGe(r,e){e._projectContextService.onActiveFileContextChanged(t=>{if(t.uri.scheme!=="file"||t.languageId!=="csharp"||!t.isVerified||!t.context._vs_is_miscellaneous||e.state!==3||fs.suppressMiscellaneousFilesToasts||r.workspaceState.get(uGe,!1))return;let n=M$t(t.uri.toString(!0));if(lGe.has(n))return;lGe.add(n);let i=h2.l10n.t("The active document is not part of the open workspace. Not all language features will be available."),o=h2.l10n.t("Dismiss"),s={title:h2.l10n.t("Do not show for this workspace"),action:async()=>{r.workspaceState.update(uGe,!0)}};pp(h2,i,o,s)})}function M$t(r){return dGe.createHash("sha256").update(r).digest("hex")}var mw=ye(require("vscode"));function YG(...r){return r.reduce((e,t)=>e.concat(t),[])}var JG=class{static createStatusItem(e,t){let n=YG(fs.documentSelector),i={command:"dotnet.openSolution",title:mw.l10n.t("Open solution")},o={command:"dotnet.restartServer",title:mw.l10n.t("Restart server")},s=mw.languages.createLanguageStatusItem("csharp.workspaceStatus",n);s.name=mw.l10n.t("C# Workspace Status"),s.severity=mw.LanguageStatusSeverity.Error,s.command=i,e.subscriptions.push(s),t.onServerStateChange(a=>{s.text=a.workspaceLabel,s.busy=a.state===2,s.severity=a.state===0?mw.LanguageStatusSeverity.Error:mw.LanguageStatusSeverity.Information,s.command=a.state===0?o:i})}};var L_=ye(require("vscode"));var XG=class{static createStatusItem(e,t){let n=YG(fs.documentSelector,gs.documentSelector),i=t._projectContextService,o=L_.languages.createLanguageStatusItem("csharp.projectContextStatus",n);o.name=L_.l10n.t("C# Project Context Status"),o.detail=L_.l10n.t("Active File Context"),e.subscriptions.push(o),i.onActiveFileContextChanged(s=>{o.text=s.context._vs_label,t.state===3?o.severity=s.context._vs_is_miscellaneous&&s.isVerified?L_.LanguageStatusSeverity.Warning:L_.LanguageStatusSeverity.Information:o.severity=L_.LanguageStatusSeverity.Information,o.detail=s.context._vs_is_miscellaneous?L_.l10n.t("The active document is not part of the open workspace. Not all language features will be available."):L_.l10n.t("Active File Context")}),i.refresh().catch(s=>{throw new Error(`Error refreshing project context status ${s}`)})}};var vn=ye(require("vscode")),NC=ye(require("path")),zme=ye(require("child_process"));XI();var WGe=ye(require("net")),rc=ye(KS());var _Ge=ye(require("vscode"));var hGe=ye(require("node:assert"));function pGe(r){let e=r.indexOf("|");if(e==-1||r.substring(0,e)=="csharp"){let t=r.lastIndexOf(".");(0,hGe.default)(t!==-1,`There is no . in ${r}.`);let n=r.substring(t+1),i=e==-1?0:e+1,o=r.substring(i,t),a=N$t(n,["dotnet","csharp"]),c=a==""?n:n.substring(a.length+1),u=Mme(o,"_"),l=Mme(c,"_");return a==""?u.concat(".",l):Mme(a,"_").concat(".",u,".",l)}return null}function N$t(r,e){let t="";for(let n of e)if(r.startsWith(n)){t=n;break}return t}function Mme(r,e){let t=r.split(e).map(o=>o.toLowerCase());if(t.length<=1)return r.toLowerCase();let n=t[0],i=t.slice(1).map(F$t);return n.concat(...i)}function F$t(r){return r.charAt(0).toUpperCase()+r.substring(1)}var gGe=require("vscode"),mGe=new Map([["codeStyle.formatting.indentationAndSpacing.tabWidth",yGe],["codeStyle.formatting.indentationAndSpacing.indentSize",q$t],["codeStyle.formatting.indentationAndSpacing.indentStyle",j$t],["codeStyle.formatting.newLine.endOfLine",z$t],["codeStyle.formatting.newLine.insertFinalNewline",U$t]]);function vGe(r){if(!mGe.has(r))return;let e=mGe.get(r),t=gGe.workspace.getConfiguration("",{languageId:"csharp"});return e(t)}function yGe(r){return p2(r,"editor.tabSize")}function q$t(r){let e=p2(r,"editor.indentSize");return e=="tabSize"?yGe(r):e}function j$t(r){return p2(r,"editor.insertSpaces")?"space":"tab"}function z$t(r){let e=p2(r,"files.eol");return e===`
`?"lf":e==`\r
`?"crlf":e}function U$t(r){return p2(r,"files.insertFinalNewline")}function p2(r,e){let t=r.get(e);if(t===void 0)throw new Error(`Can't read ${e} from the client.`);return t}function bGe(r){let e=[],t=_Ge.workspace.getConfiguration();for(let n of r.items){let i=n.section;if(i===void 0||n.scopeUri!==void 0){e.push(null);continue}let o=pGe(i);if(o==null){e.push(null);continue}let s=t.get(o);if(s!==void 0){e.push(s);continue}if(s=vGe(o),s!==void 0){e.push(s);continue}e.push(null)}return e}var QG=class{constructor(e){this.Id=e}};var Ume=require("crypto");var wGe=ye(KS());var ZG=class extends wGe.LanguageClient{_disposables;constructor(e,t,n,i,o){super(e,t,n,i,o),this._disposables=new mo}async dispose(e){return this._disposables.dispose(),super.dispose(e)}handleFailedRequest(e,t,n,i,o){return fs.suppressLspErrorToasts?super.handleFailedRequest(e,t,n,i,!1):super.handleFailedRequest(e,t,n,i,o)}addDisposable(e){this._disposables.add(e)}};var Nme=ye(require("vscode")),Fme=ye(en());function SGe(r){r.onNotification(Tfe.type,async e=>{let t=e.commands.map(n=>({title:n.title,command:n.command,arguments:n.arguments}));switch(e.messageType){case Fme.MessageType.Error:{Vi(Nme,e.message,...t);break}case Fme.MessageType.Warning:{pp(Nme,e.message,...t);break}default:{Ca(Nme,e.message,...t);break}}})}var Vu=ye(require("vscode")),CGe=ye(KS());function TGe(r,e){let t=new Vu.CancellationTokenSource;e.getFeature("textDocument/didChange").onNotificationSent(async n=>{let i=n.params;if(i.contentChanges.length>1||i.contentChanges.length===0)return;let o=i.contentChanges[0];if(!("range"in o))return;let s=e.protocol2CodeConverter.asRange(o.range);if(!s.isEmpty||!s.isSingleLine)return;let a=e.protocol2CodeConverter.asUri(i.textDocument.uri),c=await Vu.workspace.openTextDocument(a),d=r.getOnAutoInsertFeature()?.getOptions(c)?._vs_triggerCharacters;if(d===void 0)return;let f=o.text.replace(/[^\S\n]+/g,"");if(!d.includes(f))return;let p=s.end.character-s.start.character,_=s.start.translate(0,o.text.length-p);t.cancel(),t=new Vu.CancellationTokenSource;try{await H$t(_,f,i.textDocument,a,r,t.token)}catch(D){if(D instanceof Vu.CancellationError)return;throw D}})}async function H$t(r,e,t,n,i,o){let s=B$t(),a={_vs_textDocument:t,_vs_position:r,_vs_ch:e,_vs_options:s},c=await i.sendRequest(Oq.type,a,o);if(c){let u=c._vs_textEdit,l=new Vu.Position(u.range.start.line,u.range.start.character),d=new Vu.Position(u.range.end.line,u.range.end.character),f=new Vu.SnippetString(u.newText),p=Vu,_=[new p.SnippetTextEdit(new Vu.Range(l,d),f)],D=new Vu.WorkspaceEdit;if(D.set(n,_),!Vu.workspace.applyEdit(D))throw new Error("Tried to apply an edit but an error occurred.");c.command!==void 0&&await Vu.commands.executeCommand(c.command.command,c.command.arguments)}}function B$t(){let r=Vu.workspace.getConfiguration("editor"),e=r.get("tabSize")??4,t=r.get("insertSpaces")??!0;return CGe.FormattingOptions.create(e,t)}var t8=ye(require("vscode"));var e8=class r{_allBuildDiagnostics={};_diagnosticsReportedByBuild;constructor(e){this._diagnosticsReportedByBuild=e}clearDiagnostics(){this._diagnosticsReportedByBuild.clear()}async setBuildDiagnostics(e,t){this._allBuildDiagnostics=e;let n=new Array,i=t8.workspace.textDocuments;for(let[o,s]of Object.entries(this._allBuildDiagnostics)){let a=t8.Uri.file(o),c=i.find(l=>this.compareUri(l.uri,a)),u=c!==void 0?!c.isClosed:!1;n.push([a,r.filterDiagnosticsFromBuild(s,t,u)])}this._diagnosticsReportedByBuild.set(n)}compareUri(e,t){return e.fsPath.localeCompare(t.fsPath)===0}async _onFileOpened(e,t){let n=e.uri,i=this._allBuildDiagnostics[n.fsPath];if(i){let o=r.filterDiagnosticsFromBuild(i,t,!0);this._diagnosticsReportedByBuild.set(n,o)}}static filterDiagnosticsFromBuild(e,t,n){let i=fs.analyzerDiagnosticScope,o=fs.compilerDiagnosticScope;if(i==="none"&&o==="none")return e;let s=[],a=e.filter(u=>r.isProjectSystemDiagnostic(u));s.push(...a);let c=e.filter(u=>r.isBuildOnlyDiagnostic(t,u));if(s.push(...c),i==="none"||i==="openFiles"&&!n){let u=e.filter(l=>r.isAnalyzerDiagnostic(l)&&!this.isBuildOnlyDiagnostic(t,l));s.push(...u)}if(o==="none"||o==="openFiles"&&!n){let u=e.filter(l=>r.isCompilerDiagnostic(l)&&!this.isBuildOnlyDiagnostic(t,l));s.push(...u)}return s}static isBuildOnlyDiagnostic(e,t){return e.find(n=>n===t.code)!==void 0}static isCompilerDiagnostic(e){return e.code?e.code.toString().match("[cC][sS][0-9]{4}")!==null:!1}static isAnalyzerDiagnostic(e){return e.code?!this.isCompilerDiagnostic(e):!1}static isProjectSystemDiagnostic(e){return e.code?e.code.toString().startsWith("NETSDK"):!1}};var DGe=ye(require("fs")),qme=ye(require("path")),EGe={roslynDevKit:{defaultFolderName:".roslynDevKit",optionName:"roslynDevKit",componentDllPaths:["Microsoft.VisualStudio.LanguageServices.DevKit.dll"]},xamlTools:{defaultFolderName:".xamlTools",optionName:"xamlTools",componentDllPaths:["Microsoft.VisualStudio.DesignTools.CodeAnalysis.dll","Microsoft.VisualStudio.DesignTools.CodeAnalysis.Diagnostics.dll"]},razorDevKit:{defaultFolderName:".razorDevKit",optionName:"razorDevKit",componentDllPaths:["Microsoft.VisualStudio.DevKit.Razor.dll"]},razorExtension:{defaultFolderName:".razorExtension",optionName:"razorExtension",componentDllPaths:["Microsoft.VisualStudioCode.RazorExtension.dll"]}};function r8(r,e){let t=EGe[r],n=PGe(t,e),i=t.componentDllPaths.map(o=>qme.join(n,o));for(let o of i)if(!DGe.existsSync(o))throw new Error(`Component DLL not found: ${o}`);return i}function RGe(r,e){let t=EGe[r];return PGe(t,e)}function PGe(r,e){if(e?.componentPaths){let t=e.componentPaths[r.optionName];if(t)return t}return qme.join(__dirname,"..",r.defaultFolderName)}var m2=require("vscode"),xGe=ye(KS()),OGe=ye(en());XI();var n8=class{_client;_registrations;constructor(e){this._client=e,this._registrations=new Map,this.registrationType=new OGe.ProtocolRequestType(Oq.method)}fillInitializeParams;preInitialize;registrationType;register(e){e.registerOptions.documentSelector&&this._registrations.set(e.id,e)}unregister(e){this._registrations.get(e)!==void 0&&this._registrations.delete(e)}clear(){this._registrations.clear()}getState(){let e=this.getDocumentSelectors(),t=0;for(let i of e){t++;for(let o of m2.workspace.textDocuments)if(m2.languages.match(i,o)>0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}let n=t>0;return{kind:"document",id:this.registrationType.method,registrations:n,matches:!1}}fillClientCapabilities(e){let t=(0,xGe.ensure)(e,"textDocument");t._vs_onAutoInsert===void 0&&(t._vs_onAutoInsert={});let n=t._vs_onAutoInsert;n.dynamicRegistration=!0}initialize(e,t){let n=e,i=this.getRegistrationOptions(t,n._vs_onAutoInsertProvider);i&&this.register({id:LD(),registerOptions:i})}getOptions(e){for(let t of this._registrations.values()){let n=t.registerOptions.documentSelector;if(n!==null&&m2.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(n),e)>0)return t.registerOptions}}*getDocumentSelectors(){for(let e of this._registrations.values()){let t=e.registerOptions.documentSelector;t!==null&&(yield this._client.protocol2CodeConverter.asDocumentSelector(t))}}getRegistrationOptions(e,t){if(!(!e||!t))return Object.assign({},t,{documentSelector:e})}};var gw=ye(require("vscode"));var IGe=ye(en());var W$t=2*1e3,g2,i8,o8=class{constructor(e,t){this._languageServer=e;t.onServerStateChange(async n=>{(n.state===0||n.state===3)&&await this.refresh()}),gw.window.onDidChangeActiveTextEditor(async n=>this.refresh())}_contextChangeEmitter=new gw.EventEmitter;_source=new gw.CancellationTokenSource;_emptyProjectContext={_vs_id:"",_vs_kind:"",_vs_label:"",_vs_is_miscellaneous:!1};get onActiveFileContextChanged(){return this._contextChangeEmitter.event}async refresh(){let e=gw.window.activeTextEditor,t=e?.document?.languageId;if(t!=="csharp")return;this._source.cancel(),this._source=new gw.CancellationTokenSource;let n=e.document.uri,i=!1;if(g2&&(clearTimeout(g2),g2=void 0),i8&&(n.toString()===i8.toString()&&(i=!0),i8=void 0),!this._languageServer.isRunning()){this._contextChangeEmitter.fire({languageId:t,uri:n,context:this._emptyProjectContext,isVerified:!1});return}let o=await this.getProjectContexts(n,this._source.token);if(!o){this._contextChangeEmitter.fire({languageId:t,uri:n,context:this._emptyProjectContext,isVerified:!1});return}let s=o._vs_projectContexts[o._vs_defaultIndex],a=!s._vs_is_miscellaneous||i;if(this._contextChangeEmitter.fire({languageId:t,uri:n,context:s,isVerified:a}),s._vs_is_miscellaneous&&!i){g2=setTimeout(()=>{g2=void 0,i8=n,this.refresh().catch(c=>{throw new Error(`Error refreshing project context status ${c}`)})},W$t);return}}async getProjectContexts(e,t){let n=Ni.serialize(e),i=IGe.TextDocumentIdentifier.create(n);try{return await this._languageServer.sendRequest(wfe.type,{_vs_textDocument:i},t)}catch(o){if(o instanceof gw.CancellationError)return;throw o}}};var LGe=ye(require("fs")),qo=ye(require("vscode")),MGe=require("os");var kGe="dotnet-trace";function NGe(r){let e={};return process.env.ROSLYN_DOTNET_EventPipeOutputPath&&(e={DOTNET_EnableEventPipe:1,DOTNET_EventPipeConfig:"Microsoft-Windows-DotNETRuntime:0x1F000080018:5",DOTNET_EventPipeOutputPath:process.env.ROSLYN_DOTNET_EventPipeOutputPath,DOTNET_ReadyToRun:0,DOTNET_TieredCompilation:1,DOTNET_TC_CallCounting:0,DOTNET_TC_QuickJitForLoops:1,DOTNET_JitCollect64BitCounts:1},r.trace(`Profiling enabled with:${MGe.EOL}${JSON.stringify(e)}`)),e}function FGe(r,e,t){r.subscriptions.push(qo.commands.registerCommand("csharp.recordTrace",async()=>{await qo.window.withProgress({location:qo.ProgressLocation.Notification,title:"dotnet-trace",cancellable:!0},async(n,i)=>{n.report({message:qo.l10n.t({message:"Initializing dotnet-trace...",comment:"dotnet-trace is a command name and should not be localized"})});try{await $$t(e,n,t,i)}catch(o){let s=o instanceof Error?o.message:String(o);TA(qo,qo.l10n.t({message:"Failed to execute dotnet-trace command: {0}",args:[s],comment:"dotnet-trace is a command name and should not be localized"}),{modal:!0})}})}))}async function $$t(r,e,t,n){let i=r.processId;if(!i)throw new Error(qo.l10n.t("Language server process not found, ensure the server is running."));let o="";qo.workspace.workspaceFolders&&qo.workspace.workspaceFolders?.length>=1&&(o=qo.workspace.workspaceFolders[0].uri.fsPath);let s=await qo.window.showOpenDialog({canSelectFiles:!1,canSelectFolders:!0,canSelectMany:!1,defaultUri:o?qo.Uri.file(o):void 0,openLabel:qo.l10n.t("Select Trace Folder"),title:qo.l10n.t("Select Folder to Save Trace File")});if(s===void 0||s.length===0)return;if(o=s[0].fsPath,!LGe.existsSync(o))throw new Error(qo.l10n.t("Folder for trace file {0} does not exist",o));let a=`--process-id ${i} --clreventlevel informational --providers "Microsoft-DotNETCore-SampleProfiler,Microsoft-Windows-DotNETRuntime"`,c=await qo.window.showInputBox({value:a,placeHolder:qo.l10n.t({message:"Enter dotnet-trace arguments",comment:"dotnet-trace is a command name and should not be localized"}),prompt:qo.l10n.t("You can modify the default arguments if needed")});if(c===void 0)return;let u=await K$t(o,t);if(!await V$t(o,e,t))return;let d=["collect",...c.split(" ")];e.report({message:qo.l10n.t("Recording trace...")}),await G$t(d,u,n)}async function V$t(r,e,t){try{return await $y("dotnet-trace --version",r,process.env),!0}catch(s){t.debug(`Failed to execute dotnet-trace --version with error: ${s}`)}let n={title:qo.l10n.t("Install")},i="dotnet tool install --global dotnet-trace";if(await qo.window.showInformationMessage(qo.l10n.t({message:'dotnet-trace not found, run "{0}" to install it?',args:[i],comment:"dotnet-trace is a command name and should not be localized"}),{modal:!0},n)!==n)return!1;e.report({message:qo.l10n.t({message:"Installing dotnet-trace...",comment:"dotnet-trace is a command name and should not be localized"})});try{return await $y(i,r,process.env),!0}catch(s){return t.error(`Failed to install dotnet-trace with error: ${s}`),await qo.window.showErrorMessage(qo.l10n.t({message:"Failed to install dotnet-trace, it may need to be manually installed. See C# output for details.",comment:"dotnet-trace is a command name and should not be localized"}),{modal:!0}),!1}}async function G$t(r,e,t){e.show();let n=`dotnet-trace ${r.join(" ")}`,i=e.shellIntegration;i?await new Promise((o,s)=>{let a=i.executeCommand(n),c=t.onCancellationRequested(()=>{e.sendText("^C")});qo.window.onDidEndTerminalShellExecution(u=>{u.execution===a&&(c.dispose(),o(u.exitCode??1))})}):e.sendText(n)}async function K$t(r,e){let t=qo.window.terminals.find(o=>o.name===kGe);if(t&&t.creationOptions.cwd===r)return await AGe(t,e);t?.dispose();let n={name:kGe,cwd:r},i=qo.window.createTerminal(n);return await AGe(i,e)}async function AGe(r,e){let t=new Promise(o=>{qo.window.onDidChangeTerminalShellIntegration(s=>{s.terminal===r&&o(!0)}),r.shellIntegration&&o(!0)}),n=new Promise(o=>{setTimeout(s=>o(!1),3e3)});return await Promise.race([t,n])||e.debug("The terminal shell integration is not available for the dotnet-trace terminal."),r}function s8(r){return typeof r=="string"||r instanceof String}var MC=ye(require("vscode")),KD=ye(en());var qGe=ye(require("path")),jGe=ye(mT()),jme="@microsoft/visualstudio.copilot.roslyn.languageserver",zGe="Microsoft.VisualStudio.Copilot.Roslyn.LanguageServer.dll",Y$t="capabilities.json",UGe="roslyn/resolveContext",J$t="1",HGe="roslyn/resolveContext@2",X$t="1",Q$t=new KD.RequestType(UGe,KD.ParameterStructures.auto),Z$t=new KD.RequestType(HGe,KD.ParameterStructures.auto);function e3t(r){let e;if(MC.window.activeTextEditor?.document.uri.toString()===r.documentContext.uri?e=MC.window.activeTextEditor.document:e=MC.workspace.textDocuments.find(s=>s.uri.toString()===r.documentContext.uri),e===void 0)return;let t=e.positionAt(r.documentContext.offset),n=MC.Uri.parse(r.documentContext.uri);return{documentContext:{textDocument:KD.TextDocumentIdentifier.create(n.fsPath),position:t},completionId:r.completionId,timeBudget:r.timeBudget,data:r.data,activeExperiments:Object.fromEntries(r.activeExperiments)}}function BGe(r,e,t){let n=Sa();n&&n.activate().then(async i=>{try{let o,s=i.components[jme];if(s){let l=qGe.default.join(s,Y$t),d=await(0,jGe.readJsonSync)(l);for(let f of d?.capabilities??[])if(f.method===UGe&&f.version===J$t){o=Q$t,t.debug("supported 'roslyn/resolveContext' method found in capabilities.json");break}else if(f.method===HGe&&f.version===X$t){o=Z$t,t.debug("supported 'roslyn/resolveContext@2' method found in capabilities.json");break}}if(!o){t.debug(`Failed to find compatible version of context provider from installed version of ${eS}.`);return}let a=MC.extensions.getExtension("github.copilot");if(!a){t.debug("Failed to find compatible version of GitHub Copilot extension installed. Skip registeration of Copilot context provider.");return}let u=await(await a.activate()).getContextProviderAPI("v1");if(!u){t.debug("Incompatible GitHub Copilot extension installed. Skip registeration of C# context providers.");return}r.subscriptions.push(u.registerContextProvider({id:Uv,selector:[{language:"csharp"}],resolver:{resolve:async(l,d)=>{let f=e3t(l);if(!f)return[];let p=await e.sendRequest(o,f,d);return t.trace(`Copilot context provider resolved ${p.length} items`),p}}})),t.debug("Registration of C# context provider for GitHub Copilot extension succeeded.")}catch(o){t.error("Failed to register Copilot context providers",o)}})}var v2,a8=class r{constructor(e,t,n,i,o){this._languageClient=e;this._platformInfo=t;this._context=n;this._languageServerEvents=i;this._channel=o;this.registerSetTrace(),this.registerSendOpenSolution(),this.registerProjectInitialization(),this.registerServerStateChanged(),this.registerServerStateTracking(),this.registerReportProjectConfiguration(),this.registerExtensionsChanged(),this.registerTelemetryChanged();let s=vn.languages.createDiagnosticCollection("csharp-build");this._buildDiagnosticService=new e8(s),this.registerDocumentOpenForDiagnostics(),this._projectContextService=new o8(this,this._languageServerEvents),this.registerDynamicFileInfo(),this.registerDebuggerAttach(),SGe(this._languageClient),TGe(this,this._languageClient),this._onAutoInsertFeature=new n8(this._languageClient)}static provideRazorDynamicFileInfoMethodName="razor/provideDynamicFileInfo";static removeRazorDynamicFileInfoMethodName="razor/removeDynamicFileInfo";static encoding="utf-8";static namedPipeKeyRegex=/{"pipeName":"[^"]+"}/;static _stopTimeout=1e4;static _processId;_solutionFile;_projectFiles=new Array;_onAutoInsertFeature;_buildDiagnosticService;_projectContextService;_state=0;get state(){return this._state}get processId(){return r._processId}registerSetTrace(){this._languageClient.onDidChangeState(async e=>{e.newState===rc.State.Running&&await this.updateLogLevel()}),this._channel.onDidChangeLogLevel(async()=>{await this.updateLogLevel()})}async updateLogLevel(){if(this._languageClient.state===rc.State.Running){let e=r.GetTraceLevel(this._channel.logLevel);await this.sendNotification("roslyn/updateLogLevel",{logLevel:r.GetServerLogLevel(this._channel.logLevel)}),await this._languageClient.setTrace(e)}}registerServerStateChanged(){this._languageClient.onDidChangeState(async e=>{e.newState===rc.State.Running?this._languageServerEvents.onServerStateChangeEmitter.fire({state:1,workspaceLabel:this.workspaceDisplayName()}):e.newState===rc.State.Stopped&&(this._languageServerEvents.onServerStateChangeEmitter.fire({state:0,workspaceLabel:vn.l10n.t("Server stopped")}),r._processId=void 0)})}registerServerStateTracking(){this._languageServerEvents.onServerStateChange(e=>{this._state=e.state})}registerSendOpenSolution(){this._languageClient.onDidChangeState(async e=>{e.newState===rc.State.Running&&(this._solutionFile||this._projectFiles.length>0?await this.sendOpenSolutionAndProjectsNotifications():await this.openDefaultSolutionOrProjects(),await this.sendOrSubscribeForServiceBrokerConnection())})}registerProjectInitialization(){this._languageClient.onNotification(Sfe.type,()=>{this._languageServerEvents.onServerStateChangeEmitter.fire({state:3,workspaceLabel:this.workspaceDisplayName()})})}registerReportProjectConfiguration(){let e;this._languageClient.onNotification(Cfe.type,async t=>{e||(e=await dm([])),J$(t,this._platformInfo,e,this._solutionFile?.fsPath,!0)})}static async initializeAsync(e,t,n,i,o,s,a){let c=Sa();c&&await c.activate();let u=async()=>await this.startServer(e,t,n,i,s),d={documentSelector:fs.documentSelector,synchronize:{fileEvents:[]},traceOutputChannel:a,outputChannel:s,uriConverters:{code2Protocol:Ni.serialize,protocol2Code:Ni.deserialize},middleware:{provideDiagnostics:O6,provideWorkspaceDiagnostics:I6,workspace:{configuration:_=>bGe(_)}}},f=new ZG("microsoft-codeanalysis-languageserver","Microsoft.CodeAnalysis.LanguageServer",u,d);f.registerProposedFeatures();let p=new r(f,e,n,o,s);return f.registerFeature(p._onAutoInsertFeature),await f.start(),p}async stop(){await this._languageClient.stop(r._stopTimeout)}async restart(){await this._languageClient.restart()}workspaceDisplayName(){return this._solutionFile!==void 0?NC.basename(this._solutionFile.fsPath):this._projectFiles?.length>0?vn.l10n.t("Workspace projects"):""}isRunning(){return this._languageClient.isRunning()}async sendRequest(e,t,n){if(!this.isRunning())throw new Error("Tried to send request while server is not started.");try{return await this._languageClient.sendRequest(e,t,n)}catch(i){throw this.convertServerError(e.method,i)}}async sendRequest0(e,t){if(!this.isRunning())throw new Error("Tried to send request while server is not started.");try{return await this._languageClient.sendRequest(e,t)}catch(n){throw this.convertServerError(e.method,n)}}async sendRequestWithProgress(e,t,n,i){let o=LD();t.partialResultToken=o;let s=this._languageClient.onProgress(e,o,async a=>{await n(a)});try{return await this._languageClient.sendRequest(e,t,i)}catch(a){throw this.convertServerError(e.method,a)}finally{s.dispose()}}async sendNotification(e,t){if(!this.isRunning())throw new Error("Tried to send request while server is not started.");return await this._languageClient.sendNotification(e,t)}registerOnRequest(e,t){this._languageClient.addDisposable(this._languageClient.onRequest(e,t))}registerOnNotification(e,t){this._languageClient.addDisposable(this._languageClient.onNotification(e,t))}registerOnNotificationWithParams(e,t){this._languageClient.addDisposable(this._languageClient.onNotification(e,t))}async registerSolutionSnapshot(e){let t=await this.sendRequest0(bfe.type,e);if(t)return new QG(t.id);throw new Error("Unable to retrieve current solution.")}async openSolution(e){this._solutionFile=e,this._projectFiles=[],await this.sendOpenSolutionAndProjectsNotifications()}async openProjects(e){this._solutionFile=void 0,this._projectFiles=e,await this.sendOpenSolutionAndProjectsNotifications()}async sendOpenSolutionAndProjectsNotifications(){if(this._languageClient.isRunning()){if(this._solutionFile!==void 0){let e=this._languageClient.clientOptions.uriConverters.code2Protocol(this._solutionFile);await this._languageClient.sendNotification(Rfe.type,{solution:e})}else if(this._projectFiles.length>0){let e=this._projectFiles.map(t=>this._languageClient.clientOptions.uriConverters.code2Protocol(t));await this._languageClient.sendNotification(Pfe.type,{projects:e})}else return;this._languageServerEvents.onServerStateChangeEmitter.fire({state:2,workspaceLabel:this.workspaceDisplayName()})}}convertServerError(e,t){let n;return t instanceof rc.ResponseError&&t.code===-32800?n=new vn.CancellationError:t instanceof Error?n=t:typeof t=="string"?n=new Error(t):n=new Error(`Unknown error: ${t.toString()}`),n instanceof vn.CancellationError||this._channel.error(`Error making ${e} request`,n),n}async openDefaultSolutionOrProjects(){let e=ds.defaultSolution;if(!v2&&e!=="disable"&&this._solutionFile===void 0)if(e!=="")await this.openSolution(vn.Uri.file(e));else{let t=await vn.workspace.findFiles("**/*.sln","**/node_modules/**",2);if(t){if(t.length===1)await this.openSolution(t[0]);else if(t.length>1){let n=await vn.window.showInformationMessage(vn.l10n.t("Your workspace has multiple Visual Studio Solution files; please select one to get full IntelliSense."),{title:vn.l10n.t("Choose"),action:"open"},{title:vn.l10n.t("Choose and set default"),action:"openAndSetDefault"},{title:vn.l10n.t("Do not load any"),action:"disable"});if(n)if(n.action==="disable")await vn.workspace.getConfiguration().update("dotnet.defaultSolution","disable",!1);else{let i=await vn.commands.executeCommand("dotnet.openSolution");if(n.action==="openAndSetDefault"&&i){let o=vn.workspace.asRelativePath(i);await vn.workspace.getConfiguration().update("dotnet.defaultSolution",o,!1)}}}else if(t.length===0){let n=await vn.workspace.findFiles("**/*.csproj","**/node_modules/**",qr.maxProjectResults);await this.openProjects(n)}}}}async sendOrSubscribeForServiceBrokerConnection(){let e=Sa();if(e){let t=await e.activate();if(t.hasServerProcessLoaded()){let n=await t.getBrokeredServiceServerPipeName();await this._languageClient.sendNotification("serviceBroker/connect",{pipeName:n})}else this._context.subscriptions.push(t.serverProcessLoaded(async()=>this.sendOrSubscribeForServiceBrokerConnection()))}}getOnAutoInsertFeature(){return this._onAutoInsertFeature}static async startServer(e,t,n,i,o){let s=Hme(e),a=await t.getHostExecutableInfo(),c=a.path;o.info("Dotnet path: "+c);let u=[];ds.waitForDebugger&&u.push("--debug");let l=this.GetServerLogLevel(o.logLevel);l&&u.push("--logLevel",l);let d=rh.razorServerPath===""?NC.join(n.extension.extensionPath,".razor"):rh.razorServerPath,f="";r8("razorExtension",fs).forEach(ve=>{i.push(ve),f=NC.dirname(ve)});let p=rh.cohostingEnabled?f:d;u.push("--razorSourceGenerator",NC.join(p,"Microsoft.CodeAnalysis.Razor.Compiler.dll")),u.push("--razorDesignTimePath",NC.join(d,"Targets","Microsoft.NET.Sdk.Razor.DesignTime.targets"));let _=Sa();if(_){v2=!0;let ve=vn.extensions.getExtension(Gj);if(ve){o.info("Activating C# + C# Dev Kit + C# IntelliCode...");let W=await this.getCSharpDevkitIntelliCodeExportArgs(ve,n,o);u=u.concat(W)}else o.info("Activating C# + C# Dev Kit...");await vn.commands.executeCommand("setContext","dotnet.server.activationContext","RoslynDevKit");let V=this.getCSharpDevKitExportArgs(i);u=u.concat(V),await this.setupDevKitEnvironment(a.env,_,i,o)}else o.info("Activating C# standalone..."),await vn.commands.executeCommand("setContext","dotnet.server.activationContext","Roslyn"),v2=!1;for(let ve of i)u.push("--extension",ve);o.debug(`Starting server at ${s}`),u.push("--extensionLogDirectory",n.logUri.fsPath);let D=a.env;fs.useServerGC||(D.DOTNET_gcServer="0",o.debug("ServerGC disabled"));let P=NGe(o);D={...D,...P},o.trace(`Profiling environment variables: ${JSON.stringify(P)}`);let M,A={detached:!0,windowsHide:!0,env:D};if(s.endsWith(".dll")){let ve=[s].concat(u);o.debug(`Server arguments ${ve.join(" ")}`),M=zme.spawn(c,ve,A)}else o.debug(`Server arguments ${u.join(" ")}`),M=zme.spawn(s,u,A);M.stdout.on("data",ve=>{let V=s8(ve)?ve:ve.toString(r.encoding);o.info("[stdout] "+V)}),M.stderr.on("data",ve=>{let V=s8(ve)?ve:ve.toString(r.encoding);o.error("[stderr] "+V)}),M.on("exit",ve=>{o.info(`Language server process exited with ${ve}`)});let U=new Promise(ve=>{(0,rc.RAL)().timer.setTimeout(ve,fs.startTimeout)}),ne=new Promise((ve,V)=>{M.on("exit",De=>{De&&De!==0&&V(new Error("Language server process exited unexpectedly"))}),new Promise(De=>{o.debug("waiting for named pipe information from server..."),M.stdout.on("data",ae=>{let Fe=(s8(ae)?ae:ae.toString(r.encoding)).match(r.namedPipeKeyRegex);if(Fe){let Me=JSON.parse(Fe[0]);o.info("received named pipe information from server"),De(Me)}})}).then(async De=>new Promise((ae,ue)=>{o.debug("attempting to connect client to server...");let Fe=WGe.createConnection(De.pipeName,()=>{o.info("client has connected to server"),ae(Fe)});Fe.on("error",Me=>ue(Me))})).then(ve,V)}),pe;if(ds.waitForDebugger?pe=await ne:pe=await Promise.race([ne,U]),pe===void 0)throw new Error("Timeout. Client cound not connect to server via named pipe");return{reader:new rc.SocketMessageReader(pe,r.encoding),writer:new rc.SocketMessageWriter(pe,r.encoding)}}ProvideDyanmicFileInfoType=new rc.RequestType(r.provideRazorDynamicFileInfoMethodName);registerDynamicFileInfo(){this._languageClient.onRequest(this.ProvideDyanmicFileInfoType,async e=>vn.commands.executeCommand(P_.provideDynamicFileInfoCommand,e)),this._languageClient.onNotification(r.removeRazorDynamicFileInfoMethodName,async e=>vn.commands.executeCommand(P_.removeDynamicFileInfoCommand,e)),vn.commands.registerCommand(P_.dynamicFileUpdatedCommand,async e=>{this.isRunning()?await this.sendNotification("razor/dynamicFileInfoChanged",e):this._channel.warn("Tried to send razor/dynamicFileInfoChanged while server is not running")})}WaitForAttachCompleteAsync(e){return new Promise(t=>{let n=null,i=null,o=!1,s=a=>{o===!1&&(o=!0,n?.dispose(),i?.dispose(),t(a))};n=vn.debug.onDidTerminateDebugSession(a=>{a.configuration.attachRequestId===e&&s(!1)}),i=vn.debug.onDidReceiveDebugSessionCustomEvent(a=>{a.session.configuration.attachRequestId===e&&a.event==="attachComplete"&&s(!0)})})}registerDebuggerAttach(){this._languageClient.onRequest(Efe.type,async e=>{let n={...ds.unitTestDebuggingOptions,name:".NET Debug Unit test",type:"coreclr",request:"attach",processId:e.processId,attachRequestId:(0,Ume.randomUUID)()},i=this.WaitForAttachCompleteAsync(n.attachRequestId),o=await vn.debug.startDebugging(void 0,n,void 0);return o?(o=await i,{didAttach:o}):{didAttach:!1}})}registerDocumentOpenForDiagnostics(){this._languageClient.addDisposable(vn.workspace.onDidOpenTextDocument(async e=>{if(e.languageId==="csharp")try{let t=await this.getBuildOnlyDiagnosticIds(rc.CancellationToken.None);await this._buildDiagnosticService._onFileOpened(e,t)}catch(t){if(t instanceof vn.CancellationError)return;throw t}}))}registerExtensionsChanged(){this._languageClient.addDisposable(vn.extensions.onDidChange(async()=>{let e=Sa();if(v2===void 0)return;let t={title:vn.l10n.t("Restart Language Server"),command:"dotnet.restartServer"};if(e&&!v2){this._channel.info(`Detected new installation of ${eS}`);let n=`Detected installation of ${eS}. Would you like to relaunch the language server for added features?`;Ca(vn,n,t)}}))}registerTelemetryChanged(){this._languageClient.addDisposable(vn.env.onDidChangeTelemetryEnabled(e=>{let t={title:vn.l10n.t("Restart Language Server"),command:"dotnet.restartServer"},n=vn.l10n.t("Detected change in telemetry settings. These will not take effect until the language server is restarted, would you like to restart?");Ca(vn,n,t)}))}static getCSharpDevKitExportArgs(e){let t=[],n=r8("roslynDevKit",fs);if(n.length>1)throw new Error("Expected only one devkit deps path");return t.push("--devKitDependencyPath",n[0]),t.push("--sessionId",t3t()),fs.enableXamlTools&&r8("xamlTools",fs).forEach(i=>e.push(i)),t}static async getCSharpDevkitIntelliCodeExportArgs(e,t,n){try{return["--starredCompletionComponentPath",(await e.activate()).components["@vsintellicode/starred-suggestions-csharp"]]}catch(i){n.error(`Activation of ${Gj} failed`,i),i instanceof Error&&i.stack&&n.info(i.stack);let o="disableIntellicodeFailedPopup";if(t.globalState.get(o)===!0)return[];let s=vn.l10n.t("IntelliCode features will not be available, {0} failed to activate.",Gj),a={title:vn.l10n.t("Go to output"),action:async()=>{n.show()}},c={title:vn.l10n.t("Suppress notification"),action:async()=>{await t.globalState.update(o,!0)}};return Vi(vn,s,a,c),[]}}static async setupDevKitEnvironment(e,t,n,i){let o=await t.activate();o.setupTelemetryEnvironmentAsync&&await o.setupTelemetryEnvironmentAsync(e);let s=o.components[jme];if(s){let a=NC.join(s,zGe);n.push(a),i.trace(`CSharp DevKit contributes Copilot langauge server extension: ${a}`)}}static GetServerLogLevel(e){switch(e){case vn.LogLevel.Trace:return"Trace";case vn.LogLevel.Debug:return"Debug";case vn.LogLevel.Info:return"Information";case vn.LogLevel.Warning:return"Warning";case vn.LogLevel.Error:return"Error";case vn.LogLevel.Off:return"None";default:throw new Error(`Invalid log level ${e}`)}}static GetTraceLevel(e){switch(e){case vn.LogLevel.Trace:return rc.Trace.Verbose;case vn.LogLevel.Debug:return rc.Trace.Messages;case vn.LogLevel.Info:return rc.Trace.Off;case vn.LogLevel.Warning:return rc.Trace.Off;case vn.LogLevel.Error:return rc.Trace.Off;case vn.LogLevel.Off:return rc.Trace.Off;default:throw new Error(`Invalid log level ${e}`)}}async getBuildOnlyDiagnosticIds(e){if(!this.isRunning())return[];let t=await this.sendRequest0(xfe.type,e);if(t)return t.ids;throw new Error("Unable to retrieve build-only diagnostic ids for current solution.")}};function t3t(){let r=vn.env.sessionId;return r.toLowerCase()==="somevalue.sessionid"?(0,Ume.randomUUID)():r}var c8=ye(require("vscode"));var $Ge=ye(en());function VGe(r,e,t){let n=c8.extensions.getExtension("github.copilot");if(!n){t.debug("Failed to find comnpatible version of GitHub Copilot extension installed. Skip registeration of Copilot related files provider.");return}n.activate().then(async i=>{try{let o={extensionId:Uv,languageId:"csharp"};r.subscriptions.push(i.registerRelatedFilesProvider(o,async(s,a,c)=>{let u=(p,_,D)=>{if(_){for(let P of _)if(P._vs_file_paths)for(let M of P._vs_file_paths){let A=c8.Uri.file(M);A.fsPath!==p.fsPath&&D.push(A)}}},l=[],d=Ni.serialize(s),f=$Ge.TextDocumentIdentifier.create(d);try{await e.sendRequestWithProgress(Lfe.type,{_vs_textDocument:f,position:{line:0,character:0}},async p=>u(s,p,l),c)}catch(p){p instanceof Error&&t.appendLine(p.message)}return t.trace(`Copilot related files provider returned ${l.length} items`),{entries:l}})),t.debug("Registration of C# related files provider for GitHub Copilot extension succeeded.")}catch(o){t.error("Failed to register Copilot related files providers",o)}})}var Gu=ye(require("vscode")),Eo=ye(pN());var FC=ye(require("vscode"));var GGe=ye(require("vscode"));var YD=class{constructor(e,t){this.documentManager=e;this.logger=t}static scheme="razor-html";onDidChangeEmitter=new GGe.EventEmitter;get onDidChange(){return this.onDidChangeEmitter.event}fireDidChange(e){this.onDidChangeEmitter.fire(e)}provideTextDocumentContent(e){let t=this.findDocument(e);return t?t.getContent():(this.logger.logTrace(`Could not find document '${Ei(e)}' when updating the HTML buffer. This typically happens when a document is removed.`),"")}findDocument(e){let t=Ei(e);return this.documentManager.documents.find(n=>n.path.localeCompare(t,void 0,{sensitivity:"base"})===0)}};var u8=class{constructor(e,t){this.uri=e;this.path=Ei(e),this.checksum=t}path;content="";checksum="";getContent(){return this.content}getChecksum(){return this.checksum}setContent(e,t){this.checksum=e,this.content=t}};var d8=ye(en()),l8=class{constructor(e,t,n){this.platformInfo=e;this.roslynLanguageServer=t;this.logger=n;this.contentProvider=new YD(this,this.logger)}htmlDocuments={};contentProvider;razorDocumentClosedRequest=new d8.RequestType("razor/documentClosed");get documents(){return Object.values(this.htmlDocuments)}register(){let e=FC.workspace.onDidCloseTextDocument(async n=>{if(n.uri.scheme===YD.scheme){this.logger.logTrace(`Virtual document '${n.uri}' timed out.`);return}n.languageId==="aspnetcorerazor"&&(this.logger.logTrace(`Document '${n.uri}' was closed.`),await this.closeDocument(n.uri),await this.roslynLanguageServer.sendRequest(this.razorDocumentClosedRequest,d8.TextDocumentIdentifier.create(Ei(n.uri)),new FC.CancellationTokenSource().token))}),t=FC.workspace.registerTextDocumentContentProvider(YD.scheme,this.contentProvider);return FC.Disposable.from(e,t)}async updateDocumentText(e,t,n){let i=await this.findDocument(e);i||(this.logger.logTrace(`File '${e}' didn't exist in the Razor document list, so adding it with checksum '${t}'.`),i=this.addDocument(e,t)),this.logger.logTrace(`New content for '${e}', updating '${i.path}', checksum '${t}'.`),await FC.workspace.openTextDocument(i.uri),i.setContent(t,n),this.contentProvider.fireDidChange(i.uri)}async closeDocument(e){let t=await this.findDocument(e);t&&(this.logger.logTrace(`Removing '${t.uri}' from the document manager.`),delete this.htmlDocuments[t.path])}async getDocument(e,t){let n=this.findDocument(e);if(!n){this.logger.logTrace(`File '${e}' didn't exist in the Razor document list. Doing nothing.`);return}if(t&&n.getChecksum()!==t){this.logger.logInfo(`Found '${e}' in the Razor document list, but the checksum '${n.getChecksum()}' doesn't match '${t}'.`);return}return await FC.workspace.openTextDocument(n.uri),n}addDocument(e,t){let n=this.findDocument(e);return n?(this.logger.logInfo(`Skipping document creation for '${n.path}' because it already exists.`),n):(n=this.createDocument(e,t),this.htmlDocuments[n.path]=n,n)}findDocument(e){let t=Ei(e);return e.scheme!==YD.scheme&&(t=`${t}${eR}`),this.platformInfo.isLinux()?this.htmlDocuments[t]:Object.values(this.htmlDocuments).find(n=>n.path.localeCompare(t,void 0,{sensitivity:"base"})===0)}createDocument(e,t){return e=e.with({scheme:YD.scheme,path:`${e.path}${eR}`}),new u8(e,t)}};function YGe(r,e,t,n){let i=new Eo.NotificationType("razor/log");e.registerOnNotificationWithParams(i,u=>t.log(u.message,u.type)),rh.cohostingEnabled?(Gu.commands.executeCommand("setContext","razor.mode","cohosting"),o()):(Gu.commands.executeCommand("setContext","razor.mode","lsp"),s());return;function o(){let u=new l8(n,e,t),l=new JI(Gu,void 0,u,t);r.subscriptions.push(u.register()),r.subscriptions.push(l.register()),c("razor/updateHtml",async d=>{let f=Ni.deserialize(d.textDocument.uri);await u.updateDocumentText(f,d.checksum,d.text)}),a(Eo.DocumentColorRequest.type,u,async d=>await QI.doDocumentColorRequest(d.uri)),a(Eo.ColorPresentationRequest.type,u,async(d,f)=>await KI.doColorPresentationRequest(d.uri,f)),a(Eo.FoldingRangeRequest.type,u,async d=>{let f=await Gu.commands.executeCommand("vscode.executeFoldingRangeProvider",d.uri);return rk.convertFoldingRanges(f,t)}),a(Eo.HoverRequest.type,u,async(d,f)=>{let _=(await Gu.commands.executeCommand("vscode.executeHoverProvider",d.uri,f.position)).filter(D=>D.range)[0];return r3t(_)}),a(Eo.DocumentHighlightRequest.type,u,async(d,f)=>{let p=await Gu.commands.executeCommand("vscode.executeDocumentHighlights",d.uri,f.position);return n3t(p)}),a(Eo.CompletionRequest.type,u,async(d,f)=>VI.provideVscodeCompletions(d.uri,f.position,f.context?.triggerCharacter)),a(Eo.ReferencesRequest.type,u,async(d,f)=>{let p=await Gu.commands.executeCommand("vscode.executeReferenceProvider",d.uri,f.position);return Bme(p)}),a(Eo.ImplementationRequest.type,u,async(d,f)=>{let p=await Gu.commands.executeCommand("vscode.executeImplementationProvider",d.uri,f.position);return Bme(p)}),a(Eo.DefinitionRequest.type,u,async(d,f)=>{let p=await Gu.commands.executeCommand("vscode.executeDefinitionProvider",d.uri,f.position);return Bme(p)}),a(Eo.SignatureHelpRequest.type,u,async(d,f)=>{let p=await Gu.commands.executeCommand("vscode.executeSignatureHelpProvider",d.uri,f.position);if(p)return o3t(p)}),a(Eo.DocumentFormattingRequest.type,u,async(d,f)=>{let p=d.getContent(),_=f.options;return(await nR.getHtmlFormattingResult(d.uri,p,_))?.edits}),a(Eo.DocumentOnTypeFormattingRequest.type,u,async(d,f)=>{let p=d.getContent(),_=f.options;return(await nR.getHtmlOnTypeFormattingResult(d.uri,p,f.position,f.ch,_))?.edits})}function s(){c("razor/provideDynamicFileInfo",async u=>Gu.commands.executeCommand(P_.provideDynamicFileInfoCommand,u)),c("razor/removeDynamicFileInfo",async u=>Gu.commands.executeCommand(P_.provideDynamicFileInfoCommand,u)),c("razor/mapSpans",async u=>await Gu.commands.executeCommand(sR.MapSpansCommand,u)),c("razor/mapTextChanges",async u=>await Gu.commands.executeCommand(sR.MapChangesCommand,u))}function a(u,l,d){return c(u.method,async f=>{let p=Ni.deserialize(f.textDocument.uri),_=await l.getDocument(p,f.checksum);if(_)return d(_,f.request)})}function c(u,l){let d=new Eo.RequestType(u);e.registerOnRequest(d,async f=>{try{return await l(f)}catch(p){t.logError(`Error: ${p}`,p);return}})}}function r3t(r){if(!r)return;let e=new Gu.MarkdownString;for(let t of r.contents)if(t.language){let n=t;e.appendCodeblock(n.value,n.language)}else{let n=t.value;e.appendMarkdown(n)}return{contents:{kind:Eo.MarkupKind.Markdown,value:e.value},range:r.range?lw(r.range):void 0}}function n3t(r){return r.map(e=>({range:lw(e.range),kind:i3t(e.kind)}))}function i3t(r){switch(r){case Gu.DocumentHighlightKind.Text:return Eo.DocumentHighlightKind.Text;case Gu.DocumentHighlightKind.Read:return Eo.DocumentHighlightKind.Read;case Gu.DocumentHighlightKind.Write:return Eo.DocumentHighlightKind.Write;default:return}}function Bme(r){return r.map(e=>({uri:Ni.serialize(e.uri),range:lw(e.range)}))}function o3t(r){return{activeParameter:r.activeParameter??void 0,activeSignature:r.activeSignature??void 0,signatures:r.signatures.map(e=>({label:e.label,documentation:KGe(e.documentation),parameters:e.parameters.map(t=>({label:t.label,documentation:KGe(t.documentation)}))}))}}function KGe(r){if(r){if(r.value){let e=r;return{kind:Eo.MarkupKind.Markdown,value:e.value}}return{kind:Eo.MarkupKind.PlainText,value:r}}}var my,JGe;async function XGe(r,e,t,n,i,o,s){my=n,JGe=u1.window.createOutputChannel(u1.l10n.t("C# LSP Trace Logs")),i.sendTelemetryEvent("roslyn/clientInitialize");let a=new lk(e,Hme,n,r.extensionPath),c=l(),u=await a8.initializeAsync(e,a,r,c,o,my,JGe);return FGe(r,u,n),s3t(r,u,o),fGe(r,u),VGe(r,u,my),BGe(r,u,my),CVe(r,u,a,my),iGe(r,u,my),tGe(r,u,my),lWe(r,u),YGe(r,u,s,e),X5e(r,u),G5e(r,u,o,e,my),sGe(r,u),cGe(r,u),r.subscriptions.push(Z5e(t)),u;function l(){let d=u1.extensions.all.flatMap(p=>{let _=p.packageJSON.contributes?.csharpExtensionLoadPaths;return _==null?(my.debug(`Extension ${p.id} does not contribute csharpExtensionLoadPaths`),[]):!Array.isArray(_)||_.some(D=>typeof D!="string")?(my.warn(`Extension ${p.id} has invalid csharpExtensionLoadPaths. Expected string array, found ${_}`),[]):(_=_.map(D=>$me.join(p.extensionPath,D)),my.trace(`Extension ${p.id} contributes csharpExtensionLoadPaths: ${_}`),_)}),f=fs.extensionsPaths??[];return d.concat(f)}}function s3t(r,e,t){Sa()||JG.createStatusItem(r,t),XG.createStatusItem(r,e)}function Hme(r){let e=process.env.DOTNET_ROSLYN_SERVER_PATH;if(e?my.appendLine(`Using server path override from DOTNET_ROSLYN_SERVER_PATH: ${e}`):(e=ds.serverPath,e||(e=a3t(r))),!Wme.existsSync(e))throw new Error(`Cannot find language server in path '${e}'`);return e}function a3t(r){let e=__dirname,t=$me.join(e,"..",".roslyn","Microsoft.CodeAnalysis.LanguageServer"),n="";r.isWindows()?n=".exe":r.isMacOS()&&(n=".dll");let i=`${t}${n}`;return Wme.existsSync(i)||(i=`${t}.dll`),i}var QGe=ye(cl()),ZGe=ye(en()),f8=class{constructor(e){this._serverInitialized=e}async sendRequest(e,t,n){let i=await this._serverInitialized,o=new QGe.RequestType(e.method);return await i.sendRequest(o,t,n)}async sendRequestWithProgress(e,t,n,i){let o=await this._serverInitialized,s=new ZGe.ProtocolRequestType(e.method);return await o.sendRequestWithProgress(s,t,n,i)}};var h8=class{constructor(e){this._languageServerPromise=e}async registerSolutionSnapshot(e){return(await this._languageServerPromise).registerSolutionSnapshot(e)}};var e8e=ye(cl()),p8=class{constructor(e){this._languageServerPromise=e}async buildStarted(){(await this._languageServerPromise)._buildDiagnosticService.clearDiagnostics()}async reportBuildResult(e){let t=await this._languageServerPromise,n=await t.getBuildOnlyDiagnosticIds(e8e.CancellationToken.None);await t._buildDiagnosticService.setBuildDiagnostics(e,n)}};function r8e(r,e,t,n,i,o,s,a){let c=new x5;r.subscriptions.push(c);let u=new Tk,l=E5(r,r.extension.extensionPath,n,s,e,!1,u),d=new Promise((P,M)=>{c.onServerStateChange(async A=>{A.state===3&&P()})}),f=XGe(r,e,t,i,o,c,u);CA.initializeDebugSessionHandlers(r),c3t(s,i);let p=a(f),_=new f8(f);return{initializationFinished:async()=>{await p,await l,await f,await d},profferBrokeredServices:P=>u3t(r,P,f),logDirectory:r.logUri.fsPath,determineBrowserType:Sk.determineBrowserType,experimental:{sendServerRequest:async(P,M,A)=>await _.sendRequest(P,M,A),sendServerRequestWithProgress:async(P,M,A,U)=>await _.sendRequestWithProgress(P,M,A,U),languageServerEvents:c},getComponentFolder:P=>RGe(P,fs)}}function c3t(r,e){r?.activate().then(async t=>{t&&t.serviceBroker?(Ime().profferServiceBroker(t.serviceBroker,[A_.dotnetDebugConfigurationService.moniker]),t.serverProcessLoaded(async()=>{await CA.onCsDevKitInitialized(await t.getBrokeredServiceServerPipeName())}),await t8e.commands.executeCommand("setContext","dotnet.debug.serviceBrokerAvailable",!0)):e.error(`'${eS}' activated but did not return expected Exports.`)},()=>{e.error(`Failed to activate '${eS}'`)})}function u3t(r,e,t){r.subscriptions.push(e.profferServiceFactory(A_.solutionSnapshotProviderRegistration,(n,i,o)=>new h8(t)),e.profferServiceFactory(A_.csharpExtensionBuildResultService,(n,i,o)=>new p8(t)))}async function l3t(r){let e=process.hrtime(),t=y2.window.createOutputChannel("C#",{log:!0});t.trace("Activating C# Extension"),sge(r.extension.extensionPath);let n=r.extension.packageJSON.contributes.debuggers[0].aiKey,i=new n8e.default(n);r.subscriptions.push(i);let o=new Jj,s=new Kj(t),a=new Yj(t);o.subscribe(s.post),o.subscribe(a.post);let c;try{c=await ZR.GetCurrent()}catch(pe){throw o.post(new z2),pe}if(!jxe(r,c))return null;await qxe(r),await Mxe(y2);let u=LY(y2),l=["Debugger","Razor"],d=Sa(),f=!d&&ds.useOmnisharpServer;f&&l.push("OmniSharp");let p=eCe(y2),_=f&&qr.useModernNet!==!0,D=async pe=>ZP(pe,p,o,tx),P=await Oxe(r.extension.packageJSON,r.extension.extensionPath,D,o,c,_,l),M=async pe=>{let ve=Promise.resolve();return P&&(ve=kSe(r.extension,r,c,o,t,pe)),ve},A;f?A=_Ve(r,c,u,p,o,t,i,M):A=r8e(r,c,u,o,t,i,d,M);let U=process.hrtime(e),ne=(U[0]*1e3+U[1]/1e6).toFixed(3);return t.trace("C# Extension activated in "+ne+"ms."),A}0&&(module.exports={activate});
/*! Bundled license information:

@microsoft/1ds-core-js/dist/es5/ms.core.js:
  (*!
   * 1DS JS SDK Core, 4.0.4
   * Copyright (c) Microsoft and contributors. All rights reserved.
   * (Microsoft Internal Only)
   *)

@microsoft/1ds-post-js/dist/es5/ms.post.js:
  (*!
   * 1DS JS SDK POST plugin, 4.0.4
   * Copyright (c) Microsoft and contributors. All rights reserved.
   * (Microsoft Internal Only)
   *)

@microsoft/applicationinsights-common/dist/es5/applicationinsights-common.js:
  (*!
   * Application Insights JavaScript SDK - Common, 3.0.5
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)

@microsoft/applicationinsights-web-basic/dist/es5/applicationinsights-web-basic.js:
  (*!
   * Application Insights JavaScript Web SDK - Basic, 3.0.5
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

event-lite/event-lite.js:
  (**
   * event-lite.js - Light-weight EventEmitter (less than 1KB when gzipped)
   *
   * @copyright Yusuke Kawasaki
   * @license MIT
   * @constructor
   * @see https://github.com/kawanet/event-lite
   * @see http://kawanet.github.io/event-lite/EventLite.html
   * @example
   * var EventLite = require("event-lite");
   *
   * function MyClass() {...}             // your class
   *
   * EventLite.mixin(MyClass.prototype);  // import event methods
   *
   * var obj = new MyClass();
   * obj.on("foo", function() {...});     // add event listener
   * obj.once("bar", function() {...});   // add one-time event listener
   * obj.emit("foo");                     // dispatch event
   * obj.emit("bar");                     // dispatch another event
   * obj.off("foo");                      // remove event listener
   *)
*/
